var l6=Object.defineProperty;var u6=(n,t,e)=>t in n?l6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var me=(n,t,e)=>u6(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var KF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var j1={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function h6(){if($_)return Ad;$_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Ad.Fragment=t,Ad.jsx=e,Ad.jsxs=e,Ad}var Q_;function f6(){return Q_||(Q_=1,j1.exports=h6()),j1.exports}var ht=f6(),F1={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function d6(){if(J_)return Ye;J_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function R(Q,St,j){this.props=Q,this.context=St,this.refs=N,this.updater=j||_}R.prototype.isReactComponent={},R.prototype.setState=function(Q,St){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,St,"setState")},R.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function C(){}C.prototype=R.prototype;function O(Q,St,j){this.props=Q,this.context=St,this.refs=N,this.updater=j||_}var G=O.prototype=new C;G.constructor=O,E(G,R.prototype),G.isPureReactComponent=!0;var et=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function z(Q,St,j,W,Z,st){return j=st.ref,{$$typeof:n,type:Q,key:St,ref:j!==void 0?j:null,props:st}}function P(Q,St){return z(Q.type,St,void 0,void 0,void 0,Q.props)}function U(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function X(Q){var St={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(j){return St[j]})}var L=/\/+/g;function D(Q,St){return typeof Q=="object"&&Q!==null&&Q.key!=null?X(""+Q.key):St.toString(36)}function F(){}function at(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(F,F):(Q.status="pending",Q.then(function(St){Q.status==="pending"&&(Q.status="fulfilled",Q.value=St)},function(St){Q.status==="pending"&&(Q.status="rejected",Q.reason=St)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function wt(Q,St,j,W,Z){var st=typeof Q;(st==="undefined"||st==="boolean")&&(Q=null);var lt=!1;if(Q===null)lt=!0;else switch(st){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(Q.$$typeof){case n:case t:lt=!0;break;case p:return lt=Q._init,wt(lt(Q._payload),St,j,W,Z)}}if(lt)return Z=Z(Q),lt=W===""?"."+D(Q,0):W,et(Z)?(j="",lt!=null&&(j=lt.replace(L,"$&/")+"/"),wt(Z,St,j,"",function(kt){return kt})):Z!=null&&(U(Z)&&(Z=P(Z,j+(Z.key==null||Q&&Q.key===Z.key?"":(""+Z.key).replace(L,"$&/")+"/")+lt)),St.push(Z)),1;lt=0;var Nt=W===""?".":W+":";if(et(Q))for(var Et=0;Et<Q.length;Et++)W=Q[Et],st=Nt+D(W,Et),lt+=wt(W,St,j,st,Z);else if(Et=w(Q),typeof Et=="function")for(Q=Et.call(Q),Et=0;!(W=Q.next()).done;)W=W.value,st=Nt+D(W,Et++),lt+=wt(W,St,j,st,Z);else if(st==="object"){if(typeof Q.then=="function")return wt(at(Q),St,j,W,Z);throw St=String(Q),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.")}return lt}function nt(Q,St,j){if(Q==null)return Q;var W=[],Z=0;return wt(Q,W,"","",function(st){return St.call(j,st,Z++)}),W}function ct(Q){if(Q._status===-1){var St=Q._result;St=St(),St.then(function(j){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=j)},function(j){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=j)}),Q._status===-1&&(Q._status=0,Q._result=St)}if(Q._status===1)return Q._result.default;throw Q._result}var ft=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var St=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(St))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function Tt(){}return Ye.Children={map:nt,forEach:function(Q,St,j){nt(Q,function(){St.apply(this,arguments)},j)},count:function(Q){var St=0;return nt(Q,function(){St++}),St},toArray:function(Q){return nt(Q,function(St){return St})||[]},only:function(Q){if(!U(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Ye.Component=R,Ye.Fragment=e,Ye.Profiler=r,Ye.PureComponent=O,Ye.StrictMode=i,Ye.Suspense=c,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return tt.H.useMemoCache(Q)}},Ye.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ye.cloneElement=function(Q,St,j){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var W=E({},Q.props),Z=Q.key,st=void 0;if(St!=null)for(lt in St.ref!==void 0&&(st=void 0),St.key!==void 0&&(Z=""+St.key),St)!mt.call(St,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&St.ref===void 0||(W[lt]=St[lt]);var lt=arguments.length-2;if(lt===1)W.children=j;else if(1<lt){for(var Nt=Array(lt),Et=0;Et<lt;Et++)Nt[Et]=arguments[Et+2];W.children=Nt}return z(Q.type,Z,void 0,void 0,st,W)},Ye.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:s,_context:Q},Q},Ye.createElement=function(Q,St,j){var W,Z={},st=null;if(St!=null)for(W in St.key!==void 0&&(st=""+St.key),St)mt.call(St,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Z[W]=St[W]);var lt=arguments.length-2;if(lt===1)Z.children=j;else if(1<lt){for(var Nt=Array(lt),Et=0;Et<lt;Et++)Nt[Et]=arguments[Et+2];Z.children=Nt}if(Q&&Q.defaultProps)for(W in lt=Q.defaultProps,lt)Z[W]===void 0&&(Z[W]=lt[W]);return z(Q,st,void 0,void 0,null,Z)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(Q){return{$$typeof:u,render:Q}},Ye.isValidElement=U,Ye.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:ct}},Ye.memo=function(Q,St){return{$$typeof:f,type:Q,compare:St===void 0?null:St}},Ye.startTransition=function(Q){var St=tt.T,j={};tt.T=j;try{var W=Q(),Z=tt.S;Z!==null&&Z(j,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Tt,ft)}catch(st){ft(st)}finally{tt.T=St}},Ye.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ye.use=function(Q){return tt.H.use(Q)},Ye.useActionState=function(Q,St,j){return tt.H.useActionState(Q,St,j)},Ye.useCallback=function(Q,St){return tt.H.useCallback(Q,St)},Ye.useContext=function(Q){return tt.H.useContext(Q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(Q,St){return tt.H.useDeferredValue(Q,St)},Ye.useEffect=function(Q,St,j){var W=tt.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(Q,St)},Ye.useId=function(){return tt.H.useId()},Ye.useImperativeHandle=function(Q,St,j){return tt.H.useImperativeHandle(Q,St,j)},Ye.useInsertionEffect=function(Q,St){return tt.H.useInsertionEffect(Q,St)},Ye.useLayoutEffect=function(Q,St){return tt.H.useLayoutEffect(Q,St)},Ye.useMemo=function(Q,St){return tt.H.useMemo(Q,St)},Ye.useOptimistic=function(Q,St){return tt.H.useOptimistic(Q,St)},Ye.useReducer=function(Q,St,j){return tt.H.useReducer(Q,St,j)},Ye.useRef=function(Q){return tt.H.useRef(Q)},Ye.useState=function(Q){return tt.H.useState(Q)},Ye.useSyncExternalStore=function(Q,St,j){return tt.H.useSyncExternalStore(Q,St,j)},Ye.useTransition=function(){return tt.H.useTransition()},Ye.version="19.1.0",Ye}var Z_;function Ly(){return Z_||(Z_=1,F1.exports=d6()),F1.exports}var $e=Ly();const US=c6($e);var B1={exports:{}},Sd={},V1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function p6(){return tb||(tb=1,function(n){function t(nt,ct){var ft=nt.length;nt.push(ct);t:for(;0<ft;){var Tt=ft-1>>>1,Q=nt[Tt];if(0<r(Q,ct))nt[Tt]=ct,nt[ft]=Q,ft=Tt;else break t}}function e(nt){return nt.length===0?null:nt[0]}function i(nt){if(nt.length===0)return null;var ct=nt[0],ft=nt.pop();if(ft!==ct){nt[0]=ft;t:for(var Tt=0,Q=nt.length,St=Q>>>1;Tt<St;){var j=2*(Tt+1)-1,W=nt[j],Z=j+1,st=nt[Z];if(0>r(W,ft))Z<Q&&0>r(st,W)?(nt[Tt]=st,nt[Z]=ft,Tt=Z):(nt[Tt]=W,nt[j]=ft,Tt=j);else if(Z<Q&&0>r(st,ft))nt[Tt]=st,nt[Z]=ft,Tt=Z;else break t}}return ct}function r(nt,ct){var ft=nt.sortIndex-ct.sortIndex;return ft!==0?ft:nt.id-ct.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var c=[],f=[],p=1,y=null,w=3,_=!1,E=!1,N=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function et(nt){for(var ct=e(f);ct!==null;){if(ct.callback===null)i(f);else if(ct.startTime<=nt)i(f),ct.sortIndex=ct.expirationTime,t(c,ct);else break;ct=e(f)}}function tt(nt){if(N=!1,et(nt),!E)if(e(c)!==null)E=!0,mt||(mt=!0,D());else{var ct=e(f);ct!==null&&wt(tt,ct.startTime-nt)}}var mt=!1,z=-1,P=5,U=-1;function X(){return R?!0:!(n.unstable_now()-U<P)}function L(){if(R=!1,mt){var nt=n.unstable_now();U=nt;var ct=!0;try{t:{E=!1,N&&(N=!1,O(z),z=-1),_=!0;var ft=w;try{e:{for(et(nt),y=e(c);y!==null&&!(y.expirationTime>nt&&X());){var Tt=y.callback;if(typeof Tt=="function"){y.callback=null,w=y.priorityLevel;var Q=Tt(y.expirationTime<=nt);if(nt=n.unstable_now(),typeof Q=="function"){y.callback=Q,et(nt),ct=!0;break e}y===e(c)&&i(c),et(nt)}else i(c);y=e(c)}if(y!==null)ct=!0;else{var St=e(f);St!==null&&wt(tt,St.startTime-nt),ct=!1}}break t}finally{y=null,w=ft,_=!1}ct=void 0}}finally{ct?D():mt=!1}}}var D;if(typeof G=="function")D=function(){G(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,at=F.port2;F.port1.onmessage=L,D=function(){at.postMessage(null)}}else D=function(){C(L,0)};function wt(nt,ct){z=C(function(){nt(n.unstable_now())},ct)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(nt){nt.callback=null},n.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<nt?Math.floor(1e3/nt):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(nt){switch(w){case 1:case 2:case 3:var ct=3;break;default:ct=w}var ft=w;w=ct;try{return nt()}finally{w=ft}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(nt,ct){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var ft=w;w=nt;try{return ct()}finally{w=ft}},n.unstable_scheduleCallback=function(nt,ct,ft){var Tt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Tt+ft:Tt):ft=Tt,nt){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ft+Q,nt={id:p++,callback:ct,priorityLevel:nt,startTime:ft,expirationTime:Q,sortIndex:-1},ft>Tt?(nt.sortIndex=ft,t(f,nt),e(c)===null&&nt===e(f)&&(N?(O(z),z=-1):N=!0,wt(tt,ft-Tt))):(nt.sortIndex=Q,t(c,nt),E||_||(E=!0,mt||(mt=!0,D()))),nt},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(nt){var ct=w;return function(){var ft=w;w=ct;try{return nt.apply(this,arguments)}finally{w=ft}}}}(U1)),U1}var eb;function g6(){return eb||(eb=1,V1.exports=p6()),V1.exports}var z1={exports:{}},Gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function m6(){if(nb)return Gr;nb=1;var n=Ly();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:c,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gr.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(c,f,null,p)},Gr.flushSync=function(c){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=f,i.p=p,i.d.f()}},Gr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Gr.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Gr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:_}):p==="script"&&i.d.X(c,{crossOrigin:y,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Gr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Gr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);i.d.L(c,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Gr.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Gr.requestFormReset=function(c){i.d.r(c)},Gr.unstable_batchedUpdates=function(c,f){return c(f)},Gr.useFormState=function(c,f,p){return o.H.useFormState(c,f,p)},Gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Gr.version="19.1.0",Gr}var ib;function y6(){if(ib)return z1.exports;ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),z1.exports=m6(),z1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function v6(){if(rb)return Sd;rb=1;var n=g6(),t=Ly(),e=y6();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,d=l;;){var v=h.return;if(v===null)break;var A=v.alternate;if(A===null){if(d=v.return,d!==null){h=d;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===h)return u(v),a;if(A===d)return u(v),l;A=A.sibling}throw Error(i(188))}if(h.return!==d.return)h=v,d=A;else{for(var M=!1,$=v.child;$;){if($===h){M=!0,h=v,d=A;break}if($===d){M=!0,d=v,h=A;break}$=$.sibling}if(!M){for($=A.child;$;){if($===h){M=!0,h=A,d=v;break}if($===d){M=!0,d=A,h=v;break}$=$.sibling}if(!M)throw Error(i(189))}}if(h.alternate!==d)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),G=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function at(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case R:return"Profiler";case N:return"StrictMode";case tt:return"Suspense";case mt:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case G:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case et:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:at(a.type)||"Memo";case P:l=a._payload,a=a._init;try{return at(a(l))}catch{}}return null}var wt=Array.isArray,nt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Tt=[],Q=-1;function St(a){return{current:a}}function j(a){0>Q||(a.current=Tt[Q],Tt[Q]=null,Q--)}function W(a,l){Q++,Tt[Q]=a.current,a.current=l}var Z=St(null),st=St(null),lt=St(null),Nt=St(null);function Et(a,l){switch(W(lt,l),W(st,a),W(Z,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?x_(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=x_(l),a=T_(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}j(Z),W(Z,a)}function kt(){j(Z),j(st),j(lt)}function Jt(a){a.memoizedState!==null&&W(Nt,a);var l=Z.current,h=T_(l,a.type);l!==h&&(W(st,a),W(Z,h))}function $t(a){st.current===a&&(j(Z),j(st)),Nt.current===a&&(j(Nt),yd._currentValue=ft)}var ne=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,Ft=n.unstable_shouldYield,ot=n.unstable_requestPaint,Se=n.unstable_now,he=n.unstable_getCurrentPriorityLevel,Qt=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ae=n.unstable_LowPriority,ve=n.unstable_IdlePriority,Ie=n.log,Fe=n.unstable_setDisableYieldValue,_e=null,ge=null;function He(a){if(typeof Ie=="function"&&Fe(a),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(_e,a)}catch{}}var fe=Math.clz32?Math.clz32:ri,We=Math.log,oe=Math.LN2;function ri(a){return a>>>=0,a===0?32:31-(We(a)/oe|0)|0}var Ke=256,tr=4194304;function Je(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Nn(a,l,h){var d=a.pendingLanes;if(d===0)return 0;var v=0,A=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var $=d&134217727;return $!==0?(d=$&~A,d!==0?v=Je(d):(M&=$,M!==0?v=Je(M):h||(h=$&~a,h!==0&&(v=Je(h))))):($=d&~A,$!==0?v=Je($):M!==0?v=Je(M):h||(h=d&~a,h!==0&&(v=Je(h)))),v===0?0:l!==0&&l!==v&&(l&A)===0&&(A=v&-v,h=l&-l,A>=h||A===32&&(h&4194048)!==0)?l:v}function hr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ln(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(){var a=Ke;return Ke<<=1,(Ke&4194048)===0&&(Ke=256),a}function Un(){var a=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),a}function Ii(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function er(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zn(a,l,h,d,v,A){var M=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var $=a.entanglements,ut=a.expirationTimes,Pt=a.hiddenUpdates;for(h=M&~h;0<h;){var Vt=31-fe(h),Wt=1<<Vt;$[Vt]=0,ut[Vt]=-1;var Dt=Pt[Vt];if(Dt!==null)for(Pt[Vt]=null,Vt=0;Vt<Dt.length;Vt++){var Ot=Dt[Vt];Ot!==null&&(Ot.lane&=-536870913)}h&=~Wt}d!==0&&xe(a,d,0),A!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=A&~(M&~l))}function xe(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-fe(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function un(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var d=31-fe(h),v=1<<d;v&l|a[d]&l&&(a[d]|=l),h&=~v}}function Dr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function si(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nr(){var a=ct.p;return a!==0?a:(a=window.event,a===void 0?32:H_(a.type))}function as(a,l){var h=ct.p;try{return ct.p=a,l()}finally{ct.p=h}}var le=Math.random().toString(36).slice(2),Rn="__reactFiber$"+le,Cn="__reactProps$"+le,Kn="__reactContainer$"+le,Zn="__reactEvents$"+le,ai="__reactListeners$"+le,_i="__reactHandles$"+le,Ma="__reactResources$"+le,Sr="__reactMarker$"+le;function Wi(a){delete a[Rn],delete a[Cn],delete a[Zn],delete a[ai],delete a[_i]}function Li(a){var l=a[Rn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Kn]||h[Rn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=C_(a);a!==null;){if(h=a[Rn])return h;a=C_(a)}return l}a=h,h=a.parentNode}return null}function bi(a){if(a=a[Rn]||a[Kn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Pi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function qn(a){var l=a[Ma];return l||(l=a[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bn(a){a[Sr]=!0}var Bs=new Set,Vs={};function fr(a,l){Or(a,l),Or(a+"Capture",l)}function Or(a,l){for(Vs[a]=l,a=0;a<l.length;a++)Bs.add(l[a])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},Fa={};function ou(a){return ne.call(Fa,a)?!0:ne.call(pl,a)?!1:ja.test(a)?Fa[a]=!0:(pl[a]=!0,!1)}function os(a,l,h){if(ou(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function ls(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function ki(a,l,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+d)}}var Us,lu;function ps(a){if(Us===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Us=l&&l[1]||"",lu=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+a+lu}var _o=!1;function zs(a,l){if(!a||_o)return"";_o=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Wt=function(){throw Error()};if(Object.defineProperty(Wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wt,[])}catch(Ot){var Dt=Ot}Reflect.construct(a,[],Wt)}else{try{Wt.call()}catch(Ot){Dt=Ot}a.call(Wt.prototype)}}else{try{throw Error()}catch(Ot){Dt=Ot}(Wt=a())&&typeof Wt.catch=="function"&&Wt.catch(function(){})}}catch(Ot){if(Ot&&Dt&&typeof Ot.stack=="string")return[Ot.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=d.DetermineComponentFrameRoot(),M=A[0],$=A[1];if(M&&$){var ut=M.split(`
`),Pt=$.split(`
`);for(v=d=0;d<ut.length&&!ut[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Pt.length&&!Pt[v].includes("DetermineComponentFrameRoot");)v++;if(d===ut.length||v===Pt.length)for(d=ut.length-1,v=Pt.length-1;1<=d&&0<=v&&ut[d]!==Pt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ut[d]!==Pt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ut[d]!==Pt[v]){var Vt=`
`+ut[d].replace(" at new "," at ");return a.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",a.displayName)),Vt}while(1<=d&&0<=v);break}}}finally{_o=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ps(h):""}function gl(a){switch(a.tag){case 26:case 27:case 5:return ps(a.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return zs(a.type,!1);case 11:return zs(a.type.render,!1);case 1:return zs(a.type,!0);case 31:return ps("Activity");default:return""}}function Hn(a){try{var l="";do l+=gl(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Gi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function bo(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function uu(a){var l=bo(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,A=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(M){d=""+M,A.call(this,M)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ca(a){a._valueTracker||(a._valueTracker=uu(a))}function ml(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),d="";return a&&(d=bo(a)?a.checked?"true":"false":a.value),a=d,a!==h?(l.setValue(a),!0):!1}function ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var wo=/[\n"\\]/g;function dn(a){return a.replace(wo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function rr(a,l,h,d,v,A,M,$){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),l!=null?M==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Gi(l)):a.value!==""+Gi(l)&&(a.value=""+Gi(l)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),l!=null?fa(a,M,Gi(l)):h!=null?fa(a,M,Gi(h)):d!=null&&a.removeAttribute("value"),v==null&&A!=null&&(a.defaultChecked=!!A),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+Gi($):a.removeAttribute("name")}function ha(a,l,h,d,v,A,M,$){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;h=h!=null?""+Gi(h):"",l=l!=null?""+Gi(l):h,$||l===a.value||(a.value=l),a.defaultValue=l}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=$?a.checked:!!d,a.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M)}function fa(a,l,h){l==="number"&&ir(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function gs(a,l,h,d){if(a=a.options,l){l={};for(var v=0;v<h.length;v++)l["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=l.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Gi(h),l=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function wn(a,l,h){if(l!=null&&(l=""+Gi(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Gi(h):""}function da(a,l,h,d){if(l==null){if(d!=null){if(h!=null)throw Error(i(92));if(wt(d)){if(1<d.length)throw Error(i(93));d=d[0]}h=d}h==null&&(h=""),l=h}h=Gi(l),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function Mr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(a,l,h){var d=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,h):typeof h!="number"||h===0||qs.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function yl(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in l)d=l[v],l.hasOwnProperty(v)&&h[v]!==d&&cu(a,v,d)}else for(var A in l)l.hasOwnProperty(A)&&cu(a,A,l[A])}function vl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(a){return Ao.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ms=null;function Dn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Gs=null,ys=null;function Ne(a){var l=bi(a);if(l&&(a=l.stateNode)){var h=a[Cn]||null;t:switch(a=l.stateNode,l.type){case"input":if(rr(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var d=h[l];if(d!==a&&d.form===a.form){var v=d[Cn]||null;if(!v)throw Error(i(90));rr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<h.length;l++)d=h[l],d.form===a.form&&ml(d)}break t;case"textarea":wn(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&gs(a,!!h.multiple,l,!1)}}}var vs=!1;function hu(a,l,h){if(vs)return a(l,h);vs=!0;try{var d=a(l);return d}finally{if(vs=!1,(Gs!==null||ys!==null)&&(lg(),Gs&&(l=Gs,a=ys,ys=Gs=null,Ne(l),a)))for(l=0;l<a.length;l++)Ne(a[l])}}function dr(a,l){var h=a.stateNode;if(h===null)return null;var d=h[Cn]||null;if(d===null)return null;h=d[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(jr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){xr=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{xr=!1}var Fr=null,pa=null,Ys=null;function _l(){if(Ys)return Ys;var a,l=pa,h=l.length,d,v="value"in Fr?Fr.value:Fr.textContent,A=v.length;for(a=0;a<h&&l[a]===v[a];a++);var M=h-a;for(d=1;d<=M&&l[h-d]===v[A-d];d++);return Ys=v.slice(a,1<d?1-d:void 0)}function Br(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function pr(){return!0}function bs(){return!1}function wi(a){function l(h,d,v,A,M){this._reactName=h,this._targetInst=v,this.type=d,this.nativeEvent=A,this.target=M,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(h=a[$],this[$]=h?h(A):A[$]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?pr:bs,this.isPropagationStopped=bs,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),l}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=wi(nn),ws=p({},nn,{view:0,detail:0}),bl=wi(ws),Ba,Va,us,gr=p({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==us&&(us&&a.type==="mousemove"?(Ba=a.screenX-us.screenX,Va=a.screenY-us.screenY):Va=Ba=0,us=a),Ba)},movementY:function(a){return"movementY"in a?a.movementY:Va}}),Ai=wi(gr),fu=p({},gr,{dataTransfer:0}),ma=wi(fu),sr=p({},ws,{relatedTarget:0}),ya=wi(sr),Ks=p({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),So=wi(Ks),Ua=p({},nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xo=wi(Ua),wl=p({},nn,{data:0}),za=wi(wl),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ha(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=To[a])?!!l[a]:!1}function _a(){return Ha}var du=p({},ws,{key:function(a){if(a.key){var l=va[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Br(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qa[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(a){return a.type==="keypress"?Br(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Br(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Xs=wi(du),ba=p({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=wi(ba),mr=p({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Eo=wi(mr),S=p({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=wi(S),rt=p({},gr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=wi(rt),bt=p({},nn,{newState:0,oldState:0}),jt=wi(bt),Kt=[9,13,27,32],ie=jr&&"CompositionEvent"in window,m=null;jr&&"documentMode"in document&&(m=document.documentMode);var T=jr&&"TextEvent"in window&&!m,k=jr&&(!ie||m&&8<m&&11>=m),K=" ",_t=!1;function Lt(a,l){switch(a){case"keyup":return Kt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Re=!1;function rn(a,l){switch(a){case"compositionend":return Xt(l);case"keypress":return l.which!==32?null:(_t=!0,K);case"textInput":return a=l.data,a===K&&_t?null:a;default:return null}}function Be(a,l){if(Re)return a==="compositionend"||!ie&&Lt(a,l)?(a=_l(),Ys=pa=Fr=null,Re=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k&&l.locale!=="ko"?null:l.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!An[a.type]:l==="textarea"}function As(a,l,h,d){Gs?ys?ys.push(d):ys=[d]:Gs=d,l=pg(l,"onChange"),0<l.length&&(h=new ga("onChange","change",null,h,d),a.push({event:h,listeners:l}))}var hi=null,Vr=null;function wa(a){__(a,0)}function No(a){var l=Pi(a);if(ml(l))return a}function pu(a,l){if(a==="change")return l}var Al=!1;if(jr){var Di;if(jr){var Ro="oninput"in document;if(!Ro){var Sl=document.createElement("div");Sl.setAttribute("oninput","return;"),Ro=typeof Sl.oninput=="function"}Di=Ro}else Di=!1;Al=Di&&(!document.documentMode||9<document.documentMode)}function xl(){hi&&(hi.detachEvent("onpropertychange",gu),Vr=hi=null)}function gu(a){if(a.propertyName==="value"&&No(Vr)){var l=[];As(l,Vr,a,Dn(a)),hu(wa,l)}}function Ur(a,l,h){a==="focusin"?(xl(),hi=l,Vr=h,hi.attachEvent("onpropertychange",gu)):a==="focusout"&&xl()}function Ff(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return No(Vr)}function Tc(a,l){if(a==="click")return No(l)}function wh(a,l){if(a==="input"||a==="change")return No(l)}function Ss(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Yi=typeof Object.is=="function"?Object.is:Ss;function Co(a,l){if(Yi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),d=Object.keys(l);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var v=h[d];if(!ne.call(l,v)||!Yi(a[v],l[v]))return!1}return!0}function Ec(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ga(a,l){var h=Ec(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=l&&d>=l)return{node:h,offset:l-a};a=d}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Ec(h)}}function Io(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Io(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Tr(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ir(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=ir(a.document)}return l}function ar(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Lo=jr&&"documentMode"in document&&11>=document.documentMode,zr=null,$s=null,Aa=null,Qs=!1;function oi(a,l,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Qs||zr==null||zr!==ir(d)||(d=zr,"selectionStart"in d&&ar(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Aa&&Co(Aa,d)||(Aa=d,d=pg($s,"onSelect"),0<d.length&&(l=new ga("onSelect","select",null,l,h),a.push({event:l,listeners:d}),l.target=zr)))}function Js(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Si={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},qr={},Tl={};jr&&(Tl=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Sa(a){if(qr[a])return qr[a];if(!Si[a])return a;var l=Si[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Tl)return qr[a]=l[h];return a}var mu=Sa("animationend"),Po=Sa("animationiteration"),ko=Sa("animationstart"),Do=Sa("transitionrun"),El=Sa("transitionstart"),yu=Sa("transitioncancel"),Oo=Sa("transitionend"),Ya=new Map,Nl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nl.push("scrollEnd");function li(a,l){Ya.set(a,l),fr(l,[a])}var cs=new WeakMap;function Ze(a,l){if(typeof a=="object"&&a!==null){var h=cs.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Hn(l)},cs.set(a,l),l)}return{value:a,source:l,stack:Hn(l)}}var tn=[],Wn=0,fi=0;function xs(){for(var a=Wn,l=fi=Wn=0;l<a;){var h=tn[l];tn[l++]=null;var d=tn[l];tn[l++]=null;var v=tn[l];tn[l++]=null;var A=tn[l];if(tn[l++]=null,d!==null&&v!==null){var M=d.pending;M===null?v.next=v:(v.next=M.next,M.next=v),d.pending=v}A!==0&&Ah(h,v,A)}}function Mo(a,l,h,d){tn[Wn++]=a,tn[Wn++]=l,tn[Wn++]=h,tn[Wn++]=d,fi|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function jo(a,l,h,d){return Mo(a,l,h,d),Rl(a)}function Ka(a,l){return Mo(a,null,null,l),Rl(a)}function Ah(a,l,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var v=!1,A=a.return;A!==null;)A.childLanes|=h,d=A.alternate,d!==null&&(d.childLanes|=h),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(v=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,v&&l!==null&&(v=31-fe(h),a=A.hiddenUpdates,d=a[v],d===null?a[v]=[l]:d.push(l),l.lane=h|536870912),A):null}function Rl(a){if(50<ud)throw ud=0,o1=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ki={};function Ts(a,l,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(a,l,h,d){return new Ts(a,l,h,d)}function vu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xa(a,l){var h=a.alternate;return h===null?(h=yr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Nc(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Cl(a,l,h,d,v,A){var M=0;if(d=a,typeof a=="function")vu(a)&&(M=1);else if(typeof a=="string")M=XE(a,h,Z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case U:return a=yr(31,h,l,v),a.elementType=U,a.lanes=A,a;case E:return Xa(h.children,v,A,l);case N:M=8,v|=24;break;case R:return a=yr(12,h,l,v|2),a.elementType=R,a.lanes=A,a;case tt:return a=yr(13,h,l,v),a.elementType=tt,a.lanes=A,a;case mt:return a=yr(19,h,l,v),a.elementType=mt,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case G:M=10;break t;case O:M=9;break t;case et:M=11;break t;case z:M=14;break t;case P:M=16,d=null;break t}M=29,h=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=yr(M,h,l,v),l.elementType=a,l.type=d,l.lanes=A,l}function Xa(a,l,h,d){return a=yr(7,a,d,l),a.lanes=h,a}function Sh(a,l,h){return a=yr(6,a,null,l),a.lanes=h,a}function Rc(a,l,h){return l=yr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Fo=[],$a=0,_u=null,xh=0,Es=[],hs=0,Il=null,Qa=1,Ja="";function Ll(a,l){Fo[$a++]=xh,Fo[$a++]=_u,_u=a,xh=l}function Pp(a,l,h){Es[hs++]=Qa,Es[hs++]=Ja,Es[hs++]=Il,Il=a;var d=Qa;a=Ja;var v=32-fe(d)-1;d&=~(1<<v),h+=1;var A=32-fe(l)+v;if(30<A){var M=v-v%5;A=(d&(1<<M)-1).toString(32),d>>=M,v-=M,Qa=1<<32-fe(l)+v|h<<v|d,Ja=A+a}else Qa=1<<A|h<<v|d,Ja=a}function Cc(a){a.return!==null&&(Ll(a,1),Pp(a,1,0))}function Ic(a){for(;a===_u;)_u=Fo[--$a],Fo[$a]=null,xh=Fo[--$a],Fo[$a]=null;for(;a===Il;)Il=Es[--hs],Es[hs]=null,Ja=Es[--hs],Es[hs]=null,Qa=Es[--hs],Es[hs]=null}var Oi=null,ui=null,_n=!1,Bo=null,Ta=!1,Bf=Error(i(519));function Pl(a){var l=Error(i(418,""));throw bu(Ze(l,a)),Bf}function kp(a){var l=a.stateNode,h=a.type,d=a.memoizedProps;switch(l[Rn]=a,l[Cn]=d,h){case"dialog":on("cancel",l),on("close",l);break;case"iframe":case"object":case"embed":on("load",l);break;case"video":case"audio":for(h=0;h<hd.length;h++)on(hd[h],l);break;case"source":on("error",l);break;case"img":case"image":case"link":on("error",l),on("load",l);break;case"details":on("toggle",l);break;case"input":on("invalid",l),ha(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ca(l);break;case"select":on("invalid",l);break;case"textarea":on("invalid",l),da(l,d.value,d.defaultValue,d.children),ca(l)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||d.suppressHydrationWarning===!0||S_(l.textContent,h)?(d.popover!=null&&(on("beforetoggle",l),on("toggle",l)),d.onScroll!=null&&on("scroll",l),d.onScrollEnd!=null&&on("scrollend",l),d.onClick!=null&&(l.onclick=gg),l=!0):l=!1,l||Pl(a)}function Za(a){for(Oi=a.return;Oi;)switch(Oi.tag){case 5:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:Oi=Oi.return}}function Er(a){if(a!==Oi)return!1;if(!_n)return Za(a),_n=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||S1(a.type,a.memoizedProps)),h=!h),h&&ui&&Pl(a),Za(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){ui=oo(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}ui=null}}else l===27?(l=ui,ju(a.type)?(a=N1,N1=null,ui=a):ui=l):ui=Oi?oo(a.stateNode.nextSibling):null;return!0}function fs(){ui=Oi=null,_n=!1}function Dp(){var a=Bo;return a!==null&&(Cs===null?Cs=a:Cs.push.apply(Cs,a),Bo=null),a}function bu(a){Bo===null?Bo=[a]:Bo.push(a)}var Ea=St(null),Xi=null,to=null;function Vo(a,l,h){W(Ea,l._currentValue),l._currentValue=h}function Na(a){a._currentValue=Ea.current,j(Ea)}function Th(a,l,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===h)break;a=a.return}}function Eh(a,l,h,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var A=v.dependencies;if(A!==null){var M=v.child;A=A.firstContext;t:for(;A!==null;){var $=A;A=v;for(var ut=0;ut<l.length;ut++)if($.context===l[ut]){A.lanes|=h,$=A.alternate,$!==null&&($.lanes|=h),Th(A.return,h,a),d||(M=null);break t}A=$.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(i(341));M.lanes|=h,A=M.alternate,A!==null&&(A.lanes|=h),Th(M,h,a),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===a){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function wu(a,l,h,d){a=null;for(var v=l,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var $=v.type;Yi(v.pendingProps.value,M.value)||(a!==null?a.push($):a=[$])}}else if(v===Nt.current){if(M=v.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(yd):a=[yd])}v=v.return}a!==null&&Eh(l,a,h,d),l.flags|=262144}function Nh(a){for(a=a.firstContext;a!==null;){if(!Yi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ra(a){Xi=a,to=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Mi(a){return Rh(Xi,a)}function Uo(a,l){return Xi===null&&Ra(a),Rh(a,l)}function Rh(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},to===null){if(a===null)throw Error(i(308));to=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else to=to.next=l;return h}var P0=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},Op=n.unstable_scheduleCallback,k0=n.unstable_NormalPriority,ji={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new P0,data:new Map,refCount:0}}function Lc(a){a.refCount--,a.refCount===0&&Op(k0,function(){a.controller.abort()})}var Pc=null,Uf=0,kl=0,eo=null;function D0(a,l){if(Pc===null){var h=Pc=[];Uf=0,kl=p1(),eo={status:"pending",value:void 0,then:function(d){h.push(d)}}}return Uf++,l.then(Mp,Mp),l}function Mp(){if(--Uf===0&&Pc!==null){eo!==null&&(eo.status="fulfilled");var a=Pc;Pc=null,kl=0,eo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function jp(a,l){var h=[],d={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var v=0;v<h.length;v++)(0,h[v])(l)},function(v){for(d.status="rejected",d.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),d}var g=nt.S;nt.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&D0(a,l),g!==null&&g(a,l)};var b=St(null);function x(){var a=b.current;return a!==null?a:Jn.pooledCache}function I(a,l){l===null?W(b,b.current):W(b,l.pool)}function B(){var a=x();return a===null?null:{parent:ji._currentValue,pool:a}}var q=Error(i(460)),H=Error(i(474)),Y=Error(i(542)),J={then:function(){}};function it(a){return a=a.status,a==="fulfilled"||a==="rejected"}function pt(){}function It(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(pt,pt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a;default:if(typeof l.status=="string")l.then(pt,pt);else{if(a=Jn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=d}},function(d){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a}throw Rt=l,q}}var Rt=null;function At(){if(Rt===null)throw Error(i(459));var a=Rt;return Rt=null,a}function qt(a){if(a===q||a===Y)throw Error(i(483))}var Mt=!1;function gt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Bt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ht(a,l,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Mn&2)!==0){var v=d.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),d.pending=l,l=Rl(a),Ah(a,null,h),l}return Mo(a,d,l,h),Rl(a)}function Ut(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}function ue(a,l){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var v=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?v=A=M:A=A.next=M,h=h.next}while(h!==null);A===null?v=A=l:A=A.next=l}else v=A=l;h={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var ee=!1;function be(){if(ee){var a=eo;if(a!==null)throw a}}function re(a,l,h,d){ee=!1;var v=a.updateQueue;Mt=!1;var A=v.firstBaseUpdate,M=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var ut=$,Pt=ut.next;ut.next=null,M===null?A=Pt:M.next=Pt,M=ut;var Vt=a.alternate;Vt!==null&&(Vt=Vt.updateQueue,$=Vt.lastBaseUpdate,$!==M&&($===null?Vt.firstBaseUpdate=Pt:$.next=Pt,Vt.lastBaseUpdate=ut))}if(A!==null){var Wt=v.baseState;M=0,Vt=Pt=ut=null,$=A;do{var Dt=$.lane&-536870913,Ot=Dt!==$.lane;if(Ot?(yn&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===kl&&(ee=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});t:{var je=a,Ce=$;Dt=l;var Yn=h;switch(Ce.tag){case 1:if(je=Ce.payload,typeof je=="function"){Wt=je.call(Yn,Wt,Dt);break t}Wt=je;break t;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ce.payload,Dt=typeof je=="function"?je.call(Yn,Wt,Dt):je,Dt==null)break t;Wt=p({},Wt,Dt);break t;case 2:Mt=!0}}Dt=$.callback,Dt!==null&&(a.flags|=64,Ot&&(a.flags|=8192),Ot=v.callbacks,Ot===null?v.callbacks=[Dt]:Ot.push(Dt))}else Ot={lane:Dt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Vt===null?(Pt=Vt=Ot,ut=Wt):Vt=Vt.next=Ot,M|=Dt;if($=$.next,$===null){if($=v.shared.pending,$===null)break;Ot=$,$=Ot.next,Ot.next=null,v.lastBaseUpdate=Ot,v.shared.pending=null}}while(!0);Vt===null&&(ut=Wt),v.baseState=ut,v.firstBaseUpdate=Pt,v.lastBaseUpdate=Vt,A===null&&(v.shared.lanes=0),ku|=M,a.lanes=M,a.memoizedState=Wt}}function gn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Sn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)gn(h[a],l)}var Xe=St(null),Ge=St(0);function Ln(a,l){a=ql,W(Ge,a),W(Xe,l),ql=a|l.baseLanes}function xn(){W(Ge,ql),W(Xe,Xe.current)}function Ve(){ql=Ge.current,j(Xe),j(Ge)}var On=0,Te=null,ke=null,pn=null,mn=!1,$i=!1,Fi=!1,di=0,pi=0,xi=null,Ns=0;function Tn(){throw Error(i(321))}function Ti(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Yi(a[h],l[h]))return!1;return!0}function Zs(a,l,h,d,v,A){return On=A,Te=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,nt.H=a===null||a.memoizedState===null?i5:r5,Fi=!1,A=h(d,v),Fi=!1,$i&&(A=Dl(l,h,d,v)),zo(a),A}function zo(a){nt.H=Xp;var l=ke!==null&&ke.next!==null;if(On=0,pn=ke=Te=null,mn=!1,pi=0,xi=null,l)throw Error(i(300));a===null||vr||(a=a.dependencies,a!==null&&Nh(a)&&(vr=!0))}function Dl(a,l,h,d){Te=a;var v=0;do{if($i&&(xi=null),pi=0,$i=!1,25<=v)throw Error(i(301));if(v+=1,pn=ke=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}nt.H=aE,A=l(h,d)}while($i);return A}function qo(){var a=nt.H,l=a.useState()[0];return l=typeof l.then=="function"?Ho(l):l,a=a.useState()[0],(ke!==null?ke.memoizedState:null)!==a&&(Te.flags|=1024),l}function Qn(){var a=di!==0;return di=0,a}function kc(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Ch(a){if(mn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}mn=!1}On=0,pn=ke=Te=null,$i=!1,pi=di=0,xi=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Te.memoizedState=pn=a:pn=pn.next=a,pn}function ti(){if(ke===null){var a=Te.alternate;a=a!==null?a.memoizedState:null}else a=ke.next;var l=pn===null?Te.memoizedState:pn.next;if(l!==null)pn=l,ke=a;else{if(a===null)throw Te.alternate===null?Error(i(467)):Error(i(310));ke=a,a={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},pn===null?Te.memoizedState=pn=a:pn=pn.next=a}return pn}function Ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(a){var l=pi;return pi+=1,xi===null&&(xi=[]),a=It(xi,a,l),l=Te,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,nt.H=l===null||l.memoizedState===null?i5:r5),a}function Hr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ho(a);if(a.$$typeof===G)return Mi(a)}throw Error(i(438,String(a)))}function Wo(a){var l=null,h=Te.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var d=Te.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Ol(),Te.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),d=0;d<a;d++)h[d]=X;return l.index++,h}function Wr(a,l){return typeof l=="function"?l(a):l}function Dc(a){var l=ti();return Au(l,ke,a)}function Au(a,l,h){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var v=a.baseQueue,A=d.pending;if(A!==null){if(v!==null){var M=v.next;v.next=A.next,A.next=M}l.baseQueue=v=A,d.pending=null}if(A=a.baseState,v===null)a.memoizedState=A;else{l=v.next;var $=M=null,ut=null,Pt=l,Vt=!1;do{var Wt=Pt.lane&-536870913;if(Wt!==Pt.lane?(yn&Wt)===Wt:(On&Wt)===Wt){var Dt=Pt.revertLane;if(Dt===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),Wt===kl&&(Vt=!0);else if((On&Dt)===Dt){Pt=Pt.next,Dt===kl&&(Vt=!0);continue}else Wt={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?($=ut=Wt,M=A):ut=ut.next=Wt,Te.lanes|=Dt,ku|=Dt;Wt=Pt.action,Fi&&h(A,Wt),A=Pt.hasEagerState?Pt.eagerState:h(A,Wt)}else Dt={lane:Wt,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?($=ut=Dt,M=A):ut=ut.next=Dt,Te.lanes|=Wt,ku|=Wt;Pt=Pt.next}while(Pt!==null&&Pt!==l);if(ut===null?M=A:ut.next=$,!Yi(A,a.memoizedState)&&(vr=!0,Vt&&(h=eo,h!==null)))throw h;a.memoizedState=A,a.baseState=M,a.baseQueue=ut,d.lastRenderedState=A}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Ih(a){var l=ti(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var d=h.dispatch,v=h.pending,A=l.memoizedState;if(v!==null){h.pending=null;var M=v=v.next;do A=a(A,M.action),M=M.next;while(M!==v);Yi(A,l.memoizedState)||(vr=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),h.lastRenderedState=A}return[A,d]}function Oc(a,l,h){var d=Te,v=ti(),A=_n;if(A){if(h===void 0)throw Error(i(407));h=h()}else h=l();var M=!Yi((ke||v).memoizedState,h);M&&(v.memoizedState=h,vr=!0),v=v.queue;var $=Su.bind(null,d,v,a);if(Eu(2048,8,$,[a]),v.getSnapshot!==l||M||pn!==null&&pn.memoizedState.tag&1){if(d.flags|=2048,io(9,Bc(),Mc.bind(null,d,v,h,l),null),Jn===null)throw Error(i(349));A||(On&124)!==0||Lh(d,l,h)}return h}function Lh(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Te.updateQueue,l===null?(l=Ol(),Te.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Mc(a,l,h,d){l.value=h,l.getSnapshot=d,Fp(l)&&Bp(a)}function Su(a,l,h){return h(function(){Fp(l)&&Bp(a)})}function Fp(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Yi(a,h)}catch{return!0}}function Bp(a){var l=Ka(a,2);l!==null&&sa(l,a,2)}function jc(a){var l=Nr();if(typeof a=="function"){var h=a;if(a=h(),Fi){He(!0);try{h()}finally{He(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},l}function no(a,l,h,d){return a.baseState=h,Au(a,ke,typeof d=="function"?d:Wr)}function O0(a,l,h,d,v){if(Kp(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){A.listeners.push(M)}};nt.T!==null?h(!0):A.isTransition=!1,d(A),h=l.pending,h===null?(A.next=l.pending=A,Vp(l,A)):(A.next=h.next,l.pending=h.next=A)}}function Vp(a,l){var h=l.action,d=l.payload,v=a.state;if(l.isTransition){var A=nt.T,M={};nt.T=M;try{var $=h(v,d),ut=nt.S;ut!==null&&ut(M,$),Up(a,l,$)}catch(Pt){xu(a,l,Pt)}finally{nt.T=A}}else try{A=h(v,d),Up(a,l,A)}catch(Pt){xu(a,l,Pt)}}function Up(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){zf(a,l,d)},function(d){return xu(a,l,d)}):zf(a,l,h)}function zf(a,l,h){l.status="fulfilled",l.value=h,qf(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Vp(a,h)))}function xu(a,l,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=h,qf(l),l=l.next;while(l!==d)}a.action=null}function qf(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Hf(a,l){return l}function Fc(a,l){if(_n){var h=Jn.formState;if(h!==null){t:{var d=Te;if(_n){if(ui){e:{for(var v=ui,A=Ta;v.nodeType!==8;){if(!A){v=null;break e}if(v=oo(v.nextSibling),v===null){v=null;break e}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){ui=oo(v.nextSibling),d=v.data==="F!";break t}}Pl(d)}d=!1}d&&(l=h[0])}}return h=Nr(),h.memoizedState=h.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:l},h.queue=d,h=t5.bind(null,Te,d),d.dispatch=h,d=jc(!1),A=M0.bind(null,Te,!1,d.queue),d=Nr(),v={state:l,dispatch:null,action:a,pending:null},d.queue=v,h=O0.bind(null,Te,v,A,h),v.dispatch=h,d.memoizedState=a,[l,h,!1]}function Ph(a){var l=ti();return Tu(l,ke,a)}function Tu(a,l,h){if(l=Au(a,l,Hf)[0],a=Dc(Wr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Ho(l)}catch(M){throw M===q?Y:M}else d=l;l=ti();var v=l.queue,A=v.dispatch;return h!==l.memoizedState&&(Te.flags|=2048,io(9,Bc(),zp.bind(null,v,h),null)),[d,A,a]}function zp(a,l){a.action=l}function qp(a){var l=ti(),h=ke;if(h!==null)return Tu(l,h,a);ti(),l=l.memoizedState,h=ti();var d=h.queue.dispatch;return h.memoizedState=a,[l,d,!1]}function io(a,l,h,d){return a={tag:a,create:h,deps:d,inst:l,next:null},l=Te.updateQueue,l===null&&(l=Ol(),Te.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,l.lastEffect=a),a}function Bc(){return{destroy:void 0,resource:void 0}}function kh(){return ti().memoizedState}function ta(a,l,h,d){var v=Nr();d=d===void 0?null:d,Te.flags|=a,v.memoizedState=io(1|l,Bc(),h,d)}function Eu(a,l,h,d){var v=ti();d=d===void 0?null:d;var A=v.memoizedState.inst;ke!==null&&d!==null&&Ti(d,ke.memoizedState.deps)?v.memoizedState=io(l,A,h,d):(Te.flags|=a,v.memoizedState=io(1|l,A,h,d))}function Wf(a,l){ta(8390656,8,a,l)}function Hp(a,l){Eu(2048,8,a,l)}function Gf(a,l){return Eu(4,2,a,l)}function Ml(a,l){return Eu(4,4,a,l)}function Wp(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Yf(a,l,h){h=h!=null?h.concat([a]):null,Eu(4,4,Wp.bind(null,l,a),h)}function Kf(){}function Xf(a,l){var h=ti();l=l===void 0?null:l;var d=h.memoizedState;return l!==null&&Ti(l,d[1])?d[0]:(h.memoizedState=[a,l],a)}function Gp(a,l){var h=ti();l=l===void 0?null:l;var d=h.memoizedState;if(l!==null&&Ti(l,d[1]))return d[0];if(d=a(),Fi){He(!0);try{a()}finally{He(!1)}}return h.memoizedState=[d,l],d}function jl(a,l,h){return h===void 0||(On&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=$5(),Te.lanes|=a,ku|=a,h)}function Dh(a,l,h,d){return Yi(h,l)?h:Xe.current!==null?(a=jl(a,h,d),Yi(a,l)||(vr=!0),a):(On&42)===0?(vr=!0,a.memoizedState=h):(a=$5(),Te.lanes|=a,ku|=a,l)}function Vc(a,l,h,d,v){var A=ct.p;ct.p=A!==0&&8>A?A:8;var M=nt.T,$={};nt.T=$,M0(a,!1,l,h);try{var ut=v(),Pt=nt.S;if(Pt!==null&&Pt($,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Vt=jp(ut,d);Zf(a,l,Vt,ra(a))}else Zf(a,l,d,ra(a))}catch(Wt){Zf(a,l,{then:function(){},status:"rejected",reason:Wt},ra())}finally{ct.p=A,nt.T=M}}function ro(){}function Ca(a,l,h,d){if(a.tag!==5)throw Error(i(476));var v=so(a).queue;Vc(a,v,l,ft,h===null?ro:function(){return Uc(a),h(d)})}function so(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:ft},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Uc(a){var l=so(a).next.queue;Zf(a,l,{},ra())}function zc(){return Mi(yd)}function $f(){return ti().memoizedState}function Yp(){return ti().memoizedState}function Qf(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=ra();a=Bt(h);var d=Ht(l,a,h);d!==null&&(sa(d,l,h),Ut(d,l,h)),l={cache:Vf()},a.payload=l;return}l=l.return}}function Jf(a,l,h){var d=ra();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Kp(a)?e5(l,h):(h=jo(a,l,h,d),h!==null&&(sa(h,a,d),n5(h,l,d)))}function t5(a,l,h){var d=ra();Zf(a,l,h,d)}function Zf(a,l,h,d){var v={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Kp(a))e5(l,v);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var M=l.lastRenderedState,$=A(M,h);if(v.hasEagerState=!0,v.eagerState=$,Yi($,M))return Mo(a,l,v,0),Jn===null&&xs(),!1}catch{}finally{}if(h=jo(a,l,v,d),h!==null)return sa(h,a,d),n5(h,l,d),!0}return!1}function M0(a,l,h,d){if(d={lane:2,revertLane:p1(),action:d,hasEagerState:!1,eagerState:null,next:null},Kp(a)){if(l)throw Error(i(479))}else l=jo(a,h,d,2),l!==null&&sa(l,a,2)}function Kp(a){var l=a.alternate;return a===Te||l!==null&&l===Te}function e5(a,l){$i=mn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function n5(a,l,h){if((h&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}var Xp={readContext:Mi,use:Hr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn},i5={readContext:Mi,use:Hr,useCallback:function(a,l){return Nr().memoizedState=[a,l===void 0?null:l],a},useContext:Mi,useEffect:Wf,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,ta(4194308,4,Wp.bind(null,l,a),h)},useLayoutEffect:function(a,l){return ta(4194308,4,a,l)},useInsertionEffect:function(a,l){ta(4,2,a,l)},useMemo:function(a,l){var h=Nr();l=l===void 0?null:l;var d=a();if(Fi){He(!0);try{a()}finally{He(!1)}}return h.memoizedState=[d,l],d},useReducer:function(a,l,h){var d=Nr();if(h!==void 0){var v=h(l);if(Fi){He(!0);try{h(l)}finally{He(!1)}}}else v=l;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=Jf.bind(null,Te,a),[d.memoizedState,a]},useRef:function(a){var l=Nr();return a={current:a},l.memoizedState=a},useState:function(a){a=jc(a);var l=a.queue,h=t5.bind(null,Te,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:Kf,useDeferredValue:function(a,l){var h=Nr();return jl(h,a,l)},useTransition:function(){var a=jc(!1);return a=Vc.bind(null,Te,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var d=Te,v=Nr();if(_n){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),Jn===null)throw Error(i(349));(yn&124)!==0||Lh(d,l,h)}v.memoizedState=h;var A={value:h,getSnapshot:l};return v.queue=A,Wf(Su.bind(null,d,A,a),[a]),d.flags|=2048,io(9,Bc(),Mc.bind(null,d,A,h,l),null),h},useId:function(){var a=Nr(),l=Jn.identifierPrefix;if(_n){var h=Ja,d=Qa;h=(d&~(1<<32-fe(d)-1)).toString(32)+h,l="«"+l+"R"+h,h=di++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=Ns++,l="«"+l+"r"+h.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:zc,useFormState:Fc,useActionState:Fc,useOptimistic:function(a){var l=Nr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=M0.bind(null,Te,!0,h),h.dispatch=l,[a,l]},useMemoCache:Wo,useCacheRefresh:function(){return Nr().memoizedState=Qf.bind(null,Te)}},r5={readContext:Mi,use:Hr,useCallback:Xf,useContext:Mi,useEffect:Hp,useImperativeHandle:Yf,useInsertionEffect:Gf,useLayoutEffect:Ml,useMemo:Gp,useReducer:Dc,useRef:kh,useState:function(){return Dc(Wr)},useDebugValue:Kf,useDeferredValue:function(a,l){var h=ti();return Dh(h,ke.memoizedState,a,l)},useTransition:function(){var a=Dc(Wr)[0],l=ti().memoizedState;return[typeof a=="boolean"?a:Ho(a),l]},useSyncExternalStore:Oc,useId:$f,useHostTransitionStatus:zc,useFormState:Ph,useActionState:Ph,useOptimistic:function(a,l){var h=ti();return no(h,ke,a,l)},useMemoCache:Wo,useCacheRefresh:Yp},aE={readContext:Mi,use:Hr,useCallback:Xf,useContext:Mi,useEffect:Hp,useImperativeHandle:Yf,useInsertionEffect:Gf,useLayoutEffect:Ml,useMemo:Gp,useReducer:Ih,useRef:kh,useState:function(){return Ih(Wr)},useDebugValue:Kf,useDeferredValue:function(a,l){var h=ti();return ke===null?jl(h,a,l):Dh(h,ke.memoizedState,a,l)},useTransition:function(){var a=Ih(Wr)[0],l=ti().memoizedState;return[typeof a=="boolean"?a:Ho(a),l]},useSyncExternalStore:Oc,useId:$f,useHostTransitionStatus:zc,useFormState:qp,useActionState:qp,useOptimistic:function(a,l){var h=ti();return ke!==null?no(h,ke,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:Yp},Oh=null,td=0;function $p(a){var l=td;return td+=1,Oh===null&&(Oh=[]),It(Oh,a,l)}function ed(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Qp(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function s5(a){var l=a._init;return l(a._payload)}function a5(a){function l(xt,yt){if(a){var Ct=xt.deletions;Ct===null?(xt.deletions=[yt],xt.flags|=16):Ct.push(yt)}}function h(xt,yt){if(!a)return null;for(;yt!==null;)l(xt,yt),yt=yt.sibling;return null}function d(xt){for(var yt=new Map;xt!==null;)xt.key!==null?yt.set(xt.key,xt):yt.set(xt.index,xt),xt=xt.sibling;return yt}function v(xt,yt){return xt=xa(xt,yt),xt.index=0,xt.sibling=null,xt}function A(xt,yt,Ct){return xt.index=Ct,a?(Ct=xt.alternate,Ct!==null?(Ct=Ct.index,Ct<yt?(xt.flags|=67108866,yt):Ct):(xt.flags|=67108866,yt)):(xt.flags|=1048576,yt)}function M(xt){return a&&xt.alternate===null&&(xt.flags|=67108866),xt}function $(xt,yt,Ct,zt){return yt===null||yt.tag!==6?(yt=Sh(Ct,xt.mode,zt),yt.return=xt,yt):(yt=v(yt,Ct),yt.return=xt,yt)}function ut(xt,yt,Ct,zt){var de=Ct.type;return de===E?Vt(xt,yt,Ct.props.children,zt,Ct.key):yt!==null&&(yt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&s5(de)===yt.type)?(yt=v(yt,Ct.props),ed(yt,Ct),yt.return=xt,yt):(yt=Cl(Ct.type,Ct.key,Ct.props,null,xt.mode,zt),ed(yt,Ct),yt.return=xt,yt)}function Pt(xt,yt,Ct,zt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Ct.containerInfo||yt.stateNode.implementation!==Ct.implementation?(yt=Rc(Ct,xt.mode,zt),yt.return=xt,yt):(yt=v(yt,Ct.children||[]),yt.return=xt,yt)}function Vt(xt,yt,Ct,zt,de){return yt===null||yt.tag!==7?(yt=Xa(Ct,xt.mode,zt,de),yt.return=xt,yt):(yt=v(yt,Ct),yt.return=xt,yt)}function Wt(xt,yt,Ct){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=Sh(""+yt,xt.mode,Ct),yt.return=xt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case w:return Ct=Cl(yt.type,yt.key,yt.props,null,xt.mode,Ct),ed(Ct,yt),Ct.return=xt,Ct;case _:return yt=Rc(yt,xt.mode,Ct),yt.return=xt,yt;case P:var zt=yt._init;return yt=zt(yt._payload),Wt(xt,yt,Ct)}if(wt(yt)||D(yt))return yt=Xa(yt,xt.mode,Ct,null),yt.return=xt,yt;if(typeof yt.then=="function")return Wt(xt,$p(yt),Ct);if(yt.$$typeof===G)return Wt(xt,Uo(xt,yt),Ct);Qp(xt,yt)}return null}function Dt(xt,yt,Ct,zt){var de=yt!==null?yt.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return de!==null?null:$(xt,yt,""+Ct,zt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case w:return Ct.key===de?ut(xt,yt,Ct,zt):null;case _:return Ct.key===de?Pt(xt,yt,Ct,zt):null;case P:return de=Ct._init,Ct=de(Ct._payload),Dt(xt,yt,Ct,zt)}if(wt(Ct)||D(Ct))return de!==null?null:Vt(xt,yt,Ct,zt,null);if(typeof Ct.then=="function")return Dt(xt,yt,$p(Ct),zt);if(Ct.$$typeof===G)return Dt(xt,yt,Uo(xt,Ct),zt);Qp(xt,Ct)}return null}function Ot(xt,yt,Ct,zt,de){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return xt=xt.get(Ct)||null,$(yt,xt,""+zt,de);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case w:return xt=xt.get(zt.key===null?Ct:zt.key)||null,ut(yt,xt,zt,de);case _:return xt=xt.get(zt.key===null?Ct:zt.key)||null,Pt(yt,xt,zt,de);case P:var sn=zt._init;return zt=sn(zt._payload),Ot(xt,yt,Ct,zt,de)}if(wt(zt)||D(zt))return xt=xt.get(Ct)||null,Vt(yt,xt,zt,de,null);if(typeof zt.then=="function")return Ot(xt,yt,Ct,$p(zt),de);if(zt.$$typeof===G)return Ot(xt,yt,Ct,Uo(yt,zt),de);Qp(yt,zt)}return null}function je(xt,yt,Ct,zt){for(var de=null,sn=null,Ae=yt,Le=yt=0,br=null;Ae!==null&&Le<Ct.length;Le++){Ae.index>Le?(br=Ae,Ae=null):br=Ae.sibling;var En=Dt(xt,Ae,Ct[Le],zt);if(En===null){Ae===null&&(Ae=br);break}a&&Ae&&En.alternate===null&&l(xt,Ae),yt=A(En,yt,Le),sn===null?de=En:sn.sibling=En,sn=En,Ae=br}if(Le===Ct.length)return h(xt,Ae),_n&&Ll(xt,Le),de;if(Ae===null){for(;Le<Ct.length;Le++)Ae=Wt(xt,Ct[Le],zt),Ae!==null&&(yt=A(Ae,yt,Le),sn===null?de=Ae:sn.sibling=Ae,sn=Ae);return _n&&Ll(xt,Le),de}for(Ae=d(Ae);Le<Ct.length;Le++)br=Ot(Ae,xt,Le,Ct[Le],zt),br!==null&&(a&&br.alternate!==null&&Ae.delete(br.key===null?Le:br.key),yt=A(br,yt,Le),sn===null?de=br:sn.sibling=br,sn=br);return a&&Ae.forEach(function(zu){return l(xt,zu)}),_n&&Ll(xt,Le),de}function Ce(xt,yt,Ct,zt){if(Ct==null)throw Error(i(151));for(var de=null,sn=null,Ae=yt,Le=yt=0,br=null,En=Ct.next();Ae!==null&&!En.done;Le++,En=Ct.next()){Ae.index>Le?(br=Ae,Ae=null):br=Ae.sibling;var zu=Dt(xt,Ae,En.value,zt);if(zu===null){Ae===null&&(Ae=br);break}a&&Ae&&zu.alternate===null&&l(xt,Ae),yt=A(zu,yt,Le),sn===null?de=zu:sn.sibling=zu,sn=zu,Ae=br}if(En.done)return h(xt,Ae),_n&&Ll(xt,Le),de;if(Ae===null){for(;!En.done;Le++,En=Ct.next())En=Wt(xt,En.value,zt),En!==null&&(yt=A(En,yt,Le),sn===null?de=En:sn.sibling=En,sn=En);return _n&&Ll(xt,Le),de}for(Ae=d(Ae);!En.done;Le++,En=Ct.next())En=Ot(Ae,xt,Le,En.value,zt),En!==null&&(a&&En.alternate!==null&&Ae.delete(En.key===null?Le:En.key),yt=A(En,yt,Le),sn===null?de=En:sn.sibling=En,sn=En);return a&&Ae.forEach(function(o6){return l(xt,o6)}),_n&&Ll(xt,Le),de}function Yn(xt,yt,Ct,zt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===E&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case w:t:{for(var de=Ct.key;yt!==null;){if(yt.key===de){if(de=Ct.type,de===E){if(yt.tag===7){h(xt,yt.sibling),zt=v(yt,Ct.props.children),zt.return=xt,xt=zt;break t}}else if(yt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&s5(de)===yt.type){h(xt,yt.sibling),zt=v(yt,Ct.props),ed(zt,Ct),zt.return=xt,xt=zt;break t}h(xt,yt);break}else l(xt,yt);yt=yt.sibling}Ct.type===E?(zt=Xa(Ct.props.children,xt.mode,zt,Ct.key),zt.return=xt,xt=zt):(zt=Cl(Ct.type,Ct.key,Ct.props,null,xt.mode,zt),ed(zt,Ct),zt.return=xt,xt=zt)}return M(xt);case _:t:{for(de=Ct.key;yt!==null;){if(yt.key===de)if(yt.tag===4&&yt.stateNode.containerInfo===Ct.containerInfo&&yt.stateNode.implementation===Ct.implementation){h(xt,yt.sibling),zt=v(yt,Ct.children||[]),zt.return=xt,xt=zt;break t}else{h(xt,yt);break}else l(xt,yt);yt=yt.sibling}zt=Rc(Ct,xt.mode,zt),zt.return=xt,xt=zt}return M(xt);case P:return de=Ct._init,Ct=de(Ct._payload),Yn(xt,yt,Ct,zt)}if(wt(Ct))return je(xt,yt,Ct,zt);if(D(Ct)){if(de=D(Ct),typeof de!="function")throw Error(i(150));return Ct=de.call(Ct),Ce(xt,yt,Ct,zt)}if(typeof Ct.then=="function")return Yn(xt,yt,$p(Ct),zt);if(Ct.$$typeof===G)return Yn(xt,yt,Uo(xt,Ct),zt);Qp(xt,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,yt!==null&&yt.tag===6?(h(xt,yt.sibling),zt=v(yt,Ct),zt.return=xt,xt=zt):(h(xt,yt),zt=Sh(Ct,xt.mode,zt),zt.return=xt,xt=zt),M(xt)):h(xt,yt)}return function(xt,yt,Ct,zt){try{td=0;var de=Yn(xt,yt,Ct,zt);return Oh=null,de}catch(Ae){if(Ae===q||Ae===Y)throw Ae;var sn=yr(29,Ae,null,xt.mode);return sn.lanes=zt,sn.return=xt,sn}finally{}}}var Mh=a5(!0),o5=a5(!1),Ia=St(null),Go=null;function Nu(a){var l=a.alternate;W(or,or.current&1),W(Ia,a),Go===null&&(l===null||Xe.current!==null||l.memoizedState!==null)&&(Go=a)}function l5(a){if(a.tag===22){if(W(or,or.current),W(Ia,a),Go===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Go=a)}}else Ru()}function Ru(){W(or,or.current),W(Ia,Ia.current)}function Fl(a){j(Ia),Go===a&&(Go=null),j(or)}var or=St(0);function Jp(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||E1(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function j0(a,l,h,d){l=a.memoizedState,h=h(d,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var F0={enqueueSetState:function(a,l,h){a=a._reactInternals;var d=ra(),v=Bt(d);v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(sa(l,a,d),Ut(l,a,d))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var d=ra(),v=Bt(d);v.tag=1,v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(sa(l,a,d),Ut(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=ra(),d=Bt(h);d.tag=2,l!=null&&(d.callback=l),l=Ht(a,d,h),l!==null&&(sa(l,a,h),Ut(l,a,h))}};function u5(a,l,h,d,v,A,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,A,M):l.prototype&&l.prototype.isPureReactComponent?!Co(h,d)||!Co(v,A):!0}function c5(a,l,h,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,d),l.state!==a&&F0.enqueueReplaceState(l,l.state,null)}function qc(a,l){var h=l;if("ref"in l){h={};for(var d in l)d!=="ref"&&(h[d]=l[d])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}var Zp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function h5(a){Zp(a)}function f5(a){console.error(a)}function d5(a){Zp(a)}function tg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function p5(a,l,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function B0(a,l,h){return h=Bt(h),h.tag=3,h.payload={element:null},h.callback=function(){tg(a,l)},h}function g5(a){return a=Bt(a),a.tag=3,a}function m5(a,l,h,d){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var A=d.value;a.payload=function(){return v(A)},a.callback=function(){p5(l,h,d)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){p5(l,h,d),typeof v!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})})}function oE(a,l,h,d,v){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=h.alternate,l!==null&&wu(l,h,v,!0),h=Ia.current,h!==null){switch(h.tag){case 13:return Go===null?u1():h.alternate===null&&Ei===0&&(Ei=3),h.flags&=-257,h.flags|=65536,h.lanes=v,d===J?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([d]):l.add(d),h1(a,d,v)),!1;case 22:return h.flags|=65536,d===J?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([d]):h.add(d)),h1(a,d,v)),!1}throw Error(i(435,h.tag))}return h1(a,d,v),u1(),!1}if(_n)return l=Ia.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,d!==Bf&&(a=Error(i(422),{cause:d}),bu(Ze(a,h)))):(d!==Bf&&(l=Error(i(423),{cause:d}),bu(Ze(l,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Ze(d,h),v=B0(a.stateNode,d,v),ue(a,v),Ei!==4&&(Ei=2)),!1;var A=Error(i(520),{cause:d});if(A=Ze(A,h),ld===null?ld=[A]:ld.push(A),Ei!==4&&(Ei=2),l===null)return!0;d=Ze(d,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=B0(h.stateNode,d,a),ue(h,a),!1;case 1:if(l=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Du===null||!Du.has(A))))return h.flags|=65536,v&=-v,h.lanes|=v,v=g5(v),m5(v,a,h,d),ue(h,v),!1}h=h.return}while(h!==null);return!1}var y5=Error(i(461)),vr=!1;function Rr(a,l,h,d){l.child=a===null?o5(l,null,h,d):Mh(l,a.child,h,d)}function v5(a,l,h,d,v){h=h.render;var A=l.ref;if("ref"in d){var M={};for(var $ in d)$!=="ref"&&(M[$]=d[$])}else M=d;return Ra(l),d=Zs(a,l,h,M,A,v),$=Qn(),a!==null&&!vr?(kc(a,l,v),Bl(a,l,v)):(_n&&$&&Cc(l),l.flags|=1,Rr(a,l,d,v),l.child)}function _5(a,l,h,d,v){if(a===null){var A=h.type;return typeof A=="function"&&!vu(A)&&A.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=A,b5(a,l,A,d,v)):(a=Cl(h.type,null,d,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!Y0(a,v)){var M=A.memoizedProps;if(h=h.compare,h=h!==null?h:Co,h(M,d)&&a.ref===l.ref)return Bl(a,l,v)}return l.flags|=1,a=xa(A,d),a.ref=l.ref,a.return=l,l.child=a}function b5(a,l,h,d,v){if(a!==null){var A=a.memoizedProps;if(Co(A,d)&&a.ref===l.ref)if(vr=!1,l.pendingProps=d=A,Y0(a,v))(a.flags&131072)!==0&&(vr=!0);else return l.lanes=a.lanes,Bl(a,l,v)}return V0(a,l,h,d,v)}function w5(a,l,h){var d=l.pendingProps,v=d.children,A=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=A!==null?A.baseLanes|h:h,a!==null){for(v=l.child=a.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;l.childLanes=A&~d}else l.childLanes=0,l.child=null;return A5(a,l,d,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&I(l,A!==null?A.cachePool:null),A!==null?Ln(l,A):xn(),l5(l);else return l.lanes=l.childLanes=536870912,A5(a,l,A!==null?A.baseLanes|h:h,h)}else A!==null?(I(l,A.cachePool),Ln(l,A),Ru(),l.memoizedState=null):(a!==null&&I(l,null),xn(),Ru());return Rr(a,l,v,h),l.child}function A5(a,l,h,d){var v=x();return v=v===null?null:{parent:ji._currentValue,pool:v},l.memoizedState={baseLanes:h,cachePool:v},a!==null&&I(l,null),xn(),l5(l),a!==null&&wu(a,l,d,!0),null}function eg(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function V0(a,l,h,d,v){return Ra(l),h=Zs(a,l,h,d,void 0,v),d=Qn(),a!==null&&!vr?(kc(a,l,v),Bl(a,l,v)):(_n&&d&&Cc(l),l.flags|=1,Rr(a,l,h,v),l.child)}function S5(a,l,h,d,v,A){return Ra(l),l.updateQueue=null,h=Dl(l,d,h,v),zo(a),d=Qn(),a!==null&&!vr?(kc(a,l,A),Bl(a,l,A)):(_n&&d&&Cc(l),l.flags|=1,Rr(a,l,h,A),l.child)}function x5(a,l,h,d,v){if(Ra(l),l.stateNode===null){var A=Ki,M=h.contextType;typeof M=="object"&&M!==null&&(A=Mi(M)),A=new h(d,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=F0,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=d,A.state=l.memoizedState,A.refs={},gt(l),M=h.contextType,A.context=typeof M=="object"&&M!==null?Mi(M):Ki,A.state=l.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(j0(l,h,M,d),A.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(M=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),M!==A.state&&F0.enqueueReplaceState(A,A.state,null),re(l,d,A,v),be(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){A=l.stateNode;var $=l.memoizedProps,ut=qc(h,$);A.props=ut;var Pt=A.context,Vt=h.contextType;M=Ki,typeof Vt=="object"&&Vt!==null&&(M=Mi(Vt));var Wt=h.getDerivedStateFromProps;Vt=typeof Wt=="function"||typeof A.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,Vt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($||Pt!==M)&&c5(l,A,d,M),Mt=!1;var Dt=l.memoizedState;A.state=Dt,re(l,d,A,v),be(),Pt=l.memoizedState,$||Dt!==Pt||Mt?(typeof Wt=="function"&&(j0(l,h,Wt,d),Pt=l.memoizedState),(ut=Mt||u5(l,h,ut,d,Dt,Pt,M))?(Vt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Pt),A.props=d,A.state=Pt,A.context=M,d=ut):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{A=l.stateNode,vt(a,l),M=l.memoizedProps,Vt=qc(h,M),A.props=Vt,Wt=l.pendingProps,Dt=A.context,Pt=h.contextType,ut=Ki,typeof Pt=="object"&&Pt!==null&&(ut=Mi(Pt)),$=h.getDerivedStateFromProps,(Pt=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==Wt||Dt!==ut)&&c5(l,A,d,ut),Mt=!1,Dt=l.memoizedState,A.state=Dt,re(l,d,A,v),be();var Ot=l.memoizedState;M!==Wt||Dt!==Ot||Mt||a!==null&&a.dependencies!==null&&Nh(a.dependencies)?(typeof $=="function"&&(j0(l,h,$,d),Ot=l.memoizedState),(Vt=Mt||u5(l,h,Vt,d,Dt,Ot,ut)||a!==null&&a.dependencies!==null&&Nh(a.dependencies))?(Pt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Ot,ut),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Ot,ut)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=Ot),A.props=d,A.state=Ot,A.context=ut,d=Vt):(typeof A.componentDidUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),d=!1)}return A=d,eg(a,l),d=(l.flags&128)!==0,A||d?(A=l.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&d?(l.child=Mh(l,a.child,null,v),l.child=Mh(l,null,h,v)):Rr(a,l,h,v),l.memoizedState=A.state,a=l.child):a=Bl(a,l,v),a}function T5(a,l,h,d){return fs(),l.flags|=256,Rr(a,l,h,d),l.child}var U0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function z0(a){return{baseLanes:a,cachePool:B()}}function q0(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=La),a}function E5(a,l,h){var d=l.pendingProps,v=!1,A=(l.flags&128)!==0,M;if((M=A)||(M=a!==null&&a.memoizedState===null?!1:(or.current&2)!==0),M&&(v=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,a===null){if(_n){if(v?Nu(l):Ru(),_n){var $=ui,ut;if(ut=$){t:{for(ut=$,$=Ta;ut.nodeType!==8;){if(!$){$=null;break t}if(ut=oo(ut.nextSibling),ut===null){$=null;break t}}$=ut}$!==null?(l.memoizedState={dehydrated:$,treeContext:Il!==null?{id:Qa,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},ut=yr(18,null,null,0),ut.stateNode=$,ut.return=l,l.child=ut,Oi=l,ui=null,ut=!0):ut=!1}ut||Pl(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return E1($)?l.lanes=32:l.lanes=536870912,null;Fl(l)}return $=d.children,d=d.fallback,v?(Ru(),v=l.mode,$=ng({mode:"hidden",children:$},v),d=Xa(d,v,h,null),$.return=l,d.return=l,$.sibling=d,l.child=$,v=l.child,v.memoizedState=z0(h),v.childLanes=q0(a,M,h),l.memoizedState=U0,d):(Nu(l),H0(l,$))}if(ut=a.memoizedState,ut!==null&&($=ut.dehydrated,$!==null)){if(A)l.flags&256?(Nu(l),l.flags&=-257,l=W0(a,l,h)):l.memoizedState!==null?(Ru(),l.child=a.child,l.flags|=128,l=null):(Ru(),v=d.fallback,$=l.mode,d=ng({mode:"visible",children:d.children},$),v=Xa(v,$,h,null),v.flags|=2,d.return=l,v.return=l,d.sibling=v,l.child=d,Mh(l,a.child,null,h),d=l.child,d.memoizedState=z0(h),d.childLanes=q0(a,M,h),l.memoizedState=U0,l=v);else if(Nu(l),E1($)){if(M=$.nextSibling&&$.nextSibling.dataset,M)var Pt=M.dgst;M=Pt,d=Error(i(419)),d.stack="",d.digest=M,bu({value:d,source:null,stack:null}),l=W0(a,l,h)}else if(vr||wu(a,l,h,!1),M=(h&a.childLanes)!==0,vr||M){if(M=Jn,M!==null&&(d=h&-h,d=(d&42)!==0?1:Dr(d),d=(d&(M.suspendedLanes|h))!==0?0:d,d!==0&&d!==ut.retryLane))throw ut.retryLane=d,Ka(a,d),sa(M,a,d),y5;$.data==="$?"||u1(),l=W0(a,l,h)}else $.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ut.treeContext,ui=oo($.nextSibling),Oi=l,_n=!0,Bo=null,Ta=!1,a!==null&&(Es[hs++]=Qa,Es[hs++]=Ja,Es[hs++]=Il,Qa=a.id,Ja=a.overflow,Il=l),l=H0(l,d.children),l.flags|=4096);return l}return v?(Ru(),v=d.fallback,$=l.mode,ut=a.child,Pt=ut.sibling,d=xa(ut,{mode:"hidden",children:d.children}),d.subtreeFlags=ut.subtreeFlags&65011712,Pt!==null?v=xa(Pt,v):(v=Xa(v,$,h,null),v.flags|=2),v.return=l,d.return=l,d.sibling=v,l.child=d,d=v,v=l.child,$=a.child.memoizedState,$===null?$=z0(h):(ut=$.cachePool,ut!==null?(Pt=ji._currentValue,ut=ut.parent!==Pt?{parent:Pt,pool:Pt}:ut):ut=B(),$={baseLanes:$.baseLanes|h,cachePool:ut}),v.memoizedState=$,v.childLanes=q0(a,M,h),l.memoizedState=U0,d):(Nu(l),h=a.child,a=h.sibling,h=xa(h,{mode:"visible",children:d.children}),h.return=l,h.sibling=null,a!==null&&(M=l.deletions,M===null?(l.deletions=[a],l.flags|=16):M.push(a)),l.child=h,l.memoizedState=null,h)}function H0(a,l){return l=ng({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function ng(a,l){return a=yr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function W0(a,l,h){return Mh(l,a.child,null,h),a=H0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function N5(a,l,h){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),Th(a.return,l,h)}function G0(a,l,h,d,v){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:v}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=h,A.tailMode=v)}function R5(a,l,h){var d=l.pendingProps,v=d.revealOrder,A=d.tail;if(Rr(a,l,d.children,h),d=or.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&N5(a,h,l);else if(a.tag===19)N5(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(W(or,d),v){case"forwards":for(h=l.child,v=null;h!==null;)a=h.alternate,a!==null&&Jp(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=l.child,l.child=null):(v=h.sibling,h.sibling=null),G0(l,!1,v,h,A);break;case"backwards":for(h=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Jp(a)===null){l.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}G0(l,!0,h,null,A);break;case"together":G0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bl(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),ku|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(wu(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=xa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=xa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function Y0(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Nh(a)))}function lE(a,l,h){switch(l.tag){case 3:Et(l,l.stateNode.containerInfo),Vo(l,ji,a.memoizedState.cache),fs();break;case 27:case 5:Jt(l);break;case 4:Et(l,l.stateNode.containerInfo);break;case 10:Vo(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Nu(l),l.flags|=128,null):(h&l.child.childLanes)!==0?E5(a,l,h):(Nu(l),a=Bl(a,l,h),a!==null?a.sibling:null);Nu(l);break;case 19:var v=(a.flags&128)!==0;if(d=(h&l.childLanes)!==0,d||(wu(a,l,h,!1),d=(h&l.childLanes)!==0),v){if(d)return R5(a,l,h);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(or,or.current),d)break;return null;case 22:case 23:return l.lanes=0,w5(a,l,h);case 24:Vo(l,ji,a.memoizedState.cache)}return Bl(a,l,h)}function C5(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)vr=!0;else{if(!Y0(a,h)&&(l.flags&128)===0)return vr=!1,lE(a,l,h);vr=(a.flags&131072)!==0}else vr=!1,_n&&(l.flags&1048576)!==0&&Pp(l,xh,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var d=l.elementType,v=d._init;if(d=v(d._payload),l.type=d,typeof d=="function")vu(d)?(a=qc(d,a),l.tag=1,l=x5(null,l,d,a,h)):(l.tag=0,l=V0(null,l,d,a,h));else{if(d!=null){if(v=d.$$typeof,v===et){l.tag=11,l=v5(null,l,d,a,h);break t}else if(v===z){l.tag=14,l=_5(null,l,d,a,h);break t}}throw l=at(d)||d,Error(i(306,l,""))}}return l;case 0:return V0(a,l,l.type,l.pendingProps,h);case 1:return d=l.type,v=qc(d,l.pendingProps),x5(a,l,d,v,h);case 3:t:{if(Et(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var A=l.memoizedState;v=A.element,vt(a,l),re(l,d,null,h);var M=l.memoizedState;if(d=M.cache,Vo(l,ji,d),d!==A.cache&&Eh(l,[ji],h,!0),be(),d=M.element,A.isDehydrated)if(A={element:d,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=T5(a,l,d,h);break t}else if(d!==v){v=Ze(Error(i(424)),l),bu(v),l=T5(a,l,d,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ui=oo(a.firstChild),Oi=l,_n=!0,Bo=null,Ta=!0,h=o5(l,null,d,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fs(),d===v){l=Bl(a,l,h);break t}Rr(a,l,d,h)}l=l.child}return l;case 26:return eg(a,l),a===null?(h=k_(l.type,null,l.pendingProps,null))?l.memoizedState=h:_n||(h=l.type,a=l.pendingProps,d=mg(lt.current).createElement(h),d[Rn]=l,d[Cn]=a,Ir(d,h,a),bn(d),l.stateNode=d):l.memoizedState=k_(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Jt(l),a===null&&_n&&(d=l.stateNode=I_(l.type,l.pendingProps,lt.current),Oi=l,Ta=!0,v=ui,ju(l.type)?(N1=v,ui=oo(d.firstChild)):ui=v),Rr(a,l,l.pendingProps.children,h),eg(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&_n&&((v=d=ui)&&(d=ME(d,l.type,l.pendingProps,Ta),d!==null?(l.stateNode=d,Oi=l,ui=oo(d.firstChild),Ta=!1,v=!0):v=!1),v||Pl(l)),Jt(l),v=l.type,A=l.pendingProps,M=a!==null?a.memoizedProps:null,d=A.children,S1(v,A)?d=null:M!==null&&S1(v,M)&&(l.flags|=32),l.memoizedState!==null&&(v=Zs(a,l,qo,null,null,h),yd._currentValue=v),eg(a,l),Rr(a,l,d,h),l.child;case 6:return a===null&&_n&&((a=h=ui)&&(h=jE(h,l.pendingProps,Ta),h!==null?(l.stateNode=h,Oi=l,ui=null,a=!0):a=!1),a||Pl(l)),null;case 13:return E5(a,l,h);case 4:return Et(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=Mh(l,null,d,h):Rr(a,l,d,h),l.child;case 11:return v5(a,l,l.type,l.pendingProps,h);case 7:return Rr(a,l,l.pendingProps,h),l.child;case 8:return Rr(a,l,l.pendingProps.children,h),l.child;case 12:return Rr(a,l,l.pendingProps.children,h),l.child;case 10:return d=l.pendingProps,Vo(l,l.type,d.value),Rr(a,l,d.children,h),l.child;case 9:return v=l.type._context,d=l.pendingProps.children,Ra(l),v=Mi(v),d=d(v),l.flags|=1,Rr(a,l,d,h),l.child;case 14:return _5(a,l,l.type,l.pendingProps,h);case 15:return b5(a,l,l.type,l.pendingProps,h);case 19:return R5(a,l,h);case 31:return d=l.pendingProps,h=l.mode,d={mode:d.mode,children:d.children},a===null?(h=ng(d,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=xa(a.child,d),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return w5(a,l,h);case 24:return Ra(l),d=Mi(ji),a===null?(v=x(),v===null&&(v=Jn,A=Vf(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=h),v=A),l.memoizedState={parent:d,cache:v},gt(l),Vo(l,ji,v)):((a.lanes&h)!==0&&(vt(a,l),re(l,null,null,h),be()),v=a.memoizedState,A=l.memoizedState,v.parent!==d?(v={parent:d,cache:d},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Vo(l,ji,d)):(d=A.cache,Vo(l,ji,d),d!==v.cache&&Eh(l,[ji],h,!0))),Rr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Vl(a){a.flags|=4}function I5(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!F_(l)){if(l=Ia.current,l!==null&&((yn&4194048)===yn?Go!==null:(yn&62914560)!==yn&&(yn&536870912)===0||l!==Go))throw Rt=J,H;a.flags|=8192}}function ig(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Un():536870912,a.lanes|=l,Vh|=l)}function nd(a,l){if(!_n)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function gi(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(l)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=h,l}function uE(a,l,h){var d=l.pendingProps;switch(Ic(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(l),null;case 1:return gi(l),null;case 3:return h=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Na(ji),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Er(l)?Vl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Dp())),gi(l),null;case 26:return h=l.memoizedState,a===null?(Vl(l),h!==null?(gi(l),I5(l,h)):(gi(l),l.flags&=-16777217)):h?h!==a.memoizedState?(Vl(l),gi(l),I5(l,h)):(gi(l),l.flags&=-16777217):(a.memoizedProps!==d&&Vl(l),gi(l),l.flags&=-16777217),null;case 27:$t(l),h=lt.current;var v=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Vl(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return gi(l),null}a=Z.current,Er(l)?kp(l):(a=I_(v,d,h),l.stateNode=a,Vl(l))}return gi(l),null;case 5:if($t(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Vl(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return gi(l),null}if(a=Z.current,Er(l))kp(l);else{switch(v=mg(lt.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?v.createElement(h,{is:d.is}):v.createElement(h)}}a[Rn]=l,a[Cn]=d;t:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break t;for(;v.sibling===null;){if(v.return===null||v.return===l)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=a;t:switch(Ir(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Vl(l)}}return gi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&Vl(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=lt.current,Er(l)){if(a=l.stateNode,h=l.memoizedProps,d=null,v=Oi,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[Rn]=l,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||S_(a.nodeValue,h)),a||Pl(l)}else a=mg(a).createTextNode(d),a[Rn]=l,l.stateNode=a}return gi(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Er(l),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Rn]=l}else fs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gi(l),v=!1}else v=Dp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Fl(l),l):(Fl(l),null)}if(Fl(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=l.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var A=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(A=d.memoizedState.cachePool.pool),A!==v&&(d.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),ig(l,l.updateQueue),gi(l),null;case 4:return kt(),a===null&&v1(l.stateNode.containerInfo),gi(l),null;case 10:return Na(l.type),gi(l),null;case 19:if(j(or),v=l.memoizedState,v===null)return gi(l),null;if(d=(l.flags&128)!==0,A=v.rendering,A===null)if(d)nd(v,!1);else{if(Ei!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=Jp(a),A!==null){for(l.flags|=128,nd(v,!1),a=A.updateQueue,l.updateQueue=a,ig(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Nc(h,a),h=h.sibling;return W(or,or.current&1|2),l.child}a=a.sibling}v.tail!==null&&Se()>ag&&(l.flags|=128,d=!0,nd(v,!1),l.lanes=4194304)}else{if(!d)if(a=Jp(A),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,ig(l,a),nd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!_n)return gi(l),null}else 2*Se()-v.renderingStartTime>ag&&h!==536870912&&(l.flags|=128,d=!0,nd(v,!1),l.lanes=4194304);v.isBackwards?(A.sibling=l.child,l.child=A):(a=v.last,a!==null?a.sibling=A:l.child=A,v.last=A)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Se(),l.sibling=null,a=or.current,W(or,d?a&1|2:a&1),l):(gi(l),null);case 22:case 23:return Fl(l),Ve(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(h&536870912)!==0&&(l.flags&128)===0&&(gi(l),l.subtreeFlags&6&&(l.flags|=8192)):gi(l),h=l.updateQueue,h!==null&&ig(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048),a!==null&&j(b),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Na(ji),gi(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function cE(a,l){switch(Ic(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Na(ji),kt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $t(l),null;case 13:if(Fl(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));fs()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return j(or),null;case 4:return kt(),null;case 10:return Na(l.type),null;case 22:case 23:return Fl(l),Ve(),a!==null&&j(b),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Na(ji),null;case 25:return null;default:return null}}function L5(a,l){switch(Ic(l),l.tag){case 3:Na(ji),kt();break;case 26:case 27:case 5:$t(l);break;case 4:kt();break;case 13:Fl(l);break;case 19:j(or);break;case 10:Na(l.type);break;case 22:case 23:Fl(l),Ve(),a!==null&&j(b);break;case 24:Na(ji)}}function id(a,l){try{var h=l.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var v=d.next;h=v;do{if((h.tag&a)===a){d=void 0;var A=h.create,M=h.inst;d=A(),M.destroy=d}h=h.next}while(h!==v)}}catch($){Xn(l,l.return,$)}}function Cu(a,l,h){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var A=v.next;d=A;do{if((d.tag&a)===a){var M=d.inst,$=M.destroy;if($!==void 0){M.destroy=void 0,v=l;var ut=h,Pt=$;try{Pt()}catch(Vt){Xn(v,ut,Vt)}}}d=d.next}while(d!==A)}}catch(Vt){Xn(l,l.return,Vt)}}function P5(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Sn(l,h)}catch(d){Xn(a,a.return,d)}}}function k5(a,l,h){h.props=qc(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){Xn(a,l,d)}}function rd(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(v){Xn(a,l,v)}}function Yo(a,l){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(v){Xn(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Xn(a,l,v)}else h.current=null}function D5(a){var l=a.type,h=a.memoizedProps,d=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break t;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(v){Xn(a,a.return,v)}}function K0(a,l,h){try{var d=a.stateNode;LE(d,a.type,h,l),d[Cn]=l}catch(v){Xn(a,a.return,v)}}function O5(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ju(a.type)||a.tag===4}function X0(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||O5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ju(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $0(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=gg));else if(d!==4&&(d===27&&ju(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for($0(a,l,h),a=a.sibling;a!==null;)$0(a,l,h),a=a.sibling}function rg(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(d!==4&&(d===27&&ju(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(rg(a,l,h),a=a.sibling;a!==null;)rg(a,l,h),a=a.sibling}function M5(a){var l=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Ir(l,d,h),l[Rn]=a,l[Cn]=h}catch(A){Xn(a,a.return,A)}}var Ul=!1,Bi=!1,Q0=!1,j5=typeof WeakSet=="function"?WeakSet:Set,_r=null;function hE(a,l){if(a=a.containerInfo,w1=Ag,a=Tr(a),ar(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var v=d.anchorOffset,A=d.focusNode;d=d.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break t}var M=0,$=-1,ut=-1,Pt=0,Vt=0,Wt=a,Dt=null;e:for(;;){for(var Ot;Wt!==h||v!==0&&Wt.nodeType!==3||($=M+v),Wt!==A||d!==0&&Wt.nodeType!==3||(ut=M+d),Wt.nodeType===3&&(M+=Wt.nodeValue.length),(Ot=Wt.firstChild)!==null;)Dt=Wt,Wt=Ot;for(;;){if(Wt===a)break e;if(Dt===h&&++Pt===v&&($=M),Dt===A&&++Vt===d&&(ut=M),(Ot=Wt.nextSibling)!==null)break;Wt=Dt,Dt=Wt.parentNode}Wt=Ot}h=$===-1||ut===-1?null:{start:$,end:ut}}else h=null}h=h||{start:0,end:0}}else h=null;for(A1={focusedElem:a,selectionRange:h},Ag=!1,_r=l;_r!==null;)if(l=_r,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,_r=a;else for(;_r!==null;){switch(l=_r,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,h=l,v=A.memoizedProps,A=A.memoizedState,d=h.stateNode;try{var je=qc(h.type,v,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(je,A),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ce){Xn(h,h.return,Ce)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)T1(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":T1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,_r=a;break}_r=l.return}}function F5(a,l,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:Iu(a,h),d&4&&id(5,h);break;case 1:if(Iu(a,h),d&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(M){Xn(h,h.return,M)}else{var v=qc(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(M){Xn(h,h.return,M)}}d&64&&P5(h),d&512&&rd(h,h.return);break;case 3:if(Iu(a,h),d&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Sn(a,l)}catch(M){Xn(h,h.return,M)}}break;case 27:l===null&&d&4&&M5(h);case 26:case 5:Iu(a,h),l===null&&d&4&&D5(h),d&512&&rd(h,h.return);break;case 12:Iu(a,h);break;case 13:Iu(a,h),d&4&&U5(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=bE.bind(null,h),FE(a,h))));break;case 22:if(d=h.memoizedState!==null||Ul,!d){l=l!==null&&l.memoizedState!==null||Bi,v=Ul;var A=Bi;Ul=d,(Bi=l)&&!A?Lu(a,h,(h.subtreeFlags&8772)!==0):Iu(a,h),Ul=v,Bi=A}break;case 30:break;default:Iu(a,h)}}function B5(a){var l=a.alternate;l!==null&&(a.alternate=null,B5(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Wi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ci=null,Rs=!1;function zl(a,l,h){for(h=h.child;h!==null;)V5(a,l,h),h=h.sibling}function V5(a,l,h){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(_e,h)}catch{}switch(h.tag){case 26:Bi||Yo(h,l),zl(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Bi||Yo(h,l);var d=ci,v=Rs;ju(h.type)&&(ci=h.stateNode,Rs=!1),zl(a,l,h),dd(h.stateNode),ci=d,Rs=v;break;case 5:Bi||Yo(h,l);case 6:if(d=ci,v=Rs,ci=null,zl(a,l,h),ci=d,Rs=v,ci!==null)if(Rs)try{(ci.nodeType===9?ci.body:ci.nodeName==="HTML"?ci.ownerDocument.body:ci).removeChild(h.stateNode)}catch(A){Xn(h,l,A)}else try{ci.removeChild(h.stateNode)}catch(A){Xn(h,l,A)}break;case 18:ci!==null&&(Rs?(a=ci,R_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),wd(a)):R_(ci,h.stateNode));break;case 4:d=ci,v=Rs,ci=h.stateNode.containerInfo,Rs=!0,zl(a,l,h),ci=d,Rs=v;break;case 0:case 11:case 14:case 15:Bi||Cu(2,h,l),Bi||Cu(4,h,l),zl(a,l,h);break;case 1:Bi||(Yo(h,l),d=h.stateNode,typeof d.componentWillUnmount=="function"&&k5(h,l,d)),zl(a,l,h);break;case 21:zl(a,l,h);break;case 22:Bi=(d=Bi)||h.memoizedState!==null,zl(a,l,h),Bi=d;break;default:zl(a,l,h)}}function U5(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{wd(a)}catch(h){Xn(l,l.return,h)}}function fE(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new j5),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new j5),l;default:throw Error(i(435,a.tag))}}function J0(a,l){var h=fE(a);l.forEach(function(d){var v=wE.bind(null,a,d);h.has(d)||(h.add(d),d.then(v,v))})}function ea(a,l){var h=l.deletions;if(h!==null)for(var d=0;d<h.length;d++){var v=h[d],A=a,M=l,$=M;t:for(;$!==null;){switch($.tag){case 27:if(ju($.type)){ci=$.stateNode,Rs=!1;break t}break;case 5:ci=$.stateNode,Rs=!1;break t;case 3:case 4:ci=$.stateNode.containerInfo,Rs=!0;break t}$=$.return}if(ci===null)throw Error(i(160));V5(A,M,v),ci=null,Rs=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)z5(l,a),l=l.sibling}var ao=null;function z5(a,l){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ea(l,a),na(a),d&4&&(Cu(3,a,a.return),id(3,a),Cu(5,a,a.return));break;case 1:ea(l,a),na(a),d&512&&(Bi||h===null||Yo(h,h.return)),d&64&&Ul&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var v=ao;if(ea(l,a),na(a),d&512&&(Bi||h===null||Yo(h,h.return)),d&4){var A=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){t:{d=a.type,h=a.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":A=v.getElementsByTagName("title")[0],(!A||A[Sr]||A[Rn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(d),v.head.insertBefore(A,v.querySelector("head > title"))),Ir(A,d,h),A[Rn]=a,bn(A),d=A;break t;case"link":var M=M_("link","href",v).get(d+(h.href||""));if(M){for(var $=0;$<M.length;$++)if(A=M[$],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice($,1);break e}}A=v.createElement(d),Ir(A,d,h),v.head.appendChild(A);break;case"meta":if(M=M_("meta","content",v).get(d+(h.content||""))){for($=0;$<M.length;$++)if(A=M[$],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice($,1);break e}}A=v.createElement(d),Ir(A,d,h),v.head.appendChild(A);break;default:throw Error(i(468,d))}A[Rn]=a,bn(A),d=A}a.stateNode=d}else j_(v,a.type,a.stateNode);else a.stateNode=O_(v,d,a.memoizedProps);else A!==d?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,d===null?j_(v,a.type,a.stateNode):O_(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&K0(a,a.memoizedProps,h.memoizedProps)}break;case 27:ea(l,a),na(a),d&512&&(Bi||h===null||Yo(h,h.return)),h!==null&&d&4&&K0(a,a.memoizedProps,h.memoizedProps);break;case 5:if(ea(l,a),na(a),d&512&&(Bi||h===null||Yo(h,h.return)),a.flags&32){v=a.stateNode;try{Mr(v,"")}catch(Ot){Xn(a,a.return,Ot)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,K0(a,v,h!==null?h.memoizedProps:v)),d&1024&&(Q0=!0);break;case 6:if(ea(l,a),na(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(Ot){Xn(a,a.return,Ot)}}break;case 3:if(_g=null,v=ao,ao=yg(l.containerInfo),ea(l,a),ao=v,na(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{wd(l.containerInfo)}catch(Ot){Xn(a,a.return,Ot)}Q0&&(Q0=!1,q5(a));break;case 4:d=ao,ao=yg(a.stateNode.containerInfo),ea(l,a),na(a),ao=d;break;case 12:ea(l,a),na(a);break;case 13:ea(l,a),na(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(r1=Se()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,J0(a,d)));break;case 22:v=a.memoizedState!==null;var ut=h!==null&&h.memoizedState!==null,Pt=Ul,Vt=Bi;if(Ul=Pt||v,Bi=Vt||ut,ea(l,a),Bi=Vt,Ul=Pt,na(a),d&8192)t:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(h===null||ut||Ul||Bi||Hc(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ut=h=l;try{if(A=ut.stateNode,v)M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{$=ut.stateNode;var Wt=ut.memoizedProps.style,Dt=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null;$.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(Ot){Xn(ut,ut.return,Ot)}}}else if(l.tag===6){if(h===null){ut=l;try{ut.stateNode.nodeValue=v?"":ut.memoizedProps}catch(Ot){Xn(ut,ut.return,Ot)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,J0(a,h))));break;case 19:ea(l,a),na(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,J0(a,d)));break;case 30:break;case 21:break;default:ea(l,a),na(a)}}function na(a){var l=a.flags;if(l&2){try{for(var h,d=a.return;d!==null;){if(O5(d)){h=d;break}d=d.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var v=h.stateNode,A=X0(a);rg(a,A,v);break;case 5:var M=h.stateNode;h.flags&32&&(Mr(M,""),h.flags&=-33);var $=X0(a);rg(a,$,M);break;case 3:case 4:var ut=h.stateNode.containerInfo,Pt=X0(a);$0(a,Pt,ut);break;default:throw Error(i(161))}}catch(Vt){Xn(a,a.return,Vt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function q5(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;q5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Iu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)F5(a,l.alternate,l),l=l.sibling}function Hc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Cu(4,l,l.return),Hc(l);break;case 1:Yo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&k5(l,l.return,h),Hc(l);break;case 27:dd(l.stateNode);case 26:case 5:Yo(l,l.return),Hc(l);break;case 22:l.memoizedState===null&&Hc(l);break;case 30:Hc(l);break;default:Hc(l)}a=a.sibling}}function Lu(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,v=a,A=l,M=A.flags;switch(A.tag){case 0:case 11:case 15:Lu(v,A,h),id(4,A);break;case 1:if(Lu(v,A,h),d=A,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Pt){Xn(d,d.return,Pt)}if(d=A,v=d.updateQueue,v!==null){var $=d.stateNode;try{var ut=v.shared.hiddenCallbacks;if(ut!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ut.length;v++)gn(ut[v],$)}catch(Pt){Xn(d,d.return,Pt)}}h&&M&64&&P5(A),rd(A,A.return);break;case 27:M5(A);case 26:case 5:Lu(v,A,h),h&&d===null&&M&4&&D5(A),rd(A,A.return);break;case 12:Lu(v,A,h);break;case 13:Lu(v,A,h),h&&M&4&&U5(v,A);break;case 22:A.memoizedState===null&&Lu(v,A,h),rd(A,A.return);break;case 30:break;default:Lu(v,A,h)}l=l.sibling}}function Z0(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Lc(h))}function t1(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lc(a))}function Ko(a,l,h,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)H5(a,l,h,d),l=l.sibling}function H5(a,l,h,d){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ko(a,l,h,d),v&2048&&id(9,l);break;case 1:Ko(a,l,h,d);break;case 3:Ko(a,l,h,d),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lc(a)));break;case 12:if(v&2048){Ko(a,l,h,d),a=l.stateNode;try{var A=l.memoizedProps,M=A.id,$=A.onPostCommit;typeof $=="function"&&$(M,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ut){Xn(l,l.return,ut)}}else Ko(a,l,h,d);break;case 13:Ko(a,l,h,d);break;case 23:break;case 22:A=l.stateNode,M=l.alternate,l.memoizedState!==null?A._visibility&2?Ko(a,l,h,d):sd(a,l):A._visibility&2?Ko(a,l,h,d):(A._visibility|=2,jh(a,l,h,d,(l.subtreeFlags&10256)!==0)),v&2048&&Z0(M,l);break;case 24:Ko(a,l,h,d),v&2048&&t1(l.alternate,l);break;default:Ko(a,l,h,d)}}function jh(a,l,h,d,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,M=l,$=h,ut=d,Pt=M.flags;switch(M.tag){case 0:case 11:case 15:jh(A,M,$,ut,v),id(8,M);break;case 23:break;case 22:var Vt=M.stateNode;M.memoizedState!==null?Vt._visibility&2?jh(A,M,$,ut,v):sd(A,M):(Vt._visibility|=2,jh(A,M,$,ut,v)),v&&Pt&2048&&Z0(M.alternate,M);break;case 24:jh(A,M,$,ut,v),v&&Pt&2048&&t1(M.alternate,M);break;default:jh(A,M,$,ut,v)}l=l.sibling}}function sd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,d=l,v=d.flags;switch(d.tag){case 22:sd(h,d),v&2048&&Z0(d.alternate,d);break;case 24:sd(h,d),v&2048&&t1(d.alternate,d);break;default:sd(h,d)}l=l.sibling}}var ad=8192;function Fh(a){if(a.subtreeFlags&ad)for(a=a.child;a!==null;)W5(a),a=a.sibling}function W5(a){switch(a.tag){case 26:Fh(a),a.flags&ad&&a.memoizedState!==null&&QE(ao,a.memoizedState,a.memoizedProps);break;case 5:Fh(a);break;case 3:case 4:var l=ao;ao=yg(a.stateNode.containerInfo),Fh(a),ao=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=ad,ad=16777216,Fh(a),ad=l):Fh(a));break;default:Fh(a)}}function G5(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function od(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];_r=d,K5(d,a)}G5(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Y5(a),a=a.sibling}function Y5(a){switch(a.tag){case 0:case 11:case 15:od(a),a.flags&2048&&Cu(9,a,a.return);break;case 3:od(a);break;case 12:od(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,sg(a)):od(a);break;default:od(a)}}function sg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];_r=d,K5(d,a)}G5(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Cu(8,l,l.return),sg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,sg(l));break;default:sg(l)}a=a.sibling}}function K5(a,l){for(;_r!==null;){var h=_r;switch(h.tag){case 0:case 11:case 15:Cu(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lc(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,_r=d;else t:for(h=a;_r!==null;){d=_r;var v=d.sibling,A=d.return;if(B5(d),d===h){_r=null;break t}if(v!==null){v.return=A,_r=v;break t}_r=A}}}var dE={getCacheForType:function(a){var l=Mi(ji),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},pE=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Jn=null,an=null,yn=0,jn=0,ia=null,Pu=!1,Bh=!1,e1=!1,ql=0,Ei=0,ku=0,Wc=0,n1=0,La=0,Vh=0,ld=null,Cs=null,i1=!1,r1=0,ag=1/0,og=null,Du=null,Cr=0,Ou=null,Uh=null,zh=0,s1=0,a1=null,X5=null,ud=0,o1=null;function ra(){if((Mn&2)!==0&&yn!==0)return yn&-yn;if(nt.T!==null){var a=kl;return a!==0?a:p1()}return nr()}function $5(){La===0&&(La=(yn&536870912)===0||_n?Fs():536870912);var a=Ia.current;return a!==null&&(a.flags|=32),La}function sa(a,l,h){(a===Jn&&(jn===2||jn===9)||a.cancelPendingCommit!==null)&&(qh(a,0),Mu(a,yn,La,!1)),er(a,h),((Mn&2)===0||a!==Jn)&&(a===Jn&&((Mn&2)===0&&(Wc|=h),Ei===4&&Mu(a,yn,La,!1)),Xo(a))}function Q5(a,l,h){if((Mn&6)!==0)throw Error(i(327));var d=!h&&(l&124)===0&&(l&a.expiredLanes)===0||hr(a,l),v=d?yE(a,l):c1(a,l,!0),A=d;do{if(v===0){Bh&&!d&&Mu(a,l,0,!1);break}else{if(h=a.current.alternate,A&&!gE(h)){v=c1(a,l,!1),A=!1;continue}if(v===2){if(A=l,a.errorRecoveryDisabledLanes&A)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;t:{var $=a;v=ld;var ut=$.current.memoizedState.isDehydrated;if(ut&&(qh($,M).flags|=256),M=c1($,M,!1),M!==2){if(e1&&!ut){$.errorRecoveryDisabledLanes|=A,Wc|=A,v=4;break t}A=Cs,Cs=v,A!==null&&(Cs===null?Cs=A:Cs.push.apply(Cs,A))}v=M}if(A=!1,v!==2)continue}}if(v===1){qh(a,0),Mu(a,l,0,!0);break}t:{switch(d=a,A=v,A){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Mu(d,l,La,!Pu);break t;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(v=r1+300-Se(),10<v)){if(Mu(d,l,La,!Pu),Nn(d,0,!0)!==0)break t;d.timeoutHandle=E_(J5.bind(null,d,h,Cs,og,i1,l,La,Wc,Vh,Pu,A,2,-0,0),v);break t}J5(d,h,Cs,og,i1,l,La,Wc,Vh,Pu,A,0,-0,0)}}break}while(!0);Xo(a)}function J5(a,l,h,d,v,A,M,$,ut,Pt,Vt,Wt,Dt,Ot){if(a.timeoutHandle=-1,Wt=l.subtreeFlags,(Wt&8192||(Wt&16785408)===16785408)&&(md={stylesheets:null,count:0,unsuspend:$E},W5(l),Wt=JE(),Wt!==null)){a.cancelPendingCommit=Wt(s_.bind(null,a,l,A,h,d,v,M,$,ut,Vt,1,Dt,Ot)),Mu(a,A,M,!Pt);return}s_(a,l,A,h,d,v,M,$,ut)}function gE(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var v=h[d],A=v.getSnapshot;v=v.value;try{if(!Yi(A(),v))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Mu(a,l,h,d){l&=~n1,l&=~Wc,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var v=l;0<v;){var A=31-fe(v),M=1<<A;d[A]=-1,v&=~M}h!==0&&xe(a,h,l)}function lg(){return(Mn&6)===0?(cd(0),!1):!0}function l1(){if(an!==null){if(jn===0)var a=an.return;else a=an,to=Xi=null,Ch(a),Oh=null,td=0,a=an;for(;a!==null;)L5(a.alternate,a),a=a.return;an=null}}function qh(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,kE(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),l1(),Jn=a,an=h=xa(a.current,null),yn=l,jn=0,ia=null,Pu=!1,Bh=hr(a,l),e1=!1,Vh=La=n1=Wc=ku=Ei=0,Cs=ld=null,i1=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var v=31-fe(d),A=1<<v;l|=a[v],d&=~A}return ql=l,xs(),h}function Z5(a,l){Te=null,nt.H=Xp,l===q||l===Y?(l=At(),jn=3):l===H?(l=At(),jn=4):jn=l===y5?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ia=l,an===null&&(Ei=1,tg(a,Ze(l,a.current)))}function t_(){var a=nt.H;return nt.H=Xp,a===null?Xp:a}function e_(){var a=nt.A;return nt.A=dE,a}function u1(){Ei=4,Pu||(yn&4194048)!==yn&&Ia.current!==null||(Bh=!0),(ku&134217727)===0&&(Wc&134217727)===0||Jn===null||Mu(Jn,yn,La,!1)}function c1(a,l,h){var d=Mn;Mn|=2;var v=t_(),A=e_();(Jn!==a||yn!==l)&&(og=null,qh(a,l)),l=!1;var M=Ei;t:do try{if(jn!==0&&an!==null){var $=an,ut=ia;switch(jn){case 8:l1(),M=6;break t;case 3:case 2:case 9:case 6:Ia.current===null&&(l=!0);var Pt=jn;if(jn=0,ia=null,Hh(a,$,ut,Pt),h&&Bh){M=0;break t}break;default:Pt=jn,jn=0,ia=null,Hh(a,$,ut,Pt)}}mE(),M=Ei;break}catch(Vt){Z5(a,Vt)}while(!0);return l&&a.shellSuspendCounter++,to=Xi=null,Mn=d,nt.H=v,nt.A=A,an===null&&(Jn=null,yn=0,xs()),M}function mE(){for(;an!==null;)n_(an)}function yE(a,l){var h=Mn;Mn|=2;var d=t_(),v=e_();Jn!==a||yn!==l?(og=null,ag=Se()+500,qh(a,l)):Bh=hr(a,l);t:do try{if(jn!==0&&an!==null){l=an;var A=ia;e:switch(jn){case 1:jn=0,ia=null,Hh(a,l,A,1);break;case 2:case 9:if(it(A)){jn=0,ia=null,i_(l);break}l=function(){jn!==2&&jn!==9||Jn!==a||(jn=7),Xo(a)},A.then(l,l);break t;case 3:jn=7;break t;case 4:jn=5;break t;case 7:it(A)?(jn=0,ia=null,i_(l)):(jn=0,ia=null,Hh(a,l,A,7));break;case 5:var M=null;switch(an.tag){case 26:M=an.memoizedState;case 5:case 27:var $=an;if(!M||F_(M)){jn=0,ia=null;var ut=$.sibling;if(ut!==null)an=ut;else{var Pt=$.return;Pt!==null?(an=Pt,ug(Pt)):an=null}break e}}jn=0,ia=null,Hh(a,l,A,5);break;case 6:jn=0,ia=null,Hh(a,l,A,6);break;case 8:l1(),Ei=6;break t;default:throw Error(i(462))}}vE();break}catch(Vt){Z5(a,Vt)}while(!0);return to=Xi=null,nt.H=d,nt.A=v,Mn=h,an!==null?0:(Jn=null,yn=0,xs(),Ei)}function vE(){for(;an!==null&&!Ft();)n_(an)}function n_(a){var l=C5(a.alternate,a,ql);a.memoizedProps=a.pendingProps,l===null?ug(a):an=l}function i_(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=S5(h,l,l.pendingProps,l.type,void 0,yn);break;case 11:l=S5(h,l,l.pendingProps,l.type.render,l.ref,yn);break;case 5:Ch(l);default:L5(h,l),l=an=Nc(l,ql),l=C5(h,l,ql)}a.memoizedProps=a.pendingProps,l===null?ug(a):an=l}function Hh(a,l,h,d){to=Xi=null,Ch(l),Oh=null,td=0;var v=l.return;try{if(oE(a,v,l,h,yn)){Ei=1,tg(a,Ze(h,a.current)),an=null;return}}catch(A){if(v!==null)throw an=v,A;Ei=1,tg(a,Ze(h,a.current)),an=null;return}l.flags&32768?(_n||d===1?a=!0:Bh||(yn&536870912)!==0?a=!1:(Pu=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ia.current,d!==null&&d.tag===13&&(d.flags|=16384))),r_(l,a)):ug(l)}function ug(a){var l=a;do{if((l.flags&32768)!==0){r_(l,Pu);return}a=l.return;var h=uE(l.alternate,l,ql);if(h!==null){an=h;return}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);Ei===0&&(Ei=5)}function r_(a,l){do{var h=cE(a.alternate,a);if(h!==null){h.flags&=32767,an=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){an=a;return}an=a=h}while(a!==null);Ei=6,an=null}function s_(a,l,h,d,v,A,M,$,ut){a.cancelPendingCommit=null;do cg();while(Cr!==0);if((Mn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(A=l.lanes|l.childLanes,A|=fi,zn(a,h,A,M,$,ut),a===Jn&&(an=Jn=null,yn=0),Uh=l,Ou=a,zh=h,s1=A,a1=v,X5=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,AE(se,function(){return c_(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=nt.T,nt.T=null,v=ct.p,ct.p=2,M=Mn,Mn|=4;try{hE(a,l,h)}finally{Mn=M,ct.p=v,nt.T=d}}Cr=1,a_(),o_(),l_()}}function a_(){if(Cr===1){Cr=0;var a=Ou,l=Uh,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=nt.T,nt.T=null;var d=ct.p;ct.p=2;var v=Mn;Mn|=4;try{z5(l,a);var A=A1,M=Tr(a.containerInfo),$=A.focusedElem,ut=A.selectionRange;if(M!==$&&$&&$.ownerDocument&&Io($.ownerDocument.documentElement,$)){if(ut!==null&&ar($)){var Pt=ut.start,Vt=ut.end;if(Vt===void 0&&(Vt=Pt),"selectionStart"in $)$.selectionStart=Pt,$.selectionEnd=Math.min(Vt,$.value.length);else{var Wt=$.ownerDocument||document,Dt=Wt&&Wt.defaultView||window;if(Dt.getSelection){var Ot=Dt.getSelection(),je=$.textContent.length,Ce=Math.min(ut.start,je),Yn=ut.end===void 0?Ce:Math.min(ut.end,je);!Ot.extend&&Ce>Yn&&(M=Yn,Yn=Ce,Ce=M);var xt=Ga($,Ce),yt=Ga($,Yn);if(xt&&yt&&(Ot.rangeCount!==1||Ot.anchorNode!==xt.node||Ot.anchorOffset!==xt.offset||Ot.focusNode!==yt.node||Ot.focusOffset!==yt.offset)){var Ct=Wt.createRange();Ct.setStart(xt.node,xt.offset),Ot.removeAllRanges(),Ce>Yn?(Ot.addRange(Ct),Ot.extend(yt.node,yt.offset)):(Ct.setEnd(yt.node,yt.offset),Ot.addRange(Ct))}}}}for(Wt=[],Ot=$;Ot=Ot.parentNode;)Ot.nodeType===1&&Wt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Wt.length;$++){var zt=Wt[$];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}Ag=!!w1,A1=w1=null}finally{Mn=v,ct.p=d,nt.T=h}}a.current=l,Cr=2}}function o_(){if(Cr===2){Cr=0;var a=Ou,l=Uh,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=nt.T,nt.T=null;var d=ct.p;ct.p=2;var v=Mn;Mn|=4;try{F5(a,l.alternate,l)}finally{Mn=v,ct.p=d,nt.T=h}}Cr=3}}function l_(){if(Cr===4||Cr===3){Cr=0,ot();var a=Ou,l=Uh,h=zh,d=X5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Cr=5:(Cr=0,Uh=Ou=null,u_(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Du=null),si(h),l=l.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(_e,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=nt.T,v=ct.p,ct.p=2,nt.T=null;try{for(var A=a.onRecoverableError,M=0;M<d.length;M++){var $=d[M];A($.value,{componentStack:$.stack})}}finally{nt.T=l,ct.p=v}}(zh&3)!==0&&cg(),Xo(a),v=a.pendingLanes,(h&4194090)!==0&&(v&42)!==0?a===o1?ud++:(ud=0,o1=a):ud=0,cd(0)}}function u_(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Lc(l)))}function cg(a){return a_(),o_(),l_(),c_()}function c_(){if(Cr!==5)return!1;var a=Ou,l=s1;s1=0;var h=si(zh),d=nt.T,v=ct.p;try{ct.p=32>h?32:h,nt.T=null,h=a1,a1=null;var A=Ou,M=zh;if(Cr=0,Uh=Ou=null,zh=0,(Mn&6)!==0)throw Error(i(331));var $=Mn;if(Mn|=4,Y5(A.current),H5(A,A.current,M,h),Mn=$,cd(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(_e,A)}catch{}return!0}finally{ct.p=v,nt.T=d,u_(a,l)}}function h_(a,l,h){l=Ze(h,l),l=B0(a.stateNode,l,2),a=Ht(a,l,2),a!==null&&(er(a,2),Xo(a))}function Xn(a,l,h){if(a.tag===3)h_(a,a,h);else for(;l!==null;){if(l.tag===3){h_(l,a,h);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Du===null||!Du.has(d))){a=Ze(h,a),h=g5(2),d=Ht(l,h,2),d!==null&&(m5(h,d,l,a),er(d,2),Xo(d));break}}l=l.return}}function h1(a,l,h){var d=a.pingCache;if(d===null){d=a.pingCache=new pE;var v=new Set;d.set(l,v)}else v=d.get(l),v===void 0&&(v=new Set,d.set(l,v));v.has(h)||(e1=!0,v.add(h),a=_E.bind(null,a,l,h),l.then(a,a))}function _E(a,l,h){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Jn===a&&(yn&h)===h&&(Ei===4||Ei===3&&(yn&62914560)===yn&&300>Se()-r1?(Mn&2)===0&&qh(a,0):n1|=h,Vh===yn&&(Vh=0)),Xo(a)}function f_(a,l){l===0&&(l=Un()),a=Ka(a,l),a!==null&&(er(a,l),Xo(a))}function bE(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),f_(a,h)}function wE(a,l){var h=0;switch(a.tag){case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),f_(a,h)}function AE(a,l){return te(a,l)}var hg=null,Wh=null,f1=!1,fg=!1,d1=!1,Gc=0;function Xo(a){a!==Wh&&a.next===null&&(Wh===null?hg=Wh=a:Wh=Wh.next=a),fg=!0,f1||(f1=!0,xE())}function cd(a,l){if(!d1&&fg){d1=!0;do for(var h=!1,d=hg;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var A=0;else{var M=d.suspendedLanes,$=d.pingedLanes;A=(1<<31-fe(42|a)+1)-1,A&=v&~(M&~$),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,m_(d,A))}else A=yn,A=Nn(d,d===Jn?A:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(A&3)===0||hr(d,A)||(h=!0,m_(d,A));d=d.next}while(h);d1=!1}}function SE(){d_()}function d_(){fg=f1=!1;var a=0;Gc!==0&&(PE()&&(a=Gc),Gc=0);for(var l=Se(),h=null,d=hg;d!==null;){var v=d.next,A=p_(d,l);A===0?(d.next=null,h===null?hg=v:h.next=v,v===null&&(Wh=h)):(h=d,(a!==0||(A&3)!==0)&&(fg=!0)),d=v}cd(a)}function p_(a,l){for(var h=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var M=31-fe(A),$=1<<M,ut=v[M];ut===-1?(($&h)===0||($&d)!==0)&&(v[M]=ln($,l)):ut<=l&&(a.expiredLanes|=$),A&=~$}if(l=Jn,h=yn,h=Nn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===l&&(jn===2||jn===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&we(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||hr(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(d!==null&&we(d),si(h)){case 2:case 8:h=Zt;break;case 32:h=se;break;case 268435456:h=ve;break;default:h=se}return d=g_.bind(null,a),h=te(h,d),a.callbackPriority=l,a.callbackNode=h,l}return d!==null&&d!==null&&we(d),a.callbackPriority=2,a.callbackNode=null,2}function g_(a,l){if(Cr!==0&&Cr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(cg()&&a.callbackNode!==h)return null;var d=yn;return d=Nn(a,a===Jn?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Q5(a,d,l),p_(a,Se()),a.callbackNode!=null&&a.callbackNode===h?g_.bind(null,a):null)}function m_(a,l){if(cg())return null;Q5(a,l,!0)}function xE(){DE(function(){(Mn&6)!==0?te(Qt,SE):d_()})}function p1(){return Gc===0&&(Gc=Fs()),Gc}function y_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ws(""+a)}function v_(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function TE(a,l,h,d,v){if(l==="submit"&&h&&h.stateNode===v){var A=y_((v[Cn]||null).action),M=d.submitter;M&&(l=(l=M[Cn]||null)?y_(l.formAction):M.getAttribute("formAction"),l!==null&&(A=l,M=null));var $=new ga("action","action",null,d,v);a.push({event:$,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gc!==0){var ut=M?v_(v,M):new FormData(v);Ca(h,{pending:!0,data:ut,method:v.method,action:A},null,ut)}}else typeof A=="function"&&($.preventDefault(),ut=M?v_(v,M):new FormData(v),Ca(h,{pending:!0,data:ut,method:v.method,action:A},A,ut))},currentTarget:v}]})}}for(var g1=0;g1<Nl.length;g1++){var m1=Nl[g1],EE=m1.toLowerCase(),NE=m1[0].toUpperCase()+m1.slice(1);li(EE,"on"+NE)}li(mu,"onAnimationEnd"),li(Po,"onAnimationIteration"),li(ko,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Do,"onTransitionRun"),li(El,"onTransitionStart"),li(yu,"onTransitionCancel"),li(Oo,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function __(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],v=d.event;d=d.listeners;t:{var A=void 0;if(l)for(var M=d.length-1;0<=M;M--){var $=d[M],ut=$.instance,Pt=$.currentTarget;if($=$.listener,ut!==A&&v.isPropagationStopped())break t;A=$,v.currentTarget=Pt;try{A(v)}catch(Vt){Zp(Vt)}v.currentTarget=null,A=ut}else for(M=0;M<d.length;M++){if($=d[M],ut=$.instance,Pt=$.currentTarget,$=$.listener,ut!==A&&v.isPropagationStopped())break t;A=$,v.currentTarget=Pt;try{A(v)}catch(Vt){Zp(Vt)}v.currentTarget=null,A=ut}}}}function on(a,l){var h=l[Zn];h===void 0&&(h=l[Zn]=new Set);var d=a+"__bubble";h.has(d)||(b_(l,a,2,!1),h.add(d))}function y1(a,l,h){var d=0;l&&(d|=4),b_(h,a,d,l)}var dg="_reactListening"+Math.random().toString(36).slice(2);function v1(a){if(!a[dg]){a[dg]=!0,Bs.forEach(function(h){h!=="selectionchange"&&(RE.has(h)||y1(h,!1,a),y1(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[dg]||(l[dg]=!0,y1("selectionchange",!1,l))}}function b_(a,l,h,d){switch(H_(l)){case 2:var v=e6;break;case 8:v=n6;break;default:v=P1}h=v.bind(null,l,h,a),v=void 0,!xr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(l,h,{capture:!0,passive:v}):a.addEventListener(l,h,!0):v!==void 0?a.addEventListener(l,h,{passive:v}):a.addEventListener(l,h,!1)}function _1(a,l,h,d,v){var A=d;if((l&1)===0&&(l&2)===0&&d!==null)t:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var $=d.stateNode.containerInfo;if($===v)break;if(M===4)for(M=d.return;M!==null;){var ut=M.tag;if((ut===3||ut===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;$!==null;){if(M=Li($),M===null)return;if(ut=M.tag,ut===5||ut===6||ut===26||ut===27){d=A=M;continue t}$=$.parentNode}}d=d.return}hu(function(){var Pt=A,Vt=Dn(h),Wt=[];t:{var Dt=Ya.get(a);if(Dt!==void 0){var Ot=ga,je=a;switch(a){case"keypress":if(Br(h)===0)break t;case"keydown":case"keyup":Ot=Xs;break;case"focusin":je="focus",Ot=ya;break;case"focusout":je="blur",Ot=ya;break;case"beforeblur":case"afterblur":Ot=ya;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Eo;break;case mu:case Po:case ko:Ot=So;break;case Oo:Ot=V;break;case"scroll":case"scrollend":Ot=bl;break;case"wheel":Ot=dt;break;case"copy":case"cut":case"paste":Ot=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Wa;break;case"toggle":case"beforetoggle":Ot=jt}var Ce=(l&4)!==0,Yn=!Ce&&(a==="scroll"||a==="scrollend"),xt=Ce?Dt!==null?Dt+"Capture":null:Dt;Ce=[];for(var yt=Pt,Ct;yt!==null;){var zt=yt;if(Ct=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Ct===null||xt===null||(zt=dr(yt,xt),zt!=null&&Ce.push(fd(yt,zt,Ct))),Yn)break;yt=yt.return}0<Ce.length&&(Dt=new Ot(Dt,je,null,h,Vt),Wt.push({event:Dt,listeners:Ce}))}}if((l&7)===0){t:{if(Dt=a==="mouseover"||a==="pointerover",Ot=a==="mouseout"||a==="pointerout",Dt&&h!==ms&&(je=h.relatedTarget||h.fromElement)&&(Li(je)||je[Kn]))break t;if((Ot||Dt)&&(Dt=Vt.window===Vt?Vt:(Dt=Vt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ot?(je=h.relatedTarget||h.toElement,Ot=Pt,je=je?Li(je):null,je!==null&&(Yn=s(je),Ce=je.tag,je!==Yn||Ce!==5&&Ce!==27&&Ce!==6)&&(je=null)):(Ot=null,je=Pt),Ot!==je)){if(Ce=Ai,zt="onMouseLeave",xt="onMouseEnter",yt="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=Wa,zt="onPointerLeave",xt="onPointerEnter",yt="pointer"),Yn=Ot==null?Dt:Pi(Ot),Ct=je==null?Dt:Pi(je),Dt=new Ce(zt,yt+"leave",Ot,h,Vt),Dt.target=Yn,Dt.relatedTarget=Ct,zt=null,Li(Vt)===Pt&&(Ce=new Ce(xt,yt+"enter",je,h,Vt),Ce.target=Ct,Ce.relatedTarget=Yn,zt=Ce),Yn=zt,Ot&&je)e:{for(Ce=Ot,xt=je,yt=0,Ct=Ce;Ct;Ct=Gh(Ct))yt++;for(Ct=0,zt=xt;zt;zt=Gh(zt))Ct++;for(;0<yt-Ct;)Ce=Gh(Ce),yt--;for(;0<Ct-yt;)xt=Gh(xt),Ct--;for(;yt--;){if(Ce===xt||xt!==null&&Ce===xt.alternate)break e;Ce=Gh(Ce),xt=Gh(xt)}Ce=null}else Ce=null;Ot!==null&&w_(Wt,Dt,Ot,Ce,!1),je!==null&&Yn!==null&&w_(Wt,Yn,je,Ce,!0)}}t:{if(Dt=Pt?Pi(Pt):window,Ot=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Dt.type==="file")var de=pu;else if(In(Dt))if(Al)de=wh;else{de=Ff;var sn=Ur}else Ot=Dt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Pt&&vl(Pt.elementType)&&(de=pu):de=Tc;if(de&&(de=de(a,Pt))){As(Wt,de,h,Vt);break t}sn&&sn(a,Dt,Pt),a==="focusout"&&Pt&&Dt.type==="number"&&Pt.memoizedProps.value!=null&&fa(Dt,"number",Dt.value)}switch(sn=Pt?Pi(Pt):window,a){case"focusin":(In(sn)||sn.contentEditable==="true")&&(zr=sn,$s=Pt,Aa=null);break;case"focusout":Aa=$s=zr=null;break;case"mousedown":Qs=!0;break;case"contextmenu":case"mouseup":case"dragend":Qs=!1,oi(Wt,h,Vt);break;case"selectionchange":if(Lo)break;case"keydown":case"keyup":oi(Wt,h,Vt)}var Ae;if(ie)t:{switch(a){case"compositionstart":var Le="onCompositionStart";break t;case"compositionend":Le="onCompositionEnd";break t;case"compositionupdate":Le="onCompositionUpdate";break t}Le=void 0}else Re?Lt(a,h)&&(Le="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(k&&h.locale!=="ko"&&(Re||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Re&&(Ae=_l()):(Fr=Vt,pa="value"in Fr?Fr.value:Fr.textContent,Re=!0)),sn=pg(Pt,Le),0<sn.length&&(Le=new za(Le,a,null,h,Vt),Wt.push({event:Le,listeners:sn}),Ae?Le.data=Ae:(Ae=Xt(h),Ae!==null&&(Le.data=Ae)))),(Ae=T?rn(a,h):Be(a,h))&&(Le=pg(Pt,"onBeforeInput"),0<Le.length&&(sn=new za("onBeforeInput","beforeinput",null,h,Vt),Wt.push({event:sn,listeners:Le}),sn.data=Ae)),TE(Wt,a,Pt,h,Vt)}__(Wt,l)})}function fd(a,l,h){return{instance:a,listener:l,currentTarget:h}}function pg(a,l){for(var h=l+"Capture",d=[];a!==null;){var v=a,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=dr(a,h),v!=null&&d.unshift(fd(a,v,A)),v=dr(a,l),v!=null&&d.push(fd(a,v,A))),a.tag===3)return d;a=a.return}return[]}function Gh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function w_(a,l,h,d,v){for(var A=l._reactName,M=[];h!==null&&h!==d;){var $=h,ut=$.alternate,Pt=$.stateNode;if($=$.tag,ut!==null&&ut===d)break;$!==5&&$!==26&&$!==27||Pt===null||(ut=Pt,v?(Pt=dr(h,A),Pt!=null&&M.unshift(fd(h,Pt,ut))):v||(Pt=dr(h,A),Pt!=null&&M.push(fd(h,Pt,ut)))),h=h.return}M.length!==0&&a.push({event:l,listeners:M})}var CE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function A_(a){return(typeof a=="string"?a:""+a).replace(CE,`
`).replace(IE,"")}function S_(a,l){return l=A_(l),A_(a)===l}function gg(){}function Gn(a,l,h,d,v,A){switch(h){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Mr(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Mr(a,""+d);break;case"className":ls(a,"class",d);break;case"tabIndex":ls(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(a,h,d);break;case"style":yl(a,d,A);break;case"data":if(l!=="object"){ls(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Ws(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(l!=="input"&&Gn(a,l,"name",v.name,v,null),Gn(a,l,"formEncType",v.formEncType,v,null),Gn(a,l,"formMethod",v.formMethod,v,null),Gn(a,l,"formTarget",v.formTarget,v,null)):(Gn(a,l,"encType",v.encType,v,null),Gn(a,l,"method",v.method,v,null),Gn(a,l,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Ws(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=gg);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=Ws(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":on("beforetoggle",a),on("toggle",a),os(a,"popover",d);break;case"xlinkActuate":ki(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ki(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ki(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ki(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ki(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ki(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ki(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ki(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ki(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":os(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Hs.get(h)||h,os(a,h,d))}}function b1(a,l,h,d,v,A){switch(h){case"style":yl(a,d,A);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof d=="string"?Mr(a,d):(typeof d=="number"||typeof d=="bigint")&&Mr(a,""+d);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"onClick":d!=null&&(a.onclick=gg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vs.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),l=h.slice(2,v?h.length-7:void 0),A=a[Cn]||null,A=A!=null?A[h]:null,typeof A=="function"&&a.removeEventListener(l,A,v),typeof d=="function")){typeof A!="function"&&A!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,d,v);break t}h in a?a[h]=d:d===!0?a.setAttribute(h,""):os(a,h,d)}}}function Ir(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",a),on("load",a);var d=!1,v=!1,A;for(A in h)if(h.hasOwnProperty(A)){var M=h[A];if(M!=null)switch(A){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Gn(a,l,A,M,h,null)}}v&&Gn(a,l,"srcSet",h.srcSet,h,null),d&&Gn(a,l,"src",h.src,h,null);return;case"input":on("invalid",a);var $=A=M=v=null,ut=null,Pt=null;for(d in h)if(h.hasOwnProperty(d)){var Vt=h[d];if(Vt!=null)switch(d){case"name":v=Vt;break;case"type":M=Vt;break;case"checked":ut=Vt;break;case"defaultChecked":Pt=Vt;break;case"value":A=Vt;break;case"defaultValue":$=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,l));break;default:Gn(a,l,d,Vt,h,null)}}ha(a,A,$,ut,Pt,M,v,!1),ca(a);return;case"select":on("invalid",a),d=M=A=null;for(v in h)if(h.hasOwnProperty(v)&&($=h[v],$!=null))switch(v){case"value":A=$;break;case"defaultValue":M=$;break;case"multiple":d=$;default:Gn(a,l,v,$,h,null)}l=A,h=M,a.multiple=!!d,l!=null?gs(a,!!d,l,!1):h!=null&&gs(a,!!d,h,!0);return;case"textarea":on("invalid",a),A=v=d=null;for(M in h)if(h.hasOwnProperty(M)&&($=h[M],$!=null))switch(M){case"value":d=$;break;case"defaultValue":v=$;break;case"children":A=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:Gn(a,l,M,$,h,null)}da(a,d,v,A),ca(a);return;case"option":for(ut in h)if(h.hasOwnProperty(ut)&&(d=h[ut],d!=null))switch(ut){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Gn(a,l,ut,d,h,null)}return;case"dialog":on("beforetoggle",a),on("toggle",a),on("cancel",a),on("close",a);break;case"iframe":case"object":on("load",a);break;case"video":case"audio":for(d=0;d<hd.length;d++)on(hd[d],a);break;case"image":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"embed":case"source":case"link":on("error",a),on("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in h)if(h.hasOwnProperty(Pt)&&(d=h[Pt],d!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Gn(a,l,Pt,d,h,null)}return;default:if(vl(l)){for(Vt in h)h.hasOwnProperty(Vt)&&(d=h[Vt],d!==void 0&&b1(a,l,Vt,d,h,void 0));return}}for($ in h)h.hasOwnProperty($)&&(d=h[$],d!=null&&Gn(a,l,$,d,h,null))}function LE(a,l,h,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,M=null,$=null,ut=null,Pt=null,Vt=null;for(Ot in h){var Wt=h[Ot];if(h.hasOwnProperty(Ot)&&Wt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ut=Wt;default:d.hasOwnProperty(Ot)||Gn(a,l,Ot,null,d,Wt)}}for(var Dt in d){var Ot=d[Dt];if(Wt=h[Dt],d.hasOwnProperty(Dt)&&(Ot!=null||Wt!=null))switch(Dt){case"type":A=Ot;break;case"name":v=Ot;break;case"checked":Pt=Ot;break;case"defaultChecked":Vt=Ot;break;case"value":M=Ot;break;case"defaultValue":$=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,l));break;default:Ot!==Wt&&Gn(a,l,Dt,Ot,d,Wt)}}rr(a,M,$,ut,Pt,Vt,A,v);return;case"select":Ot=M=$=Dt=null;for(A in h)if(ut=h[A],h.hasOwnProperty(A)&&ut!=null)switch(A){case"value":break;case"multiple":Ot=ut;default:d.hasOwnProperty(A)||Gn(a,l,A,null,d,ut)}for(v in d)if(A=d[v],ut=h[v],d.hasOwnProperty(v)&&(A!=null||ut!=null))switch(v){case"value":Dt=A;break;case"defaultValue":$=A;break;case"multiple":M=A;default:A!==ut&&Gn(a,l,v,A,d,ut)}l=$,h=M,d=Ot,Dt!=null?gs(a,!!h,Dt,!1):!!d!=!!h&&(l!=null?gs(a,!!h,l,!0):gs(a,!!h,h?[]:"",!1));return;case"textarea":Ot=Dt=null;for($ in h)if(v=h[$],h.hasOwnProperty($)&&v!=null&&!d.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Gn(a,l,$,null,d,v)}for(M in d)if(v=d[M],A=h[M],d.hasOwnProperty(M)&&(v!=null||A!=null))switch(M){case"value":Dt=v;break;case"defaultValue":Ot=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==A&&Gn(a,l,M,v,d,A)}wn(a,Dt,Ot);return;case"option":for(var je in h)if(Dt=h[je],h.hasOwnProperty(je)&&Dt!=null&&!d.hasOwnProperty(je))switch(je){case"selected":a.selected=!1;break;default:Gn(a,l,je,null,d,Dt)}for(ut in d)if(Dt=d[ut],Ot=h[ut],d.hasOwnProperty(ut)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(ut){case"selected":a.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Gn(a,l,ut,Dt,d,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in h)Dt=h[Ce],h.hasOwnProperty(Ce)&&Dt!=null&&!d.hasOwnProperty(Ce)&&Gn(a,l,Ce,null,d,Dt);for(Pt in d)if(Dt=d[Pt],Ot=h[Pt],d.hasOwnProperty(Pt)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,l));break;default:Gn(a,l,Pt,Dt,d,Ot)}return;default:if(vl(l)){for(var Yn in h)Dt=h[Yn],h.hasOwnProperty(Yn)&&Dt!==void 0&&!d.hasOwnProperty(Yn)&&b1(a,l,Yn,void 0,d,Dt);for(Vt in d)Dt=d[Vt],Ot=h[Vt],!d.hasOwnProperty(Vt)||Dt===Ot||Dt===void 0&&Ot===void 0||b1(a,l,Vt,Dt,d,Ot);return}}for(var xt in h)Dt=h[xt],h.hasOwnProperty(xt)&&Dt!=null&&!d.hasOwnProperty(xt)&&Gn(a,l,xt,null,d,Dt);for(Wt in d)Dt=d[Wt],Ot=h[Wt],!d.hasOwnProperty(Wt)||Dt===Ot||Dt==null&&Ot==null||Gn(a,l,Wt,Dt,d,Ot)}var w1=null,A1=null;function mg(a){return a.nodeType===9?a:a.ownerDocument}function x_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function S1(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var x1=null;function PE(){var a=window.event;return a&&a.type==="popstate"?a===x1?!1:(x1=a,!0):(x1=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(a){return N_.resolve(null).then(a).catch(OE)}:E_;function OE(a){setTimeout(function(){throw a})}function ju(a){return a==="head"}function R_(a,l){var h=l,d=0,v=0;do{var A=h.nextSibling;if(a.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(0<d&&8>d){h=d;var M=a.ownerDocument;if(h&1&&dd(M.documentElement),h&2&&dd(M.body),h&4)for(h=M.head,dd(h),M=h.firstChild;M;){var $=M.nextSibling,ut=M.nodeName;M[Sr]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=$}}if(v===0){a.removeChild(A),wd(l);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:d=h.charCodeAt(0)-48;else d=0;h=A}while(h);wd(l)}function T1(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":T1(h),Wi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function ME(a,l,h,d){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Sr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=oo(a.nextSibling),a===null)break}return null}function jE(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=oo(a.nextSibling),a===null))return null;return a}function E1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function FE(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var d=function(){l(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function oo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var N1=null;function C_(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function I_(a,l,h){switch(l=mg(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function dd(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Wi(a)}var Pa=new Map,L_=new Set;function yg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Hl=ct.d;ct.d={f:BE,r:VE,D:UE,C:zE,L:qE,m:HE,X:GE,S:WE,M:YE};function BE(){var a=Hl.f(),l=lg();return a||l}function VE(a){var l=bi(a);l!==null&&l.tag===5&&l.type==="form"?Uc(l):Hl.r(a)}var Yh=typeof document>"u"?null:document;function P_(a,l,h){var d=Yh;if(d&&typeof l=="string"&&l){var v=dn(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),L_.has(v)||(L_.add(v),a={rel:a,crossOrigin:h,href:l},d.querySelector(v)===null&&(l=d.createElement("link"),Ir(l,"link",a),bn(l),d.head.appendChild(l)))}}function UE(a){Hl.D(a),P_("dns-prefetch",a,null)}function zE(a,l){Hl.C(a,l),P_("preconnect",a,l)}function qE(a,l,h){Hl.L(a,l,h);var d=Yh;if(d&&a&&l){var v='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+dn(h.imageSizes)+'"]')):v+='[href="'+dn(a)+'"]';var A=v;switch(l){case"style":A=Kh(a);break;case"script":A=Xh(a)}Pa.has(A)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Pa.set(A,a),d.querySelector(v)!==null||l==="style"&&d.querySelector(pd(A))||l==="script"&&d.querySelector(gd(A))||(l=d.createElement("link"),Ir(l,"link",a),bn(l),d.head.appendChild(l)))}}function HE(a,l){Hl.m(a,l);var h=Yh;if(h&&a){var d=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+dn(d)+'"][href="'+dn(a)+'"]',A=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Xh(a)}if(!Pa.has(A)&&(a=p({rel:"modulepreload",href:a},l),Pa.set(A,a),h.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(gd(A)))return}d=h.createElement("link"),Ir(d,"link",a),bn(d),h.head.appendChild(d)}}}function WE(a,l,h){Hl.S(a,l,h);var d=Yh;if(d&&a){var v=qn(d).hoistableStyles,A=Kh(a);l=l||"default";var M=v.get(A);if(!M){var $={loading:0,preload:null};if(M=d.querySelector(pd(A)))$.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Pa.get(A))&&R1(a,h);var ut=M=d.createElement("link");bn(ut),Ir(ut,"link",a),ut._p=new Promise(function(Pt,Vt){ut.onload=Pt,ut.onerror=Vt}),ut.addEventListener("load",function(){$.loading|=1}),ut.addEventListener("error",function(){$.loading|=2}),$.loading|=4,vg(M,l,d)}M={type:"stylesheet",instance:M,count:1,state:$},v.set(A,M)}}}function GE(a,l){Hl.X(a,l);var h=Yh;if(h&&a){var d=qn(h).hoistableScripts,v=Xh(a),A=d.get(v);A||(A=h.querySelector(gd(v)),A||(a=p({src:a,async:!0},l),(l=Pa.get(v))&&C1(a,l),A=h.createElement("script"),bn(A),Ir(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(v,A))}}function YE(a,l){Hl.M(a,l);var h=Yh;if(h&&a){var d=qn(h).hoistableScripts,v=Xh(a),A=d.get(v);A||(A=h.querySelector(gd(v)),A||(a=p({src:a,async:!0,type:"module"},l),(l=Pa.get(v))&&C1(a,l),A=h.createElement("script"),bn(A),Ir(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(v,A))}}function k_(a,l,h,d){var v=(v=lt.current)?yg(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Kh(h.href),h=qn(v).hoistableStyles,d=h.get(l),d||(d={type:"style",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Kh(h.href);var A=qn(v).hoistableStyles,M=A.get(a);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,M),(A=v.querySelector(pd(a)))&&!A._p&&(M.instance=A,M.state.loading=5),Pa.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Pa.set(a,h),A||KE(v,a,h,M.state))),l&&d===null)throw Error(i(528,""));return M}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Xh(h),h=qn(v).hoistableScripts,d=h.get(l),d||(d={type:"script",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Kh(a){return'href="'+dn(a)+'"'}function pd(a){return'link[rel="stylesheet"]['+a+"]"}function D_(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function KE(a,l,h,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Ir(l,"link",h),bn(l),a.head.appendChild(l))}function Xh(a){return'[src="'+dn(a)+'"]'}function gd(a){return"script[async]"+a}function O_(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+dn(h.href)+'"]');if(d)return l.instance=d,bn(d),d;var v=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),bn(d),Ir(d,"style",v),vg(d,h.precedence,a),l.instance=d;case"stylesheet":v=Kh(h.href);var A=a.querySelector(pd(v));if(A)return l.state.loading|=4,l.instance=A,bn(A),A;d=D_(h),(v=Pa.get(v))&&R1(d,v),A=(a.ownerDocument||a).createElement("link"),bn(A);var M=A;return M._p=new Promise(function($,ut){M.onload=$,M.onerror=ut}),Ir(A,"link",d),l.state.loading|=4,vg(A,h.precedence,a),l.instance=A;case"script":return A=Xh(h.src),(v=a.querySelector(gd(A)))?(l.instance=v,bn(v),v):(d=h,(v=Pa.get(A))&&(d=p({},h),C1(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),bn(v),Ir(v,"link",d),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,vg(d,h.precedence,a));return l.instance}function vg(a,l,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,A=v,M=0;M<d.length;M++){var $=d[M];if($.dataset.precedence===l)A=$;else if(A!==v)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function R1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function C1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var _g=null;function M_(a,l,h){if(_g===null){var d=new Map,v=_g=new Map;v.set(h,d)}else v=_g,d=v.get(h),d||(d=new Map,v.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var A=h[v];if(!(A[Sr]||A[Rn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var M=A.getAttribute(l)||"";M=a+M;var $=d.get(M);$?$.push(A):d.set(M,[A])}}return d}function j_(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function XE(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function F_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var md=null;function $E(){}function QE(a,l,h){if(md===null)throw Error(i(475));var d=md;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Kh(h.href),A=a.querySelector(pd(v));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=bg.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=A,bn(A);return}A=a.ownerDocument||a,h=D_(h),(v=Pa.get(v))&&R1(h,v),A=A.createElement("link"),bn(A);var M=A;M._p=new Promise(function($,ut){M.onload=$,M.onerror=ut}),Ir(A,"link",h),l.instance=A}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=bg.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function JE(){if(md===null)throw Error(i(475));var a=md;return a.stylesheets&&a.count===0&&I1(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&I1(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function bg(){if(this.count--,this.count===0){if(this.stylesheets)I1(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wg=null;function I1(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wg=new Map,l.forEach(ZE,a),wg=null,bg.call(a))}function ZE(a,l){if(!(l.state.loading&4)){var h=wg.get(a);if(h)var d=h.get(null);else{h=new Map,wg.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var M=v[A];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),d=M)}d&&h.set(null,d)}v=l.instance,M=v.getAttribute("data-precedence"),A=h.get(M)||d,A===d&&h.set(null,v),h.set(M,v),this.count++,d=bg.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),A?A.parentNode.insertBefore(v,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var yd={$$typeof:G,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function t6(a,l,h,d,v,A,M,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function B_(a,l,h,d,v,A,M,$,ut,Pt,Vt,Wt){return a=new t6(a,l,h,M,$,ut,Pt,Wt),l=1,A===!0&&(l|=24),A=yr(3,null,null,l),a.current=A,A.stateNode=a,l=Vf(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:d,isDehydrated:h,cache:l},gt(A),a}function V_(a){return a?(a=Ki,a):Ki}function U_(a,l,h,d,v,A){v=V_(v),d.context===null?d.context=v:d.pendingContext=v,d=Bt(l),d.payload={element:h},A=A===void 0?null:A,A!==null&&(d.callback=A),h=Ht(a,d,l),h!==null&&(sa(h,a,l),Ut(h,a,l))}function z_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function L1(a,l){z_(a,l),(a=a.alternate)&&z_(a,l)}function q_(a){if(a.tag===13){var l=Ka(a,67108864);l!==null&&sa(l,a,67108864),L1(a,67108864)}}var Ag=!0;function e6(a,l,h,d){var v=nt.T;nt.T=null;var A=ct.p;try{ct.p=2,P1(a,l,h,d)}finally{ct.p=A,nt.T=v}}function n6(a,l,h,d){var v=nt.T;nt.T=null;var A=ct.p;try{ct.p=8,P1(a,l,h,d)}finally{ct.p=A,nt.T=v}}function P1(a,l,h,d){if(Ag){var v=k1(d);if(v===null)_1(a,l,d,Sg,h),W_(a,d);else if(r6(v,a,l,h,d))d.stopPropagation();else if(W_(a,d),l&4&&-1<i6.indexOf(a)){for(;v!==null;){var A=bi(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var M=Je(A.pendingLanes);if(M!==0){var $=A;for($.pendingLanes|=2,$.entangledLanes|=2;M;){var ut=1<<31-fe(M);$.entanglements[1]|=ut,M&=~ut}Xo(A),(Mn&6)===0&&(ag=Se()+500,cd(0))}}break;case 13:$=Ka(A,2),$!==null&&sa($,A,2),lg(),L1(A,2)}if(A=k1(d),A===null&&_1(a,l,d,Sg,h),A===v)break;v=A}v!==null&&d.stopPropagation()}else _1(a,l,d,null,h)}}function k1(a){return a=Dn(a),D1(a)}var Sg=null;function D1(a){if(Sg=null,a=Li(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Sg=a,null}function H_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case Qt:return 2;case Zt:return 8;case se:case ae:return 32;case ve:return 268435456;default:return 32}default:return 32}}var O1=!1,Fu=null,Bu=null,Vu=null,vd=new Map,_d=new Map,Uu=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(a,l){switch(a){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":Vu=null;break;case"pointerover":case"pointerout":vd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(l.pointerId)}}function bd(a,l,h,d,v,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:h,eventSystemFlags:d,nativeEvent:A,targetContainers:[v]},l!==null&&(l=bi(l),l!==null&&q_(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function r6(a,l,h,d,v){switch(l){case"focusin":return Fu=bd(Fu,a,l,h,d,v),!0;case"dragenter":return Bu=bd(Bu,a,l,h,d,v),!0;case"mouseover":return Vu=bd(Vu,a,l,h,d,v),!0;case"pointerover":var A=v.pointerId;return vd.set(A,bd(vd.get(A)||null,a,l,h,d,v)),!0;case"gotpointercapture":return A=v.pointerId,_d.set(A,bd(_d.get(A)||null,a,l,h,d,v)),!0}return!1}function G_(a){var l=Li(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,as(a.priority,function(){if(h.tag===13){var d=ra();d=Dr(d);var v=Ka(h,d);v!==null&&sa(v,h,d),L1(h,d)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xg(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=k1(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);ms=d,h.target.dispatchEvent(d),ms=null}else return l=bi(h),l!==null&&q_(l),a.blockedOn=h,!1;l.shift()}return!0}function Y_(a,l,h){xg(a)&&h.delete(l)}function s6(){O1=!1,Fu!==null&&xg(Fu)&&(Fu=null),Bu!==null&&xg(Bu)&&(Bu=null),Vu!==null&&xg(Vu)&&(Vu=null),vd.forEach(Y_),_d.forEach(Y_)}function Tg(a,l){a.blockedOn===l&&(a.blockedOn=null,O1||(O1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,s6)))}var Eg=null;function K_(a){Eg!==a&&(Eg=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eg===a&&(Eg=null);for(var l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=a[l+2];if(typeof d!="function"){if(D1(d||h)===null)continue;break}var A=bi(h);A!==null&&(a.splice(l,3),l-=3,Ca(A,{pending:!0,data:v,method:h.method,action:d},d,v))}}))}function wd(a){function l(ut){return Tg(ut,a)}Fu!==null&&Tg(Fu,a),Bu!==null&&Tg(Bu,a),Vu!==null&&Tg(Vu,a),vd.forEach(l),_d.forEach(l);for(var h=0;h<Uu.length;h++){var d=Uu[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Uu.length&&(h=Uu[0],h.blockedOn===null);)G_(h),h.blockedOn===null&&Uu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var v=h[d],A=h[d+1],M=v[Cn]||null;if(typeof A=="function")M||K_(h);else if(M){var $=null;if(A&&A.hasAttribute("formAction")){if(v=A,M=A[Cn]||null)$=M.formAction;else if(D1(v)!==null)continue}else $=M.action;typeof $=="function"?h[d+1]=$:(h.splice(d,3),d-=3),K_(h)}}}function M1(a){this._internalRoot=a}Ng.prototype.render=M1.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,d=ra();U_(h,d,a,l,null,null)},Ng.prototype.unmount=M1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;U_(a.current,2,null,a,null,null),lg(),l[Kn]=null}};function Ng(a){this._internalRoot=a}Ng.prototype.unstable_scheduleHydration=function(a){if(a){var l=nr();a={blockedOn:null,target:a,priority:l};for(var h=0;h<Uu.length&&l!==0&&l<Uu[h].priority;h++);Uu.splice(h,0,a),h===0&&G_(a)}};var X_=t.version;if(X_!=="19.1.0")throw Error(i(527,X_,"19.1.0"));ct.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var a6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:nt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{_e=Rg.inject(a6),ge=Rg}catch{}}return Sd.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,d="",v=h5,A=f5,M=d5,$=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=B_(a,1,!1,null,null,h,d,v,A,M,$,null),a[Kn]=l.current,v1(a),new M1(l)},Sd.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var d=!1,v="",A=h5,M=f5,$=d5,ut=null,Pt=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&($=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ut=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pt=h.formState)),l=B_(a,1,!0,l,h??null,d,v,A,M,$,ut,Pt),l.context=V_(null),h=l.current,d=ra(),d=Dr(d),v=Bt(d),v.callback=null,Ht(h,v,d),h=d,l.current.lanes=h,er(l,h),Xo(l),a[Kn]=l.current,v1(a),new Ng(l)},Sd.version="19.1.0",Sd}var sb;function _6(){if(sb)return B1.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),B1.exports=v6(),B1.exports}var b6=_6();const w6=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},A6=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],u=n[e++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,u=o?n[r+1]:0,c=r+2<n.length,f=c?n[r+2]:0,p=s>>2,y=(s&3)<<4|u>>4;let w=(u&15)<<2|f>>6,_=f&63;c||(_=64,o||(w=64)),i.push(e[p],e[y],e[w],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(zS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):A6(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||u==null||f==null||y==null)throw new S6;const w=s<<2|u>>4;if(i.push(w),f!==64){const _=u<<4&240|f>>2;if(i.push(_),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x6=function(n){const t=zS(n);return qS.encodeByteArray(t,!0)},wm=function(n){return x6(n).replace(/\./g,"")},HS=function(n){try{return qS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=()=>T6().__FIREBASE_DEFAULTS__,N6=()=>{if(typeof process>"u"||typeof ab>"u")return;const n=ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},R6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&HS(n[1]);return t&&JSON.parse(t)},Zm=()=>{try{return w6()||E6()||N6()||R6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WS=n=>{var t,e;return(e=(t=Zm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},GS=n=>{const t=WS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},YS=()=>{var n;return(n=Zm())===null||n===void 0?void 0:n.config},KS=n=>{var t;return(t=Zm())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n){return n.endsWith(".cloudworkstations.dev")}async function Py(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wm(JSON.stringify(e)),wm(JSON.stringify(o)),""].join(".")}const zd={};function I6(){const n={prod:[],emulator:[]};for(const t of Object.keys(zd))zd[t]?n.emulator.push(t):n.prod.push(t);return n}function L6(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ob=!1;function ky(n,t){if(typeof window>"u"||typeof document>"u"||!_c(window.location.host)||zd[n]===t||zd[n]||ob)return;zd[n]=t;function e(w){return`__firebase__banner__${w}`}const i="__firebase__banner",s=I6().prod.length>0;function o(){const w=document.getElementById(i);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ob=!0,o()},w}function p(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=L6(i),_=e("text"),E=document.getElementById(_)||document.createElement("span"),N=e("learnmore"),R=document.getElementById(N)||document.createElement("a"),C=e("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;u(G),p(R,N);const et=f();c(O,C),G.append(O,E,R,et),document.body.appendChild(G)}s?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function k6(){var n;const t=(n=Zm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j6(){const n=rs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F6(){return!k6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B6(){try{return typeof indexedDB=="object"}catch{return!1}}function V6(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="FirebaseError";class fl extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=U6,Object.setPrototypeOf(this,fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?z6(s,i):"Error",u=`${this.serviceName}: ${o} (${r}).`;return new fl(r,u,i)}}function z6(n,t){return n.replace(q6,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const q6=/\{\$([^}]+)}/g;function H6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function lh(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(lb(s)&&lb(o)){if(!lh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Pd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function kd(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function W6(n,t){const e=new G6(n,t);return e.subscribe.bind(e)}class G6{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Y6(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=q1),r.error===void 0&&(r.error=q1),r.complete===void 0&&(r.complete=q1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y6(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function q1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n){return n&&n._delegate?n._delegate:n}class uc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new C6;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($6(t))try{this.getOrInitializeService({instanceIdentifier:$c})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=$c){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$c){return this.instances.has(t)}getOptions(t=$c){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:X6(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=$c){return this.component?this.component.multipleInstances?t:$c:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X6(n){return n===$c?void 0:n}function $6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new K6(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(cn||(cn={}));const J6={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},Z6=cn.INFO,tN={[cn.DEBUG]:"log",[cn.VERBOSE]:"log",[cn.INFO]:"info",[cn.WARN]:"warn",[cn.ERROR]:"error"},eN=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=tN[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dy{constructor(t){this.name=t,this._logLevel=Z6,this._logHandler=eN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in cn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?J6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,cn.DEBUG,...t),this._logHandler(this,cn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,cn.VERBOSE,...t),this._logHandler(this,cn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,cn.INFO,...t),this._logHandler(this,cn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,cn.WARN,...t),this._logHandler(this,cn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,cn.ERROR,...t),this._logHandler(this,cn.ERROR,...t)}}const nN=(n,t)=>t.some(e=>n instanceof e);let ub,cb;function iN(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rN(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,I2=new WeakMap,QS=new WeakMap,H1=new WeakMap,Oy=new WeakMap;function sN(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(ic(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&$S.set(e,n)}).catch(()=>{}),Oy.set(t,n),t}function aN(n){if(I2.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});I2.set(n,t)}let L2={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return I2.get(n);if(t==="objectStoreNames")return n.objectStoreNames||QS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ic(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function oN(n){L2=n(L2)}function lN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(W1(this),t,...e);return QS.set(i,t.sort?t.sort():[t]),ic(i)}:rN().includes(n)?function(...t){return n.apply(W1(this),t),ic($S.get(this))}:function(...t){return ic(n.apply(W1(this),t))}}function uN(n){return typeof n=="function"?lN(n):(n instanceof IDBTransaction&&aN(n),nN(n,iN())?new Proxy(n,L2):n)}function ic(n){if(n instanceof IDBRequest)return sN(n);if(H1.has(n))return H1.get(n);const t=uN(n);return t!==n&&(H1.set(n,t),Oy.set(t,n)),t}const W1=n=>Oy.get(n);function cN(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),u=ic(o);return i&&o.addEventListener("upgradeneeded",c=>{i(ic(o.result),c.oldVersion,c.newVersion,ic(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const hN=["get","getKey","getAll","getAllKeys","count"],fN=["put","add","delete","clear"],G1=new Map;function hb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(G1.get(t))return G1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=fN.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hN.includes(e)))return;const s=async function(o,...u){const c=this.transaction(o,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&c.done]))[0]};return G1.set(t,s),s}oN(n=>({...n,get:(t,e,i)=>hb(t,e)||n.get(t,e,i),has:(t,e)=>!!hb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(pN(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function pN(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const P2="@firebase/app",fb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Dy("@firebase/app"),gN="@firebase/app-compat",mN="@firebase/analytics-compat",yN="@firebase/analytics",vN="@firebase/app-check-compat",_N="@firebase/app-check",bN="@firebase/auth",wN="@firebase/auth-compat",AN="@firebase/database",SN="@firebase/data-connect",xN="@firebase/database-compat",TN="@firebase/functions",EN="@firebase/functions-compat",NN="@firebase/installations",RN="@firebase/installations-compat",CN="@firebase/messaging",IN="@firebase/messaging-compat",LN="@firebase/performance",PN="@firebase/performance-compat",kN="@firebase/remote-config",DN="@firebase/remote-config-compat",ON="@firebase/storage",MN="@firebase/storage-compat",jN="@firebase/firestore",FN="@firebase/ai",BN="@firebase/firestore-compat",VN="firebase",UN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="[DEFAULT]",zN={[P2]:"fire-core",[gN]:"fire-core-compat",[yN]:"fire-analytics",[mN]:"fire-analytics-compat",[_N]:"fire-app-check",[vN]:"fire-app-check-compat",[bN]:"fire-auth",[wN]:"fire-auth-compat",[AN]:"fire-rtdb",[SN]:"fire-data-connect",[xN]:"fire-rtdb-compat",[TN]:"fire-fn",[EN]:"fire-fn-compat",[NN]:"fire-iid",[RN]:"fire-iid-compat",[CN]:"fire-fcm",[IN]:"fire-fcm-compat",[LN]:"fire-perf",[PN]:"fire-perf-compat",[kN]:"fire-rc",[DN]:"fire-rc-compat",[ON]:"fire-gcs",[MN]:"fire-gcs-compat",[jN]:"fire-fst",[BN]:"fire-fst-compat",[FN]:"fire-vertex","fire-js":"fire-js",[VN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,qN=new Map,D2=new Map;function db(n,t){try{n.container.addComponent(t)}catch(e){eu.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function uh(n){const t=n.name;if(D2.has(t))return eu.debug(`There were multiple attempts to register component ${t}.`),!1;D2.set(t,n);for(const e of Am.values())db(e,n);for(const e of qN.values())db(e,n);return!0}function t0(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ps(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rc=new _p("app","Firebase",HN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=UN;function JS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:k2,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw rc.create("bad-app-name",{appName:String(r)});if(e||(e=YS()),!e)throw rc.create("no-options");const s=Am.get(r);if(s){if(lh(e,s.options)&&lh(i,s.config))return s;throw rc.create("duplicate-app",{appName:r})}const o=new Q6(r);for(const c of D2.values())o.addComponent(c);const u=new WN(e,i,o);return Am.set(r,u),u}function My(n=k2){const t=Am.get(n);if(!t&&n===k2&&YS())return JS();if(!t)throw rc.create("no-app",{appName:n});return t}function il(n,t,e){var i;let r=(i=zN[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${t}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eu.warn(u.join(" "));return}uh(new uc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-heartbeat-database",YN=1,ep="firebase-heartbeat-store";let Y1=null;function ZS(){return Y1||(Y1=cN(GN,YN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ep)}catch(e){console.warn(e)}}}}).catch(n=>{throw rc.create("idb-open",{originalErrorMessage:n.message})})),Y1}async function KN(n){try{const e=(await ZS()).transaction(ep),i=await e.objectStore(ep).get(t4(n));return await e.done,i}catch(t){if(t instanceof fl)eu.warn(t.message);else{const e=rc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});eu.warn(e.message)}}}async function pb(n,t){try{const i=(await ZS()).transaction(ep,"readwrite");await i.objectStore(ep).put(t,t4(n)),await i.done}catch(e){if(e instanceof fl)eu.warn(e.message);else{const i=rc.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});eu.warn(i.message)}}}function t4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=1024,$N=30;class QN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ZN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>$N){const o=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){eu.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gb(),{heartbeatsToSend:i,unsentEntries:r}=JN(this._heartbeatsCache.heartbeats),s=wm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return eu.warn(e),""}}}function gb(){return new Date().toISOString().substring(0,10)}function JN(n,t=XN){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),mb(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),mb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class ZN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B6()?V6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await KN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mb(n){return wm(JSON.stringify({version:2,heartbeats:n})).length}function tR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){uh(new uc("platform-logger",t=>new dN(t),"PRIVATE")),uh(new uc("heartbeat",t=>new QN(t),"PRIVATE")),il(P2,fb,n),il(P2,fb,"esm2017"),il("fire-js","")}eR("");var nR="firebase",iR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */il(nR,iR,"app");function jy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function e4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=e4,n4=new _p("auth","Firebase",e4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Dy("@firebase/auth");function sR(n,...t){Sm.logLevel<=cn.WARN&&Sm.warn(`Auth (${mh}): ${n}`,...t)}function em(n,...t){Sm.logLevel<=cn.ERROR&&Sm.error(`Auth (${mh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(n,...t){throw Fy(n,...t)}function rl(n,...t){return Fy(n,...t)}function i4(n,t,e){const i=Object.assign(Object.assign({},rR()),{[t]:e});return new _p("auth","Firebase",i).create(t,{appName:n.name})}function sl(n){return i4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return n4.create(n,...t)}function Oe(n,t,...e){if(!n)throw Fy(t,...e)}function $l(n){const t="INTERNAL ASSERTION FAILED: "+n;throw em(t),new Error(t)}function nu(n,t){n||$l(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aR(){return yb()==="http:"||yb()==="https:"}function yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aR()||O6()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,e){this.shortDelay=t,this.longDelay=e,nu(e>t,"Short delay should be less than long delay!"),this.isMobile=P6()||M6()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,t){nu(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hR=new wp(3e4,6e4);function bc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function wc(n,t,e,i,r={}){return s4(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const u=bp(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:c},s);return D6()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&_c(n.emulatorConfig.host)&&(f.credentials="include"),r4.fetch()(await a4(n,n.config.apiHost,e,u),f)})}async function s4(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uR),t);try{const r=new dR(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cg(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cg(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cg(n,"user-disabled",o);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw i4(n,p,f);po(n,p)}}catch(r){if(r instanceof fl)throw r;po(n,"network-request-failed",{message:String(r)})}}async function Ap(n,t,e,i,r={}){const s=await wc(n,t,e,i,r);return"mfaPendingCredential"in s&&po(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function a4(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?By(n.config,r):`${n.config.apiScheme}://${r}`;return cR.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function fR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(rl(this.auth,"network-request-failed")),hR.get())})}}function Cg(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=rl(n,t,i);return r.customData._tokenResponse=e,r}function vb(n){return n!==void 0&&n.enterprise!==void 0}class pR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return fR(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gR(n,t){return wc(n,"GET","/v2/recaptchaConfig",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,t){return wc(n,"POST","/v1/accounts:delete",t)}async function xm(n,t){return wc(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yR(n,t=!1){const e=yi(n),i=await e.getIdToken(t),r=Vy(i);Oe(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qd(K1(r.auth_time)),issuedAtTime:qd(K1(r.iat)),expirationTime:qd(K1(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function K1(n){return Number(n)*1e3}function Vy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{const r=HS(e);return r?JSON.parse(r):(em("Failed to decode base64 JWT payload"),null)}catch(r){return em("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function _b(n){const t=Vy(n);return Oe(t,"internal-error"),Oe(typeof t.exp<"u","internal-error"),Oe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof fl&&vR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(n){var t;const e=n.auth,i=await n.getIdToken(),r=await np(n,xm(e,{idToken:i}));Oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?o4(s.providerUserInfo):[],u=wR(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new M2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function bR(n){const t=yi(n);await Tm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wR(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function o4(n){return n.map(t=>{var{providerId:e}=t,i=jy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,t){const e=await s4(n,{},async()=>{const i=bp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await a4(n,r,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:i};return n.emulatorConfig&&_c(n.emulatorConfig.host)&&(c.credentials="include"),r4.fetch()(o,c)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function SR(n,t){return wc(n,"POST","/v2/accounts:revokeToken",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Oe(t.idToken,"internal-error"),Oe(typeof t.idToken<"u","internal-error"),Oe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_b(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Oe(t.length!==0,"internal-error");const e=_b(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await AR(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new cf;return i&&(Oe(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Oe(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Oe(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new cf,this.toJSON())}_performRefresh(){return $l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n,t){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ho{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=jy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new M2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await np(this,this.stsTokenManager.getToken(this.auth,t));return Oe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return yR(this,t)}reload(){return bR(this)}_assign(t){this!==t&&(Oe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ho(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Tm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(sl(this.auth));const t=await this.getIdToken();return await np(this,mR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,u,c,f,p;const y=(i=e.displayName)!==null&&i!==void 0?i:void 0,w=(r=e.email)!==null&&r!==void 0?r:void 0,_=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=e.photoURL)!==null&&o!==void 0?o:void 0,N=(u=e.tenantId)!==null&&u!==void 0?u:void 0,R=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,C=(f=e.createdAt)!==null&&f!==void 0?f:void 0,O=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:et,isAnonymous:tt,providerData:mt,stsTokenManager:z}=e;Oe(G&&z,t,"internal-error");const P=cf.fromJSON(this.name,z);Oe(typeof G=="string",t,"internal-error"),qu(y,t.name),qu(w,t.name),Oe(typeof et=="boolean",t,"internal-error"),Oe(typeof tt=="boolean",t,"internal-error"),qu(_,t.name),qu(E,t.name),qu(N,t.name),qu(R,t.name),qu(C,t.name),qu(O,t.name);const U=new ho({uid:G,auth:t,email:w,emailVerified:et,displayName:y,isAnonymous:tt,photoURL:E,phoneNumber:_,tenantId:N,stsTokenManager:P,createdAt:C,lastLoginAt:O});return mt&&Array.isArray(mt)&&(U.providerData=mt.map(X=>Object.assign({},X))),R&&(U._redirectEventId=R),U}static async _fromIdTokenResponse(t,e,i=!1){const r=new cf;r.updateFromServerResponse(e);const s=new ho({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Tm(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Oe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?o4(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),u=new cf;u.updateFromIdToken(i);const c=new ho({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new M2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ql(n){nu(n instanceof Function,"Expected a class definition");let t=bb.get(n);return t?(nu(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,bb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}l4.type="NONE";const wb=l4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n,t,e){return`firebase:${n}:${t}:${e}`}class hf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=nm(this.userKey,r.apiKey,s),this.fullPersistenceKey=nm("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xm(this.auth,{idToken:t}).catch(()=>{});return e?ho._fromGetAccountInfoResponse(this.auth,e,t):null}return ho._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new hf(Ql(wb),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||Ql(wb);const o=nm(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(o);if(p){let y;if(typeof p=="string"){const w=await xm(t,{idToken:p}).catch(()=>{});if(!w)break;y=await ho._fromGetAccountInfoResponse(t,w,p)}else y=ho._fromJSON(t,p);f!==s&&(u=y),s=f;break}}catch{}const c=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new hf(s,t,i):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new hf(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(f4(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(u4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(p4(t))return"Blackberry";if(g4(t))return"Webos";if(c4(t))return"Safari";if((t.includes("chrome/")||h4(t))&&!t.includes("edge/"))return"Chrome";if(d4(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function u4(n=rs()){return/firefox\//i.test(n)}function c4(n=rs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function h4(n=rs()){return/crios\//i.test(n)}function f4(n=rs()){return/iemobile/i.test(n)}function d4(n=rs()){return/android/i.test(n)}function p4(n=rs()){return/blackberry/i.test(n)}function g4(n=rs()){return/webos/i.test(n)}function Uy(n=rs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xR(n=rs()){var t;return Uy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function TR(){return j6()&&document.documentMode===10}function m4(n=rs()){return Uy(n)||d4(n)||g4(n)||p4(n)||/windows phone/i.test(n)||f4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n,t=[]){let e;switch(n){case"Browser":e=Ab(rs());break;case"Worker":e=`${Ab(rs())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${mh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,u)=>{try{const c=t(s);o(c)}catch(c){u(c)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(n,t={}){return wc(n,"GET","/v2/passwordPolicy",bc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=6;class CR{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:RR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ql(e)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await hf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xm(this,{idToken:t}),i=await ho._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Tm(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ps(this.app))return Promise.reject(sl(this));const e=t?yi(t):null;return e&&Oe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Oe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ps(this.app)?Promise.reject(sl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ql(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NR(this),e=new CR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _p("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await SR(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ql(t)||this._popupRedirectResolver;Oe(e,this,"argument-error"),this.redirectPersistenceManager=await hf.create(this,[Ql(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,i,r);return()=>{o=!0,c()}}else{const c=t.addObserver(e);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=y4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&sR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ac(n){return yi(n)}class Sb{constructor(t){this.auth=t,this.observer=null,this.addObserver=W6(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LR(n){e0=n}function v4(n){return e0.loadJS(n)}function PR(){return e0.recaptchaEnterpriseScript}function kR(){return e0.gapiScript}function DR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OR{constructor(){this.enterprise=new MR}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class MR{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jR="recaptcha-enterprise",_4="NO_RECAPTCHA";class FR{constructor(t){this.type=jR,this.auth=Ac(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{gR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new pR(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(c=>{u(c)})})}function r(s,o,u){const c=window.grecaptcha;vb(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(_4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OR().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(u=>{if(!e&&vb(window.grecaptcha))r(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=PR();c.length!==0&&(c+=u),v4(c).then(()=>{r(u,s,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function xb(n,t,e,i=!1,r=!1){const s=new FR(n);let o;if(r)o=_4;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function j2(n,t,e,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xb(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xb(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,t){const e=t0(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(lh(s,t??{}))return r;po(r,"already-initialized")}return e.initialize({options:t})}function VR(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Ql);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function UR(n,t,e){const i=Ac(n);Oe(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=b4(t),{host:o,port:u}=zR(t),c=u===null?"":`:${u}`,f={url:`${s}//${o}${c}/`},p=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(lh(f,i.config.emulator)&&lh(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,_c(o)?(Py(`${s}//${o}${c}`),ky("Auth",!0)):qR()}function b4(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function zR(n){const t=b4(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Tb(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Tb(o)}}}function Tb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function qR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $l("not implemented")}_getIdTokenResponse(t){return $l("not implemented")}_linkToIdToken(t,e){return $l("not implemented")}_getReauthenticationResolver(t){return $l("not implemented")}}async function HR(n,t){return wc(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,t){return Ap(n,"POST","/v1/accounts:signInWithPassword",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,t){return Ap(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}async function YR(n,t){return Ap(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends zy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new ip(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ip(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j2(t,e,"signInWithPassword",WR);case"emailLink":return GR(t,{email:this._email,oobCode:this._password});default:po(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j2(t,i,"signUpPassword",HR);case"emailLink":return YR(t,{idToken:e,email:this._email,oobCode:this._password});default:po(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(n,t){return Ap(n,"POST","/v1/accounts:signInWithIdp",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="http://localhost";class ch extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ch(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):po("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=jy(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new ch(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return ff(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ff(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ff(t,e)}buildRequest(){const t={requestUri:KR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=bp(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $R(n){const t=Pd(kd(n)).link,e=t?Pd(kd(t)).deep_link_id:null,i=Pd(kd(n)).deep_link_id;return(i?Pd(kd(i)).link:null)||i||e||t||n}class qy{constructor(t){var e,i,r,s,o,u;const c=Pd(kd(t)),f=(e=c.apiKey)!==null&&e!==void 0?e:null,p=(i=c.oobCode)!==null&&i!==void 0?i:null,y=XR((r=c.mode)!==null&&r!==void 0?r:null);Oe(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=$R(t);try{return new qy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.providerId=Lf.PROVIDER_ID}static credential(t,e){return ip._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=qy.parseLink(e);return Oe(i,"argument-error"),ip._fromEmailAndCode(t,i.code,i.tenantId)}}Lf.PROVIDER_ID="password";Lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends w4{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Sp{constructor(){super("facebook.com")}static credential(t){return ch._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yu.credentialFromTaggedObject(t)}static credentialFromError(t){return Yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yu.credential(t.oauthAccessToken)}catch{return null}}}Yu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ch._fromParams({providerId:Ku.PROVIDER_ID,signInMethod:Ku.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ku.credentialFromTaggedObject(t)}static credentialFromError(t){return Ku.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ku.credential(e,i)}catch{return null}}}Ku.GOOGLE_SIGN_IN_METHOD="google.com";Ku.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Sp{constructor(){super("github.com")}static credential(t){return ch._fromParams({providerId:Xu.PROVIDER_ID,signInMethod:Xu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xu.credentialFromTaggedObject(t)}static credentialFromError(t){return Xu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xu.credential(t.oauthAccessToken)}catch{return null}}}Xu.GITHUB_SIGN_IN_METHOD="github.com";Xu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Sp{constructor(){super("twitter.com")}static credential(t,e){return ch._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $u.credentialFromTaggedObject(t)}static credentialFromError(t){return $u.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return $u.credential(e,i)}catch{return null}}}$u.TWITTER_SIGN_IN_METHOD="twitter.com";$u.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,t){return Ap(n,"POST","/v1/accounts:signUp",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await ho._fromIdTokenResponse(t,i,r),o=Eb(i);return new iu({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Eb(i);return new iu({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Eb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n){var t;if(Ps(n.app))return Promise.reject(sl(n));const e=Ac(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new iu({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await A4(e,{returnSecureToken:!0}),r=await iu._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends fl{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Em.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Em(t,e,i,r)}}function S4(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Em._fromErrorAndOperation(n,s,t,i):s})}async function JR(n,t,e=!1){const i=await np(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return iu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(n,t,e=!1){const{auth:i}=n;if(Ps(i.app))return Promise.reject(sl(i));const r="reauthenticate";try{const s=await np(n,S4(i,r,t,n),e);Oe(s.idToken,i,"internal-error");const o=Vy(s.idToken);Oe(o,i,"internal-error");const{sub:u}=o;return Oe(n.uid===u,i,"user-mismatch"),iu._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&po(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(n,t,e=!1){if(Ps(n.app))return Promise.reject(sl(n));const i="signIn",r=await S4(n,i,t),s=await iu._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}async function tC(n,t){return x4(Ac(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n){const t=Ac(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eC(n,t,e){if(Ps(n.app))return Promise.reject(sl(n));const i=Ac(n),o=await j2(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&T4(n),c}),u=await iu._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(u.user),u}function nC(n,t,e){return Ps(n.app)?Promise.reject(sl(n)):tC(yi(n),Lf.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&T4(n),i})}function iC(n,t,e,i){return yi(n).onIdTokenChanged(t,e,i)}function rC(n,t,e){return yi(n).beforeAuthStateChanged(t,e)}function sC(n,t,e,i){return yi(n).onAuthStateChanged(t,e,i)}function aC(n){return yi(n).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,lC=10;class N4 extends E4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);TR()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,lC):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}N4.type="LOCAL";const uC=N4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4 extends E4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}R4.type="SESSION";const C4=R4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new n0(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(o).map(async f=>f(e.origin,s)),c=await cC(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const f=Hy("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(w.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return window}function fC(n){al().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(){return typeof al().WorkerGlobalScope<"u"&&typeof al().importScripts=="function"}async function dC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gC(){return I4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebaseLocalStorageDb",mC=1,Rm="firebaseLocalStorage",P4="fbase_key";class xp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function i0(n,t){return n.transaction([Rm],t?"readwrite":"readonly").objectStore(Rm)}function yC(){const n=indexedDB.deleteDatabase(L4);return new xp(n).toPromise()}function F2(){const n=indexedDB.open(L4,mC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rm,{keyPath:P4})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Rm)?t(i):(i.close(),await yC(),t(await F2()))})})}async function Nb(n,t,e){const i=i0(n,!0).put({[P4]:t,value:e});return new xp(i).toPromise()}async function vC(n,t){const e=i0(n,!1).get(t),i=await new xp(e).toPromise();return i===void 0?null:i.value}function Rb(n,t){const e=i0(n,!0).delete(t);return new xp(e).toPromise()}const _C=800,bC=3;class k4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F2(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>bC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n0._getInstance(gC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new hC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await F2();return await Nb(t,Nm,"1"),await Rb(t,Nm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>vC(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Rb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=i0(r,!1).getAll();return new xp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k4.type="LOCAL";const wC=k4;new wp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,t){return t?Ql(t):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends zy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ff(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ff(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ff(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SC(n){return x4(n.auth,new Wy(n),n.bypassAuthState)}function xC(n){const{auth:t,user:e}=n;return Oe(e,t,"internal-error"),ZR(e,new Wy(n),n.bypassAuthState)}async function TC(n){const{auth:t,user:e}=n;return Oe(e,t,"internal-error"),JR(e,new Wy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:u}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:po(this.auth,"internal-error")}}resolve(t){nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new wp(2e3,1e4);class of extends D4{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,of.currentPopupAction&&of.currentPopupAction.cancel(),of.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Oe(t,this.auth,"internal-error"),t}async onExecution(){nu(this.filter.length===1,"Popup operations only handle one event");const t=Hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,of.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EC.get())};t()}}of.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="pendingRedirect",im=new Map;class RC extends D4{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=im.get(this.auth._key());if(!t){try{const i=await CC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}im.set(this.auth._key(),t)}return this.bypassAuthState||im.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(n,t){const e=PC(t),i=LC(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function IC(n,t){im.set(n._key(),t)}function LC(n){return Ql(n._redirectPersistence)}function PC(n){return nm(NC,n.config.apiKey,n.name)}async function kC(n,t,e=!1){if(Ps(n.app))return Promise.reject(sl(n));const i=Ac(n),r=AC(i,t),o=await new RC(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=10*60*1e3;class OC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!O4(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(rl(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(t))}saveEventToCache(t){this.cachedEventUids.add(Cb(t)),this.lastProcessedEventTime=Date.now()}}function Cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function O4({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function MC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(n,t={}){return wc(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function VC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await jC(n);for(const e of t)try{if(UC(e))return}catch{}po(n,"unauthorized-domain")}function UC(n){const t=O2(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!BC.test(e))return!1;if(FC.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new wp(3e4,6e4);function Ib(){const n=al().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function qC(n){return new Promise((t,e)=>{var i,r,s;function o(){Ib(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ib(),e(rl(n,"network-request-failed"))},timeout:zC.get()})}if(!((r=(i=al().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=al().gapi)===null||s===void 0)&&s.load)o();else{const u=DR("iframefcb");return al()[u]=()=>{gapi.load?o():e(rl(n,"network-request-failed"))},v4(`${kR()}?onload=${u}`).catch(c=>e(c))}}).catch(t=>{throw rm=null,t})}let rm=null;function HC(n){return rm=rm||qC(n),rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new wp(5e3,15e3),GC="__/auth/iframe",YC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $C(n){const t=n.config;Oe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?By(t,YC):`https://${n.config.authDomain}/${GC}`,i={apiKey:t.apiKey,appName:n.name,v:mh},r=XC.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${bp(i).slice(1)}`}async function QC(n){const t=await HC(n),e=al().gapi;return Oe(e,n,"internal-error"),t.open({where:document.body,url:$C(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=rl(n,"network-request-failed"),u=al().setTimeout(()=>{s(o)},WC.get());function c(){al().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZC=500,tI=600,eI="_blank",nI="http://localhost";class Lb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iI(n,t,e,i=ZC,r=tI){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},JC),{width:i.toString(),height:r.toString(),top:s,left:o}),f=rs().toLowerCase();e&&(u=h4(f)?eI:e),u4(f)&&(t=t||nI,c.scrollbars="yes");const p=Object.entries(c).reduce((w,[_,E])=>`${w}${_}=${E},`,"");if(xR(f)&&u!=="_self")return rI(t||"",u),new Lb(null);const y=window.open(t||"",u,p);Oe(y,n,"popup-blocked");try{y.focus()}catch{}return new Lb(y)}function rI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__/auth/handler",aI="emulator/auth/handler",oI=encodeURIComponent("fac");async function Pb(n,t,e,i,r,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:mh,eventId:r};if(t instanceof w4){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",H6(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(t instanceof Sp){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),f=c?`#${oI}=${encodeURIComponent(c)}`:"";return`${lI(n)}?${bp(u).slice(1)}${f}`}function lI({config:n}){return n.emulator?By(n,aI):`https://${n.authDomain}/${sI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="webStorageSupport";class uI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C4,this._completeRedirectFn=kC,this._overrideRedirectResult=IC}async _openPopup(t,e,i,r){var s;nu((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Pb(t,e,i,O2(),r);return iI(t,o,Hy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await Pb(t,e,i,O2(),r);return fC(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(nu(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await QC(t),i=new OC(t);return e.register("authEvent",r=>(Oe(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(X1,{type:X1},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[X1];o!==void 0&&e(!!o),po(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=VC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return m4()||c4()||Uy()}}const cI=uI;var kb="@firebase/auth",Db="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dI(n){uh(new uc("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=i.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y4(n)},f=new IR(i,r,s,c);return VR(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),uh(new uc("auth-internal",t=>{const e=Ac(t.getProvider("auth").getImmediate());return(i=>new hI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),il(kb,Db,fI(n)),il(kb,Db,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=5*60,gI=KS("authIdTokenMaxAge")||pI;let Ob=null;const mI=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>gI)return;const r=e==null?void 0:e.token;Ob!==r&&(Ob=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function yI(n=My()){const t=t0(n,"auth");if(t.isInitialized())return t.getImmediate();const e=BR(n,{popupRedirectResolver:cI,persistence:[wC,uC,C4]}),i=KS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=mI(s.toString());rC(e,o,()=>o(e.currentUser)),iC(e,u=>o(u))}}const r=WS("auth");return r&&UR(e,`http://${r}`),e}function vI(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}LR({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=rl("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",vI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dI("Browser");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,M4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,P){function U(){}U.prototype=P.prototype,z.D=P.prototype,z.prototype=new U,z.prototype.constructor=z,z.C=function(X,L,D){for(var F=Array(arguments.length-2),at=2;at<arguments.length;at++)F[at-2]=arguments[at];return P.prototype[L].apply(X,F)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(z,P,U){U||(U=0);var X=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)X[L]=P.charCodeAt(U++)|P.charCodeAt(U++)<<8|P.charCodeAt(U++)<<16|P.charCodeAt(U++)<<24;else for(L=0;16>L;++L)X[L]=P[U++]|P[U++]<<8|P[U++]<<16|P[U++]<<24;P=z.g[0],U=z.g[1],L=z.g[2];var D=z.g[3],F=P+(D^U&(L^D))+X[0]+3614090360&4294967295;P=U+(F<<7&4294967295|F>>>25),F=D+(L^P&(U^L))+X[1]+3905402710&4294967295,D=P+(F<<12&4294967295|F>>>20),F=L+(U^D&(P^U))+X[2]+606105819&4294967295,L=D+(F<<17&4294967295|F>>>15),F=U+(P^L&(D^P))+X[3]+3250441966&4294967295,U=L+(F<<22&4294967295|F>>>10),F=P+(D^U&(L^D))+X[4]+4118548399&4294967295,P=U+(F<<7&4294967295|F>>>25),F=D+(L^P&(U^L))+X[5]+1200080426&4294967295,D=P+(F<<12&4294967295|F>>>20),F=L+(U^D&(P^U))+X[6]+2821735955&4294967295,L=D+(F<<17&4294967295|F>>>15),F=U+(P^L&(D^P))+X[7]+4249261313&4294967295,U=L+(F<<22&4294967295|F>>>10),F=P+(D^U&(L^D))+X[8]+1770035416&4294967295,P=U+(F<<7&4294967295|F>>>25),F=D+(L^P&(U^L))+X[9]+2336552879&4294967295,D=P+(F<<12&4294967295|F>>>20),F=L+(U^D&(P^U))+X[10]+4294925233&4294967295,L=D+(F<<17&4294967295|F>>>15),F=U+(P^L&(D^P))+X[11]+2304563134&4294967295,U=L+(F<<22&4294967295|F>>>10),F=P+(D^U&(L^D))+X[12]+1804603682&4294967295,P=U+(F<<7&4294967295|F>>>25),F=D+(L^P&(U^L))+X[13]+4254626195&4294967295,D=P+(F<<12&4294967295|F>>>20),F=L+(U^D&(P^U))+X[14]+2792965006&4294967295,L=D+(F<<17&4294967295|F>>>15),F=U+(P^L&(D^P))+X[15]+1236535329&4294967295,U=L+(F<<22&4294967295|F>>>10),F=P+(L^D&(U^L))+X[1]+4129170786&4294967295,P=U+(F<<5&4294967295|F>>>27),F=D+(U^L&(P^U))+X[6]+3225465664&4294967295,D=P+(F<<9&4294967295|F>>>23),F=L+(P^U&(D^P))+X[11]+643717713&4294967295,L=D+(F<<14&4294967295|F>>>18),F=U+(D^P&(L^D))+X[0]+3921069994&4294967295,U=L+(F<<20&4294967295|F>>>12),F=P+(L^D&(U^L))+X[5]+3593408605&4294967295,P=U+(F<<5&4294967295|F>>>27),F=D+(U^L&(P^U))+X[10]+38016083&4294967295,D=P+(F<<9&4294967295|F>>>23),F=L+(P^U&(D^P))+X[15]+3634488961&4294967295,L=D+(F<<14&4294967295|F>>>18),F=U+(D^P&(L^D))+X[4]+3889429448&4294967295,U=L+(F<<20&4294967295|F>>>12),F=P+(L^D&(U^L))+X[9]+568446438&4294967295,P=U+(F<<5&4294967295|F>>>27),F=D+(U^L&(P^U))+X[14]+3275163606&4294967295,D=P+(F<<9&4294967295|F>>>23),F=L+(P^U&(D^P))+X[3]+4107603335&4294967295,L=D+(F<<14&4294967295|F>>>18),F=U+(D^P&(L^D))+X[8]+1163531501&4294967295,U=L+(F<<20&4294967295|F>>>12),F=P+(L^D&(U^L))+X[13]+2850285829&4294967295,P=U+(F<<5&4294967295|F>>>27),F=D+(U^L&(P^U))+X[2]+4243563512&4294967295,D=P+(F<<9&4294967295|F>>>23),F=L+(P^U&(D^P))+X[7]+1735328473&4294967295,L=D+(F<<14&4294967295|F>>>18),F=U+(D^P&(L^D))+X[12]+2368359562&4294967295,U=L+(F<<20&4294967295|F>>>12),F=P+(U^L^D)+X[5]+4294588738&4294967295,P=U+(F<<4&4294967295|F>>>28),F=D+(P^U^L)+X[8]+2272392833&4294967295,D=P+(F<<11&4294967295|F>>>21),F=L+(D^P^U)+X[11]+1839030562&4294967295,L=D+(F<<16&4294967295|F>>>16),F=U+(L^D^P)+X[14]+4259657740&4294967295,U=L+(F<<23&4294967295|F>>>9),F=P+(U^L^D)+X[1]+2763975236&4294967295,P=U+(F<<4&4294967295|F>>>28),F=D+(P^U^L)+X[4]+1272893353&4294967295,D=P+(F<<11&4294967295|F>>>21),F=L+(D^P^U)+X[7]+4139469664&4294967295,L=D+(F<<16&4294967295|F>>>16),F=U+(L^D^P)+X[10]+3200236656&4294967295,U=L+(F<<23&4294967295|F>>>9),F=P+(U^L^D)+X[13]+681279174&4294967295,P=U+(F<<4&4294967295|F>>>28),F=D+(P^U^L)+X[0]+3936430074&4294967295,D=P+(F<<11&4294967295|F>>>21),F=L+(D^P^U)+X[3]+3572445317&4294967295,L=D+(F<<16&4294967295|F>>>16),F=U+(L^D^P)+X[6]+76029189&4294967295,U=L+(F<<23&4294967295|F>>>9),F=P+(U^L^D)+X[9]+3654602809&4294967295,P=U+(F<<4&4294967295|F>>>28),F=D+(P^U^L)+X[12]+3873151461&4294967295,D=P+(F<<11&4294967295|F>>>21),F=L+(D^P^U)+X[15]+530742520&4294967295,L=D+(F<<16&4294967295|F>>>16),F=U+(L^D^P)+X[2]+3299628645&4294967295,U=L+(F<<23&4294967295|F>>>9),F=P+(L^(U|~D))+X[0]+4096336452&4294967295,P=U+(F<<6&4294967295|F>>>26),F=D+(U^(P|~L))+X[7]+1126891415&4294967295,D=P+(F<<10&4294967295|F>>>22),F=L+(P^(D|~U))+X[14]+2878612391&4294967295,L=D+(F<<15&4294967295|F>>>17),F=U+(D^(L|~P))+X[5]+4237533241&4294967295,U=L+(F<<21&4294967295|F>>>11),F=P+(L^(U|~D))+X[12]+1700485571&4294967295,P=U+(F<<6&4294967295|F>>>26),F=D+(U^(P|~L))+X[3]+2399980690&4294967295,D=P+(F<<10&4294967295|F>>>22),F=L+(P^(D|~U))+X[10]+4293915773&4294967295,L=D+(F<<15&4294967295|F>>>17),F=U+(D^(L|~P))+X[1]+2240044497&4294967295,U=L+(F<<21&4294967295|F>>>11),F=P+(L^(U|~D))+X[8]+1873313359&4294967295,P=U+(F<<6&4294967295|F>>>26),F=D+(U^(P|~L))+X[15]+4264355552&4294967295,D=P+(F<<10&4294967295|F>>>22),F=L+(P^(D|~U))+X[6]+2734768916&4294967295,L=D+(F<<15&4294967295|F>>>17),F=U+(D^(L|~P))+X[13]+1309151649&4294967295,U=L+(F<<21&4294967295|F>>>11),F=P+(L^(U|~D))+X[4]+4149444226&4294967295,P=U+(F<<6&4294967295|F>>>26),F=D+(U^(P|~L))+X[11]+3174756917&4294967295,D=P+(F<<10&4294967295|F>>>22),F=L+(P^(D|~U))+X[2]+718787259&4294967295,L=D+(F<<15&4294967295|F>>>17),F=U+(D^(L|~P))+X[9]+3951481745&4294967295,z.g[0]=z.g[0]+P&4294967295,z.g[1]=z.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+D&4294967295}i.prototype.u=function(z,P){P===void 0&&(P=z.length);for(var U=P-this.blockSize,X=this.B,L=this.h,D=0;D<P;){if(L==0)for(;D<=U;)r(this,z,D),D+=this.blockSize;if(typeof z=="string"){for(;D<P;)if(X[L++]=z.charCodeAt(D++),L==this.blockSize){r(this,X),L=0;break}}else for(;D<P;)if(X[L++]=z[D++],L==this.blockSize){r(this,X),L=0;break}}this.h=L,this.o+=P},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var P=1;P<z.length-8;++P)z[P]=0;var U=8*this.o;for(P=z.length-8;P<z.length;++P)z[P]=U&255,U/=256;for(this.u(z),z=Array(16),P=U=0;4>P;++P)for(var X=0;32>X;X+=8)z[U++]=this.g[P]>>>X&255;return z};function s(z,P){var U=u;return Object.prototype.hasOwnProperty.call(U,z)?U[z]:U[z]=P(z)}function o(z,P){this.h=P;for(var U=[],X=!0,L=z.length-1;0<=L;L--){var D=z[L]|0;X&&D==P||(U[L]=D,X=!1)}this.g=U}var u={};function c(z){return-128<=z&&128>z?s(z,function(P){return new o([P|0],0>P?-1:0)}):new o([z|0],0>z?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return y;if(0>z)return R(f(-z));for(var P=[],U=1,X=0;z>=U;X++)P[X]=z/U|0,U*=4294967296;return new o(P,0)}function p(z,P){if(z.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(z.charAt(0)=="-")return R(p(z.substring(1),P));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=f(Math.pow(P,8)),X=y,L=0;L<z.length;L+=8){var D=Math.min(8,z.length-L),F=parseInt(z.substring(L,L+D),P);8>D?(D=f(Math.pow(P,D)),X=X.j(D).add(f(F))):(X=X.j(U),X=X.add(f(F)))}return X}var y=c(0),w=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(N(this))return-R(this).m();for(var z=0,P=1,U=0;U<this.g.length;U++){var X=this.i(U);z+=(0<=X?X:4294967296+X)*P,P*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(E(this))return"0";if(N(this))return"-"+R(this).toString(z);for(var P=f(Math.pow(z,6)),U=this,X="";;){var L=et(U,P).g;U=C(U,L.j(P));var D=((0<U.g.length?U.g[0]:U.h)>>>0).toString(z);if(U=L,E(U))return D+X;for(;6>D.length;)D="0"+D;X=D+X}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function E(z){if(z.h!=0)return!1;for(var P=0;P<z.g.length;P++)if(z.g[P]!=0)return!1;return!0}function N(z){return z.h==-1}n.l=function(z){return z=C(this,z),N(z)?-1:E(z)?0:1};function R(z){for(var P=z.g.length,U=[],X=0;X<P;X++)U[X]=~z.g[X];return new o(U,~z.h).add(w)}n.abs=function(){return N(this)?R(this):this},n.add=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],X=0,L=0;L<=P;L++){var D=X+(this.i(L)&65535)+(z.i(L)&65535),F=(D>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);X=F>>>16,D&=65535,F&=65535,U[L]=F<<16|D}return new o(U,U[U.length-1]&-2147483648?-1:0)};function C(z,P){return z.add(R(P))}n.j=function(z){if(E(this)||E(z))return y;if(N(this))return N(z)?R(this).j(R(z)):R(R(this).j(z));if(N(z))return R(this.j(R(z)));if(0>this.l(_)&&0>z.l(_))return f(this.m()*z.m());for(var P=this.g.length+z.g.length,U=[],X=0;X<2*P;X++)U[X]=0;for(X=0;X<this.g.length;X++)for(var L=0;L<z.g.length;L++){var D=this.i(X)>>>16,F=this.i(X)&65535,at=z.i(L)>>>16,wt=z.i(L)&65535;U[2*X+2*L]+=F*wt,O(U,2*X+2*L),U[2*X+2*L+1]+=D*wt,O(U,2*X+2*L+1),U[2*X+2*L+1]+=F*at,O(U,2*X+2*L+1),U[2*X+2*L+2]+=D*at,O(U,2*X+2*L+2)}for(X=0;X<P;X++)U[X]=U[2*X+1]<<16|U[2*X];for(X=P;X<2*P;X++)U[X]=0;return new o(U,0)};function O(z,P){for(;(z[P]&65535)!=z[P];)z[P+1]+=z[P]>>>16,z[P]&=65535,P++}function G(z,P){this.g=z,this.h=P}function et(z,P){if(E(P))throw Error("division by zero");if(E(z))return new G(y,y);if(N(z))return P=et(R(z),P),new G(R(P.g),R(P.h));if(N(P))return P=et(z,R(P)),new G(R(P.g),P.h);if(30<z.g.length){if(N(z)||N(P))throw Error("slowDivide_ only works with positive integers.");for(var U=w,X=P;0>=X.l(z);)U=tt(U),X=tt(X);var L=mt(U,1),D=mt(X,1);for(X=mt(X,2),U=mt(U,2);!E(X);){var F=D.add(X);0>=F.l(z)&&(L=L.add(U),D=F),X=mt(X,1),U=mt(U,1)}return P=C(z,L.j(P)),new G(L,P)}for(L=y;0<=z.l(P);){for(U=Math.max(1,Math.floor(z.m()/P.m())),X=Math.ceil(Math.log(U)/Math.LN2),X=48>=X?1:Math.pow(2,X-48),D=f(U),F=D.j(P);N(F)||0<F.l(z);)U-=X,D=f(U),F=D.j(P);E(D)&&(D=w),L=L.add(D),z=C(z,F)}return new G(L,z)}n.A=function(z){return et(this,z).h},n.and=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],X=0;X<P;X++)U[X]=this.i(X)&z.i(X);return new o(U,this.h&z.h)},n.or=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],X=0;X<P;X++)U[X]=this.i(X)|z.i(X);return new o(U,this.h|z.h)},n.xor=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],X=0;X<P;X++)U[X]=this.i(X)^z.i(X);return new o(U,this.h^z.h)};function tt(z){for(var P=z.g.length+1,U=[],X=0;X<P;X++)U[X]=z.i(X)<<1|z.i(X-1)>>>31;return new o(U,z.h)}function mt(z,P){var U=P>>5;P%=32;for(var X=z.g.length-U,L=[],D=0;D<X;D++)L[D]=0<P?z.i(D+U)>>>P|z.i(D+U+1)<<32-P:z.i(D+U);return new o(L,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,M4=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,sc=o}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j4,Dd,F4,sm,B2,B4,V4,U4;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,k){return m==Array.prototype||m==Object.prototype||(m[T]=k.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ig=="object"&&Ig];for(var T=0;T<m.length;++T){var k=m[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=e(this);function r(m,T){if(T)t:{var k=i;m=m.split(".");for(var K=0;K<m.length-1;K++){var _t=m[K];if(!(_t in k))break t;k=k[_t]}m=m[m.length-1],K=k[m],T=T(K),T!=K&&T!=null&&t(k,m,{configurable:!0,writable:!0,value:T})}}function s(m,T){m instanceof String&&(m+="");var k=0,K=!1,_t={next:function(){if(!K&&k<m.length){var Lt=k++;return{value:T(Lt,m[Lt]),done:!1}}return K=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}r("Array.prototype.values",function(m){return m||function(){return s(this,function(T,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,k){return m.call.apply(m.bind,arguments)}function y(m,T,k){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,K),m.apply(T,_t)}}return function(){return m.apply(T,arguments)}}function w(m,T,k){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function _(m,T){var k=Array.prototype.slice.call(arguments,1);return function(){var K=k.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function E(m,T){function k(){}k.prototype=T.prototype,m.aa=T.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(K,_t,Lt){for(var Xt=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)Xt[Re-2]=arguments[Re];return T.prototype[_t].apply(K,Xt)}}function N(m){const T=m.length;if(0<T){const k=Array(T);for(let K=0;K<T;K++)k[K]=m[K];return k}return[]}function R(m,T){for(let k=1;k<arguments.length;k++){const K=arguments[k];if(c(K)){const _t=m.length||0,Lt=K.length||0;m.length=_t+Lt;for(let Xt=0;Xt<Lt;Xt++)m[_t+Xt]=K[Xt]}else m.push(K)}}class C{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function O(m){return/^[\s\xa0]*$/.test(m)}function G(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function et(m){return et[" "](m),m}et[" "]=function(){};var tt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function mt(m,T,k){for(const K in m)T.call(k,m[K],K,m)}function z(m,T){for(const k in m)T.call(void 0,m[k],k,m)}function P(m){const T={};for(const k in m)T[k]=m[k];return T}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(m,T){let k,K;for(let _t=1;_t<arguments.length;_t++){K=arguments[_t];for(k in K)m[k]=K[k];for(let Lt=0;Lt<U.length;Lt++)k=U[Lt],Object.prototype.hasOwnProperty.call(K,k)&&(m[k]=K[k])}}function L(m){var T=1;m=m.split(":");const k=[];for(;0<T&&m.length;)k.push(m.shift()),T--;return m.length&&k.push(m.join(":")),k}function D(m){u.setTimeout(()=>{throw m},0)}function F(){var m=Tt;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class at{constructor(){this.h=this.g=null}add(T,k){const K=wt.get();K.set(T,k),this.h?this.h.next=K:this.g=K,this.h=K}}var wt=new C(()=>new nt,m=>m.reset());class nt{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ft=!1,Tt=new at,Q=()=>{const m=u.Promise.resolve(void 0);ct=()=>{m.then(St)}};var St=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(k){D(k)}var T=wt;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}ft=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};u.addEventListener("test",k,T),u.removeEventListener("test",k,T)}catch{}return m}();function st(m,T){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(tt){t:{try{et(T.nodeName);var _t=!0;break t}catch{}_t=!1}_t||(T=null)}}else k=="mouseover"?T=m.fromElement:k=="mouseout"&&(T=m.toElement);this.relatedTarget=T,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:lt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&st.aa.h.call(this)}}E(st,W);var lt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Et=0;function kt(m,T,k,K,_t){this.listener=m,this.proxy=null,this.src=T,this.type=k,this.capture=!!K,this.ha=_t,this.key=++Et,this.da=this.fa=!1}function Jt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function $t(m){this.src=m,this.g={},this.h=0}$t.prototype.add=function(m,T,k,K,_t){var Lt=m.toString();m=this.g[Lt],m||(m=this.g[Lt]=[],this.h++);var Xt=te(m,T,K,_t);return-1<Xt?(T=m[Xt],k||(T.fa=!1)):(T=new kt(T,this.src,Lt,!!K,_t),T.fa=k,m.push(T)),T};function ne(m,T){var k=T.type;if(k in m.g){var K=m.g[k],_t=Array.prototype.indexOf.call(K,T,void 0),Lt;(Lt=0<=_t)&&Array.prototype.splice.call(K,_t,1),Lt&&(Jt(T),m.g[k].length==0&&(delete m.g[k],m.h--))}}function te(m,T,k,K){for(var _t=0;_t<m.length;++_t){var Lt=m[_t];if(!Lt.da&&Lt.listener==T&&Lt.capture==!!k&&Lt.ha==K)return _t}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ft={};function ot(m,T,k,K,_t){if(Array.isArray(T)){for(var Lt=0;Lt<T.length;Lt++)ot(m,T[Lt],k,K,_t);return null}return k=Fe(k),m&&m[Nt]?m.K(T,k,f(K)?!!K.capture:!1,_t):Se(m,T,k,!1,K,_t)}function Se(m,T,k,K,_t,Lt){if(!T)throw Error("Invalid event type");var Xt=f(_t)?!!_t.capture:!!_t,Re=ve(m);if(Re||(m[we]=Re=new $t(m)),k=Re.add(T,k,K,Xt,Lt),k.proxy)return k;if(K=he(),k.proxy=K,K.src=m,K.listener=k,m.addEventListener)Z||(_t=Xt),_t===void 0&&(_t=!1),m.addEventListener(T.toString(),K,_t);else if(m.attachEvent)m.attachEvent(se(T.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return k}function he(){function m(k){return T.call(m.src,m.listener,k)}const T=ae;return m}function Qt(m,T,k,K,_t){if(Array.isArray(T))for(var Lt=0;Lt<T.length;Lt++)Qt(m,T[Lt],k,K,_t);else K=f(K)?!!K.capture:!!K,k=Fe(k),m&&m[Nt]?(m=m.i,T=String(T).toString(),T in m.g&&(Lt=m.g[T],k=te(Lt,k,K,_t),-1<k&&(Jt(Lt[k]),Array.prototype.splice.call(Lt,k,1),Lt.length==0&&(delete m.g[T],m.h--)))):m&&(m=ve(m))&&(T=m.g[T.toString()],m=-1,T&&(m=te(T,k,K,_t)),(k=-1<m?T[m]:null)&&Zt(k))}function Zt(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Nt])ne(T.i,m);else{var k=m.type,K=m.proxy;T.removeEventListener?T.removeEventListener(k,K,m.capture):T.detachEvent?T.detachEvent(se(k),K):T.addListener&&T.removeListener&&T.removeListener(K),(k=ve(T))?(ne(k,m),k.h==0&&(k.src=null,T[we]=null)):Jt(m)}}}function se(m){return m in Ft?Ft[m]:Ft[m]="on"+m}function ae(m,T){if(m.da)m=!0;else{T=new st(T,this);var k=m.listener,K=m.ha||m.src;m.fa&&Zt(m),m=k.call(K,T)}return m}function ve(m){return m=m[we],m instanceof $t?m:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(m){return typeof m=="function"?m:(m[Ie]||(m[Ie]=function(T){return m.handleEvent(T)}),m[Ie])}function _e(){j.call(this),this.i=new $t(this),this.M=this,this.F=null}E(_e,j),_e.prototype[Nt]=!0,_e.prototype.removeEventListener=function(m,T,k,K){Qt(this,m,T,k,K)};function ge(m,T){var k,K=m.F;if(K)for(k=[];K;K=K.F)k.push(K);if(m=m.M,K=T.type||T,typeof T=="string")T=new W(T,m);else if(T instanceof W)T.target=T.target||m;else{var _t=T;T=new W(K,m),X(T,_t)}if(_t=!0,k)for(var Lt=k.length-1;0<=Lt;Lt--){var Xt=T.g=k[Lt];_t=He(Xt,K,!0,T)&&_t}if(Xt=T.g=m,_t=He(Xt,K,!0,T)&&_t,_t=He(Xt,K,!1,T)&&_t,k)for(Lt=0;Lt<k.length;Lt++)Xt=T.g=k[Lt],_t=He(Xt,K,!1,T)&&_t}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var k=m.g[T],K=0;K<k.length;K++)Jt(k[K]);delete m.g[T],m.h--}}this.F=null},_e.prototype.K=function(m,T,k,K){return this.i.add(String(m),T,!1,k,K)},_e.prototype.L=function(m,T,k,K){return this.i.add(String(m),T,!0,k,K)};function He(m,T,k,K){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var _t=!0,Lt=0;Lt<T.length;++Lt){var Xt=T[Lt];if(Xt&&!Xt.da&&Xt.capture==k){var Re=Xt.listener,rn=Xt.ha||Xt.src;Xt.fa&&ne(m.i,Xt),_t=Re.call(rn,K)!==!1&&_t}}return _t&&!K.defaultPrevented}function fe(m,T,k){if(typeof m=="function")k&&(m=w(m,k));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function We(m){m.g=fe(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class oe extends j{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(m){j.call(this),this.h=m,this.g={}}E(ri,j);var Ke=[];function tr(m){mt(m.g,function(T,k){this.g.hasOwnProperty(k)&&Zt(T)},m),m.g={}}ri.prototype.N=function(){ri.aa.N.call(this),tr(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=u.JSON.stringify,Nn=u.JSON.parse,hr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ln(){}ln.prototype.h=null;function Fs(m){return m.h||(m.h=m.i())}function Un(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){W.call(this,"d")}E(er,W);function zn(){W.call(this,"c")}E(zn,W);var xe={},un=null;function Dr(){return un=un||new _e}xe.La="serverreachability";function si(m){W.call(this,xe.La,m)}E(si,W);function nr(m){const T=Dr();ge(T,new si(T))}xe.STAT_EVENT="statevent";function as(m,T){W.call(this,xe.STAT_EVENT,m),this.stat=T}E(as,W);function le(m){const T=Dr();ge(T,new as(T,m))}xe.Ma="timingevent";function Rn(m,T){W.call(this,xe.Ma,m),this.size=T}E(Rn,W);function Cn(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function Zn(m,T,k,K,_t,Lt){m.info(function(){if(m.g)if(Lt)for(var Xt="",Re=Lt.split("&"),rn=0;rn<Re.length;rn++){var Be=Re[rn].split("=");if(1<Be.length){var An=Be[0];Be=Be[1];var In=An.split("_");Xt=2<=In.length&&In[1]=="type"?Xt+(An+"="+Be+"&"):Xt+(An+"=redacted&")}}else Xt=null;else Xt=Lt;return"XMLHTTP REQ ("+K+") [attempt "+_t+"]: "+T+`
`+k+`
`+Xt})}function ai(m,T,k,K,_t,Lt,Xt){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+_t+"]: "+T+`
`+k+`
`+Lt+" "+Xt})}function _i(m,T,k,K){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Sr(m,k)+(K?" "+K:"")})}function Ma(m,T){m.info(function(){return"TIMEOUT: "+T})}Kn.prototype.info=function(){};function Sr(m,T){if(!m.g)return T;if(!T)return null;try{var k=JSON.parse(T);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var K=k[m];if(!(2>K.length)){var _t=K[1];if(Array.isArray(_t)&&!(1>_t.length)){var Lt=_t[0];if(Lt!="noop"&&Lt!="stop"&&Lt!="close")for(var Xt=1;Xt<_t.length;Xt++)_t[Xt]=""}}}}return Je(k)}catch{return T}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Pi(){}E(Pi,ln),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},bi=new Pi;function qn(m,T,k,K){this.j=m,this.i=T,this.l=k,this.R=K||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Bs={},Vs={};function fr(m,T,k){m.L=1,m.v=da(rr(T)),m.m=k,m.P=!0,Or(m,null)}function Or(m,T){m.F=Date.now(),Fa(m),m.A=rr(m.v);var k=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),Ne(k.i,"t",K),m.C=0,k=m.j.J,m.h=new bn,m.g=V(m.j,k?T:null,!m.m),0<m.O&&(m.M=new oe(w(m.Y,m,m.g),m.O)),T=m.U,k=m.g,K=m.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(Ke[0]=_t.toString()),_t=Ke);for(var Lt=0;Lt<_t.length;Lt++){var Xt=ot(k,_t[Lt],K||T.handleEvent,!1,T.h||T);if(!Xt)break;T.g[Xt.key]=Xt}T=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),nr(),Zn(m.i,m.u,m.A,m.l,m.R,m.m)}qn.prototype.ca=function(m){m=m.target;const T=this.M;T&&Ai(m)==3?T.j():this.Y(m)},qn.prototype.Y=function(m){try{if(m==this.g)t:{const In=Ai(this.g);var T=this.g.Ba();const As=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||In!=4||T==7||(T==8||0>=As?nr(3):nr(2)),os(this);var k=this.g.Z();this.X=k;e:if(ja(this)){var K=fu(this.g);m="";var _t=K.length,Lt=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),ls(this);var Xt="";break e}this.h.i=new u.TextDecoder}for(T=0;T<_t;T++)this.h.h=!0,m+=this.h.i.decode(K[T],{stream:!(Lt&&T==_t-1)});K.length=0,this.h.g+=m,this.C=0,Xt=this.h.g}else Xt=this.g.oa();if(this.o=k==200,ai(this.i,this.u,this.A,this.l,this.R,In,k),this.o){if(this.T&&!this.K){e:{if(this.g){var Re,rn=this.g;if((Re=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Re)){var Be=Re;break e}}Be=null}if(k=Be)_i(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,k);else{this.o=!1,this.s=3,le(12),ki(this),ls(this);break t}}if(this.P){k=!0;let hi;for(;!this.J&&this.C<Xt.length;)if(hi=pl(this,Xt),hi==Vs){In==4&&(this.s=4,le(14),k=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==Bs){this.s=4,le(15),_i(this.i,this.l,Xt,"[Invalid Chunk]"),k=!1;break}else _i(this.i,this.l,hi,null),Us(this,hi);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Xt.length!=0||this.h.h||(this.s=1,le(16),k=!1),this.o=this.o&&k,!k)_i(this.i,this.l,Xt,"[Invalid Chunked Response]"),ki(this),ls(this);else if(0<Xt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Xt.length),_a(An),An.M=!0,le(11))}}else _i(this.i,this.l,Xt,null),Us(this,Xt);In==4&&ki(this),this.o&&!this.J&&(In==4?ba(this.j,this):(this.o=!1,Fa(this)))}else ma(this.g),k==400&&0<Xt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),ki(this),ls(this)}}}catch{}finally{}};function ja(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function pl(m,T){var k=m.C,K=T.indexOf(`
`,k);return K==-1?Vs:(k=Number(T.substring(k,K)),isNaN(k)?Bs:(K+=1,K+k>T.length?Vs:(T=T.slice(K,K+k),m.C=K+k,T)))}qn.prototype.cancel=function(){this.J=!0,ki(this)};function Fa(m){m.S=Date.now()+m.I,ou(m,m.I)}function ou(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Cn(w(m.ba,m),T)}function os(m){m.B&&(u.clearTimeout(m.B),m.B=null)}qn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ma(this.i,this.A),this.L!=2&&(nr(),le(17)),ki(this),this.s=2,ls(this)):ou(this,this.S-m)};function ls(m){m.j.G==0||m.J||ba(m.j,m)}function ki(m){os(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,tr(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Us(m,T){try{var k=m.j;if(k.G!=0&&(k.g==m||gl(k.h,m))){if(!m.K&&gl(k.h,m)&&k.G==3){try{var K=k.Da.g.parse(T)}catch{K=null}if(Array.isArray(K)&&K.length==3){var _t=K;if(_t[0]==0){t:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)Xs(k),So(k);else break t;Ha(k),le(18)}}else k.za=_t[1],0<k.za-k.T&&37500>_t[2]&&k.F&&k.v==0&&!k.C&&(k.C=Cn(w(k.Za,k),6e3));if(1>=zs(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else mr(k,11)}else if((m.K||k.g==m)&&Xs(k),!O(T))for(_t=k.Da.g.parse(T),T=0;T<_t.length;T++){let Be=_t[T];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const An=Be[3];An!=null&&(k.la=An,k.j.info("VER="+k.la));const In=Be[4];In!=null&&(k.Aa=In,k.j.info("SVER="+k.Aa));const As=Be[5];As!=null&&typeof As=="number"&&0<As&&(K=1.5*As,k.L=K,k.j.info("backChannelRequestTimeoutMs_="+K)),K=k;const hi=m.g;if(hi){const Vr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var Lt=K.h;Lt.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Hn(Lt,Lt.h),Lt.h=null))}if(K.D){const wa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(K.ya=wa,wn(K.I,K.D,wa))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),K=k;var Xt=m;if(K.qa=S(K,K.J?K.ia:null,K.W),Xt.K){Gi(K.h,Xt);var Re=Xt,rn=K.L;rn&&(Re.I=rn),Re.B&&(os(Re),Fa(Re)),K.g=Xt}else To(K);0<k.i.length&&xo(k)}else Be[0]!="stop"&&Be[0]!="close"||mr(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?mr(k,7):Ks(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}nr(4)}catch{}}var lu=class{constructor(m,T){this.g=m,this.map=T}};function ps(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zs(m){return m.h?1:m.g?m.g.size:0}function gl(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Hn(m,T){m.g?m.g.add(T):m.h=T}function Gi(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ps.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const k of m.g.values())T=T.concat(k.D);return T}return N(m.i)}function uu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var T=[],k=m.length,K=0;K<k;K++)T.push(m[K]);return T}T=[],k=0;for(K in m)T[k++]=m[K];return T}function ca(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var T=[];m=m.length;for(var k=0;k<m;k++)T.push(k);return T}T=[],k=0;for(const K in m)T[k++]=K;return T}}}function ml(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var k=ca(m),K=uu(m),_t=K.length,Lt=0;Lt<_t;Lt++)T.call(void 0,K[Lt],k&&k[Lt],m)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(m,T){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var K=m[k].indexOf("="),_t=null;if(0<=K){var Lt=m[k].substring(0,K);_t=m[k].substring(K+1)}else Lt=m[k];T(Lt,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}function dn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof dn){this.h=m.h,ha(this,m.j),this.o=m.o,this.g=m.g,fa(this,m.s),this.l=m.l;var T=m.i,k=new ms;k.i=T.i,T.g&&(k.g=new Map(T.g),k.h=T.h),gs(this,k),this.m=m.m}else m&&(T=String(m).match(ir))?(this.h=!1,ha(this,T[1]||"",!0),this.o=Mr(T[2]||""),this.g=Mr(T[3]||"",!0),fa(this,T[4]),this.l=Mr(T[5]||"",!0),gs(this,T[6]||"",!0),this.m=Mr(T[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}dn.prototype.toString=function(){var m=[],T=this.j;T&&m.push(qs(T,yl,!0),":");var k=this.g;return(k||T=="file")&&(m.push("//"),(T=this.o)&&m.push(qs(T,yl,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(qs(k,k.charAt(0)=="/"?Hs:vl,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",qs(k,Ws)),m.join("")};function rr(m){return new dn(m)}function ha(m,T,k){m.j=k?Mr(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function fa(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function gs(m,T,k){T instanceof ms?(m.i=T,hu(m.i,m.h)):(k||(T=qs(T,Ao)),m.i=new ms(T,m.h))}function wn(m,T,k){m.i.set(T,k)}function da(m){return wn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Mr(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qs(m,T,k){return typeof m=="string"?(m=encodeURI(m).replace(T,cu),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function cu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yl=/[#\/\?@]/g,vl=/[#\?:]/g,Hs=/[#\?]/g,Ao=/[#\?@]/g,Ws=/#/g;function ms(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Dn(m){m.g||(m.g=new Map,m.h=0,m.i&&wo(m.i,function(T,k){m.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}n=ms.prototype,n.add=function(m,T){Dn(this),this.i=null,m=vs(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(T),this.h+=1,this};function Gs(m,T){Dn(m),T=vs(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ys(m,T){return Dn(m),T=vs(m,T),m.g.has(T)}n.forEach=function(m,T){Dn(this),this.g.forEach(function(k,K){k.forEach(function(_t){m.call(T,_t,K,this)},this)},this)},n.na=function(){Dn(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),k=[];for(let K=0;K<T.length;K++){const _t=m[K];for(let Lt=0;Lt<_t.length;Lt++)k.push(T[K])}return k},n.V=function(m){Dn(this);let T=[];if(typeof m=="string")ys(this,m)&&(T=T.concat(this.g.get(vs(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)T=T.concat(m[k])}return T},n.set=function(m,T){return Dn(this),this.i=null,m=vs(this,m),ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Ne(m,T,k){Gs(m,T),0<k.length&&(m.i=null,m.g.set(vs(m,T),N(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var k=0;k<T.length;k++){var K=T[k];const Lt=encodeURIComponent(String(K)),Xt=this.V(K);for(K=0;K<Xt.length;K++){var _t=Lt;Xt[K]!==""&&(_t+="="+encodeURIComponent(String(Xt[K]))),m.push(_t)}}return this.i=m.join("&")};function vs(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function hu(m,T){T&&!m.j&&(Dn(m),m.i=null,m.g.forEach(function(k,K){var _t=K.toLowerCase();K!=_t&&(Gs(this,K),Ne(this,_t,k))},m)),m.j=T}function dr(m,T){const k=new Kn;if(u.Image){const K=new Image;K.onload=_(xr,k,"TestLoadImage: loaded",!0,T,K),K.onerror=_(xr,k,"TestLoadImage: error",!1,T,K),K.onabort=_(xr,k,"TestLoadImage: abort",!1,T,K),K.ontimeout=_(xr,k,"TestLoadImage: timeout",!1,T,K),u.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else T(!1)}function jr(m,T){const k=new Kn,K=new AbortController,_t=setTimeout(()=>{K.abort(),xr(k,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:K.signal}).then(Lt=>{clearTimeout(_t),Lt.ok?xr(k,"TestPingServer: ok",!0,T):xr(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(_t),xr(k,"TestPingServer: error",!1,T)})}function xr(m,T,k,K,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),K(k)}catch{}}function _s(){this.g=new hr}function Fr(m,T,k){const K=k||"";try{ml(m,function(_t,Lt){let Xt=_t;f(_t)&&(Xt=Je(_t)),T.push(K+Lt+"="+encodeURIComponent(Xt))})}catch(_t){throw T.push(K+"type="+encodeURIComponent("_badmap")),_t}}function pa(m){this.l=m.Ub||null,this.j=m.eb||!1}E(pa,ln),pa.prototype.g=function(){return new Ys(this.l,this.j)},pa.prototype.i=function(m){return function(){return m}}({});function Ys(m,T){_e.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ys,_e),n=Ys.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,pr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Br(this):pr(this),this.readyState==3&&_l(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Br(this))},n.Qa=function(m){this.g&&(this.response=m,Br(this))},n.ga=function(){this.g&&Br(this)};function Br(m){m.readyState=4,m.l=null,m.j=null,m.v=null,pr(m)}n.setRequestHeader=function(m,T){this.u.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=T.next();return m.join(`\r
`)};function pr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function bs(m){let T="";return mt(m,function(k,K){T+=K,T+=":",T+=k,T+=`\r
`}),T}function wi(m,T,k){t:{for(K in k){var K=!1;break t}K=!0}K||(k=bs(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):wn(m,T,k))}function nn(m){_e.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(nn,_e);var ga=/^https?$/i,ws=["POST","PUT"];n=nn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,T,k,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Fs(this.o):Fs(bi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Lt){bl(this,Lt);return}if(m=k||"",k=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var _t in K)k.set(_t,K[_t]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Lt of K.keys())k.set(Lt,K.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(k.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),_t=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ws,T,void 0))||K||_t||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Xt]of k)this.g.setRequestHeader(Lt,Xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gr(this),this.u=!0,this.g.send(m),this.u=!1}catch(Lt){bl(this,Lt)}};function bl(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Ba(m),us(m)}function Ba(m){m.A||(m.A=!0,ge(m,"complete"),ge(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ge(this,"complete"),ge(this,"abort"),us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ai(m)!=4||m.Z()!=2)){if(m.u&&Ai(m)==4)fe(m.Ea,0,m);else if(ge(m,"readystatechange"),Ai(m)==4){m.h=!1;try{const Xt=m.Z();t:switch(Xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var k;if(!(k=T)){var K;if(K=Xt===0){var _t=String(m.D).match(ir)[1]||null;!_t&&u.self&&u.self.location&&(_t=u.self.location.protocol.slice(0,-1)),K=!ga.test(_t?_t.toLowerCase():"")}k=K}if(k)ge(m,"complete"),ge(m,"success");else{m.m=6;try{var Lt=2<Ai(m)?m.g.statusText:""}catch{Lt=""}m.l=Lt+" ["+m.Z()+"]",Ba(m)}}finally{us(m)}}}}function us(m,T){if(m.g){gr(m);const k=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||ge(m,"ready");try{k.onreadystatechange=K}catch{}}}function gr(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ai(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Nn(T)}};function fu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(m){const T={};m=(m.g&&2<=Ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(O(m[K]))continue;var k=L(m[K]);const _t=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Lt=T[_t]||[];T[_t]=Lt,Lt.push(k)}z(T,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(m,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||T}function ya(m){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,m),this.cb=sr("retryDelaySeedMs",1e4,m),this.Wa=sr("forwardChannelMaxRetries",2,m),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(m&&m.concurrentRequestLimit),this.Da=new _s,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ya.prototype,n.la=8,n.G=1,n.connect=function(m,T,k,K){le(0),this.W=m,this.H=T||{},k&&K!==void 0&&(this.H.OSID=k,this.H.OAID=K),this.F=this.X,this.I=S(this,null,this.W),xo(this)};function Ks(m){if(Ua(m),m.G==3){var T=m.U++,k=rr(m.I);if(wn(k,"SID",m.K),wn(k,"RID",T),wn(k,"TYPE","terminate"),va(m,k),T=new qn(m,m.j,T),T.L=2,T.v=da(rr(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=T.v,k=!0),k||(T.g=V(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Fa(T)}Eo(m)}function So(m){m.g&&(_a(m),m.g.cancel(),m.g=null)}function Ua(m){So(m),m.u&&(u.clearTimeout(m.u),m.u=null),Xs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function xo(m){if(!_o(m.h)&&!m.s){m.s=!0;var T=m.Ga;ct||Q(),ft||(ct(),ft=!0),Tt.add(T,m),m.B=0}}function wl(m,T){return zs(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Cn(w(m.Ga,m,T),Wa(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const _t=new qn(this,this.j,m);let Lt=this.o;if(this.S&&(Lt?(Lt=P(Lt),X(Lt,this.S)):Lt=this.S),this.m!==null||this.O||(_t.H=Lt,Lt=null),this.P)t:{for(var T=0,k=0;k<this.i.length;k++){e:{var K=this.i[k];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break e}K=void 0}if(K===void 0)break;if(T+=K,4096<T){T=k;break t}if(T===4096||k===this.i.length-1){T=k+1;break t}}T=1e3}else T=1e3;T=qa(this,_t,T),k=rr(this.I),wn(k,"RID",m),wn(k,"CVER",22),this.D&&wn(k,"X-HTTP-Session-Id",this.D),va(this,k),Lt&&(this.O?T="headers="+encodeURIComponent(String(bs(Lt)))+"&"+T:this.m&&wi(k,this.m,Lt)),Hn(this.h,_t),this.Ua&&wn(k,"TYPE","init"),this.P?(wn(k,"$req",T),wn(k,"SID","null"),_t.T=!0,fr(_t,k,null)):fr(_t,k,T),this.G=2}}else this.G==3&&(m?za(this,m):this.i.length==0||_o(this.h)||za(this))};function za(m,T){var k;T?k=T.l:k=m.U++;const K=rr(m.I);wn(K,"SID",m.K),wn(K,"RID",k),wn(K,"AID",m.T),va(m,K),m.m&&m.o&&wi(K,m.m,m.o),k=new qn(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),T&&(m.i=T.D.concat(m.i)),T=qa(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Hn(m.h,k),fr(k,K,T)}function va(m,T){m.H&&mt(m.H,function(k,K){wn(T,K,k)}),m.l&&ml({},function(k,K){wn(T,K,k)})}function qa(m,T,k){k=Math.min(m.i.length,k);var K=m.l?w(m.l.Na,m.l,m):null;t:{var _t=m.i;let Lt=-1;for(;;){const Xt=["count="+k];Lt==-1?0<k?(Lt=_t[0].g,Xt.push("ofs="+Lt)):Lt=0:Xt.push("ofs="+Lt);let Re=!0;for(let rn=0;rn<k;rn++){let Be=_t[rn].g;const An=_t[rn].map;if(Be-=Lt,0>Be)Lt=Math.max(0,_t[rn].g-100),Re=!1;else try{Fr(An,Xt,"req"+Be+"_")}catch{K&&K(An)}}if(Re){K=Xt.join("&");break t}}}return m=m.i.splice(0,k),T.D=m,K}function To(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ct||Q(),ft||(ct(),ft=!0),Tt.add(T,m),m.v=0}}function Ha(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Cn(w(m.Fa,m),Wa(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Cn(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),So(this),du(this))};function _a(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function du(m){m.g=new qn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=rr(m.qa);wn(T,"RID","rpc"),wn(T,"SID",m.K),wn(T,"AID",m.T),wn(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&wn(T,"TO",m.ja),wn(T,"TYPE","xmlhttp"),va(m,T),m.m&&m.o&&wi(T,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=da(rr(T)),k.m=null,k.P=!0,Or(k,m)}n.Za=function(){this.C!=null&&(this.C=null,So(this),Ha(this),le(19))};function Xs(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ba(m,T){var k=null;if(m.g==T){Xs(m),_a(m),m.g=null;var K=2}else if(gl(m.h,T))k=T.D,Gi(m.h,T),K=1;else return;if(m.G!=0){if(T.o)if(K==1){k=T.m?T.m.length:0,T=Date.now()-T.F;var _t=m.B;K=Dr(),ge(K,new Rn(K,k)),xo(m)}else To(m);else if(_t=T.s,_t==3||_t==0&&0<T.X||!(K==1&&wl(m,T)||K==2&&Ha(m)))switch(k&&0<k.length&&(T=m.h,T.i=T.i.concat(k)),_t){case 1:mr(m,5);break;case 4:mr(m,10);break;case 3:mr(m,6);break;default:mr(m,2)}}}function Wa(m,T){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*T}function mr(m,T){if(m.j.info("Error code "+T),T==2){var k=w(m.fb,m),K=m.Xa;const _t=!K;K=new dn(K||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(K,"https"),da(K),_t?dr(K.toString(),k):jr(K.toString(),k)}else le(2);m.G=0,m.l&&m.l.sa(T),Eo(m),Ua(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Eo(m){if(m.G=0,m.ka=[],m.l){const T=bo(m.h);(T.length!=0||m.i.length!=0)&&(R(m.ka,T),R(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function S(m,T,k){var K=k instanceof dn?rr(k):new dn(k);if(K.g!="")T&&(K.g=T+"."+K.g),fa(K,K.s);else{var _t=u.location;K=_t.protocol,T=T?T+"."+_t.hostname:_t.hostname,_t=+_t.port;var Lt=new dn(null);K&&ha(Lt,K),T&&(Lt.g=T),_t&&fa(Lt,_t),k&&(Lt.l=k),K=Lt}return k=m.D,T=m.ya,k&&T&&wn(K,k,T),wn(K,"VER",m.la),va(m,K),K}function V(m,T,k){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new nn(new pa({eb:k})):new nn(m.pa),T.Ha(m.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rt(){}n=rt.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dt(){}dt.prototype.g=function(m,T){return new bt(m,T)};function bt(m,T){_e.call(this),this.g=new ya(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!O(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new ie(this)}E(bt,_e),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Ks(this.g)},bt.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Je(m),m=k);T.i.push(new lu(T.Ya++,m)),T.G==3&&xo(T)},bt.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,bt.aa.N.call(this)};function jt(m){er.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){t:{for(const k in T){m=k;break t}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(jt,er);function Kt(){zn.call(this),this.status=1}E(Kt,zn);function ie(m){this.g=m}E(ie,rt),ie.prototype.ua=function(){ge(this.g,"a")},ie.prototype.ta=function(m){ge(this.g,new jt(m))},ie.prototype.sa=function(m){ge(this.g,new Kt)},ie.prototype.ra=function(){ge(this.g,"b")},dt.prototype.createWebChannel=dt.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,U4=function(){return new dt},V4=function(){return Dr()},B4=xe,B2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,sm=Wi,Li.COMPLETE="complete",F4=Li,Un.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Dd=Un,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,j4=nn}).apply(typeof Ig<"u"?Ig:typeof self<"u"?self:typeof window<"u"?window:{});const jb="@firebase/firestore",Fb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Dy("@firebase/firestore");function tf(){return hh.logLevel}function ce(n,...t){if(hh.logLevel<=cn.DEBUG){const e=t.map(Gy);hh.debug(`Firestore (${Pf}): ${n}`,...e)}}function ru(n,...t){if(hh.logLevel<=cn.ERROR){const e=t.map(Gy);hh.error(`Firestore (${Pf}): ${n}`,...e)}}function wf(n,...t){if(hh.logLevel<=cn.WARN){const e=t.map(Gy);hh.warn(`Firestore (${Pf}): ${n}`,...e)}}function Gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,z4(n,i,e)}function z4(n,t,e){let i=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ru(i),new Error(i)}function kn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||z4(t,r,i)}function qe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends fl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Zr.UNAUTHENTICATED))}shutdown(){}}class bI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(t){this.t=t,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){kn(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve();let s=new ih;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ih,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ih)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kn(typeof i.accessToken=="string",31837,{l:i}),new q4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kn(t===null||typeof t=="string",2055,{h:t}),new Zr(t)}}class AI{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SI{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new AI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){kn(this.o===void 0,3512);const i=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Bb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=TI(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function en(n,t){return n<t?-1:n>t?1:0}function V2(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return en(i,r);{const s=H4(),o=EI(s.encode(Vb(n,e)),s.encode(Vb(t,e)));return o!==0?o:en(i,r)}}e+=i>65535?2:1}return en(n.length,t.length)}function Vb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function EI(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return en(n[e],t[e]);return en(n.length,t.length)}function Af(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=-62135596800,zb=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(t){return ur.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*zb);return new ur(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ye(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ye(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Ub)throw new ye(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ye(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ub;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(t){return new Ue(t)}static min(){return new Ue(new ur(0,0))}static max(){return new Ue(new ur(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class tl{constructor(t,e,i){e===void 0?e=0:e>t.length&&Me(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Me(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return tl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof tl?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=tl.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return en(t.length,e.length)}static compareSegments(t,e){const i=tl.isNumericId(t),r=tl.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?tl.extractNumericId(t).compare(tl.extractNumericId(e)):V2(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sc.fromString(t.substring(4,t.length-2))}}class ni extends tl{construct(t,e,i){return new ni(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ye(Yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ni(e)}static emptyPath(){return new ni([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends tl{construct(t,e,i){return new Pr(t,e,i)}static isValidIdentifier(t){return NI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new Pr([qb])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ye(Yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ye(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ye(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else u==="`"?(o=!o,r++):u!=="."||o?(i+=u,r++):(s(),r++)}if(s(),o)throw new ye(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pr(e)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(ni.fromString(t))}static fromName(t){return new Ee(ni.fromString(t).popFirst(5))}static empty(){return new Ee(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ni.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ni.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new ni(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=-1;function RI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ue.fromTimestamp(i===1e9?new ur(e+1,0):new ur(e,i));return new cc(r,Ee.empty(),t)}function CI(n){return new cc(n.readTime,n.key,rp)}class cc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new cc(Ue.min(),Ee.empty(),rp)}static max(){return new cc(Ue.max(),Ee.empty(),rp)}}function II(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ee.comparator(n.documentKey,t.documentKey),e!==0?e:en(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(n){if(n.code!==Yt.FAILED_PRECONDITION||n.message!==LI)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Gt?e:Gt.resolve(e)}catch(e){return Gt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Gt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Gt.reject(e)}static resolve(t){return new Gt((e,i)=>{e(t)})}static reject(t){return new Gt((e,i)=>{i(t)})}static waitFor(t){return new Gt((e,i)=>{let r=0,s=0,o=!1;t.forEach(u=>{++r,u.next(()=>{++s,o&&s===r&&e()},c=>i(c))}),o=!0,s===r&&e()})}static or(t){let e=Gt.resolve(!1);for(const i of t)e=e.next(r=>r?Gt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Gt((i,r)=>{const s=t.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;e(t[f]).next(p=>{o[f]=p,++u,u===s&&i(o)},p=>r(p))}})}static doWhile(t,e){return new Gt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function kI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Df(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}r0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-1;function s0(n){return n==null}function Cm(n){return n===0&&1/n==-1/0}function DI(n){return typeof n=="number"&&Number.isInteger(n)&&!Cm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="";function OI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Hb(t)),t=MI(n.get(e),t);return Hb(t)}function MI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case G4:e+="";break;default:e+=s}}return e}function Hb(n){return n+G4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Sc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Y4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e){this.comparator=t,this.root=e||Lr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lg(this.root,t,this.comparator,!0)}}class Lg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Lr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Lr.RED,this.left=r??Lr.EMPTY,this.right=s??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Lr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Me(27949);return t+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new Lr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(t){return new Gb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof cr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cr(this.comparator);return e.data=t,e}}class Gb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.fields=t,t.sort(Pr.comparator)}static empty(){return new oa([])}unionWith(t){let e=new cr(Pr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new oa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Af(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K4("Invalid base64 string: "+s):s}}(t);return new kr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new kr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const jI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(n){if(kn(!!n,39018),typeof n=="string"){let t=0;const e=jI.exec(n);if(kn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vi(n.seconds),nanos:Vi(n.nanos)}}function Vi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fc(n){return typeof n=="string"?kr.fromBase64String(n):kr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="server_timestamp",$4="__type__",Q4="__previous_value__",J4="__local_write_time__";function Ky(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[$4])===null||e===void 0?void 0:e.stringValue)===X4}function a0(n){const t=n.mapValue.fields[Q4];return Ky(t)?a0(t):t}function sp(n){const t=hc(n.mapValue.fields[J4].timestampValue);return new ur(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e,i,r,s,o,u,c,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=p}}const Im="(default)";class ap{constructor(t,e){this.projectId=t,this.database=e||Im}static empty(){return new ap("","")}get isDefaultDatabase(){return this.database===Im}isEqual(t){return t instanceof ap&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="__type__",BI="__max__",Pg={mapValue:{}},tx="__vector__",Lm="value";function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:UI(n)?9007199254740991:VI(n)?10:11:Me(28295,{value:n})}function hl(n,t){if(n===t)return!0;const e=dc(n);if(e!==dc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return sp(n).isEqual(sp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=hc(r.timestampValue),u=hc(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return fc(r.bytesValue).isEqual(fc(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Vi(r.geoPointValue.latitude)===Vi(s.geoPointValue.latitude)&&Vi(r.geoPointValue.longitude)===Vi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Vi(r.integerValue)===Vi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Vi(r.doubleValue),u=Vi(s.doubleValue);return o===u?Cm(o)===Cm(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Af(n.arrayValue.values||[],t.arrayValue.values||[],hl);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},u=s.mapValue.fields||{};if(Wb(o)!==Wb(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!hl(o[c],u[c])))return!1;return!0}(n,t);default:return Me(52216,{left:n})}}function op(n,t){return(n.values||[]).find(e=>hl(e,t))!==void 0}function Sf(n,t){if(n===t)return 0;const e=dc(n),i=dc(t);if(e!==i)return en(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,t.booleanValue);case 2:return function(s,o){const u=Vi(s.integerValue||s.doubleValue),c=Vi(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,t);case 3:return Yb(n.timestampValue,t.timestampValue);case 4:return Yb(sp(n),sp(t));case 5:return V2(n.stringValue,t.stringValue);case 6:return function(s,o){const u=fc(s),c=fc(o);return u.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=en(u[f],c[f]);if(p!==0)return p}return en(u.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const u=en(Vi(s.latitude),Vi(o.latitude));return u!==0?u:en(Vi(s.longitude),Vi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Kb(n.arrayValue,t.arrayValue);case 10:return function(s,o){var u,c,f,p;const y=s.fields||{},w=o.fields||{},_=(u=y[Lm])===null||u===void 0?void 0:u.arrayValue,E=(c=w[Lm])===null||c===void 0?void 0:c.arrayValue,N=en(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:Kb(_,E)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Pg.mapValue&&o===Pg.mapValue)return 0;if(s===Pg.mapValue)return 1;if(o===Pg.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=o.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let y=0;y<c.length&&y<p.length;++y){const w=V2(c[y],p[y]);if(w!==0)return w;const _=Sf(u[c[y]],f[p[y]]);if(_!==0)return _}return en(c.length,p.length)}(n.mapValue,t.mapValue);default:throw Me(23264,{Pe:e})}}function Yb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return en(n,t);const e=hc(n),i=hc(t),r=en(e.seconds,i.seconds);return r!==0?r:en(e.nanos,i.nanos)}function Kb(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=Sf(e[r],i[r]);if(s)return s}return en(e.length,i.length)}function xf(n){return U2(n)}function U2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=hc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return fc(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ee.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=U2(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${U2(e.fields[o])}`;return r+"}"}(n.mapValue):Me(61005,{value:n})}function am(n){switch(dc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=a0(n);return t?16+am(t):16;case 5:return 2*n.stringValue.length;case 6:return fc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+am(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Sc(i.fields,(s,o)=>{r+=s.length+am(o)}),r}(n.mapValue);default:throw Me(13486,{value:n})}}function Xb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function z2(n){return!!n&&"integerValue"in n}function Xy(n){return!!n&&"arrayValue"in n}function $b(n){return!!n&&"nullValue"in n}function Qb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function om(n){return!!n&&"mapValue"in n}function VI(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Z4])===null||e===void 0?void 0:e.stringValue)===tx}function Hd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Hd(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Hd(n.arrayValue.values[e]);return t}return Object.assign({},n)}function UI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.value=t}static empty(){return new ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!om(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hd(e)}setAll(t){let e=Pr.emptyPath(),i={},r=[];t.forEach((o,u)=>{if(!e.isImmediateParentOf(u)){const c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=u.popLast()}o?i[u.lastSegment()]=Hd(o):r.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());om(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Sc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ks(Hd(this.value))}}function ex(n){const t=[];return Sc(n.fields,(e,i)=>{const r=new Pr([e]);if(om(i)){const s=ex(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new oa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,e,i,r,s,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(t){return new ts(t,0,Ue.min(),Ue.min(),Ue.min(),ks.empty(),0)}static newFoundDocument(t,e,i,r){return new ts(t,1,e,Ue.min(),i,r,0)}static newNoDocument(t,e){return new ts(t,2,e,Ue.min(),Ue.min(),ks.empty(),0)}static newUnknownDocument(t,e){return new ts(t,3,e,Ue.min(),Ue.min(),ks.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ts&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,e){this.position=t,this.inclusive=e}}function Jb(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=Ee.comparator(Ee.fromName(o.referenceValue),e.key):i=Sf(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!hl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,e="asc"){this.field=t,this.dir=e}}function zI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class Ji extends nx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new HI(t,e,i):e==="array-contains"?new YI(t,i):e==="in"?new KI(t,i):e==="not-in"?new XI(t,i):e==="array-contains-any"?new $I(t,i):new Ji(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new WI(t,i):new GI(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Sf(e,this.value)):e!==null&&dc(this.value)===dc(e)&&this.matchesComparison(Sf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends nx{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new go(t,e)}matches(t){return ix(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ix(n){return n.op==="and"}function rx(n){return qI(n)&&ix(n)}function qI(n){for(const t of n.filters)if(t instanceof go)return!1;return!0}function q2(n){if(n instanceof Ji)return n.field.canonicalString()+n.op.toString()+xf(n.value);if(rx(n))return n.filters.map(t=>q2(t)).join(",");{const t=n.filters.map(e=>q2(e)).join(",");return`${n.op}(${t})`}}function sx(n,t){return n instanceof Ji?function(i,r){return r instanceof Ji&&i.op===r.op&&i.field.isEqual(r.field)&&hl(i.value,r.value)}(n,t):n instanceof go?function(i,r){return r instanceof go&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,u)=>s&&sx(o,r.filters[u]),!0):!1}(n,t):void Me(19439)}function ax(n){return n instanceof Ji?function(e){return`${e.field.canonicalString()} ${e.op} ${xf(e.value)}`}(n):n instanceof go?function(e){return e.op.toString()+" {"+e.getFilters().map(ax).join(" ,")+"}"}(n):"Filter"}class HI extends Ji{constructor(t,e,i){super(t,e,i),this.key=Ee.fromName(i.referenceValue)}matches(t){const e=Ee.comparator(t.key,this.key);return this.matchesComparison(e)}}class WI extends Ji{constructor(t,e){super(t,"in",e),this.keys=ox("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class GI extends Ji{constructor(t,e){super(t,"not-in",e),this.keys=ox("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ox(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class YI extends Ji{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xy(e)&&op(e.arrayValue,this.value)}}class KI extends Ji{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&op(this.value.arrayValue,e)}}class XI extends Ji{constructor(t,e){super(t,"not-in",e)}matches(t){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!op(this.value.arrayValue,e)}}class $I extends Ji{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>op(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,e=null,i=[],r=[],s=null,o=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=u,this.Ie=null}}function tw(n,t=null,e=[],i=[],r=null,s=null,o=null){return new QI(n,t,e,i,r,s,o)}function $y(n){const t=qe(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>q2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),s0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>xf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>xf(i)).join(",")),t.Ie=e}return t.Ie}function Qy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!zI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Zb(n.startAt,t.startAt)&&Zb(n.endAt,t.endAt)}function H2(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,e=null,i=[],r=[],s=null,o="F",u=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JI(n,t,e,i,r,s,o,u){return new Tp(n,t,e,i,r,s,o,u)}function Jy(n){return new Tp(n)}function ew(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lx(n){return n.collectionGroup!==null}function Wd(n){const t=qe(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new cr(Pr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new km(s,i))}),e.has(Pr.keyField().canonicalString())||t.Ee.push(new km(Pr.keyField(),i))}return t.Ee}function ol(n){const t=qe(n);return t.de||(t.de=ZI(t,Wd(n))),t.de}function ZI(n,t){if(n.limitType==="F")return tw(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new km(r.field,s)});const e=n.endAt?new Pm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pm(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function W2(n,t){const e=n.filters.concat([t]);return new Tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function G2(n,t,e){return new Tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function o0(n,t){return Qy(ol(n),ol(t))&&n.limitType===t.limitType}function ux(n){return`${$y(ol(n))}|lt:${n.limitType}`}function ef(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>ax(r)).join(", ")}]`),s0(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>xf(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>xf(r)).join(",")),`Target(${i})`}(ol(n))}; limitType=${n.limitType})`}function l0(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ee.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Wd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,u,c){const f=Jb(o,u,c);return o.inclusive?f<=0:f<0}(i.startAt,Wd(i),r)||i.endAt&&!function(o,u,c){const f=Jb(o,u,c);return o.inclusive?f>=0:f>0}(i.endAt,Wd(i),r))}(n,t)}function tL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cx(n){return(t,e)=>{let i=!1;for(const r of Wd(n)){const s=eL(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function eL(n,t,e){const i=n.field.isKeyField()?Ee.comparator(t.key,e.key):function(s,o,u){const c=o.data.field(s),f=u.data.field(s);return c!==null&&f!==null?Sf(c,f):Me(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Sc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new vi(Ee.comparator);function su(){return nL}const hx=new vi(Ee.comparator);function Od(...n){let t=hx;for(const e of n)t=t.insert(e.key,e);return t}function fx(n){let t=hx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function eh(){return Gd()}function dx(){return Gd()}function Gd(){return new yh(n=>n.toString(),(n,t)=>n.isEqual(t))}const iL=new vi(Ee.comparator),rL=new cr(Ee.comparator);function hn(...n){let t=rL;for(const e of n)t=t.add(e);return t}const sL=new cr(en);function aL(){return sL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(t)?"-0":t}}function px(n){return{integerValue:""+n}}function oL(n,t){return DI(t)?px(t):Zy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this._=void 0}}function lL(n,t,e){return n instanceof Dm?function(r,s){const o={fields:{[$4]:{stringValue:X4},[J4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ky(s)&&(s=a0(s)),s&&(o.fields[Q4]=s),{mapValue:o}}(e,t):n instanceof lp?mx(n,t):n instanceof up?yx(n,t):function(r,s){const o=gx(r,s),u=nw(o)+nw(r.Re);return z2(o)&&z2(r.Re)?px(u):Zy(r.serializer,u)}(n,t)}function uL(n,t,e){return n instanceof lp?mx(n,t):n instanceof up?yx(n,t):e}function gx(n,t){return n instanceof Om?function(i){return z2(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Dm extends u0{}class lp extends u0{constructor(t){super(),this.elements=t}}function mx(n,t){const e=vx(t);for(const i of n.elements)e.some(r=>hl(r,i))||e.push(i);return{arrayValue:{values:e}}}class up extends u0{constructor(t){super(),this.elements=t}}function yx(n,t){let e=vx(t);for(const i of n.elements)e=e.filter(r=>!hl(r,i));return{arrayValue:{values:e}}}class Om extends u0{constructor(t,e){super(),this.serializer=t,this.Re=e}}function nw(n){return Vi(n.integerValue||n.doubleValue)}function vx(n){return Xy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cL(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof lp&&r instanceof lp||i instanceof up&&r instanceof up?Af(i.elements,r.elements,hl):i instanceof Om&&r instanceof Om?hl(i.Re,r.Re):i instanceof Dm&&r instanceof Dm}(n.transform,t.transform)}class hL{constructor(t,e){this.version=t,this.transformResults=e}}class fo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new fo}static exists(t){return new fo(void 0,t)}static updateTime(t){return new fo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class c0{}function _x(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new tv(n.key,fo.none()):new Ep(n.key,n.data,fo.none());{const e=n.data,i=ks.empty();let r=new cr(Pr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new xc(n.key,i,new oa(r.toArray()),fo.none())}}function fL(n,t,e){n instanceof Ep?function(r,s,o){const u=r.value.clone(),c=rw(r.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof xc?function(r,s,o){if(!lm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const u=rw(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(bx(r)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Yd(n,t,e,i){return n instanceof Ep?function(s,o,u,c){if(!lm(s.precondition,o))return u;const f=s.value.clone(),p=sw(s.fieldTransforms,c,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof xc?function(s,o,u,c){if(!lm(s.precondition,o))return u;const f=sw(s.fieldTransforms,c,o),p=o.data;return p.setAll(bx(s)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(s,o,u){return lm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(n,t,e)}function dL(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=gx(i.transform,r||null);s!=null&&(e===null&&(e=ks.empty()),e.set(i.field,s))}return e||null}function iw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Af(i,r,(s,o)=>cL(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ep extends c0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xc extends c0{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function rw(n,t,e){const i=new Map;kn(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,u=t.data.field(s.field);i.set(s.field,uL(o,u,e[r]))}return i}function sw(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,lL(s,o,t))}return i}class tv extends c0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pL extends c0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&fL(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Yd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Yd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dx();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=e.has(r.key)?null:u;const c=_x(o,u);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&Af(this.mutations,t.mutations,(e,i)=>iw(e,i))&&Af(this.baseMutations,t.baseMutations,(e,i)=>iw(e,i))}}class ev{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){kn(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return iL}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ev(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi,vn;function vL(n){switch(n){case Yt.OK:return Me(64938);case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function wx(n){if(n===void 0)return ru("GRPC error has no .code"),Yt.UNKNOWN;switch(n){case Qi.OK:return Yt.OK;case Qi.CANCELLED:return Yt.CANCELLED;case Qi.UNKNOWN:return Yt.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Yt.INTERNAL;case Qi.UNAVAILABLE:return Yt.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Yt.NOT_FOUND;case Qi.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case Qi.ABORTED:return Yt.ABORTED;case Qi.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case Qi.DATA_LOSS:return Yt.DATA_LOSS;default:return Me(39323,{code:n})}}(vn=Qi||(Qi={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new sc([4294967295,4294967295],0);function aw(n){const t=H4().encode(n),e=new M4;return e.update(t),new Uint8Array(e.digest())}function ow(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new sc([e,i],0),new sc([r,s],0)]}class nv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Md(`Invalid padding: ${e}`);if(i<0)throw new Md(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Md(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Md(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=sc.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(sc.fromNumber(i)));return r.compare(_L)===1&&(r=new sc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=aw(t),[i,r]=ow(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.be(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new nv(s,r,e);return i.forEach(u=>o.insert(u)),o}insert(t){if(this.pe===0)return;const e=aw(t),[i,r]=ow(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Np.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new h0(Ue.min(),r,new vi(en),su(),hn())}}class Np{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Np(i,e,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class Ax{constructor(t,e){this.targetId=t,this.Ce=e}}class Sx{constructor(t,e,i=kr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class lw{constructor(){this.Fe=0,this.Me=uw(),this.xe=kr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=hn(),e=hn(),i=hn();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Me(38017,{changeType:s})}}),new Np(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=uw()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,kn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bL{constructor(t){this.ze=t,this.je=new Map,this.He=su(),this.Je=kg(),this.Ye=kg(),this.Ze=new vi(en)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Me(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const s=r.target;if(H2(s))if(i===0){const o=new Ee(s.path);this.tt(e,o,ts.newNoDocument(o,Ue.min()))}else kn(i===1,20013,{expectedCount:i});else{const o=this.ut(e);if(o!==i){const u=this.ct(t),c=u?this.lt(u,t,o):1;if(c!==0){this.st(e);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,f)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,u;try{o=fc(i).toUint8Array()}catch(c){if(c instanceof K4)return wf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new nv(o,r,s)}catch(c){return wf(c instanceof Md?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(u)||(this.tt(e,s,null),r++)}),r}It(t){const e=new Map;this.je.forEach((s,o)=>{const u=this._t(o);if(u){if(s.current&&H2(u.target)){const c=new Ee(u.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,ts.newNoDocument(c,t))}s.Le&&(e.set(o,s.qe()),s.Qe())}});let i=hn();this.Ye.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const r=new h0(t,e,this.Ze,this.He,i);return this.He=su(),this.Je=kg(),this.Ye=kg(),this.Ze=new vi(en),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new lw,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new cr(en),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new cr(en),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ce("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lw),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function kg(){return new vi(Ee.comparator)}function uw(){return new vi(Ee.comparator)}const wL={asc:"ASCENDING",desc:"DESCENDING"},AL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SL={and:"AND",or:"OR"};class xL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Y2(n,t){return n.useProto3Json||s0(t)?t:{value:t}}function Mm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function TL(n,t){return Mm(n,t.toTimestamp())}function ll(n){return kn(!!n,49232),Ue.fromTimestamp(function(e){const i=hc(e);return new ur(i.seconds,i.nanos)}(n))}function iv(n,t){return K2(n,t).canonicalString()}function K2(n,t){const e=function(r){return new ni(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Tx(n){const t=ni.fromString(n);return kn(Ix(t),10190,{key:t.toString()}),t}function X2(n,t){return iv(n.databaseId,t.path)}function $1(n,t){const e=Tx(t);if(e.get(1)!==n.databaseId.projectId)throw new ye(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ye(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ee(Nx(e))}function Ex(n,t){return iv(n.databaseId,t)}function EL(n){const t=Tx(n);return t.length===4?ni.emptyPath():Nx(t)}function $2(n){return new ni(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nx(n){return kn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cw(n,t,e){return{name:X2(n,t),fields:e.value.mapValue.fields}}function NL(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(kn(p===void 0||typeof p=="string",58123),kr.fromBase64String(p||"")):(kn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),kr.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(f){const p=f.code===void 0?Yt.UNKNOWN:wx(f.code);return new ye(p,f.message||"")}(o);e=new Sx(i,r,s,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$1(n,i.document.name),s=ll(i.document.updateTime),o=i.document.createTime?ll(i.document.createTime):Ue.min(),u=new ks({mapValue:{fields:i.document.fields}}),c=ts.newFoundDocument(r,s,o,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new um(f,p,c.key,c)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$1(n,i.document),s=i.readTime?ll(i.readTime):Ue.min(),o=ts.newNoDocument(r,s),u=i.removedTargetIds||[];e=new um([],u,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$1(n,i.document),s=i.removedTargetIds||[];e=new um([],s,r,null)}else{if(!("filter"in t))return Me(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new yL(r,s),u=i.targetId;e=new Ax(u,o)}}return e}function RL(n,t){let e;if(t instanceof Ep)e={update:cw(n,t.key,t.value)};else if(t instanceof tv)e={delete:X2(n,t.key)};else if(t instanceof xc)e={update:cw(n,t.key,t.data),updateMask:jL(t.fieldMask)};else{if(!(t instanceof pL))return Me(16599,{ft:t.type});e={verify:X2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const u=o.transform;if(u instanceof Dm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof up)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Om)return{fieldPath:o.field.canonicalString(),increment:u.Re};throw Me(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:TL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)}(n,t.precondition)),e}function CL(n,t){return n&&n.length>0?(kn(t!==void 0,14353),n.map(e=>function(r,s){let o=r.updateTime?ll(r.updateTime):ll(s);return o.isEqual(Ue.min())&&(o=ll(s)),new hL(o,r.transformResults||[])}(e,t))):[]}function IL(n,t){return{documents:[Ex(n,t.path)]}}function LL(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Ex(n,r);const s=function(f){if(f.length!==0)return Cx(go.create(f,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(p=>function(w){return{field:nf(w.field),direction:DL(w.dir)}}(p))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=Y2(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:e,parent:r}}function PL(n){let t=EL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){kn(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=function(y){const w=Rx(y);return w instanceof go&&rx(w)?w.getFilters():[w]}(e.where));let o=[];e.orderBy&&(o=function(y){return y.map(w=>function(E){return new km(rf(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(w))}(e.orderBy));let u=null;e.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,s0(w)?null:w}(e.limit));let c=null;e.startAt&&(c=function(y){const w=!!y.before,_=y.values||[];return new Pm(_,w)}(e.startAt));let f=null;return e.endAt&&(f=function(y){const w=!y.before,_=y.values||[];return new Pm(_,w)}(e.endAt)),JI(t,r,o,s,u,"F",c,f)}function kL(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Rx(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=rf(e.unaryFilter.field);return Ji.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=rf(e.unaryFilter.field);return Ji.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rf(e.unaryFilter.field);return Ji.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rf(e.unaryFilter.field);return Ji.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ji.create(rf(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return go.create(e.compositeFilter.filters.map(i=>Rx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(e.compositeFilter.op))}(n):Me(30097,{filter:n})}function DL(n){return wL[n]}function OL(n){return AL[n]}function ML(n){return SL[n]}function nf(n){return{fieldPath:n.canonicalString()}}function rf(n){return Pr.fromServerFormat(n.fieldPath)}function Cx(n){return n instanceof Ji?function(e){if(e.op==="=="){if(Qb(e.value))return{unaryFilter:{field:nf(e.field),op:"IS_NAN"}};if($b(e.value))return{unaryFilter:{field:nf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Qb(e.value))return{unaryFilter:{field:nf(e.field),op:"IS_NOT_NAN"}};if($b(e.value))return{unaryFilter:{field:nf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nf(e.field),op:OL(e.op),value:e.value}}}(n):n instanceof go?function(e){const i=e.getFilters().map(r=>Cx(r));return i.length===1?i[0]:{compositeFilter:{op:ML(e.op),filters:i}}}(n):Me(54877,{filter:n})}function jL(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ix(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,e,i,r,s=Ue.min(),o=Ue.min(),u=kr.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(t){return new Ju(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t){this.wt=t}}function BL(n){const t=PL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?G2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.Cn=new UL}addToCollectionParentIndex(t,e){return this.Cn.add(e),Gt.resolve()}getCollectionParents(t,e){return Gt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Gt.resolve()}deleteFieldIndex(t,e){return Gt.resolve()}deleteAllFieldIndexes(t){return Gt.resolve()}createTargetIndexes(t,e){return Gt.resolve()}getDocumentsMatchingTarget(t,e){return Gt.resolve(null)}getIndexType(t,e){return Gt.resolve(0)}getFieldIndexes(t,e){return Gt.resolve([])}getNextCollectionGroupToUpdate(t){return Gt.resolve(null)}getMinOffset(t,e){return Gt.resolve(cc.min())}getMinOffsetFromCollectionGroup(t,e){return Gt.resolve(cc.min())}updateCollectionGroup(t,e,i){return Gt.resolve()}updateIndexEntries(t,e){return Gt.resolve()}}class UL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new cr(ni.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new cr(ni.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lx=41943040;class Ls{static withCacheSize(t){return new Ls(t,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(Lx,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Tf(0)}static lr(){return new Tf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LruGarbageCollector",zL=1048576;function dw([n,t],[e,i]){const r=en(n,e);return r===0?en(t,i):r}class qL{constructor(t){this.Er=t,this.buffer=new cr(dw),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class HL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ce(fw,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Df(e)?ce(fw,"Ignoring IndexedDB error during garbage collection: ",e):await kf(e)}await this.mr(3e5)})}}class WL{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Gt.resolve(r0.le);const i=new qL(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Gt.resolve(hw)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hw):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,s,o,u,c,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,o=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(t,i,e))).next(y=>(s=y,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),tf()<=cn.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(u-o)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(f-c)+`ms
Total Duration: ${f-p}ms`),Gt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})))}}function GL(n,t){return new WL(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.changes=new yh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ts.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Gt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Yd(i.mutation,r,oa.empty(),ur.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=eh();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Od();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=eh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,u)=>{e.set(o,u)})})}computeViews(t,e,i,r){let s=su();const o=Gd(),u=function(){return Gd()}();return e.forEach((c,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof xc)?s=s.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Yd(p.mutation,f,p.mutation.getFieldMask(),ur.now())):o.set(f.key,oa.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((f,p)=>o.set(f,p)),e.forEach((f,p)=>{var y;return u.set(f,new KL(p,(y=o.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(t,e){const i=Gd();let r=new vi((o,u)=>o-u),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const u of o)u.keys().forEach(c=>{const f=e.get(c);if(f===null)return;let p=i.get(c)||oa.empty();p=u.applyToLocalView(f,p),i.set(c,p);const y=(r.get(u.batchId)||hn()).add(c);r=r.insert(u.batchId,y)})}).next(()=>{const o=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,y=dx();p.forEach(w=>{if(!s.has(w)){const _=_x(e.get(w),i.get(w));_!==null&&y.set(w,_),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,y))}return Gt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):lx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Gt.resolve(eh());let u=rp,c=s;return o.next(f=>Gt.forEach(f,(p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(p)?Gt.resolve():this.remoteDocumentCache.getEntry(t,p).next(w=>{c=c.insert(p,w)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,c,f,hn())).next(p=>({batchId:u,changes:fx(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ee(e)).next(i=>{let r=Od();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Od();return this.indexManager.getCollectionParents(t,s).next(u=>Gt.forEach(u,c=>{const f=function(y,w){return new Tp(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(p=>{p.forEach((y,w)=>{o=o.insert(y,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((c,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,ts.newInvalidDocument(p)))});let u=Od();return o.forEach((c,f)=>{const p=s.get(c);p!==void 0&&Yd(p.mutation,f,oa.empty(),ur.now()),l0(e,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return Gt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:ll(r.createTime)}}(e)),Gt.resolve()}getNamedQuery(t,e){return Gt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:BL(r.bundledQuery),readTime:ll(r.readTime)}}(e)),Gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.overlays=new vi(Ee.comparator),this.Qr=new Map}getOverlay(t,e){return Gt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=eh();return Gt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.St(t,e,s)}),Gt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),Gt.resolve()}getOverlaysForCollection(t,e,i){const r=eh(),s=e.length+1,o=new Ee(e.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return Gt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new vi((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=eh(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=eh(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return Gt.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new mL(e,i));let s=this.Qr.get(e);s===void 0&&(s=hn(),this.Qr.set(e,s)),this.Qr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(t){return Gt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.$r=new cr(wr.Ur),this.Kr=new cr(wr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new wr(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new wr(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Ee(new ni([])),i=new wr(e,t),r=new wr(e,t+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ee(new ni([])),i=new wr(e,t),r=new wr(e,t+1);let s=hn();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new wr(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class wr{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ee.comparator(t.key,e.key)||en(t.Zr,e.Zr)}static Wr(t,e){return en(t.Zr,e.Zr)||Ee.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new cr(wr.Ur)}checkEmpty(t){return Gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gL(s,e,i,r);this.mutationQueue.push(o);for(const u of r)this.Xr=this.Xr.add(new wr(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Gt.resolve(o)}lookupMutationBatch(t,e){return Gt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),s=r<0?0:r;return Gt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Gt.resolve(this.mutationQueue.length===0?Yy:this.nr-1)}getAllMutationBatches(t){return Gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new wr(e,0),r=new wr(e,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const u=this.ei(o.Zr);s.push(u)}),Gt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new cr(en);return e.forEach(r=>{const s=new wr(r,0),o=new wr(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],u=>{i=i.add(u.Zr)})}),Gt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ee.isDocumentKey(s)||(s=s.child(""));const o=new wr(new Ee(s),0);let u=new cr(en);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(c.Zr)),!0)},o),Gt.resolve(this.ni(u))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){kn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Gt.forEach(e.mutations,r=>{const s=new wr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new wr(e,0),r=this.Xr.firstAfterOrEqual(i);return Gt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t){this.ii=t,this.docs=function(){return new vi(Ee.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Gt.resolve(i?i.document.mutableCopy():ts.newInvalidDocument(e))}getEntries(t,e){let i=su();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ts.newInvalidDocument(r))}),Gt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=su();const o=e.path,u=new Ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||II(CI(p),i)<=0||(r.has(p.key)||l0(e,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Gt.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Me(9500)}si(t,e){return Gt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new eP(this)}getSize(t){return Gt.resolve(this.size)}}class eP extends YL{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),Gt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t){this.persistence=t,this.oi=new yh(e=>$y(e),Qy),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this._i=0,this.ai=new rv,this.targetCount=0,this.ui=Tf.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),Gt.resolve()}getLastRemoteSnapshotVersion(t){return Gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Gt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),Gt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Tf(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,Gt.resolve()}updateTargetData(t,e){return this.Tr(e),Gt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,Gt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.oi.forEach((o,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),Gt.waitFor(s).next(()=>r)}getTargetCount(t){return Gt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return Gt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),Gt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Gt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),Gt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return Gt.resolve(i)}containsKey(t,e){return Gt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,e){this.ci={},this.overlays={},this.li=new r0(0),this.hi=!1,this.hi=!0,this.Pi=new JL,this.referenceDelegate=t(this),this.Ti=new nP(this),this.indexManager=new VL,this.remoteDocumentCache=function(r){return new tP(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new FL(e),this.Ei=new $L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new QL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new ZL(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){ce("MemoryPersistence","Starting transaction:",t);const r=new iP(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,e){return Gt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class iP extends PI{constructor(t){super(),this.currentSequenceNumber=t}}class sv{constructor(t){this.persistence=t,this.Vi=new rv,this.mi=null}static fi(t){return new sv(t)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),Gt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),Gt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),Gt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gt.forEach(this.gi,i=>{const r=Ee.fromPath(i);return this.pi(t,r).next(s=>{s||e.removeEntry(r,Ue.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return Gt.or([()=>Gt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class jm{constructor(t,e){this.persistence=t,this.yi=new yh(i=>OI(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=GL(this,e)}static fi(t,e){return new jm(t,e)}di(){}Ai(t){return Gt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return Gt.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?Gt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,o=>this.Dr(t,o,e).next(u=>{u||(i++,s.removeEntry(o,Ue.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),Gt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Gt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Gt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),Gt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=am(t.data.value)),e}Dr(t,e,i){return Gt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return Gt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=hn(),r=hn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new av(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return F6()?8:kI(rs())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ws(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rP;return this.Ss(t,e,o).next(u=>{if(s.result=u,this.fs)return this.Ds(t,e,o,u.size)})}).next(()=>s.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(tf()<=cn.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ef(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Gt.resolve()):(tf()<=cn.DEBUG&&ce("QueryEngine","Query:",ef(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(tf()<=cn.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ef(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ol(e))):Gt.resolve())}ws(t,e){if(ew(e))return Gt.resolve(null);let i=ol(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=G2(e,null,"F"),i=ol(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=hn(...s);return this.ys.getDocuments(t,o).next(u=>this.indexManager.getMinOffset(t,i).next(c=>{const f=this.vs(e,u);return this.Cs(e,f,o,c.readTime)?this.ws(t,G2(e,null,"F")):this.Fs(t,f,e,c)}))})))}bs(t,e,i,r){return ew(e)||r.isEqual(Ue.min())?Gt.resolve(null):this.ys.getDocuments(t,i).next(s=>{const o=this.vs(e,s);return this.Cs(e,o,i,r)?Gt.resolve(null):(tf()<=cn.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ef(e)),this.Fs(t,o,e,RI(r,rp)).next(u=>u))})}vs(t,e){let i=new cr(cx(t));return e.forEach((r,s)=>{l0(t,s)&&(i=i.add(s))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,e,i){return tf()<=cn.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ef(e)),this.ys.getDocumentsMatchingQuery(t,e,cc.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",aP=3e8;class oP{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new vi(en),this.Os=new yh(s=>$y(s),Qy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function lP(n,t,e,i){return new oP(n,t,e,i)}async function kx(n,t){const e=qe(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],u=[];let c=hn();for(const f of r){o.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return e.localDocuments.getDocuments(i,c).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:u}))})})}function uP(n,t){const e=qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,p){const y=f.batch,w=y.keys();let _=Gt.resolve();return w.forEach(E=>{_=_.next(()=>p.getEntry(c,E)).next(N=>{const R=f.docVersions.get(E);kn(R!==null,48541),N.version.compareTo(R)<0&&(y.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),p.addEntry(N)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,y))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let c=hn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Dx(n){const t=qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function cP(n,t){const e=qe(n),i=t.snapshotVersion;let r=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Bs.newChangeBuffer({trackRemovals:!0});r=e.xs;const u=[];t.targetChanges.forEach((p,y)=>{const w=r.get(y);if(!w)return;u.push(e.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(s,p.addedDocuments,y)));let _=w.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(y)!==null?_=_.withResumeToken(kr.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),r=r.insert(y,_),function(N,R,C){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=aP?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(w,_,p)&&u.push(e.Ti.updateTargetData(s,_))});let c=su(),f=hn();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(hP(s,o,t.documentUpdates).next(p=>{c=p.qs,f=p.Qs})),!i.isEqual(Ue.min())){const p=e.Ti.getLastRemoteSnapshotVersion(s).next(y=>e.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(p)}return Gt.waitFor(u).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(e.xs=r,s))}function hP(n,t,e){let i=hn(),r=hn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=su();return e.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(t.removeEntry(u,c.readTime),o=o.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(c),o=o.insert(u,c)):ce(ov,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{qs:o,Qs:r}})}function fP(n,t){const e=qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Yy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function dP(n,t){const e=qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ti.getTargetData(i,t).next(s=>s?(r=s,Gt.resolve(r)):e.Ti.allocateTargetId(i).next(o=>(r=new Ju(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function Q2(n,t,e){const i=qe(n),r=i.xs.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Df(o))throw o;ce(ov,`Failed to update sequence numbers for target ${t}: ${o}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function pw(n,t,e){const i=qe(n);let r=Ue.min(),s=hn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,p){const y=qe(c),w=y.Os.get(p);return w!==void 0?Gt.resolve(y.xs.get(w)):y.Ti.getTargetData(f,p)}(i,o,ol(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,t,e?r:Ue.min(),e?s:hn())).next(u=>(pP(i,tL(t),u),{documents:u,$s:s})))}function pP(n,t,e){let i=n.Ns.get(t)||Ue.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(t,i)}class gw{constructor(){this.activeTargetIds=aL()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gP{constructor(){this.xo=new gw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new gw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="ConnectivityMonitor";class yw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(mw,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ce(mw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg=null;function J2(){return Dg===null?Dg=function(){return 268435456+Math.round(2147483648*Math.random())}():Dg++,"0x"+Dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="RestConnection",yP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vP{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Im?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,s){const o=J2(),u=this.jo(t,e.toUriEncodedString());ce(Q1,`Sending RPC '${t}' ${o}:`,u,i);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,r,s);const{host:f}=new URL(u),p=_c(f);return this.Jo(t,u,c,i,p).then(y=>(ce(Q1,`Received RPC '${t}' ${o}: `,y),y),y=>{throw wf(Q1,`RPC '${t}' ${o} failed with error: `,y,"url: ",u,"request:",i),y})}Yo(t,e,i,r,s,o){return this.zo(t,e,i,r,s)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,e){const i=yP[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="WebChannelConnection";class bP extends vP{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,s){const o=J2();return new Promise((u,c)=>{const f=new j4;f.setWithCredentials(!0),f.listenOnce(F4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sm.NO_ERROR:const y=f.getResponseJson();ce(Yr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),u(y);break;case sm.TIMEOUT:ce(Yr,`RPC '${t}' ${o} timed out`),c(new ye(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const w=f.getStatus();if(ce(Yr,`RPC '${t}' ${o} failed with status:`,w,"response text:",f.getResponseText()),w>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const N=function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(O)>=0?O:Yt.UNKNOWN}(E.status);c(new ye(N,E.message))}else c(new ye(Yt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ye(Yt.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:t,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{ce(Yr,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(r);ce(Yr,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",p,i,15)})}I_(t,e,i){const r=J2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=U4(),u=V4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const p=s.join("");ce(Yr,`Creating RPC '${t}' stream ${r}: ${p}`,c);const y=o.createWebChannel(p,c);this.E_(y);let w=!1,_=!1;const E=new _P({Zo:R=>{_?ce(Yr,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(w||(ce(Yr,`Opening RPC '${t}' stream ${r} transport.`),y.open(),w=!0),ce(Yr,`RPC '${t}' stream ${r} sending:`,R),y.send(R))},Xo:()=>y.close()}),N=(R,C,O)=>{R.listen(C,G=>{try{O(G)}catch(et){setTimeout(()=>{throw et},0)}})};return N(y,Dd.EventType.OPEN,()=>{_||(ce(Yr,`RPC '${t}' stream ${r} transport opened.`),E.__())}),N(y,Dd.EventType.CLOSE,()=>{_||(_=!0,ce(Yr,`RPC '${t}' stream ${r} transport closed`),E.u_(),this.d_(y))}),N(y,Dd.EventType.ERROR,R=>{_||(_=!0,wf(Yr,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),E.u_(new ye(Yt.UNAVAILABLE,"The operation could not be completed")))}),N(y,Dd.EventType.MESSAGE,R=>{var C;if(!_){const O=R.data[0];kn(!!O,16349);const G=O,et=(G==null?void 0:G.error)||((C=G[0])===null||C===void 0?void 0:C.error);if(et){ce(Yr,`RPC '${t}' stream ${r} received error:`,et);const tt=et.status;let mt=function(U){const X=Qi[U];if(X!==void 0)return wx(X)}(tt),z=et.message;mt===void 0&&(mt=Yt.INTERNAL,z="Unknown error status: "+tt+" with message "+et.message),_=!0,E.u_(new ye(mt,z)),y.close()}else ce(Yr,`RPC '${t}' stream ${r} received:`,O),E.c_(O)}}),N(u,B4.STAT_EVENT,R=>{R.stat===B2.PROXY?ce(Yr,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===B2.NOPROXY&&ce(Yr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function J1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){return new xL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,e-i);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="PersistentStream";class Mx{constructor(t,e,i,r,s,o,u,c){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ox(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===Yt.RESOURCE_EXHAUSTED?(ru(e.toString()),ru("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===Yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===e&&this.z_(i,r)},i=>{t(()=>{const r=new ye(Yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ce(vw,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(ce(vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wP extends Mx{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=NL(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ue.min():o.readTime?ll(o.readTime):Ue.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=$2(this.serializer),e.addTarget=function(s,o){let u;const c=o.target;if(u=H2(c)?{documents:IL(s,c)}:{query:LL(s,c).gt},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=xx(s,o.resumeToken);const f=Y2(s,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ue.min())>0){u.readTime=Mm(s,o.snapshotVersion.toTimestamp());const f=Y2(s,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=kL(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=$2(this.serializer),e.removeTarget=t,this.Q_(e)}}class AP extends Mx{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return kn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,kn(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){kn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=CL(t.writeResults,t.commitTime),i=ll(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=$2(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>RL(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{}class xP extends SP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ye(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(t,K2(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(Yt.UNKNOWN,s.toString())})}Yo(t,e,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Yo(t,K2(e,i),r,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(Yt.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class TP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ru(e),this.ua=!1):ce("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RemoteStore";class EP{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{i.enqueueAndForget(async()=>{vh(this)&&(ce(fh,"Restarting streams for network reachability change."),await async function(c){const f=qe(c);f.da.add(4),await Rp(f),f.Va.set("Unknown"),f.da.delete(4),await d0(f)}(this))})}),this.Va=new TP(i,r)}}async function d0(n){if(vh(n))for(const t of n.Aa)await t(!0)}async function Rp(n){for(const t of n.Aa)await t(!1)}function jx(n,t){const e=qe(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),hv(e)?cv(e):Of(e).N_()&&uv(e,t))}function lv(n,t){const e=qe(n),i=Of(e);e.Ea.delete(t),i.N_()&&Fx(e,t),e.Ea.size===0&&(i.N_()?i.k_():vh(e)&&e.Va.set("Unknown"))}function uv(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ue.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Of(n).Z_(t)}function Fx(n,t){n.ma.Ke(t),Of(n).X_(t)}function cv(n){n.ma=new bL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Of(n).start(),n.Va.ca()}function hv(n){return vh(n)&&!Of(n).O_()&&n.Ea.size>0}function vh(n){return qe(n).da.size===0}function Bx(n){n.ma=void 0}async function NP(n){n.Va.set("Online")}async function RP(n){n.Ea.forEach((t,e)=>{uv(n,t)})}async function CP(n,t){Bx(n),hv(n)?(n.Va.Pa(t),cv(n)):n.Va.set("Unknown")}async function IP(n,t,e){if(n.Va.set("Online"),t instanceof Sx&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const u of s.targetIds)r.Ea.has(u)&&(await r.remoteSyncer.rejectListen(u,o),r.Ea.delete(u),r.ma.removeTarget(u))}(n,t)}catch(i){ce(fh,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Fm(n,i)}else if(t instanceof um?n.ma.Xe(t):t instanceof Ax?n.ma.ot(t):n.ma.nt(t),!e.isEqual(Ue.min()))try{const i=await Dx(n.localStore);e.compareTo(i)>=0&&await function(s,o){const u=s.ma.It(o);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.Ea.get(f);p&&s.Ea.set(f,p.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,f)=>{const p=s.Ea.get(c);if(!p)return;s.Ea.set(c,p.withResumeToken(kr.EMPTY_BYTE_STRING,p.snapshotVersion)),Fx(s,c);const y=new Ju(p.target,c,f,p.sequenceNumber);uv(s,y)}),s.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){ce(fh,"Failed to raise snapshot:",i),await Fm(n,i)}}async function Fm(n,t,e){if(!Df(t))throw t;n.da.add(1),await Rp(n),n.Va.set("Offline"),e||(e=()=>Dx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(fh,"Retrying IndexedDB access"),await e(),n.da.delete(1),await d0(n)})}function Vx(n,t){return t().catch(e=>Fm(n,e,t))}async function p0(n){const t=qe(n),e=pc(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Yy;for(;LP(t);)try{const r=await fP(t.localStore,i);if(r===null){t.Ia.length===0&&e.k_();break}i=r.batchId,PP(t,r)}catch(r){await Fm(t,r)}Ux(t)&&zx(t)}function LP(n){return vh(n)&&n.Ia.length<10}function PP(n,t){n.Ia.push(t);const e=pc(n);e.N_()&&e.ea&&e.ta(t.mutations)}function Ux(n){return vh(n)&&!pc(n).O_()&&n.Ia.length>0}function zx(n){pc(n).start()}async function kP(n){pc(n).ia()}async function DP(n){const t=pc(n);for(const e of n.Ia)t.ta(e.mutations)}async function OP(n,t,e){const i=n.Ia.shift(),r=ev.from(i,t,e);await Vx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await p0(n)}async function MP(n,t){t&&pc(n).ea&&await async function(i,r){if(function(o){return vL(o)&&o!==Yt.ABORTED}(r.code)){const s=i.Ia.shift();pc(i).L_(),await Vx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await p0(i)}}(n,t),Ux(n)&&zx(n)}async function _w(n,t){const e=qe(n);e.asyncQueue.verifyOperationInProgress(),ce(fh,"RemoteStore received new credentials");const i=vh(e);e.da.add(3),await Rp(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await d0(e)}async function jP(n,t){const e=qe(n);t?(e.da.delete(2),await d0(e)):t||(e.da.add(2),await Rp(e),e.Va.set("Unknown"))}function Of(n){return n.fa||(n.fa=function(e,i,r){const s=qe(e);return s.oa(),new wP(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:NP.bind(null,n),n_:RP.bind(null,n),i_:CP.bind(null,n),Y_:IP.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),hv(n)?cv(n):n.Va.set("Unknown")):(await n.fa.stop(),Bx(n))})),n.fa}function pc(n){return n.ga||(n.ga=function(e,i,r){const s=qe(e);return s.oa(),new AP(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:kP.bind(null,n),i_:MP.bind(null,n),na:DP.bind(null,n),ra:OP.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await p0(n)):(await n.ga.stop(),n.Ia.length>0&&(ce(fh,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,u=new fv(t,e,o,r,s);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(n,t){if(ru("AsyncQueue",`${t}: ${n}`),Df(n))return new ye(Yt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{static emptySet(t){return new df(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ee.comparator(e.key,i.key):(e,i)=>Ee.comparator(e.key,i.key),this.keyedMap=Od(),this.sortedSet=new vi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof df)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new df;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.pa=new vi(Ee.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Me(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ef{constructor(t,e,i,r,s,o,u,c,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Ef(t,e,df.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&o0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class BP{constructor(){this.queries=ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=qe(e),s=r.queries;r.queries=ww(),s.forEach((o,u)=>{for(const c of u.Sa)c.onError(i)})})(this,new ye(Yt.ABORTED,"Firestore shutting down"))}}function ww(){return new yh(n=>ux(n),o0)}async function VP(n,t){const e=qe(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new FP,i=t.va()?0:1);try{switch(i){case 0:s.ba=await e.onListen(r,!0);break;case 1:s.ba=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const u=dv(o,`Initialization of query '${ef(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,s),s.Sa.push(t),t.Fa(e.onlineState),s.ba&&t.Ma(s.ba)&&pv(e)}async function UP(n,t){const e=qe(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function zP(n,t){const e=qe(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const u of o.Sa)u.Ma(r)&&(i=!0);o.ba=r}}i&&pv(e)}function qP(n,t,e){const i=qe(n),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(e);i.queries.delete(t)}function pv(n){n.Ca.forEach(t=>{t.next()})}var Z2,Aw;(Aw=Z2||(Z2={})).xa="default",Aw.Cache="cache";class HP{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ef(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Ef.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Z2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.key=t}}class Hx{constructor(t){this.key=t}}class WP{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=hn(),this.mutatedKeys=hn(),this.Za=cx(t),this.Xa=new df(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new bw,r=e?e.Xa:this.Xa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,y)=>{const w=r.get(p),_=l0(this.query,y)?y:null,E=!!w&&this.mutatedKeys.has(w.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;w&&_?w.data.isEqual(_.data)?E!==N&&(i.track({type:3,doc:_}),R=!0):this.ru(w,_)||(i.track({type:2,doc:_}),R=!0,(c&&this.Za(_,c)>0||f&&this.Za(_,f)<0)&&(u=!0)):!w&&_?(i.track({type:0,doc:_}),R=!0):w&&!_&&(i.track({type:1,doc:w}),R=!0,(c||f)&&(u=!0)),R&&(_?(o=o.add(_),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Xa:o,nu:i,Cs:u,mutatedKeys:s}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((p,y)=>function(_,E){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:R})}};return N(_)-N(E)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(i),r=r!=null&&r;const u=e&&!r?this.su():[],c=this.Ya.size===0&&this.current&&!r?1:0,f=c!==this.Ja;return this.Ja=c,o.length!==0||f?{snapshot:new Ef(this.query,t.Xa,s,o,t.mutatedKeys,c===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=hn(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new Hx(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new qx(i))}),e}au(t){this.Ha=t.$s,this.Ya=hn();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Ef.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const gv="SyncEngine";class GP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class YP{constructor(t){this.key=t,this.cu=!1}}class KP{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new yh(u=>ux(u),o0),this.Pu=new Map,this.Tu=new Set,this.Iu=new vi(Ee.comparator),this.Eu=new Map,this.du=new rv,this.Au={},this.Ru=new Map,this.Vu=Tf.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function XP(n,t,e=!0){const i=$x(n);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await Wx(i,t,e,!0),r}async function $P(n,t){const e=$x(n);await Wx(e,t,!0,!1)}async function Wx(n,t,e,i){const r=await dP(n.localStore,ol(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let u;return i&&(u=await QP(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&jx(n.remoteStore,r),u}async function QP(n,t,e,i,r){n.fu=(y,w,_)=>async function(N,R,C,O){let G=R.view.tu(C);G.Cs&&(G=await pw(N.localStore,R.query,!1).then(({documents:z})=>R.view.tu(z,G)));const et=O&&O.targetChanges.get(R.targetId),tt=O&&O.targetMismatches.get(R.targetId)!=null,mt=R.view.applyChanges(G,N.isPrimaryClient,et,tt);return xw(N,R.targetId,mt.ou),mt.snapshot}(n,y,w,_);const s=await pw(n.localStore,t,!0),o=new WP(t,s.$s),u=o.tu(s.documents),c=Np.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=o.applyChanges(u,n.isPrimaryClient,c);xw(n,e,f.ou);const p=new GP(t,e,o);return n.hu.set(t,p),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),f.snapshot}async function JP(n,t,e){const i=qe(n),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(o=>!o0(o,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Q2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&lv(i.remoteStore,r.targetId),ty(i,r.targetId)}).catch(kf)):(ty(i,r.targetId),await Q2(i.localStore,r.targetId,!0))}async function ZP(n,t){const e=qe(n),i=e.hu.get(t),r=e.Pu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),lv(e.remoteStore,i.targetId))}async function tk(n,t,e){const i=ok(n);try{const r=await function(o,u){const c=qe(o),f=ur.now(),p=u.reduce((_,E)=>_.add(E.key),hn());let y,w;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=su(),N=hn();return c.Bs.getEntries(_,p).next(R=>{E=R,E.forEach((C,O)=>{O.isValidDocument()||(N=N.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(R=>{y=R;const C=[];for(const O of u){const G=dL(O,y.get(O.key).overlayedDocument);G!=null&&C.push(new xc(O.key,G,ex(G.value.mapValue),fo.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,C,u)}).next(R=>{w=R;const C=R.applyToLocalDocumentSet(y,N);return c.documentOverlayCache.saveOverlays(_,R.batchId,C)})}).then(()=>({batchId:w.batchId,changes:fx(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,c){let f=o.Au[o.currentUser.toKey()];f||(f=new vi(en)),f=f.insert(u,c),o.Au[o.currentUser.toKey()]=f}(i,r.batchId,e),await Cp(i,r.changes),await p0(i.remoteStore)}catch(r){const s=dv(r,"Failed to persist write");e.reject(s)}}async function Gx(n,t){const e=qe(n);try{const i=await cP(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Eu.get(s);o&&(kn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?kn(o.cu,14607):r.removedDocuments.size>0&&(kn(o.cu,42227),o.cu=!1))}),await Cp(e,i,t)}catch(i){await kf(i)}}function Sw(n,t,e){const i=qe(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.hu.forEach((s,o)=>{const u=o.view.Fa(t);u.snapshot&&r.push(u.snapshot)}),function(o,u){const c=qe(o);c.onlineState=u;let f=!1;c.queries.forEach((p,y)=>{for(const w of y.Sa)w.Fa(u)&&(f=!0)}),f&&pv(c)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ek(n,t,e){const i=qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),s=r&&r.key;if(s){let o=new vi(Ee.comparator);o=o.insert(s,ts.newNoDocument(s,Ue.min()));const u=hn().add(s),c=new h0(Ue.min(),new Map,new vi(en),o,u);await Gx(i,c),i.Iu=i.Iu.remove(s),i.Eu.delete(t),mv(i)}else await Q2(i.localStore,t,!1).then(()=>ty(i,t,e)).catch(kf)}async function nk(n,t){const e=qe(n),i=t.batch.batchId;try{const r=await uP(e.localStore,t);Kx(e,i,null),Yx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Cp(e,r)}catch(r){await kf(r)}}async function ik(n,t,e){const i=qe(n);try{const r=await function(o,u){const c=qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next(y=>(kn(y!==null,37113),p=y.keys(),c.mutationQueue.removeMutationBatch(f,y))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(i.localStore,t);Kx(i,t,e),Yx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Cp(i,r)}catch(r){await kf(r)}}function Yx(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function Kx(n,t,e){const i=qe(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function ty(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||Xx(n,i)})}function Xx(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(lv(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),mv(n))}function xw(n,t,e){for(const i of e)i instanceof qx?(n.du.addReference(i.key,t),rk(n,i)):i instanceof Hx?(ce(gv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||Xx(n,i.key)):Me(19791,{pu:i})}function rk(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(ce(gv,"New document in limbo: "+e),n.Tu.add(i),mv(n))}function mv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new Ee(ni.fromString(t)),i=n.Vu.next();n.Eu.set(i,new YP(e)),n.Iu=n.Iu.insert(e,i),jx(n.remoteStore,new Ju(ol(Jy(e.path)),i,"TargetPurposeLimboResolution",r0.le))}}async function Cp(n,t,e){const i=qe(n),r=[],s=[],o=[];i.hu.isEmpty()||(i.hu.forEach((u,c)=>{o.push(i.fu(c,t,e).then(f=>{var p;if((f||e)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(f){r.push(f);const y=av.Rs(c.targetId,f);s.push(y)}}))}),await Promise.all(o),i.lu.Y_(r),await async function(c,f){const p=qe(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Gt.forEach(f,w=>Gt.forEach(w.ds,_=>p.persistence.referenceDelegate.addReference(y,w.targetId,_)).next(()=>Gt.forEach(w.As,_=>p.persistence.referenceDelegate.removeReference(y,w.targetId,_)))))}catch(y){if(!Df(y))throw y;ce(ov,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const _=p.xs.get(w),E=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(w,N)}}}(i.localStore,s))}async function sk(n,t){const e=qe(n);if(!e.currentUser.isEqual(t)){ce(gv,"User change. New user:",t.toKey());const i=await kx(e.localStore,t);e.currentUser=t,function(s,o){s.Ru.forEach(u=>{u.forEach(c=>{c.reject(new ye(Yt.CANCELLED,o))})}),s.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Cp(e,i.ks)}}function ak(n,t){const e=qe(n),i=e.Eu.get(t);if(i&&i.cu)return hn().add(i.key);{let r=hn();const s=e.Pu.get(t);if(!s)return r;for(const o of s){const u=e.hu.get(o);r=r.unionWith(u.view.eu)}return r}}function $x(n){const t=qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ek.bind(null,t),t.lu.Y_=zP.bind(null,t.eventManager),t.lu.gu=qP.bind(null,t.eventManager),t}function ok(n){const t=qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ik.bind(null,t),t}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=f0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return lP(this.persistence,new sP,t.initialUser,this.serializer)}Su(t){return new Px(sv.fi,this.serializer)}bu(t){return new gP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class lk extends Bm{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){kn(this.persistence.referenceDelegate instanceof jm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HL(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new Px(i=>jm.fi(i,e),this.serializer)}}class ey{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sk.bind(null,this.syncEngine),await jP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BP}()}createDatastore(t){const e=f0(t.databaseInfo.databaseId),i=function(s){return new bP(s)}(t.databaseInfo);return function(s,o,u,c){return new xP(s,o,u,c)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,u){return new EP(i,r,s,o,u)}(this.localStore,this.datastore,t.asyncQueue,e=>Sw(this.syncEngine,e,0),function(){return yw.C()?new yw:new mP}())}createSyncEngine(t,e){return function(r,s,o,u,c,f,p){const y=new KP(r,s,o,u,c,f);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=qe(r);ce(fh,"RemoteStore shutting down."),s.da.add(5),await Rp(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ru("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="FirestoreClient";class ck{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Zr.UNAUTHENTICATED,this.clientId=W4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ce(gc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ce(gc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ih;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=dv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Z1(n,t){n.asyncQueue.verifyOperationInProgress(),ce(gc,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await kx(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function Tw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await hk(n);ce(gc,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>_w(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>_w(t.remoteStore,r)),n._onlineComponents=t}async function hk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(gc,"Using user provided OfflineComponentProvider");try{await Z1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Yt.FAILED_PRECONDITION||r.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;wf("Error using user provided cache. Falling back to memory cache: "+e),await Z1(n,new Bm)}}else ce(gc,"Using default OfflineComponentProvider"),await Z1(n,new lk(void 0));return n._offlineComponents}async function Qx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(gc,"Using user provided OnlineComponentProvider"),await Tw(n,n._uninitializedComponentsProvider._online)):(ce(gc,"Using default OnlineComponentProvider"),await Tw(n,new ey))),n._onlineComponents}function fk(n){return Qx(n).then(t=>t.syncEngine)}async function Ew(n){const t=await Qx(n),e=t.eventManager;return e.onListen=XP.bind(null,t.syncEngine),e.onUnlisten=JP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=$P.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ZP.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n,t,e){if(!e)throw new ye(Yt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dk(n,t,e,i){if(t===!0&&i===!0)throw new ye(Yt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Rw(n){if(!Ee.isDocumentKey(n))throw new ye(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cw(n){if(Ee.isDocumentKey(n))throw new ye(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function g0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function ac(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ye(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=g0(n);throw new ye(Yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firestore.googleapis.com",Iw=!0;class Lw{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ye(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t3,this.ssl=Iw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Iw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zL)throw new ye(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jx((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ye(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _I;switch(i.type){case"firstParty":return new SI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Nw.get(e);i&&(ce("ComponentProvider","Removing Datastore"),Nw.delete(e),i.terminate())}(this),Promise.resolve()}}function pk(n,t,e,i={}){var r;n=ac(n,m0);const s=_c(t),o=n._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;s&&(Py(`https://${c}`),ky("Firestore",!0)),o.host!==t3&&o.host!==c&&wf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:i});if(!lh(f,u)&&(n._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Zr.MOCK_USER;else{p=XS(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ye(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zr(w)}n._authCredentials=new bI(new q4(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Mf(this.firestore,t,this._query)}}class Os{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Os(this.firestore,t,this._key)}}class oc extends Mf{constructor(t,e,i){super(t,e,Jy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Os(this.firestore,null,new Ee(t))}withConverter(t){return new oc(this.firestore,t,this._path)}}function e3(n,t,...e){if(n=yi(n),Zx("collection","path",t),n instanceof m0){const i=ni.fromString(t,...e);return Cw(i),new oc(n,null,i)}{if(!(n instanceof Os||n instanceof oc))throw new ye(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(t,...e));return Cw(i),new oc(n.firestore,null,i)}}function yv(n,t,...e){if(n=yi(n),arguments.length===1&&(t=W4.newId()),Zx("doc","path",t),n instanceof m0){const i=ni.fromString(t,...e);return Rw(i),new Os(n,null,new Ee(i))}{if(!(n instanceof Os||n instanceof oc))throw new ye(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(t,...e));return Rw(i),new Os(n.firestore,n instanceof oc?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="AsyncQueue";class kw{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ox(this,"async_queue_retry"),this.rc=()=>{const i=J1();i&&ce(Pw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=J1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=J1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new ih;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Df(t))throw t;ce(Pw,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,ru("INTERNAL UNHANDLED ERROR: ",Dw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const r=fv.createAndSchedule(this,t,e,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Me(47125,{cc:Dw(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function Dw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Nf extends m0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new kw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kw(t),this._firestoreClient=void 0,await t}}}function gk(n,t){const e=typeof n=="object"?n:My(),i=typeof n=="string"?n:Im,r=t0(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=GS("firestore");s&&pk(r,...s)}return r}function n3(n){if(n._terminated)throw new ye(Yt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mk(n),n._firestoreClient}function mk(n){var t,e,i;const r=n._freezeSettings(),s=function(u,c,f,p){return new FI(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new ck(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rf(kr.fromBase64String(t))}catch(e){throw new ye(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Rf(kr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ye(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ye(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ye(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new xc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ep(t,this.data,e,this.fieldTransforms)}}class i3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new xc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function r3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:n})}}class wv{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new wv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Vm(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(r3(this.Ic)&&yk.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class _k{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||f0(t)}bc(t,e,i,r=!1){return new wv({Ic:t,methodName:e,wc:i,path:Pr.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(n){const t=n._freezeSettings(),e=f0(n._databaseId);return new _k(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bk(n,t,e,i,r,s={}){const o=n.bc(s.merge||s.mergeFields?2:0,t,e,r);Sv("Data must be an object, but it was:",o,i);const u=s3(i,o);let c,f;if(s.merge)c=new oa(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const w=ny(t,y,e);if(!o.contains(w))throw new ye(Yt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);o3(p,w)||p.push(w)}c=new oa(p),f=o.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,f=o.fieldTransforms;return new vk(new ks(u),c,f)}class v0 extends vv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof v0}}function wk(n,t,e,i){const r=n.bc(1,t,e);Sv("Data must be an object, but it was:",r,i);const s=[],o=ks.empty();Sc(i,(c,f)=>{const p=xv(t,c,e);f=yi(f);const y=r.mc(p);if(f instanceof v0)s.push(p);else{const w=Ip(f,y);w!=null&&(s.push(p),o.set(p,w))}});const u=new oa(s);return new i3(o,u,r.fieldTransforms)}function Ak(n,t,e,i,r,s){const o=n.bc(1,t,e),u=[ny(t,i,e)],c=[r];if(s.length%2!=0)throw new ye(Yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)u.push(ny(t,s[w])),c.push(s[w+1]);const f=[],p=ks.empty();for(let w=u.length-1;w>=0;--w)if(!o3(f,u[w])){const _=u[w];let E=c[w];E=yi(E);const N=o.mc(_);if(E instanceof v0)f.push(_);else{const R=Ip(E,N);R!=null&&(f.push(_),p.set(_,R))}}const y=new oa(f);return new i3(p,y,o.fieldTransforms)}function Sk(n,t,e,i=!1){return Ip(e,n.bc(i?4:3,t))}function Ip(n,t){if(a3(n=yi(n)))return Sv("Unsupported field value:",t,n),s3(n,t);if(n instanceof vv)return function(i,r){if(!r3(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const u of i){let c=Ip(u,r.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=yi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return oL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ur.fromDate(i);return{timestampValue:Mm(r.serializer,s)}}if(i instanceof ur){const s=new ur(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mm(r.serializer,s)}}if(i instanceof _v)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rf)return{bytesValue:xx(r.serializer,i._byteString)};if(i instanceof Os){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bv)return function(o,u){return{mapValue:{fields:{[Z4]:{stringValue:tx},[Lm]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw u.gc("VectorValues must only contain numeric values.");return Zy(u.serializer,f)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${g0(i)}`)}(n,t)}function s3(n,t){const e={};return Y4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sc(n,(i,r)=>{const s=Ip(r,t.Ac(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function a3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof _v||n instanceof Rf||n instanceof Os||n instanceof vv||n instanceof bv)}function Sv(n,t,e){if(!a3(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=g0(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function ny(n,t,e){if((t=yi(t))instanceof y0)return t._internalPath;if(typeof t=="string")return xv(n,t);throw Vm("Field path arguments must be of type string or ",n,!1,void 0,e)}const xk=new RegExp("[~\\*/\\[\\]]");function xv(n,t,e){if(t.search(xk)>=0)throw Vm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new y0(...t.split("."))._internalPath}catch{throw Vm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Vm(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new ye(Yt.INVALID_ARGUMENT,u+n+c)}function o3(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(u3("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Tk extends l3{data(){return super.data()}}function u3(n,t){return typeof t=="string"?xv(n,t):t instanceof y0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class Nk extends Tv{}function Rk(n,t,...e){let i=[];t instanceof Tv&&i.push(t),i=i.concat(e),function(s){const o=s.filter(c=>c instanceof Nv).length,u=s.filter(c=>c instanceof Ev).length;if(o>1||o>0&&u>0)throw new ye(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ev extends Nk{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ev(t,e,i)}_apply(t){const e=this._parse(t);return c3(t._query,e),new Mf(t.firestore,t.converter,W2(t._query,e))}_parse(t){const e=Av(t.firestore);return function(s,o,u,c,f,p,y){let w;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ye(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){jw(y,p);const E=[];for(const N of y)E.push(Mw(c,s,N));w={arrayValue:{values:E}}}else w=Mw(c,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||jw(y,p),w=Sk(u,o,y,p==="in"||p==="not-in");return Ji.create(f,p,w)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Nv extends Tv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Nv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:go.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r;const u=s.getFlattenedFilters();for(const c of u)c3(o,c),o=W2(o,c)}(t._query,e),new Mf(t.firestore,t.converter,W2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mw(n,t,e){if(typeof(e=yi(e))=="string"){if(e==="")throw new ye(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lx(t)&&e.indexOf("/")!==-1)throw new ye(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ni.fromString(e));if(!Ee.isDocumentKey(i))throw new ye(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xb(n,new Ee(i))}if(e instanceof Os)return Xb(n,e._key);throw new ye(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g0(e)}.`)}function jw(n,t){if(!Array.isArray(n)||n.length===0)throw new ye(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function c3(n,t){const e=function(r,s){for(const o of r)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ye(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ye(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Ck{convertValue(t,e="none"){switch(dc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Me(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Sc(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Lm].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Vi(o.doubleValue));return new bv(s)}convertGeoPoint(t){return new _v(Vi(t.latitude),Vi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=a0(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(sp(t));default:return null}}convertTimestamp(t){const e=hc(t);return new ur(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ni.fromString(t);kn(Ix(i),9688,{name:t});const r=new ap(i.get(1),i.get(3)),s=new Ee(i.popFirst(5));return r.isEqual(e)||ru(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class h3 extends l3{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(u3("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class cm extends h3{data(t={}){return super.data(t)}}class Lk{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new jd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cm(this._firestore,this._userDataWriter,i.key,i,new jd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ye(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>{const c=new cm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new jd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new cm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new jd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:Pk(u.type),doc:c,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Pk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}class f3 extends Ck{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Os(this.firestore,null,e)}}function kk(n,t,e,...i){n=ac(n,Os);const r=ac(n.firestore,Nf),s=Av(r);let o;return o=typeof(t=yi(t))=="string"||t instanceof y0?Ak(s,"updateDoc",n._key,t,e,i):wk(s,"updateDoc",n._key,t),Rv(r,[o.toMutation(n._key,fo.exists(!0))])}function Dk(n){return Rv(ac(n.firestore,Nf),[new tv(n._key,fo.none())])}function Ok(n,t){const e=ac(n.firestore,Nf),i=yv(n),r=Ik(n.converter,t);return Rv(e,[bk(Av(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,fo.exists(!1))]).then(()=>i)}function Mk(n,...t){var e,i,r;n=yi(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||Ow(t[o])||(s=t[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ow(t[o])){const y=t[o];t[o]=(e=y.next)===null||e===void 0?void 0:e.bind(y),t[o+1]=(i=y.error)===null||i===void 0?void 0:i.bind(y),t[o+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}let c,f,p;if(n instanceof Os)f=ac(n.firestore,Nf),p=Jy(n._key.path),c={next:y=>{t[o]&&t[o](jk(f,n,y))},error:t[o+1],complete:t[o+2]};else{const y=ac(n,Mf);f=ac(y.firestore,Nf),p=y._query;const w=new f3(f);c={next:_=>{t[o]&&t[o](new Lk(f,w,y,_))},error:t[o+1],complete:t[o+2]},Ek(n._query)}return function(w,_,E,N){const R=new uk(N),C=new HP(_,R,E);return w.asyncQueue.enqueueAndForget(async()=>VP(await Ew(w),C)),()=>{R.xu(),w.asyncQueue.enqueueAndForget(async()=>UP(await Ew(w),C))}}(n3(f),p,u,c)}function Rv(n,t){return function(i,r){const s=new ih;return i.asyncQueue.enqueueAndForget(async()=>tk(await fk(i),r,s)),s.promise}(n3(n),t)}function jk(n,t,e){const i=e.docs.get(t._key),r=new f3(n);return new h3(n,r,t._key,i,new jd(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Pf=r})(mh),uh(new uc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),u=new Nf(new wI(i.getProvider("auth-internal")),new xI(o,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ap(f.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),il(jb,Fb,t),il(jb,Fb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firebasestorage.googleapis.com",p3="storageBucket",Fk=2*60*1e3,Bk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends fl{constructor(t,e,i=0){super(t2(t),`Firebase Storage: ${e} (${t2(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return t2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ri;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ri||(Ri={}));function t2(n){return"storage/"+n}function Cv(){const n="An unknown error occurred, please check the error payload for server response.";return new Ci(Ri.UNKNOWN,n)}function Vk(n){return new Ci(Ri.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Uk(n){return new Ci(Ri.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zk(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ci(Ri.UNAUTHENTICATED,n)}function qk(){return new Ci(Ri.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hk(n){return new Ci(Ri.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Wk(){return new Ci(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gk(){return new Ci(Ri.CANCELED,"User canceled the upload/download.")}function Yk(n){return new Ci(Ri.INVALID_URL,"Invalid URL '"+n+"'.")}function Kk(n){return new Ci(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Xk(){return new Ci(Ri.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+p3+"' property when initializing the app?")}function $k(){return new Ci(Ri.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qk(){return new Ci(Ri.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jk(n){return new Ci(Ri.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(n){return new Ci(Ri.INVALID_ARGUMENT,n)}function g3(){return new Ci(Ri.APP_DELETED,"The Firebase app was deleted.")}function Zk(n){return new Ci(Ri.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kd(n,t){return new Ci(Ri.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function xd(n){throw new Ci(Ri.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=la.makeFromUrl(t,e)}catch{return new la(t,"")}if(i.path==="")return i;throw Kk(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function f(et){et.path_=decodeURIComponent(et.path)}const p="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${p}/b/${r}/o${w}`,"i"),E={bucket:1,path:3},N=e===d3?"(?:storage.googleapis.com|storage.cloud.google.com)":e,R="([^?#]*)",C=new RegExp(`^https?://${N}/${r}/${R}`,"i"),G=[{regex:u,indices:c,postModify:s},{regex:_,indices:E,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let et=0;et<G.length;et++){const tt=G[et],mt=tt.regex.exec(t);if(mt){const z=mt[tt.indices.bucket];let P=mt[tt.indices.path];P||(P=""),i=new la(z,P),tt.postModify(i);break}}if(i==null)throw Yk(t);return i}}class tD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,t,e){let i=1,r=null,s=null,o=!1,u=0;function c(){return u===2}let f=!1;function p(...R){f||(f=!0,t.apply(null,R))}function y(R){r=setTimeout(()=>{r=null,n(_,c())},R)}function w(){s&&clearTimeout(s)}function _(R,...C){if(f){w();return}if(R){w(),p.call(null,R,...C);return}if(c()||o){w(),p.call(null,R,...C);return}i<64&&(i*=2);let G;u===1?(u=2,G=0):G=(i+Math.random())*1e3,y(G)}let E=!1;function N(R){E||(E=!0,w(),!f&&(r!==null?(R||(u=2),clearTimeout(r),y(0)):R||(u=1)))}return y(0),s=setTimeout(()=>{o=!0,N(!0)},e),N}function nD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){return n!==void 0}function rD(n){return typeof n=="object"&&!Array.isArray(n)}function Iv(n){return typeof n=="string"||n instanceof String}function Fw(n){return Lv()&&n instanceof Blob}function Lv(){return typeof Blob<"u"}function Bw(n,t,e,i){if(i<t)throw iy(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw iy(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function m3(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var rh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rh||(rh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=t.indexOf(n)!==-1;return e||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,e,i,r,s,o,u,c,f,p,y,w=!0,_=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Og(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===rh.NO_ERROR,c=s.getStatus();if(!u||sD(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===rh.ABORT;i(!1,new Og(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;i(!0,new Og(f,s))})},e=(i,r)=>{const s=this.resolve_,o=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());iD(c)?s(c):s()}catch(c){o(c)}else if(u!==null){const c=Cv();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(r.canceled){const c=this.appDelete_?g3():Gk();o(c)}else{const c=Wk();o(c)}};this.canceled_?e(!1,new Og(!1,null,!0)):this.backoffId_=eD(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Og{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function oD(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function lD(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uD(n,t){t&&(n["X-Firebase-GMPID"]=t)}function cD(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function hD(n,t,e,i,r,s,o=!0,u=!1){const c=m3(n.urlParams),f=n.url+c,p=Object.assign({},n.headers);return uD(p,t),oD(p,e),lD(p,s),cD(p,i),new aD(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dD(...n){const t=fD();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Lv())return new Blob(n);throw new Ci(Ri.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pD(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){if(typeof atob>"u")throw Jk("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class e2{constructor(t,e){this.data=t,this.contentType=e||null}}function mD(n,t){switch(n){case el.RAW:return new e2(y3(t));case el.BASE64:case el.BASE64URL:return new e2(v3(n,t));case el.DATA_URL:return new e2(vD(t),_D(t))}throw Cv()}function y3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=n.charCodeAt(++e);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function yD(n){let t;try{t=decodeURIComponent(n)}catch{throw Kd(el.DATA_URL,"Malformed data URL.")}return y3(t)}function v3(n,t){switch(n){case el.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw Kd(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case el.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw Kd(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=gD(t)}catch(r){throw r.message.includes("polyfill")?r:Kd(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class _3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Kd(el.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=bD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function vD(n){const t=new _3(n);return t.base64?v3(el.BASE64,t.rest):yD(t.rest)}function _D(n){return new _3(n).contentType}function bD(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e){let i=0,r="";Fw(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Fw(this.data_)){const i=this.data_,r=pD(i,t,e);return r===null?null:new Qu(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qu(i,!0)}}static getBlob(...t){if(Lv()){const e=t.map(i=>i instanceof Qu?i.data_:i);return new Qu(dD.apply(null,e))}else{const e=t.map(o=>Iv(o)?mD(el.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let u=0;u<o.length;u++)r[s++]=o[u]}),new Qu(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(n){let t;try{t=JSON.parse(n)}catch{return null}return rD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function AD(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function w3(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,t){return t}class ds{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||SD}}let Mg=null;function xD(n){return!Iv(n)||n.length<2?n:w3(n)}function A3(){if(Mg)return Mg;const n=[];n.push(new ds("bucket")),n.push(new ds("generation")),n.push(new ds("metageneration")),n.push(new ds("name","fullPath",!0));function t(s,o){return xD(o)}const e=new ds("name");e.xform=t,n.push(e);function i(s,o){return o!==void 0?Number(o):o}const r=new ds("size");return r.xform=i,n.push(r),n.push(new ds("timeCreated")),n.push(new ds("updated")),n.push(new ds("md5Hash",null,!0)),n.push(new ds("cacheControl",null,!0)),n.push(new ds("contentDisposition",null,!0)),n.push(new ds("contentEncoding",null,!0)),n.push(new ds("contentLanguage",null,!0)),n.push(new ds("contentType",null,!0)),n.push(new ds("metadata","customMetadata",!0)),Mg=n,Mg}function TD(n,t){function e(){const i=n.bucket,r=n.fullPath,s=new la(i,r);return t._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:e})}function ED(n,t,e){const i={};i.type="file";const r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return TD(i,n),i}function S3(n,t,e){const i=b3(t);return i===null?null:ED(n,i,e)}function ND(n,t,e,i){const r=b3(t);if(r===null||!Iv(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const p=n.bucket,y=n.fullPath,w="/b/"+o(p)+"/o/"+o(y),_=Pv(w,e,i),E=m3({alt:"media",token:f});return _+E})[0]}function RD(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}class x3{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){if(!n)throw Cv()}function CD(n,t){function e(i,r){const s=S3(n,r,t);return T3(s!==null),s}return e}function ID(n,t){function e(i,r){const s=S3(n,r,t);return T3(s!==null),ND(s,r,n.host,n._protocol)}return e}function E3(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=qk():r=zk():e.getStatus()===402?r=Uk(n.bucket):e.getStatus()===403?r=Hk(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function LD(n){const t=E3(n);function e(i,r){let s=t(i,r);return i.getStatus()===404&&(s=Vk(n.path)),s.serverResponse=r.serverResponse,s}return e}function PD(n,t,e){const i=t.fullServerUrl(),r=Pv(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,u=new x3(r,s,ID(n,e),o);return u.errorHandler=LD(t),u}function kD(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function DD(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=kD(null,t)),i}function OD(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let G="";for(let et=0;et<2;et++)G=G+Math.random().toString().slice(2);return G}const c=u();o["Content-Type"]="multipart/related; boundary="+c;const f=DD(t,i,r),p=RD(f,e),y="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+c+"--",_=Qu.getBlob(y,i,w);if(_===null)throw $k();const E={name:f.fullPath},N=Pv(s,n.host,n._protocol),R="POST",C=n.maxUploadRetryTime,O=new x3(N,R,CD(n,e),C);return O.urlParams=E,O.headers=o,O.body=_.uploadData(),O.errorHandler=E3(t),O}class MD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,s){if(this.sent_)throw xd("cannot .send() more than once");if(_c(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class jD extends MD{initXhr(){this.xhr_.responseType="text"}}function N3(){return new jD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,e){this._service=t,e instanceof la?this._location=e:this._location=la.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new dh(t,e)}get root(){const t=new la(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w3(this._location.path)}get storage(){return this._service}get parent(){const t=wD(this._location.path);if(t===null)return null;const e=new la(this._location.bucket,t);return new dh(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Zk(t)}}function FD(n,t,e){n._throwIfRoot("uploadBytes");const i=OD(n.storage,n._location,A3(),new Qu(t,!0),e);return n.storage.makeRequestWithTokens(i,N3).then(r=>({metadata:r,ref:n}))}function BD(n){n._throwIfRoot("getDownloadURL");const t=PD(n.storage,n._location,A3());return n.storage.makeRequestWithTokens(t,N3).then(e=>{if(e===null)throw Qk();return e})}function VD(n,t){const e=AD(n._location.path,t),i=new la(n._location.bucket,e);return new dh(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){return/^[A-Za-z]+:\/\//.test(n)}function zD(n,t){return new dh(n,t)}function R3(n,t){if(n instanceof kv){const e=n;if(e._bucket==null)throw Xk();const i=new dh(e,e._bucket);return t!=null?R3(i,t):i}else return t!==void 0?VD(n,t):n}function qD(n,t){if(t&&UD(t)){if(n instanceof kv)return zD(n,t);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return R3(n,t)}function Vw(n,t){const e=t==null?void 0:t[p3];return e==null?null:la.makeFromBucketSpec(e,n)}function HD(n,t,e,i={}){n.host=`${t}:${e}`;const r=_c(t);r&&(Py(`https://${n.host}/b`),ky("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:XS(s,n.app.options.projectId))}class kv{constructor(t,e,i,r,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=d3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fk,this._maxUploadRetryTime=Bk,this._requests=new Set,r!=null?this._bucket=la.makeFromBucketSpec(r,this._host):this._bucket=Vw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=la.makeFromBucketSpec(this._url,t):this._bucket=Vw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new dh(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new tD(g3());{const o=hD(t,this._appId,i,r,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const Uw="@firebase/storage",zw="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="storage";function WD(n,t,e){return n=yi(n),FD(n,t,e)}function GD(n){return n=yi(n),BD(n)}function YD(n,t){return n=yi(n),qD(n,t)}function KD(n=My(),t){n=yi(n);const i=t0(n,C3).getImmediate({identifier:t}),r=GS("storage");return r&&XD(i,...r),i}function XD(n,t,e,i={}){HD(n,t,e,i)}function $D(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new kv(e,i,r,t,mh)}function QD(){uh(new uc(C3,$D,"PUBLIC").setMultipleInstances(!0)),il(Uw,zw,""),il(Uw,zw,"esm2017")}QD();const JD={apiKey:"AIzaSyCbU834quCY8hjSffRwljJLgZrcxK8i2F4",authDomain:"liquidacionapp-62962.firebaseapp.com",projectId:"liquidacionapp-62962",storageBucket:"liquidacionapp-62962.firebasestorage.app",messagingSenderId:"851382130132",appId:"1:851382130132:web:eaba38fab449f14fb5b241"},Dv=JS(JD),Ms=yI(Dv),_0=gk(Dv),ZD=KD(Dv),t8=n=>{if(!Ms.currentUser)return Promise.reject("Usuario no autenticado.");const t=Ms.currentUser.uid,e=e3(_0,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`);return Ok(e,n)},e8=n=>{if(!Ms.currentUser)return()=>{};const t=Ms.currentUser.uid,e=Rk(e3(_0,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`));return Mk(e,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));s.sort((o,u)=>new Date(u.timestamp)-new Date(o.timestamp)),n(s)})},n8=n=>{if(!Ms.currentUser)return Promise.reject("Usuario no autenticado.");const t=Ms.currentUser.uid,e=yv(_0,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`,n);return Dk(e)},i8=(n,t)=>{if(!Ms.currentUser)return Promise.reject("Usuario no autenticado.");const e=Ms.currentUser.uid,i=yv(_0,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${e}/settlements`,n);return kk(i,{status:"Pagada",comprobantePagoBase64:t})};function r8({isAuthenticated:n,onLogout:t,onToggleTheme:e}){return ht.jsxs("div",{className:"header",children:[ht.jsxs("div",{className:"theme-switcher",onClick:e,children:[ht.jsx("span",{className:"light-icon",children:"☀️"}),ht.jsx("span",{className:"dark-icon",children:"🌙"})]}),ht.jsx("div",{style:{position:"absolute",top:"15px",left:"20px"}}),n&&ht.jsx("div",{style:{position:"absolute",top:"15px",right:"80px"},children:ht.jsx("button",{className:"logout",onClick:t,style:{padding:"8px 12px",borderRadius:"8px"},children:"Cerrar Sesión"})}),ht.jsx("h1",{id:"appTitle",children:"🍽️ Liquidación de Comidas Multi-Cliente 💰"}),ht.jsx("p",{id:"headerSubtitle",children:"Sistema interactivo para facturación a múltiples clientes"})]})}function s8(){const[n,t]=$e.useState("welcome"),[e,i]=$e.useState(""),[r,s]=$e.useState(""),[o,u]=$e.useState(""),[c,f]=$e.useState(!1),p=()=>{t("email"),i("")},y=()=>{t("welcome"),i("")},w=R=>{console.error("Error de autenticación:",R.code,R.message);let C="Ocurrió un error. Inténtalo de nuevo.";R.code==="auth/email-already-in-use"?C="El email ya está en uso. Intenta iniciar sesión.":R.code==="auth/invalid-email"?C="El formato del email es inválido.":R.code==="auth/weak-password"?C="La contraseña es muy débil (mínimo 6 caracteres).":R.code==="auth/invalid-credential"&&(C="Email o contraseña incorrectos."),i(C)},_=async()=>{f(!0),i("Iniciando como invitado...");try{await QR(Ms)}catch(R){w(R)}finally{f(!1)}},E=async()=>{if(!r||!o){i("Por favor, introduce email y contraseña.");return}f(!0),i("Iniciando sesión...");try{await nC(Ms,r,o)}catch(R){w(R)}finally{f(!1)}},N=async()=>{if(!r||!o||o.length<6){i("Verifica los datos (contraseña de 6+ caracteres).");return}f(!0),i("Registrando...");try{await eC(Ms,r,o)}catch(R){w(R)}finally{f(!1)}};return ht.jsxs("div",{children:[n==="welcome"&&ht.jsxs("div",{className:"welcome-screen",children:[ht.jsx("h2",{children:"¡Bienvenido a Liquidación de Comidas!"}),ht.jsx("p",{children:"Elige cómo quieres acceder a la aplicación."}),ht.jsxs("div",{className:"welcome-buttons",children:[ht.jsx("button",{className:"email-auth-btn",onClick:p,disabled:c,children:c?"Cargando...":"Iniciar Sesión / Registrarse"}),ht.jsx("button",{className:"guest-auth-btn",onClick:_,disabled:c,children:c?"Cargando...":"Continuar como Invitado"})]}),ht.jsx("p",{className:"auth-message",children:e})]}),n==="email"&&ht.jsxs("div",{className:"auth-section",children:[ht.jsx("h3",{children:"Acceso con Email y Contraseña"}),ht.jsx("p",{children:"Inicia sesión o regístrate para guardar tus datos en la nube."}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"authEmail",children:"Email:"}),ht.jsx("input",{type:"email",id:"authEmail",placeholder:"tu@ejemplo.com",value:r,onChange:R=>s(R.target.value),required:!0})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"authPassword",children:"Contraseña:"}),ht.jsx("input",{type:"password",id:"authPassword",placeholder:"min. 6 caracteres",value:o,onChange:R=>u(R.target.value),required:!0})]}),ht.jsxs("div",{className:"auth-buttons",children:[ht.jsx("button",{className:"login",onClick:E,disabled:c,children:c?"Verificando...":"Iniciar Sesión"}),ht.jsx("button",{className:"register",onClick:N,disabled:c,children:c?"Registrando...":"Registrarse"})]}),ht.jsx("button",{className:"secondary-button",onClick:y,disabled:c,style:{width:"auto",marginTop:"15px"},children:"⬅️ Volver"}),ht.jsx("p",{className:"auth-message",children:e})]})]})}const Ov=(n="es-CO",t="COP")=>{try{return new Intl.NumberFormat(n,{style:"currency",currency:t})}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},a8=(n,t,e)=>{const{valorComida:i,moneda:r}=n,s="es-CO",o=parseFloat(i)||0,u=t.map(_=>{const E=parseInt(_.meals,10)||0,N=E*o;return{..._,comidas:E,ingresoBrutoCliente:N}}),c=u.reduce((_,E)=>_+E.comidas,0),f=c*o,p=e.map(_=>{const E=parseFloat(_.value)||0,N=_.type==="fixed"?E:f*(E/100),R=_.type==="percent"?`${E}%`:Ov(s,r).format(E);return{..._,montoCalculado:N,displayValue:R}}),y=p.reduce((_,E)=>_+E.montoCalculado,0),w=f-y;return{config:{...n,locale:s,moneda:r},clientes:u,mariella:{totalComidasGestionadas:c,totalIngresoBruto:f,deducciones:p,totalDeducciones:y,saldoFinalNeto:w}}};function o8({data:n,setData:t}){const e=i=>{const{id:r,value:s}=i.target;t(o=>({...o,[r]:s}))};return ht.jsxs(ht.Fragment,{children:[ht.jsx("h2",{children:"📊 Datos Generales"}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"nombreMariella",children:"👩‍🍳 Nombre del Facturador:"}),ht.jsx("input",{type:"text",id:"nombreMariella",value:n.nombreMariella,onChange:e,required:!0})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"facturadorDireccion",children:"📍 Campamento del Facturador:"}),ht.jsxs("select",{id:"facturadorDireccion",value:n.campamento,onChange:e,required:!0,children:[ht.jsx("option",{value:"",children:"Selecciona un campamento"}),ht.jsx("option",{value:"AUSTRIA",children:"AUSTRIA"}),ht.jsx("option",{value:"BARQUEREÑA",children:"BARQUEREÑA"}),ht.jsx("option",{value:"TERQUEDAD",children:"TERQUEDAD"}),ht.jsx("option",{value:"ATABAPO",children:"ATABAPO"})]})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"facturadorContacto",children:"📞 Contacto:"}),ht.jsx("input",{type:"text",id:"facturadorContacto",value:n.contacto,onChange:e,placeholder:"Email/Teléfono"})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"invoiceNumber",children:"#️⃣ Número de Factura:"}),ht.jsx("input",{type:"text",id:"invoiceNumber",value:n.facturaNum,onChange:e,placeholder:"Opcional"})]}),ht.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"mesServicio",children:"📅 Mes del Servicio:"}),ht.jsx("input",{type:"month",id:"mesServicio",name:"mesServicio",value:n.mes,onChange:e})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"moneda",children:"💵 Moneda:"}),ht.jsxs("select",{id:"moneda",value:n.moneda,onChange:e,children:[ht.jsx("option",{value:"COP",children:"Peso Colombiano (COP)"}),ht.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),ht.jsx("option",{value:"EUR",children:"Euro (EUR)"}),ht.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"})]})]})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"valorComida",children:"💰 Valor por Comida:"}),ht.jsx("input",{type:"number",id:"valorComida",value:n.valorComida,onChange:e,min:"0",step:"100",required:!0})]}),ht.jsx("hr",{style:{margin:"20px 0"}})]})}function l8({client:n,onRemove:t,onUpdate:e}){const{id:i,name:r,meals:s}=n;return ht.jsxs("div",{className:"client-input-group",children:[ht.jsxs("div",{className:"client-header",children:[ht.jsx("h4",{children:"Cliente"}),ht.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:`nombre_${i}`,children:"Nombre del Cliente:"}),ht.jsx("input",{type:"text",id:`nombre_${i}`,value:r,onChange:o=>e(i,"name",o.target.value),placeholder:"Ej: Jaider",required:!0})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:`comidas_${i}`,children:"Comidas Facturadas:"}),ht.jsx("div",{className:"input-wrapper",children:ht.jsx("input",{type:"number",id:`comidas_${i}`,value:s,onChange:o=>e(i,"meals",parseInt(o.target.value)||0),min:"0"})})]})]})}function u8({clients:n,setClients:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",meals:0}])},i=s=>{n.length<=1||t(n.filter(o=>o.id!==s))},r=(s,o,u)=>{t(n.map(c=>c.id===s?{...c,[o]:u}:c))};return ht.jsxs(ht.Fragment,{children:[ht.jsx("h3",{children:"👤 Clientes"}),ht.jsx("div",{id:"clientesContainer",children:n.map(s=>ht.jsx(l8,{client:s,onRemove:i,onUpdate:r},s.id))}),ht.jsx("button",{className:"secondary-button",onClick:e,children:"➕ Añadir Cliente"}),ht.jsx("hr",{style:{margin:"20px 0"}})]})}function c8({deduction:n,onRemove:t,onUpdate:e}){const{id:i,name:r,type:s,value:o,category:u}=n;return ht.jsxs("div",{className:"deduction-input-group",children:[ht.jsxs("div",{className:"deduction-header",children:[ht.jsx("h4",{children:"Deducción"}),ht.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),ht.jsxs("div",{className:"deduction-input-row",children:[ht.jsx("input",{type:"text",className:"deduction-name",value:r,onChange:c=>e(i,"name",c.target.value),placeholder:"Concepto",required:!0}),ht.jsxs("select",{className:"deduction-type",value:s,onChange:c=>e(i,"type",c.target.value),children:[ht.jsx("option",{value:"fixed",children:"Fijo ($)"}),ht.jsx("option",{value:"percent",children:"Porcentaje (%)"})]}),ht.jsx("input",{type:"number",className:"deduction-value",value:o,onChange:c=>e(i,"value",parseFloat(c.target.value)||0),min:"0",step:"0.1",required:!0}),ht.jsxs("select",{className:"deduction-category",value:u,onChange:c=>e(i,"category",c.target.value),children:[ht.jsx("option",{value:"",children:"Seleccionar..."}),ht.jsx("option",{value:"Impuesto",children:"Impuesto"}),ht.jsx("option",{value:"Servicio",children:"Servicio"}),ht.jsx("option",{value:"Personal",children:"Personal"}),ht.jsx("option",{value:"Transporte",children:"Transporte"}),ht.jsx("option",{value:"Otros",children:"Otros"})]})]})]})}function h8({deductions:n,setDeductions:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",type:"fixed",value:0,category:""}])},i=s=>{t(n.filter(o=>o.id!==s))},r=(s,o,u)=>{t(n.map(c=>c.id===s?{...c,[o]:u}:c))};return ht.jsxs(ht.Fragment,{children:[ht.jsx("h3",{children:"💸 Deducciones del Facturador"}),ht.jsx("div",{id:"deduccionesContainer",children:n.map(s=>ht.jsx(c8,{deduction:s,onRemove:i,onUpdate:r},s.id))}),ht.jsx("button",{className:"secondary-button",onClick:e,children:"➕ Añadir Deducción"}),ht.jsx("hr",{style:{margin:"20px 0"}})]})}function f8({customData:n,setCustomData:t}){const e=r=>{const{id:s,value:o}=r.target;t(u=>({...u,[s]:o}))},i=r=>{const{id:s,files:o}=r.target,u=o[0];if(!u)return;const c=new FileReader;c.readAsDataURL(u),c.onload=()=>{t(f=>({...f,[s]:c.result}))},c.onerror=f=>{console.error("Error al leer el archivo:",f),alert("No se pudo cargar el archivo.")}};return ht.jsxs(ht.Fragment,{children:[ht.jsx("hr",{style:{margin:"20px 0"}}),ht.jsx("h3",{children:"📄 Personalización de PDF"}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"logo",children:"🖼️ Subir Logo (opcional):"}),ht.jsx("input",{type:"file",id:"logo",accept:"image/png, image/jpeg",onChange:i})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"signature",children:"✍️ Subir Firma/Sello (opcional):"}),ht.jsx("input",{type:"file",id:"signature",accept:"image/png, image/jpeg",onChange:i})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"headerText",children:"⬆️ Texto de Encabezado Personalizado:"}),ht.jsx("input",{type:"text",id:"headerText",value:n.headerText,onChange:e,placeholder:"Ej: Reporte Confidencial"})]}),ht.jsxs("div",{className:"input-group",children:[ht.jsx("label",{htmlFor:"footerText",children:"⬇️ Texto de Pie de Página Personalizado:"}),ht.jsx("input",{type:"text",id:"footerText",value:n.footerText,onChange:e,placeholder:"Ej: Gracias por su confianza"})]})]})}function d8({onCalculate:n,results:t,onNewSettlement:e}){const i=()=>{window.confirm("¿Estás seguro de que quieres reiniciar TODA la aplicación? Se borrará el historial y las configuraciones guardadas.")&&console.log("Reiniciando app...")};return ht.jsxs(ht.Fragment,{children:[!t&&ht.jsx("button",{id:"procesarBtn",className:"main-button",onClick:n,children:"🚀 Calcular Liquidación"}),t&&ht.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"10px",flexWrap:"wrap"},children:ht.jsx("button",{className:"start-new-btn",onClick:e,children:"✨ Nueva Liquidación"})}),ht.jsx("div",{style:{marginTop:"20px",borderTop:"1px solid var(--border-color)",paddingTop:"20px"},children:ht.jsx("button",{className:"reset-btn",onClick:i,children:"🔄 Reiniciar Toda la App"})})]})}function p8({item:n,onDelete:t,onOpenPaymentModal:e}){const{id:i,summary:r,timestamp:s,status:o,pdfDownloadURL:u,comprobantePagoBase64:c}=n,f=()=>{window.confirm(`¿Estás seguro de que quieres eliminar la liquidación de ${r.mesServicio}?`)&&t(i)},p=()=>{u?window.open(u,"_blank"):alert("No se encontró el enlace del PDF para esta liquidación.")},y=()=>{if(c){const w=window.open();w?(w.document.write('<html><head><title>Visor de Comprobante</title></head><body style="margin:0;">'),w.document.write(`<img src='${c}' style='max-width:100%;'>`),w.document.write("</body></html>")):alert("No se pudo abrir la nueva pestaña. Por favor, revisa los permisos de tu navegador.")}else alert("No se encontró el comprobante de pago para esta liquidación.")};return ht.jsxs("div",{className:"history-item",children:[ht.jsxs("div",{className:"history-item-info",children:[ht.jsxs("div",{children:[ht.jsx("strong",{children:r.nombreMariella||"N/A"})," - ",r.mesServicio||"N/A",ht.jsx("br",{}),ht.jsxs("small",{children:["Guardado: ",s||"N/A"]})]}),ht.jsx("span",{className:`status-label status-${(o||"pendiente").toLowerCase()}`,children:o||"Pendiente"})]}),ht.jsxs("div",{className:"history-item-actions",children:[ht.jsx("button",{className:"view-pdf-btn",onClick:p,children:"Ver PDF"}),o==="Pagada"?ht.jsx("button",{className:"view-receipt-btn",onClick:y,children:"Ver Comprobante"}):ht.jsx("button",{className:"register-payment-btn",onClick:()=>e(i),children:"Registrar Pago"}),ht.jsx("button",{className:"history-delete-btn",onClick:f,children:"Eliminar"})]})]})}function g8({history:n,searchTerm:t,setSearchTerm:e,onDeleteItem:i,onOpenPaymentModal:r}){const s=n.filter(o=>{if(!o.summary)return!1;const u=t.toLowerCase(),c=(o.summary.nombreMariella||"").toLowerCase().includes(u),f=(o.summary.mesServicio||"").toLowerCase().includes(u),p=(o.status||"").toLowerCase().includes(u);return c||f||p});return ht.jsxs(ht.Fragment,{children:[ht.jsx("hr",{style:{margin:"20px 0"}}),ht.jsxs("div",{className:"history-section-header",children:[ht.jsx("h3",{children:"⏳ Historial de Liquidaciones"}),ht.jsx("div",{className:"history-search-filter",children:ht.jsx("input",{type:"text",id:"historySearch",value:t,onChange:o=>e(o.target.value),placeholder:"Buscar por nombre, mes o estado..."})})]}),ht.jsx("div",{id:"historyContainer",children:s.length>0?s.map(o=>ht.jsx(p8,{item:o,onDelete:i,onOpenPaymentModal:r},o.id)):ht.jsx("p",{style:{textAlign:"center",color:"var(--text-muted-color)"},children:"No hay liquidaciones guardadas."})})]})}const qw={nombreMariella:"Doña Mariella",facturadorDireccion:"",facturadorContacto:"",invoiceNumber:"",mesServicio:new Date().toISOString().slice(0,7),moneda:"COP",valorComida:9e3},Hw=[{id:1,name:"",meals:0}],Ww=[{id:1,name:"Retención en la Fuente",type:"percent",value:3.5,category:"Impuesto"},{id:2,name:"Aporte Seguro Social",type:"fixed",value:185500,category:"Personal"}],Gw={logo:null,signature:null,headerText:"",footerText:""};function m8({setResults:n,setIsModalOpen:t,onOpenPaymentModal:e}){const[i,r]=$e.useState(qw),[s,o]=$e.useState(Hw),[u,c]=$e.useState(Ww),[f,p]=$e.useState(Gw),[y,w]=$e.useState(null),[_,E]=$e.useState([]),[N,R]=$e.useState("");$e.useEffect(()=>{const et=e8(tt=>{E(tt)});return()=>et()},[]);const C=()=>{const et={...a8(i,s,u),customization:f};w(et),n(et),t(!0)},O=()=>{r(qw),o(Hw),c(Ww),p(Gw),w(null);const et=document.getElementById("logo");et&&(et.value="");const tt=document.getElementById("signature");tt&&(tt.value="")},G=async et=>{try{await n8(et),console.log("Liquidación eliminada con éxito")}catch(tt){console.error("Error al eliminar la liquidación:",tt),alert("No se pudo eliminar la liquidación.")}};return ht.jsx("div",{className:"content",children:ht.jsxs("div",{className:"input-section",children:[ht.jsx(o8,{data:i,setData:r}),ht.jsx(h8,{deductions:u,setDeductions:c}),ht.jsx(u8,{clients:s,setClients:o}),ht.jsx(f8,{customData:f,setCustomData:p}),ht.jsx(d8,{onCalculate:C,results:y,onNewSettlement:O}),ht.jsx(g8,{history:_,searchTerm:N,setSearchTerm:R,onDeleteItem:G,onOpenPaymentModal:e})]})})}function y8(){return ht.jsx("div",{id:"loader",style:{display:"flex"}})}const v8="modulepreload",_8=function(n){return"/alimentacion/"+n},Yw={},ry=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=o(e.map(f=>{if(f=_8(f),f in Yw)return;Yw[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":v8,p||(w.as="script"),w.crossOrigin="",w.href=f,c&&w.setAttribute("nonce",c),document.head.appendChild(w),p)return new Promise((_,E)=>{w.addEventListener("load",_),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return r.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};function Vn(n){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(n)}var es=Uint8Array,ua=Uint16Array,Mv=Int32Array,b0=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w0=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sy=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I3=function(n,t){for(var e=new ua(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new Mv(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},L3=I3(b0,2),P3=L3.b,ay=L3.r;P3[28]=258,ay[258]=28;var k3=I3(w0,0),b8=k3.b,Kw=k3.r,oy=new ua(32768);for(var ii=0;ii<32768;++ii){var Hu=(ii&43690)>>1|(ii&21845)<<1;Hu=(Hu&52428)>>2|(Hu&13107)<<2,Hu=(Hu&61680)>>4|(Hu&3855)<<4,oy[ii]=((Hu&65280)>>8|(Hu&255)<<8)>>1}var ul=function(n,t,e){for(var i=n.length,r=0,s=new ua(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new ua(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var u;if(e){u=new ua(1<<t);var c=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=t-n[r],y=o[n[r]-1]++<<p,w=y|(1<<p)-1;y<=w;++y)u[oy[y]>>c]=f}else for(u=new ua(i),r=0;r<i;++r)n[r]&&(u[r]=oy[o[n[r]-1]++]>>15-n[r]);return u},mc=new es(288);for(var ii=0;ii<144;++ii)mc[ii]=8;for(var ii=144;ii<256;++ii)mc[ii]=9;for(var ii=256;ii<280;++ii)mc[ii]=7;for(var ii=280;ii<288;++ii)mc[ii]=8;var cp=new es(32);for(var ii=0;ii<32;++ii)cp[ii]=5;var w8=ul(mc,9,0),A8=ul(mc,9,1),S8=ul(cp,5,0),x8=ul(cp,5,1),n2=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},lo=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},i2=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},jv=function(n){return(n+7)/8|0},D3=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new es(n.subarray(t,e))},T8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],co=function(n,t,e){var i=new Error(t||T8[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,co),!e)throw i;return i},E8=function(n,t,e,i){var r=n.length,s=0;if(!r||t.f&&!t.l)return e||new es(0);var o=!e,u=o||t.i!=2,c=t.i;o&&(e=new es(r*3));var f=function($t){var ne=e.length;if($t>ne){var te=new es(Math.max(ne*2,$t));te.set(e),e=te}},p=t.f||0,y=t.p||0,w=t.b||0,_=t.l,E=t.d,N=t.m,R=t.n,C=r*8;do{if(!_){p=lo(n,y,1);var O=lo(n,y+1,3);if(y+=3,O)if(O==1)_=A8,E=x8,N=9,R=5;else if(O==2){var mt=lo(n,y,31)+257,z=lo(n,y+10,15)+4,P=mt+lo(n,y+5,31)+1;y+=14;for(var U=new es(P),X=new es(19),L=0;L<z;++L)X[sy[L]]=lo(n,y+L*3,7);y+=z*3;for(var D=n2(X),F=(1<<D)-1,at=ul(X,D,1),L=0;L<P;){var wt=at[lo(n,y,F)];y+=wt&15;var G=wt>>4;if(G<16)U[L++]=G;else{var nt=0,ct=0;for(G==16?(ct=3+lo(n,y,3),y+=2,nt=U[L-1]):G==17?(ct=3+lo(n,y,7),y+=3):G==18&&(ct=11+lo(n,y,127),y+=7);ct--;)U[L++]=nt}}var ft=U.subarray(0,mt),Tt=U.subarray(mt);N=n2(ft),R=n2(Tt),_=ul(ft,N,1),E=ul(Tt,R,1)}else co(1);else{var G=jv(y)+4,et=n[G-4]|n[G-3]<<8,tt=G+et;if(tt>r){c&&co(0);break}u&&f(w+et),e.set(n.subarray(G,tt),w),t.b=w+=et,t.p=y=tt*8,t.f=p;continue}if(y>C){c&&co(0);break}}u&&f(w+131072);for(var Q=(1<<N)-1,St=(1<<R)-1,j=y;;j=y){var nt=_[i2(n,y)&Q],W=nt>>4;if(y+=nt&15,y>C){c&&co(0);break}if(nt||co(2),W<256)e[w++]=W;else if(W==256){j=y,_=null;break}else{var Z=W-254;if(W>264){var L=W-257,st=b0[L];Z=lo(n,y,(1<<st)-1)+P3[L],y+=st}var lt=E[i2(n,y)&St],Nt=lt>>4;lt||co(3),y+=lt&15;var Tt=b8[Nt];if(Nt>3){var st=w0[Nt];Tt+=i2(n,y)&(1<<st)-1,y+=st}if(y>C){c&&co(0);break}u&&f(w+131072);var Et=w+Z;if(w<Tt){var kt=s-Tt,Jt=Math.min(Tt,Et);for(kt+w<0&&co(3);w<Jt;++w)e[w]=i[kt+w]}for(;w<Et;++w)e[w]=e[w-Tt]}}t.l=_,t.p=j,t.b=w,t.f=p,_&&(p=1,t.m=N,t.d=E,t.n=R)}while(!p);return w!=e.length&&o?D3(e,0,w):e.subarray(0,w)},Wl=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Td=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},r2=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:M3,l:0};if(r==1){var o=new es(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(tt,mt){return tt.f-mt.f}),e.push({s:-1,f:25001});var u=e[0],c=e[1],f=0,p=1,y=2;for(e[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=r-1;)u=e[e[f].f<e[y].f?f++:y++],c=e[f!=p&&e[f].f<e[y].f?f++:y++],e[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var w=s[0].s,i=1;i<r;++i)s[i].s>w&&(w=s[i].s);var _=new ua(w+1),E=ly(e[p-1],_,0);if(E>t){var i=0,N=0,R=E-t,C=1<<R;for(s.sort(function(mt,z){return _[z.s]-_[mt.s]||mt.f-z.f});i<r;++i){var O=s[i].s;if(_[O]>t)N+=C-(1<<E-_[O]),_[O]=t;else break}for(N>>=R;N>0;){var G=s[i].s;_[G]<t?N-=1<<t-_[G]++-1:++i}for(;i>=0&&N;--i){var et=s[i].s;_[et]==t&&(--_[et],++N)}E=t}return{t:new es(_),l:E}},ly=function(n,t,e){return n.s==-1?Math.max(ly(n.l,t,e+1),ly(n.r,t,e+1)):t[n.s]=e},Xw=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ua(++t),i=0,r=n[0],s=1,o=function(c){e[i++]=c},u=1;u<=t;++u)if(n[u]==r&&u!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[u]}return{c:e.subarray(0,i),n:t}},Ed=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},O3=function(n,t,e){var i=e.length,r=jv(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},$w=function(n,t,e,i,r,s,o,u,c,f,p){Wl(t,p++,e),++r[256];for(var y=r2(r,15),w=y.t,_=y.l,E=r2(s,15),N=E.t,R=E.l,C=Xw(w),O=C.c,G=C.n,et=Xw(N),tt=et.c,mt=et.n,z=new ua(19),P=0;P<O.length;++P)++z[O[P]&31];for(var P=0;P<tt.length;++P)++z[tt[P]&31];for(var U=r2(z,7),X=U.t,L=U.l,D=19;D>4&&!X[sy[D-1]];--D);var F=f+5<<3,at=Ed(r,mc)+Ed(s,cp)+o,wt=Ed(r,w)+Ed(s,N)+o+14+3*D+Ed(z,X)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&F<=at&&F<=wt)return O3(t,p,n.subarray(c,c+f));var nt,ct,ft,Tt;if(Wl(t,p,1+(wt<at)),p+=2,wt<at){nt=ul(w,_,0),ct=w,ft=ul(N,R,0),Tt=N;var Q=ul(X,L,0);Wl(t,p,G-257),Wl(t,p+5,mt-1),Wl(t,p+10,D-4),p+=14;for(var P=0;P<D;++P)Wl(t,p+3*P,X[sy[P]]);p+=3*D;for(var St=[O,tt],j=0;j<2;++j)for(var W=St[j],P=0;P<W.length;++P){var Z=W[P]&31;Wl(t,p,Q[Z]),p+=X[Z],Z>15&&(Wl(t,p,W[P]>>5&127),p+=W[P]>>12)}}else nt=w8,ct=mc,ft=S8,Tt=cp;for(var P=0;P<u;++P){var st=i[P];if(st>255){var Z=st>>18&31;Td(t,p,nt[Z+257]),p+=ct[Z+257],Z>7&&(Wl(t,p,st>>23&31),p+=b0[Z]);var lt=st&31;Td(t,p,ft[lt]),p+=Tt[lt],lt>3&&(Td(t,p,st>>5&8191),p+=w0[lt])}else Td(t,p,nt[st]),p+=ct[st]}return Td(t,p,nt[256]),p+ct[256]},N8=new Mv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M3=new es(0),R8=function(n,t,e,i,r,s){var o=s.z||n.length,u=new es(i+o+5*(1+Math.ceil(o/7e3))+r),c=u.subarray(i,u.length-r),f=s.l,p=(s.r||0)&7;if(t){p&&(c[0]=s.r>>3);for(var y=N8[t-1],w=y>>13,_=y&8191,E=(1<<e)-1,N=s.p||new ua(32768),R=s.h||new ua(E+1),C=Math.ceil(e/3),O=2*C,G=function(we){return(n[we]^n[we+1]<<C^n[we+2]<<O)&E},et=new Mv(25e3),tt=new ua(288),mt=new ua(32),z=0,P=0,U=s.i||0,X=0,L=s.w||0,D=0;U+2<o;++U){var F=G(U),at=U&32767,wt=R[F];if(N[at]=wt,R[F]=at,L<=U){var nt=o-U;if((z>7e3||X>24576)&&(nt>423||!f)){p=$w(n,c,0,et,tt,mt,P,X,D,U-D,p),X=z=P=0,D=U;for(var ct=0;ct<286;++ct)tt[ct]=0;for(var ct=0;ct<30;++ct)mt[ct]=0}var ft=2,Tt=0,Q=_,St=at-wt&32767;if(nt>2&&F==G(U-St))for(var j=Math.min(w,nt)-1,W=Math.min(32767,U),Z=Math.min(258,nt);St<=W&&--Q&&at!=wt;){if(n[U+ft]==n[U+ft-St]){for(var st=0;st<Z&&n[U+st]==n[U+st-St];++st);if(st>ft){if(ft=st,Tt=St,st>j)break;for(var lt=Math.min(St,st-2),Nt=0,ct=0;ct<lt;++ct){var Et=U-St+ct&32767,kt=N[Et],Jt=Et-kt&32767;Jt>Nt&&(Nt=Jt,wt=Et)}}}at=wt,wt=N[at],St+=at-wt&32767}if(Tt){et[X++]=268435456|ay[ft]<<18|Kw[Tt];var $t=ay[ft]&31,ne=Kw[Tt]&31;P+=b0[$t]+w0[ne],++tt[257+$t],++mt[ne],L=U+ft,++z}else et[X++]=n[U],++tt[n[U]]}}for(U=Math.max(U,L);U<o;++U)et[X++]=n[U],++tt[n[U]];p=$w(n,c,f,et,tt,mt,P,X,D,U-D,p),f||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=R,s.p=N,s.i=U,s.w=L)}else{for(var U=s.w||0;U<o+f;U+=65535){var te=U+65535;te>=o&&(c[p/8|0]=f,te=o),p=O3(c,p+1,n.subarray(U,te))}s.i=o}return D3(u,0,i+jv(p)+r)},j3=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},C8=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new es(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return R8(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},F3=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},I8=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=j3();r.p(t.dictionary),F3(n,2,r.d())}},L8=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&co(6,"invalid zlib data"),(n[1]>>5&1)==1&&co(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function uy(n,t){t||(t={});var e=j3();e.p(n);var i=C8(n,t,t.dictionary?6:2,4);return I8(i,t),F3(i,i.length-4,e.d()),i}function P8(n,t){return E8(n.subarray(L8(n),-4),{i:2},t,t)}var k8=typeof TextDecoder<"u"&&new TextDecoder,D8=0;try{k8.decode(M3,{stream:!0}),D8=1}catch{}var De=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s2(){De.console&&typeof De.console.log=="function"&&De.console.log.apply(De.console,arguments)}var $n={log:s2,warn:function(n){De.console&&(typeof De.console.warn=="function"?De.console.warn.apply(De.console,arguments):s2.call(null,arguments))},error:function(n){De.console&&(typeof De.console.error=="function"?De.console.error.apply(De.console,arguments):s2(n))}};function a2(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Qc(i.response,t,e)},i.onerror=function(){$n.error("could not download file")},i.send()}function Qw(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Xd,cy,Qc=De.saveAs||((typeof window>"u"?"undefined":Vn(window))!=="object"||window!==De?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=De.URL||De.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?Qw(r.href)?a2(n,t,e):jg(r,r.target="_blank"):jg(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){jg(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Qw(n))a2(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){jg(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Vn(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return a2(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(De.HTMLElement)||De.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Vn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},u.readAsDataURL(n)}else{var c=De.URL||De.webkitURL,f=c.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function B3(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o2(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=Kr(e,i,r,s,t[0],7,-680876936),s=Kr(s,e,i,r,t[1],12,-389564586),r=Kr(r,s,e,i,t[2],17,606105819),i=Kr(i,r,s,e,t[3],22,-1044525330),e=Kr(e,i,r,s,t[4],7,-176418897),s=Kr(s,e,i,r,t[5],12,1200080426),r=Kr(r,s,e,i,t[6],17,-1473231341),i=Kr(i,r,s,e,t[7],22,-45705983),e=Kr(e,i,r,s,t[8],7,1770035416),s=Kr(s,e,i,r,t[9],12,-1958414417),r=Kr(r,s,e,i,t[10],17,-42063),i=Kr(i,r,s,e,t[11],22,-1990404162),e=Kr(e,i,r,s,t[12],7,1804603682),s=Kr(s,e,i,r,t[13],12,-40341101),r=Kr(r,s,e,i,t[14],17,-1502002290),e=Xr(e,i=Kr(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Xr(s,e,i,r,t[6],9,-1069501632),r=Xr(r,s,e,i,t[11],14,643717713),i=Xr(i,r,s,e,t[0],20,-373897302),e=Xr(e,i,r,s,t[5],5,-701558691),s=Xr(s,e,i,r,t[10],9,38016083),r=Xr(r,s,e,i,t[15],14,-660478335),i=Xr(i,r,s,e,t[4],20,-405537848),e=Xr(e,i,r,s,t[9],5,568446438),s=Xr(s,e,i,r,t[14],9,-1019803690),r=Xr(r,s,e,i,t[3],14,-187363961),i=Xr(i,r,s,e,t[8],20,1163531501),e=Xr(e,i,r,s,t[13],5,-1444681467),s=Xr(s,e,i,r,t[2],9,-51403784),r=Xr(r,s,e,i,t[7],14,1735328473),e=$r(e,i=Xr(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=$r(s,e,i,r,t[8],11,-2022574463),r=$r(r,s,e,i,t[11],16,1839030562),i=$r(i,r,s,e,t[14],23,-35309556),e=$r(e,i,r,s,t[1],4,-1530992060),s=$r(s,e,i,r,t[4],11,1272893353),r=$r(r,s,e,i,t[7],16,-155497632),i=$r(i,r,s,e,t[10],23,-1094730640),e=$r(e,i,r,s,t[13],4,681279174),s=$r(s,e,i,r,t[0],11,-358537222),r=$r(r,s,e,i,t[3],16,-722521979),i=$r(i,r,s,e,t[6],23,76029189),e=$r(e,i,r,s,t[9],4,-640364487),s=$r(s,e,i,r,t[12],11,-421815835),r=$r(r,s,e,i,t[15],16,530742520),e=Qr(e,i=$r(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Qr(s,e,i,r,t[7],10,1126891415),r=Qr(r,s,e,i,t[14],15,-1416354905),i=Qr(i,r,s,e,t[5],21,-57434055),e=Qr(e,i,r,s,t[12],6,1700485571),s=Qr(s,e,i,r,t[3],10,-1894986606),r=Qr(r,s,e,i,t[10],15,-1051523),i=Qr(i,r,s,e,t[1],21,-2054922799),e=Qr(e,i,r,s,t[8],6,1873313359),s=Qr(s,e,i,r,t[15],10,-30611744),r=Qr(r,s,e,i,t[6],15,-1560198380),i=Qr(i,r,s,e,t[13],21,1309151649),e=Qr(e,i,r,s,t[4],6,-145523070),s=Qr(s,e,i,r,t[11],10,-1120210379),r=Qr(r,s,e,i,t[2],15,718787259),i=Qr(i,r,s,e,t[9],21,-343485551),n[0]=Zu(e,n[0]),n[1]=Zu(i,n[1]),n[2]=Zu(r,n[2]),n[3]=Zu(s,n[3])}function A0(n,t,e,i,r,s){return t=Zu(Zu(t,n),Zu(i,s)),Zu(t<<r|t>>>32-r,e)}function Kr(n,t,e,i,r,s,o){return A0(t&e|~t&i,n,t,r,s,o)}function Xr(n,t,e,i,r,s,o){return A0(t&i|e&~i,n,t,r,s,o)}function $r(n,t,e,i,r,s,o){return A0(t^e^i,n,t,r,s,o)}function Qr(n,t,e,i,r,s,o){return A0(e^(t|~i),n,t,r,s,o)}function V3(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)o2(i,O8(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(o2(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,o2(i,r),i}function O8(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Xd=De.atob.bind(De),cy=De.btoa.bind(De);var Jw="0123456789abcdef".split("");function M8(n){for(var t="",e=0;e<4;e++)t+=Jw[n>>8*e+4&15]+Jw[n>>8*e&15];return t}function j8(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function hy(n){return V3(n).map(j8).join("")}var F8=function(n){for(var t=0;t<n.length;t++)n[t]=M8(n[t]);return n.join("")}(V3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zu(n,t){if(F8){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fy(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var p=u[c];f=(f+p+o.charCodeAt(c))%256,u[c]=u[f],u[f]=p}e=n,i=u}else u=i;var y=t.length,w=0,_=0,E="";for(c=0;c<y;c++)_=(_+(p=u[w=(w+1)%256]))%256,u[w]=u[_],u[_]=p,o=u[(u[w]+u[_])%256],E+=String.fromCharCode(t.charCodeAt(c)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zw={print:4,modify:8,copy:16,"annot-forms":32};function sf(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(Zw.perm!==void 0)throw new Error("Invalid permission: "+u);r+=Zw[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=hy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=fy(this.encryptionKey,this.padding)}function af(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function tA(n){if(Vn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(u){De.console&&$n.error("jsPDF PubSub Error",u.message,u)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Um(n){if(!(this instanceof Um))return new Um(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function U3(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function th(n,t,e,i,r){if(!(this instanceof th))return new th(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,U3.call(this,i,r)}function lf(n,t,e,i,r){if(!(this instanceof lf))return new lf(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,U3.call(this,i,r)}function Pe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],u=1,c=16,f="S",p=null;Vn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,w={},_={internal:{},__private__:{}};_.__private__.PubSub=tA;var E="1.3",N=_.__private__.getPdfVersion=function(){return E};_.__private__.setPdfVersion=function(S){E=S};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return R};var C=_.__private__.getPageFormat=function(S){return R[S]};r=r||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},G=O.COMPAT;function et(){this.saveGraphicsState(),ot(new le(oe,0,0,-oe,0,mr()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),f="n",G=O.ADVANCED}function tt(){this.restoreGraphicsState(),f="S",G=O.COMPAT}var mt=_.__private__.combineFontStyleAndFontWeight=function(S,V){if(S=="bold"&&V=="normal"||S=="bold"&&V==400||S=="normal"&&V=="italic"||S=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(S=V==400||V==="normal"?S==="italic"?"italic":"normal":V!=700&&V!=="bold"||S!=="normal"?(V==700?"bold":V)+""+S:"bold"),S};_.advancedAPI=function(S){var V=G===O.COMPAT;return V&&et.call(this),typeof S!="function"||(S(this),V&&tt.call(this)),this},_.compatAPI=function(S){var V=G===O.ADVANCED;return V&&tt.call(this),typeof S!="function"||(S(this),V&&et.call(this)),this},_.isAdvancedAPI=function(){return G===O.ADVANCED};var z,P=function(S){if(G!==O.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=_.roundToPrecision=_.__private__.roundToPrecision=function(S,V){var rt=t||V;if(isNaN(S)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(rt).replace(/0+$/,"")};z=_.hpf=_.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,16)};var X=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return U(S,2)},L=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return U(S,3)},D=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return G===O.COMPAT?S*oe:G===O.ADVANCED?S:void 0},F=function(S){return G===O.COMPAT?mr()-S:G===O.ADVANCED?S:void 0},at=function(S){return D(F(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var wt,nt="00000000000000000000000000000000",ct=_.__private__.getFileId=function(){return nt},ft=_.__private__.setFileId=function(S){return nt=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():nt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Dn=new sf(p.userPermissions,p.userPassword,p.ownerPassword,nt)),nt};_.setFileId=function(S){return ft(S),this},_.getFileId=function(){return ct()};var Tt=_.__private__.convertDateToPDFDate=function(S){var V=S.getTimezoneOffset(),rt=V<0?"+":"-",dt=Math.floor(Math.abs(V/60)),bt=Math.abs(V%60),jt=[rt,Z(dt),"'",Z(bt),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),jt].join("")},Q=_.__private__.convertPDFDateToDate=function(S){var V=parseInt(S.substr(2,4),10),rt=parseInt(S.substr(6,2),10)-1,dt=parseInt(S.substr(8,2),10),bt=parseInt(S.substr(10,2),10),jt=parseInt(S.substr(12,2),10),Kt=parseInt(S.substr(14,2),10);return new Date(V,rt,dt,bt,jt,Kt,0)},St=_.__private__.setCreationDate=function(S){var V;if(S===void 0&&(S=new Date),S instanceof Date)V=Tt(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=S}return wt=V},j=_.__private__.getCreationDate=function(S){var V=wt;return S==="jsDate"&&(V=Q(wt)),V};_.setCreationDate=function(S){return St(S),this},_.getCreationDate=function(S){return j(S)};var W,Z=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},st=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},lt=0,Nt=[],Et=[],kt=0,Jt=[],$t=[],ne=!1,te=Et,we=function(){lt=0,kt=0,Et=[],Nt=[],Jt=[],Sr=ai(),Wi=ai()};_.__private__.setCustomOutputDestination=function(S){ne=!0,te=S};var Ft=function(S){ne||(te=S)};_.__private__.resetCustomOutputDestination=function(){ne=!1,te=Et};var ot=_.__private__.out=function(S){return S=S.toString(),kt+=S.length+1,te.push(S),te},Se=_.__private__.write=function(S){return ot(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},he=_.__private__.getArrayBuffer=function(S){for(var V=S.length,rt=new ArrayBuffer(V),dt=new Uint8Array(rt);V--;)dt[V]=S.charCodeAt(V);return rt},Qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Qt};var Zt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return Zt=G===O.ADVANCED?S/oe:S,this};var se,ae=_.__private__.getFontSize=_.getFontSize=function(){return G===O.COMPAT?Zt:Zt*oe},ve=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return ve=S,this},_.__private__.getR2L=_.getR2L=function(){return ve};var Ie,Fe=_.__private__.setZoomMode=function(S){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))se=S;else if(isNaN(S)){if(V.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');se=S}else se=parseInt(S,10)};_.__private__.getZoomMode=function(){return se};var _e,ge=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ie=S};_.__private__.getPageMode=function(){return Ie};var He=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');_e=S};_.__private__.getLayoutMode=function(){return _e},_.__private__.setDisplayMode=_.setDisplayMode=function(S,V,rt){return Fe(S),He(V),ge(rt),this};var fe={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fe[S]},_.__private__.getDocumentProperties=function(){return fe},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var V in fe)fe.hasOwnProperty(V)&&S[V]&&(fe[V]=S[V]);return this},_.__private__.setDocumentProperty=function(S,V){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fe[S]=V};var We,oe,ri,Ke,tr,Je={},Nn={},hr=[],ln={},Fs={},Un={},Ii={},er=null,zn=0,xe=[],un=new tA(_),Dr=n.hotfixes||[],si={},nr={},as=[],le=function S(V,rt,dt,bt,jt,Kt){if(!(this instanceof S))return new S(V,rt,dt,bt,jt,Kt);isNaN(V)&&(V=1),isNaN(rt)&&(rt=0),isNaN(dt)&&(dt=0),isNaN(bt)&&(bt=1),isNaN(jt)&&(jt=0),isNaN(Kt)&&(Kt=0),this._matrix=[V,rt,dt,bt,jt,Kt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(S)},le.prototype.multiply=function(S){var V=S.sx*this.sx+S.shy*this.shx,rt=S.sx*this.shy+S.shy*this.sy,dt=S.shx*this.sx+S.sy*this.shx,bt=S.shx*this.shy+S.sy*this.sy,jt=S.tx*this.sx+S.ty*this.shx+this.tx,Kt=S.tx*this.shy+S.ty*this.sy+this.ty;return new le(V,rt,dt,bt,jt,Kt)},le.prototype.decompose=function(){var S=this.sx,V=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,jt=this.ty,Kt=Math.sqrt(S*S+V*V),ie=(S/=Kt)*rt+(V/=Kt)*dt;rt-=S*ie,dt-=V*ie;var m=Math.sqrt(rt*rt+dt*dt);return ie/=m,S*(dt/=m)<V*(rt/=m)&&(S=-S,V=-V,ie=-ie,Kt=-Kt),{scale:new le(Kt,0,0,m,0,0),translate:new le(1,0,0,1,bt,jt),rotate:new le(S,V,-V,S,0,0),skew:new le(1,0,ie,1,0,0)}},le.prototype.toString=function(S){return this.join(" ")},le.prototype.inversed=function(){var S=this.sx,V=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,jt=this.ty,Kt=1/(S*dt-V*rt),ie=dt*Kt,m=-V*Kt,T=-rt*Kt,k=S*Kt;return new le(ie,m,T,k,-ie*bt-T*jt,-m*bt-k*jt)},le.prototype.applyToPoint=function(S){var V=S.x*this.sx+S.y*this.shx+this.tx,rt=S.x*this.shy+S.y*this.sy+this.ty;return new qa(V,rt)},le.prototype.applyToRectangle=function(S){var V=this.applyToPoint(S),rt=this.applyToPoint(new qa(S.x+S.w,S.y+S.h));return new To(V.x,V.y,rt.x-V.x,rt.y-V.y)},le.prototype.clone=function(){var S=this.sx,V=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,jt=this.ty;return new le(S,V,rt,dt,bt,jt)},_.Matrix=le;var Rn=_.matrixMult=function(S,V){return V.multiply(S)},Cn=new le(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Cn;var Kn=function(S,V){if(!Fs[S]){var rt=(V instanceof th?"Sh":"P")+(Object.keys(ln).length+1).toString(10);V.id=rt,Fs[S]=rt,ln[rt]=V,un.publish("addPattern",V)}};_.ShadingPattern=th,_.TilingPattern=lf,_.addShadingPattern=function(S,V){return P("addShadingPattern()"),Kn(S,V),this},_.beginTilingPattern=function(S){P("beginTilingPattern()"),_a(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,V){P("endTilingPattern()"),V.stream=$t[W].join(`
`),Kn(S,V),un.publish("endTilingPattern",V),as.pop().restore()};var Zn=_.__private__.newObject=function(){var S=ai();return _i(S,!0),S},ai=_.__private__.newObjectDeferred=function(){return lt++,Nt[lt]=function(){return kt},lt},_i=function(S,V){return V=typeof V=="boolean"&&V,Nt[S]=kt,V&&ot(S+" 0 obj"),S},Ma=_.__private__.newAdditionalObject=function(){var S={objId:ai(),content:""};return Jt.push(S),S},Sr=ai(),Wi=ai(),Li=_.__private__.decodeColorString=function(S){var V=S.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var rt=parseFloat(V[0]);V=[rt,rt,rt,"r"]}for(var dt="#",bt=0;bt<3;bt++)dt+=("0"+Math.floor(255*parseFloat(V[bt])).toString(16)).slice(-2);return dt},bi=_.__private__.encodeColorString=function(S){var V;typeof S=="string"&&(S={ch1:S});var rt=S.ch1,dt=S.ch2,bt=S.ch3,jt=S.ch4,Kt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var ie=new B3(rt);if(ie.ok)rt=ie.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var m=parseInt(rt.substr(1),16);rt=m>>16&255,dt=m>>8&255,bt=255&m}if(dt===void 0||jt===void 0&&rt===dt&&dt===bt)if(typeof rt=="string")V=rt+" "+Kt[0];else switch(S.precision){case 2:V=X(rt/255)+" "+Kt[0];break;case 3:default:V=L(rt/255)+" "+Kt[0]}else if(jt===void 0||Vn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return V=["1.","1.","1.",Kt[1]].join(" ");if(typeof rt=="string")V=[rt,dt,bt,Kt[1]].join(" ");else switch(S.precision){case 2:V=[X(rt/255),X(dt/255),X(bt/255),Kt[1]].join(" ");break;default:case 3:V=[L(rt/255),L(dt/255),L(bt/255),Kt[1]].join(" ")}}else if(typeof rt=="string")V=[rt,dt,bt,jt,Kt[2]].join(" ");else switch(S.precision){case 2:V=[X(rt),X(dt),X(bt),X(jt),Kt[2]].join(" ");break;case 3:default:V=[L(rt),L(dt),L(bt),L(jt),Kt[2]].join(" ")}return V},Pi=_.__private__.getFilters=function(){return o},qn=_.__private__.putStream=function(S){var V=(S=S||{}).data||"",rt=S.filters||Pi(),dt=S.alreadyAppliedFilters||[],bt=S.addLength1||!1,jt=V.length,Kt=S.objectId,ie=function(Re){return Re};if(p!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ie=Dn.encryptor(Kt,0));var m={};rt===!0&&(rt=["FlateEncode"]);var T=S.additionalKeyValues||[],k=(m=Pe.API.processDataByFilters!==void 0?Pe.API.processDataByFilters(V,rt):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(m.data.length!==0&&(T.push({key:"Length",value:m.data.length}),bt===!0&&T.push({key:"Length1",value:jt})),k.length!=0)if(k.split("/").length-1==1)T.push({key:"Filter",value:k});else{T.push({key:"Filter",value:"["+k+"]"});for(var K=0;K<T.length;K+=1)if(T[K].key==="DecodeParms"){for(var _t=[],Lt=0;Lt<m.reverseChain.split("/").length-1;Lt+=1)_t.push("null");_t.push(T[K].value),T[K].value="["+_t.join(" ")+"]"}}ot("<<");for(var Xt=0;Xt<T.length;Xt++)ot("/"+T[Xt].key+" "+T[Xt].value);ot(">>"),m.data.length!==0&&(ot("stream"),ot(ie(m.data)),ot("endstream"))},bn=_.__private__.putPage=function(S){var V=S.number,rt=S.data,dt=S.objId,bt=S.contentsObjId;_i(dt,!0),ot("<</Type /Page"),ot("/Parent "+S.rootDictionaryObjId+" 0 R"),ot("/Resources "+S.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(z(S.mediaBox.bottomLeftX))+" "+parseFloat(z(S.mediaBox.bottomLeftY))+" "+z(S.mediaBox.topRightX)+" "+z(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ot("/CropBox ["+z(S.cropBox.bottomLeftX)+" "+z(S.cropBox.bottomLeftY)+" "+z(S.cropBox.topRightX)+" "+z(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ot("/BleedBox ["+z(S.bleedBox.bottomLeftX)+" "+z(S.bleedBox.bottomLeftY)+" "+z(S.bleedBox.topRightX)+" "+z(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ot("/TrimBox ["+z(S.trimBox.bottomLeftX)+" "+z(S.trimBox.bottomLeftY)+" "+z(S.trimBox.topRightX)+" "+z(S.trimBox.topRightY)+"]"),S.artBox!==null&&ot("/ArtBox ["+z(S.artBox.bottomLeftX)+" "+z(S.artBox.bottomLeftY)+" "+z(S.artBox.topRightX)+" "+z(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ot("/UserUnit "+S.userUnit),un.publish("putPage",{objId:dt,pageContext:xe[V],pageNumber:V,page:rt}),ot("/Contents "+bt+" 0 R"),ot(">>"),ot("endobj");var jt=rt.join(`
`);return G===O.ADVANCED&&(jt+=`
Q`),_i(bt,!0),qn({data:jt,filters:Pi(),objectId:bt}),ot("endobj"),dt},Bs=_.__private__.putPages=function(){var S,V,rt=[];for(S=1;S<=zn;S++)xe[S].objId=ai(),xe[S].contentsObjId=ai();for(S=1;S<=zn;S++)rt.push(bn({number:S,data:$t[S],objId:xe[S].objId,contentsObjId:xe[S].contentsObjId,mediaBox:xe[S].mediaBox,cropBox:xe[S].cropBox,bleedBox:xe[S].bleedBox,trimBox:xe[S].trimBox,artBox:xe[S].artBox,userUnit:xe[S].userUnit,rootDictionaryObjId:Sr,resourceDictionaryObjId:Wi}));_i(Sr,!0),ot("<</Type /Pages");var dt="/Kids [";for(V=0;V<zn;V++)dt+=rt[V]+" 0 R ";ot(dt+"]"),ot("/Count "+zn),ot(">>"),ot("endobj"),un.publish("postPutPages")},Vs=function(S){un.publish("putFont",{font:S,out:ot,newObject:Zn,putStream:qn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Zn(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+af(S.postScriptName)),ot("/Subtype /Type1"),typeof S.encoding=="string"&&ot("/Encoding /"+S.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},fr=function(){for(var S in Je)Je.hasOwnProperty(S)&&(y===!1||y===!0&&w.hasOwnProperty(S))&&Vs(Je[S])},Or=function(S){S.objectNumber=Zn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[z(S.x),z(S.y),z(S.x+S.width),z(S.y+S.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var rt=S.pages[1].join(`
`);qn({data:rt,additionalKeyValues:V,objectId:S.objectNumber}),ot("endobj")},ja=function(){for(var S in si)si.hasOwnProperty(S)&&Or(si[S])},pl=function(S,V){var rt,dt=[],bt=1/(V-1);for(rt=0;rt<1;rt+=bt)dt.push(rt);if(dt.push(1),S[0].offset!=0){var jt={offset:0,color:S[0].color};S.unshift(jt)}if(S[S.length-1].offset!=1){var Kt={offset:1,color:S[S.length-1].color};S.push(Kt)}for(var ie="",m=0,T=0;T<dt.length;T++){for(rt=dt[T];rt>S[m+1].offset;)m++;var k=S[m].offset,K=(rt-k)/(S[m+1].offset-k),_t=S[m].color,Lt=S[m+1].color;ie+=st(Math.round((1-K)*_t[0]+K*Lt[0]).toString(16))+st(Math.round((1-K)*_t[1]+K*Lt[1]).toString(16))+st(Math.round((1-K)*_t[2]+K*Lt[2]).toString(16))}return ie.trim()},Fa=function(S,V){V||(V=21);var rt=Zn(),dt=pl(S.colors,V),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+V+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:dt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),ot("endobj"),S.objectNumber=Zn(),ot("<< /ShadingType "+S.type),ot("/ColorSpace /DeviceRGB");var jt="/Coords ["+z(parseFloat(S.coords[0]))+" "+z(parseFloat(S.coords[1]))+" ";S.type===2?jt+=z(parseFloat(S.coords[2]))+" "+z(parseFloat(S.coords[3])):jt+=z(parseFloat(S.coords[2]))+" "+z(parseFloat(S.coords[3]))+" "+z(parseFloat(S.coords[4]))+" "+z(parseFloat(S.coords[5])),ot(jt+="]"),S.matrix&&ot("/Matrix ["+S.matrix.toString()+"]"),ot("/Function "+rt+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},ou=function(S,V){var rt=ai(),dt=Zn();V.push({resourcesOid:rt,objectOid:dt}),S.objectNumber=dt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+S.boundingBox.map(z).join(" ")+"]"}),bt.push({key:"XStep",value:z(S.xStep)}),bt.push({key:"YStep",value:z(S.yStep)}),bt.push({key:"Resources",value:rt+" 0 R"}),S.matrix&&bt.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qn({data:S.stream,additionalKeyValues:bt,objectId:S.objectNumber}),ot("endobj")},os=function(S){var V;for(V in ln)ln.hasOwnProperty(V)&&(ln[V]instanceof th?Fa(ln[V]):ln[V]instanceof lf&&ou(ln[V],S))},ls=function(S){for(var V in S.objectNumber=Zn(),ot("<<"),S)switch(V){case"opacity":ot("/ca "+X(S[V]));break;case"stroke-opacity":ot("/CA "+X(S[V]))}ot(">>"),ot("endobj")},ki=function(){var S;for(S in Un)Un.hasOwnProperty(S)&&ls(Un[S])},Us=function(){for(var S in ot("/XObject <<"),si)si.hasOwnProperty(S)&&si[S].objectNumber>=0&&ot("/"+S+" "+si[S].objectNumber+" 0 R");un.publish("putXobjectDict"),ot(">>")},lu=function(){Dn.oid=Zn(),ot("<<"),ot("/Filter /Standard"),ot("/V "+Dn.v),ot("/R "+Dn.r),ot("/U <"+Dn.toHexString(Dn.U)+">"),ot("/O <"+Dn.toHexString(Dn.O)+">"),ot("/P "+Dn.P),ot(">>"),ot("endobj")},ps=function(){for(var S in ot("/Font <<"),Je)Je.hasOwnProperty(S)&&(y===!1||y===!0&&w.hasOwnProperty(S))&&ot("/"+S+" "+Je[S].objectNumber+" 0 R");ot(">>")},_o=function(){if(Object.keys(ln).length>0){for(var S in ot("/Shading <<"),ln)ln.hasOwnProperty(S)&&ln[S]instanceof th&&ln[S].objectNumber>=0&&ot("/"+S+" "+ln[S].objectNumber+" 0 R");un.publish("putShadingPatternDict"),ot(">>")}},zs=function(S){if(Object.keys(ln).length>0){for(var V in ot("/Pattern <<"),ln)ln.hasOwnProperty(V)&&ln[V]instanceof _.TilingPattern&&ln[V].objectNumber>=0&&ln[V].objectNumber<S&&ot("/"+V+" "+ln[V].objectNumber+" 0 R");un.publish("putTilingPatternDict"),ot(">>")}},gl=function(){if(Object.keys(Un).length>0){var S;for(S in ot("/ExtGState <<"),Un)Un.hasOwnProperty(S)&&Un[S].objectNumber>=0&&ot("/"+S+" "+Un[S].objectNumber+" 0 R");un.publish("putGStateDict"),ot(">>")}},Hn=function(S){_i(S.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ps(),_o(),zs(S.objectOid),gl(),Us(),ot(">>"),ot("endobj")},Gi=function(){var S=[];fr(),ki(),ja(),os(S),un.publish("putResources"),S.forEach(Hn),Hn({resourcesOid:Wi,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},bo=function(){un.publish("putAdditionalObjects");for(var S=0;S<Jt.length;S++){var V=Jt[S];_i(V.objId,!0),ot(V.content),ot("endobj")}un.publish("postPutAdditionalObjects")},uu=function(S){Nn[S.fontName]=Nn[S.fontName]||{},Nn[S.fontName][S.fontStyle]=S.id},ca=function(S,V,rt,dt,bt){var jt={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:S,fontName:V,fontStyle:rt,encoding:dt,isStandardFont:bt||!1,metadata:{}};return un.publish("addFont",{font:jt,instance:this}),Je[jt.id]=jt,uu(jt),jt.id},ml=function(S){for(var V=0,rt=Qt.length;V<rt;V++){var dt=ca.call(this,S[V][0],S[V][1],S[V][2],Qt[V][3],!0);y===!1&&(w[dt]=!0);var bt=S[V][0].split("-");uu({id:dt,fontName:bt[0],fontStyle:bt[1]||""})}un.publish("addFonts",{fonts:Je,dictionary:Nn})},ir=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(dt){var V=dt.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var rt="Error in function "+V.split(`
`)[0].split("<")[0]+": "+dt.message;if(!De.console)throw new Error(rt);De.console.error(rt,dt),De.alert&&alert(rt)}},S.foo.bar=S,S.foo},wo=function(S,V){var rt,dt,bt,jt,Kt,ie,m,T,k;if(bt=(V=V||{}).sourceEncoding||"Unicode",Kt=V.outputEncoding,(V.autoencode||Kt)&&Je[We].metadata&&Je[We].metadata[bt]&&Je[We].metadata[bt].encoding&&(jt=Je[We].metadata[bt].encoding,!Kt&&Je[We].encoding&&(Kt=Je[We].encoding),!Kt&&jt.codePages&&(Kt=jt.codePages[0]),typeof Kt=="string"&&(Kt=jt[Kt]),Kt)){for(m=!1,ie=[],rt=0,dt=S.length;rt<dt;rt++)(T=Kt[S.charCodeAt(rt)])?ie.push(String.fromCharCode(T)):ie.push(S[rt]),ie[rt].charCodeAt(0)>>8&&(m=!0);S=ie.join("")}for(rt=S.length;m===void 0&&rt!==0;)S.charCodeAt(rt-1)>>8&&(m=!0),rt--;if(!m)return S;for(ie=V.noBOM?[]:[254,255],rt=0,dt=S.length;rt<dt;rt++){if((k=(T=S.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(k),ie.push(T-(k<<8))}return String.fromCharCode.apply(void 0,ie)},dn=_.__private__.pdfEscape=_.pdfEscape=function(S,V){return wo(S,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rr=_.__private__.beginPage=function(S){$t[++zn]=[],xe[zn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},gs(zn),Ft($t[W])},ha=function(S,V){var rt,dt,bt;switch(e=V||e,typeof S=="string"&&(rt=C(S.toLowerCase()),Array.isArray(rt)&&(dt=rt[0],bt=rt[1])),Array.isArray(S)&&(dt=S[0]*oe,bt=S[1]*oe),isNaN(dt)&&(dt=r[0],bt=r[1]),(dt>14400||bt>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),bt=Math.min(14400,bt)),r=[dt,bt],e.substr(0,1)){case"l":bt>dt&&(r=[bt,dt]);break;case"p":dt>bt&&(r=[bt,dt])}rr(r),bl(ga),ot(sr),wl!==0&&ot(wl+" J"),za!==0&&ot(za+" j"),un.publish("addPage",{pageNumber:zn})},fa=function(S){S>0&&S<=zn&&($t.splice(S,1),xe.splice(S,1),zn--,W>zn&&(W=zn),this.setPage(W))},gs=function(S){S>0&&S<=zn&&(W=S)},wn=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return $t.length-1},da=function(S,V,rt){var dt,bt=void 0;return rt=rt||{},S=S!==void 0?S:Je[We].fontName,V=V!==void 0?V:Je[We].fontStyle,dt=S.toLowerCase(),Nn[dt]!==void 0&&Nn[dt][V]!==void 0?bt=Nn[dt][V]:Nn[S]!==void 0&&Nn[S][V]!==void 0?bt=Nn[S][V]:rt.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+S+"', '"+V+"'. Refer to getFontList() for available fonts."),bt||rt.noFallback||(bt=Nn.times[V])==null&&(bt=Nn.times.normal),bt},Mr=_.__private__.putInfo=function(){var S=Zn(),V=function(dt){return dt};for(var rt in p!==null&&(V=Dn.encryptor(S,0)),ot("<<"),ot("/Producer ("+dn(V("jsPDF "+Pe.version))+")"),fe)fe.hasOwnProperty(rt)&&fe[rt]&&ot("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+dn(V(fe[rt]))+")");ot("/CreationDate ("+dn(V(wt))+")"),ot(">>"),ot("endobj")},qs=_.__private__.putCatalog=function(S){var V=(S=S||{}).rootDictionaryObjId||Sr;switch(Zn(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+V+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+se;rt.substr(rt.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+X(se)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}Ie&&ot("/PageMode /"+Ie),un.publish("putCatalog"),ot(">>"),ot("endobj")},cu=_.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(lt+1)),ot("/Root "+lt+" 0 R"),ot("/Info "+(lt-1)+" 0 R"),p!==null&&ot("/Encrypt "+Dn.oid+" 0 R"),ot("/ID [ <"+nt+"> <"+nt+"> ]"),ot(">>")},yl=_.__private__.putHeader=function(){ot("%PDF-"+E),ot("%ºß¬à")},vl=_.__private__.putXRef=function(){var S="0000000000";ot("xref"),ot("0 "+(lt+1)),ot("0000000000 65535 f ");for(var V=1;V<=lt;V++)typeof Nt[V]=="function"?ot((S+Nt[V]()).slice(-10)+" 00000 n "):Nt[V]!==void 0?ot((S+Nt[V]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},Hs=_.__private__.buildDocument=function(){we(),Ft(Et),un.publish("buildDocument"),yl(),Bs(),bo(),Gi(),p!==null&&lu(),Mr(),qs();var S=kt;return vl(),cu(),ot("startxref"),ot(""+S),ot("%%EOF"),Ft($t[W]),Et.join(`
`)},Ao=_.__private__.getBlob=function(S){return new Blob([he(S)],{type:"application/pdf"})},Ws=_.output=_.__private__.output=ir(function(S,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",S){case void 0:return Hs();case"save":_.save(V.filename);break;case"arraybuffer":return he(Hs());case"blob":return Ao(Hs());case"bloburi":case"bloburl":if(De.URL!==void 0&&typeof De.URL.createObjectURL=="function")return De.URL&&De.URL.createObjectURL(Ao(Hs()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",dt=Hs();try{rt=cy(dt)}catch{rt=cy(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+V.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(De)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(bt=V.pdfObjectUrl,jt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ie=De.open();return ie!==null&&ie.document.write(Kt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(De)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',T=De.open();if(T!==null){T.document.write(m);var k=this;T.document.documentElement.querySelector("#pdfViewer").onload=function(){T.document.title=V.filename,T.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return T}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(De)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var K='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',_t=De.open();if(_t!==null&&(_t.document.write(K),_t.document.title=V.filename),_t||typeof safari>"u")return _t;break;case"datauri":case"dataurl":return De.document.location.href=this.output("datauristring",V);default:return null}}),ms=function(S){return Array.isArray(Dr)===!0&&Dr.indexOf(S)>-1};switch(i){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);oe=i}var Dn=null;St(),ft();var Gs=function(S){return p!==null?Dn.encryptor(S,0):function(V){return V}},ys=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[S].objId,pageNumber:S,pageContext:xe[S]}},Ne=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in xe)if(xe[V].objId===S)break;return ys(V)},vs=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:xe[W].objId,pageNumber:W,pageContext:xe[W]}};_.addPage=function(){return ha.apply(this,arguments),this},_.setPage=function(){return gs.apply(this,arguments),Ft.call(this,$t[W]),this},_.insertPage=function(S){return this.addPage(),this.movePage(W,S),this},_.movePage=function(S,V){var rt,dt;if(S>V){rt=$t[S],dt=xe[S];for(var bt=S;bt>V;bt--)$t[bt]=$t[bt-1],xe[bt]=xe[bt-1];$t[V]=rt,xe[V]=dt,this.setPage(V)}else if(S<V){rt=$t[S],dt=xe[S];for(var jt=S;jt<V;jt++)$t[jt]=$t[jt+1],xe[jt]=xe[jt+1];$t[V]=rt,xe[V]=dt,this.setPage(V)}return this},_.deletePage=function(){return fa.apply(this,arguments),this},_.__private__.text=_.text=function(S,V,rt,dt,bt){var jt,Kt,ie,m,T,k,K,_t,Lt,Xt=(dt=dt||{}).scope||this;if(typeof S=="number"&&typeof V=="number"&&(typeof rt=="string"||Array.isArray(rt))){var Re=rt;rt=V,V=S,S=Re}if(arguments[3]instanceof le?(P("The transform parameter of text() with a Matrix value"),Lt=bt):(ie=arguments[4],m=arguments[5],Vn(K=arguments[3])==="object"&&K!==null||(typeof ie=="string"&&(m=ie,ie=null),typeof K=="string"&&(m=K,K=null),typeof K=="number"&&(ie=K,K=null),dt={flags:K,angle:ie,align:m})),isNaN(V)||isNaN(rt)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Xt;var rn="",Be=!1,An=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:nn,In=Xt.internal.scaleFactor;function As(Ze){return Ze=Ze.split("	").join(Array(dt.TabLen||9).join(" ")),dn(Ze,K)}function hi(Ze){for(var tn,Wn=Ze.concat(),fi=[],xs=Wn.length;xs--;)typeof(tn=Wn.shift())=="string"?fi.push(tn):Array.isArray(Ze)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?fi.push(tn[0]):fi.push([tn[0],tn[1],tn[2]]);return fi}function Vr(Ze,tn){var Wn;if(typeof Ze=="string")Wn=tn(Ze)[0];else if(Array.isArray(Ze)){for(var fi,xs,Mo=Ze.concat(),jo=[],Ka=Mo.length;Ka--;)typeof(fi=Mo.shift())=="string"?jo.push(tn(fi)[0]):Array.isArray(fi)&&typeof fi[0]=="string"&&(xs=tn(fi[0],fi[1],fi[2]),jo.push([xs[0],xs[1],xs[2]]));Wn=jo}return Wn}var wa=!1,No=!0;if(typeof S=="string")wa=!0;else if(Array.isArray(S)){var pu=S.concat();Kt=[];for(var Al,Di=pu.length;Di--;)(typeof(Al=pu.shift())!="string"||Array.isArray(Al)&&typeof Al[0]!="string")&&(No=!1);wa=No}if(wa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ro=Zt/Xt.internal.scaleFactor,Sl=Ro*(An-1);switch(dt.baseline){case"bottom":rt-=Sl;break;case"top":rt+=Ro-Sl;break;case"hanging":rt+=Ro-2*Sl;break;case"middle":rt+=Ro/2-Sl}if((k=dt.maxWidth||0)>0&&(typeof S=="string"?S=Xt.splitTextToSize(S,k):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Ze,tn){return Ze.concat(Xt.splitTextToSize(tn,k))},[]))),jt={text:S,x:V,y:rt,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("preProcessText",jt),S=jt.text,ie=(dt=jt.options).angle,!(Lt instanceof le)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),G===O.ADVANCED&&(ie=-ie);var xl=Math.cos(ie),gu=Math.sin(ie);Lt=new le(xl,gu,-gu,xl,0,0)}else ie&&ie instanceof le&&(Lt=ie);G!==O.ADVANCED||Lt||(Lt=Cn),(T=dt.charSpace||Ua)!==void 0&&(rn+=z(D(T))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_t=dt.horizontalScale)!==void 0&&(rn+=z(100*_t)+` Tz
`),dt.lang;var Ur=-1,Ff=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,Tc=Xt.internal.getCurrentPageInfo().pageContext;switch(Ff){case 0:case!1:case"fill":Ur=0;break;case 1:case!0:case"stroke":Ur=1;break;case 2:case"fillThenStroke":Ur=2;break;case 3:case"invisible":Ur=3;break;case 4:case"fillAndAddForClipping":Ur=4;break;case 5:case"strokeAndAddPathForClipping":Ur=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ur=6;break;case 7:case"addToPathForClipping":Ur=7}var wh=Tc.usedRenderingMode!==void 0?Tc.usedRenderingMode:-1;Ur!==-1?rn+=Ur+` Tr
`:wh!==-1&&(rn+=`0 Tr
`),Ur!==-1&&(Tc.usedRenderingMode=Ur),m=dt.align||"left";var Ss,Yi=Zt*An,Co=Xt.internal.pageSize.getWidth(),Ec=Je[We];T=dt.charSpace||Ua,k=dt.maxWidth||0,K=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var Ga=[],Io=function(Ze){return Xt.getStringUnitWidth(Ze,{font:Ec,charSpace:T,fontSize:Zt,doKerning:!1})*Zt/In};if(Object.prototype.toString.call(S)==="[object Array]"){var Tr;Kt=hi(S),m!=="left"&&(Ss=Kt.map(Io));var ar,Lo=0;if(m==="right"){V-=Ss[0],S=[],Di=Kt.length;for(var zr=0;zr<Di;zr++)zr===0?(ar=gr(V),Tr=Ai(rt)):(ar=D(Lo-Ss[zr]),Tr=-Yi),S.push([Kt[zr],ar,Tr]),Lo=Ss[zr]}else if(m==="center"){V-=Ss[0]/2,S=[],Di=Kt.length;for(var $s=0;$s<Di;$s++)$s===0?(ar=gr(V),Tr=Ai(rt)):(ar=D((Lo-Ss[$s])/2),Tr=-Yi),S.push([Kt[$s],ar,Tr]),Lo=Ss[$s]}else if(m==="left"){S=[],Di=Kt.length;for(var Aa=0;Aa<Di;Aa++)S.push(Kt[Aa])}else if(m==="justify"&&Ec.encoding==="Identity-H"){S=[],Di=Kt.length,k=k!==0?k:Co;for(var Qs=0,oi=0;oi<Di;oi++)if(Tr=oi===0?Ai(rt):-Yi,ar=oi===0?gr(V):Qs,oi<Di-1){var Js=D((k-Ss[oi])/(Kt[oi].split(" ").length-1)),Si=Kt[oi].split(" ");S.push([Si[0]+" ",ar,Tr]),Qs=0;for(var qr=1;qr<Si.length;qr++){var Tl=(Io(Si[qr-1]+" "+Si[qr])-Io(Si[qr]))*In+Js;qr==Si.length-1?S.push([Si[qr],Tl,0]):S.push([Si[qr]+" ",Tl,0]),Qs-=Tl}}else S.push([Kt[oi],ar,Tr]);S.push(["",Qs,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Di=Kt.length,k=k!==0?k:Co,oi=0;oi<Di;oi++)Tr=oi===0?Ai(rt):-Yi,ar=oi===0?gr(V):0,oi<Di-1?Ga.push(z(D((k-Ss[oi])/(Kt[oi].split(" ").length-1)))):Ga.push(0),S.push([Kt[oi],ar,Tr])}}var Sa=typeof dt.R2L=="boolean"?dt.R2L:ve;Sa===!0&&(S=Vr(S,function(Ze,tn,Wn){return[Ze.split("").reverse().join(""),tn,Wn]})),jt={text:S,x:V,y:rt,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("postProcessText",jt),S=jt.text,Be=jt.mutex.isHex||!1;var mu=Je[We].encoding;mu!=="WinAnsiEncoding"&&mu!=="StandardEncoding"||(S=Vr(S,function(Ze,tn,Wn){return[As(Ze),tn,Wn]})),Kt=hi(S),S=[];for(var Po,ko,Do,El=0,yu=1,Oo=Array.isArray(Kt[0])?yu:El,Ya="",Nl=function(Ze,tn,Wn){var fi="";return Wn instanceof le?(Wn=typeof dt.angle=="number"?Rn(Wn,new le(1,0,0,1,Ze,tn)):Rn(new le(1,0,0,1,Ze,tn),Wn),G===O.ADVANCED&&(Wn=Rn(new le(1,0,0,-1,0,0),Wn)),fi=Wn.join(" ")+` Tm
`):fi=z(Ze)+" "+z(tn)+` Td
`,fi},li=0;li<Kt.length;li++){switch(Ya="",Oo){case yu:Do=(Be?"<":"(")+Kt[li][0]+(Be?">":")"),Po=parseFloat(Kt[li][1]),ko=parseFloat(Kt[li][2]);break;case El:Do=(Be?"<":"(")+Kt[li]+(Be?">":")"),Po=gr(V),ko=Ai(rt)}Ga!==void 0&&Ga[li]!==void 0&&(Ya=Ga[li]+` Tw
`),li===0?S.push(Ya+Nl(Po,ko,Lt)+Do):Oo===El?S.push(Ya+Do):Oo===yu&&S.push(Ya+Nl(Po,ko,Lt)+Do)}S=Oo===El?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var cs=`BT
/`;return cs+=We+" "+Zt+` Tf
`,cs+=z(Zt*An)+` TL
`,cs+=Ks+`
`,cs+=rn,cs+=S,ot(cs+="ET"),w[We]=!0,Xt};var hu=_.__private__.clip=_.clip=function(S){return ot(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return hu("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ot("n"),this};var dr=_.__private__.isValidStyle=function(S){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(V=!0),V};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return dr(S)&&(f=S),this};var jr=_.__private__.getStyle=_.getStyle=function(S){var V=f;switch(S){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=S}return V},xr=_.close=function(){return ot("h"),this};_.stroke=function(){return ot("S"),this},_.fill=function(S){return _s("f",S),this},_.fillEvenOdd=function(S){return _s("f*",S),this},_.fillStroke=function(S){return _s("B",S),this},_.fillStrokeEvenOdd=function(S){return _s("B*",S),this};var _s=function(S,V){Vn(V)==="object"?Ys(V,S):ot(S)},Fr=function(S){S===null||G===O.ADVANCED&&S===void 0||(S=jr(S),ot(S))};function pa(S,V,rt,dt,bt){var jt=new lf(V||this.boundingBox,rt||this.xStep,dt||this.yStep,this.gState,bt||this.matrix);jt.stream=this.stream;var Kt=S+"$$"+this.cloneIndex+++"$$";return Kn(Kt,jt),jt}var Ys=function(S,V){var rt=Fs[S.key],dt=ln[rt];if(dt instanceof th)ot("q"),ot(_l(V)),dt.gState&&_.setGState(dt.gState),ot(S.matrix.toString()+" cm"),ot("/"+rt+" sh"),ot("Q");else if(dt instanceof lf){var bt=new le(1,0,0,-1,0,mr());S.matrix&&(bt=bt.multiply(S.matrix||Cn),rt=pa.call(dt,S.key,S.boundingBox,S.xStep,S.yStep,bt).id),ot("q"),ot("/Pattern cs"),ot("/"+rt+" scn"),dt.gState&&_.setGState(dt.gState),ot(V),ot("Q")}},_l=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Br=_.moveTo=function(S,V){return ot(z(D(S))+" "+z(at(V))+" m"),this},pr=_.lineTo=function(S,V){return ot(z(D(S))+" "+z(at(V))+" l"),this},bs=_.curveTo=function(S,V,rt,dt,bt,jt){return ot([z(D(S)),z(at(V)),z(D(rt)),z(at(dt)),z(D(bt)),z(at(jt)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,V,rt,dt,bt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(dt)||!dr(bt))throw new Error("Invalid arguments passed to jsPDF.line");return G===O.COMPAT?this.lines([[rt-S,dt-V]],S,V,[1,1],bt||"S"):this.lines([[rt-S,dt-V]],S,V,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,V,rt,dt,bt,jt){var Kt,ie,m,T,k,K,_t,Lt,Xt,Re,rn,Be;if(typeof S=="number"&&(Be=rt,rt=V,V=S,S=Be),dt=dt||[1,1],jt=jt||!1,isNaN(V)||isNaN(rt)||!Array.isArray(S)||!Array.isArray(dt)||!dr(bt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Br(V,rt),Kt=dt[0],ie=dt[1],T=S.length,Re=V,rn=rt,m=0;m<T;m++)(k=S[m]).length===2?(Re=k[0]*Kt+Re,rn=k[1]*ie+rn,pr(Re,rn)):(K=k[0]*Kt+Re,_t=k[1]*ie+rn,Lt=k[2]*Kt+Re,Xt=k[3]*ie+rn,Re=k[4]*Kt+Re,rn=k[5]*ie+rn,bs(K,_t,Lt,Xt,Re,rn));return jt&&xr(),Fr(bt),this},_.path=function(S){for(var V=0;V<S.length;V++){var rt=S[V],dt=rt.c;switch(rt.op){case"m":Br(dt[0],dt[1]);break;case"l":pr(dt[0],dt[1]);break;case"c":bs.apply(this,dt);break;case"h":xr()}}return this},_.__private__.rect=_.rect=function(S,V,rt,dt,bt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(dt)||!dr(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return G===O.COMPAT&&(dt=-dt),ot([z(D(S)),z(at(V)),z(D(rt)),z(D(dt)),"re"].join(" ")),Fr(bt),this},_.__private__.triangle=_.triangle=function(S,V,rt,dt,bt,jt,Kt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(dt)||isNaN(bt)||isNaN(jt)||!dr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-S,dt-V],[bt-rt,jt-dt],[S-bt,V-jt]],S,V,[1,1],Kt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,V,rt,dt,bt,jt,Kt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(dt)||isNaN(bt)||isNaN(jt)||!dr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*rt),jt=Math.min(jt,.5*dt),this.lines([[rt-2*bt,0],[bt*ie,0,bt,jt-jt*ie,bt,jt],[0,dt-2*jt],[0,jt*ie,-bt*ie,jt,-bt,jt],[2*bt-rt,0],[-bt*ie,0,-bt,-jt*ie,-bt,-jt],[0,2*jt-dt],[0,-jt*ie,bt*ie,-jt,bt,-jt]],S+bt,V,[1,1],Kt,!0),this},_.__private__.ellipse=_.ellipse=function(S,V,rt,dt,bt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(dt)||!dr(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*rt,Kt=4/3*(Math.SQRT2-1)*dt;return Br(S+rt,V),bs(S+rt,V-Kt,S+jt,V-dt,S,V-dt),bs(S-jt,V-dt,S-rt,V-Kt,S-rt,V),bs(S-rt,V+Kt,S-jt,V+dt,S,V+dt),bs(S+jt,V+dt,S+rt,V+Kt,S+rt,V),Fr(bt),this},_.__private__.circle=_.circle=function(S,V,rt,dt){if(isNaN(S)||isNaN(V)||isNaN(rt)||!dr(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,V,rt,rt,dt)},_.setFont=function(S,V,rt){return rt&&(V=mt(V,rt)),We=da(S,V,{disableWarning:!1}),this};var wi=_.__private__.getFont=_.getFont=function(){return Je[da.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,V,rt={};for(S in Nn)if(Nn.hasOwnProperty(S))for(V in rt[S]=[],Nn[S])Nn[S].hasOwnProperty(V)&&rt[S].push(V);return rt},_.addFont=function(S,V,rt,dt,bt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(rt=mt(rt,dt)),bt=bt||"Identity-H",ca.call(this,S,V,rt,bt)};var nn,ga=n.lineWidth||.200025,ws=_.__private__.getLineWidth=_.getLineWidth=function(){return ga},bl=_.__private__.setLineWidth=_.setLineWidth=function(S){return ga=S,ot(z(D(S))+" w"),this};_.__private__.setLineDash=Pe.API.setLineDash=Pe.API.setLineDashPattern=function(S,V){if(S=S||[],V=V||0,isNaN(V)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(rt){return z(D(rt))}).join(" "),V=z(D(V)),ot("["+S+"] "+V+" d"),this};var Ba=_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};var Va=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(nn=S),this},us=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return nn};Va(n.lineHeight);var gr=_.__private__.getHorizontalCoordinate=function(S){return D(S)},Ai=_.__private__.getVerticalCoordinate=function(S){return G===O.ADVANCED?S:xe[W].mediaBox.topRightY-xe[W].mediaBox.bottomLeftY-D(S)},fu=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return z(gr(S))},ma=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return z(Ai(S))},sr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Li(sr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,V,rt,dt){return sr=bi({ch1:S,ch2:V,ch3:rt,ch4:dt,pdfColorType:"draw",precision:2}),ot(sr),this};var ya=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Li(ya)},_.__private__.setFillColor=_.setFillColor=function(S,V,rt,dt){return ya=bi({ch1:S,ch2:V,ch3:rt,ch4:dt,pdfColorType:"fill",precision:2}),ot(ya),this};var Ks=n.textColor||"0 g",So=_.__private__.getTextColor=_.getTextColor=function(){return Li(Ks)};_.__private__.setTextColor=_.setTextColor=function(S,V,rt,dt){return Ks=bi({ch1:S,ch2:V,ch3:rt,ch4:dt,pdfColorType:"text",precision:3}),this};var Ua=n.charSpace,xo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Ua||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ua=S,this};var wl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var V=_.CapJoinStyles[S];if(V===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=V,ot(V+" J"),this};var za=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var V=_.CapJoinStyles[S];if(V===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=V,ot(V+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(z(D(S))+" M"),this},_.GState=Um,_.setGState=function(S){(S=typeof S=="string"?Un[Ii[S]]:va(null,S)).equals(er)||(ot("/"+S.id+" gs"),er=S)};var va=function(S,V){if(!S||!Ii[S]){var rt=!1;for(var dt in Un)if(Un.hasOwnProperty(dt)&&Un[dt].equals(V)){rt=!0;break}if(rt)V=Un[dt];else{var bt="GS"+(Object.keys(Un).length+1).toString(10);Un[bt]=V,V.id=bt}return S&&(Ii[S]=V.id),un.publish("addGState",V),V}};_.addGState=function(S,V){return va(S,V),this},_.saveGraphicsState=function(){return ot("q"),hr.push({key:We,size:Zt,color:Ks}),this},_.restoreGraphicsState=function(){ot("Q");var S=hr.pop();return We=S.key,Zt=S.size,Ks=S.color,er=null,this},_.setCurrentTransformationMatrix=function(S){return ot(S.toString()+" cm"),this},_.comment=function(S){return ot("#"+S),this};var qa=function(S,V){var rt=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(jt){isNaN(jt)||(rt=parseFloat(jt))}});var dt=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(jt){isNaN(jt)||(dt=parseFloat(jt))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(jt){bt=jt.toString()}}),this},To=function(S,V,rt,dt){qa.call(this,S,V),this.type="rect";var bt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Kt){isNaN(Kt)||(bt=parseFloat(Kt))}});var jt=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Kt){isNaN(Kt)||(jt=parseFloat(Kt))}}),this},Ha=function(){this.page=zn,this.currentPage=W,this.pages=$t.slice(0),this.pagesContext=xe.slice(0),this.x=ri,this.y=Ke,this.matrix=tr,this.width=ba(W),this.height=mr(W),this.outputDestination=te,this.id="",this.objectNumber=-1};Ha.prototype.restore=function(){zn=this.page,W=this.currentPage,xe=this.pagesContext,$t=this.pages,ri=this.x,Ke=this.y,tr=this.matrix,Wa(W,this.width),Eo(W,this.height),te=this.outputDestination};var _a=function(S,V,rt,dt,bt){as.push(new Ha),zn=W=0,$t=[],ri=S,Ke=V,tr=bt,rr([rt,dt])},du=function(S){if(nr[S])as.pop().restore();else{var V=new Ha,rt="Xo"+(Object.keys(si).length+1).toString(10);V.id=rt,nr[S]=rt,si[rt]=V,un.publish("addFormObject",V),as.pop().restore()}};for(var Xs in _.beginFormObject=function(S,V,rt,dt,bt){return _a(S,V,rt,dt,bt),this},_.endFormObject=function(S){return du(S),this},_.doFormObject=function(S,V){var rt=si[nr[S]];return ot("q"),ot(V.toString()+" cm"),ot("/"+rt.id+" Do"),ot("Q"),this},_.getFormObject=function(S){var V=si[nr[S]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},_.save=function(S,V){return S=S||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Qc(Ao(Hs()),S),typeof Qc.unload=="function"&&De.setTimeout&&setTimeout(Qc.unload,911),this):new Promise(function(rt,dt){try{var bt=Qc(Ao(Hs()),S);typeof Qc.unload=="function"&&De.setTimeout&&setTimeout(Qc.unload,911),rt(bt)}catch(jt){dt(jt.message)}})},Pe.API)Pe.API.hasOwnProperty(Xs)&&(Xs==="events"&&Pe.API.events.length?function(S,V){var rt,dt,bt;for(bt=V.length-1;bt!==-1;bt--)rt=V[bt][0],dt=V[bt][1],S.subscribe.apply(S,[rt].concat(typeof dt=="function"?[dt]:dt))}(un,Pe.API.events):_[Xs]=Pe.API[Xs]);var ba=_.getPageWidth=function(S){return(xe[S=S||W].mediaBox.topRightX-xe[S].mediaBox.bottomLeftX)/oe},Wa=_.setPageWidth=function(S,V){xe[S].mediaBox.topRightX=V*oe+xe[S].mediaBox.bottomLeftX},mr=_.getPageHeight=function(S){return(xe[S=S||W].mediaBox.topRightY-xe[S].mediaBox.bottomLeftY)/oe},Eo=_.setPageHeight=function(S,V){xe[S].mediaBox.topRightY=V*oe+xe[S].mediaBox.bottomLeftY};return _.internal={pdfEscape:dn,getStyle:jr,getFont:wi,getFontSize:ae,getCharSpace:xo,getTextColor:So,getLineHeight:Ba,getLineHeightFactor:us,getLineWidth:ws,write:Se,getHorizontalCoordinate:gr,getVerticalCoordinate:Ai,getCoordinateString:fu,getVerticalCoordinateString:ma,collections:{},newObject:Zn,newAdditionalObject:Ma,newObjectDeferred:ai,newObjectDeferredBegin:_i,getFilters:Pi,putStream:qn,events:un,scaleFactor:oe,pageSize:{getWidth:function(){return ba(W)},setWidth:function(S){Wa(W,S)},getHeight:function(){return mr(W)},setHeight:function(S){Eo(W,S)}},encryptionOptions:p,encryption:Dn,getEncryptor:Gs,output:Ws,getNumberOfPages:wn,pages:$t,out:ot,f2:X,f3:L,getPageInfo:ys,getPageInfoByObjId:Ne,getCurrentPageInfo:vs,getPDFVersion:N,Point:qa,Rectangle:To,Matrix:le,hasHotfix:ms},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return ba(W)},set:function(S){Wa(W,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return mr(W)},set:function(S){Eo(W,S)},enumerable:!0,configurable:!0}),ml.call(_,Qt),We="F1",ha(r,e),un.publish("initialized"),_}sf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},sf.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sf.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},sf.prototype.processOwnerPassword=function(n,t){return fy(hy(t).substr(0,5),n)},sf.prototype.encryptor=function(n,t){var e=hy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return fy(e,i)}},Um.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Vn(n)!==Vn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Pe.API={events:[]},Pe.version="3.0.1";var Ni=Pe.API,Fv=1,_h=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$h=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ze=function(n){return n.toFixed(2)},Wu=function(n){return n.toFixed(5)};Ni.__acroform__={};var js=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},eA=function(n){return n*Fv},Qo=function(n){var t=new q3,e=pe.internal.getHeight(n)||0,i=pe.internal.getWidth(n)||0;return t.BBox=[0,0,Number(ze(i)),Number(ze(e))],t},B8=Ni.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},V8=Ni.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},U8=Ni.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Ui=Ni.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return U8(n,t-1)},zi=Ni.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return B8(n,t-1)},qi=Ni.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return V8(n,t-1)},z8=Ni.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],u=n[3],c={};return c.lowerLeft_X=e(r)||0,c.lowerLeft_Y=i(s+u)||0,c.upperRight_X=e(r+o)||0,c.upperRight_Y=i(s)||0,[Number(ze(c.lowerLeft_X)),Number(ze(c.lowerLeft_Y)),Number(ze(c.upperRight_X)),Number(ze(c.upperRight_Y))]},q8=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=dy(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+ze(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Qo(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},dy=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(L){return L.split(`
`)}):r.map(function(L){return[L]});var s=e,o=pe.internal.getHeight(n)||0;o=o<0?-o:o;var u=pe.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(L,D,F){if(L+1<r.length){var at=D+" "+r[L+1][0];return Fg(at,n,F).width<=u-4}return!1};s++;t:for(;s>0;){t="",s--;var f,p,y=Fg("3",n,s).height,w=n.multiline?o-s:(o-y)/2,_=w+=2,E=0,N=0,R=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Fg(t,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var C="",O=0,G=0;G<r.length;G++)if(r.hasOwnProperty(G)){var et=!1;if(r[G].length!==1&&R!==r[G].length-1){if((y+2)*(O+2)+2>o)continue t;C+=r[G][R],et=!0,N=G,G--}else{C=(C+=r[G][R]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var tt=parseInt(G),mt=c(tt,C,s),z=G>=r.length-1;if(mt&&!z){C+=" ",R=0;continue}if(mt||z){if(z)N=tt;else if(n.multiline&&(y+2)*(O+2)+2>o)continue t}else{if(!n.multiline||(y+2)*(O+2)+2>o)continue t;N=tt}}for(var P="",U=E;U<=N;U++){var X=r[U];if(n.multiline){if(U===N){P+=X[R]+" ",R=(R+1)%X.length;continue}if(U===E){P+=X[X.length-1]+" ";continue}}P+=X[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,p=Fg(P,n,s).width,n.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;case"left":default:f=2}t+=ze(f)+" "+ze(_)+` Td
`,t+="("+_h(P)+`) Tj
`,t+=-ze(f)+` 0 Td
`,_=-(s+2),p=0,E=et?N:N+1,O++,C=""}break}return i.text=t,i.fontSize=s,i},Fg=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},H8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W8=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},G8=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),Vn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},Y8=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(H8)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Fv=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new H3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&W8(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],c=[],f=u.Rect;if(u.Rect&&(u.Rect=z8(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=pe.createDefaultAppearanceStream(u),Vn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=q8(u);c.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var y="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var _=u.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var o in _)if(_.hasOwnProperty(o)){var E=_[o];typeof E=="function"&&(E=E.call(r,u)),y+="/"+o+" "+E+" ",r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E)}}else typeof(E=_)=="function"&&(E=E.call(r,u)),y+="/"+o+" "+E,r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:u.objId}),r.internal.out("endobj")}s&&G8(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},z3=Ni.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),Vn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+_h(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l2=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+_h(i(n))+")"},nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nl.prototype.toString=function(){return this.objId+" 0 R"},nl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},nl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:z3(r,this.objId,this.scope)}):r instanceof nl?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var q3=function(){nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};js(q3,nl);var H3=function(){nl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+_h(e(n))+")"}},set:function(e){n=e}})};js(H3,nl);var yo=function n(){nl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ui(t,3)},set:function(C){C?this.F=zi(t,3):this.F=qi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');e=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof zm)return;s="FieldObject"+n.FieldNum++}var C=function(O){return O};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+_h(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Fv:f},set:function(C){f=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof zm||this instanceof sh))return l2(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ar?w:l2(w,this.objId,this.scope)},set:function(C){C=C.toString(),w=this instanceof Ar?C:C.substr(0,1)==="("?$h(C.substr(1,C.length-2)):$h(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar?$h(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof Ar?"/"+C:C}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ar?_:l2(_,this.objId,this.scope)},set:function(C){C=C.toString(),_=this instanceof Ar?C:C.substr(0,1)==="("?$h(C.substr(1,C.length-2)):$h(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar?$h(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof Ar?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(C){E=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,1)},set:function(C){C?this.Ff=zi(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,2)},set:function(C){C?this.Ff=zi(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,3)},set:function(C){C?this.Ff=zi(this.Ff,3):this.Ff=qi(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');R=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(R){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};js(yo,nl);var pf=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z3(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(s,o,u){u||(u=1);for(var c,f=[];c=o.exec(s);)f.push(c[u]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,18)},set:function(e){e?this.Ff=zi(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=zi(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,20)},set:function(e){e?(this.Ff=zi(this.Ff,20),t.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,22)},set:function(e){e?this.Ff=zi(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,27)},set:function(e){e?this.Ff=zi(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};js(pf,yo);var gf=function(){pf.call(this),this.fontName="helvetica",this.combo=!1};js(gf,pf);var mf=function(){gf.call(this),this.combo=!0};js(mf,gf);var hm=function(){mf.call(this),this.edit=!0};js(hm,mf);var Ar=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,15)},set:function(e){e?this.Ff=zi(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,16)},set:function(e){e?this.Ff=zi(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,17)},set:function(e){e?this.Ff=zi(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+_h(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Vn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};js(Ar,yo);var fm=function(){Ar.call(this),this.pushButton=!0};js(fm,Ar);var yf=function(){Ar.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};js(yf,Ar);var zm=function(){var n,t;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+_h(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Vn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};js(zm,yo),yf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},yf.prototype.createOption=function(n){var t=new zm;return t.Parent=this,t.optionName=n,this.Kids.push(t),K8.call(this.scope,t),t};var dm=function(){Ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};js(dm,Ar);var sh=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,13)},set:function(t){t?this.Ff=zi(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,21)},set:function(t){t?this.Ff=zi(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(t){t?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,24)},set:function(t){t?this.Ff=zi(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,25)},set:function(t){t?this.Ff=zi(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(t){t?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};js(sh,yo);var pm=function(){sh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,14)},set:function(n){n?this.Ff=zi(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};js(pm,sh);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=dy(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+ze(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Qo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=pe.internal.getHeight(n),o=pe.internal.getWidth(n),u=dy(n,n.caption);return r.push("1 g"),r.push("0 0 "+ze(o)+" "+ze(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ze(o-1)+" "+ze(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ze(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Circle.YesNormal,t.D[n]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Qo(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=pe.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Wu(pe.internal.getWidth(n)/2)+" "+Wu(pe.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5)),o=Number((i*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Wu(pe.internal.getWidth(n)/2)+" "+Wu(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Wu(pe.internal.getWidth(n)/2)+" "+Wu(pe.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Wu(pe.internal.getWidth(n)/2)+" "+Wu(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Cross.YesNormal,t.D[n]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Qo(n);t.scope=n.scope;var e=[],i=pe.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+ze(pe.internal.getWidth(n)-2)+" "+ze(pe.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(ze(i.x1.x)+" "+ze(i.x1.y)+" m"),e.push(ze(i.x2.x)+" "+ze(i.x2.y)+" l"),e.push(ze(i.x4.x)+" "+ze(i.x4.y)+" m"),e.push(ze(i.x3.x)+" "+ze(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=pe.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+ze(pe.internal.getWidth(n)-2)+" "+ze(pe.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(ze(e.x1.x)+" "+ze(e.x1.y)+" m"),i.push(ze(e.x2.x)+" "+ze(e.x2.y)+" l"),i.push(ze(e.x4.x)+" "+ze(e.x4.y)+" m"),i.push(ze(e.x3.x)+" "+ze(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Qo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=pe.internal.getWidth(n),e=pe.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},pe.internal.getWidth=function(n){var t=0;return Vn(n)==="object"&&(t=eA(n.Rect[2])),t},pe.internal.getHeight=function(n){var t=0;return Vn(n)==="object"&&(t=eA(n.Rect[3])),t};var K8=Ni.addField=function(n){if(Y8(this,n),!(n instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=pf,Ni.AcroFormListBox=gf,Ni.AcroFormComboBox=mf,Ni.AcroFormEditBox=hm,Ni.AcroFormButton=Ar,Ni.AcroFormPushButton=fm,Ni.AcroFormRadioButton=yf,Ni.AcroFormCheckBox=dm,Ni.AcroFormTextField=sh,Ni.AcroFormPasswordField=pm,Ni.AcroFormAppearance=pe,Ni.AcroForm={ChoiceField:pf,ListBox:gf,ComboBox:mf,EditBox:hm,Button:Ar,PushButton:fm,RadioButton:yf,CheckBox:dm,TextField:sh,PasswordField:pm,Appearance:pe},Pe.AcroForm={ChoiceField:pf,ListBox:gf,ComboBox:mf,EditBox:hm,Button:Ar,PushButton:fm,RadioButton:yf,CheckBox:dm,TextField:sh,PasswordField:pm,Appearance:pe};Pe.AcroForm;function W3(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,D){var F,at,wt,nt,ct,ft=t;if((D=D||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(mt(L))for(ct in e)for(wt=e[ct],F=0;F<wt.length;F+=1){for(nt=!0,at=0;at<wt[F].length;at+=1)if(wt[F][at]!==void 0&&wt[F][at]!==L[at]){nt=!1;break}if(nt===!0){ft=ct;break}}else for(ct in e)for(wt=e[ct],F=0;F<wt.length;F+=1){for(nt=!0,at=0;at<wt[F].length;at+=1)if(wt[F][at]!==void 0&&wt[F][at]!==L.charCodeAt(at)){nt=!1;break}if(nt===!0){ft=ct;break}}return ft===t&&D!==t&&(ft=D),ft},r=function L(D){for(var F=this.internal.write,at=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var nt=[];if(nt.push({key:"Type",value:"/XObject"}),nt.push({key:"Subtype",value:"/Image"}),nt.push({key:"Width",value:D.width}),nt.push({key:"Height",value:D.height}),D.colorSpace===R.INDEXED?nt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(nt.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===R.DEVICE_CMYK&&nt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),nt.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&nt.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ct="",ft=0,Tt=D.transparency.length;ft<Tt;ft++)ct+=D.transparency[ft]+" "+D.transparency[ft]+" ";nt.push({key:"Mask",value:"["+ct+"]"})}D.sMask!==void 0&&nt.push({key:"SMask",value:D.objectId+1+" 0 R"});var Q=D.filter!==void 0?["/"+D.filter]:void 0;if(at({data:D.data,additionalKeyValues:nt,alreadyAppliedFilters:Q,objectId:D.objectId}),F("endobj"),"sMask"in D&&D.sMask!==void 0){var St="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,j={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:St,data:D.sMask};"filter"in D&&(j.filter=D.filter),L.call(this,j)}if(D.colorSpace===R.INDEXED){var W=this.internal.newObject();at({data:P(new Uint8Array(D.palette)),objectId:W}),F("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var D in L)r.call(this,L[D])},o=function(){var L,D=this.internal.collections.addImage_images,F=this.internal.write;for(var at in D)F("/I"+(L=D[at]).index,L.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var L=this.internal.collections.addImage_images;return u.call(this),L},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(L){return typeof n["process"+L.toUpperCase()]=="function"},y=function(L){return Vn(L)==="object"&&L.nodeType===1},w=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var F=""+L.getAttribute("src");if(F.indexOf("data:image/")===0)return Xd(unescape(F).split("base64,").pop());var at=n.loadFile(F,!0);if(at!==void 0)return at}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var wt;switch(D){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;case"JPEG":case"JPG":default:wt="image/jpeg"}return Xd(L.toDataURL(wt,1).split("base64,").pop())}},_=function(L){var D=this.internal.collections.addImage_images;if(D){for(var F in D)if(L===D[F].alias)return D[F]}},E=function(L,D,F){return L||D||(L=-96,D=-96),L<0&&(L=-1*F.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*F.height*72/D/this.internal.scaleFactor),L===0&&(L=D*F.width/F.height),D===0&&(D=L*F.height/F.width),[L,D]},N=function(L,D,F,at,wt,nt){var ct=E.call(this,F,at,wt),ft=this.internal.getCoordinateString,Tt=this.internal.getVerticalCoordinateString,Q=c.call(this);if(F=ct[0],at=ct[1],Q[wt.index]=wt,nt){nt*=Math.PI/180;var St=Math.cos(nt),j=Math.sin(nt),W=function(st){return st.toFixed(4)},Z=[W(St),W(j),W(-1*j),W(St),0,0,"cm"]}this.internal.write("q"),nt?(this.internal.write([1,"0","0",1,ft(L),Tt(D+at),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ft(F),"0","0",ft(at),"0","0","cm"].join(" "))):this.internal.write([ft(F),"0","0",ft(at),ft(L),Tt(D+at),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=n.__addimage__.sHashCode=function(L){var D,F,at=0;if(typeof L=="string")for(F=L.length,D=0;D<F;D++)at=(at<<5)-at+L.charCodeAt(D),at|=0;else if(mt(L))for(F=L.byteLength/2,D=0;D<F;D++)at=(at<<5)-at+L[D],at|=0;return at},G=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},et=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},tt=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return tt()&&L instanceof ArrayBuffer};var mt=n.__addimage__.isArrayBufferView=function(L){return tt()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,F=new Uint8Array(D),at=0;at<D;at++)F[at]=L.charCodeAt(at);return F},P=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",F=mt(L)?L:new Uint8Array(L),at=0;at<F.length;at+=8192)D+=String.fromCharCode.apply(null,F.subarray(at,at+8192));return D};n.addImage=function(){var L,D,F,at,wt,nt,ct,ft,Tt;if(typeof arguments[1]=="number"?(D=t,F=arguments[1],at=arguments[2],wt=arguments[3],nt=arguments[4],ct=arguments[5],ft=arguments[6],Tt=arguments[7]):(D=arguments[1],F=arguments[2],at=arguments[3],wt=arguments[4],nt=arguments[5],ct=arguments[6],ft=arguments[7],Tt=arguments[8]),Vn(L=arguments[0])==="object"&&!y(L)&&"imageData"in L){var Q=L;L=Q.imageData,D=Q.format||D||t,F=Q.x||F||0,at=Q.y||at||0,wt=Q.w||Q.width||wt,nt=Q.h||Q.height||nt,ct=Q.alias||ct,ft=Q.compression||ft,Tt=Q.rotation||Q.angle||Tt}var St=this.internal.getFilters();if(ft===void 0&&St.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(F)||isNaN(at))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var j=U.call(this,L,D,ct,ft);return N.call(this,F,at,wt,nt,j,Tt),this};var U=function(L,D,F,at){var wt,nt,ct;if(typeof L=="string"&&i(L)===t){L=unescape(L);var ft=X(L,!1);(ft!==""||(ft=n.loadFile(L,!0))!==void 0)&&(L=ft)}if(y(L)&&(L=w(L,D)),D=i(L,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ct=F)==null||ct.length===0)&&(F=function(Tt){return typeof Tt=="string"||mt(Tt)?O(Tt):mt(Tt.data)?O(Tt.data):null}(L)),(wt=_.call(this,F))||(tt()&&(L instanceof Uint8Array||D==="RGBA"||(nt=L,L=z(L))),wt=this["process"+D.toUpperCase()](L,f.call(this),F,function(Tt){return Tt&&typeof Tt=="string"&&(Tt=Tt.toUpperCase()),Tt in n.image_compression?Tt:C.NONE}(at),nt)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},X=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var F,at="";if(typeof L=="string"){var wt;F=(wt=et(L))!==null&&wt!==void 0?wt:L;try{at=Xd(F)}catch(nt){if(D)throw G(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+nt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return at};n.getImageProperties=function(L){var D,F,at="";if(y(L)&&(L=w(L)),typeof L=="string"&&i(L)===t&&((at=X(L,!1))===""&&(at=n.loadFile(L)||""),L=at),F=i(L),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!tt()||L instanceof Uint8Array||(L=z(L)),!(D=this["process"+F.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=F,D}})(Pe.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Pe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,y=0;y<f.length&&!p;y++)switch((i=f[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){i=f[w];var _=this.internal.pdfEscape,E=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),O=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+_(C(i.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+_(C(O))+") >>",N.content=s;var G=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+G,i.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(N.objId,"0 R",R.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var et=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(E(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+et+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var tt=this.annotations._nameMap[i.options.name];i.options.pageNumber=tt.page,i.options.top=tt.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(E(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var mt=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+mt+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(e),y:f(i),w:c(e+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,u,c=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(e,u).length;o=Math.ceil(f*p)}else u=c,o=f;return this.text(e,i,r,s),r+=.2*f,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-f,u,o,s),c},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Pe.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=n.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&r.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var R=0,C=e,O="",G=0;for(R=0;R<N.length;R+=1)C[N.charCodeAt(R)]!==void 0?(G++,typeof(C=C[N.charCodeAt(R)])=="number"&&(O+=String.fromCharCode(C),C=e,G=0),R===N.length-1&&(C=e,O+=N.charAt(R-(G-1)),R-=G-1,G=0)):(C=e,O+=N.charAt(R-G),R-=G,G=0);return O};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(N,R,C){return o(N)?s(N)===!1?-1:!f(N)||!o(R)&&!o(C)||!o(C)&&u(R)||u(N)&&!o(R)||u(N)&&c(R)||u(N)&&u(R)?0:p(N)&&o(R)&&!u(R)&&o(C)&&f(C)?3:u(N)||!o(C)?1:2:-1},_=function(N){var R=0,C=0,O=0,G="",et="",tt="",mt=(N=N||"").split("\\s+"),z=[];for(R=0;R<mt.length;R+=1){for(z.push(""),C=0;C<mt[R].length;C+=1)G=mt[R][C],et=mt[R][C-1],tt=mt[R][C+1],o(G)?(O=w(G,et,tt),z[R]+=O!==-1?String.fromCharCode(t[G.charCodeAt(0)][O]):G):z[R]+=G;z[R]=y(z[R])}return z.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var N,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(R)){var O=0;for(C=[],O=0;O<R.length;O+=1)Array.isArray(R[O])?C.push([_(R[O][0]),R[O][1],R[O][2]]):C.push([_(R[O])]);N=C}else N=_(R);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",E])}(Pe.API),Pe.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pe.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(N){E=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,_=0,E=0,N=0,R=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=f.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(G,et){return G.concat(R.splitTextToSize(et,C))},[])):c=Array.isArray(c)?c:[c];for(var O=0;O<c.length;O++)_<(N=this.getStringUnitWidth(c[O],{font:y})*p)&&(_=N);return _!==0&&(E=c.length),{w:_/=w,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,_&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,p,y,w){if(i.call(this),!p)throw new Error("No data for PDF table.");var _,E,N,R,C=[],O=[],G=[],et={},tt={},mt=[],z=[],P=(w=w||{}).autoSize||!1,U=w.printHeaders!==!1,X=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},t),D=typeof w.padding=="number"?w.padding:3,F=w.headerBackgroundColor||"#c8c8c8",at=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=at,this.setFontSize(X),y==null)O=C=Object.keys(p[0]),G=C.map(function(){return"left"});else if(Array.isArray(y)&&Vn(y[0])==="object")for(C=y.map(function(Q){return Q.name}),O=y.map(function(Q){return Q.prompt||Q.name||""}),G=y.map(function(Q){return Q.align||"left"}),_=0;_<y.length;_+=1)tt[y[_].name]=y[_].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(O=C=y,G=C.map(function(){return"left"}));if(P||Array.isArray(y)&&typeof y[0]=="string")for(_=0;_<C.length;_+=1){for(et[R=C[_]]=p.map(function(Q){return Q[R]}),this.setFont(void 0,"bold"),mt.push(this.getTextDimensions(O[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=et[R],this.setFont(void 0,"normal"),N=0;N<E.length;N+=1)mt.push(this.getTextDimensions(E[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[R]=Math.max.apply(null,mt)+D+D,mt=[]}if(U){var wt={};for(_=0;_<C.length;_+=1)wt[C[_]]={},wt[C[_]].text=O[_],wt[C[_]].align=G[_];var nt=u.call(this,wt,tt);z=C.map(function(Q){return new s(c,f,tt[Q],nt,wt[Q].text,void 0,wt[Q].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ct=y.reduce(function(Q,St){return Q[St.name]=St.align,Q},{});for(_=0;_<p.length;_+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:_,data:p[_]},this);var ft=u.call(this,p[_],tt);for(N=0;N<C.length;N+=1){var Tt=p[_][C[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:_,col:N,data:Tt},this),o.call(this,new s(c,f,tt[C[N]],ft,Tt,_+2,ct[C[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map(function(_){var E=c[_];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*y/w+p+p},this).reduce(function(_,E){return Math.max(_,E)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(Pe.API);var G3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],py=W3(Y3),K3=[100,200,300,400,500,600,700,800,900],X8=W3(K3);function gy(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return G3[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof py[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function nA(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var $8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Q8(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},$8,e.genericFontFamilies||{}),s=null,o=null,u=0;u<t.length;++u)if(r[(s=gy(t[u])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+rA(s)+"' and default family '"+i+"'.");if(o=function(c,f){if(f[c])return f[c];var p=py[c],y=p<=py.normal?-1:1,w=nA(f,Y3,p,y);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w}(s.stretch,o),o=function(c,f){if(f[c])return f[c];for(var p=G3[c],y=0;y<p.length;++y)if(f[p[y]])return f[p[y]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var p=X8[c],y=nA(f,K3,p,c<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+c);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+rA(s)+"'.");return o}function sA(n){return n.trimLeft()}function J8(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Z8(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Bg,aA,oA,u2=["times"];(function(n){var t,e,i,r,s,o,u,c,f,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=j;Object.defineProperty(this,"pdf",{get:function(){return W}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ft){Z=!!Ft}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(Ft){st=!!Ft}});var lt=0;Object.defineProperty(this,"posX",{get:function(){return lt},set:function(Ft){isNaN(Ft)||(lt=Ft)}});var Nt=0;Object.defineProperty(this,"posY",{get:function(){return Nt},set:function(Ft){isNaN(Ft)||(Nt=Ft)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ft){var ot;typeof Ft=="number"?ot=[Ft,Ft,Ft,Ft]:((ot=new Array(4))[0]=Ft[0],ot[1]=Ft.length>=2?Ft[1]:ot[0],ot[2]=Ft.length>=3?Ft[2]:ot[0],ot[3]=Ft.length>=4?Ft[3]:ot[1]),f.margin=ot}});var Et=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Et},set:function(Ft){Et=Ft}});var kt=0;Object.defineProperty(this,"lastBreak",{get:function(){return kt},set:function(Ft){kt=Ft}});var Jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jt},set:function(Ft){Jt=Ft}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ft){Ft instanceof p&&(f=Ft)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ft){f.path=Ft}});var $t=[];Object.defineProperty(this,"ctxStack",{get:function(){return $t},set:function(Ft){$t=Ft}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ft){var ot;ot=w(Ft),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ft){var ot=w(Ft);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ft){["butt","round","square"].indexOf(Ft)!==-1&&(this.ctx.lineCap=Ft,this.pdf.setLineCap(Ft))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ft){isNaN(Ft)||(this.ctx.lineWidth=Ft,this.pdf.setLineWidth(Ft))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ft){["bevel","round","miter"].indexOf(Ft)!==-1&&(this.ctx.lineJoin=Ft,this.pdf.setLineJoin(Ft))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ft){isNaN(Ft)||(this.ctx.miterLimit=Ft,this.pdf.setMiterLimit(Ft))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ft){this.ctx.textBaseline=Ft}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ft){["right","end","center","left","start"].indexOf(Ft)!==-1&&(this.ctx.textAlign=Ft)}});var ne=null;function te(Ft,ot){if(ne===null){var Se=function(he){var Qt=[];return Object.keys(he).forEach(function(Zt){he[Zt].forEach(function(se){var ae=null;switch(se){case"bold":ae={family:Zt,weight:"bold"};break;case"italic":ae={family:Zt,style:"italic"};break;case"bolditalic":ae={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:Zt}}ae!==null&&(ae.ref={name:Zt,style:se},Qt.push(ae))})}),Qt}(Ft.getFontList());ne=function(he){for(var Qt={},Zt=0;Zt<he.length;++Zt){var se=gy(he[Zt]),ae=se.family,ve=se.stretch,Ie=se.style,Fe=se.weight;Qt[ae]=Qt[ae]||{},Qt[ae][ve]=Qt[ae][ve]||{},Qt[ae][ve][Ie]=Qt[ae][ve][Ie]||{},Qt[ae][ve][Ie][Fe]=se}return Qt}(Se.concat(ot))}return ne}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(Ft){ne=null,we=Ft}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ft){var ot;if(this.ctx.font=Ft,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ft))!==null){var Se=ot[1];ot[2];var he=ot[3],Qt=ot[4];ot[5];var Zt=ot[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qt)[2];Qt=Math.floor(se==="px"?parseFloat(Qt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Qt)*this.pdf.getFontSize():parseFloat(Qt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qt);var ae=function(fe){var We,oe,ri=[],Ke=fe.trim();if(Ke==="")return u2;if(Ke in iA)return[iA[Ke]];for(;Ke!=="";){switch(oe=null,We=(Ke=sA(Ke)).charAt(0)){case'"':case"'":oe=J8(Ke.substring(1),We);break;default:oe=Z8(Ke)}if(oe===null||(ri.push(oe[0]),(Ke=sA(oe[1]))!==""&&Ke.charAt(0)!==","))return u2;Ke=Ke.replace(/^,/,"")}return ri}(Zt);if(this.fontFaces){var ve=Q8(te(this.pdf,this.fontFaces),ae.map(function(fe){return{family:fe,stretch:"normal",weight:he,style:Se}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var Ie="";(he==="bold"||parseInt(he,10)>=700||Se==="bold")&&(Ie="bold"),Se==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Fe="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<ae.length;ge++){if(this.pdf.internal.getFont(ae[ge],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Fe=ae[ge];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(ae[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=ae[ge],Ie="bold";else if(this.pdf.internal.getFont(ae[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=ae[ge],Ie="normal";break}}if(Fe===""){for(var He=0;He<ae.length;He++)if(_e[ae[He]]){Fe=_e[ae[He]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ft){this.ctx.globalCompositeOperation=Ft}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ft){this.ctx.globalAlpha=Ft}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ft){this.ctx.lineDashOffset=Ft,St.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ft){this.ctx.lineDash=Ft,St.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ft){this.ctx.ignoreClearRect=!!Ft}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){et.call(this,"fill",!1)},y.prototype.stroke=function(){et.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,W){if(isNaN(j)||isNaN(W))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(j,W)},y.prototype.closePath=function(){var j=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Vn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){j=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},y.prototype.lineTo=function(j,W){if(isNaN(j)||isNaN(W))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),et.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,W,Z,st){if(isNaN(Z)||isNaN(st)||isNaN(j)||isNaN(W))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var lt=this.ctx.transform.applyToPoint(new o(Z,st)),Nt=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"qct",x1:Nt.x,y1:Nt.y,x:lt.x,y:lt.y}),this.ctx.lastPoint=new o(lt.x,lt.y)},y.prototype.bezierCurveTo=function(j,W,Z,st,lt,Nt){if(isNaN(lt)||isNaN(Nt)||isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Et=this.ctx.transform.applyToPoint(new o(lt,Nt)),kt=this.ctx.transform.applyToPoint(new o(j,W)),Jt=this.ctx.transform.applyToPoint(new o(Z,st));this.path.push({type:"bct",x1:kt.x,y1:kt.y,x2:Jt.x,y2:Jt.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new o(Et.x,Et.y)},y.prototype.arc=function(j,W,Z,st,lt,Nt){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st)||isNaN(lt))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Nt=!!Nt,!this.ctx.transform.isIdentity){var Et=this.ctx.transform.applyToPoint(new o(j,W));j=Et.x,W=Et.y;var kt=this.ctx.transform.applyToPoint(new o(0,Z)),Jt=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(kt.x-Jt.x,2)+Math.pow(kt.y-Jt.y,2))}Math.abs(lt-st)>=2*Math.PI&&(st=0,lt=2*Math.PI),this.path.push({type:"arc",x:j,y:W,radius:Z,startAngle:st,endAngle:lt,counterclockwise:Nt})},y.prototype.arcTo=function(j,W,Z,st,lt){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,W,Z,st){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,W),this.lineTo(j+Z,W),this.lineTo(j+Z,W+st),this.lineTo(j,W+st),this.lineTo(j,W),this.lineTo(j+Z,W),this.lineTo(j,W)},y.prototype.fillRect=function(j,W,Z,st){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var lt={};this.lineCap!=="butt"&&(lt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(lt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,W,Z,st),this.fill(),lt.hasOwnProperty("lineCap")&&(this.lineCap=lt.lineCap),lt.hasOwnProperty("lineJoin")&&(this.lineJoin=lt.lineJoin)}},y.prototype.strokeRect=function(j,W,Z,st){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(j,W,Z,st),this.stroke())},y.prototype.clearRect=function(j,W,Z,st){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,W,Z,st))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(j){var W,Z,st,lt;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))W=0,Z=0,st=0,lt=0;else{var Nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Nt!==null)W=parseInt(Nt[1]),Z=parseInt(Nt[2]),st=parseInt(Nt[3]),lt=1;else if((Nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)W=parseInt(Nt[1]),Z=parseInt(Nt[2]),st=parseInt(Nt[3]),lt=parseFloat(Nt[4]);else{if(lt=1,typeof j=="string"&&j.charAt(0)!=="#"){var Et=new B3(j);j=Et.ok?Et.toHex():"#000000"}j.length===4?(W=j.substring(1,2),W+=W,Z=j.substring(2,3),Z+=Z,st=j.substring(3,4),st+=st):(W=j.substring(1,3),Z=j.substring(3,5),st=j.substring(5,7)),W=parseInt(W,16),Z=parseInt(Z,16),st=parseInt(st,16)}}return{r:W,g:Z,b:st,a:lt,style:j}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,W,Z,st){if(isNaN(W)||isNaN(Z)||typeof j!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!_.call(this)){var lt=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:j,x:W,y:Z,scale:Nt,angle:lt,align:this.textAlign,maxWidth:st})}},y.prototype.strokeText=function(j,W,Z,st){if(isNaN(W)||isNaN(Z)||typeof j!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){st=isNaN(st)?void 0:st;var lt=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:j,x:W,y:Z,scale:Nt,renderingMode:"stroke",angle:lt,align:this.textAlign,maxWidth:st})}},y.prototype.measureText=function(j){if(typeof j!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Z=this.pdf.internal.scaleFactor,st=W.internal.getFontSize(),lt=W.getStringUnitWidth(j)*st/W.internal.scaleFactor,Nt=function(Et){var kt=(Et=Et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this};return new Nt({width:lt*=Math.round(96*Z/72*1e4)/1e4})},y.prototype.scale=function(j,W){if(isNaN(j)||isNaN(W))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(j,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.rotate=function(j){if(isNaN(j))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},y.prototype.translate=function(j,W){if(isNaN(j)||isNaN(W))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,j,W);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.transform=function(j,W,Z,st,lt,Nt){if(isNaN(j)||isNaN(W)||isNaN(Z)||isNaN(st)||isNaN(lt)||isNaN(Nt))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Et=new c(j,W,Z,st,lt,Nt);this.ctx.transform=this.ctx.transform.multiply(Et)},y.prototype.setTransform=function(j,W,Z,st,lt,Nt){j=isNaN(j)?1:j,W=isNaN(W)?0:W,Z=isNaN(Z)?0:Z,st=isNaN(st)?1:st,lt=isNaN(lt)?0:lt,Nt=isNaN(Nt)?0:Nt,this.ctx.transform=new c(j,W,Z,st,lt,Nt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,W,Z,st,lt,Nt,Et,kt,Jt){var $t=this.pdf.getImageProperties(j),ne=1,te=1,we=1,Ft=1;st!==void 0&&kt!==void 0&&(we=kt/st,Ft=Jt/lt,ne=$t.width/st*kt/st,te=$t.height/lt*Jt/lt),Nt===void 0&&(Nt=W,Et=Z,W=0,Z=0),st!==void 0&&kt===void 0&&(kt=st,Jt=lt),st===void 0&&kt===void 0&&(kt=$t.width,Jt=$t.height);for(var ot,Se=this.ctx.transform.decompose(),he=ft(Se.rotate.shx),Qt=new c,Zt=(Qt=(Qt=(Qt=Qt.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new u(Nt-W*we,Et-Z*Ft,st*ne,lt*te)),se=R.call(this,Zt),ae=[],ve=0;ve<se.length;ve+=1)ae.indexOf(se[ve])===-1&&ae.push(se[ve]);if(G(ae),this.autoPaging)for(var Ie=ae[0],Fe=ae[ae.length-1],_e=Ie;_e<Fe+1;_e++){this.pdf.setPage(_e);var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=_e===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=_e===1?0:fe+(_e-2)*We;if(this.ctx.clip_path.length!==0){var ri=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(ot,this.posX+this.margin[3],-oe+He+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=ri}var Ke=JSON.parse(JSON.stringify(Zt));Ke=O([Ke],this.posX+this.margin[3],-oe+He+this.ctx.prevPageLastElemOffset)[0];var tr=(_e>Ie||_e<Fe)&&N.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,We,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,he),tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,he)};var R=function(j,W,Z){var st=[];W=W||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var lt=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":st.push(Math.floor((j.y+lt)/Z)+1);break;case"arc":st.push(Math.floor((j.y+lt-j.radius)/Z)+1),st.push(Math.floor((j.y+lt+j.radius)/Z)+1);break;case"qct":var Nt=Tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);st.push(Math.floor((Nt.y+lt)/Z)+1),st.push(Math.floor((Nt.y+Nt.h+lt)/Z)+1);break;case"bct":var Et=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);st.push(Math.floor((Et.y+lt)/Z)+1),st.push(Math.floor((Et.y+Et.h+lt)/Z)+1);break;case"rect":st.push(Math.floor((j.y+lt)/Z)+1),st.push(Math.floor((j.y+j.h+lt)/Z)+1)}for(var kt=0;kt<st.length;kt+=1)for(;this.pdf.internal.getNumberOfPages()<st[kt];)C.call(this);return st},C=function(){var j=this.fillStyle,W=this.strokeStyle,Z=this.font,st=this.lineCap,lt=this.lineWidth,Nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=W,this.font=Z,this.lineCap=st,this.lineWidth=lt,this.lineJoin=Nt},O=function(j,W,Z){for(var st=0;st<j.length;st++)switch(j[st].type){case"bct":j[st].x2+=W,j[st].y2+=Z;case"qct":j[st].x1+=W,j[st].y1+=Z;case"mt":case"lt":case"arc":default:j[st].x+=W,j[st].y+=Z}return j},G=function(j){return j.sort(function(W,Z){return W-Z})},et=function(j,W){for(var Z,st,lt=this.fillStyle,Nt=this.strokeStyle,Et=this.lineCap,kt=this.lineWidth,Jt=Math.abs(kt*this.ctx.transform.scaleX),$t=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),we=[],Ft=0;Ft<te.length;Ft++)if(te[Ft].x!==void 0)for(var ot=R.call(this,te[Ft]),Se=0;Se<ot.length;Se+=1)we.indexOf(ot[Se])===-1&&we.push(ot[Se]);for(var he=0;he<we.length;he++)for(;this.pdf.internal.getNumberOfPages()<we[he];)C.call(this);if(G(we),this.autoPaging)for(var Qt=we[0],Zt=we[we.length-1],se=Qt;se<Zt+1;se++){this.pdf.setPage(se),this.fillStyle=lt,this.strokeStyle=Nt,this.lineCap=Et,this.lineWidth=Jt,this.lineJoin=$t;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=se===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=se===1?0:Ie+(se-2)*Fe;if(this.ctx.clip_path.length!==0){var ge=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Z,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),tt.call(this,j,!0),this.path=ge}if(st=JSON.parse(JSON.stringify(ne)),this.path=O(st,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),W===!1||se===0){var He=(se>Qt||se<Zt)&&N.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Fe,null).clip().discardPath()),tt.call(this,j,W),He&&this.pdf.restoreGraphicsState()}this.lineWidth=kt}else this.lineWidth=Jt,tt.call(this,j,W),this.lineWidth=kt;this.path=ne},tt=function(j,W){if((j!=="stroke"||W||!E.call(this))&&(j==="stroke"||W||!_.call(this))){for(var Z,st,lt=[],Nt=this.path,Et=0;Et<Nt.length;Et++){var kt=Nt[Et];switch(kt.type){case"begin":lt.push({begin:!0});break;case"close":lt.push({close:!0});break;case"mt":lt.push({start:kt,deltas:[],abs:[]});break;case"lt":var Jt=lt.length;if(Nt[Et-1]&&!isNaN(Nt[Et-1].x)&&(Z=[kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],Jt>0)){for(;Jt>=0;Jt--)if(lt[Jt-1].close!==!0&&lt[Jt-1].begin!==!0){lt[Jt-1].deltas.push(Z),lt[Jt-1].abs.push(kt);break}}break;case"bct":Z=[kt.x1-Nt[Et-1].x,kt.y1-Nt[Et-1].y,kt.x2-Nt[Et-1].x,kt.y2-Nt[Et-1].y,kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],lt[lt.length-1].deltas.push(Z);break;case"qct":var $t=Nt[Et-1].x+2/3*(kt.x1-Nt[Et-1].x),ne=Nt[Et-1].y+2/3*(kt.y1-Nt[Et-1].y),te=kt.x+2/3*(kt.x1-kt.x),we=kt.y+2/3*(kt.y1-kt.y),Ft=kt.x,ot=kt.y;Z=[$t-Nt[Et-1].x,ne-Nt[Et-1].y,te-Nt[Et-1].x,we-Nt[Et-1].y,Ft-Nt[Et-1].x,ot-Nt[Et-1].y],lt[lt.length-1].deltas.push(Z);break;case"arc":lt.push({deltas:[],abs:[],arc:!0}),Array.isArray(lt[lt.length-1].abs)&&lt[lt.length-1].abs.push(kt)}}st=W?null:j==="stroke"?"stroke":"fill";for(var Se=!1,he=0;he<lt.length;he++)if(lt[he].arc)for(var Qt=lt[he].abs,Zt=0;Zt<Qt.length;Zt++){var se=Qt[Zt];se.type==="arc"?P.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,W,!Se):F.call(this,se.x,se.y),Se=!0}else if(lt[he].close===!0)this.pdf.internal.out("h"),Se=!1;else if(lt[he].begin!==!0){var ae=lt[he].start.x,ve=lt[he].start.y;at.call(this,lt[he].deltas,ae,ve),Se=!0}st&&U.call(this,st),W&&X.call(this)}},mt=function(j){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Z;case"top":return j+W-Z;case"hanging":return j+W-2*Z;case"middle":return j+W/2-Z;case"ideographic":return j;case"alphabetic":default:return j}},z=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(W,Z){this.colorStops.push([W,Z])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(j,W,Z,st,lt,Nt,Et,kt,Jt){for(var $t=nt.call(this,Z,st,lt,Nt),ne=0;ne<$t.length;ne++){var te=$t[ne];ne===0&&(Jt?L.call(this,te.x1+j,te.y1+W):F.call(this,te.x1+j,te.y1+W)),wt.call(this,j,W,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}kt?X.call(this):U.call(this,Et)},U=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(j,W){this.pdf.internal.out(e(j)+" "+i(W)+" m")},D=function(j){var W;switch(j.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Z=this.pdf.getTextDimensions(j.text),st=mt.call(this,j.y),lt=z.call(this,st)-Z.h,Nt=this.ctx.transform.applyToPoint(new o(j.x,st)),Et=this.ctx.transform.decompose(),kt=new c;kt=(kt=(kt=kt.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var Jt,$t,ne,te=this.ctx.transform.applyToRectangle(new u(j.x,st,Z.w,Z.h)),we=kt.applyToRectangle(new u(j.x,lt,Z.w,Z.h)),Ft=R.call(this,we),ot=[],Se=0;Se<Ft.length;Se+=1)ot.indexOf(Ft[Se])===-1&&ot.push(Ft[Se]);if(G(ot),this.autoPaging)for(var he=ot[0],Qt=ot[ot.length-1],Zt=he;Zt<Qt+1;Zt++){this.pdf.setPage(Zt);var se=Zt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Ie=ve-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],_e=Fe-this.margin[3],ge=Zt===1?0:ae+(Zt-2)*Ie;if(this.ctx.clip_path.length!==0){var He=this.path;Jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Jt,this.posX+this.margin[3],-1*ge+se),tt.call(this,"fill",!0),this.path=He}var fe=O([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&($t=this.pdf.internal.getFontSize(),this.pdf.setFontSize($t*j.scale),ne=this.lineWidth,this.lineWidth=ne*j.scale);var We=this.autoPaging!=="text";if(We||fe.y+fe.h<=ve){if(We||fe.y>=se&&fe.x<=Fe){var oe=We?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Fe-fe.x)[0],ri=O([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0],Ke=We&&(Zt>he||Zt<Qt)&&N.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Ie,null).clip().discardPath()),this.pdf.text(oe,ri.x,ri.y,{angle:j.angle,align:W,renderingMode:j.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else fe.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-fe.y);j.scale>=.01&&(this.pdf.setFontSize($t),this.lineWidth=ne)}else j.scale>=.01&&($t=this.pdf.internal.getFontSize(),this.pdf.setFontSize($t*j.scale),ne=this.lineWidth,this.lineWidth=ne*j.scale),this.pdf.text(j.text,Nt.x+this.posX,Nt.y+this.posY,{angle:j.angle,align:W,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize($t),this.lineWidth=ne)},F=function(j,W,Z,st){Z=Z||0,st=st||0,this.pdf.internal.out(e(j+Z)+" "+i(W+st)+" l")},at=function(j,W,Z){return this.pdf.lines(j,W,Z,null,null)},wt=function(j,W,Z,st,lt,Nt,Et,kt){this.pdf.internal.out([t(r(Z+j)),t(s(st+W)),t(r(lt+j)),t(s(Nt+W)),t(r(Et+j)),t(s(kt+W)),"c"].join(" "))},nt=function(j,W,Z,st){for(var lt=2*Math.PI,Nt=Math.PI/2;W>Z;)W-=lt;var Et=Math.abs(Z-W);Et<lt&&st&&(Et=lt-Et);for(var kt=[],Jt=st?-1:1,$t=W;Et>1e-5;){var ne=$t+Jt*Math.min(Et,Nt);kt.push(ct.call(this,j,$t,ne)),Et-=Math.abs(ne-$t),$t=ne}return kt},ct=function(j,W,Z){var st=(Z-W)/2,lt=j*Math.cos(st),Nt=j*Math.sin(st),Et=lt,kt=-Nt,Jt=Et*Et+kt*kt,$t=Jt+Et*lt+kt*Nt,ne=4/3*(Math.sqrt(2*Jt*$t)-$t)/(Et*Nt-kt*lt),te=Et-ne*kt,we=kt+ne*Et,Ft=te,ot=-we,Se=st+W,he=Math.cos(Se),Qt=Math.sin(Se);return{x1:j*Math.cos(W),y1:j*Math.sin(W),x2:te*he-we*Qt,y2:te*Qt+we*he,x3:Ft*he-ot*Qt,y3:Ft*Qt+ot*he,x4:j*Math.cos(Z),y4:j*Math.sin(Z)}},ft=function(j){return 180*j/Math.PI},Tt=function(j,W,Z,st,lt,Nt){var Et=j+.5*(Z-j),kt=W+.5*(st-W),Jt=lt+.5*(Z-lt),$t=Nt+.5*(st-Nt),ne=Math.min(j,lt,Et,Jt),te=Math.max(j,lt,Et,Jt),we=Math.min(W,Nt,kt,$t),Ft=Math.max(W,Nt,kt,$t);return new u(ne,we,te-ne,Ft-we)},Q=function(j,W,Z,st,lt,Nt,Et,kt){var Jt,$t,ne,te,we,Ft,ot,Se,he,Qt,Zt,se,ae,ve,Ie=Z-j,Fe=st-W,_e=lt-Z,ge=Nt-st,He=Et-lt,fe=kt-Nt;for($t=0;$t<41;$t++)he=(ot=(ne=j+(Jt=$t/40)*Ie)+Jt*((we=Z+Jt*_e)-ne))+Jt*(we+Jt*(lt+Jt*He-we)-ot),Qt=(Se=(te=W+Jt*Fe)+Jt*((Ft=st+Jt*ge)-te))+Jt*(Ft+Jt*(Nt+Jt*fe-Ft)-Se),$t==0?(Zt=he,se=Qt,ae=he,ve=Qt):(Zt=Math.min(Zt,he),se=Math.min(se,Qt),ae=Math.max(ae,he),ve=Math.max(ve,Qt));return new u(Math.round(Zt),Math.round(se),Math.round(ae-Zt),Math.round(ve-se))},St=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,W,Z=(j=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:W}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Pe.API),function(n){var t=function(s){var o,u,c,f,p,y,w,_,E,N;for(u=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(y=(p=((p=((p=((p=(p-(N=p%85))/85)-(E=p%85))/85)-(_=p%85))/85)-(w=p%85))/85)%85,u.push(y+33,w+33,_+33,E+33,N+33)):u.push(122);return function(R,C){for(var O=C;O>0;O--)R.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},e=function(s){var o,u,c,f,p,y=String,w="length",_=255,E="charCodeAt",N="slice",R="replace";for(s[N](-2),s=s[N](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),c=[],f=0,p=(s+=o="uuuuu"[N](s[w]%5||5))[w];p>f;f+=5)u=52200625*(s[E](f)-33)+614125*(s[E](f+1)-33)+7225*(s[E](f+2)-33)+85*(s[E](f+3)-33)+(s[E](f+4)-33),c.push(_&u>>24,_&u>>16,_&u>>8,_&u);return function(C,O){for(var G=O;G>0;G--)C.pop()}(c,o[w]),y.fromCharCode.apply(y,c)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},r=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=uy(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var u=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Pe.API),function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(c,f,p){var y=new XMLHttpRequest,w=0,_=function(E){var N=E.length,R=[],C=String.fromCharCode;for(w=0;w<N;w+=1)R.push(C(255&E.charCodeAt(w)));return R.join("")};if(y.open("GET",c,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?p(_(this.responseText)):p(void 0)}),y.send(null),f&&y.status===200)return _(y.responseText)}(r,s,o)}catch{}return u}(t,e,i)},n.loadImageFile=n.loadFile}(Pe.API),function(n){function t(){return(De.html2canvas?Promise.resolve(De.html2canvas):ry(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(De.DOMPurify?Promise.resolve(De.DOMPurify):ry(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=Vn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(o,u){var c=document.createElement(o);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},s=function o(u){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,p){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(c(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var _=f[w],E=_.src.find(function(N){return N.format==="truetype"});E&&c.addFont(E.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,c,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,c,f){return this.setProgress(o?this.progress.val+o:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var c=this;return this.thenCore(o,u,function(f,p){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,f),y}).then(f,p).then(function(y){return c.updateProgress(1),y})})},s.prototype.thenCore=function(o,u,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(f,o,u);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Pe.getPageSize=function(o,u,c){if(Vn(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,y=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var _,E=0,N=0;if(w.hasOwnProperty(y))E=w[y][1]/p,N=w[y][0]/p;else try{E=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",N>E&&(_=N,N=E,E=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>N&&(_=N,N=E,E=_)}return{width:N,height:E,unit:u,k:p,orientation:o}},n.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(gy):null;var c=new s(u);return u.worker?c:c.from(o).doCallback()}}(Pe.API),Pe.API.addJS=function(n){return oA=n,this.internal.events.subscribe("postPutResources",function(){Bg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bg!==void 0&&aA!==void 0&&this.internal.out("/Names <</JavaScript "+Bg+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],u=i.exec(o);if(u!=null){var c=u[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var y=e.internal.newObject();p.push(y);var w=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<p.length;s++)e.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var c=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Pe.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,u){var c,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(c=function(y){for(var w,_=256*y.charCodeAt(4)+y.charCodeAt(5),E=y.length,N={width:0,height:0,numcomponents:1},R=4;R<E;R+=2){if(R+=_,t.indexOf(y.charCodeAt(R+1))!==-1){w=256*y.charCodeAt(R+5)+y.charCodeAt(R+6),N={width:256*y.charCodeAt(R+7)+y.charCodeAt(R+8),height:w,numcomponents:y.charCodeAt(R+9)};break}_=256*y.charCodeAt(R+2)+y.charCodeAt(R+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:e,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(Pe.API);var Qh,Vg,lA,uA,cA,tO=function(){var n,t,e;function i(s){var o,u,c,f,p,y,w,_,E,N,R,C,O,G;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),E=(function(){var et,tt;for(tt=[],et=0;et<4;++et)tt.push(String.fromCharCode(this.data[this.pos++]));return tt}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,y.delay=1e3*p/f,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((N=c-this.transparency.indexed.length)>0)for(O=0;0<=N?O<N:O>N;0<=N?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(R=this.read(o)).indexOf(0),_=String.fromCharCode.apply(String,R.slice(0,w)),this.text[_]=String.fromCharCode.apply(String,R.slice(w+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(G=this.colorType)===4||G===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,w,_,E){var N,R,C,O,G,et,tt,mt,z,P,U,X,L,D,F,at,wt,nt,ct,ft,Tt,Q=Math.ceil((f.width-y)/_),St=Math.ceil((f.height-w)/E),j=f.width==Q&&f.height==St;for(D=o*Q,X=j?u:new Uint8Array(D*St),et=s.length,L=0,R=0;L<St&&c<et;){switch(s[c++]){case 0:for(O=wt=0;wt<D;O=wt+=1)X[R++]=s[c++];break;case 1:for(O=nt=0;nt<D;O=nt+=1)N=s[c++],G=O<o?0:X[R-o],X[R++]=(N+G)%256;break;case 2:for(O=ct=0;ct<D;O=ct+=1)N=s[c++],C=(O-O%o)/o,F=L&&X[(L-1)*D+C*o+O%o],X[R++]=(F+N)%256;break;case 3:for(O=ft=0;ft<D;O=ft+=1)N=s[c++],C=(O-O%o)/o,G=O<o?0:X[R-o],F=L&&X[(L-1)*D+C*o+O%o],X[R++]=(N+Math.floor((G+F)/2))%256;break;case 4:for(O=Tt=0;Tt<D;O=Tt+=1)N=s[c++],C=(O-O%o)/o,G=O<o?0:X[R-o],L===0?F=at=0:(F=X[(L-1)*D+C*o+O%o],at=C&&X[(L-1)*D+(C-1)*o+O%o]),tt=G+F-at,mt=Math.abs(tt-G),P=Math.abs(tt-F),U=Math.abs(tt-at),z=mt<=P&&mt<=U?G:P<=U?F:at,X[R++]=(N+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!j){var W=((w+L*E)*f.width+y)*o,Z=L*D;for(O=0;O<Q;O+=1){for(var st=0;st<o;st+=1)u[W++]=X[Z++];W+=(_-1)*o}}L++}}return s=P8(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},i.prototype.decodePalette=function(){var s,o,u,c,f,p,y,w,_;for(u=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+u.length),c=0,s=0,o=y=0,w=u.length;y<w;o=y+=3)f[c++]=u[o],f[c++]=u[o+1],f[c++]=u[o+2],f[c++]=(_=p[s++])!=null?_:255;return f},i.prototype.copyToImageData=function(s,o){var u,c,f,p,y,w,_,E,N,R,C;if(c=this.colors,N=null,u=this.hasAlphaChannel,this.palette.length&&(N=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),c=4,u=!0),E=(f=s.data||s).length,y=N||o,p=w=0,c===1)for(;p<E;)_=N?4*o[p/4]:w,R=y[_++],f[p++]=R,f[p++]=R,f[p++]=R,f[p++]=u?y[_++]:255,w=_;else for(;p<E;)_=N?4*o[p/4]:w,f[p++]=y[_++],f[p++]=y[_++],f[p++]=y[_++],f[p++]=u?y[_++]:255,w=_},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(De)==="[object Window]"){try{t=De.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,u,c,f,p,y,w,_;if(this.animation){for(_=[],u=p=0,y=(w=this.animation.frames).length;p<y;u=++p)o=w[u],c=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,_.push(o.image=n(c));return _}},i.prototype.renderFrame=function(s,o){var u,c,f;return u=(c=this.animation.frames)[o],f=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(s){var o,u,c,f,p,y,w=this;return u=0,y=this.animation,f=y.numFrames,c=y.frames,p=y.numPlays,(o=function(){var _,E;if(_=u++%f,E=c[_],w.renderFrame(s,_),f>1&&u/f<p)return w.animation._timeout=setTimeout(o,E.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function eO(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<(7&r)+1;n[t++],n[t++];var u=null,c=null;s&&(u=t,c=o,t+=3*o);var f=!0,p=[],y=0,w=null,_=0,E=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,E=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[t++];y=n[t++]|n[t++]<<8,w=n[t++],(1&N)==0&&(w=null),_=N>>2&7,t++;break;case 254:for(;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var R=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,O=n[t++]|n[t++]<<8,G=n[t++]|n[t++]<<8,et=n[t++],tt=et>>6&1,mt=1<<(7&et)+1,z=u,P=c,U=!1;et>>7&&(U=!0,z=t,P=mt,t+=3*mt);var X=t;for(t++;;){var L;if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}p.push({x:R,y:C,width:O,height:G,has_local_palette:U,palette_offset:z,palette_size:P,data_offset:X,data_length:t-X,transparent_index:w,interlaced:!!tt,delay:y,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,F){var at=this.frameInfo(D),wt=at.width*at.height,nt=new Uint8Array(wt);hA(n,at.data_offset,nt,wt);var ct=at.palette_offset,ft=at.transparent_index;ft===null&&(ft=256);var Tt=at.width,Q=e-Tt,St=Tt,j=4*(at.y*e+at.x),W=4*((at.y+at.height)*e+at.x),Z=j,st=4*Q;at.interlaced===!0&&(st+=4*e*7);for(var lt=8,Nt=0,Et=nt.length;Nt<Et;++Nt){var kt=nt[Nt];if(St===0&&(St=Tt,(Z+=st)>=W&&(st=4*Q+4*e*(lt-1),Z=j+(Tt+Q)*(lt<<1),lt>>=1)),kt===ft)Z+=4;else{var Jt=n[ct+3*kt],$t=n[ct+3*kt+1],ne=n[ct+3*kt+2];F[Z++]=ne,F[Z++]=$t,F[Z++]=Jt,F[Z++]=255}--St}},this.decodeAndBlitFrameRGBA=function(D,F){var at=this.frameInfo(D),wt=at.width*at.height,nt=new Uint8Array(wt);hA(n,at.data_offset,nt,wt);var ct=at.palette_offset,ft=at.transparent_index;ft===null&&(ft=256);var Tt=at.width,Q=e-Tt,St=Tt,j=4*(at.y*e+at.x),W=4*((at.y+at.height)*e+at.x),Z=j,st=4*Q;at.interlaced===!0&&(st+=4*e*7);for(var lt=8,Nt=0,Et=nt.length;Nt<Et;++Nt){var kt=nt[Nt];if(St===0&&(St=Tt,(Z+=st)>=W&&(st=4*Q+4*e*(lt-1),Z=j+(Tt+Q)*(lt<<1),lt>>=1)),kt===ft)Z+=4;else{var Jt=n[ct+3*kt],$t=n[ct+3*kt+1],ne=n[ct+3*kt+2];F[Z++]=Jt,F[Z++]=$t,F[Z++]=ne,F[Z++]=255}--St}}}function hA(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,u=o+1,c=r+1,f=(1<<c)-1,p=0,y=0,w=0,_=n[t++],E=new Int32Array(4096),N=null;;){for(;p<16&&_!==0;)y|=n[t++]<<p,p+=8,_===1?_=n[t++]:--_;if(p<c)break;var R=y&f;if(y>>=c,p-=c,R!==s){if(R===o)break;for(var C=R<u?R:N,O=0,G=C;G>s;)G=E[G]>>8,++O;var et=G;if(w+O+(C!==R?1:0)>i)return void $n.log("Warning, gif stream longer than expected.");e[w++]=et;var tt=w+=O;for(C!==R&&(e[w++]=et),G=C;O--;)G=E[G],e[--tt]=255&G,G>>=8;N!==null&&u<4096&&(E[u++]=N<<8|et,u>=f+1&&c<12&&(++c,f=f<<1|1)),N=R}else u=o+1,f=(1<<(c=r+1))-1,N=null}return w!==i&&$n.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c2(n){var t,e,i,r,s,o=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),y=new Array(65535),w=new Array(65535),_=new Array(64),E=new Array(64),N=[],R=0,C=7,O=new Array(64),G=new Array(64),et=new Array(64),tt=new Array(256),mt=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],at=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function nt(j,W){for(var Z=0,st=0,lt=new Array,Nt=1;Nt<=16;Nt++){for(var Et=1;Et<=j[Nt];Et++)lt[W[st]]=[],lt[W[st]][0]=Z,lt[W[st]][1]=Nt,st++,Z++;Z*=2}return lt}function ct(j){for(var W=j[0],Z=j[1]-1;Z>=0;)W&1<<Z&&(R|=1<<C),Z--,--C<0&&(R==255?(ft(255),ft(0)):ft(R),C=7,R=0)}function ft(j){N.push(j)}function Tt(j){ft(j>>8&255),ft(255&j)}function Q(j,W,Z,st,lt){for(var Nt,Et=lt[0],kt=lt[240],Jt=function(Qt,Zt){var se,ae,ve,Ie,Fe,_e,ge,He,fe,We,oe=0;for(fe=0;fe<8;++fe){se=Qt[oe],ae=Qt[oe+1],ve=Qt[oe+2],Ie=Qt[oe+3],Fe=Qt[oe+4],_e=Qt[oe+5],ge=Qt[oe+6];var ri=se+(He=Qt[oe+7]),Ke=se-He,tr=ae+ge,Je=ae-ge,Nn=ve+_e,hr=ve-_e,ln=Ie+Fe,Fs=Ie-Fe,Un=ri+ln,Ii=ri-ln,er=tr+Nn,zn=tr-Nn;Qt[oe]=Un+er,Qt[oe+4]=Un-er;var xe=.707106781*(zn+Ii);Qt[oe+2]=Ii+xe,Qt[oe+6]=Ii-xe;var un=.382683433*((Un=Fs+hr)-(zn=Je+Ke)),Dr=.5411961*Un+un,si=1.306562965*zn+un,nr=.707106781*(er=hr+Je),as=Ke+nr,le=Ke-nr;Qt[oe+5]=le+Dr,Qt[oe+3]=le-Dr,Qt[oe+1]=as+si,Qt[oe+7]=as-si,oe+=8}for(oe=0,fe=0;fe<8;++fe){se=Qt[oe],ae=Qt[oe+8],ve=Qt[oe+16],Ie=Qt[oe+24],Fe=Qt[oe+32],_e=Qt[oe+40],ge=Qt[oe+48];var Rn=se+(He=Qt[oe+56]),Cn=se-He,Kn=ae+ge,Zn=ae-ge,ai=ve+_e,_i=ve-_e,Ma=Ie+Fe,Sr=Ie-Fe,Wi=Rn+Ma,Li=Rn-Ma,bi=Kn+ai,Pi=Kn-ai;Qt[oe]=Wi+bi,Qt[oe+32]=Wi-bi;var qn=.707106781*(Pi+Li);Qt[oe+16]=Li+qn,Qt[oe+48]=Li-qn;var bn=.382683433*((Wi=Sr+_i)-(Pi=Zn+Cn)),Bs=.5411961*Wi+bn,Vs=1.306562965*Pi+bn,fr=.707106781*(bi=_i+Zn),Or=Cn+fr,ja=Cn-fr;Qt[oe+40]=ja+Bs,Qt[oe+24]=ja-Bs,Qt[oe+8]=Or+Vs,Qt[oe+56]=Or-Vs,oe++}for(fe=0;fe<64;++fe)We=Qt[fe]*Zt[fe],_[fe]=We>0?We+.5|0:We-.5|0;return _}(j,W),$t=0;$t<64;++$t)E[z[$t]]=Jt[$t];var ne=E[0]-Z;Z=E[0],ne==0?ct(st[0]):(ct(st[w[Nt=32767+ne]]),ct(y[Nt]));for(var te=63;te>0&&E[te]==0;)te--;if(te==0)return ct(Et),Z;for(var we,Ft=1;Ft<=te;){for(var ot=Ft;E[Ft]==0&&Ft<=te;)++Ft;var Se=Ft-ot;if(Se>=16){we=Se>>4;for(var he=1;he<=we;++he)ct(kt);Se&=15}Nt=32767+E[Ft],ct(lt[(Se<<4)+w[Nt]]),ct(y[Nt]),Ft++}return te!=63&&ct(Et),Z}function St(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(W){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var lt=o((Z[st]*W+50)/100);lt=Math.min(Math.max(lt,1),255),u[z[st]]=lt}for(var Nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Et=0;Et<64;Et++){var kt=o((Nt[Et]*W+50)/100);kt=Math.min(Math.max(kt,1),255),c[z[Et]]=kt}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$t=0,ne=0;ne<8;ne++)for(var te=0;te<8;te++)f[$t]=1/(u[z[$t]]*Jt[ne]*Jt[te]*8),p[$t]=1/(c[z[$t]]*Jt[ne]*Jt[te]*8),$t++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,W){W&&St(W),N=new Array,R=0,C=7,Tt(65496),Tt(65504),Tt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Tt(1),Tt(1),ft(0),ft(0),function(){Tt(65499),Tt(132),ft(0);for(var ae=0;ae<64;ae++)ft(u[ae]);ft(1);for(var ve=0;ve<64;ve++)ft(c[ve])}(),function(ae,ve){Tt(65472),Tt(17),ft(8),Tt(ve),Tt(ae),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)}(j.width,j.height),function(){Tt(65476),Tt(418),ft(0);for(var ae=0;ae<16;ae++)ft(P[ae+1]);for(var ve=0;ve<=11;ve++)ft(U[ve]);ft(16);for(var Ie=0;Ie<16;Ie++)ft(X[Ie+1]);for(var Fe=0;Fe<=161;Fe++)ft(L[Fe]);ft(1);for(var _e=0;_e<16;_e++)ft(D[_e+1]);for(var ge=0;ge<=11;ge++)ft(F[ge]);ft(17);for(var He=0;He<16;He++)ft(at[He+1]);for(var fe=0;fe<=161;fe++)ft(wt[fe])}(),Tt(65498),Tt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var Z=0,st=0,lt=0;R=0,C=7,this.encode.displayName="_encode_";for(var Nt,Et,kt,Jt,$t,ne,te,we,Ft,ot=j.data,Se=j.width,he=j.height,Qt=4*Se,Zt=0;Zt<he;){for(Nt=0;Nt<Qt;){for($t=Qt*Zt+Nt,te=-1,we=0,Ft=0;Ft<64;Ft++)ne=$t+(we=Ft>>3)*Qt+(te=4*(7&Ft)),Zt+we>=he&&(ne-=Qt*(Zt+1+we-he)),Nt+te>=Qt&&(ne-=Nt+te-Qt+4),Et=ot[ne++],kt=ot[ne++],Jt=ot[ne++],O[Ft]=(mt[Et]+mt[kt+256>>0]+mt[Jt+512>>0]>>16)-128,G[Ft]=(mt[Et+768>>0]+mt[kt+1024>>0]+mt[Jt+1280>>0]>>16)-128,et[Ft]=(mt[Et+1280>>0]+mt[kt+1536>>0]+mt[Jt+1792>>0]>>16)-128;Z=Q(O,f,Z,t,i),st=Q(G,p,st,e,r),lt=Q(et,p,lt,e,r),Nt+=32}Zt+=8}if(C>=0){var se=[];se[1]=C+1,se[0]=(1<<C+1)-1,ct(se)}return Tt(65497),new Uint8Array(N)},n=n||50,function(){for(var j=String.fromCharCode,W=0;W<256;W++)tt[W]=j(W)}(),t=nt(P,U),e=nt(D,F),i=nt(X,L),r=nt(at,wt),function(){for(var j=1,W=2,Z=1;Z<=15;Z++){for(var st=j;st<W;st++)w[32767+st]=Z,y[32767+st]=[],y[32767+st][1]=Z,y[32767+st][0]=st;for(var lt=-(W-1);lt<=-j;lt++)w[32767+lt]=Z,y[32767+lt]=[],y[32767+lt][1]=Z,y[32767+lt][0]=W-1+lt;j<<=1,W<<=1}}(),function(){for(var j=0;j<256;j++)mt[j]=19595*j,mt[j+256>>0]=38470*j,mt[j+512>>0]=7471*j+32768,mt[j+768>>0]=-11059*j,mt[j+1024>>0]=-21709*j,mt[j+1280>>0]=32768*j+8421375,mt[j+1536>>0]=-27439*j,mt[j+1792>>0]=-5329*j}(),St(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fA(n){function t(P){if(!P)throw Error("assert :P")}function e(P,U,X){for(var L=0;4>L;L++)if(P[U+L]!=X.charCodeAt(L))return!0;return!1}function i(P,U,X,L,D){for(var F=0;F<D;F++)P[U+F]=X[L+F]}function r(P,U,X,L){for(var D=0;D<L;D++)P[U+D]=X}function s(P){return new Int32Array(P)}function o(P,U){for(var X=[],L=0;L<P;L++)X.push(new U);return X}function u(P,U){var X=[];return function L(D,F,at){for(var wt=at[F],nt=0;nt<wt&&(D.push(at.length>F+1?[]:new U),!(at.length<F+1));nt++)L(D[nt],F+1,at)}(X,0,P),X}var c=function(){var P=this;function U(g,b){for(var x=1<<b-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function X(g,b,x,I,B){t(!(I%x));do g[b+(I-=x)]=B;while(0<I)}function L(g,b,x,I,B){if(t(2328>=B),512>=B)var q=s(512);else if((q=s(B))==null)return 0;return function(H,Y,J,it,pt,It){var Rt,At,qt=Y,Mt=1<<J,gt=s(16),vt=s(16);for(t(pt!=0),t(it!=null),t(H!=null),t(0<J),At=0;At<pt;++At){if(15<it[At])return 0;++gt[it[At]]}if(gt[0]==pt)return 0;for(vt[1]=0,Rt=1;15>Rt;++Rt){if(gt[Rt]>1<<Rt)return 0;vt[Rt+1]=vt[Rt]+gt[Rt]}for(At=0;At<pt;++At)Rt=it[At],0<it[At]&&(It[vt[Rt]++]=At);if(vt[15]==1)return(it=new D).g=0,it.value=It[0],X(H,qt,1,Mt,it),Mt;var Bt,Ht=-1,Ut=Mt-1,ue=0,ee=1,be=1,re=1<<J;for(At=0,Rt=1,pt=2;Rt<=J;++Rt,pt<<=1){if(ee+=be<<=1,0>(be-=gt[Rt]))return 0;for(;0<gt[Rt];--gt[Rt])(it=new D).g=Rt,it.value=It[At++],X(H,qt+ue,pt,re,it),ue=U(ue,Rt)}for(Rt=J+1,pt=2;15>=Rt;++Rt,pt<<=1){if(ee+=be<<=1,0>(be-=gt[Rt]))return 0;for(;0<gt[Rt];--gt[Rt]){if(it=new D,(ue&Ut)!=Ht){for(qt+=re,Bt=1<<(Ht=Rt)-J;15>Ht&&!(0>=(Bt-=gt[Ht]));)++Ht,Bt<<=1;Mt+=re=1<<(Bt=Ht-J),H[Y+(Ht=ue&Ut)].g=Bt+J,H[Y+Ht].value=qt-Y-Ht}it.g=Rt-J,it.value=It[At++],X(H,qt+(ue>>J),pt,re,it),ue=U(ue,Rt)}}return ee!=2*vt[15]-1?0:Mt}(g,b,x,I,B,q)}function D(){this.value=this.g=0}function F(){this.value=this.g=0}function at(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Di,F)}function wt(g,b,x,I){t(g!=null),t(b!=null),t(2147483648>I),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=x,g.Jd=b,g.Yc=x+I,g.Zc=4<=I?x+I-4+1:x,Nt(g)}function nt(g,b){for(var x=0;0<b--;)x|=kt(g,128)<<b;return x}function ct(g,b){var x=nt(g,b);return Et(g)?-x:x}function ft(g,b,x,I){var B,q=0;for(t(g!=null),t(b!=null),t(4294967288>I),g.Sb=I,g.Ra=0,g.u=0,g.h=0,4<I&&(I=4),B=0;B<I;++B)q+=b[x+B]<<8*B;g.Ra=q,g.bb=I,g.oa=b,g.pa=x}function Tt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<xl-8>>>0,++g.bb,g.u-=8;Z(g)&&(g.h=1,g.u=0)}function Q(g,b){if(t(0<=b),!g.h&&b<=Sl){var x=W(g)&Ro[b];return g.u+=b,Tt(g),x}return g.h=1,g.u=0}function St(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(g){return g.Ra>>>(g.u&xl-1)>>>0}function Z(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>xl}function st(g,b){g.u=b,g.h=Z(g)}function lt(g){g.u>=gu&&(t(g.u>=gu),Tt(g))}function Nt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Et(g){return nt(g,1)}function kt(g,b){var x=g.Ca;0>g.b&&Nt(g);var I=g.b,B=x*b>>>8,q=(g.I>>>I>B)+0;for(q?(x-=B,g.I-=B+1<<I>>>0):x=B+1,I=x,B=0;256<=I;)B+=8,I>>=8;return I=7^B+Ur[I],g.b-=I,g.Ca=(x<<I)-1,q}function Jt(g,b,x){g[b+0]=x>>24&255,g[b+1]=x>>16&255,g[b+2]=x>>8&255,g[b+3]=x>>0&255}function $t(g,b){return g[b+0]<<0|g[b+1]<<8}function ne(g,b){return $t(g,b)|g[b+2]<<16}function te(g,b){return $t(g,b)|$t(g,b+2)<<16}function we(g,b){var x=1<<b;return t(g!=null),t(0<b),g.X=s(x),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Ft(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function Se(g,b,x,I){t(x!=null),t(I!=null);var B=x[0],q=I[0];return B==0&&(B=(g*q+b/2)/b),q==0&&(q=(b*B+g/2)/g),0>=B||0>=q?0:(x[0]=B,I[0]=q,1)}function he(g,b){return g+(1<<b)-1>>>b}function Qt(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Zt(g,b){P[b]=function(x,I,B,q,H,Y,J){var it;for(it=0;it<H;++it){var pt=P[g](Y[J+it-1],B,q+it);Y[J+it]=Qt(x[I+it],pt)}}}function se(){this.ud=this.hd=this.jd=0}function ae(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function ve(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ie(g,b){return ve(g+(g-b+.5>>1))}function Fe(g,b,x){return Math.abs(b-x)-Math.abs(g-x)}function _e(g,b,x,I,B,q,H){for(I=q[H-1],x=0;x<B;++x)q[H+x]=I=Qt(g[b+x],I)}function ge(g,b,x,I,B){var q;for(q=0;q<x;++q){var H=g[b+q],Y=H>>8&255,J=16711935&(J=(J=16711935&H)+((Y<<16)+Y));I[B+q]=(4278255360&H)+J>>>0}}function He(g,b){b.jd=g>>0&255,b.hd=g>>8&255,b.ud=g>>16&255}function fe(g,b,x,I,B,q){var H;for(H=0;H<I;++H){var Y=b[x+H],J=Y>>>8,it=Y,pt=255&(pt=(pt=Y>>>16)+((g.jd<<24>>24)*(J<<24>>24)>>>5));it=255&(it=(it=it+((g.hd<<24>>24)*(J<<24>>24)>>>5))+((g.ud<<24>>24)*(pt<<24>>24)>>>5)),B[q+H]=(4278255360&Y)+(pt<<16)+it}}function We(g,b,x,I,B){P[b]=function(q,H,Y,J,it,pt,It,Rt,At){for(J=It;J<Rt;++J)for(It=0;It<At;++It)it[pt++]=B(Y[I(q[H++])])},P[g]=function(q,H,Y,J,it,pt,It){var Rt=8>>q.b,At=q.Ea,qt=q.K[0],Mt=q.w;if(8>Rt)for(q=(1<<q.b)-1,Mt=(1<<Rt)-1;H<Y;++H){var gt,vt=0;for(gt=0;gt<At;++gt)gt&q||(vt=I(J[it++])),pt[It++]=B(qt[vt&Mt]),vt>>=Rt}else P["VP8LMapColor"+x](J,it,qt,Mt,pt,It,H,Y,At)}}function oe(g,b,x,I,B){for(x=b+x;b<x;){var q=g[b++];I[B++]=q>>16&255,I[B++]=q>>8&255,I[B++]=q>>0&255}}function ri(g,b,x,I,B){for(x=b+x;b<x;){var q=g[b++];I[B++]=q>>16&255,I[B++]=q>>8&255,I[B++]=q>>0&255,I[B++]=q>>24&255}}function Ke(g,b,x,I,B){for(x=b+x;b<x;){var q=(H=g[b++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;I[B++]=q,I[B++]=H}}function tr(g,b,x,I,B){for(x=b+x;b<x;){var q=(H=g[b++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[B++]=q,I[B++]=H}}function Je(g,b,x,I,B){for(x=b+x;b<x;){var q=g[b++];I[B++]=q>>0&255,I[B++]=q>>8&255,I[B++]=q>>16&255}}function Nn(g,b,x,I,B,q){if(q==0)for(x=b+x;b<x;)Jt(I,((q=g[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else i(I,B,g,b,x)}function hr(g,b){P[b][0]=P[g+"0"],P[b][1]=P[g+"1"],P[b][2]=P[g+"2"],P[b][3]=P[g+"3"],P[b][4]=P[g+"4"],P[b][5]=P[g+"5"],P[b][6]=P[g+"6"],P[b][7]=P[g+"7"],P[b][8]=P[g+"8"],P[b][9]=P[g+"9"],P[b][10]=P[g+"10"],P[b][11]=P[g+"11"],P[b][12]=P[g+"12"],P[b][13]=P[g+"13"],P[b][14]=P[g+"0"],P[b][15]=P[g+"0"]}function ln(g){return g==Rc||g==Fo||g==$a||g==_u}function Fs(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ii(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fs,this.f.kb=new Un,this.sd=null}function er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function un(g,b){var x=g.T,I=b.ba.f.RGBA,B=I.eb,q=I.fb+g.ka*I.A,H=Xi[b.ba.S],Y=g.y,J=g.O,it=g.f,pt=g.N,It=g.ea,Rt=g.W,At=b.cc,qt=b.dc,Mt=b.Mc,gt=b.Nc,vt=g.ka,Bt=g.ka+g.T,Ht=g.U,Ut=Ht+1>>1;for(vt==0?H(Y,J,null,null,it,pt,It,Rt,it,pt,It,Rt,B,q,null,null,Ht):(H(b.ec,b.fc,Y,J,At,qt,Mt,gt,it,pt,It,Rt,B,q-I.A,B,q,Ht),++x);vt+2<Bt;vt+=2)At=it,qt=pt,Mt=It,gt=Rt,pt+=g.Rc,Rt+=g.Rc,q+=2*I.A,H(Y,(J+=2*g.fa)-g.fa,Y,J,At,qt,Mt,gt,it,pt,It,Rt,B,q-I.A,B,q,Ht);return J+=g.fa,g.j+Bt<g.o?(i(b.ec,b.fc,Y,J,Ht),i(b.cc,b.dc,it,pt,Ut),i(b.Mc,b.Nc,It,Rt,Ut),x--):1&Bt||H(Y,J,null,null,it,pt,It,Rt,it,pt,It,Rt,B,q+I.A,null,null,Ht),x}function Dr(g,b,x){var I=g.F,B=[g.J];if(I!=null){var q=g.U,H=b.ba.S,Y=H==Cl||H==$a;b=b.ba.f.RGBA;var J=[0],it=g.ka;J[0]=g.T,g.Kb&&(it==0?--J[0]:(--it,B[0]-=g.width),g.j+g.ka+g.T==g.o&&(J[0]=g.o-g.j-it));var pt=b.eb;it=b.fb+it*b.A,g=tn(I,B[0],g.width,q,J,pt,it+(Y?0:3),b.A),t(x==J),g&&ln(H)&&cs(pt,it,Y,q,J,b.A)}return 0}function si(g){var b=g.ma,x=b.ba.S,I=11>x,B=x==vu||x==Nc||x==Cl||x==Xa||x==12||ln(x);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!No(b.Oa,g,B?11:12))return 0;if(B&&ln(x)&&Kt(),g.da)alert("todo:use_scaling");else{if(I){if(b.Ib=xe,g.Kb){if(x=g.U+1>>1,b.memory=s(g.U+2*x),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+x,b.Ib=un,Kt()}}else alert("todo:EmitYUV");B&&(b.Jb=Dr,I&&bt())}if(I&&!Op){for(g=0;256>g;++g)k0[g]=89858*(g-128)+Mi>>Ra,Lc[g]=-22014*(g-128)+Mi,Vf[g]=-45773*(g-128),ji[g]=113618*(g-128)+Mi>>Ra;for(g=Uo;g<Rh;++g)b=76283*(g-16)+Mi>>Ra,Pc[g-Uo]=An(b,255),Uf[g-Uo]=An(b+8>>4,15);Op=1}return 1}function nr(g){var b=g.ma,x=g.U,I=g.T;return t(!(1&g.ka)),0>=x||0>=I?0:(x=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,x),b.Dc+=x,1)}function as(g){g.ma.memory=null}function le(g,b,x,I){return Q(g,8)!=47?0:(b[0]=Q(g,14)+1,x[0]=Q(g,14)+1,I[0]=Q(g,1),Q(g,3)!=0?0:!g.h)}function Rn(g,b){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+Q(b,x)+1}function Cn(g,b){return 120<b?b-120:1<=(x=((x=Ja[b-1])>>4)*g+(8-(15&x)))?x:1;var x}function Kn(g,b,x){var I=W(x),B=g[b+=255&I].g-8;return 0<B&&(st(x,x.u+8),I=W(x),b+=g[b].value,b+=I&(1<<B)-1),st(x,x.u+g[b].g),g[b].value}function Zn(g,b,x){return x.g+=g.g,x.value+=g.value<<b>>>0,t(8>=x.g),g.g}function ai(g,b,x){var I=g.xc;return t((b=I==0?0:g.vc[g.md*(x>>I)+(b>>I)])<g.Wb),g.Ya[b]}function _i(g,b,x,I){var B=g.ab,q=g.c*b,H=g.C;b=H+b;var Y=x,J=I;for(I=g.Ta,x=g.Ua;0<B--;){var it=g.gc[B],pt=H,It=b,Rt=Y,At=J,qt=(J=I,Y=x,it.Ea);switch(t(pt<It),t(It<=it.nc),it.hc){case 2:wh(Rt,At,(It-pt)*qt,J,Y);break;case 0:var Mt=pt,gt=It,vt=J,Bt=Y,Ht=(re=it).Ea;Mt==0&&(Ff(Rt,At,null,null,1,vt,Bt),_e(Rt,At+1,0,0,Ht-1,vt,Bt+1),At+=Ht,Bt+=Ht,++Mt);for(var Ut=1<<re.b,ue=Ut-1,ee=he(Ht,re.b),be=re.K,re=re.w+(Mt>>re.b)*ee;Mt<gt;){var gn=be,Sn=re,Xe=1;for(Tc(Rt,At,vt,Bt-Ht,1,vt,Bt);Xe<Ht;){var Ge=(Xe&~ue)+Ut;Ge>Ht&&(Ge=Ht),(0,Ga[gn[Sn++]>>8&15])(Rt,At+ +Xe,vt,Bt+Xe-Ht,Ge-Xe,vt,Bt+Xe),Xe=Ge}At+=Ht,Bt+=Ht,++Mt&ue||(re+=ee)}It!=it.nc&&i(J,Y-qt,J,Y+(It-pt-1)*qt,qt);break;case 1:for(qt=Rt,gt=At,Ht=(Rt=it.Ea)-(Bt=Rt&~(vt=(At=1<<it.b)-1)),Mt=he(Rt,it.b),Ut=it.K,it=it.w+(pt>>it.b)*Mt;pt<It;){for(ue=Ut,ee=it,be=new se,re=gt+Bt,gn=gt+Rt;gt<re;)He(ue[ee++],be),Io(be,qt,gt,At,J,Y),gt+=At,Y+=At;gt<gn&&(He(ue[ee++],be),Io(be,qt,gt,Ht,J,Y),gt+=Ht,Y+=Ht),++pt&vt||(it+=Mt)}break;case 3:if(Rt==J&&At==Y&&0<it.b){for(gt=J,Rt=qt=Y+(It-pt)*qt-(Bt=(It-pt)*he(it.Ea,it.b)),At=J,vt=Y,Mt=[],Bt=(Ht=Bt)-1;0<=Bt;--Bt)Mt[Bt]=At[vt+Bt];for(Bt=Ht-1;0<=Bt;--Bt)gt[Rt+Bt]=Mt[Bt];Ss(it,pt,It,J,qt,J,Y)}else Ss(it,pt,It,Rt,At,J,Y)}Y=I,J=x}J!=x&&i(I,x,Y,J,q)}function Ma(g,b){var x=g.V,I=g.Ba+g.c*g.C,B=b-g.C;if(t(b<=g.l.o),t(16>=B),0<B){var q=g.l,H=g.Ta,Y=g.Ua,J=q.width;if(_i(g,B,x,I),B=Y=[Y],t((x=g.C)<(I=b)),t(q.v<q.va),I>q.o&&(I=q.o),x<q.j){var it=q.j-x;x=q.j,B[0]+=it*J}if(x>=I?x=0:(B[0]+=4*q.v,q.ka=x-q.j,q.U=q.va-q.v,q.T=I-x,x=1),x){if(Y=Y[0],11>(x=g.ca).S){var pt=x.f.RGBA,It=(I=x.S,B=q.U,q=q.T,it=pt.eb,pt.A),Rt=q;for(pt=pt.fb+g.Ma*pt.A;0<Rt--;){var At=H,qt=Y,Mt=B,gt=it,vt=pt;switch(I){case yr:Tr(At,qt,Mt,gt,vt);break;case vu:ar(At,qt,Mt,gt,vt);break;case Rc:ar(At,qt,Mt,gt,vt),cs(gt,vt,0,Mt,1,0);break;case xa:$s(At,qt,Mt,gt,vt);break;case Nc:Nn(At,qt,Mt,gt,vt,1);break;case Fo:Nn(At,qt,Mt,gt,vt,1),cs(gt,vt,0,Mt,1,0);break;case Cl:Nn(At,qt,Mt,gt,vt,0);break;case $a:Nn(At,qt,Mt,gt,vt,0),cs(gt,vt,1,Mt,1,0);break;case Xa:Lo(At,qt,Mt,gt,vt);break;case _u:Lo(At,qt,Mt,gt,vt),Ze(gt,vt,Mt,1,0);break;case Sh:zr(At,qt,Mt,gt,vt);break;default:t(0)}Y+=J,pt+=It}g.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=x.height)}}g.C=b,t(g.C<=g.i)}function Sr(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var x=g.Ya[b].G,I=g.Ya[b].H;if(0<x[1][I[1]+0].g||0<x[2][I[2]+0].g||0<x[3][I[3]+0].g)return 0}return 1}function Wi(g,b,x,I,B,q){if(g.Z!=0){var H=g.qd,Y=g.rd;for(t(Ea[g.Z]!=null);b<x;++b)Ea[g.Z](H,Y,I,B,I,B,q),H=I,Y=B,B+=q;g.qd=H,g.rd=Y}}function Li(g,b){var x=g.l.ma,I=x.Z==0||x.Z==1?g.l.j:g.C;if(I=g.C<I?I:g.C,t(b<=g.l.o),b>I){var B=g.l.width,q=x.ca,H=x.tb+B*I,Y=g.V,J=g.Ba+g.c*I,it=g.gc;t(g.ab==1),t(it[0].hc==3),Co(it[0],I,b,Y,J,q,H),Wi(x,I,b,q,H,B)}g.C=g.Ma=b}function bi(g,b,x,I,B,q,H){var Y=g.$/I,J=g.$%I,it=g.m,pt=g.s,It=x+g.$,Rt=It;B=x+I*B;var At=x+I*q,qt=280+pt.ua,Mt=g.Pb?Y:16777216,gt=0<pt.ua?pt.Wa:null,vt=pt.wc,Bt=It<At?ai(pt,J,Y):null;t(g.C<q),t(At<=B);var Ht=!1;t:for(;;){for(;Ht||It<At;){var Ut=0;if(Y>=Mt){var ue=It-x;t((Mt=g).Pb),Mt.wd=Mt.m,Mt.xd=ue,0<Mt.s.ua&&Ft(Mt.s.Wa,Mt.s.vb),Mt=Y+Pp}if(J&vt||(Bt=ai(pt,J,Y)),t(Bt!=null),Bt.Qb&&(b[It]=Bt.qb,Ht=!0),!Ht)if(lt(it),Bt.jc){Ut=it,ue=b;var ee=It,be=Bt.pd[W(Ut)&Di-1];t(Bt.jc),256>be.g?(st(Ut,Ut.u+be.g),ue[ee]=be.value,Ut=0):(st(Ut,Ut.u+be.g-256),t(256<=be.value),Ut=be.value),Ut==0&&(Ht=!0)}else Ut=Kn(Bt.G[0],Bt.H[0],it);if(it.h)break;if(Ht||256>Ut){if(!Ht)if(Bt.nd)b[It]=(Bt.qb|Ut<<8)>>>0;else{if(lt(it),Ht=Kn(Bt.G[1],Bt.H[1],it),lt(it),ue=Kn(Bt.G[2],Bt.H[2],it),ee=Kn(Bt.G[3],Bt.H[3],it),it.h)break;b[It]=(ee<<24|Ht<<16|Ut<<8|ue)>>>0}if(Ht=!1,++It,++J>=I&&(J=0,++Y,H!=null&&Y<=q&&!(Y%16)&&H(g,Y),gt!=null))for(;Rt<It;)Ut=b[Rt++],gt.X[(506832829*Ut&4294967295)>>>gt.Mb]=Ut}else if(280>Ut){if(Ut=Rn(Ut-256,it),ue=Kn(Bt.G[4],Bt.H[4],it),lt(it),ue=Cn(I,ue=Rn(ue,it)),it.h)break;if(It-x<ue||B-It<Ut)break t;for(ee=0;ee<Ut;++ee)b[It+ee]=b[It+ee-ue];for(It+=Ut,J+=Ut;J>=I;)J-=I,++Y,H!=null&&Y<=q&&!(Y%16)&&H(g,Y);if(t(It<=B),J&vt&&(Bt=ai(pt,J,Y)),gt!=null)for(;Rt<It;)Ut=b[Rt++],gt.X[(506832829*Ut&4294967295)>>>gt.Mb]=Ut}else{if(!(Ut<qt))break t;for(Ht=Ut-280,t(gt!=null);Rt<It;)Ut=b[Rt++],gt.X[(506832829*Ut&4294967295)>>>gt.Mb]=Ut;Ut=It,t(!(Ht>>>(ue=gt).Xa)),b[Ut]=ue.X[Ht],Ht=!0}Ht||t(it.h==Z(it))}if(g.Pb&&it.h&&It<B)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ft(g.s.vb,g.s.Wa);else{if(it.h)break t;H!=null&&H(g,Y>q?q:Y),g.a=0,g.$=It-x}return 1}return g.a=3,0}function Pi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function qn(){var g=new du;return g==null?null:(g.a=0,g.xb=bu,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),wh=ge,Io=fe,Tr=oe,ar=ri,Lo=Ke,zr=tr,$s=Je,P.VP8LMapColor32b=Yi,P.VP8LMapColor8b=Ec,g)}function bn(g,b,x,I,B){var q=1,H=[g],Y=[b],J=I.m,it=I.s,pt=null,It=0;t:for(;;){if(x)for(;q&&Q(J,1);){var Rt=H,At=Y,qt=I,Mt=1,gt=qt.m,vt=qt.gc[qt.ab],Bt=Q(gt,2);if(qt.Oc&1<<Bt)q=0;else{switch(qt.Oc|=1<<Bt,vt.hc=Bt,vt.Ea=Rt[0],vt.nc=At[0],vt.K=[null],++qt.ab,t(4>=qt.ab),Bt){case 0:case 1:vt.b=Q(gt,3)+2,Mt=bn(he(vt.Ea,vt.b),he(vt.nc,vt.b),0,qt,vt.K),vt.K=vt.K[0];break;case 3:var Ht,Ut=Q(gt,8)+1,ue=16<Ut?0:4<Ut?1:2<Ut?2:3;if(Rt[0]=he(vt.Ea,ue),vt.b=ue,Ht=Mt=bn(Ut,1,0,qt,vt.K)){var ee,be=Ut,re=vt,gn=1<<(8>>re.b),Sn=s(gn);if(Sn==null)Ht=0;else{var Xe=re.K[0],Ge=re.w;for(Sn[0]=re.K[0][0],ee=1;ee<1*be;++ee)Sn[ee]=Qt(Xe[Ge+ee],Sn[ee-1]);for(;ee<4*gn;++ee)Sn[ee]=0;re.K[0]=null,re.K[0]=Sn,Ht=1}}Mt=Ht;break;case 2:break;default:t(0)}q=Mt}}if(H=H[0],Y=Y[0],q&&Q(J,1)&&!(q=1<=(It=Q(J,4))&&11>=It)){I.a=3;break t}var Ln;if(Ln=q)e:{var xn,Ve,On,Te=I,ke=H,pn=Y,mn=It,$i=x,Fi=Te.m,di=Te.s,pi=[null],xi=1,Ns=0,Tn=Ll[mn];n:for(;;){if($i&&Q(Fi,1)){var Ti=Q(Fi,3)+2,Zs=he(ke,Ti),zo=he(pn,Ti),Dl=Zs*zo;if(!bn(Zs,zo,0,Te,pi))break n;for(pi=pi[0],di.xc=Ti,xn=0;xn<Dl;++xn){var qo=pi[xn]>>8&65535;pi[xn]=qo,qo>=xi&&(xi=qo+1)}}if(Fi.h)break n;for(Ve=0;5>Ve;++Ve){var Qn=hs[Ve];!Ve&&0<mn&&(Qn+=1<<mn),Ns<Qn&&(Ns=Qn)}var kc=o(xi*Tn,D),Ch=xi,Nr=o(Ch,at);if(Nr==null)var ti=null;else t(65536>=Ch),ti=Nr;var Ol=s(Ns);if(ti==null||Ol==null||kc==null){Te.a=1;break n}var Ho=kc;for(xn=On=0;xn<xi;++xn){var Hr=ti[xn],Wo=Hr.G,Wr=Hr.H,Dc=0,Au=1,Ih=0;for(Ve=0;5>Ve;++Ve){Qn=hs[Ve],Wo[Ve]=Ho,Wr[Ve]=On,!Ve&&0<mn&&(Qn+=1<<mn);r:{var Oc,Lh=Qn,Mc=Te,Su=Ol,Fp=Ho,Bp=On,jc=0,no=Mc.m,O0=Q(no,1);if(r(Su,0,0,Lh),O0){var Vp=Q(no,1)+1,Up=Q(no,1),zf=Q(no,Up==0?1:8);Su[zf]=1,Vp==2&&(Su[zf=Q(no,8)]=1);var xu=1}else{var qf=s(19),Hf=Q(no,4)+4;if(19<Hf){Mc.a=3;var Fc=0;break r}for(Oc=0;Oc<Hf;++Oc)qf[Qa[Oc]]=Q(no,3);var Ph=void 0,Tu=void 0,zp=Mc,qp=qf,io=Lh,Bc=Su,kh=0,ta=zp.m,Eu=8,Wf=o(128,D);i:for(;L(Wf,0,7,qp,19);){if(Q(ta,1)){var Hp=2+2*Q(ta,3);if((Ph=2+Q(ta,Hp))>io)break i}else Ph=io;for(Tu=0;Tu<io&&Ph--;){lt(ta);var Gf=Wf[0+(127&W(ta))];st(ta,ta.u+Gf.g);var Ml=Gf.value;if(16>Ml)Bc[Tu++]=Ml,Ml!=0&&(Eu=Ml);else{var Wp=Ml==16,Yf=Ml-16,Kf=Es[Yf],Xf=Q(ta,xh[Yf])+Kf;if(Tu+Xf>io)break i;for(var Gp=Wp?Eu:0;0<Xf--;)Bc[Tu++]=Gp}}kh=1;break i}kh||(zp.a=3),xu=kh}(xu=xu&&!no.h)&&(jc=L(Fp,Bp,8,Su,Lh)),xu&&jc!=0?Fc=jc:(Mc.a=3,Fc=0)}if(Fc==0)break n;if(Au&&Il[Ve]==1&&(Au=Ho[On].g==0),Dc+=Ho[On].g,On+=Fc,3>=Ve){var jl,Dh=Ol[0];for(jl=1;jl<Qn;++jl)Ol[jl]>Dh&&(Dh=Ol[jl]);Ih+=Dh}}if(Hr.nd=Au,Hr.Qb=0,Au&&(Hr.qb=(Wo[3][Wr[3]+0].value<<24|Wo[1][Wr[1]+0].value<<16|Wo[2][Wr[2]+0].value)>>>0,Dc==0&&256>Wo[0][Wr[0]+0].value&&(Hr.Qb=1,Hr.qb+=Wo[0][Wr[0]+0].value<<8)),Hr.jc=!Hr.Qb&&6>Ih,Hr.jc){var Vc,ro=Hr;for(Vc=0;Vc<Di;++Vc){var Ca=Vc,so=ro.pd[Ca],Uc=ro.G[0][ro.H[0]+Ca];256<=Uc.value?(so.g=Uc.g+256,so.value=Uc.value):(so.g=0,so.value=0,Ca>>=Zn(Uc,8,so),Ca>>=Zn(ro.G[1][ro.H[1]+Ca],16,so),Ca>>=Zn(ro.G[2][ro.H[2]+Ca],0,so),Zn(ro.G[3][ro.H[3]+Ca],24,so))}}}di.vc=pi,di.Wb=xi,di.Ya=ti,di.yc=kc,Ln=1;break e}Ln=0}if(!(q=Ln)){I.a=3;break t}if(0<It){if(it.ua=1<<It,!we(it.Wa,It)){I.a=1,q=0;break t}}else it.ua=0;var zc=I,$f=H,Yp=Y,Qf=zc.s,Jf=Qf.xc;if(zc.c=$f,zc.i=Yp,Qf.md=he($f,Jf),Qf.wc=Jf==0?-1:(1<<Jf)-1,x){I.xb=Dp;break t}if((pt=s(H*Y))==null){I.a=1,q=0;break t}q=(q=bi(I,pt,0,H,Y,Y,null))&&!J.h;break t}return q?(B!=null?B[0]=pt:(t(pt==null),t(x)),I.$=0,x||Pi(it)):Pi(it),q}function Bs(g,b){var x=g.c*g.i,I=x+b+16*b;return t(g.c<=b),g.V=s(I),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+b,1)}function Vs(g,b){var x=g.C,I=b-x,B=g.V,q=g.Ba+g.c*x;for(t(b<=g.l.o);0<I;){var H=16<I?16:I,Y=g.l.ma,J=g.l.width,it=J*H,pt=Y.ca,It=Y.tb+J*x,Rt=g.Ta,At=g.Ua;_i(g,H,B,q),Wn(Rt,At,pt,It,it),Wi(Y,x,x+H,pt,It,J),I-=H,B+=H*g.c,x+=H}t(x==b),g.C=g.Ma=b}function fr(){this.ub=this.yd=this.td=this.Rb=0}function Or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pl(){this.Yb=function(){var g=[];return function b(x,I,B){for(var q=B[I],H=0;H<q&&(x.push(B.length>I+1?[]:0),!(B.length<I+1));H++)b(x[H],I+1,B)}(g,0,[3,11]),g}()}function Fa(){this.jb=s(3),this.Wc=u([4,8],pl),this.Xc=u([4,17],pl)}function ou(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function os(){this.ld=this.La=this.dd=this.tc=0}function ls(){this.Na=this.la=0}function ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Us(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lu(){this.uc=this.M=this.Nb=0,this.wa=Array(new os),this.Y=0,this.ya=Array(new Us),this.aa=0,this.l=new zs}function ps(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _o(){this.cb=this.a=0,this.sc="",this.m=new St,this.Od=new fr,this.Kc=new Or,this.ed=new ou,this.Qa=new ja,this.Ic=this.$c=this.Aa=0,this.D=new lu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,St),this.ia=0,this.pb=o(4,ki),this.Pa=new Fa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new ls),this.sb=0,this.wa=Array(new os),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Us),this.L=this.aa=0,this.gd=u([4,2],os),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gl(){var g=new _o;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Oi||(Oi=uu)),g}function Hn(g,b,x){return g.a==0&&(g.a=b,g.sc=x,g.cb=0),0}function Gi(g,b,x){return 3<=x&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function bo(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Hn(g,2,"null VP8Io passed to VP8GetHeaders()");var x=b.data,I=b.w,B=b.ha;if(4>B)return Hn(g,7,"Truncated header.");var q=x[I+0]|x[I+1]<<8|x[I+2]<<16,H=g.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return Hn(g,3,"Incorrect keyframe parameters.");if(!H.yd)return Hn(g,4,"Frame not displayable.");I+=3,B-=3;var Y=g.Kc;if(H.Rb){if(7>B)return Hn(g,7,"cannot parse picture header");if(!Gi(x,I,B))return Hn(g,3,"Bad code word");Y.c=16383&(x[I+4]<<8|x[I+3]),Y.Td=x[I+4]>>6,Y.i=16383&(x[I+6]<<8|x[I+5]),Y.Ud=x[I+6]>>6,I+=7,B-=7,g.za=Y.c+15>>4,g.Ub=Y.i+15>>4,b.width=Y.c,b.height=Y.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,r((q=g.Pa).jb,0,255,q.jb.length),t((q=g.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,r(q.Zb,0,0,q.Zb.length),r(q.Lb,0,0,q.Lb)}if(H.ub>B)return Hn(g,7,"bad partition length");wt(q=g.m,x,I,H.ub),I+=H.ub,B-=H.ub,H.Rb&&(Y.Ld=Et(q),Y.Kd=Et(q)),Y=g.Qa;var J,it=g.Pa;if(t(q!=null),t(Y!=null),Y.Cb=Et(q),Y.Cb){if(Y.Bb=Et(q),Et(q)){for(Y.Fb=Et(q),J=0;4>J;++J)Y.Zb[J]=Et(q)?ct(q,7):0;for(J=0;4>J;++J)Y.Lb[J]=Et(q)?ct(q,6):0}if(Y.Bb)for(J=0;3>J;++J)it.jb[J]=Et(q)?nt(q,8):255}else Y.Bb=0;if(q.Ka)return Hn(g,3,"cannot parse segment header");if((Y=g.ed).zd=Et(q),Y.Tb=nt(q,6),Y.wb=nt(q,3),Y.Pc=Et(q),Y.Pc&&Et(q)){for(it=0;4>it;++it)Et(q)&&(Y.vd[it]=ct(q,6));for(it=0;4>it;++it)Et(q)&&(Y.od[it]=ct(q,6))}if(g.L=Y.Tb==0?0:Y.zd?1:2,q.Ka)return Hn(g,3,"cannot parse filter header");var pt=B;if(B=J=I,I=J+pt,Y=pt,g.Xb=(1<<nt(g.m,2))-1,pt<3*(it=g.Xb))x=7;else{for(J+=3*it,Y-=3*it,pt=0;pt<it;++pt){var It=x[B+0]|x[B+1]<<8|x[B+2]<<16;It>Y&&(It=Y),wt(g.Jc[+pt],x,J,It),J+=It,Y-=It,B+=3}wt(g.Jc[+it],x,J,Y),x=J<I?0:5}if(x!=0)return Hn(g,x,"cannot parse partitions");for(x=nt(J=g.m,7),B=Et(J)?ct(J,4):0,I=Et(J)?ct(J,4):0,Y=Et(J)?ct(J,4):0,it=Et(J)?ct(J,4):0,J=Et(J)?ct(J,4):0,pt=g.Qa,It=0;4>It;++It){if(pt.Cb){var Rt=pt.Zb[It];pt.Fb||(Rt+=x)}else{if(0<It){g.pb[It]=g.pb[0];continue}Rt=x}var At=g.pb[It];At.Sc[0]=Cc[An(Rt+B,127)],At.Sc[1]=Ic[An(Rt+0,127)],At.Eb[0]=2*Cc[An(Rt+I,127)],At.Eb[1]=101581*Ic[An(Rt+Y,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=Cc[An(Rt+it,117)],At.Qc[1]=Ic[An(Rt+J,127)],At.lc=Rt+J}if(!H.Rb)return Hn(g,4,"Not a key frame.");for(Et(q),H=g.Pa,x=0;4>x;++x){for(B=0;8>B;++B)for(I=0;3>I;++I)for(Y=0;11>Y;++Y)it=kt(q,Pl[x][B][I][Y])?nt(q,8):Ta[x][B][I][Y],H.Wc[x][B].Yb[I][Y]=it;for(B=0;17>B;++B)H.Xc[x][B]=H.Wc[x][kp[B]]}return g.kc=Et(q),g.kc&&(g.Bd=nt(q,8)),g.cb=1}function uu(g,b,x,I,B,q,H){var Y=b[B].Yb[x];for(x=0;16>B;++B){if(!kt(g,Y[x+0]))return B;for(;!kt(g,Y[x+1]);)if(Y=b[++B].Yb[0],x=0,B==16)return 16;var J=b[B+1].Yb;if(kt(g,Y[x+2])){var it=g,pt=0;if(kt(it,(Rt=Y)[(It=x)+3]))if(kt(it,Rt[It+6])){for(Y=0,It=2*(pt=kt(it,Rt[It+8]))+(Rt=kt(it,Rt[It+9+pt])),pt=0,Rt=ui[It];Rt[Y];++Y)pt+=pt+kt(it,Rt[Y]);pt+=3+(8<<It)}else kt(it,Rt[It+7])?(pt=7+2*kt(it,165),pt+=kt(it,145)):pt=5+kt(it,159);else pt=kt(it,Rt[It+4])?3+kt(it,Rt[It+5]):2;Y=J[2]}else pt=1,Y=J[1];J=H+_n[B],0>(it=g).b&&Nt(it);var It,Rt=it.b,At=(It=it.Ca>>1)-(it.I>>Rt)>>31;--it.b,it.Ca+=At,it.Ca|=1,it.I-=(It+1&At)<<Rt,q[J]=((pt^At)-At)*I[(0<B)+0]}return 16}function ca(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function ml(g,b){if(g==null)return 0;if(b==null)return Hn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!bo(g,b))return 0;if(t(g.cb),b.ac==null||b.ac(b)){b.ob&&(g.L=0);var x=eo[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=b.v-x>>4,g.zb=b.j-x>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=b.o+15+x>>4,g.Hb=b.va+15+x>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var I=g.ed;for(x=0;4>x;++x){var B;if(g.Qa.Cb){var q=g.Qa.Lb[x];g.Qa.Fb||(q+=I.Tb)}else q=I.Tb;for(B=0;1>=B;++B){var H=g.gd[x][B],Y=q;if(I.Pc&&(Y+=I.vd[0],B&&(Y+=I.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var J=Y;0<I.wb&&(J=4<I.wb?J>>2:J>>1)>9-I.wb&&(J=9-I.wb),1>J&&(J=1),H.dd=J,H.tc=2*Y+J,H.ld=40<=Y?2:15<=Y?1:0}else H.tc=0;H.La=B}}}x=0}else Hn(g,6,"Frame setup failed"),x=g.a;if(x=x==0){if(x){g.$c=0,0<g.Aa||(g.Ic=Mp);t:{x=g.Ic,I=4*(J=g.za);var it=32*J,pt=J+1,It=0<g.L?J*(0<g.Aa?2:1):0,Rt=(g.Aa==2?2:1)*J;if((H=I+832+(B=3*(16*x+eo[g.L])/2*it)+(q=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=H)x=0;else{if(H>g.Vb){if(g.Vb=0,g.Ec=s(H),g.Fc=0,g.Ec==null){x=Hn(g,1,"no memory during frame initialization.");break t}g.Vb=H}H=g.Ec,Y=g.Fc,g.Ac=H,g.Bc=Y,Y+=I,g.Gd=o(it,ps),g.Hd=0,g.rb=o(pt+1,ls),g.sb=1,g.wa=It?o(It,os):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=J),t(!0),g.oc=H,g.pc=Y,Y+=832,g.ya=o(Rt,Us),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=J),g.R=16*J,g.B=8*J,J=(it=eo[g.L])*g.R,it=it/2*g.B,g.sa=H,g.ta=Y+J,g.qa=g.sa,g.ra=g.ta+16*x*g.R+it,g.Ha=g.qa,g.Ia=g.ra+8*x*g.B+it,g.$c=0,Y+=B,g.mb=q?H:null,g.nb=q?Y:null,t(Y+q<=g.Fc+g.Vb),ca(g),r(g.Ac,g.Bc,0,I),x=1}}if(x){if(b.ka=0,b.y=g.sa,b.O=g.ta,b.f=g.qa,b.N=g.ra,b.ea=g.Ha,b.Vd=g.Ia,b.fa=g.R,b.Rc=g.B,b.F=null,b.J=0,!Ka){for(x=-255;255>=x;++x)fi[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)xs[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)Mo[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)jo[255+x]=0>x?0:255<x?255:x;Ka=1}Aa=Mr,Qs=fa,Js=gs,Si=wn,qr=da,oi=ha,Tl=ya,Sa=Ks,mu=xo,Po=wl,ko=So,Do=Ua,El=za,yu=va,Oo=us,Ya=gr,Nl=Ai,li=fu,Er[0]=dr,Er[1]=cu,Er[2]=vs,Er[3]=hu,Er[4]=jr,Er[5]=_s,Er[6]=xr,Er[7]=Fr,Er[8]=Ys,Er[9]=pa,Za[0]=ms,Za[1]=vl,Za[2]=Hs,Za[3]=Ao,Za[4]=Dn,Za[5]=Gs,Za[6]=ys,fs[0]=bs,fs[1]=yl,fs[2]=_l,fs[3]=Br,fs[4]=nn,fs[5]=wi,fs[6]=ga,x=1}else x=0}x&&(x=function(At,qt){for(At.M=0;At.M<At.Va;++At.M){var Mt,gt=At.Jc[At.M&At.Xb],vt=At.m,Bt=At;for(Mt=0;Mt<Bt.za;++Mt){var Ht=vt,Ut=Bt,ue=Ut.Ac,ee=Ut.Bc+4*Mt,be=Ut.zc,re=Ut.ya[Ut.aa+Mt];if(Ut.Qa.Bb?re.$b=kt(Ht,Ut.Pa.jb[0])?2+kt(Ht,Ut.Pa.jb[2]):kt(Ht,Ut.Pa.jb[1]):re.$b=0,Ut.kc&&(re.Ad=kt(Ht,Ut.Bd)),re.Za=!kt(Ht,145)+0,re.Za){var gn=re.Ob,Sn=0;for(Ut=0;4>Ut;++Ut){var Xe,Ge=be[0+Ut];for(Xe=0;4>Xe;++Xe){Ge=Bf[ue[ee+Xe]][Ge];for(var Ln=Bo[kt(Ht,Ge[0])];0<Ln;)Ln=Bo[2*Ln+kt(Ht,Ge[Ln])];Ge=-Ln,ue[ee+Xe]=Ge}i(gn,Sn,ue,ee,4),Sn+=4,be[0+Ut]=Ge}}else Ge=kt(Ht,156)?kt(Ht,128)?1:3:kt(Ht,163)?2:0,re.Ob[0]=Ge,r(ue,ee,Ge,4),r(be,0,Ge,4);re.Dd=kt(Ht,142)?kt(Ht,114)?kt(Ht,183)?1:3:2:0}if(Bt.m.Ka)return Hn(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(Bt=gt,Ht=(vt=At).rb[vt.sb-1],ue=vt.rb[vt.sb+vt.ja],Mt=vt.ya[vt.aa+vt.ja],ee=vt.kc?Mt.Ad:0)Ht.la=ue.la=0,Mt.Za||(Ht.Na=ue.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var xn,Ve;if(Ht=ue,ue=Bt,ee=vt.Pa.Xc,be=vt.ya[vt.aa+vt.ja],re=vt.pb[be.$b],Ut=be.ad,gn=0,Sn=vt.rb[vt.sb-1],Ge=Xe=0,r(Ut,gn,0,384),be.Za)var On=0,Te=ee[3];else{Ln=s(16);var ke=Ht.Na+Sn.Na;if(ke=Oi(ue,ee[1],ke,re.Eb,0,Ln,0),Ht.Na=Sn.Na=(0<ke)+0,1<ke)Aa(Ln,0,Ut,gn);else{var pn=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)Ut[gn+Ln]=pn}On=1,Te=ee[0]}var mn=15&Ht.la,$i=15&Sn.la;for(Ln=0;4>Ln;++Ln){var Fi=1&$i;for(pn=Ve=0;4>pn;++pn)mn=mn>>1|(Fi=(ke=Oi(ue,Te,ke=Fi+(1&mn),re.Sc,On,Ut,gn))>On)<<7,Ve=Ve<<2|(3<ke?3:1<ke?2:Ut[gn+0]!=0),gn+=16;mn>>=4,$i=$i>>1|Fi<<7,Xe=(Xe<<8|Ve)>>>0}for(Te=mn,On=$i>>4,xn=0;4>xn;xn+=2){for(Ve=0,mn=Ht.la>>4+xn,$i=Sn.la>>4+xn,Ln=0;2>Ln;++Ln){for(Fi=1&$i,pn=0;2>pn;++pn)ke=Fi+(1&mn),mn=mn>>1|(Fi=0<(ke=Oi(ue,ee[2],ke,re.Qc,0,Ut,gn)))<<3,Ve=Ve<<2|(3<ke?3:1<ke?2:Ut[gn+0]!=0),gn+=16;mn>>=2,$i=$i>>1|Fi<<5}Ge|=Ve<<4*xn,Te|=mn<<4<<xn,On|=(240&$i)<<xn}Ht.la=Te,Sn.la=On,be.Hc=Xe,be.Gc=Ge,be.ia=43690&Ge?0:re.ia,ee=!(Xe|Ge)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[Mt.$b][Mt.Za],vt.wa[vt.Y+vt.ja].La|=!ee),Bt.Ka)return Hn(At,7,"Premature end-of-file encountered.")}if(ca(At),vt=qt,Bt=1,Mt=(gt=At).D,Ht=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(Mt.M=gt.M,Mt.uc=Ht,Vr(gt,Mt),Bt=1,Mt=(Ve=gt.D).Nb,Ht=(Ge=eo[gt.L])*gt.R,ue=Ge/2*gt.B,Ln=16*Mt*gt.R,pn=8*Mt*gt.B,ee=gt.sa,be=gt.ta-Ht+Ln,re=gt.qa,Ut=gt.ra-ue+pn,gn=gt.Ha,Sn=gt.Ia-ue+pn,$i=(mn=Ve.M)==0,Xe=mn>=gt.Va-1,gt.Aa==2&&Vr(gt,Ve),Ve.uc)for(Fi=(ke=gt).D.M,t(ke.D.uc),Ve=ke.yb;Ve<ke.Hb;++Ve){On=Ve,Te=Fi;var di=(pi=(Qn=ke).D).Nb;xn=Qn.R;var pi=pi.wa[pi.Y+On],xi=Qn.sa,Ns=Qn.ta+16*di*xn+16*On,Tn=pi.dd,Ti=pi.tc;if(Ti!=0)if(t(3<=Ti),Qn.L==1)0<On&&Ya(xi,Ns,xn,Ti+4),pi.La&&li(xi,Ns,xn,Ti),0<Te&&Oo(xi,Ns,xn,Ti+4),pi.La&&Nl(xi,Ns,xn,Ti);else{var Zs=Qn.B,zo=Qn.qa,Dl=Qn.ra+8*di*Zs+8*On,qo=Qn.Ha,Qn=Qn.Ia+8*di*Zs+8*On;di=pi.ld,0<On&&(Sa(xi,Ns,xn,Ti+4,Tn,di),Po(zo,Dl,qo,Qn,Zs,Ti+4,Tn,di)),pi.La&&(Do(xi,Ns,xn,Ti,Tn,di),yu(zo,Dl,qo,Qn,Zs,Ti,Tn,di)),0<Te&&(Tl(xi,Ns,xn,Ti+4,Tn,di),mu(zo,Dl,qo,Qn,Zs,Ti+4,Tn,di)),pi.La&&(ko(xi,Ns,xn,Ti,Tn,di),El(zo,Dl,qo,Qn,Zs,Ti,Tn,di))}}if(gt.ia&&alert("todo:DitherRow"),vt.put!=null){if(Ve=16*mn,mn=16*(mn+1),$i?(vt.y=gt.sa,vt.O=gt.ta+Ln,vt.f=gt.qa,vt.N=gt.ra+pn,vt.ea=gt.Ha,vt.W=gt.Ia+pn):(Ve-=Ge,vt.y=ee,vt.O=be,vt.f=re,vt.N=Ut,vt.ea=gn,vt.W=Sn),Xe||(mn-=Ge),mn>vt.o&&(mn=vt.o),vt.F=null,vt.J=null,gt.Fa!=null&&0<gt.Fa.length&&Ve<mn&&(vt.J=Eo(gt,vt,Ve,mn-Ve),vt.F=gt.mb,vt.F==null&&vt.F.length==0)){Bt=Hn(gt,3,"Could not decode alpha data.");break t}Ve<vt.j&&(Ge=vt.j-Ve,Ve=vt.j,t(!(1&Ge)),vt.O+=gt.R*Ge,vt.N+=gt.B*(Ge>>1),vt.W+=gt.B*(Ge>>1),vt.F!=null&&(vt.J+=vt.width*Ge)),Ve<mn&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=Ve-vt.j,vt.U=vt.va-vt.v,vt.T=mn-Ve,Bt=vt.put(vt))}Mt+1!=gt.Ic||Xe||(i(gt.sa,gt.ta-Ht,ee,be+16*gt.R,Ht),i(gt.qa,gt.ra-ue,re,Ut+8*gt.B,ue),i(gt.Ha,gt.Ia-ue,gn,Sn+8*gt.B,ue))}if(!Bt)return Hn(At,6,"Output aborted.")}return 1}(g,b)),b.bc!=null&&b.bc(b),x&=1}return x?(g.cb=0,x):0}function ir(g,b,x,I,B){B=g[b+x+32*I]+(B>>3),g[b+x+32*I]=-256&B?0>B?0:255:B}function wo(g,b,x,I,B,q){ir(g,b,0,x,I+B),ir(g,b,1,x,I+q),ir(g,b,2,x,I-q),ir(g,b,3,x,I-B)}function dn(g){return(20091*g>>16)+g}function rr(g,b,x,I){var B,q=0,H=s(16);for(B=0;4>B;++B){var Y=g[b+0]+g[b+8],J=g[b+0]-g[b+8],it=(35468*g[b+4]>>16)-dn(g[b+12]),pt=dn(g[b+4])+(35468*g[b+12]>>16);H[q+0]=Y+pt,H[q+1]=J+it,H[q+2]=J-it,H[q+3]=Y-pt,q+=4,b++}for(B=q=0;4>B;++B)Y=(g=H[q+0]+4)+H[q+8],J=g-H[q+8],it=(35468*H[q+4]>>16)-dn(H[q+12]),ir(x,I,0,0,Y+(pt=dn(H[q+4])+(35468*H[q+12]>>16))),ir(x,I,1,0,J+it),ir(x,I,2,0,J-it),ir(x,I,3,0,Y-pt),q++,I+=32}function ha(g,b,x,I){var B=g[b+0]+4,q=35468*g[b+4]>>16,H=dn(g[b+4]),Y=35468*g[b+1]>>16;wo(x,I,0,B+H,g=dn(g[b+1]),Y),wo(x,I,1,B+q,g,Y),wo(x,I,2,B-q,g,Y),wo(x,I,3,B-H,g,Y)}function fa(g,b,x,I,B){rr(g,b,x,I),B&&rr(g,b+16,x,I+4)}function gs(g,b,x,I){Qs(g,b+0,x,I,1),Qs(g,b+32,x,I+128,1)}function wn(g,b,x,I){var B;for(g=g[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)ir(x,I,b,B,g)}function da(g,b,x,I){g[b+0]&&Si(g,b+0,x,I),g[b+16]&&Si(g,b+16,x,I+4),g[b+32]&&Si(g,b+32,x,I+128),g[b+48]&&Si(g,b+48,x,I+128+4)}function Mr(g,b,x,I){var B,q=s(16);for(B=0;4>B;++B){var H=g[b+0+B]+g[b+12+B],Y=g[b+4+B]+g[b+8+B],J=g[b+4+B]-g[b+8+B],it=g[b+0+B]-g[b+12+B];q[0+B]=H+Y,q[8+B]=H-Y,q[4+B]=it+J,q[12+B]=it-J}for(B=0;4>B;++B)H=(g=q[0+4*B]+3)+q[3+4*B],Y=q[1+4*B]+q[2+4*B],J=q[1+4*B]-q[2+4*B],it=g-q[3+4*B],x[I+0]=H+Y>>3,x[I+16]=it+J>>3,x[I+32]=H-Y>>3,x[I+48]=it-J>>3,I+=64}function qs(g,b,x){var I,B=b-32,q=Ki,H=255-g[B-1];for(I=0;I<x;++I){var Y,J=q,it=H+g[b-1];for(Y=0;Y<x;++Y)g[b+Y]=J[it+g[B+Y]];b+=32}}function cu(g,b){qs(g,b,4)}function yl(g,b){qs(g,b,8)}function vl(g,b){qs(g,b,16)}function Hs(g,b){var x;for(x=0;16>x;++x)i(g,b+32*x,g,b-32,16)}function Ao(g,b){var x;for(x=16;0<x;--x)r(g,b,g[b-1],16),b+=32}function Ws(g,b,x){var I;for(I=0;16>I;++I)r(b,x+32*I,g,16)}function ms(g,b){var x,I=16;for(x=0;16>x;++x)I+=g[b-1+32*x]+g[b+x-32];Ws(I>>5,g,b)}function Dn(g,b){var x,I=8;for(x=0;16>x;++x)I+=g[b-1+32*x];Ws(I>>4,g,b)}function Gs(g,b){var x,I=8;for(x=0;16>x;++x)I+=g[b+x-32];Ws(I>>4,g,b)}function ys(g,b){Ws(128,g,b)}function Ne(g,b,x){return g+2*b+x+2>>2}function vs(g,b){var x,I=b-32;for(I=new Uint8Array([Ne(g[I-1],g[I+0],g[I+1]),Ne(g[I+0],g[I+1],g[I+2]),Ne(g[I+1],g[I+2],g[I+3]),Ne(g[I+2],g[I+3],g[I+4])]),x=0;4>x;++x)i(g,b+32*x,I,0,I.length)}function hu(g,b){var x=g[b-1],I=g[b-1+32],B=g[b-1+64],q=g[b-1+96];Jt(g,b+0,16843009*Ne(g[b-1-32],x,I)),Jt(g,b+32,16843009*Ne(x,I,B)),Jt(g,b+64,16843009*Ne(I,B,q)),Jt(g,b+96,16843009*Ne(B,q,q))}function dr(g,b){var x,I=4;for(x=0;4>x;++x)I+=g[b+x-32]+g[b-1+32*x];for(I>>=3,x=0;4>x;++x)r(g,b+32*x,I,4)}function jr(g,b){var x=g[b-1+0],I=g[b-1+32],B=g[b-1+64],q=g[b-1-32],H=g[b+0-32],Y=g[b+1-32],J=g[b+2-32],it=g[b+3-32];g[b+0+96]=Ne(I,B,g[b-1+96]),g[b+1+96]=g[b+0+64]=Ne(x,I,B),g[b+2+96]=g[b+1+64]=g[b+0+32]=Ne(q,x,I),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=Ne(H,q,x),g[b+3+64]=g[b+2+32]=g[b+1+0]=Ne(Y,H,q),g[b+3+32]=g[b+2+0]=Ne(J,Y,H),g[b+3+0]=Ne(it,J,Y)}function xr(g,b){var x=g[b+1-32],I=g[b+2-32],B=g[b+3-32],q=g[b+4-32],H=g[b+5-32],Y=g[b+6-32],J=g[b+7-32];g[b+0+0]=Ne(g[b+0-32],x,I),g[b+1+0]=g[b+0+32]=Ne(x,I,B),g[b+2+0]=g[b+1+32]=g[b+0+64]=Ne(I,B,q),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=Ne(B,q,H),g[b+3+32]=g[b+2+64]=g[b+1+96]=Ne(q,H,Y),g[b+3+64]=g[b+2+96]=Ne(H,Y,J),g[b+3+96]=Ne(Y,J,J)}function _s(g,b){var x=g[b-1+0],I=g[b-1+32],B=g[b-1+64],q=g[b-1-32],H=g[b+0-32],Y=g[b+1-32],J=g[b+2-32],it=g[b+3-32];g[b+0+0]=g[b+1+64]=q+H+1>>1,g[b+1+0]=g[b+2+64]=H+Y+1>>1,g[b+2+0]=g[b+3+64]=Y+J+1>>1,g[b+3+0]=J+it+1>>1,g[b+0+96]=Ne(B,I,x),g[b+0+64]=Ne(I,x,q),g[b+0+32]=g[b+1+96]=Ne(x,q,H),g[b+1+32]=g[b+2+96]=Ne(q,H,Y),g[b+2+32]=g[b+3+96]=Ne(H,Y,J),g[b+3+32]=Ne(Y,J,it)}function Fr(g,b){var x=g[b+0-32],I=g[b+1-32],B=g[b+2-32],q=g[b+3-32],H=g[b+4-32],Y=g[b+5-32],J=g[b+6-32],it=g[b+7-32];g[b+0+0]=x+I+1>>1,g[b+1+0]=g[b+0+64]=I+B+1>>1,g[b+2+0]=g[b+1+64]=B+q+1>>1,g[b+3+0]=g[b+2+64]=q+H+1>>1,g[b+0+32]=Ne(x,I,B),g[b+1+32]=g[b+0+96]=Ne(I,B,q),g[b+2+32]=g[b+1+96]=Ne(B,q,H),g[b+3+32]=g[b+2+96]=Ne(q,H,Y),g[b+3+64]=Ne(H,Y,J),g[b+3+96]=Ne(Y,J,it)}function pa(g,b){var x=g[b-1+0],I=g[b-1+32],B=g[b-1+64],q=g[b-1+96];g[b+0+0]=x+I+1>>1,g[b+2+0]=g[b+0+32]=I+B+1>>1,g[b+2+32]=g[b+0+64]=B+q+1>>1,g[b+1+0]=Ne(x,I,B),g[b+3+0]=g[b+1+32]=Ne(I,B,q),g[b+3+32]=g[b+1+64]=Ne(B,q,q),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=q}function Ys(g,b){var x=g[b-1+0],I=g[b-1+32],B=g[b-1+64],q=g[b-1+96],H=g[b-1-32],Y=g[b+0-32],J=g[b+1-32],it=g[b+2-32];g[b+0+0]=g[b+2+32]=x+H+1>>1,g[b+0+32]=g[b+2+64]=I+x+1>>1,g[b+0+64]=g[b+2+96]=B+I+1>>1,g[b+0+96]=q+B+1>>1,g[b+3+0]=Ne(Y,J,it),g[b+2+0]=Ne(H,Y,J),g[b+1+0]=g[b+3+32]=Ne(x,H,Y),g[b+1+32]=g[b+3+64]=Ne(I,x,H),g[b+1+64]=g[b+3+96]=Ne(B,I,x),g[b+1+96]=Ne(q,B,I)}function _l(g,b){var x;for(x=0;8>x;++x)i(g,b+32*x,g,b-32,8)}function Br(g,b){var x;for(x=0;8>x;++x)r(g,b,g[b-1],8),b+=32}function pr(g,b,x){var I;for(I=0;8>I;++I)r(b,x+32*I,g,8)}function bs(g,b){var x,I=8;for(x=0;8>x;++x)I+=g[b+x-32]+g[b-1+32*x];pr(I>>4,g,b)}function wi(g,b){var x,I=4;for(x=0;8>x;++x)I+=g[b+x-32];pr(I>>3,g,b)}function nn(g,b){var x,I=4;for(x=0;8>x;++x)I+=g[b-1+32*x];pr(I>>3,g,b)}function ga(g,b){pr(128,g,b)}function ws(g,b,x){var I=g[b-x],B=g[b+0],q=3*(B-I)+Ah[1020+g[b-2*x]-g[b+x]],H=Rl[112+(q+4>>3)];g[b-x]=Ki[255+I+Rl[112+(q+3>>3)]],g[b+0]=Ki[255+B-H]}function bl(g,b,x,I){var B=g[b+0],q=g[b+x];return Ts[255+g[b-2*x]-g[b-x]]>I||Ts[255+q-B]>I}function Ba(g,b,x,I){return 4*Ts[255+g[b-x]-g[b+0]]+Ts[255+g[b-2*x]-g[b+x]]<=I}function Va(g,b,x,I,B){var q=g[b-3*x],H=g[b-2*x],Y=g[b-x],J=g[b+0],it=g[b+x],pt=g[b+2*x],It=g[b+3*x];return 4*Ts[255+Y-J]+Ts[255+H-it]>I?0:Ts[255+g[b-4*x]-q]<=B&&Ts[255+q-H]<=B&&Ts[255+H-Y]<=B&&Ts[255+It-pt]<=B&&Ts[255+pt-it]<=B&&Ts[255+it-J]<=B}function us(g,b,x,I){var B=2*I+1;for(I=0;16>I;++I)Ba(g,b+I,x,B)&&ws(g,b+I,x)}function gr(g,b,x,I){var B=2*I+1;for(I=0;16>I;++I)Ba(g,b+I*x,1,B)&&ws(g,b+I*x,1)}function Ai(g,b,x,I){var B;for(B=3;0<B;--B)us(g,b+=4*x,x,I)}function fu(g,b,x,I){var B;for(B=3;0<B;--B)gr(g,b+=4,x,I)}function ma(g,b,x,I,B,q,H,Y){for(q=2*q+1;0<B--;){if(Va(g,b,x,q,H))if(bl(g,b,x,Y))ws(g,b,x);else{var J=g,it=b,pt=x,It=J[it-2*pt],Rt=J[it-pt],At=J[it+0],qt=J[it+pt],Mt=J[it+2*pt],gt=27*(Bt=Ah[1020+3*(At-Rt)+Ah[1020+It-qt]])+63>>7,vt=18*Bt+63>>7,Bt=9*Bt+63>>7;J[it-3*pt]=Ki[255+J[it-3*pt]+Bt],J[it-2*pt]=Ki[255+It+vt],J[it-pt]=Ki[255+Rt+gt],J[it+0]=Ki[255+At-gt],J[it+pt]=Ki[255+qt-vt],J[it+2*pt]=Ki[255+Mt-Bt]}b+=I}}function sr(g,b,x,I,B,q,H,Y){for(q=2*q+1;0<B--;){if(Va(g,b,x,q,H))if(bl(g,b,x,Y))ws(g,b,x);else{var J=g,it=b,pt=x,It=J[it-pt],Rt=J[it+0],At=J[it+pt],qt=Rl[112+((Mt=3*(Rt-It))+4>>3)],Mt=Rl[112+(Mt+3>>3)],gt=qt+1>>1;J[it-2*pt]=Ki[255+J[it-2*pt]+gt],J[it-pt]=Ki[255+It+Mt],J[it+0]=Ki[255+Rt-qt],J[it+pt]=Ki[255+At-gt]}b+=I}}function ya(g,b,x,I,B,q){ma(g,b,x,1,16,I,B,q)}function Ks(g,b,x,I,B,q){ma(g,b,1,x,16,I,B,q)}function So(g,b,x,I,B,q){var H;for(H=3;0<H;--H)sr(g,b+=4*x,x,1,16,I,B,q)}function Ua(g,b,x,I,B,q){var H;for(H=3;0<H;--H)sr(g,b+=4,1,x,16,I,B,q)}function xo(g,b,x,I,B,q,H,Y){ma(g,b,B,1,8,q,H,Y),ma(x,I,B,1,8,q,H,Y)}function wl(g,b,x,I,B,q,H,Y){ma(g,b,1,B,8,q,H,Y),ma(x,I,1,B,8,q,H,Y)}function za(g,b,x,I,B,q,H,Y){sr(g,b+4*B,B,1,8,q,H,Y),sr(x,I+4*B,B,1,8,q,H,Y)}function va(g,b,x,I,B,q,H,Y){sr(g,b+4,1,B,8,q,H,Y),sr(x,I+4,1,B,8,q,H,Y)}function qa(){this.ba=new Ii,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function To(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ha(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _a(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new at,this.yc=new D}function du(){this.xb=this.a=0,this.l=new zs,this.ca=new Ii,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _a,this.ab=0,this.gc=o(4,Ha),this.Oc=0}function Xs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ba(g,b,x,I,B,q,H){for(g=g==null?0:g[b+0],b=0;b<H;++b)B[q+b]=g+x[I+b]&255,g=B[q+b]}function Wa(g,b,x,I,B,q,H){var Y;if(g==null)ba(null,null,x,I,B,q,H);else for(Y=0;Y<H;++Y)B[q+Y]=g[b+Y]+x[I+Y]&255}function mr(g,b,x,I,B,q,H){if(g==null)ba(null,null,x,I,B,q,H);else{var Y,J=g[b+0],it=J,pt=J;for(Y=0;Y<H;++Y)it=pt+(J=g[b+Y])-it,pt=x[I+Y]+(-256&it?0>it?0:255:it)&255,it=J,B[q+Y]=pt}}function Eo(g,b,x,I){var B=b.width,q=b.o;if(t(g!=null&&b!=null),0>x||0>=I||x+I>q)return null;if(!g.Cc){if(g.ga==null){var H;if(g.ga=new Xs,(H=g.ga==null)||(H=b.width*b.o,t(g.Gb.length==0),g.Gb=s(H),g.Uc=0,g.Gb==null?H=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,H=1),H=!H),!H){H=g.ga;var Y=g.Fa,J=g.P,it=g.qc,pt=g.mb,It=g.nb,Rt=J+1,At=it-1,qt=H.l;if(t(Y!=null&&pt!=null&&b!=null),Ea[0]=null,Ea[1]=ba,Ea[2]=Wa,Ea[3]=mr,H.ca=pt,H.tb=It,H.c=b.width,H.i=b.height,t(0<H.c&&0<H.i),1>=it)b=0;else if(H.$a=Y[J+0]>>0&3,H.Z=Y[J+0]>>2&3,H.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)b=0;else if(qt.put=nr,qt.ac=si,qt.bc=as,qt.ma=H,qt.width=b.width,qt.height=b.height,qt.Da=b.Da,qt.v=b.v,qt.va=b.va,qt.j=b.j,qt.o=b.o,H.$a)t:{t(H.$a==1),b=qn();e:for(;;){if(b==null){b=0;break t}if(t(H!=null),H.mc=b,b.c=H.c,b.i=H.i,b.l=H.l,b.l.ma=H,b.l.width=H.c,b.l.height=H.i,b.a=0,ft(b.m,Y,Rt,At),!bn(H.c,H.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Sr(b.s)?(H.ic=1,Y=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(Y),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(H.ic=0,b=Bs(b,H.c)),!b))break e;b=1;break t}H.mc=null,b=0}else b=At>=H.c*H.i;H=!b}if(H)return null;g.ga.Lc!=1?g.Ga=0:I=q-x}t(g.ga!=null),t(x+I<=q);t:{if(b=(Y=g.ga).c,q=Y.l.o,Y.$a==0){if(Rt=g.rc,At=g.Vc,qt=g.Fa,J=g.P+1+x*b,it=g.mb,pt=g.nb+x*b,t(J<=g.P+g.qc),Y.Z!=0)for(t(Ea[Y.Z]!=null),H=0;H<I;++H)Ea[Y.Z](Rt,At,qt,J,it,pt,b),Rt=it,At=pt,pt+=b,J+=b;else for(H=0;H<I;++H)i(it,pt,qt,J,b),Rt=it,At=pt,pt+=b,J+=b;g.rc=Rt,g.Vc=At}else{if(t(Y.mc!=null),b=x+I,t((H=Y.mc)!=null),t(b<=H.i),H.C>=b)b=1;else if(Y.ic||bt(),Y.ic){Y=H.V,Rt=H.Ba,At=H.c;var Mt=H.i,gt=(qt=1,J=H.$/At,it=H.$%At,pt=H.m,It=H.s,H.$),vt=At*Mt,Bt=At*b,Ht=It.wc,Ut=gt<Bt?ai(It,it,J):null;t(gt<=vt),t(b<=Mt),t(Sr(It));e:for(;;){for(;!pt.h&&gt<Bt;){if(it&Ht||(Ut=ai(It,it,J)),t(Ut!=null),lt(pt),256>(Mt=Kn(Ut.G[0],Ut.H[0],pt)))Y[Rt+gt]=Mt,++gt,++it>=At&&(it=0,++J<=b&&!(J%16)&&Li(H,J));else{if(!(280>Mt)){qt=0;break e}Mt=Rn(Mt-256,pt);var ue,ee=Kn(Ut.G[4],Ut.H[4],pt);if(lt(pt),!(gt>=(ee=Cn(At,ee=Rn(ee,pt)))&&vt-gt>=Mt)){qt=0;break e}for(ue=0;ue<Mt;++ue)Y[Rt+gt+ue]=Y[Rt+gt+ue-ee];for(gt+=Mt,it+=Mt;it>=At;)it-=At,++J<=b&&!(J%16)&&Li(H,J);gt<Bt&&it&Ht&&(Ut=ai(It,it,J))}t(pt.h==Z(pt))}Li(H,J>b?b:J);break e}!qt||pt.h&&gt<vt?(qt=0,H.a=pt.h?5:3):H.$=gt,b=qt}else b=bi(H,H.V,H.Ba,H.c,H.i,b,Vs);if(!b){I=0;break t}}x+I>=q&&(g.Cc=1),I=1}if(!I)return null;if(g.Cc&&((I=g.ga)!=null&&(I.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*B}function S(g,b,x,I,B,q){for(;0<B--;){var H,Y=g,J=b+(x?1:0),it=g,pt=b+(x?0:3);for(H=0;H<I;++H){var It=it[pt+4*H];It!=255&&(It*=32897,Y[J+4*H+0]=Y[J+4*H+0]*It>>23,Y[J+4*H+1]=Y[J+4*H+1]*It>>23,Y[J+4*H+2]=Y[J+4*H+2]*It>>23)}b+=q}}function V(g,b,x,I,B){for(;0<I--;){var q;for(q=0;q<x;++q){var H=g[b+2*q+0],Y=15&(it=g[b+2*q+1]),J=4369*Y,it=(240&it|it>>4)*J>>16;g[b+2*q+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,g[b+2*q+1]=240&it|Y}b+=B}}function rt(g,b,x,I,B,q,H,Y){var J,it,pt=255;for(it=0;it<B;++it){for(J=0;J<I;++J){var It=g[b+J];q[H+4*J]=It,pt&=It}b+=x,H+=Y}return pt!=255}function dt(g,b,x,I,B){var q;for(q=0;q<B;++q)x[I+q]=g[b+q]>>8}function bt(){cs=S,Ze=V,tn=rt,Wn=dt}function jt(g,b,x){P[g]=function(I,B,q,H,Y,J,it,pt,It,Rt,At,qt,Mt,gt,vt,Bt,Ht){var Ut,ue=Ht-1>>1,ee=Y[J+0]|it[pt+0]<<16,be=It[Rt+0]|At[qt+0]<<16;t(I!=null);var re=3*ee+be+131074>>2;for(b(I[B+0],255&re,re>>16,Mt,gt),q!=null&&(re=3*be+ee+131074>>2,b(q[H+0],255&re,re>>16,vt,Bt)),Ut=1;Ut<=ue;++Ut){var gn=Y[J+Ut]|it[pt+Ut]<<16,Sn=It[Rt+Ut]|At[qt+Ut]<<16,Xe=ee+gn+be+Sn+524296,Ge=Xe+2*(gn+be)>>3;re=Ge+ee>>1,ee=(Xe=Xe+2*(ee+Sn)>>3)+gn>>1,b(I[B+2*Ut-1],255&re,re>>16,Mt,gt+(2*Ut-1)*x),b(I[B+2*Ut-0],255&ee,ee>>16,Mt,gt+(2*Ut-0)*x),q!=null&&(re=Xe+be>>1,ee=Ge+Sn>>1,b(q[H+2*Ut-1],255&re,re>>16,vt,Bt+(2*Ut-1)*x),b(q[H+2*Ut+0],255&ee,ee>>16,vt,Bt+(2*Ut+0)*x)),ee=gn,be=Sn}1&Ht||(re=3*ee+be+131074>>2,b(I[B+Ht-1],255&re,re>>16,Mt,gt+(Ht-1)*x),q!=null&&(re=3*be+ee+131074>>2,b(q[H+Ht-1],255&re,re>>16,vt,Bt+(Ht-1)*x)))}}function Kt(){Xi[yr]=to,Xi[vu]=Na,Xi[xa]=Vo,Xi[Nc]=Th,Xi[Cl]=Eh,Xi[Xa]=wu,Xi[Sh]=Nh,Xi[Rc]=Na,Xi[Fo]=Th,Xi[$a]=Eh,Xi[_u]=wu}function ie(g){return g&-16384?0>g?0:255:g>>P0}function m(g,b){return ie((19077*g>>8)+(26149*b>>8)-14234)}function T(g,b,x){return ie((19077*g>>8)-(6419*b>>8)-(13320*x>>8)+8708)}function k(g,b){return ie((19077*g>>8)+(33050*b>>8)-17685)}function K(g,b,x,I,B){I[B+0]=m(g,x),I[B+1]=T(g,b,x),I[B+2]=k(g,b)}function _t(g,b,x,I,B){I[B+0]=k(g,b),I[B+1]=T(g,b,x),I[B+2]=m(g,x)}function Lt(g,b,x,I,B){var q=T(g,b,x);b=q<<3&224|k(g,b)>>3,I[B+0]=248&m(g,x)|q>>5,I[B+1]=b}function Xt(g,b,x,I,B){var q=240&k(g,b)|15;I[B+0]=240&m(g,x)|T(g,b,x)>>4,I[B+1]=q}function Re(g,b,x,I,B){I[B+0]=255,K(g,b,x,I,B+1)}function rn(g,b,x,I,B){_t(g,b,x,I,B),I[B+3]=255}function Be(g,b,x,I,B){K(g,b,x,I,B),I[B+3]=255}function An(g,b){return 0>g?0:g>b?b:g}function In(g,b,x){P[g]=function(I,B,q,H,Y,J,it,pt,It){for(var Rt=pt+(-2&It)*x;pt!=Rt;)b(I[B+0],q[H+0],Y[J+0],it,pt),b(I[B+1],q[H+0],Y[J+0],it,pt+x),B+=2,++H,++J,pt+=2*x;1&It&&b(I[B+0],q[H+0],Y[J+0],it,pt)}}function As(g,b,x){return x==0?g==0?b==0?6:5:b==0?4:0:x}function hi(g,b,x,I,B){switch(g>>>30){case 3:Qs(b,x,I,B,0);break;case 2:oi(b,x,I,B);break;case 1:Si(b,x,I,B)}}function Vr(g,b){var x,I,B=b.M,q=b.Nb,H=g.oc,Y=g.pc+40,J=g.oc,it=g.pc+584,pt=g.oc,It=g.pc+600;for(x=0;16>x;++x)H[Y+32*x-1]=129;for(x=0;8>x;++x)J[it+32*x-1]=129,pt[It+32*x-1]=129;for(0<B?H[Y-1-32]=J[it-1-32]=pt[It-1-32]=129:(r(H,Y-32-1,127,21),r(J,it-32-1,127,9),r(pt,It-32-1,127,9)),I=0;I<g.za;++I){var Rt=b.ya[b.aa+I];if(0<I){for(x=-1;16>x;++x)i(H,Y+32*x-4,H,Y+32*x+12,4);for(x=-1;8>x;++x)i(J,it+32*x-4,J,it+32*x+4,4),i(pt,It+32*x-4,pt,It+32*x+4,4)}var At=g.Gd,qt=g.Hd+I,Mt=Rt.ad,gt=Rt.Hc;if(0<B&&(i(H,Y-32,At[qt].y,0,16),i(J,it-32,At[qt].f,0,8),i(pt,It-32,At[qt].ea,0,8)),Rt.Za){var vt=H,Bt=Y-32+16;for(0<B&&(I>=g.za-1?r(vt,Bt,At[qt].y[15],4):i(vt,Bt,At[qt+1].y,0,4)),x=0;4>x;x++)vt[Bt+128+x]=vt[Bt+256+x]=vt[Bt+384+x]=vt[Bt+0+x];for(x=0;16>x;++x,gt<<=2)vt=H,Bt=Y+kl[x],Er[Rt.Ob[x]](vt,Bt),hi(gt,Mt,16*+x,vt,Bt)}else if(vt=As(I,B,Rt.Ob[0]),Za[vt](H,Y),gt!=0)for(x=0;16>x;++x,gt<<=2)hi(gt,Mt,16*+x,H,Y+kl[x]);for(x=Rt.Gc,vt=As(I,B,Rt.Dd),fs[vt](J,it),fs[vt](pt,It),gt=Mt,vt=J,Bt=it,255&(Rt=x>>0)&&(170&Rt?Js(gt,256,vt,Bt):qr(gt,256,vt,Bt)),Rt=pt,gt=It,255&(x>>=8)&&(170&x?Js(Mt,320,Rt,gt):qr(Mt,320,Rt,gt)),B<g.Ub-1&&(i(At[qt].y,0,H,Y+480,16),i(At[qt].f,0,J,it+224,8),i(At[qt].ea,0,pt,It+224,8)),x=8*q*g.B,At=g.sa,qt=g.ta+16*I+16*q*g.R,Mt=g.qa,Rt=g.ra+8*I+x,gt=g.Ha,vt=g.Ia+8*I+x,x=0;16>x;++x)i(At,qt+x*g.R,H,Y+32*x,16);for(x=0;8>x;++x)i(Mt,Rt+x*g.B,J,it+32*x,8),i(gt,vt+x*g.B,pt,It+32*x,8)}}function wa(g,b,x,I,B,q,H,Y,J){var it=[0],pt=[0],It=0,Rt=J!=null?J.kd:0,At=J??new To;if(g==null||12>x)return 7;At.data=g,At.w=b,At.ha=x,b=[b],x=[x],At.gb=[At.gb];t:{var qt=b,Mt=x,gt=At.gb;if(t(g!=null),t(Mt!=null),t(gt!=null),gt[0]=0,12<=Mt[0]&&!e(g,qt[0],"RIFF")){if(e(g,qt[0]+8,"WEBP")){gt=3;break t}var vt=te(g,qt[0]+4);if(12>vt||4294967286<vt){gt=3;break t}if(Rt&&vt>Mt[0]-8){gt=7;break t}gt[0]=vt,qt[0]+=12,Mt[0]-=12}gt=0}if(gt!=0)return gt;for(vt=0<At.gb[0],x=x[0];;){t:{var Bt=g;Mt=b,gt=x;var Ht=it,Ut=pt,ue=qt=[0];if((re=It=[It])[0]=0,8>gt[0])gt=7;else{if(!e(Bt,Mt[0],"VP8X")){if(te(Bt,Mt[0]+4)!=10){gt=3;break t}if(18>gt[0]){gt=7;break t}var ee=te(Bt,Mt[0]+8),be=1+ne(Bt,Mt[0]+12);if(2147483648<=be*(Bt=1+ne(Bt,Mt[0]+15))){gt=3;break t}ue!=null&&(ue[0]=ee),Ht!=null&&(Ht[0]=be),Ut!=null&&(Ut[0]=Bt),Mt[0]+=18,gt[0]-=18,re[0]=1}gt=0}}if(It=It[0],qt=qt[0],gt!=0)return gt;if(Mt=!!(2&qt),!vt&&It)return 3;if(q!=null&&(q[0]=!!(16&qt)),H!=null&&(H[0]=Mt),Y!=null&&(Y[0]=0),H=it[0],qt=pt[0],It&&Mt&&J==null){gt=0;break}if(4>x){gt=7;break}if(vt&&It||!vt&&!It&&!e(g,b[0],"ALPH")){x=[x],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{ee=g,gt=b,vt=x;var re=At.gb;Ht=At.na,Ut=At.P,ue=At.Sa,be=22,t(ee!=null),t(vt!=null),Bt=gt[0];var gn=vt[0];for(t(Ht!=null),t(ue!=null),Ht[0]=null,Ut[0]=null,ue[0]=0;;){if(gt[0]=Bt,vt[0]=gn,8>gn){gt=7;break t}var Sn=te(ee,Bt+4);if(4294967286<Sn){gt=3;break t}var Xe=8+Sn+1&-2;if(be+=Xe,0<re&&be>re){gt=3;break t}if(!e(ee,Bt,"VP8 ")||!e(ee,Bt,"VP8L")){gt=0;break t}if(gn[0]<Xe){gt=7;break t}e(ee,Bt,"ALPH")||(Ht[0]=ee,Ut[0]=Bt+8,ue[0]=Sn),Bt+=Xe,gn-=Xe}}if(x=x[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],gt!=0)break}x=[x],At.Ja=[At.Ja],At.xa=[At.xa];t:if(re=g,gt=b,vt=x,Ht=At.gb[0],Ut=At.Ja,ue=At.xa,ee=gt[0],Bt=!e(re,ee,"VP8 "),be=!e(re,ee,"VP8L"),t(re!=null),t(vt!=null),t(Ut!=null),t(ue!=null),8>vt[0])gt=7;else{if(Bt||be){if(re=te(re,ee+4),12<=Ht&&re>Ht-12){gt=3;break t}if(Rt&&re>vt[0]-8){gt=7;break t}Ut[0]=re,gt[0]+=8,vt[0]-=8,ue[0]=be}else ue[0]=5<=vt[0]&&re[ee+0]==47&&!(re[ee+4]>>5),Ut[0]=vt[0];gt=0}if(x=x[0],At.Ja=At.Ja[0],At.xa=At.xa[0],b=b[0],gt!=0)break;if(4294967286<At.Ja)return 3;if(Y==null||Mt||(Y[0]=At.xa?2:1),H=[H],qt=[qt],At.xa){if(5>x){gt=7;break}Y=H,Rt=qt,Mt=q,g==null||5>x?g=0:5<=x&&g[b+0]==47&&!(g[b+4]>>5)?(vt=[0],re=[0],Ht=[0],ft(Ut=new j,g,b,x),le(Ut,vt,re,Ht)?(Y!=null&&(Y[0]=vt[0]),Rt!=null&&(Rt[0]=re[0]),Mt!=null&&(Mt[0]=Ht[0]),g=1):g=0):g=0}else{if(10>x){gt=7;break}Y=qt,g==null||10>x||!Gi(g,b+3,x-3)?g=0:(Rt=g[b+0]|g[b+1]<<8|g[b+2]<<16,Mt=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&Rt||3<(Rt>>1&7)||!(Rt>>4&1)||Rt>>5>=At.Ja||!Mt||!g?g=0:(H&&(H[0]=Mt),Y&&(Y[0]=g),g=1))}if(!g||(H=H[0],qt=qt[0],It&&(it[0]!=H||pt[0]!=qt)))return 3;J!=null&&(J[0]=At,J.offset=b-J.w,t(4294967286>b-J.w),t(J.offset==J.ha-x));break}return gt==0||gt==7&&It&&J==null?(q!=null&&(q[0]|=At.na!=null&&0<At.na.length),I!=null&&(I[0]=H),B!=null&&(B[0]=qt),0):gt}function No(g,b,x){var I=b.width,B=b.height,q=0,H=0,Y=I,J=B;if(b.Da=g!=null&&0<g.Da,b.Da&&(Y=g.cd,J=g.bd,q=g.v,H=g.j,11>x||(q&=-2,H&=-2),0>q||0>H||0>=Y||0>=J||q+Y>I||H+J>B))return 0;if(b.v=q,b.j=H,b.va=q+Y,b.o=H+J,b.U=Y,b.T=J,b.da=g!=null&&0<g.da,b.da){if(!Se(Y,J,x=[g.ib],q=[g.hb]))return 0;b.ib=x[0],b.hb=q[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*I/4&&b.hb<3*B/4,b.Kb=0),1}function pu(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function Al(g,b,x,I){if(I==null||0>=g||0>=b)return 2;if(x!=null){if(x.Da){var B=x.cd,q=x.bd,H=-2&x.v,Y=-2&x.j;if(0>H||0>Y||0>=B||0>=q||H+B>g||Y+q>b)return 2;g=B,b=q}if(x.da){if(!Se(g,b,B=[x.ib],q=[x.hb]))return 2;g=B[0],b=q[0]}}I.width=g,I.height=b;t:{var J=I.width,it=I.height;if(g=I.S,0>=J||0>=it||!(g>=yr&&13>g))g=2;else{if(0>=I.Rd&&I.sd==null){H=q=B=b=0;var pt=(Y=J*jp[g])*it;if(11>g||(q=(it+1)/2*(b=(J+1)/2),g==12&&(H=(B=J)*it)),(it=s(pt+2*q+H))==null){g=1;break t}I.sd=it,11>g?((J=I.f.RGBA).eb=it,J.fb=0,J.A=Y,J.size=pt):((J=I.f.kb).y=it,J.O=0,J.fa=Y,J.Fd=pt,J.f=it,J.N=0+pt,J.Ab=b,J.Cd=q,J.ea=it,J.W=0+pt+q,J.Db=b,J.Ed=q,g==12&&(J.F=it,J.J=0+pt+2*q),J.Tc=H,J.lb=B)}if(b=1,B=I.S,q=I.width,H=I.height,B>=yr&&13>B)if(11>B)g=I.f.RGBA,b&=(Y=Math.abs(g.A))*(H-1)+q<=g.size,b&=Y>=q*jp[B],b&=g.eb!=null;else{g=I.f.kb,Y=(q+1)/2,pt=(H+1)/2,J=Math.abs(g.fa),it=Math.abs(g.Ab);var It=Math.abs(g.Db),Rt=Math.abs(g.lb),At=Rt*(H-1)+q;b&=J*(H-1)+q<=g.Fd,b&=it*(pt-1)+Y<=g.Cd,b=(b&=It*(pt-1)+Y<=g.Ed)&J>=q&it>=Y&It>=Y,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,B==12&&(b&=Rt>=q,b&=At<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||x!=null&&x.fd&&(g=pu(I)),g}var Di=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sl=24,xl=32,gu=8,Ur=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,b,x){return b[x+0]},P.Predictor3=function(g,b,x){return b[x+1]},P.Predictor4=function(g,b,x){return b[x-1]},P.Predictor5=function(g,b,x){return ae(ae(g,b[x+1]),b[x+0])},P.Predictor6=function(g,b,x){return ae(g,b[x-1])},P.Predictor7=function(g,b,x){return ae(g,b[x+0])},P.Predictor8=function(g,b,x){return ae(b[x-1],b[x+0])},P.Predictor9=function(g,b,x){return ae(b[x+0],b[x+1])},P.Predictor10=function(g,b,x){return ae(ae(g,b[x-1]),ae(b[x+0],b[x+1]))},P.Predictor11=function(g,b,x){var I=b[x+0];return 0>=Fe(I>>24&255,g>>24&255,(b=b[x-1])>>24&255)+Fe(I>>16&255,g>>16&255,b>>16&255)+Fe(I>>8&255,g>>8&255,b>>8&255)+Fe(255&I,255&g,255&b)?I:g},P.Predictor12=function(g,b,x){var I=b[x+0];return(ve((g>>24&255)+(I>>24&255)-((b=b[x-1])>>24&255))<<24|ve((g>>16&255)+(I>>16&255)-(b>>16&255))<<16|ve((g>>8&255)+(I>>8&255)-(b>>8&255))<<8|ve((255&g)+(255&I)-(255&b)))>>>0},P.Predictor13=function(g,b,x){var I=b[x-1];return(Ie((g=ae(g,b[x+0]))>>24&255,I>>24&255)<<24|Ie(g>>16&255,I>>16&255)<<16|Ie(g>>8&255,I>>8&255)<<8|Ie(g>>0&255,I>>0&255))>>>0};var Ff=P.PredictorAdd0;P.PredictorAdd1=_e,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var Tc=P.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var wh,Ss=P.ColorIndexInverseTransform,Yi=P.MapARGB,Co=P.VP8LColorIndexInverseTransformAlpha,Ec=P.MapAlpha,Ga=P.VP8LPredictorsAdd=[];Ga.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Io,Tr,ar,Lo,zr,$s,Aa,Qs,oi,Js,Si,qr,Tl,Sa,mu,Po,ko,Do,El,yu,Oo,Ya,Nl,li,cs,Ze,tn,Wn,fi=s(511),xs=s(2041),Mo=s(225),jo=s(767),Ka=0,Ah=xs,Rl=Mo,Ki=jo,Ts=fi,yr=0,vu=1,xa=2,Nc=3,Cl=4,Xa=5,Sh=6,Rc=7,Fo=8,$a=9,_u=10,xh=[2,3,7],Es=[3,3,11],hs=[280,256,256,256,40],Il=[0,1,1,1,0],Qa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ja=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ll=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pp=8,Cc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ic=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oi=null,ui=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_n=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ta=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Za=[],Er=[],fs=[],Dp=1,bu=2,Ea=[],Xi=[];jt("UpsampleRgbLinePair",K,3),jt("UpsampleBgrLinePair",_t,3),jt("UpsampleRgbaLinePair",Be,4),jt("UpsampleBgraLinePair",rn,4),jt("UpsampleArgbLinePair",Re,4),jt("UpsampleRgba4444LinePair",Xt,2),jt("UpsampleRgb565LinePair",Lt,2);var to=P.UpsampleRgbLinePair,Vo=P.UpsampleBgrLinePair,Na=P.UpsampleRgbaLinePair,Th=P.UpsampleBgraLinePair,Eh=P.UpsampleArgbLinePair,wu=P.UpsampleRgba4444LinePair,Nh=P.UpsampleRgb565LinePair,Ra=16,Mi=1<<Ra-1,Uo=-227,Rh=482,P0=6,Op=0,k0=s(256),ji=s(256),Vf=s(256),Lc=s(256),Pc=s(Rh-Uo),Uf=s(Rh-Uo);In("YuvToRgbRow",K,3),In("YuvToBgrRow",_t,3),In("YuvToRgbaRow",Be,4),In("YuvToBgraRow",rn,4),In("YuvToArgbRow",Re,4),In("YuvToRgba4444Row",Xt,2),In("YuvToRgb565Row",Lt,2);var kl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eo=[0,2,8],D0=[8,7,6,4,4,2,2,2,1,1,1,1],Mp=1;this.WebPDecodeRGBA=function(g,b,x,I,B){var q=vu,H=new qa,Y=new Ii;H.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,it=Y.height,pt=new er;if(pt==null||g==null)var It=2;else t(pt!=null),It=wa(g,b,x,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(It!=0?J=0:(J!=null&&(J[0]=pt.width[0]),it!=null&&(it[0]=pt.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],I!=null&&(I[0]=Y.width),B!=null&&(B[0]=Y.height);t:{if(I=new zs,(B=new To).data=g,B.w=b,B.ha=x,B.kd=1,b=[0],t(B!=null),((g=wa(B.data,B.w,B.ha,null,null,null,b,null,B))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(H!=null),I.data=B.data,I.w=B.w+B.offset,I.ha=B.ha-B.offset,I.put=nr,I.ac=si,I.bc=as,I.ma=H,B.xa){if((g=qn())==null){H=1;break t}if(function(Rt,At){var qt=[0],Mt=[0],gt=[0];e:for(;;){if(Rt==null)return 0;if(At==null)return Rt.a=2,0;if(Rt.l=At,Rt.a=0,ft(Rt.m,At.data,At.w,At.ha),!le(Rt.m,qt,Mt,gt)){Rt.a=3;break e}if(Rt.xb=bu,At.width=qt[0],At.height=Mt[0],!bn(qt[0],Mt[0],1,Rt,null))break e;return 1}return t(Rt.a!=0),0}(g,I)){if(I=(b=Al(I.width,I.height,H.Oa,H.ba))==0){e:{I=g;n:for(;;){if(I==null){I=0;break e}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((x=I.l)!=null),t((B=x.ma)!=null),I.xb!=0){if(I.ca=B.ba,I.tb=B.tb,t(I.ca!=null),!No(B.Oa,x,Nc)){I.a=2;break n}if(!Bs(I,x.width)||x.da)break n;if((x.da||ln(I.ca.S))&&bt(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&bt()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!we(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!bi(I,I.V,I.Ba,I.c,I.i,x.o,Ma))break n;B.Dc=I.Ma,I=1;break e}t(I.a!=0),I=0}I=!I}I&&(b=g.a)}else b=g.a}else{if((g=new gl)==null){H=1;break t}if(g.Fa=B.na,g.P=B.P,g.qc=B.Sa,bo(g,I)){if((b=Al(I.width,I.height,H.Oa,H.ba))==0){if(g.Aa=0,x=H.Oa,t((B=g)!=null),x!=null){if(0<(J=0>(J=x.Md)?0:100<J?255:255*J/100)){for(it=pt=0;4>it;++it)12>(It=B.pb[it]).lc&&(It.ia=J*D0[0>It.lc?0:It.lc]>>3),pt|=It.ia;pt&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=x.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}ml(g,I)||(b=g.a)}}else b=g.a}b==0&&H.Oa!=null&&H.Oa.fd&&(b=pu(H.ba))}H=b}q=H!=0?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var jp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,U){for(var X="",L=0;L<4;L++)X+=String.fromCharCode(P[U++]);return X}function p(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16)>>>0}function y(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16|P[U+3]<<24)>>>0}new c;var w=[0],_=[0],E=[],N=new c,R=n,C=function(P,U){var X={},L=0,D=!1,F=0,at=0;if(X.frames=[],!function(W,Z,st,lt){for(var Nt=0;Nt<lt;Nt++)if(W[Z+Nt]!=st.charCodeAt(Nt))return!0;return!1}(P,U,"RIFF",4)){for(y(P,U+=4),U+=8;U<P.length;){var wt=f(P,U),nt=y(P,U+=4);U+=4;var ct=nt+(1&nt);switch(wt){case"VP8 ":case"VP8L":X.frames[L]===void 0&&(X.frames[L]={}),(Q=X.frames[L]).src_off=D?at:U-8,Q.src_size=F+nt+8,L++,D&&(D=!1,F=0,at=0);break;case"VP8X":(Q=X.header={}).feature_flags=P[U];var ft=U+4;Q.canvas_width=1+p(P,ft),ft+=3,Q.canvas_height=1+p(P,ft),ft+=3;break;case"ALPH":D=!0,F=ct+8,at=U-8;break;case"ANIM":(Q=X.header).bgcolor=y(P,U),ft=U+4,Q.loop_count=(St=P)[(j=ft)+0]<<0|St[j+1]<<8,ft+=2;break;case"ANMF":var Tt,Q;(Q=X.frames[L]={}).offset_x=2*p(P,U),U+=3,Q.offset_y=2*p(P,U),U+=3,Q.width=1+p(P,U),U+=3,Q.height=1+p(P,U),U+=3,Q.duration=p(P,U),U+=3,Tt=P[U++],Q.dispose=1&Tt,Q.blend=Tt>>1&1}wt!="ANMF"&&(U+=ct)}var St,j;return X}}(R,0);C.response=R,C.rgbaoutput=!0,C.dataurl=!1;var O=C.header?C.header:null,G=C.frames?C.frames:null;if(O){O.loop_counter=O.loop_count,w=[O.canvas_height],_=[O.canvas_width];for(var et=0;et<G.length&&G[et].blend!=0;et++);}var tt=G[0],mt=N.WebPDecodeRGBA(R,tt.src_off,tt.src_size,_,w);tt.rgba=mt,tt.imgwidth=_[0],tt.imgheight=w[0];for(var z=0;z<_[0]*w[0]*4;z++)E[z]=mt[z];return this.width=_,this.height=w,this.data=E,this}(function(n){var t=function(){return typeof uy=="function"},e=function(w,_,E,N){var R=4,C=o;switch(N){case n.image_compression.FAST:R=1,C=s;break;case n.image_compression.MEDIUM:R=6,C=u;break;case n.image_compression.SLOW:R=9,C=c}w=i(w,_,E,C);var O=uy(w,{level:R});return n.__addimage__.arrayBufferToBinaryString(O)},i=function(w,_,E,N){for(var R,C,O,G=w.length/_,et=new Uint8Array(w.length+G),tt=p(),mt=0;mt<G;mt+=1){if(O=mt*_,R=w.subarray(O,O+_),N)et.set(N(R,E,C),O+mt);else{for(var z,P=tt.length,U=[];z<P;z+=1)U[z]=tt[z](R,E,C);var X=y(U.concat());et.set(U[X],O+mt)}C=R}return et},r=function(w){var _=Array.apply([],w);return _.unshift(0),_},s=function(w,_){var E,N=[],R=w.length;N[0]=1;for(var C=0;C<R;C+=1)E=w[C-_]||0,N[C+1]=w[C]-E+256&255;return N},o=function(w,_,E){var N,R=[],C=w.length;R[0]=2;for(var O=0;O<C;O+=1)N=E&&E[O]||0,R[O+1]=w[O]-N+256&255;return R},u=function(w,_,E){var N,R,C=[],O=w.length;C[0]=3;for(var G=0;G<O;G+=1)N=w[G-_]||0,R=E&&E[G]||0,C[G+1]=w[G]+256-(N+R>>>1)&255;return C},c=function(w,_,E){var N,R,C,O,G=[],et=w.length;G[0]=4;for(var tt=0;tt<et;tt+=1)N=w[tt-_]||0,R=E&&E[tt]||0,C=E&&E[tt-_]||0,O=f(N,R,C),G[tt+1]=w[tt]-O+256&255;return G},f=function(w,_,E){if(w===_&&_===E)return w;var N=Math.abs(_-E),R=Math.abs(w-E),C=Math.abs(w+_-E-E);return N<=R&&N<=C?w:R<=C?_:E},p=function(){return[r,s,o,u,c]},y=function(w){var _=w.map(function(E){return E.reduce(function(N,R){return N+Math.abs(R)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(w,_,E,N){var R,C,O,G,et,tt,mt,z,P,U,X,L,D,F,at,wt=this.decode.FLATE_DECODE,nt="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(O=new tO(w)).imgData,C=O.bits,R=O.colorSpace,et=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){P=(z=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,X=new Uint8Array(P*O.colors),U=new Uint8Array(P);var ct,ft=O.pixelBitlength-O.bits;for(F=0,at=0;F<P;F++){for(D=z[F],ct=0;ct<ft;)X[at++]=D>>>ct&255,ct+=O.bits;U[F]=D>>>ct&255}}if(O.bits===16){P=(z=new Uint32Array(O.decodePixels().buffer)).length,X=new Uint8Array(P*(32/O.pixelBitlength)*O.colors),U=new Uint8Array(P*(32/O.pixelBitlength)),L=O.colors>1,F=0,at=0;for(var Tt=0;F<P;)D=z[F++],X[at++]=D>>>0&255,L&&(X[at++]=D>>>16&255,D=z[F++],X[at++]=D>>>0&255),U[Tt++]=D>>>16&255;C=8}N!==n.image_compression.NONE&&t()?(w=e(X,O.width*O.colors,O.colors,N),mt=e(U,O.width,1,N)):(w=X,mt=U,wt=void 0)}if(O.colorType===3&&(R=this.color_spaces.INDEXED,tt=O.palette,O.transparency.indexed)){var Q=O.transparency.indexed,St=0;for(F=0,P=Q.length;F<P;++F)St+=Q[F];if((St/=255)===P-1&&Q.indexOf(0)!==-1)G=[Q.indexOf(0)];else if(St!==P){for(z=O.decodePixels(),U=new Uint8Array(z.length),F=0,P=z.length;F<P;F++)U[F]=Q[z[F]];mt=e(U,O.width,1)}}var j=function(W){var Z;switch(W){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(N);return wt===this.decode.FLATE_DECODE&&(nt="/Predictor "+j+" "),nt+="/Colors "+et+" /BitsPerComponent "+C+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(mt&&this.__addimage__.isArrayBuffer(mt)||this.__addimage__.isArrayBufferView(mt))&&(mt=this.__addimage__.arrayBufferToBinaryString(mt)),{alias:E,data:w,index:_,filter:wt,decodeParameters:nt,transparency:G,palette:tt,sMask:mt,predictor:j,width:O.width,height:O.height,bitsPerComponent:C,colorSpace:R}}}})(Pe.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new eO(t),o=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:u},p=new c2(100).encode(f,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A}(Pe.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){$n.log("bit decode error:"+e)}},uo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[o+4*u]=c.blue,this.data[o+4*u+1]=c.green,this.data[o+4*u+2]=c.red,this.data[o+4*u+3]=255}e!==0&&(this.pos+=4-e)}},uo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},uo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},uo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,u=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,f=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=c,this.data[p+1]=u,this.data[p+2]=o,this.data[p+3]=f}this.pos+=n}},uo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,c=(o>>5&e)/e*255|0,f=(o>>11)/t*255|0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},uo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=s,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=o}},uo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new uo(t,!1),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new c2(100).encode(c,100);return n.processJPEG.call(this,f,e,i,r)}}(Pe.API),fA.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new fA(t),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new c2(100).encode(c,100);return n.processJPEG.call(this,f,e,i,r)}}(Pe.API),Pe.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),u=0,c=0,f=0;f<r;f+=4){var p=i[f],y=i[f+1],w=i[f+2],_=i[f+3];s[u++]=p,s[u++]=y,s[u++]=w,o[c++]=_}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Pe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qh=Pe.API,Vg=Qh.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,c=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,y=t.doKerning!==!1,w=0,_=n.length,E=0,N=u[0]||c,R=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?R.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(w=y&&Vn(f[i])==="object"&&!isNaN(parseInt(f[i][E],10))?f[i][E]/p:0,R.push((u[i]||N)/c+w)),E=i;return R},lA=Qh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Qh.processArabic&&(n=Qh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:Vg.apply(this,arguments).reduce(function(s,o){return s+o},0)},uA=function(n,t,e,i){for(var r=[],s=0,o=n.length,u=0;s!==o&&u+t[s]<e;)u+=t[s],s++;r.push(n.slice(0,s));var c=s;for(u=0;s!==o;)u+t[s]>i&&(r.push(n.slice(c,s)),u=0,c=s),u+=t[s],s++;return c!==s&&r.push(n.slice(c,s)),r},cA=function(n,t,e){e||(e={});var i,r,s,o,u,c,f,p=[],y=[p],w=e.textIndent||0,_=0,E=0,N=n.split(" "),R=Vg.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var C=Array(c).join(" "),O=[];N.map(function(et){(et=et.split(/\s*\n/)).length>1?O=O.concat(et.map(function(tt,mt){return(mt&&tt.length?`
`:"")+tt})):O.push(et[0])}),N=O,c=lA.apply(this,[C,e])}for(s=0,o=N.length;s<o;s++){var G=0;if(i=N[s],c&&i[0]==`
`&&(i=i.substr(1),G=1),w+_+(E=(r=Vg.apply(this,[i,e])).reduce(function(et,tt){return et+tt},0))>t||G){if(E>t){for(u=uA.apply(this,[i,r,t-(w+_),t]),p.push(u.shift()),p=[u.pop()];u.length;)y.push([u.shift()]);E=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(et,tt){return et+tt},0)}else p=[i];y.push(p),w=E+c,_=R}else p.push(i),w+=_+E,_=R}return f=c?function(et,tt){return(tt?C:"")+et.join(" ")}:function(et){return et.join(" ")},y.map(f)},Qh.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var u,c,f=[];for(u=0,c=i.length;u<c;u++)f=f.concat(cA.apply(this,[i[u],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var w,_,E,N,R=["{"];for(var C in y){if(w=y[C],isNaN(parseInt(C,10))?_="'"+C+"'":(C=parseInt(C,10),_=(_=s(C).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof w=="number")w<0?(E=s(w).slice(3),N="-"):(E=s(w).slice(2),N=""),E=N+E.slice(0,-1)+i[E.slice(-1)];else{if(Vn(w)!=="object")throw new Error("Don't know what to do with value type "+Vn(w)+".");E=o(w)}R.push(_+E)}return R.push("}"),R.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,_,E,N,R={},C=1,O=R,G=[],et="",tt="",mt=y.length-1,z=1;z<mt;z+=1)(N=y[z])=="'"?w?(E=w.join(""),w=void 0):w=[]:w?w.push(N):N=="{"?(G.push([O,E]),O={},E=void 0):N=="}"?((_=G.pop())[0][_[1]]=O,E=void 0,O=_[0]):N=="-"?C=-1:E===void 0?e.hasOwnProperty(N)?(et+=e[N],E=parseInt(et,16)*C,C=1,et=""):et+=N:e.hasOwnProperty(N)?(tt+=e[N],O[E]=parseInt(tt,16)*C,C=1,E=void 0,tt=""):tt+=N;return R},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var w=y.font,_=p.Unicode[w.postScriptName];_&&(w.metadata.Unicode={},w.metadata.Unicode.widths=_.widths,w.metadata.Unicode.kerning=_.kerning);var E=f.Unicode[w.postScriptName];E&&(w.metadata.Unicode.encoding=E,w.encoding=E.codePages[0])}])}(Pe.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Xd(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Pe),function(n){function t(){return(De.canvg?Promise.resolve(De.canvg):ry(()=>import("./index.es-BcW0wTzY.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Pe.API.addSvgAsImage=function(e,i,r,s,o,u,c,f){if(isNaN(i)||isNaN(r))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return t().then(function(E){return E.fromString(y,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(w)}).then(function(){_.addImage(p.toDataURL("image/jpeg",1),i,r,s,o,c,f)})}}(),Pe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Pe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),c=[],f=0,p=0,y=0;function w(E,N){var R,C=!1;for(R=0;R<E.length;R+=1)E[R]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=u.length;for(y=0;y<_;y+=1)e[u[y]].value=e[u[y]].defaultValue,e[u[y]].explicitSet=!1}if(Vn(n)==="object"){for(r in n)if(s=n[r],w(u,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&w(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(i=!1);i===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}e[r].value="["+c.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,N=[];for(E in e)e[E].explicitSet===!0&&(e[E].type==="name"?N.push("/"+E+" /"+e[E].value):N.push("/"+E+" "+e[E].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+u+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Pe.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var u,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],y=0,w=s.length;y<w;++y){if(u=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},i=function(s){var o,u,c,f,p,y,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,w=(u=Object.keys(s).sort(function(_,E){return _-E})).length;y<w;y++)o=u[y],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),_="",E=0;E<w.length;E++)_+=String.fromCharCode(w[E]);var N=f();p({data:_,addLength1:!0,objectId:N}),c("endobj");var R=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var C=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+af(u.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var O=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+af(u.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+R+" 0 R"),c("/BaseFont /"+af(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+O+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,w="",_=0;_<y.length;_++)w+=String.fromCharCode(y[_]);var E=f();p({data:w,addLength1:!0,objectId:E}),c("endobj");var N=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var R=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+af(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var C=0;C<u.metadata.hmtx.widths.length;C++)u.metadata.hmtx.widths[C]=parseInt(u.metadata.hmtx.widths[C]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+af(u.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,u=s.text||"",c=s.x,f=s.y,p=s.options||{},y=s.mutex||{},w=y.pdfEscape,_=y.activeFontKey,E=y.fonts,N=_,R="",C=0,O="",G=E[N].encoding;if(E[N].encoding!=="Identity-H")return{text:u,x:c,y:f,options:p,mutex:y};for(O=u,N=_,Array.isArray(u)&&(O=u[0]),C=0;C<O.length;C+=1)E[N].metadata.hasOwnProperty("cmap")&&(o=E[N].metadata.cmap.unicode.codeMap[O[C].charCodeAt(0)]),o||O[C].charCodeAt(0)<256&&E[N].metadata.hasOwnProperty("Unicode")?R+=O[C]:R+="";var et="";return parseInt(N.slice(1))<14||G==="WinAnsiEncoding"?et=w(R,N).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(et=e(R,E[N])),y.isHex=!0,{text:et,x:c,y:f,options:p,mutex:y}};t.events.push(["postProcessText",function(s){var o=s.text||"",u=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([r(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(r(Object.assign({},c,{text:o[f]})).text);s.text=u}else s.text=r(Object.assign({},c,{text:o})).text}])}(Pe),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Pe.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,u,c,f,p,y=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,G=0;this.__bidiEngine__={};var et=function(L){var D=L.charCodeAt(),F=D>>8,at=N[F];return at!==void 0?y[256*at+(255&D)]:F===252||F===253?"AL":C.test(F)?"L":F===8?"R":"N"},tt=function(L){for(var D,F=0;F<L.length;F++){if((D=et(L.charAt(F)))==="L")return!1;if(D==="R")return!0}return!1},mt=function(L,D,F,at){var wt,nt,ct,ft,Tt=D[at];switch(Tt){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(Tt="AN");break;case"AL":O=!0,Tt="R";break;case"WS":Tt="N";break;case"CS":at<1||at+1>=D.length||(wt=F[at-1])!=="EN"&&wt!=="AN"||(nt=D[at+1])!=="EN"&&nt!=="AN"?Tt="N":O&&(nt="AN"),Tt=nt===wt?nt:"N";break;case"ES":Tt=(wt=at>0?F[at-1]:"B")==="EN"&&at+1<D.length&&D[at+1]==="EN"?"EN":"N";break;case"ET":if(at>0&&F[at-1]==="EN"){Tt="EN";break}if(O){Tt="N";break}for(ct=at+1,ft=D.length;ct<ft&&D[ct]==="ET";)ct++;Tt=ct<ft&&D[ct]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ft=D.length,ct=at+1;ct<ft&&D[ct]==="NSM";)ct++;if(ct<ft){var Q=L[at],St=Q>=1425&&Q<=2303||Q===64286;if(wt=D[ct],St&&(wt==="R"||wt==="AL")){Tt="R";break}}}Tt=at<1||(wt=D[at-1])==="B"?"N":F[at-1];break;case"B":O=!1,r=!0,Tt=G;break;case"S":s=!0,Tt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":Tt="N"}return Tt},z=function(L,D,F){var at=L.split("");return F&&P(at,F,{hiLevel:G}),at.reverse(),D&&D.reverse(),at.join("")},P=function(L,D,F){var at,wt,nt,ct,ft,Tt=-1,Q=L.length,St=0,j=[],W=G?_:w,Z=[];for(O=!1,r=!1,s=!1,wt=0;wt<Q;wt++)Z[wt]=et(L[wt]);for(nt=0;nt<Q;nt++){if(ft=St,j[nt]=mt(L,Z,j,nt),at=240&(St=W[ft][E[j[nt]]]),St&=15,D[nt]=ct=W[St][5],at>0)if(at===16){for(wt=Tt;wt<nt;wt++)D[wt]=1;Tt=-1}else Tt=-1;if(W[St][6])Tt===-1&&(Tt=nt);else if(Tt>-1){for(wt=Tt;wt<nt;wt++)D[wt]=ct;Tt=-1}Z[nt]==="B"&&(D[nt]=0),F.hiLevel|=ct}s&&function(st,lt,Nt){for(var Et=0;Et<Nt;Et++)if(st[Et]==="S"){lt[Et]=G;for(var kt=Et-1;kt>=0&&st[kt]==="WS";kt--)lt[kt]=G}}(Z,D,Q)},U=function(L,D,F,at,wt){if(!(wt.hiLevel<L)){if(L===1&&G===1&&!r)return D.reverse(),void(F&&F.reverse());for(var nt,ct,ft,Tt,Q=D.length,St=0;St<Q;){if(at[St]>=L){for(ft=St+1;ft<Q&&at[ft]>=L;)ft++;for(Tt=St,ct=ft-1;Tt<ct;Tt++,ct--)nt=D[Tt],D[Tt]=D[ct],D[ct]=nt,F&&(nt=F[Tt],F[Tt]=F[ct],F[ct]=nt);St=ft}St++}}},X=function(L,D,F){var at=L.split(""),wt={hiLevel:G};return F||(F=[]),P(at,F,wt),function(nt,ct,ft){if(ft.hiLevel!==0&&p)for(var Tt,Q=0;Q<nt.length;Q++)ct[Q]===1&&(Tt=R.indexOf(nt[Q]))>=0&&(nt[Q]=R[Tt+1])}(at,F,wt),U(2,at,D,F,wt),U(1,at,D,F,wt),at.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,F){if(function(wt,nt){if(nt)for(var ct=0;ct<wt.length;ct++)nt[ct]=ct;u===void 0&&(u=tt(wt)),f===void 0&&(f=tt(wt))}(L,D),o||!c||f)if(o&&c&&u^f)G=u?1:0,L=z(L,D,F);else if(!o&&c&&f)G=u?1:0,L=X(L,D,F),L=z(L,D);else if(!o||u||c||f){if(o&&!c&&u^f)L=z(L,D),u?(G=0,L=X(L,D,F)):(G=1,L=X(L,D,F),L=z(L,D));else if(o&&u&&!c&&f)G=1,L=X(L,D,F),L=z(L,D);else if(!o&&!c&&u^f){var at=p;u?(G=1,L=X(L,D,F),G=0,p=!1,L=X(L,D,F),p=at):(G=0,L=X(L,D,F),L=z(L,D),G=1,p=!1,L=X(L,D,F),p=at,L=z(L,D))}}else G=0,L=X(L,D,F);else G=u?1:0,L=X(L,D,F);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,c=L.isOutputVisual,u=L.isInputRtl,f=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(o=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?o.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):o.push([e.doBidiReorder(r[u])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Pe),Pe.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new yc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new mO(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new nO(this.contents),this.head=new rO(this),this.name=new uO(this),this.cmap=new X3(this),this.toUnicode={},this.hhea=new sO(this),this.maxp=new cO(this),this.hmtx=new hO(this),this.post=new oO(this),this.os2=new aO(this),this.loca=new gO(this),this.glyf=new fO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,c,f;for(f=[],o=0,u=(c=this.bbox).length;o<u;o++)t=c[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,u;for(o=0,s=0,u=(t=""+t).length;0<=u?s<u:s>u;s=0<=u?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var vo,yc=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,u,c;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*u+c},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n}(),nO=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,u,c,f,p,y,w,_,E,N;for(N in _=Object.keys(e).length,c=Math.log(2),y=16*Math.floor(Math.log(_)/c),o=Math.floor(y/c),p=16*_-y,(r=new yc).writeInt(this.scalarType),r.writeShort(_),r.writeShort(y),r.writeShort(o),r.writeShort(p),s=16*_,f=r.pos+s,u=null,E=[],e)for(w=e[N],r.writeString(N),r.writeInt(n(w)),r.writeInt(f),r.writeInt(w.length),E=E.concat(w),N==="head"&&(u=f),f+=w.length;f%4;)E.push(0),f++;return r.write(E),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=$3.call(e);e.length%4;)e.push(0);for(s=new yc(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),iO={}.hasOwnProperty,dl=function(n,t){for(var e in t)iO.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};vo=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var rO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new yc).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),dA=function(){function n(t,e){var i,r,s,o,u,c,f,p,y,w,_,E,N,R,C,O,G;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(_=t.readUInt16(),w=_/2,t.pos+=6,s=function(){var et,tt;for(tt=[],c=et=0;0<=w?et<w:et>w;c=0<=w?++et:--et)tt.push(t.readUInt16());return tt}(),t.pos+=2,N=function(){var et,tt;for(tt=[],c=et=0;0<=w?et<w:et>w;c=0<=w?++et:--et)tt.push(t.readUInt16());return tt}(),f=function(){var et,tt;for(tt=[],c=et=0;0<=w?et<w:et>w;c=0<=w?++et:--et)tt.push(t.readUInt16());return tt}(),p=function(){var et,tt;for(tt=[],c=et=0;0<=w?et<w:et>w;c=0<=w?++et:--et)tt.push(t.readUInt16());return tt}(),r=(this.length-t.pos+this.offset)/2,u=function(){var et,tt;for(tt=[],c=et=0;0<=r?et<r:et>r;c=0<=r?++et:--et)tt.push(t.readUInt16());return tt}(),c=C=0,G=s.length;C<G;c=++C)for(R=s[c],i=O=E=N[c];E<=R?O<=R:O>=R;i=E<=R?++O:--O)p[c]===0?o=i+f[c]:(o=u[p[c]/2+(i-E)-(w-c)]||0)!==0&&(o+=f[c]),this.codeMap[i]=65535&o}t.pos=y}return n.encode=function(t,e){var i,r,s,o,u,c,f,p,y,w,_,E,N,R,C,O,G,et,tt,mt,z,P,U,X,L,D,F,at,wt,nt,ct,ft,Tt,Q,St,j,W,Z,st,lt,Nt,Et,kt,Jt,$t,ne;switch(at=new yc,o=Object.keys(t).sort(function(te,we){return te-we}),e){case"macroman":for(N=0,R=function(){var te=[];for(E=0;E<256;++E)te.push(0);return te}(),O={0:0},s={},wt=0,Tt=o.length;wt<Tt;wt++)O[kt=t[r=o[wt]]]==null&&(O[kt]=++N),s[r]={old:t[r],new:O[t[r]]},R[r]=O[t[r]];return at.writeUInt16(1),at.writeUInt16(0),at.writeUInt32(12),at.writeUInt16(0),at.writeUInt16(262),at.writeUInt16(0),at.write(R),{charMap:s,subtable:at.data,maxGlyphID:N+1};case"unicode":for(D=[],y=[],G=0,O={},i={},C=f=null,nt=0,Q=o.length;nt<Q;nt++)O[tt=t[r=o[nt]]]==null&&(O[tt]=++G),i[r]={old:tt,new:O[tt]},u=O[tt]-r,C!=null&&u===f||(C&&y.push(C),D.push(r),f=u),C=r;for(C&&y.push(C),y.push(65535),D.push(65535),X=2*(U=D.length),P=2*Math.pow(Math.log(U)/Math.LN2,2),w=Math.log(P/2)/Math.LN2,z=2*U-P,c=[],mt=[],_=[],E=ct=0,St=D.length;ct<St;E=++ct){if(L=D[E],p=y[E],L===65535){c.push(0),mt.push(0);break}if(L-(F=i[L].new)>=32768)for(c.push(0),mt.push(2*(_.length+U-E)),r=ft=L;L<=p?ft<=p:ft>=p;r=L<=p?++ft:--ft)_.push(i[r].new);else c.push(F-L),mt.push(0)}for(at.writeUInt16(3),at.writeUInt16(1),at.writeUInt32(12),at.writeUInt16(4),at.writeUInt16(16+8*U+2*_.length),at.writeUInt16(0),at.writeUInt16(X),at.writeUInt16(P),at.writeUInt16(w),at.writeUInt16(z),Nt=0,j=y.length;Nt<j;Nt++)r=y[Nt],at.writeUInt16(r);for(at.writeUInt16(0),Et=0,W=D.length;Et<W;Et++)r=D[Et],at.writeUInt16(r);for(Jt=0,Z=c.length;Jt<Z;Jt++)u=c[Jt],at.writeUInt16(u);for($t=0,st=mt.length;$t<st;$t++)et=mt[$t],at.writeUInt16(et);for(ne=0,lt=_.length;ne<lt;ne++)N=_[ne],at.writeUInt16(N);return{charMap:i,subtable:at.data,maxGlyphID:G+1}}},n}(),X3=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new dA(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return i==null&&(i="macroman"),r=dA.encode(e,i),(s=new yc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),sO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),aO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),oO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t}(),lO=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,u,c,f,p,y,w,_;for(e.pos=this.offset,e.readShort(),i=e.readShort(),c=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=y=0,w=r.length;y<w;o=++y)s=r[o],e.pos=s.offset,p=e.readString(s.length),u=new lO(p,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),cO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),hO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],i=0,c=this.file.hhea.numberOfMetrics;0<=c?i<c:i>c;i=0<=c?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)y.push(e.readInt16());return y}(),this.widths=(function(){var p,y,w,_;for(_=[],p=0,y=(w=this.metrics).length;p<y;p++)o=w[p],_.push(o.advance);return _}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),$3=[].slice,fO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,u,c,f,p,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,u=(c=new yc(i.read(s))).readShort(),p=c.readShort(),w=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[e]=u===-1?new pO(c,p,w,f,y):new dO(c,u,p,w,f,y),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=i.length;c<f;c++)s=e[i[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},t}(),dO=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),pO=function(){function n(t,e,i,r,s){var o,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new yc($3.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),gO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,vo),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<i.length&&i[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},t}(),mO=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,u,c;for(r={},o=0,u=t.length;o<u;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in c=this.glyphsFor(e))i=c[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,u,c,f,p,y,w,_,E,N,R,C;for(r in i=X3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),_={0:0},C=i.charMap)_[(c=C[r]).old]=c.new;for(E in w=i.maxGlyphID,o)E in _||(_[E]=w++);return p=function(O){var G,et;for(G in et={},O)et[O[G]]=G;return et}(_),y=Object.keys(p).sort(function(O,G){return O-G}),N=function(){var O,G,et;for(et=[],O=0,G=y.length;O<G;O++)u=y[O],et.push(p[u]);return et}(),s=this.font.glyf.encode(o,N,_),f=this.font.loca.encode(s.offsets,N),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n}();Pe.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+function(){var u,c,f;for(f=[],u=0,c=e.length;u<c;u++)i=e[u],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();function Q3(n,t,e,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,u=r.internal.getFontSize()/o,c=r.getLineHeightFactor?r.getLineHeightFactor():s,f=u*c,p=/\r\n|\r|\n/g,y="",w=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(y=typeof n=="string"?n.split(p):n,w=y.length||1),e+=u*(2-s),i.valign==="middle"?e-=w/2*f:i.valign==="bottom"&&(e-=w*f),i.halign==="center"||i.halign==="right"){var _=u;if(i.halign==="center"&&(_*=.5),y&&w>=1){for(var E=0;E<y.length;E++)r.text(y[E],t-r.getStringUnitWidth(y[E])*_,e),e+=f;return r}t-=r.getStringUnitWidth(n)*_}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var pA={},vf=function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:pA=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){u=t.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(c,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var p=n.unifyColor(t.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(t.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=n.unifyColor(t.lineColor),p&&(s=this.jsPDFDocument).setDrawColor.apply(s,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,s){return this.jsPDFDocument.rect(t,e,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return pA||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),my=function(n,t){return my=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},my(n,t)};function J3(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");my(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Z3=function(n){J3(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t}(Array);function yO(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function vO(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function qm(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function tT(n,t,e,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=eT(r,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,o)}function eT(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function S0(n,t){var e,i,r,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function nT(n,t){var e=S0(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function _O(n,t,e,i,r){var s={},o=1.3333333333333333,u=h2(t,function(G){return r.getComputedStyle(G).backgroundColor});u!=null&&(s.fillColor=u);var c=h2(t,function(G){return r.getComputedStyle(G).color});c!=null&&(s.textColor=c);var f=wO(i,e);f&&(s.cellPadding=f);var p="borderTopColor",y=o*e,w=i.borderTopWidth;if(i.borderBottomWidth===w&&i.borderRightWidth===w&&i.borderLeftWidth===w){var _=(parseFloat(w)||0)/y;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/y,right:(parseFloat(i.borderRightWidth)||0)/y,bottom:(parseFloat(i.borderBottomWidth)||0)/y,left:(parseFloat(i.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?p="borderRightColor":s.lineWidth.bottom?p="borderBottomColor":s.lineWidth.left&&(p="borderLeftColor"));var E=h2(t,function(G){return r.getComputedStyle(G)[p]});E!=null&&(s.lineColor=E);var N=["left","right","center","justify"];N.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),N=["middle","bottom","top"],N.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var R=parseInt(i.fontSize||"");isNaN(R)||(s.fontSize=R/o);var C=bO(i);C&&(s.fontStyle=C);var O=(i.fontFamily||"").toLowerCase();return n.indexOf(O)!==-1&&(s.font=O),s}function bO(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function h2(n,t){var e=iT(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function iT(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:iT(n.parentElement,t):e}function wO(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(u){return parseInt(u||"0")/i}),o=S0(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function rT(n,t,e,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof t=="string"?u=e.document.querySelector(t):u=t;var c=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],y=[],w=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:p,body:y,foot:w};for(var _=0;_<u.rows.length;_++){var E=u.rows[_],N=(o=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),R=AO(c,f,e,E,i,r);R&&(N==="thead"?p.push(R):N==="tfoot"?w.push(R):y.push(R))}return{head:p,body:y,foot:w}}function AO(n,t,e,i,r,s){for(var o=new Z3(i),u=0;u<i.cells.length;u++){var c=i.cells[u],f=e.getComputedStyle(c);if(r||f.display!=="none"){var p=void 0;s&&(p=_O(n,c,t,f,e)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:p,_element:c,content:SO(c)})}}var y=e.getComputedStyle(i);if(o.length>0&&(r||y.display!=="none"))return o}function SO(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function xO(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Jl(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function sT(n,t){var e=new vf(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();xO(r,i,t);var s=Jl({},r,i,t),o;typeof window<"u"&&(o=window);var u=TO(r,i,t),c=EO(r,i,t),f=NO(e,s),p=CO(e,s,o);return{id:t.tableId,content:p,hooks:c,styles:u,settings:f}}function TO(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(c){if(c==="columnStyles"){var f=n[c],p=t[c],y=e[c];i.columnStyles=Jl({},f,p,y)}else{var w=[n,t,e],_=w.map(function(E){return E[c]||{}});i[c]=Jl({},_[0],_[1],_[2])}},s=0,o=Object.keys(i);s<o.length;s++){var u=o[s];r(u)}return i}function EO(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var u=o[s];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function NO(n,t){var e,i,r,s,o,u,c,f,p,y,w,_,E=S0(t.margin,40/n.scaleFactor()),N=(e=RO(n,t.startY))!==null&&e!==void 0?e:E.top,R;t.showFoot===!0?R="everyPage":t.showFoot===!1?R="never":R=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var O=(s=t.useCss)!==null&&s!==void 0?s:!1,G=t.theme||(O?"plain":"striped"),et=!!t.horizontalPageBreak,tt=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:O,theme:G,startY:N,margin:E,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:C,showFoot:R,tableLineWidth:(y=t.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:et,horizontalPageBreakRepeat:tt,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function RO(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(e==null?void 0:e.finalY)!=null?e.finalY+20/i:null}function CO(n,t,e){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var u=rT(n,t.html,e,o,t.useCss)||{};i=u.head||i,r=u.body||i,s=u.foot||i}else console.error("Cannot parse html in non browser environment")}var c=t.columns||IO(i,r,s);return{columns:c,head:i,body:r,foot:s}}function IO(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,u;Array.isArray(i)?u=i[parseInt(s)]:u=i[s],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var c=0;c<o;c++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(c>0?"_".concat(c):"");var p={dataKey:f};r.push(p)}}),r}var yy=function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n}(),LO=function(n){J3(t,n);function t(e,i,r,s,o,u){var c=n.call(this,e,i,u)||this;return c.cell=r,c.row=s,c.column=o,c.section=s.section,c}return t}(yy),PO=function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,s,o){for(var u=0,c=e;u<c.length;u++){var f=c[u],p=new LO(t,this,i,r,s,o),y=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new yy(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new yy(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n}(),aT=function(){function n(t,e,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof Z3&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=e.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var u=e.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),f=c+u;return f>r?f:r},0)},n}(),oT=function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=S0(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n}(),kO=function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n}();function DO(n,t){OO(n,t);var e=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=vy(e,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=vy(e,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),jO(t),FO(t,n),MO(t)}function OO(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=nT(n,t);t.allRows().forEach(function(s){for(var o=0,u=t.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){var p=t.hooks.didParseCell;t.callCellHooks(n,p,f,s,c,null);var y=f.padding("horizontal");f.contentWidth=qm(f.text,f.styles,n)+y;var w=qm(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=w+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/e;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,u=t.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var p=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},y=p.cellWidth||p.minCellWidth;y&&typeof y=="number"&&(c.minWidth=y,c.wrappedWidth=y)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function vy(n,t,e){for(var i=t,r=n.reduce(function(_,E){return _+E.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],u=o.wrappedWidth/r,c=i*u,f=o.width+c,p=e(o),y=f<p?p:f;t-=y-o.width,o.width=y}if(t=Math.round(t*1e10)/1e10,t){var w=n.filter(function(_){return t<0?_.width>e(_):!0});w.length&&(t=vy(w,t,e))}return t}function MO(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=t[c.index];if(e>1)e--,delete s.cells[c.index];else if(f)f.cell.height+=s.height,e=f.cell.colSpan,delete s.cells[c.index],f.left--,f.left<=1&&delete t[c.index];else{var p=s.cells[c.index];if(!p)continue;if(p.height=s.height,p.rowSpan>1){var y=i.length-r,w=p.rowSpan>y?y:p.rowSpan;t[c.index]={cell:p,left:w,row:s}}}}}function jO(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,s=0,o=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(o-=1,o>1&&n.columns[u+1])s+=c.width,delete i.cells[c.index];else if(r){var f=r;delete i.cells[c.index],r=null,f.width=c.width+s}else{var f=i.cells[c.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=c.width;continue}f.width=c.width+s}}}function FO(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){t.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,p+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=gA(f.text,p,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=gA(f.text,p,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var y=f.styles.overflow(f.text,p);typeof y=="string"?f.text=[y]:f.text=y}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=f.contentHeight/f.rowSpan;f.rowSpan>1&&e.count*e.height<w*f.rowSpan?e={height:w,count:f.rowSpan}:e&&e.count>0&&e.height>w&&(w=e.height),w>s.height&&(s.height=w)}}e.count--}}function gA(n,t,e,i,r){return n.map(function(s){return BO(s,t,e,i,r)})}function BO(n,t,e,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=qm(n,e,i))return n;for(;t<qm(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function lT(n,t){var e=new vf(n),i=VO(t,e.scaleFactor()),r=new PO(t,i);return DO(e,r),e.applyStyles(e.userStyles),r}function VO(n,t){var e=n.content,i=zO(e.columns);if(e.head.length===0){var r=mA(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=mA(i,"foot");r&&e.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:f2("head",e.head,i,o,s,t),body:f2("body",e.body,i,o,s,t),foot:f2("foot",e.foot,i,o,s,t)}}function f2(n,t,e,i,r,s){var o={},u=t.map(function(c,f){for(var p=0,y={},w=0,_=0,E=0,N=e;E<N.length;E++){var R=N[E];if(o[R.index]==null||o[R.index].left===0)if(_===0){var C=void 0;Array.isArray(c)?C=c[R.index-w-p]:C=c[R.dataKey];var O={};typeof C=="object"&&!Array.isArray(C)&&(O=(C==null?void 0:C.styles)||{});var G=qO(n,R,f,r,i,s,O),et=new oT(C,G,n);y[R.dataKey]=et,y[R.index]=et,_=et.colSpan-1,o[R.index]={left:et.rowSpan-1,times:_}}else _--,w++;else o[R.index].left--,_=o[R.index].times,p++}return new aT(c,f,n,y)});return u}function mA(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=UO(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function UO(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function zO(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new kO(r,t,e)})}function qO(n,t,e,i,r,s,o){var u=vO(i),c;n==="head"?c=r.headStyles:n==="body"?c=r.bodyStyles:n==="foot"&&(c=r.footStyles);var f=Jl({},u.table,u[n],r.styles,c),p=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},y=n==="body"?p:{},w=n==="body"&&e%2===0?Jl({},u.alternateRow,r.alternateRowStyles):{},_=yO(s),E=Jl({},_,f,w,y);return Jl(E,o)}function HO(n,t,e){var i;e===void 0&&(e={});var r=nT(n,t),s=new Map,o=[],u=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(w){var _=t.columns.find(function(E){return E.dataKey===w||E.index===w});_&&!s.has(_.index)&&(s.set(_.index,!0),o.push(_.index),u.push(t.columns[_.index]),r-=_.wrappedWidth)});for(var f=!0,p=(i=e==null?void 0:e.start)!==null&&i!==void 0?i:0;p<t.columns.length;){if(s.has(p)){p++;continue}var y=t.columns[p].wrappedWidth;if(f||r>=y)f=!1,o.push(p),u.push(t.columns[p]),r-=y;else break;p++}return{colIndexes:o,columns:u,lastIndex:p-1}}function WO(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=HO(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function uT(n,t){var e=t.settings,i=e.startY,r=e.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=i+r.bottom+o;if(e.pageBreak==="avoid"){var c=t.body,f=c.reduce(function(w,_){return w+_.height},0);u+=f}var p=new vf(n);(e.pageBreak==="always"||e.startY!=null&&u>p.pageSize().height)&&(hT(p),s.y=r.top),t.callWillDrawPageHooks(p,s);var y=Jl({},s);t.startPageNumber=p.pageNumber(),e.horizontalPageBreak?GO(p,t,y,s):(p.applyStyles(p.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(w){return au(p,t,w,s,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(w,_){var E=_===t.body.length-1;Hm(p,t,w,E,y,s,t.columns)}),p.applyStyles(p.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(w){return au(p,t,w,s,t.columns)})),tT(p,t,y,s),t.callEndPageHooks(p,s),t.finalY=s.y,n.lastAutoTable=t,p.applyStyles(p.userStyles)}function GO(n,t,e,i){var r=WO(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?$d(n,t,e,i,f.columns,!0):yA(n,t,i,f.columns),YO(n,t,e,i,f.columns),d2(n,t,i,f.columns)});else for(var o=-1,u=r[0],c=function(){var f=o;if(u){n.applyStyles(n.userStyles);var p=u.columns;o>=0?$d(n,t,e,i,p,!0):yA(n,t,i,p),f=vA(n,t,o+1,i,p),d2(n,t,i,p)}var y=f-o;r.slice(1).forEach(function(w){n.applyStyles(n.userStyles),$d(n,t,e,i,w.columns,!0),vA(n,t,o+1,i,w.columns,y),d2(n,t,i,w.columns)}),o=f};o<t.body.length-1;)c()}function yA(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return au(n,t,s,e,i)})}function YO(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var u=o===t.body.length-1;Hm(n,t,s,u,e,i,r)})}function vA(n,t,e,i,r,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),u=-1;return t.body.slice(e,o).forEach(function(c,f){var p=e+f===t.body.length-1,y=cT(n,t,p,i);c.canEntireRowFit(y,r)&&(au(n,t,c,i,r),u=e+f)}),u}function d2(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return au(n,t,s,e,i)})}function KO(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function XO(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,u=e.columns;o<u.length;o++){var c=u[o],f=n.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new oT(f.raw,f.styles,f.section);p=Jl(p,f),p.text=[];var y=KO(f,t,i);f.text.length>y&&(p.text=f.text.splice(y,f.text.length));var w=i.scaleFactor(),_=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(w,_),f.contentHeight>=t&&(f.contentHeight=t,p.styles.minCellHeight-=t),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(w,_),p.contentHeight>s&&(s=p.contentHeight),r[c.index]=p}}var E=new aT(n.raw,-1,n.section,r,!0);E.height=s;for(var N=0,R=e.columns;N<R.length;N++){var c=R[N],p=E.cells[c.index];p&&(p.height=E.height);var f=n.cells[c.index];f&&(f.height=n.height)}return E}function $O(n,t,e,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,u=r-o;t.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=t.getMinimumRowHeight(i.columns,n),f=c<e;if(c>u)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=t.hasRowSpan(i.columns),y=t.getMaxCellHeight(i.columns)>u;return y?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function Hm(n,t,e,i,r,s,o){var u=cT(n,t,i,s);if(e.canEntireRowFit(u,o))au(n,t,e,s,o);else if($O(n,e,u,t)){var c=XO(e,u,t,n);au(n,t,e,s,o),$d(n,t,r,s,o),Hm(n,t,c,i,r,s,o)}else $d(n,t,r,s,o),Hm(n,t,e,i,r,s,o)}function au(n,t,e,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var u=o[s],c=e.cells[u.index];if(!c){i.x+=u.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var f=t.callCellHooks(n,t.hooks.willDrawCell,c,e,u,i);if(f===!1){i.x+=u.width;continue}QO(n,c,i);var p=c.getTextPos();Q3(c.text,p.x,p.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,c,e,u,i),i.x+=u.width}i.y+=e.height}function QO(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=eT(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),JO(n,t,e,i.lineWidth))}function JO(n,t,e,i){var r,s,o,u;i.top&&(r=e.x,s=e.y,o=e.x+t.width,u=e.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.top,r,s,o,u)),i.bottom&&(r=e.x,s=e.y+t.height,o=e.x+t.width,u=e.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.bottom,r,s,o,u)),i.left&&(r=e.x,s=e.y,o=e.x,u=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.left,r,s,o,u)),i.right&&(r=e.x+t.width,s=e.y,o=e.x+t.width,u=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.right,r,s,o,u));function c(f,p,y,w,_){n.getDocument().setLineWidth(f),n.getDocument().line(p,y,w,_,"S")}}function cT(n,t,e,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function $d(n,t,e,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(u){return au(n,t,u,i,r)}),t.callEndPageHooks(n,i);var o=t.settings.margin;tT(n,t,e,i),hT(n),t.pageNumber++,i.x=o.left,i.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return au(n,t,u,i,r)}),n.applyStyles(n.userStyles))}function hT(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function ZO(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=sT(this,i),s=lT(this,r);return uT(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){Q3(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return vf.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){vf.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new vf(this),s=rT(r,t,window,e,!1),o=s.head,u=s.body,c=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:c,rows:u,data:u}}}var p2;function _A(n,t){var e=sT(n,t),i=lT(n,e);uT(n,i)}try{if(typeof window<"u"&&window){var bA=window,wA=bA.jsPDF||((p2=bA.jspdf)===null||p2===void 0?void 0:p2.jsPDF);wA&&ZO(wA)}}catch(n){console.error("Could not apply autoTable plugin",n)}const tM=async(n,t={})=>{if(!n){alert("No hay datos calculados para generar el PDF.");return}const{config:e,clientes:i,mariella:r,customization:s}=n,o=new Pe({orientation:"p",unit:"mm",format:"a4"}),u=Ov(e.locale,e.moneda);let c=15;const f=o.internal.pageSize.width,p=15;if(s.logo)try{o.addImage(s.logo,"PNG",p,c-5,25,25)}catch(C){console.error("Error al añadir el logo:",C)}o.setFontSize(18),o.setFont("helvetica","bold");const y=s.headerText||"LIQUIDACIÓN DE SERVICIO DE COMIDAS";o.text(y,f/2,c+5,{align:"center"}),c+=20,o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Facturador: ${e.nombreMariella}`,p,c),c+=7,o.text(`Mes del Servicio: ${e.mesServicio}`,p,c),c+=15;const w=[["#","Nombre del Cliente","Comidas","Valor a Pagar"]],_=i.map((C,O)=>[O+1,C.name,C.comidas,u.format(C.ingresoBrutoCliente)]);_A(o,{head:w,body:_,startY:c,theme:"grid",headStyles:{fillColor:[102,126,234]},didDrawPage:function(C){c=C.cursor.y}});const E=[["Concepto","Valor Aplicado","Monto Deducido"]],N=r.deducciones.map(C=>[C.nombre,C.displayValue,`- ${u.format(C.montoCalculado)}`]);if(_A(o,{head:E,body:N,startY:c+10,theme:"striped",didDrawPage:function(C){c=C.cursor.y}}),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(`SALDO FINAL A RECIBIR: ${u.format(r.saldoFinalNeto)}`,p,c+10),t.doughnut||t.pie||t.bar){o.addPage();let C=15;if(o.setFontSize(16),o.text("Resumen Gráfico",f/2,C,{align:"center"}),C+=10,t.doughnut)try{o.addImage(t.doughnut,"PNG",p,C,80,80)}catch(O){console.error("Error añadiendo gráfico doughnut:",O)}if(t.pie)try{o.addImage(t.pie,"PNG",f-80-p,C,80,80)}catch(O){console.error("Error añadiendo gráfico pie:",O)}if(C+=90,t.bar)try{o.addImage(t.bar,"PNG",p,C,f-p*2,80)}catch(O){console.error("Error añadiendo gráfico bar:",O)}}const R=o.internal.getNumberOfPages();for(let C=1;C<=R;C++)o.setPage(C),s.footerText&&(o.setFontSize(8),o.text(s.footerText,f/2,o.internal.pageSize.height-10,{align:"center"}));if(o.setPage(R),s.signature)try{o.addImage(s.signature,"PNG",150,250,50,25)}catch(C){console.error("Error añadiendo firma:",C)}try{const C=o.output("blob"),O=Date.now(),G=Ms.currentUser.uid,et=YD(ZD,`settlements/${G}/${O}-${e.mesServicio}.pdf`),tt=await WD(et,C),mt=await GD(tt.ref),z={timestamp:new Date().toLocaleString("es-CO"),status:"Pendiente",summary:{mesServicio:e.mesServicio,nombreMariella:e.nombreMariella,saldoFinalNeto:r.saldoFinalNeto,totalIngresoBruto:r.totalIngresoBruto,moneda:e.moneda,locale:e.locale},pdfDownloadURL:mt,storagePath:tt.metadata.fullPath,comprobantePago:null};await t8(z),console.log("Liquidación guardada y PDF subido a Storage.")}catch(C){console.error("Error en el proceso de guardado y subida:",C),alert("Hubo un error al guardar el reporte.")}o.save(`liquidacion-${e.nombreMariella}-${e.mesServicio}.pdf`)};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Lp(n){return n+.5|0}const tc=(n,t,e)=>Math.max(Math.min(n,e),t);function Fd(n){return tc(Lp(n*2.55),0,255)}function lc(n){return tc(Lp(n*255),0,255)}function Xl(n){return tc(Lp(n/2.55)/100,0,1)}function AA(n){return tc(Lp(n*100),0,100)}const ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_y=[..."0123456789ABCDEF"],eM=n=>_y[n&15],nM=n=>_y[(n&240)>>4]+_y[n&15],Ug=n=>(n&240)>>4===(n&15),iM=n=>Ug(n.r)&&Ug(n.g)&&Ug(n.b)&&Ug(n.a);function rM(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ka[n[1]]*17,g:255&ka[n[2]]*17,b:255&ka[n[3]]*17,a:t===5?ka[n[4]]*17:255}:(t===7||t===9)&&(e={r:ka[n[1]]<<4|ka[n[2]],g:ka[n[3]]<<4|ka[n[4]],b:ka[n[5]]<<4|ka[n[6]],a:t===9?ka[n[7]]<<4|ka[n[8]]:255})),e}const sM=(n,t)=>n<255?t(n):"";function aM(n){var t=iM(n)?eM:nM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+sM(n.a,t):void 0}const oM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fT(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function lM(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function uM(n,t,e){const i=fT(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function cM(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Bv(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),u=(s+o)/2;let c,f,p;return s!==o&&(p=s-o,f=u>.5?p/(2-s-o):p/(s+o),c=cM(e,i,r,p,s),c=c*60+.5),[c|0,f||0,u]}function Vv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(lc)}function Uv(n,t,e){return Vv(fT,n,t,e)}function hM(n,t,e){return Vv(uM,n,t,e)}function fM(n,t,e){return Vv(lM,n,t,e)}function dT(n){return(n%360+360)%360}function dM(n){const t=oM.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Fd(+t[5]):lc(+t[5]));const r=dT(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=hM(r,s,o):t[1]==="hsv"?i=fM(r,s,o):i=Uv(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function pM(n,t){var e=Bv(n);e[0]=dT(e[0]+t),e=Uv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function gM(n){if(!n)return;const t=Bv(n),e=t[0],i=AA(t[1]),r=AA(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Xl(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const SA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mM(){const n={},t=Object.keys(xA),e=Object.keys(SA);let i,r,s,o,u;for(i=0;i<t.length;i++){for(o=u=t[i],r=0;r<e.length;r++)s=e[r],u=u.replace(s,SA[s]);s=parseInt(xA[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let zg;function yM(n){zg||(zg=mM(),zg.transparent=[0,0,0,0]);const t=zg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const vM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _M(n){const t=vM.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Fd(o):tc(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Fd(i):tc(i,0,255)),r=255&(t[4]?Fd(r):tc(r,0,255)),s=255&(t[6]?Fd(s):tc(s,0,255)),{r:i,g:r,b:s,a:e}}}function bM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const g2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Jh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function wM(n,t,e){const i=Jh(Xl(n.r)),r=Jh(Xl(n.g)),s=Jh(Xl(n.b));return{r:lc(g2(i+e*(Jh(Xl(t.r))-i))),g:lc(g2(r+e*(Jh(Xl(t.g))-r))),b:lc(g2(s+e*(Jh(Xl(t.b))-s))),a:n.a+e*(t.a-n.a)}}function qg(n,t,e){if(n){let i=Bv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Uv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function pT(n,t){return n&&Object.assign(t||{},n)}function TA(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=lc(n[3]))):(t=pT(n,{r:0,g:0,b:0,a:1}),t.a=lc(t.a)),t}function AM(n){return n.charAt(0)==="r"?_M(n):dM(n)}class hp{constructor(t){if(t instanceof hp)return t;const e=typeof t;let i;e==="object"?i=TA(t):e==="string"&&(i=rM(t)||yM(t)||AM(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=pT(this._rgb);return t&&(t.a=Xl(t.a)),t}set rgb(t){this._rgb=TA(t)}rgbString(){return this._valid?bM(this._rgb):void 0}hexString(){return this._valid?aM(this._rgb):void 0}hslString(){return this._valid?gM(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,u=2*o-1,c=i.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=wM(this._rgb,t._rgb,e)),this}clone(){return new hp(this.rgb)}alpha(t){return this._rgb.a=lc(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Lp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qg(this._rgb,2,t),this}darken(t){return qg(this._rgb,2,-t),this}saturate(t){return qg(this._rgb,1,t),this}desaturate(t){return qg(this._rgb,1,-t),this}rotate(t){return pM(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gl(){}const SM=(()=>{let n=0;return()=>n++})();function Pn(n){return n==null}function Zi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function fn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ss(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function $o(n,t){return ss(n)?n:t}function Qe(n,t){return typeof n>"u"?t:n}const xM=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,gT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ei(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Fn(n,t,e,i){let r,s,o;if(Zi(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(fn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function Wm(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Gm(n){if(Zi(n))return n.map(Gm);if(fn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Gm(n[e[r]]);return t}return n}function mT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function TM(n,t,e,i){if(!mT(n))return;const r=t[n],s=e[n];fn(r)&&fn(s)?fp(r,s,i):t[n]=Gm(s)}function fp(n,t,e){const i=Zi(t)?t:[t],r=i.length;if(!fn(n))return n;e=e||{};const s=e.merger||TM;let o;for(let u=0;u<r;++u){if(o=i[u],!fn(o))continue;const c=Object.keys(o);for(let f=0,p=c.length;f<p;++f)s(c[f],n,o,e)}return n}function Qd(n,t){return fp(n,t,{merger:EM})}function EM(n,t,e){if(!mT(n))return;const i=t[n],r=e[n];fn(i)&&fn(r)?Qd(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Gm(r))}const EA={"":n=>n,x:n=>n.x,y:n=>n.y};function NM(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function RM(n){const t=NM(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ph(n,t){return(EA[t]||(EA[t]=RM(t)))(n)}function zv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const dp=n=>typeof n<"u",vc=n=>typeof n=="function",NA=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function CM(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Bn=Math.PI,mi=2*Bn,IM=mi+Bn,Ym=Number.POSITIVE_INFINITY,LM=Bn/180,lr=Bn/2,Yc=Bn/4,RA=Bn*2/3,yT=Math.log10,cl=Math.sign;function Jd(n,t,e){return Math.abs(n-t)<e}function CA(n){const t=Math.round(n);n=Jd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yT(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function PM(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function kM(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function pp(n){return!kM(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function DM(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function OM(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Zl(n){return n*(Bn/180)}function MM(n){return n*(180/Bn)}function IA(n){if(!ss(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function vT(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*Bn&&(s+=mi),{angle:s,distance:r}}function by(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function jM(n,t){return(n-t+IM)%mi-Bn}function aa(n){return(n%mi+mi)%mi}function gp(n,t,e,i){const r=aa(n),s=aa(t),o=aa(e),u=aa(s-r),c=aa(o-r),f=aa(r-s),p=aa(r-o);return r===s||r===o||i&&s===o||u>c&&f<p}function ns(n,t,e){return Math.max(t,Math.min(e,n))}function FM(n){return ns(n,-32768,32767)}function tu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function qv(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const nh=(n,t,e,i)=>qv(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),BM=(n,t,e)=>qv(n,e,i=>n[i][t]>=e);function VM(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const _T=["push","pop","shift","splice","unshift"];function UM(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_T.forEach(e=>{const i="_onData"+zv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function LA(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(_T.forEach(s=>{delete n[s]}),delete n._chartjs)}function bT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const wT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function AT(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,wT.call(window,()=>{i=!1,n.apply(t,e)}))}}function zM(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Hv=n=>n==="start"?"left":n==="end"?"right":"center",Jr=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,qM=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function HM(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:u,_parsed:c}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:y,max:w,minDefined:_,maxDefined:E}=o.getUserBounds();if(_){if(r=Math.min(nh(c,p,y).lo,e?i:nh(t,p,o.getPixelForValue(y)).lo),f){const N=c.slice(0,r+1).reverse().findIndex(R=>!Pn(R[u.axis]));r-=Math.max(0,N)}r=ns(r,0,i-1)}if(E){let N=Math.max(nh(c,o.axis,w,!0).hi+1,e?0:nh(t,p,o.getPixelForValue(w),!0).hi+1);if(f){const R=c.slice(N-1).findIndex(C=>!Pn(C[u.axis]));N+=Math.max(0,R)}s=ns(N,r,i)-r}else s=i-r}return{start:r,count:s}}function WM(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Hg=n=>n===0||n===1,PA=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*mi/e)),kA=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*mi/e)+1,Zd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*lr)+1,easeOutSine:n=>Math.sin(n*lr),easeInOutSine:n=>-.5*(Math.cos(Bn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Hg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Hg(n)?n:PA(n,.075,.3),easeOutElastic:n=>Hg(n)?n:kA(n,.075,.3),easeInOutElastic(n){return Hg(n)?n:n<.5?.5*PA(n*2,.1125,.45):.5+.5*kA(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Zd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Zd.easeInBounce(n*2)*.5:Zd.easeOutBounce(n*2-1)*.5+.5};function Wv(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function DA(n){return Wv(n)?n:new hp(n)}function m2(n){return Wv(n)?n:new hp(n).saturate(.5).darken(.1).hexString()}const GM=["x","y","borderWidth","radius","tension"],YM=["color","borderColor","backgroundColor"];function KM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:YM},numbers:{type:"number",properties:GM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function XM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const OA=new Map;function $M(n,t){t=t||{};const e=n+JSON.stringify(t);let i=OA.get(e);return i||(i=new Intl.NumberFormat(n,t),OA.set(e,i)),i}function Gv(n,t,e){return $M(t,e).format(n)}const QM={values(n){return Zi(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=JM(n,e)}const o=yT(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Gv(n,i,c)}};function JM(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ST={formatters:QM};function ZM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ST.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const gh=Object.create(null),wy=Object.create(null);function tp(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function y2(n,t,e){return typeof t=="string"?fp(tp(n,t),e):fp(tp(n,""),t)}class t7{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>m2(r.backgroundColor),this.hoverBorderColor=(i,r)=>m2(r.borderColor),this.hoverColor=(i,r)=>m2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return y2(this,t,e)}get(t){return tp(this,t)}describe(t,e){return y2(wy,t,e)}override(t,e){return y2(gh,t,e)}route(t,e,i,r){const s=tp(this,t),o=tp(this,i),u="_"+e;Object.defineProperties(s,{[u]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[u],f=o[r];return fn(c)?Object.assign({},f,c):Qe(c,f)},set(c){this[u]=c}}})}apply(t){t.forEach(e=>e(this))}}var Hi=new t7({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[KM,XM,ZM]);function e7(n){return!n||Pn(n.size)||Pn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function MA(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Kc(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function jA(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ay(n,t,e,i){xT(n,t,e,i,null)}function xT(n,t,e,i,r){let s,o,u,c,f,p,y,w;const _=t.pointStyle,E=t.rotation,N=t.radius;let R=(E||0)*LM;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),_){default:r?n.ellipse(e,i,r/2,N,0,0,mi):n.arc(e,i,N,0,mi),n.closePath();break;case"triangle":p=r?r/2:N,n.moveTo(e+Math.sin(R)*p,i-Math.cos(R)*N),R+=RA,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*N),R+=RA,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*N),n.closePath();break;case"rectRounded":f=N*.516,c=N-f,o=Math.cos(R+Yc)*c,y=Math.cos(R+Yc)*(r?r/2-f:c),u=Math.sin(R+Yc)*c,w=Math.sin(R+Yc)*(r?r/2-f:c),n.arc(e-y,i-u,f,R-Bn,R-lr),n.arc(e+w,i-o,f,R-lr,R),n.arc(e+y,i+u,f,R,R+lr),n.arc(e-w,i+o,f,R+lr,R+Bn),n.closePath();break;case"rect":if(!E){c=Math.SQRT1_2*N,p=r?r/2:c,n.rect(e-p,i-c,2*p,2*c);break}R+=Yc;case"rectRot":y=Math.cos(R)*(r?r/2:N),o=Math.cos(R)*N,u=Math.sin(R)*N,w=Math.sin(R)*(r?r/2:N),n.moveTo(e-y,i-u),n.lineTo(e+w,i-o),n.lineTo(e+y,i+u),n.lineTo(e-w,i+o),n.closePath();break;case"crossRot":R+=Yc;case"cross":y=Math.cos(R)*(r?r/2:N),o=Math.cos(R)*N,u=Math.sin(R)*N,w=Math.sin(R)*(r?r/2:N),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o);break;case"star":y=Math.cos(R)*(r?r/2:N),o=Math.cos(R)*N,u=Math.sin(R)*N,w=Math.sin(R)*(r?r/2:N),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o),R+=Yc,y=Math.cos(R)*(r?r/2:N),o=Math.cos(R)*N,u=Math.sin(R)*N,w=Math.sin(R)*(r?r/2:N),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o);break;case"line":o=r?r/2:Math.cos(R)*N,u=Math.sin(R)*N,n.moveTo(e-o,i-u),n.lineTo(e+o,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:N),i+Math.sin(R)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function mp(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function x0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function T0(n){n.restore()}function n7(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function i7(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function r7(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function s7(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,u=t+s.actualBoundingBoxRight,c=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,p=r.strikethrough?(c+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(u,p),n.stroke()}}function a7(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function yp(n,t,e,i,r,s={}){const o=Zi(t)?t:[t],u=s.strokeWidth>0&&s.strokeColor!=="";let c,f;for(n.save(),n.font=r.string,r7(n,s),c=0;c<o.length;++c)f=o[c],s.backdrop&&a7(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Pn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,e,i,s.maxWidth)),n.fillText(f,e,i,s.maxWidth),s7(n,e,i,f,s),i+=Number(r.lineHeight);n.restore()}function Km(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*Bn,Bn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Bn,lr,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,lr,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-lr,!0),n.lineTo(e+o.topLeft,i)}const o7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function u7(n,t){const e=(""+n).match(o7);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const c7=n=>+n||0;function Yv(n,t){const e={},i=fn(t),r=i?Object.keys(t):t,s=fn(n)?i?o=>Qe(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=c7(s(o));return e}function TT(n){return Yv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _f(n){return Yv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Oa(n){const t=TT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function is(n,t){n=n||{},t=t||Hi.font;let e=Qe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qe(n.style,t.style);i&&!(""+i).match(l7)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qe(n.family,t.family),lineHeight:u7(Qe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qe(n.weight,t.weight),string:""};return r.string=e7(r),r}function Wg(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function h7(n,t,e){const{min:i,max:r}=n,s=gT(t,(r-i)/2),o=(u,c)=>e&&u===0?0:u+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function bh(n,t){return Object.assign(Object.create(n),t)}function Kv(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=CT("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>Kv([u,...n],t,s,i)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return NT(u,c,()=>_7(c,t,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return BA(u).includes(c)},ownKeys(u){return BA(u)},set(u,c,f){const p=u._storage||(u._storage=r());return u[c]=p[c]=f,delete u._keys,!0}})}function Cf(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:ET(n,i),setContext:s=>Cf(n,s,e,i),override:s=>Cf(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return NT(s,o,()=>d7(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function ET(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:vc(e)?e:()=>e,isIndexable:vc(i)?i:()=>i}}const f7=(n,t)=>n?n+zv(t):t,Xv=(n,t)=>fn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function NT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function d7(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[t];return vc(u)&&o.isScriptable(t)&&(u=p7(t,u,n,e)),Zi(u)&&u.length&&(u=g7(t,u,n,o.isIndexable)),Xv(t,u)&&(u=Cf(u,r,s&&s[t],o)),u}function p7(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=t(s,o||i);return u.delete(n),Xv(n,c)&&(c=$v(r._scopes,r,n,c)),c}function g7(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(fn(t[0])){const c=t,f=r._scopes.filter(p=>p!==c);t=[];for(const p of c){const y=$v(f,r,n,p);t.push(Cf(y,s,o&&o[n],u))}}return t}function RT(n,t,e){return vc(n)?n(t,e):n}const m7=(n,t)=>n===!0?t:typeof n=="string"?ph(t,n):void 0;function y7(n,t,e,i,r){for(const s of t){const o=m7(e,s);if(o){n.add(o);const u=RT(o._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function $v(n,t,e,i){const r=t._rootScopes,s=RT(t._fallback,e,i),o=[...n,...r],u=new Set;u.add(i);let c=FA(u,o,e,s||e,i);return c===null||typeof s<"u"&&s!==e&&(c=FA(u,o,s,c,i),c===null)?!1:Kv(Array.from(u),[""],r,s,()=>v7(t,e,i))}function FA(n,t,e,i,r){for(;e;)e=y7(n,t,e,i,r);return e}function v7(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Zi(r)&&fn(e)?e:r||{}}function _7(n,t,e,i){let r;for(const s of t)if(r=CT(f7(s,n),e),typeof r<"u")return Xv(n,r)?$v(e,i,n,r):r}function CT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function BA(n){let t=n._keys;return t||(t=n._keys=b7(n._scopes)),t}function b7(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const w7=Number.EPSILON||1e-14,If=(n,t)=>t<n.length&&!n[t].skip&&n[t],IT=n=>n==="x"?"y":"x";function A7(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,u=by(s,r),c=by(o,s);let f=u/(u+c),p=c/(u+c);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,w=i*p;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+w*(o.x-r.x),y:s.y+w*(o.y-r.y)}}}function S7(n,t,e){const i=n.length;let r,s,o,u,c,f=If(n,0);for(let p=0;p<i-1;++p)if(c=f,f=If(n,p+1),!(!c||!f)){if(Jd(t[p],0,w7)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(o=3/Math.sqrt(u),e[p]=r*o*t[p],e[p+1]=s*o*t[p])}}function x7(n,t,e="x"){const i=IT(e),r=n.length;let s,o,u,c=If(n,0);for(let f=0;f<r;++f){if(o=u,u=c,c=If(n,f+1),!u)continue;const p=u[e],y=u[i];o&&(s=(p-o[e])/3,u[`cp1${e}`]=p-s,u[`cp1${i}`]=y-s*t[f]),c&&(s=(c[e]-p)/3,u[`cp2${e}`]=p+s,u[`cp2${i}`]=y+s*t[f])}}function T7(n,t="x"){const e=IT(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,u,c,f=If(n,0);for(o=0;o<i;++o)if(u=c,c=f,f=If(n,o+1),!!c){if(f){const p=f[t]-c[t];r[o]=p!==0?(f[e]-c[e])/p:0}s[o]=u?f?cl(r[o-1])!==cl(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}S7(n,r,s),x7(n,s,t)}function Gg(n,t,e){return Math.max(Math.min(n,e),t)}function E7(n,t){let e,i,r,s,o,u=mp(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=u,u=e<i-1&&mp(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Gg(r.cp1x,t.left,t.right),r.cp1y=Gg(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Gg(r.cp2x,t.left,t.right),r.cp2y=Gg(r.cp2y,t.top,t.bottom)))}function N7(n,t,e,i,r){let s,o,u,c;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")T7(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)u=n[s],c=A7(f,u,n[Math.min(s+1,o-(i?0:1))%o],t.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}t.capBezierPoints&&E7(n,e)}function Qv(){return typeof window<"u"&&typeof document<"u"}function Jv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xm(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const E0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function R7(n,t){return E0(n).getPropertyValue(t)}const C7=["top","right","bottom","left"];function ah(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=C7[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const I7=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function L7(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,c;if(I7(r,s,n.target))u=r,c=s;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,c=i.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function Jc(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=E0(e),s=r.boxSizing==="border-box",o=ah(r,"padding"),u=ah(r,"border","width"),{x:c,y:f,box:p}=L7(n,e),y=o.left+(p&&u.left),w=o.top+(p&&u.top);let{width:_,height:E}=t;return s&&(_-=o.width+u.width,E-=o.height+u.height),{x:Math.round((c-y)/_*e.width/i),y:Math.round((f-w)/E*e.height/i)}}function P7(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&Jv(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),u=E0(s),c=ah(u,"border","width"),f=ah(u,"padding");t=o.width-f.width-c.width,e=o.height-f.height-c.height,i=Xm(u.maxWidth,s,"clientWidth"),r=Xm(u.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ym,maxHeight:r||Ym}}const Yg=n=>Math.round(n*10)/10;function k7(n,t,e,i){const r=E0(n),s=ah(r,"margin"),o=Xm(r.maxWidth,n,"clientWidth")||Ym,u=Xm(r.maxHeight,n,"clientHeight")||Ym,c=P7(n,t,e);let{width:f,height:p}=c;if(r.boxSizing==="content-box"){const w=ah(r,"border","width"),_=ah(r,"padding");f-=_.width+w.width,p-=_.height+w.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=Yg(Math.min(f,o,c.maxWidth)),p=Yg(Math.min(p,u,c.maxHeight)),f&&!p&&(p=Yg(f/2)),(t!==void 0||e!==void 0)&&i&&c.height&&p>c.height&&(p=c.height,f=Yg(Math.floor(p*i))),{width:f,height:p}}function VA(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const D7=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Qv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function UA(n,t){const e=R7(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Zc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function O7(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function M7(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=Zc(n,r,e),u=Zc(r,s,e),c=Zc(s,t,e),f=Zc(o,u,e),p=Zc(u,c,e);return Zc(f,p,e)}const j7=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},F7=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function bf(n,t,e){return n?j7(t,e):F7()}function LT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function PT(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function kT(n){return n==="angle"?{between:gp,compare:jM,normalize:aa}:{between:tu,compare:(t,e)=>t-e,normalize:t=>t}}function zA({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function B7(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:u}=kT(i),c=t.length;let{start:f,end:p,loop:y}=n,w,_;if(y){for(f+=c,p+=c,w=0,_=c;w<_&&o(u(t[f%c][i]),r,s);++w)f--,p--;f%=c,p%=c}return p<f&&(p+=c),{start:f,end:p,loop:y,style:n.style}}function DT(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:u,between:c,normalize:f}=kT(i),{start:p,end:y,loop:w,style:_}=B7(n,t,e),E=[];let N=!1,R=null,C,O,G;const et=()=>c(r,G,C)&&u(r,G)!==0,tt=()=>u(s,C)===0||c(s,G,C),mt=()=>N||et(),z=()=>!N||tt();for(let P=p,U=p;P<=y;++P)O=t[P%o],!O.skip&&(C=f(O[i]),C!==G&&(N=c(C,r,s),R===null&&mt()&&(R=u(C,r)===0?P:U),R!==null&&z()&&(E.push(zA({start:R,end:P,loop:w,count:o,style:_})),R=null),U=P,G=C));return R!==null&&E.push(zA({start:R,end:y,loop:w,count:o,style:_})),E}function OT(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=DT(i[r],n.points,t);s.length&&e.push(...s)}return e}function V7(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function U7(n,t,e,i){const r=n.length,s=[];let o=t,u=n[t],c;for(c=t+1;c<=e;++c){const f=n[c%r];f.skip||f.stop?u.skip||(i=!1,s.push({start:t%r,end:(c-1)%r,loop:i}),t=o=f.stop?c:null):(o=c,u.skip&&(t=c)),u=f}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function z7(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:u}=V7(e,r,s,i);if(i===!0)return qA(n,[{start:o,end:u,loop:s}],e,t);const c=u<o?u+r:u,f=!!n._fullLoop&&o===0&&u===r-1;return qA(n,U7(e,o,c,f),e,t)}function qA(n,t,e,i){return!i||!i.setContext||!e?t:q7(n,t,e,i)}function q7(n,t,e,i){const r=n._chart.getContext(),s=HA(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,c=e.length,f=[];let p=s,y=t[0].start,w=y;function _(E,N,R,C){const O=u?-1:1;if(E!==N){for(E+=c;e[E%c].skip;)E-=O;for(;e[N%c].skip;)N+=O;E%c!==N%c&&(f.push({start:E%c,end:N%c,loop:R,style:C}),p=C,y=N%c)}}for(const E of t){y=u?y:E.start;let N=e[y%c],R;for(w=y+1;w<=E.end;w++){const C=e[w%c];R=HA(i.setContext(bh(r,{type:"segment",p0:N,p1:C,p0DataIndex:(w-1)%c,p1DataIndex:w%c,datasetIndex:o}))),H7(R,p)&&_(y,w-1,E.loop,p),N=C,p=R}y<w-1&&_(y,w-1,E.loop,p)}return f}function HA(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function H7(n,t){if(!t)return!1;const e=[],i=function(r,s){return Wv(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Kg(n,t,e){return n.options.clip?n[e]:t[e]}function W7(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Kg(e,t,"left"),right:Kg(e,t,"right"),top:Kg(i,t,"top"),bottom:Kg(i,t,"bottom")}:t}function MT(n,t){const e=t._clip;if(e.disabled)return!1;const i=W7(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class G7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(u=>u({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Yl=new G7;const WA="transparent",Y7={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=DA(n||WA),r=i.valid&&DA(t||WA);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class K7{constructor(t,e,i,r){const s=e[i];r=Wg([t.to,r,s,t.from]);const o=Wg([t.from,s,r]);this._active=!0,this._fn=t.fn||Y7[t.type||typeof o],this._easing=Zd[t.easing]||Zd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Wg([t.to,e,r,t.from]),this._from=Wg([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let c;if(this._active=s!==u&&(o||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=s;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class jT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!fn(t))return;const e=Object.keys(Hi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!fn(s))return;const o={};for(const u of e)o[u]=s[u];(Zi(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(t,e){const i=e.options,r=$7(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&X7(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=s[f];const w=i.get(f);if(y)if(w&&y.active()){y.update(w,p,u);continue}else y.cancel();if(!w||!w.duration){t[f]=p;continue}s[f]=y=new K7(w,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Yl.add(this._chart,i),!0}}function X7(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function $7(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function GA(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function Q7(n,t,e){if(e===!1)return!1;const i=GA(n,e),r=GA(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function J7(n){let t,e,i,r;return fn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function FT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function YA(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,u,c,f;if(t===null)return;let p=!1;for(o=0,u=r.length;o<u;++o){if(c=+r[o],c===e){if(p=!0,i.all)continue;break}f=n.values[c],ss(f)&&(s||t===0||cl(t)===cl(f))&&(t+=f)}return!p&&!i.all?0:t}function Z7(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let c,f,p;for(c=0,f=o.length;c<f;++c)p=o[c],u[c]={[r]:p,[s]:n[p]};return u}function v2(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function t9(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function e9(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function n9(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function KA(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function XA(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:u}=i,c=s.axis,f=o.axis,p=t9(s,o,i),y=t.length;let w;for(let _=0;_<y;++_){const E=t[_],{[c]:N,[f]:R}=E,C=E._stacks||(E._stacks={});w=C[f]=n9(r,p,N),w[u]=R,w._top=KA(w,o,!0,i.type),w._bottom=KA(w,o,!1,i.type);const O=w._visualValues||(w._visualValues={});O[u]=R}}function _2(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function i9(n,t){return bh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function r9(n,t,e){return bh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Nd(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const b2=n=>n==="reset"||n==="none",$A=(n,t)=>t?n:Object.assign({},n),s9=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:FT(e,!0),values:null};class oh{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=v2(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,w,_,E)=>y==="x"?w:y==="r"?E:_,s=e.xAxisID=Qe(i.xAxisID,_2(t,"x")),o=e.yAxisID=Qe(i.yAxisID,_2(t,"y")),u=e.rAxisID=Qe(i.rAxisID,_2(t,"r")),c=e.indexAxis,f=e.iAxisID=r(c,s,o,u),p=e.vAxisID=r(c,o,s,u);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&LA(this._data,this),t._stacked&&Nd(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(fn(e)){const r=this._cachedMeta;this._data=Z7(e,r)}else if(i!==e){if(i){LA(i,this);const r=this._cachedMeta;Nd(r),r._parsed=[]}e&&Object.isExtensible(e)&&UM(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=v2(e.vScale,e),e.stack!==i.stack&&(r=!0,Nd(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(XA(this,e._parsed),e._stacked=v2(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let c=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{Zi(r[t])?w=this.parseArrayData(i,r,t,e):fn(r[t])?w=this.parseObjectData(i,r,t,e):w=this.parsePrimitiveData(i,r,t,e);const _=()=>y[u]===null||f&&y[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=y=w[p],c&&(_()&&(c=!1),f=y);i._sorted=c}o&&XA(this,w)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,u=s.axis,c=o.axis,f=s.getLabels(),p=s===o,y=new Array(r);let w,_,E;for(w=0,_=r;w<_;++w)E=w+i,y[w]={[u]:p||s.parse(f[E],E),[c]:o.parse(e[E],E)};return y}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,u=new Array(r);let c,f,p,y;for(c=0,f=r;c<f;++c)p=c+i,y=e[p],u[c]={x:s.parse(y[0],p),y:o.parse(y[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let p,y,w,_;for(p=0,y=r;p<y;++p)w=p+i,_=e[w],f[p]={x:s.parse(ph(_,u),w),y:o.parse(ph(_,c),w)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],u={keys:FT(r,!0),values:e._stacks[t.axis]._visualValues};return YA(u,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,o=YA(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,u=this._getOtherScale(t),c=s9(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=e9(u);let w,_;function E(){_=r[w];const N=_[u.axis];return!ss(_[t.axis])||p>N||y<N}for(w=0;w<o&&!(!E()&&(this.updateRangeFromParsed(f,t,_,c),s));++w);if(s){for(w=o-1;w>=0;--w)if(!E()){this.updateRangeFromParsed(f,t,_,c);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],ss(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=J7(Qe(this.options.clip,Q7(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,s,u,c),p=u;p<u+c;++p){const y=r[p];y.hidden||(y.active&&f?o.push(y):y.draw(t,s))}for(p=0;p<o.length;++p)o[p].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=r9(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=i9(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,u=s[o],c=this.enableOptionSharing&&dp(i);if(u)return $A(u,c);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],w=f.getOptionScopes(this.getDataset(),p),_=Object.keys(Hi.elements[t]),E=()=>this.getContext(i,r,e),N=f.resolveNamedOptions(w,_,E,y);return N.$shared&&(N.$shared=c,s[o]=Object.freeze($A(N,c))),N}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,u=s[o];if(u)return u;let c;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),w=p.getOptionScopes(this.getDataset(),y);c=p.createResolver(w,this.getContext(t,i,e))}const f=new jT(r,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||b2(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){b2(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!b2(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let u;const c=f=>{for(f.length+=e,u=f.length-1;u>=o;u--)f[u]=f[u-e]};for(c(s),u=t;u<o;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Nd(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}me(oh,"defaults",{}),me(oh,"datasetElementType",null),me(oh,"dataElementType",null);function a9(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=bT(i.sort((r,s)=>r-s))}return n._cache.$bar}function o9(n){const t=n.iScale,e=a9(t,n.type);let i=t._length,r,s,o,u;const c=()=>{o===32767||o===-32768||(dp(u)&&(i=Math.min(i,Math.abs(o-u)||i)),u=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),c();for(u=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),c();return i}function l9(n,t,e,i){const r=e.barThickness;let s,o;return Pn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function u9(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const c=e.categoryPercentage;o===null&&(o=s-(u===null?t.end-t.start:u-s)),u===null&&(u=s+s-o);const f=s-(s-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/i,ratio:e.barPercentage,start:f}}function c9(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),u=Math.max(r,s);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),t[e.axis]=f,t._custom={barStart:c,barEnd:f,start:r,end:s,min:o,max:u}}function BT(n,t,e,i){return Zi(n)?c9(n,t,e,i):t[e.axis]=e.parse(n,i),t}function QA(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),u=r===s,c=[];let f,p,y,w;for(f=e,p=e+i;f<p;++f)w=t[f],y={},y[r.axis]=u||r.parse(o[f],f),c.push(BT(w,y,s,f));return c}function w2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function h9(n,t,e){return n!==0?cl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function f9(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function d9(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:p}=f9(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(s[JA(p,o,u,c)]=!0,r=f)),s[JA(r,o,u,c)]=!0,n.borderSkipped=s}function JA(n,t,e,i){return i?(n=p9(n,t,e),n=ZA(n,e,t)):n=ZA(n,t,e),n}function p9(n,t,e){return n===t?e:n===e?t:n}function ZA(n,t,e){return n==="start"?t:n==="end"?e:n}function g9(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class gm extends oh{parsePrimitiveData(t,e,i,r){return QA(t,e,i,r)}parseArrayData(t,e,i,r){return QA(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?u:c,p=o.axis==="x"?u:c,y=[];let w,_,E,N;for(w=i,_=i+r;w<_;++w)N=e[w],E={},E[s.axis]=s.parse(ph(N,f),w),y.push(BT(ph(N,p),E,o,w));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,u=w2(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(e,r);for(let _=e;_<e+i;_++){const E=this.getParsed(_),N=s||Pn(E[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(_),R=this._calculateBarIndexPixels(_,p),C=(E._stacks||{})[u.axis],O={horizontal:f,base:N.base,enableBorderRadius:!C||w2(E._custom)||o===C._top||o===C._bottom,x:f?N.head:R.center,y:f?R.center:N.head,height:f?R.size:Math.abs(N.size),width:f?Math.abs(N.size):R.size};w&&(O.options=y||this.resolveDataElementOptions(_,t[_].active?"active":r));const G=O.options||t[_].options;d9(O,G,C,o),g9(O,G,p.ratio),this.updateElement(t[_],_,O,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=i.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(e),c=u&&u[i.axis],f=p=>{const y=p._parsed.find(_=>_[i.axis]===c),w=y&&y[p.vScale.axis];if(Pn(w)||isNaN(w))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Qe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=t.barThickness;return{min:u||o9(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,u=s||0,c=this.getParsed(t),f=c._custom,p=w2(f);let y=c[e.axis],w=0,_=i?this.applyStack(e,c,i):y,E,N;_!==y&&(w=_-y,_=y),p&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&cl(y)!==cl(f.barEnd)&&(w=0),w+=y);const R=!Pn(s)&&!p?s:w;let C=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?E=e.getPixelForValue(w+_):E=C,N=E-C,Math.abs(N)<o){N=h9(N,e,u)*o,y===u&&(C-=N/2);const O=e.getPixelForDecimal(0),G=e.getPixelForDecimal(1),et=Math.min(O,G),tt=Math.max(O,G);C=Math.max(Math.min(C,tt),et),E=C+N,i&&!p&&(c._stacks[e.axis]._visualValues[r]=e.getValueForPixel(E)-e.getValueForPixel(C))}if(C===e.getPixelForValue(u)){const O=cl(N)*e.getLineWidthForValue(u)/2;C+=O,N-=O}return{size:N,base:C,head:E,center:E+N/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Qe(r.maxBarThickness,1/0);let u,c;const f=this._getAxisCount();if(e.grouped){const p=s?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?u9(t,e,r,p*f):l9(t,e,r,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Qe(w,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+_;u=y.start+y.chunk*E+y.chunk/2,c=Math.min(o,y.chunk*y.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(o,e.min*e.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}me(gm,"id","bar"),me(gm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),me(gm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function m9(n,t,e){let i=1,r=1,s=0,o=0;if(t<mi){const u=n,c=u+t,f=Math.cos(u),p=Math.sin(u),y=Math.cos(c),w=Math.sin(c),_=(G,et,tt)=>gp(G,u,c,!0)?1:Math.max(et,et*e,tt,tt*e),E=(G,et,tt)=>gp(G,u,c,!0)?-1:Math.min(et,et*e,tt,tt*e),N=_(0,f,y),R=_(lr,p,w),C=E(Bn,f,y),O=E(Bn+lr,p,w);i=(N-C)/2,r=(R-O)/2,s=-(N+C)/2,o=-(R+O)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class uf extends oh{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(fn(i[t])){const{key:c="value"}=this._parsing;s=f=>+ph(i[f],c)}let o,u;for(o=t,u=t+e;o<u;++o)r._parsed[o]=s(o)}}_getRotation(){return Zl(this.options.rotation-90)}_getCircumference(){return Zl(this.options.circumference)}_getRotationExtents(){let t=mi,e=-mi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(xM(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:w,ratioY:_,offsetX:E,offsetY:N}=m9(y,p,c),R=(i.width-o)/w,C=(i.height-o)/_,O=Math.max(Math.min(R,C)/2,0),G=gT(this.options.radius,O),et=Math.max(G*c,0),tt=(G-et)/this._getVisibleDatasetWeightTotal();this.offsetX=E*G,this.offsetY=N*G,r.total=this.calculateTotal(),this.outerRadius=G-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*f,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/mi)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,u=o.chartArea,f=o.options.animation,p=(u.left+u.right)/2,y=(u.top+u.bottom)/2,w=s&&f.animateScale,_=w?0:this.innerRadius,E=w?0:this.outerRadius,{sharedOptions:N,includeOptions:R}=this._getSharedOptions(e,r);let C=this._getRotation(),O;for(O=0;O<e;++O)C+=this._circumference(O,s);for(O=e;O<e+i;++O){const G=this._circumference(O,s),et=t[O],tt={x:p+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+G,circumference:G,outerRadius:E,innerRadius:_};R&&(tt.options=N||this.resolveDataElementOptions(O,et.active?"active":r)),C+=G,this.updateElement(et,O,tt,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?mi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Gv(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,u,c;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,u=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}me(uf,"id","doughnut"),me(uf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),me(uf,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),me(uf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class mm extends oh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:u,count:c}=HM(e,r,o);this._drawStart=u,this._drawCount=c,WM(e)&&(u=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},t),this.updateElements(r,u,c,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),w=o.axis,_=u.axis,{spanGaps:E,segment:N}=this.options,R=pp(E)?E:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none",O=e+i,G=t.length;let et=e>0&&this.getParsed(e-1);for(let tt=0;tt<G;++tt){const mt=t[tt],z=C?mt:{};if(tt<e||tt>=O){z.skip=!0;continue}const P=this.getParsed(tt),U=Pn(P[_]),X=z[w]=o.getPixelForValue(P[w],tt),L=z[_]=s||U?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,P,c):P[_],tt);z.skip=isNaN(X)||isNaN(L)||U,z.stop=tt>0&&Math.abs(P[w]-et[w])>R,N&&(z.parsed=P,z.raw=f.data[tt]),y&&(z.options=p||this.resolveDataElementOptions(tt,mt.active?"active":r)),C||this.updateElement(mt,tt,z,r),et=P}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}me(mm,"id","line"),me(mm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),me(mm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Sy extends uf{}me(Sy,"id","pie"),me(Sy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Xc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zv{constructor(t){me(this,"options");this.options=t||{}}static override(t){Object.assign(Zv.prototype,t)}init(){}formats(){return Xc()}parse(){return Xc()}format(){return Xc()}add(){return Xc()}diff(){return Xc()}startOf(){return Xc()}endOf(){return Xc()}}var y9={_date:Zv};function v9(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&o&&s.length){const f=u._reversePixels?BM:nh;if(i){if(r._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const w=f(s,t,e-y),_=f(s,t,e+y);return{lo:w.lo,hi:_.hi}}}}else{const p=f(s,t,e);if(c){const{vScale:y}=r._cachedMeta,{_parsed:w}=n,_=w.slice(0,p.lo+1).reverse().findIndex(N=>!Pn(N[y.axis]));p.lo-=Math.max(0,_);const E=w.slice(p.hi).findIndex(N=>!Pn(N[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:s.length-1}}function N0(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let u=0,c=s.length;u<c;++u){const{index:f,data:p}=s[u],{lo:y,hi:w}=v9(s[u],t,o,r);for(let _=y;_<=w;++_){const E=p[_];E.skip||i(E,f,_)}}}function _9(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function A2(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||N0(n,e,t,function(u,c,f){!r&&!mp(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&s.push({element:u,datasetIndex:c,index:f})},!0),s}function b9(n,t,e,i){let r=[];function s(o,u,c){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:y}=vT(o,{x:t.x,y:t.y});gp(y,f,p)&&r.push({element:o,datasetIndex:u,index:c})}return N0(n,e,t,s),r}function w9(n,t,e,i,r,s){let o=[];const u=_9(e);let c=Number.POSITIVE_INFINITY;function f(p,y,w){const _=p.inRange(t.x,t.y,r);if(i&&!_)return;const E=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(E))&&!_)return;const R=u(t,E);R<c?(o=[{element:p,datasetIndex:y,index:w}],c=R):R===c&&o.push({element:p,datasetIndex:y,index:w})}return N0(n,e,t,f),o}function S2(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?b9(n,t,e,r):w9(n,t,e,i,r,s)}function tS(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let u=!1;return N0(n,e,t,(c,f,p)=>{c[o]&&c[o](t[e],r)&&(s.push({element:c,datasetIndex:f,index:p}),u=u||c.inRange(t.x,t.y,r))}),i&&!u?[]:s}var A9={modes:{index(n,t,e,i){const r=Jc(t,n),s=e.axis||"x",o=e.includeInvisible||!1,u=e.intersect?A2(n,r,s,i,o):S2(n,r,s,!1,i,o),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,y=f.data[p];y&&!y.skip&&c.push({element:y,datasetIndex:f.index,index:p})}),c):[]},dataset(n,t,e,i){const r=Jc(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let u=e.intersect?A2(n,r,s,i,o):S2(n,r,s,!1,i,o);if(u.length>0){const c=u[0].datasetIndex,f=n.getDatasetMeta(c).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:c,index:p})}return u},point(n,t,e,i){const r=Jc(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return A2(n,r,s,i,o)},nearest(n,t,e,i){const r=Jc(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return S2(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=Jc(t,n);return tS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Jc(t,n);return tS(n,r,"y",e.intersect,i)}}};const VT=["left","top","right","bottom"];function Rd(n,t){return n.filter(e=>e.pos===t)}function eS(n,t){return n.filter(e=>VT.indexOf(e.pos)===-1&&e.box.axis===t)}function Cd(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function S9(n){const t=[];let e,i,r,s,o,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return t}function x9(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!VT.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function T9(n,t){const e=x9(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:c}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:c&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:c&&t.availableHeight)}return e}function E9(n){const t=S9(n),e=Cd(t.filter(f=>f.box.fullSize),!0),i=Cd(Rd(t,"left"),!0),r=Cd(Rd(t,"right")),s=Cd(Rd(t,"top"),!0),o=Cd(Rd(t,"bottom")),u=eS(t,"x"),c=eS(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(u),chartArea:Rd(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(u)}}function nS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function UT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function N9(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!fn(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?s.height:s.width),e.size=y.size/y.count,n[r]+=e.size}s.getPadding&&UT(o,s.getPadding());const u=Math.max(0,t.outerWidth-nS(o,n,"left","right")),c=Math.max(0,t.outerHeight-nS(o,n,"top","bottom")),f=u!==n.w,p=c!==n.h;return n.w=u,n.h=c,e.horizontal?{same:f,other:p}:{same:p,other:f}}function R9(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function C9(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Bd(n,t,e,i){const r=[];let s,o,u,c,f,p;for(s=0,o=n.length,f=0;s<o;++s){u=n[s],c=u.box,c.update(u.width||t.w,u.height||t.h,C9(u.horizontal,t));const{same:y,other:w}=N9(t,e,u,i);f|=y&&r.length,p=p||w,c.fullSize||r.push(u)}return f&&Bd(r,t,e,i)||p}function Xg(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function iS(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const u of n){const c=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*p,w=f.size||c.height;dp(f.start)&&(o=f.start),c.fullSize?Xg(c,r.left,o,e.outerWidth-r.right-r.left,w):Xg(c,t.left+f.placed,o,y,w),f.start=o,f.placed+=y,o=c.bottom}else{const y=t.h*p,w=f.size||c.width;dp(f.start)&&(s=f.start),c.fullSize?Xg(c,s,r.top,w,e.outerHeight-r.bottom-r.top):Xg(c,s,t.top+f.placed,w,y),f.start=s,f.placed+=y,s=c.right}}t.x=s,t.y=o}var Da={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Oa(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),u=E9(n.boxes),c=u.vertical,f=u.horizontal;Fn(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const p=c.reduce((N,R)=>R.box.options&&R.box.options.display===!1?N:N+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),w=Object.assign({},r);UT(w,Oa(i));const _=Object.assign({maxPadding:w,w:s,h:o,x:r.left,y:r.top},r),E=T9(c.concat(f),y);Bd(u.fullSize,_,y,E),Bd(c,_,y,E),Bd(f,_,y,E)&&Bd(c,_,y,E),R9(_),iS(u.leftAndTop,_,y,E),_.x+=_.w,_.y+=_.h,iS(u.rightAndBottom,_,y,E),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Fn(u.chartArea,N=>{const R=N.box;Object.assign(R,n.chartArea),R.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class zT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class I9 extends zT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ym="$chartjs",L9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rS=n=>n===null||n==="";function P9(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[ym]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",rS(r)){const s=UA(n,"width");s!==void 0&&(n.width=s)}if(rS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=UA(n,"height");s!==void 0&&(n.height=s)}return n}const qT=D7?{passive:!0}:!1;function k9(n,t,e){n&&n.addEventListener(t,e,qT)}function D9(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,qT)}function O9(n,t){const e=L9[n.type]||n.type,{x:i,y:r}=Jc(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function $m(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function M9(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||$m(u.addedNodes,i),o=o&&!$m(u.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function j9(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||$m(u.removedNodes,i),o=o&&!$m(u.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const vp=new Map;let sS=0;function HT(){const n=window.devicePixelRatio;n!==sS&&(sS=n,vp.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function F9(n,t){vp.size||window.addEventListener("resize",HT),vp.set(n,t)}function B9(n){vp.delete(n),vp.size||window.removeEventListener("resize",HT)}function V9(n,t,e){const i=n.canvas,r=i&&Jv(i);if(!r)return;const s=AT((u,c)=>{const f=r.clientWidth;e(u,c),f<r.clientWidth&&e()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,p=c.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),F9(n,s),o}function x2(n,t,e){e&&e.disconnect(),t==="resize"&&B9(n)}function U9(n,t,e){const i=n.canvas,r=AT(s=>{n.ctx!==null&&e(O9(s,n))},n);return k9(i,t,r),r}class z9 extends zT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(P9(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[ym])return!1;const i=e[ym].initial;["height","width"].forEach(s=>{const o=i[s];Pn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[ym],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:M9,detach:j9,resize:V9}[e]||U9;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:x2,detach:x2,resize:x2}[e]||D9)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return k7(t,e,i,r)}isAttached(t){const e=t&&Jv(t);return!!(e&&e.isConnected)}}function q9(n){return!Qv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?I9:z9}class mo{constructor(){me(this,"x");me(this,"y");me(this,"active",!1);me(this,"options");me(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return pp(this.x)&&pp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}me(mo,"defaults",{}),me(mo,"defaultRoutes");function H9(n,t){const e=n.options.ticks,i=W9(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?Y9(t):[],o=s.length,u=s[0],c=s[o-1],f=[];if(o>r)return K9(t,f,s,o/r),f;const p=G9(s,t,r);if(o>0){let y,w;const _=o>1?Math.round((c-u)/(o-1)):null;for($g(t,f,p,Pn(_)?0:u-_,u),y=0,w=o-1;y<w;y++)$g(t,f,p,s[y],s[y+1]);return $g(t,f,p,c,Pn(_)?t.length:c+_),f}return $g(t,f,p),f}function W9(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function G9(n,t,e){const i=X9(n),r=t.length/e;if(!i)return Math.max(r,1);const s=PM(i);for(let o=0,u=s.length-1;o<u;o++){const c=s[o];if(c>r)return c}return Math.max(r,1)}function Y9(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function K9(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function $g(n,t,e,i,r){const s=Qe(i,0),o=Math.min(Qe(r,n.length),n.length);let u=0,c,f,p;for(e=Math.ceil(e),r&&(c=r-i,e=c/Math.floor(c/e)),p=s;p<0;)u++,p=Math.round(s+u*e);for(f=Math.max(s,0);f<o;f++)f===p&&(t.push(n[f]),u++,p=Math.round(s+u*e))}function X9(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const $9=n=>n==="left"?"right":n==="right"?"left":n,aS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,oS=(n,t)=>Math.min(t||n,n);function lS(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function Q9(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(c-s,o-c):t===0?f=(n.getPixelForTick(1)-c)/2:f=(c-n.getPixelForTick(r-1))/2,c+=r<t?f:-f,c<s-u||c>o+u)))return c}function J9(n,t){Fn(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Id(n){return n.drawTicks?n.tickLength:0}function uS(n,t){if(!n.display)return 0;const e=is(n.font,t),i=Oa(n.padding);return(Zi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Z9(n,t){return bh(n,{scale:t,type:"scale"})}function tj(n,t,e){return bh(n,{tick:e,index:t,type:"tick"})}function ej(n,t,e){let i=Hv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=$9(i)),i}function nj(n,t,e,i){const{top:r,left:s,bottom:o,right:u,chart:c}=n,{chartArea:f,scales:p}=c;let y=0,w,_,E;const N=o-r,R=u-s;if(n.isHorizontal()){if(_=Jr(i,s,u),fn(e)){const C=Object.keys(e)[0],O=e[C];E=p[C].getPixelForValue(O)+N-t}else e==="center"?E=(f.bottom+f.top)/2+N-t:E=aS(n,e,t);w=u-s}else{if(fn(e)){const C=Object.keys(e)[0],O=e[C];_=p[C].getPixelForValue(O)-R+t}else e==="center"?_=(f.left+f.right)/2-R+t:_=aS(n,e,t);E=Jr(i,o,r),y=e==="left"?-lr:lr}return{titleX:_,titleY:E,maxWidth:w,rotation:y}}class jf extends mo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=$o(t,Number.POSITIVE_INFINITY),e=$o(e,Number.NEGATIVE_INFINITY),i=$o(i,Number.POSITIVE_INFINITY),r=$o(r,Number.NEGATIVE_INFINITY),{min:$o(t,i),max:$o(e,r),minDefined:ss(t),maxDefined:ss(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:$o(e,$o(i,e)),max:$o(i,$o(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ei(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h7(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?lS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=H9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ei(this.options.afterUpdate,[this])}beforeSetDimensions(){ei(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ei(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ei(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ei(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ei(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ei(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ei(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=oS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,u,c,f;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,w=p.highest.height,_=ns(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:_/(i-1),y+6>u&&(u=_/(i-(t.offset?.5:1)),c=this.maxHeight-Id(t.grid)-e.padding-uS(t.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),o=MM(Math.min(Math.asin(ns((p.highest.height+6)/u,-1,1)),Math.asin(ns(c/f,-1,1))-Math.asin(ns(w/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ei(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ei(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=uS(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Id(s)+c):(t.height=this.maxHeight,t.width=Id(s)+c),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:w}=this._getLabelSizes(),_=i.padding*2,E=Zl(this.labelRotation),N=Math.cos(E),R=Math.sin(E);if(u){const C=i.mirror?0:R*y.width+N*w.height;t.height=Math.min(this.maxHeight,t.height+C+_)}else{const C=i.mirror?0:N*y.width+R*w.height;t.width=Math.min(this.maxWidth,t.width+C+_)}this._calculatePadding(f,p,R,N)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,_=0;c?f?(w=r*t.width,_=i*e.height):(w=i*t.height,_=r*e.width):s==="start"?_=e.width:s==="end"?w=t.width:s!=="inner"&&(w=t.width/2,_=e.width/2),this.paddingLeft=Math.max((w-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+o)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;s==="start"?(p=0,y=t.height):s==="end"&&(p=e.height,y=0),this.paddingTop=p+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ei(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Pn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=lS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],c=Math.floor(e/oS(e,i));let f=0,p=0,y,w,_,E,N,R,C,O,G,et,tt;for(y=0;y<e;y+=c){if(E=t[y].label,N=this._resolveTickFontOptions(y),r.font=R=N.string,C=s[R]=s[R]||{data:{},gc:[]},O=N.lineHeight,G=et=0,!Pn(E)&&!Zi(E))G=MA(r,C.data,C.gc,G,E),et=O;else if(Zi(E))for(w=0,_=E.length;w<_;++w)tt=E[w],!Pn(tt)&&!Zi(tt)&&(G=MA(r,C.data,C.gc,G,tt),et+=O);o.push(G),u.push(et),f=Math.max(G,f),p=Math.max(et,p)}J9(s,e);const mt=o.indexOf(f),z=u.indexOf(p),P=U=>({width:o[U]||0,height:u[U]||0});return{first:P(0),last:P(e-1),widest:P(mt),highest:P(z),widths:o,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return FM(this._alignToPixels?Kc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=tj(this.getContext(),t,i))}return this.$context||(this.$context=Z9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zl(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,u=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,c=s.offset,f=this.isHorizontal(),y=this.ticks.length+(c?1:0),w=Id(s),_=[],E=u.setContext(this.getContext()),N=E.display?E.width:0,R=N/2,C=function(nt){return Kc(i,nt,N)};let O,G,et,tt,mt,z,P,U,X,L,D,F;if(o==="top")O=C(this.bottom),z=this.bottom-w,U=O-R,L=C(t.top)+R,F=t.bottom;else if(o==="bottom")O=C(this.top),L=t.top,F=C(t.bottom)-R,z=O+R,U=this.top+w;else if(o==="left")O=C(this.right),mt=this.right-w,P=O-R,X=C(t.left)+R,D=t.right;else if(o==="right")O=C(this.left),X=t.left,D=C(t.right)-R,mt=O+R,P=this.left+w;else if(e==="x"){if(o==="center")O=C((t.top+t.bottom)/2+.5);else if(fn(o)){const nt=Object.keys(o)[0],ct=o[nt];O=C(this.chart.scales[nt].getPixelForValue(ct))}L=t.top,F=t.bottom,z=O+R,U=z+w}else if(e==="y"){if(o==="center")O=C((t.left+t.right)/2);else if(fn(o)){const nt=Object.keys(o)[0],ct=o[nt];O=C(this.chart.scales[nt].getPixelForValue(ct))}mt=O-R,P=mt-w,X=t.left,D=t.right}const at=Qe(r.ticks.maxTicksLimit,y),wt=Math.max(1,Math.ceil(y/at));for(G=0;G<y;G+=wt){const nt=this.getContext(G),ct=s.setContext(nt),ft=u.setContext(nt),Tt=ct.lineWidth,Q=ct.color,St=ft.dash||[],j=ft.dashOffset,W=ct.tickWidth,Z=ct.tickColor,st=ct.tickBorderDash||[],lt=ct.tickBorderDashOffset;et=Q9(this,G,c),et!==void 0&&(tt=Kc(i,et,Tt),f?mt=P=X=D=tt:z=U=L=F=tt,_.push({tx1:mt,ty1:z,tx2:P,ty2:U,x1:X,y1:L,x2:D,y2:F,width:Tt,color:Q,borderDash:St,borderDashOffset:j,tickWidth:W,tickColor:Z,tickBorderDash:st,tickBorderDashOffset:lt}))}return this._ticksLength=y,this._borderValue=O,_}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:p,mirror:y}=s,w=Id(i.grid),_=w+p,E=y?-p:_,N=-Zl(this.labelRotation),R=[];let C,O,G,et,tt,mt,z,P,U,X,L,D,F="middle";if(r==="top")mt=this.bottom-E,z=this._getXAxisLabelAlignment();else if(r==="bottom")mt=this.top+E,z=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(w);z=wt.textAlign,tt=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(w);z=wt.textAlign,tt=wt.x}else if(e==="x"){if(r==="center")mt=(t.top+t.bottom)/2+_;else if(fn(r)){const wt=Object.keys(r)[0],nt=r[wt];mt=this.chart.scales[wt].getPixelForValue(nt)+_}z=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")tt=(t.left+t.right)/2-_;else if(fn(r)){const wt=Object.keys(r)[0],nt=r[wt];tt=this.chart.scales[wt].getPixelForValue(nt)}z=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const at=this._getLabelSizes();for(C=0,O=u.length;C<O;++C){G=u[C],et=G.label;const wt=s.setContext(this.getContext(C));P=this.getPixelForTick(C)+s.labelOffset,U=this._resolveTickFontOptions(C),X=U.lineHeight,L=Zi(et)?et.length:1;const nt=L/2,ct=wt.color,ft=wt.textStrokeColor,Tt=wt.textStrokeWidth;let Q=z;o?(tt=P,z==="inner"&&(C===O-1?Q=this.options.reverse?"left":"right":C===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?f==="near"||N!==0?D=-L*X+X/2:f==="center"?D=-at.highest.height/2-nt*X+X:D=-at.highest.height+X/2:f==="near"||N!==0?D=X/2:f==="center"?D=at.highest.height/2-nt*X:D=at.highest.height-L*X,y&&(D*=-1),N!==0&&!wt.showLabelBackdrop&&(tt+=X/2*Math.sin(N))):(mt=P,D=(1-L)*X/2);let St;if(wt.showLabelBackdrop){const j=Oa(wt.backdropPadding),W=at.heights[C],Z=at.widths[C];let st=D-j.top,lt=0-j.left;switch(F){case"middle":st-=W/2;break;case"bottom":st-=W;break}switch(z){case"center":lt-=Z/2;break;case"right":lt-=Z;break;case"inner":C===O-1?lt-=Z:C>0&&(lt-=Z/2);break}St={left:lt,top:st,width:Z+j.width,height:W+j.height,color:wt.backdropColor}}R.push({label:et,font:U,textOffset:D,options:{rotation:N,color:ct,strokeColor:ft,strokeWidth:Tt,textAlign:Q,textBaseline:F,translation:[tt,mt],backdrop:St}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zl(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=t+s,c=o.widest.width;let f,p;return e==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=c/2):(f="right",p+=c)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=c/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=c/2):(f="left",p-=c)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=c/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const u=(c,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const c=r[s];e.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,p,y,w;this.isHorizontal()?(f=Kc(t,this.left,o)-o/2,p=Kc(t,this.right,u)+u/2,y=w=c):(y=Kc(t,this.top,o)-o/2,w=Kc(t,this.bottom,u)+u/2,f=p=c),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&x0(i,r);const s=this.getLabelItems(t);for(const o of s){const u=o.options,c=o.font,f=o.label,p=o.textOffset;yp(i,f,0,p,c,u)}r&&T0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=is(i.font),o=Oa(i.padding),u=i.align;let c=s.lineHeight/2;e==="bottom"||e==="center"||fn(e)?(c+=o.bottom,Zi(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:f,titleY:p,maxWidth:y,rotation:w}=nj(this,c,e,u);yp(t,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:w,textAlign:ej(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qe(t.grid&&t.grid.z,-1),r=Qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==jf.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const u=e[s];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return is(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qg{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;sj(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,ij(t,o,i),this.override&&Hi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Hi[r]&&(delete Hi[r][i],this.override&&delete gh[i])}}function ij(n,t,e){const i=fp(Object.create(null),[e?Hi.get(e):{},Hi.get(t),n.defaults]);Hi.set(t,i),n.defaultRoutes&&rj(t,n.defaultRoutes),n.descriptors&&Hi.describe(t,n.descriptors)}function rj(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),u=o.pop(),c=o.join(".");Hi.route(s,r,c,u)})}function sj(n){return"id"in n&&"defaults"in n}class aj{constructor(){this.controllers=new Qg(oh,"datasets",!0),this.elements=new Qg(mo,"elements"),this.plugins=new Qg(Object,"plugins"),this.scales=new Qg(jf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Fn(r,o=>{const u=i||this._getRegistryForType(o);this._exec(t,u,o)})})}_exec(t,e,i){const r=zv(t);ei(i["before"+r],[],i),e[t](i),ei(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Zo=new aj;class oj{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,u=o[i],c=[e,r,s.options];if(ei(u,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qe(i.options&&i.options.plugins,{}),s=lj(i);return r===!1&&!e?[]:cj(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function lj(n){const t={},e=[],i=Object.keys(Zo.plugins.items);for(let s=0;s<i.length;s++)e.push(Zo.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function uj(n,t){return!t&&n===!1?null:n===!0?{}:n}function cj(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const u of t){const c=u.id,f=uj(i[c],r);f!==null&&s.push({plugin:u,options:hj(n.config,{plugin:u,local:e[c]},f,o)})}return s}function hj(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xy(n,t){const e=Hi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function fj(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function dj(n,t){return n===t?"_index_":"_value_"}function cS(n){if(n==="x"||n==="y"||n==="r")return n}function pj(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ty(n,...t){if(cS(n))return n;for(const e of t){const i=e.axis||pj(e.position)||n.length>1&&cS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function gj(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return hS(n,"x",e[0])||hS(n,"y",e[0])}return{}}function mj(n,t){const e=gh[n.type]||{scales:{}},i=t.scales||{},r=xy(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!fn(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Ty(o,u,gj(o,n),Hi.scales[u.type]),f=dj(c,r),p=e.scales||{};s[o]=Qd(Object.create(null),[{axis:c},u,p[c],p[f]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,c=o.indexAxis||xy(u,t),p=(gh[u]||{}).scales||{};Object.keys(p).forEach(y=>{const w=fj(y,c),_=o[w+"AxisID"]||w;s[_]=s[_]||Object.create(null),Qd(s[_],[{axis:w},i[_],p[y]])})}),Object.keys(s).forEach(o=>{const u=s[o];Qd(u,[Hi.scales[u.type],Hi.scale])}),s}function WT(n){const t=n.options||(n.options={});t.plugins=Qe(t.plugins,{}),t.scales=mj(n,t)}function GT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yj(n){return n=n||{},n.data=GT(n.data),WT(n),n}const fS=new Map,YT=new Set;function Jg(n,t){let e=fS.get(n);return e||(e=t(),fS.set(n,e),YT.add(e)),e}const Ld=(n,t,e)=>{const i=ph(t,e);i!==void 0&&n.add(i)};class vj{constructor(t){this._config=yj(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=GT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),WT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),u=o.get(e);if(u)return u;const c=new Set;e.forEach(p=>{t&&(c.add(t),p.forEach(y=>Ld(c,t,y))),p.forEach(y=>Ld(c,r,y)),p.forEach(y=>Ld(c,gh[s]||{},y)),p.forEach(y=>Ld(c,Hi,y)),p.forEach(y=>Ld(c,wy,y))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),YT.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,gh[e]||{},Hi.datasets[e]||{},{type:e},Hi,wy]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=dS(this._resolverCache,t,r);let c=o;if(bj(o,e)){s.$shared=!1,i=vc(i)?i():i;const f=this.createResolver(t,i,u);c=Cf(o,i,f)}for(const f of e)s[f]=c[f];return s}createResolver(t,e,i=[""],r){const{resolver:s}=dS(this._resolverCache,t,i);return fn(e)?Cf(s,e,void 0,r):s}}function dS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:Kv(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const _j=n=>fn(n)&&Object.getOwnPropertyNames(n).some(t=>vc(n[t]));function bj(n,t){const{isScriptable:e,isIndexable:i}=ET(n);for(const r of t){const s=e(r),o=i(r),u=(o||s)&&n[r];if(s&&(vc(u)||_j(u))||o&&Zi(u))return!0}return!1}var wj="4.5.0";const Aj=["top","bottom","left","right","chartArea"];function pS(n,t){return n==="top"||n==="bottom"||Aj.indexOf(n)===-1&&t==="x"}function gS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function mS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ei(e&&e.onComplete,[n],t)}function Sj(n){const t=n.chart,e=t.options.animation;ei(e&&e.onProgress,[n],t)}function KT(n){return Qv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const vm={},yS=n=>{const t=KT(n);return Object.values(vm).filter(e=>e.canvas===t).pop()};function xj(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function Tj(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var Gu;let R0=(Gu=class{static register(...t){Zo.add(...t),vS()}static unregister(...t){Zo.remove(...t),vS()}constructor(t,e){const i=this.config=new vj(e),r=KT(t),s=yS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||q9(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,p=c&&c.width;if(this.id=SM(),this.ctx=u,this.canvas=c,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=zM(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],vm[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Yl.listen(this,"complete",mS),Yl.listen(this,"progress",Sj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Pn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Zo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jA(this.canvas,this.ctx),this}stop(){return Yl.stop(this),this}resize(t,e){Yl.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,VA(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),ei(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Fn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const u=e[o],c=Ty(o,u),f=c==="r",p=c==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Fn(s,o=>{const u=o.options,c=u.id,f=Ty(c,u),p=Qe(u.type,o.dtype);(u.position===void 0||pS(u.position,f)!==pS(o.dposition))&&(u.position=o.dposition),r[c]=!0;let y=null;if(c in i&&i[c].type===p)y=i[c];else{const w=Zo.getScale(p);y=new w({id:c,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),Fn(r,(o,u)=>{o||delete i[u]}),Fn(i,o=>{Da.configure(this,o,o.options),Da.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(gS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||xy(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Zo.getController(u),{datasetElementType:f,dataElementType:p}=Hi.datasets[u];Object.assign(c,{dataElementType:Zo.getElement(p),datasetElementType:f&&Zo.getElement(f)}),o.controller=new c(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Fn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),w=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(w),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Fn(s,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(gS("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Fn(this.scales,t=>{Da.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!NA(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;xj(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!NA(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Da.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Fn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,vc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yl.has(this)?this.attached&&!Yl.running(this)&&Yl.start(this):(this.draw(),mS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=MT(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&x0(e,r),t.controller.draw(),r&&T0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return mp(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=A9.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=bh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);dp(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Yl.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jA(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete vm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};Fn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(c,f)=>{e.addEventListener(this,c,f),t[c]=f},r=(c,f)=>{t[c]&&(e.removeEventListener(this,c,f),delete t[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():o()}unbindEvents(){Fn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Fn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,u,c;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=t.length;u<c;++u){o=t[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!Wm(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(c,f)=>c.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),o=s(e,t),u=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,u=this._getActiveElements(t,r,i,o),c=CM(t),f=Tj(t,this._lastEvent,i,c);i&&(this._lastEvent=null,ei(s.onHover,[t,u,this],this),c&&ei(s.onClick,[t,u,this],this));const p=!Wm(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},me(Gu,"defaults",Hi),me(Gu,"instances",vm),me(Gu,"overrides",gh),me(Gu,"registry",Zo),me(Gu,"version",wj),me(Gu,"getChart",yS),Gu);function vS(){return Fn(R0.instances,n=>n._plugins.invalidate())}function Ej(n,t,e){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:u,options:c}=t,{borderWidth:f,borderJoinStyle:p}=c,y=Math.min(f/o,aa(i-e));if(n.beginPath(),n.arc(r,s,o-f/2,i+y/2,e-y/2),u>0){const w=Math.min(f/u,aa(i-e));n.arc(r,s,u+f/2,e-w/2,i+w/2,!0)}else{const w=Math.min(f/2,o*aa(i-e));if(p==="round")n.arc(r,s,w,e-Bn/2,i+Bn/2,!0);else if(p==="bevel"){const _=2*w*w,E=-_*Math.cos(e+Bn/2)+r,N=-_*Math.sin(e+Bn/2)+s,R=_*Math.cos(i+Bn/2)+r,C=_*Math.sin(i+Bn/2)+s;n.lineTo(E,N),n.lineTo(R,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Nj(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:u,innerRadius:c}=t;let f=r/u;n.beginPath(),n.arc(s,o,u,i-f,e+f),c>r?(f=r/c,n.arc(s,o,c,e+f,i-f,!0)):n.arc(s,o,r,e+lr,i-lr),n.closePath(),n.clip()}function Rj(n){return Yv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Cj(n,t,e,i){const r=Rj(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),u=c=>{const f=(e-Math.min(s,c))*i/2;return ns(c,0,Math.min(s,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:ns(r.innerStart,0,o),innerEnd:ns(r.innerEnd,0,o)}}function Zh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Qm(n,t,e,i,r,s){const{x:o,y:u,startAngle:c,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+e-f,0),w=p>0?p+i+e+f:0;let _=0;const E=r-c;if(i){const wt=p>0?p-i:0,nt=y>0?y-i:0,ct=(wt+nt)/2,ft=ct!==0?E*ct/(ct+i):E;_=(E-ft)/2}const N=Math.max(.001,E*y-e/Bn)/y,R=(E-N)/2,C=c+R+_,O=r-R-_,{outerStart:G,outerEnd:et,innerStart:tt,innerEnd:mt}=Cj(t,w,y,O-C),z=y-G,P=y-et,U=C+G/z,X=O-et/P,L=w+tt,D=w+mt,F=C+tt/L,at=O-mt/D;if(n.beginPath(),s){const wt=(U+X)/2;if(n.arc(o,u,y,U,wt),n.arc(o,u,y,wt,X),et>0){const Tt=Zh(P,X,o,u);n.arc(Tt.x,Tt.y,et,X,O+lr)}const nt=Zh(D,O,o,u);if(n.lineTo(nt.x,nt.y),mt>0){const Tt=Zh(D,at,o,u);n.arc(Tt.x,Tt.y,mt,O+lr,at+Math.PI)}const ct=(O-mt/w+(C+tt/w))/2;if(n.arc(o,u,w,O-mt/w,ct,!0),n.arc(o,u,w,ct,C+tt/w,!0),tt>0){const Tt=Zh(L,F,o,u);n.arc(Tt.x,Tt.y,tt,F+Math.PI,C-lr)}const ft=Zh(z,C,o,u);if(n.lineTo(ft.x,ft.y),G>0){const Tt=Zh(z,U,o,u);n.arc(Tt.x,Tt.y,G,C-lr,U)}}else{n.moveTo(o,u);const wt=Math.cos(U)*y+o,nt=Math.sin(U)*y+u;n.lineTo(wt,nt);const ct=Math.cos(X)*y+o,ft=Math.sin(X)*y+u;n.lineTo(ct,ft)}n.closePath()}function Ij(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:u}=t;let c=t.endAngle;if(s){Qm(n,t,e,i,c,r);for(let f=0;f<s;++f)n.fill();isNaN(u)||(c=o+(u%mi||mi))}return Qm(n,t,e,i,c,r),n.fill(),c}function Lj(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:u,options:c}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:w,borderRadius:_}=c,E=c.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=w,E?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let N=t.endAngle;if(s){Qm(n,t,e,i,N,r);for(let R=0;R<s;++R)n.stroke();isNaN(u)||(N=o+(u%mi||mi))}E&&Nj(n,t,N),c.selfJoin&&N-o>=Bn&&_===0&&p!=="miter"&&Ej(n,t,N),s||(Qm(n,t,e,i,N,r),n.stroke())}class Vd extends mo{constructor(e){super();me(this,"circumference");me(this,"endAngle");me(this,"fullCircles");me(this,"innerRadius");me(this,"outerRadius");me(this,"pixelMargin");me(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:u}=vT(s,{x:e,y:i}),{startAngle:c,endAngle:f,innerRadius:p,outerRadius:y,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,E=Qe(w,f-c),N=gp(o,c,f)&&c!==f,R=E>=mi||N,C=tu(u,p+_,y+_);return R&&C}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,y=(s+o)/2,w=(u+c+p+f)/2;return{x:i+Math.cos(y)*w,y:r+Math.sin(y)*w}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>mi?Math.floor(r/mi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const f=1-Math.sin(Math.min(Bn,r||0)),p=s*f;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,Ij(e,this,p,o,u),Lj(e,this,p,o,u),e.restore()}}me(Vd,"id","arc"),me(Vd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),me(Vd,"defaultRoutes",{backgroundColor:"backgroundColor"}),me(Vd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function XT(n,t,e=t){n.lineCap=Qe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Qe(e.borderDash,t.borderDash)),n.lineDashOffset=Qe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Qe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Qe(e.borderWidth,t.borderWidth),n.strokeStyle=Qe(e.borderColor,t.borderColor)}function Pj(n,t,e){n.lineTo(e.x,e.y)}function kj(n){return n.stepped?n7:n.tension||n.cubicInterpolationMode==="monotone"?i7:Pj}function $T(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:u}=t,c=Math.max(r,o),f=Math.min(s,u),p=r<o&&s<o||r>u&&s>u;return{count:i,start:c,loop:t.loop,ilen:f<c&&!p?i+f-c:f-c}}function Dj(n,t,e,i){const{points:r,options:s}=t,{count:o,start:u,loop:c,ilen:f}=$T(r,e,i),p=kj(s);let{move:y=!0,reverse:w}=i||{},_,E,N;for(_=0;_<=f;++_)E=r[(u+(w?f-_:_))%o],!E.skip&&(y?(n.moveTo(E.x,E.y),y=!1):p(n,N,E,w,s.stepped),N=E);return c&&(E=r[(u+(w?f:0))%o],p(n,N,E,w,s.stepped)),!!c}function Oj(n,t,e,i){const r=t.points,{count:s,start:o,ilen:u}=$T(r,e,i),{move:c=!0,reverse:f}=i||{};let p=0,y=0,w,_,E,N,R,C;const O=et=>(o+(f?u-et:et))%s,G=()=>{N!==R&&(n.lineTo(p,R),n.lineTo(p,N),n.lineTo(p,C))};for(c&&(_=r[O(0)],n.moveTo(_.x,_.y)),w=0;w<=u;++w){if(_=r[O(w)],_.skip)continue;const et=_.x,tt=_.y,mt=et|0;mt===E?(tt<N?N=tt:tt>R&&(R=tt),p=(y*p+et)/++y):(G(),n.lineTo(et,tt),E=mt,y=0,N=R=tt),C=tt}G()}function Ey(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Oj:Dj}function Mj(n){return n.stepped?O7:n.tension||n.cubicInterpolationMode==="monotone"?M7:Zc}function jj(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),XT(n,t.options),n.stroke(r)}function Fj(n,t,e,i){const{segments:r,options:s}=t,o=Ey(t);for(const u of r)XT(n,s,u.style),n.beginPath(),o(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const Bj=typeof Path2D=="function";function Vj(n,t,e,i){Bj&&!t.options.segment?jj(n,t,e,i):Fj(n,t,e,i)}class ec extends mo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;N7(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=z7(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=OT(this,{property:e,start:r,end:r});if(!o.length)return;const u=[],c=Mj(i);let f,p;for(f=0,p=o.length;f<p;++f){const{start:y,end:w}=o[f],_=s[y],E=s[w];if(_===E){u.push(_);continue}const N=Math.abs((r-_[e])/(E[e]-_[e])),R=c(_,E,N,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Ey(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=Ey(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)o&=s(t,this,u,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Vj(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}me(ec,"id","line"),me(ec,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),me(ec,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),me(ec,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function _S(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class _m extends mo{constructor(e){super();me(this,"parsed");me(this,"skip");me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:o,y:u}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return _S(this,e,"x",i)}inYRange(e,i){return _S(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!mp(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ay(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}me(_m,"id","point"),me(_m,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),me(_m,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function QT(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let u,c,f,p,y;return n.horizontal?(y=o/2,u=Math.min(e,r),c=Math.max(e,r),f=i-y,p=i+y):(y=s/2,u=e-y,c=e+y,f=Math.min(i,r),p=Math.max(i,r)),{left:u,top:f,right:c,bottom:p}}function nc(n,t,e,i){return n?0:ns(t,e,i)}function Uj(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=TT(i);return{t:nc(r.top,s.top,0,e),r:nc(r.right,s.right,0,t),b:nc(r.bottom,s.bottom,0,e),l:nc(r.left,s.left,0,t)}}function zj(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=_f(r),o=Math.min(t,e),u=n.borderSkipped,c=i||fn(r);return{topLeft:nc(!c||u.top||u.left,s.topLeft,0,o),topRight:nc(!c||u.top||u.right,s.topRight,0,o),bottomLeft:nc(!c||u.bottom||u.left,s.bottomLeft,0,o),bottomRight:nc(!c||u.bottom||u.right,s.bottomRight,0,o)}}function qj(n){const t=QT(n),e=t.right-t.left,i=t.bottom-t.top,r=Uj(n,e/2,i/2),s=zj(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function T2(n,t,e,i){const r=t===null,s=e===null,u=n&&!(r&&s)&&QT(n,i);return u&&(r||tu(t,u.left,u.right))&&(s||tu(e,u.top,u.bottom))}function Hj(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Wj(n,t){n.rect(t.x,t.y,t.w,t.h)}function E2(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class bm extends mo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=qj(this),u=Hj(o.radius)?Km:Wj;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),u(t,E2(o,e,s)),t.clip(),u(t,E2(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,E2(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return T2(this,t,e,i)}inXRange(t,e){return T2(this,t,null,e)}inYRange(t,e){return T2(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}me(bm,"id","bar"),me(bm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),me(bm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Gj(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const u of i){let{start:c,end:f}=u;f=C0(c,f,r);const p=Ny(e,r[c],r[f],u.loop);if(!t.segments){o.push({source:u,target:p,start:r[c],end:r[f]});continue}const y=OT(t,p);for(const w of y){const _=Ny(e,s[w.start],s[w.end],w.loop),E=DT(u,r,_);for(const N of E)o.push({source:N,target:w,start:{[e]:bS(p,_,"start",Math.max)},end:{[e]:bS(p,_,"end",Math.min)}})}}return o}function Ny(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=aa(r),s=aa(s)),{property:n,start:r,end:s}}function Yj(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:u})=>{u=C0(o,u,r);const c=r[o],f=r[u];i!==null?(s.push({x:c.x,y:i}),s.push({x:f.x,y:i})):e!==null&&(s.push({x:e,y:c.y}),s.push({x:e,y:f.y}))}),s}function C0(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function bS(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function JT(n,t){let e=[],i=!1;return Zi(n)?(i=!0,e=n):e=Yj(n,t),e.length?new ec({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function wS(n){return n&&n.fill!==!1}function Kj(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ss(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Xj(n,t,e){const i=Zj(n);if(fn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ss(r)&&Math.floor(r)===r?$j(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function $j(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function Qj(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:fn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Jj(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:fn(n)?i=n.value:i=t.getBaseValue(),i}function Zj(n){const t=n.options,e=t.fill;let i=Qe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function tF(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,u=eF(t,e);u.push(JT({x:null,y:t.bottom},i));for(let c=0;c<s.length;c++){const f=s[c];for(let p=f.start;p<=f.end;p++)nF(r,o[p],u)}return new ec({points:r,options:{}})}function eF(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function nF(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:u,point:c}=iF(s,t,"x");if(!(!c||o&&u)){if(o)i.unshift(c);else if(n.push(c),!u)break}}n.push(...i)}function iF(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let u=!1,c=!1;for(let f=0;f<s.length;f++){const p=s[f],y=o[p.start][e],w=o[p.end][e];if(tu(r,y,w)){u=r===y,c=r===w;break}}return{first:u,last:c,point:i}}class ZT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:mi},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function rF(n){const{chart:t,fill:e,line:i}=n;if(ss(e))return sF(t,e);if(e==="stack")return tF(n);if(e==="shape")return!0;const r=aF(n);return r instanceof ZT?r:JT(r,i)}function sF(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function aF(n){return(n.scale||{}).getPointPositionForValue?lF(n):oF(n)}function oF(n){const{scale:t={},fill:e}=n,i=Qj(e,t);if(ss(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function lF(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=Jj(e,t,s),u=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,s);return new ZT({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)u.push(t.getPointPositionForValue(c,o));return u}function N2(n,t,e){const i=rF(t),{chart:r,index:s,line:o,scale:u,axis:c}=t,f=o.options,p=f.fill,y=f.backgroundColor,{above:w=y,below:_=y}=p||{},E=r.getDatasetMeta(s),N=MT(r,E);i&&o.points.length&&(x0(n,e),uF(n,{line:o,target:i,above:w,below:_,area:e,scale:u,axis:c,clip:N}),T0(n))}function uF(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:u,clip:c}=t,f=e._loop?"angle":t.axis;n.save();let p=s;s!==r&&(f==="x"?(AS(n,i,o.top),R2(n,{line:e,target:i,color:r,scale:u,property:f,clip:c}),n.restore(),n.save(),AS(n,i,o.bottom)):f==="y"&&(SS(n,i,o.left),R2(n,{line:e,target:i,color:s,scale:u,property:f,clip:c}),n.restore(),n.save(),SS(n,i,o.right),p=r)),R2(n,{line:e,target:i,color:p,scale:u,property:f,clip:c}),n.restore()}function AS(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const u of i){const{start:c,end:f}=u,p=r[c],y=r[C0(c,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function SS(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const u of i){const{start:c,end:f}=u,p=r[c],y=r[C0(c,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function R2(n,t){const{line:e,target:i,property:r,color:s,scale:o,clip:u}=t,c=Gj(e,i,r);for(const{source:f,target:p,start:y,end:w}of c){const{style:{backgroundColor:_=s}={}}=f,E=i!==!0;n.save(),n.fillStyle=_,cF(n,o,u,E&&Ny(r,y,w)),n.beginPath();const N=!!e.pathSegment(n,f);let R;if(E){N?n.closePath():xS(n,i,w,r);const C=!!i.pathSegment(n,p,{move:N,reverse:!0});R=N&&C,R||xS(n,i,y,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function cF(n,t,e,i){const r=t.chart.chartArea,{property:s,start:o,end:u}=i||{};if(s==="x"||s==="y"){let c,f,p,y;s==="x"?(c=o,f=r.top,p=u,y=r.bottom):(c=r.left,f=o,p=r.right,y=u),n.beginPath(),e&&(c=Math.max(c,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(c,f,p-c,y-f),n.clip()}}function xS(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var hF={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,u,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),u=s.dataset,c=null,u&&u.options&&u instanceof ec&&(c={visible:n.isDatasetVisible(o),index:o,fill:Xj(u,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=Kj(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const u=r[o].$filler;u&&(u.line.updateControlPoints(s,u.axis),i&&u.fill&&N2(n.ctx,u,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;wS(s)&&N2(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!wS(i)||e.drawTime!=="beforeDatasetDraw"||N2(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const TS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},fF=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class ES extends mo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ei(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=is(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=TS(i,s);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,u,c)+10):(p=this.maxHeight,f=this._fitCols(o,r,u,c)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let y=t;s.textAlign="left",s.textBaseline="middle";let w=-1,_=-p;return this.legendItems.forEach((E,N)=>{const R=i+e/2+s.measureText(E.text).width;(N===0||f[f.length-1]+R+2*u>o)&&(y+=p,f[f.length-(N>0?0:1)]=0,_+=p,w++),c[N]={left:0,top:_,row:w,width:R,height:r},f[f.length-1]+=R+u}),y}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-t;let y=u,w=0,_=0,E=0,N=0;return this.legendItems.forEach((R,C)=>{const{itemWidth:O,itemHeight:G}=dF(i,e,s,R,r);C>0&&_+G+2*u>p&&(y+=w+u,f.push({width:w,height:_}),E+=w+u,N++,w=_=0),c[C]={left:E,top:_,col:N,width:O,height:G},w=Math.max(w,O),_+=G+u}),y+=w,f.push({width:w,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=bf(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=Jr(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,c=Jr(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+r}else{let u=0,c=Jr(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,c=Jr(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;x0(t,this),this._draw(),T0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,u=Hi.color,c=bf(t.rtl,this.left,this.width),f=is(o.font),{padding:p}=o,y=f.size,w=y/2;let _;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:E,boxHeight:N,itemHeight:R}=TS(o,y),C=function(mt,z,P){if(isNaN(E)||E<=0||isNaN(N)||N<0)return;r.save();const U=Qe(P.lineWidth,1);if(r.fillStyle=Qe(P.fillStyle,u),r.lineCap=Qe(P.lineCap,"butt"),r.lineDashOffset=Qe(P.lineDashOffset,0),r.lineJoin=Qe(P.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=Qe(P.strokeStyle,u),r.setLineDash(Qe(P.lineDash,[])),o.usePointStyle){const X={radius:N*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},L=c.xPlus(mt,E/2),D=z+w;xT(r,X,L,D,o.pointStyleWidth&&E)}else{const X=z+Math.max((y-N)/2,0),L=c.leftForLtr(mt,E),D=_f(P.borderRadius);r.beginPath(),Object.values(D).some(F=>F!==0)?Km(r,{x:L,y:X,w:E,h:N,radius:D}):r.rect(L,X,E,N),r.fill(),U!==0&&r.stroke()}r.restore()},O=function(mt,z,P){yp(r,P.text,mt,z+R/2,f,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},G=this.isHorizontal(),et=this._computeTitleHeight();G?_={x:Jr(s,this.left+p,this.right-i[0]),y:this.top+p+et,line:0}:_={x:this.left+p,y:Jr(s,this.top+et+p,this.bottom-e[0].height),line:0},LT(this.ctx,t.textDirection);const tt=R+p;this.legendItems.forEach((mt,z)=>{r.strokeStyle=mt.fontColor,r.fillStyle=mt.fontColor;const P=r.measureText(mt.text).width,U=c.textAlign(mt.textAlign||(mt.textAlign=o.textAlign)),X=E+w+P;let L=_.x,D=_.y;c.setWidth(this.width),G?z>0&&L+X+p>this.right&&(D=_.y+=tt,_.line++,L=_.x=Jr(s,this.left+p,this.right-i[_.line])):z>0&&D+tt>this.bottom&&(L=_.x=L+e[_.line].width+p,_.line++,D=_.y=Jr(s,this.top+et+p,this.bottom-e[_.line].height));const F=c.x(L);if(C(F,D,mt),L=qM(U,L+E+w,G?L+X:this.right,t.rtl),O(c.x(L),D,mt),G)_.x+=X+p;else if(typeof mt.text!="string"){const at=f.lineHeight;_.y+=tE(mt,at)+p}else _.y+=tt}),PT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=is(e.font),r=Oa(e.padding);if(!e.display)return;const s=bf(t.rtl,this.left,this.width),o=this.ctx,u=e.position,c=i.size/2,f=r.top+c;let p,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,y=Jr(t.align,y,this.right-w);else{const E=this.columnSizes.reduce((N,R)=>Math.max(N,R.height),0);p=f+Jr(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const _=Jr(u,y,y+w);o.textAlign=s.textAlign(Hv(u)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,yp(o,e.text,_,p,i)}_computeTitleHeight(){const t=this.options.title,e=is(t.font),i=Oa(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(tu(t,this.left,this.right)&&tu(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],tu(t,r.left,r.left+r.width)&&tu(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!mF(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=fF(r,i);r&&!s&&ei(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ei(e.onHover,[t,i,this],this)}else i&&ei(e.onClick,[t,i,this],this)}}function dF(n,t,e,i,r){const s=pF(i,n,t,e),o=gF(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function pF(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function gF(n,t,e){let i=n;return typeof t.text!="string"&&(i=tE(t,e)),i}function tE(n,t){const e=n.text?n.text.length:0;return t*e}function mF(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var yF={id:"legend",_element:ES,start(n,t,e){const i=n.legend=new ES({ctx:n.ctx,options:e,chart:n});Da.configure(n,i,e),Da.addBox(n,i)},stop(n){Da.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Da.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(e?0:void 0),p=Oa(f.borderWidth);return{text:t[c.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class eE extends mo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Zi(i.text)?i.text.length:1;this._padding=Oa(i.padding);const s=r*is(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,u=o.align;let c=0,f,p,y;return this.isHorizontal()?(p=Jr(u,i,s),y=e+t,f=s-i):(o.position==="left"?(p=i+t,y=Jr(u,r,e),c=Bn*-.5):(p=s-t,y=Jr(u,e,r),c=Bn*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=is(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(s);yp(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:f,textAlign:Hv(e.align),textBaseline:"middle",translation:[o,u]})}}function vF(n,t){const e=new eE({ctx:n.ctx,options:t,chart:n});Da.configure(n,e,t),Da.addBox(n,e),n.titleBlock=e}var _F={id:"title",_element:eE,start(n,t,e){vF(n,e)},stop(n){const t=n.titleBlock;Da.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Da.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ud={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),p=by(t,f);p<r&&(r=p,u=c)}}if(u){const c=u.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Jo(n,t){return t&&(Zi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Kl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function bF(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function NS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=t,c=is(t.bodyFont),f=is(t.titleFont),p=is(t.footerFont),y=s.length,w=r.length,_=i.length,E=Oa(t.padding);let N=E.height,R=0,C=i.reduce((et,tt)=>et+tt.before.length+tt.lines.length+tt.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,y&&(N+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const et=t.displayColors?Math.max(u,c.lineHeight):c.lineHeight;N+=_*et+(C-_)*c.lineHeight+(C-1)*t.bodySpacing}w&&(N+=t.footerMarginTop+w*p.lineHeight+(w-1)*t.footerSpacing);let O=0;const G=function(et){R=Math.max(R,e.measureText(et).width+O)};return e.save(),e.font=f.string,Fn(n.title,G),e.font=c.string,Fn(n.beforeBody.concat(n.afterBody),G),O=t.displayColors?o+2+t.boxPadding:0,Fn(i,et=>{Fn(et.before,G),Fn(et.lines,G),Fn(et.after,G)}),O=0,e.font=p.string,Fn(n.footer,G),e.restore(),R+=E.width,{width:R,height:N}}function wF(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function AF(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function SF(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:u,right:c}}=n;let f="center";return i==="center"?f=r<=(u+c)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),AF(f,n,t,e)&&(f="center"),f}function RS(n,t,e){const i=e.yAlign||t.yAlign||wF(n,e);return{xAlign:e.xAlign||t.xAlign||SF(n,t,e,i),yAlign:i}}function xF(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function TF(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function CS(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:c}=e,f=r+s,{topLeft:p,topRight:y,bottomLeft:w,bottomRight:_}=_f(o);let E=xF(t,u);const N=TF(t,c,f);return c==="center"?u==="left"?E+=f:u==="right"&&(E-=f):u==="left"?E-=Math.max(p,w)+r:u==="right"&&(E+=Math.max(y,_)+r),{x:ns(E,0,i.width-t.width),y:ns(N,0,i.height-t.height)}}function Zg(n,t,e){const i=Oa(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function IS(n){return Jo([],Kl(n))}function EF(n,t,e){return bh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function LS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const nE={beforeTitle:Gl,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Gl,beforeBody:Gl,beforeLabel:Gl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Gl,afterBody:Gl,beforeFooter:Gl,footer:Gl,afterFooter:Gl};function Is(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?nE[t].call(e,i):r}class Ry extends mo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new jT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=EF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Is(i,"beforeTitle",this,t),s=Is(i,"title",this,t),o=Is(i,"afterTitle",this,t);let u=[];return u=Jo(u,Kl(r)),u=Jo(u,Kl(s)),u=Jo(u,Kl(o)),u}getBeforeBody(t,e){return IS(Is(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Fn(t,s=>{const o={before:[],lines:[],after:[]},u=LS(i,s);Jo(o.before,Kl(Is(u,"beforeLabel",this,s))),Jo(o.lines,Is(u,"label",this,s)),Jo(o.after,Kl(Is(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return IS(Is(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Is(i,"beforeFooter",this,t),s=Is(i,"footer",this,t),o=Is(i,"afterFooter",this,t);let u=[];return u=Jo(u,Kl(r)),u=Jo(u,Kl(s)),u=Jo(u,Kl(o)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],c,f;for(c=0,f=e.length;c<f;++c)u.push(bF(this.chart,e[c]));return t.filter&&(u=u.filter((p,y,w)=>t.filter(p,y,w,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),Fn(u,p=>{const y=LS(t.callbacks,p);r.push(Is(y,"labelColor",this,p)),s.push(Is(y,"labelPointStyle",this,p)),o.push(Is(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=Ud[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=NS(this,i),f=Object.assign({},u,c),p=RS(this.chart,i,f),y=CS(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:c,topRight:f,bottomLeft:p,bottomRight:y}=_f(u),{x:w,y:_}=t,{width:E,height:N}=e;let R,C,O,G,et,tt;return s==="center"?(et=_+N/2,r==="left"?(R=w,C=R-o,G=et+o,tt=et-o):(R=w+E,C=R+o,G=et-o,tt=et+o),O=R):(r==="left"?C=w+Math.max(c,p)+o:r==="right"?C=w+E-Math.max(f,y)-o:C=this.caretX,s==="top"?(G=_,et=G-o,R=C-o,O=C+o):(G=_+N,et=G+o,R=C+o,O=C-o),tt=G),{x1:R,x2:C,x3:O,y1:G,y2:et,y3:tt}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,u,c;if(s){const f=bf(i.rtl,this.x,this.width);for(t.x=Zg(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",o=is(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,c=0;c<s;++c)e.fillText(r[c],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+u,c+1===s&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:f}=s,p=is(s.bodyFont),y=Zg(this,"left",s),w=r.x(y),_=c<p.lineHeight?(p.lineHeight-c)/2:0,E=e.y+_;if(s.usePointStyle){const N={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=r.leftForLtr(w,f)+f/2,C=E+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Ay(t,N,R,C),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ay(t,N,R,C)}else{t.lineWidth=fn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const N=r.leftForLtr(w,f),R=r.leftForLtr(r.xPlus(w,1),f-2),C=_f(o.borderRadius);Object.values(C).some(O=>O!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Km(t,{x:N,y:E,w:f,h:c,radius:C}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Km(t,{x:R,y:E+1,w:f-2,h:c-2,radius:C}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(N,E,f,c),t.strokeRect(N,E,f,c),t.fillStyle=o.backgroundColor,t.fillRect(R,E+1,f-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:p}=i,y=is(i.bodyFont);let w=y.lineHeight,_=0;const E=bf(i.rtl,this.x,this.width),N=function(P){e.fillText(P,E.x(t.x+_),t.y+w/2),t.y+=w+s},R=E.textAlign(o);let C,O,G,et,tt,mt,z;for(e.textAlign=o,e.textBaseline="middle",e.font=y.string,t.x=Zg(this,R,i),e.fillStyle=i.bodyColor,Fn(this.beforeBody,N),_=u&&R!=="right"?o==="center"?f/2+p:f+2+p:0,et=0,mt=r.length;et<mt;++et){for(C=r[et],O=this.labelTextColors[et],e.fillStyle=O,Fn(C.before,N),G=C.lines,u&&G.length&&(this._drawColorBox(e,t,et,E,i),w=Math.max(y.lineHeight,c)),tt=0,z=G.length;tt<z;++tt)N(G[tt]),w=y.lineHeight;Fn(C.after,N)}_=0,w=y.lineHeight,Fn(this.afterBody,N),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,u;if(s){const c=bf(i.rtl,this.x,this.width);for(t.x=Zg(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",o=is(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,u=0;u<s;++u)e.fillText(r[u],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:c}=t,{width:f,height:p}=i,{topLeft:y,topRight:w,bottomLeft:_,bottomRight:E}=_f(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,c),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-w,c),e.quadraticCurveTo(u+f,c,u+f,c+w),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,c+p-E),e.quadraticCurveTo(u+f,c+p,u+f-E,c+p),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+_,c+p),e.quadraticCurveTo(u,c+p,u,c+p-_),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,c+y),e.quadraticCurveTo(u,c,u+y,c),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Ud[t.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=NS(this,t),c=Object.assign({},o,this._size),f=RS(e,t,c),p=CS(t,c,f,e);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Oa(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),LT(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),PT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),s=!Wm(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),u=this._positionChanged(o,t),c=e||!Wm(o,s)||u;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=Ud[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}me(Ry,"positioners",Ud);var NF={id:"tooltip",_element:Ry,positioners:Ud,afterInit(n,t,e){e&&(n.tooltip=new Ry({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const RF=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function CF(n,t,e,i){const r=n.indexOf(t);if(r===-1)return RF(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const IF=(n,t)=>n===null?null:ns(Math.round(n),0,t);function PS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Cy extends jf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:CF(i,t,Qe(e,t),this._addedLabels),IF(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return PS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}me(Cy,"id","category"),me(Cy,"defaults",{ticks:{callback:PS}});function LF(n,t){const e=[],{bounds:r,step:s,min:o,max:u,precision:c,count:f,maxTicks:p,maxDigits:y,includeBounds:w}=n,_=s||1,E=p-1,{min:N,max:R}=t,C=!Pn(o),O=!Pn(u),G=!Pn(f),et=(R-N)/(y+1);let tt=CA((R-N)/E/_)*_,mt,z,P,U;if(tt<1e-14&&!C&&!O)return[{value:N},{value:R}];U=Math.ceil(R/tt)-Math.floor(N/tt),U>E&&(tt=CA(U*tt/E/_)*_),Pn(c)||(mt=Math.pow(10,c),tt=Math.ceil(tt*mt)/mt),r==="ticks"?(z=Math.floor(N/tt)*tt,P=Math.ceil(R/tt)*tt):(z=N,P=R),C&&O&&s&&DM((u-o)/s,tt/1e3)?(U=Math.round(Math.min((u-o)/tt,p)),tt=(u-o)/U,z=o,P=u):G?(z=C?o:z,P=O?u:P,U=f-1,tt=(P-z)/U):(U=(P-z)/tt,Jd(U,Math.round(U),tt/1e3)?U=Math.round(U):U=Math.ceil(U));const X=Math.max(IA(tt),IA(z));mt=Math.pow(10,Pn(c)?X:c),z=Math.round(z*mt)/mt,P=Math.round(P*mt)/mt;let L=0;for(C&&(w&&z!==o?(e.push({value:o}),z<o&&L++,Jd(Math.round((z+L*tt)*mt)/mt,o,kS(o,et,n))&&L++):z<o&&L++);L<U;++L){const D=Math.round((z+L*tt)*mt)/mt;if(O&&D>u)break;e.push({value:D})}return O&&w&&P!==u?e.length&&Jd(e[e.length-1].value,u,kS(u,et,n))?e[e.length-1].value=u:e.push({value:u}):(!O||P===u)&&e.push({value:P}),e}function kS(n,t,{horizontal:e,minRotation:i}){const r=Zl(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class PF extends jf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=c=>r=e?r:c,u=c=>s=i?s:c;if(t){const c=cl(r),f=cl(s);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);u(s+c),t||o(r-c)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=LF(r,s);return t.bounds==="ticks"&&OM(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Gv(t,this.chart.options.locale,this.options.ticks.format)}}class Iy extends PF{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ss(t)?t:0,this.max=ss(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Zl(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}me(Iy,"id","linear"),me(Iy,"defaults",{ticks:{callback:ST.formatters.numeric}});const I0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ds=Object.keys(I0);function DS(n,t){return n-t}function OS(n,t){if(Pn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ss(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(pp(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function MS(n,t,e,i){const r=Ds.length;for(let s=Ds.indexOf(n);s<r-1;++s){const o=I0[Ds[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(u*o.size))<=i)return Ds[s]}return Ds[r-1]}function kF(n,t,e,i,r){for(let s=Ds.length-1;s>=Ds.indexOf(e);s--){const o=Ds[s];if(I0[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Ds[e?Ds.indexOf(e):0]}function DF(n){for(let t=Ds.indexOf(n)+1,e=Ds.length;t<e;++t)if(I0[Ds[t]].common)return Ds[t]}function jS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=qv(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function OF(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let u,c;for(u=s;u<=o;u=+r.add(u,1,i))c=e[u],c>=0&&(t[c].major=!0);return t}function FS(n,t,e){const i=[],r={},s=t.length;let o,u;for(o=0;o<s;++o)u=t[o],r[u]=o,i.push({value:u,major:!1});return s===0||!e?i:OF(n,i,r,e)}class Jm extends jf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new y9._date(t.adapters.date);r.init(e),Qd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:OS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=ss(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=ss(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=VM(r,s,o);return this._unit=e.unit||(i.autoSkip?MS(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):kF(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:DF(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),FS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=ns(e,0,o),i=ns(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||MS(s.minUnit,e,i,this._getLabelCapacity(e)),u=Qe(r.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,f=pp(c)||c===!0,p={};let y=e,w,_;if(f&&(y=+t.startOf(y,"isoWeek",c)),y=+t.startOf(y,f?"day":o),t.diff(i,e,o)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+o);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(w=y,_=0;w<i;w=+t.add(w,u,o),_++)jS(p,w,E);return(w===i||r.bounds==="ticks"||_===1)&&jS(p,w,E),Object.keys(p).sort(DS).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return ei(o,[t,e,i],this);const u=s.time.displayFormats,c=this._unit,f=this._majorUnit,p=c&&u[c],y=f&&u[f],w=i[e],_=f&&y&&w&&w.major;return this._adapter.format(t,r||(_?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Zl(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,FS(this,[t],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(OS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bT(t.sort(DS))}}me(Jm,"id","time"),me(Jm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tm(n,t,e){let i=0,r=n.length-1,s,o,u,c;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=nh(n,"pos",t)),{pos:s,time:u}=n[i],{pos:o,time:c}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=nh(n,"time",t)),{time:s,pos:u}=n[i],{time:o,pos:c}=n[r]);const f=o-s;return f?u+(c-u)*(t-s)/f:u}class BS extends Jm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=tm(e,this.min),this._tableRange=tm(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,u,c,f,p;for(o=0,u=t.length;o<u;++o)f=t[o],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)p=r[o+1],c=r[o-1],f=r[o],Math.round((p+c)/2)!==f&&s.push({time:f,pos:o/(u-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(tm(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return tm(this._table,i*this._tableRange+this._minPos,!0)}}me(BS,"id","timeseries"),me(BS,"defaults",Jm.defaults);const iE="label";function VS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function MF(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function rE(n,t){n.labels=t}function sE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iE;const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function jF(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iE;const e={labels:[],datasets:[]};return rE(e,n.labels),sE(e,n.datasets,t),e}function FF(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:u,options:c,plugins:f=[],fallbackContent:p,updateMode:y,...w}=n,_=$e.useRef(null),E=$e.useRef(null),N=()=>{_.current&&(E.current=new R0(_.current,{type:o,data:jF(u,s),options:c&&{...c},plugins:f}),VS(t,E.current))},R=()=>{VS(t,null),E.current&&(E.current.destroy(),E.current=null)};return $e.useEffect(()=>{!r&&E.current&&c&&MF(E.current,c)},[r,c]),$e.useEffect(()=>{!r&&E.current&&rE(E.current.config.data,u.labels)},[r,u.labels]),$e.useEffect(()=>{!r&&E.current&&u.datasets&&sE(E.current.config.data,u.datasets,s)},[r,u.datasets]),$e.useEffect(()=>{E.current&&(r?(R(),setTimeout(N)):E.current.update(y))},[r,c,u.labels,u.datasets,y]),$e.useEffect(()=>{E.current&&(R(),setTimeout(N))},[o]),$e.useEffect(()=>(N(),()=>R()),[]),US.createElement("canvas",{ref:_,role:"img",height:e,width:i,...w},p)}const BF=$e.forwardRef(FF);function L0(n,t){return R0.register(t),$e.forwardRef((e,i)=>US.createElement(BF,{...e,ref:i,type:n}))}const VF=L0("line",mm),UF=L0("bar",gm),zF=L0("doughnut",uf),qF=L0("pie",Sy);R0.register(Vd,NF,yF,Cy,Iy,bm,_F,_m,ec,hF);const C2=$e.forwardRef(({type:n,data:t,options:e},i)=>{switch(n){case"doughnut":return ht.jsx(zF,{ref:i,data:t,options:e});case"bar":return ht.jsx(UF,{ref:i,data:t,options:e});case"pie":return ht.jsx(qF,{ref:i,data:t,options:e});case"line":return ht.jsx(VF,{ref:i,data:t,options:e});default:return ht.jsx("div",{children:"Tipo de gráfico no válido"})}});function HF({results:n,onClose:t}){if(!n)return null;const e=$e.useRef(null),i=$e.useRef(null),r=$e.useRef(null),{config:s,clientes:o,mariella:u}=n,c=Ov(s.locale,s.moneda),f={labels:["Saldo Neto","Total Deducciones"],datasets:[{data:[u.saldoFinalNeto,u.totalDeducciones],backgroundColor:["#2ecc71","#e74c3c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:4}]},p=u.deducciones.reduce((O,G)=>{const et=G.category||"Otros";return O[et]=(O[et]||0)+G.montoCalculado,O},{}),y={labels:Object.keys(p),datasets:[{data:Object.values(p),backgroundColor:["#e74c3c","#f39c12","#f1c40f","#3498db","#9b59b6","#1abc9c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:2}]},w=o.filter(O=>O.comidas>0),_={labels:w.map(O=>O.name),datasets:[{label:`Ingreso Bruto por Cliente (${s.moneda})`,data:w.map(O=>O.ingresoBrutoCliente),backgroundColor:"rgba(52, 152, 219, 0.7)"}]},E={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Distribución Ingreso"}}},N={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Deducciones por Categoría"}}},R={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Aporte por Cliente"}}},C=()=>{var G,et,tt;const O={doughnut:(G=e.current)==null?void 0:G.toBase64Image(),pie:(et=i.current)==null?void 0:et.toBase64Image(),bar:(tt=r.current)==null?void 0:tt.toBase64Image()};tM(n,O)};return ht.jsx("div",{className:"modal",style:{display:"flex"},children:ht.jsxs("div",{className:"modal-content",children:[ht.jsx("span",{className:"modal-close-button",onClick:t,children:"×"}),ht.jsx("h3",{children:"📈 Resultados de Liquidación"}),ht.jsxs("div",{className:"summary-cards",children:[ht.jsxs("div",{className:"summary-card show",children:[ht.jsxs("h3",{children:["👩‍🍳 ",s.nombreMariella," (Neto)"]}),ht.jsx("div",{className:"amount",children:c.format(u.saldoFinalNeto)})]}),ht.jsxs("div",{className:"summary-card show",children:[ht.jsx("h3",{children:"👥 Total Bruto Clientes"}),ht.jsx("div",{className:"amount",children:c.format(u.totalIngresoBruto)})]})]}),ht.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px",height:"300px"},children:[ht.jsx("div",{className:"chart-container",children:ht.jsx(C2,{ref:e,type:"doughnut",data:f,options:E})}),ht.jsx("div",{className:"chart-container",children:ht.jsx(C2,{ref:i,type:"pie",data:y,options:N})})]}),ht.jsx("div",{className:"chart-container",style:{height:"250px",marginTop:"20px"},children:ht.jsx(C2,{ref:r,type:"bar",data:_,options:R})}),ht.jsxs("div",{className:"detailed-results-container",children:[ht.jsx("h3",{className:"section-title",children:"📄 Detalle por Cliente"}),o.filter(O=>O.comidas>0).map(O=>ht.jsxs("div",{className:"client-breakdown show",children:[ht.jsxs("div",{className:"person-header",children:["👤 Cliente: ",O.name]}),ht.jsxs("div",{className:"deduction-item",children:[ht.jsx("span",{className:"label",children:"Comidas Facturadas:"}),ht.jsx("span",{className:"value",children:O.comidas})]}),ht.jsxs("div",{className:"deduction-item",children:[ht.jsx("span",{className:"label",children:"Ingreso Bruto Generado:"}),ht.jsx("span",{className:"value",children:c.format(O.ingresoBrutoCliente)})]})]},O.id))]}),ht.jsxs("div",{className:"mariella-settlement-section",children:[ht.jsxs("h3",{className:"section-title",children:["💸 Liquidación Detallada: ",(s.nombreMariella||"").toUpperCase()]}),ht.jsxs("div",{className:"person-deductions show",children:[ht.jsxs("div",{className:"deduction-item",children:[ht.jsx("span",{className:"label",children:"Total Ingreso Bruto:"}),ht.jsx("span",{className:"value",children:c.format(u.totalIngresoBruto)})]}),u.deducciones.map((O,G)=>ht.jsxs("div",{className:"deduction-item",children:[ht.jsxs("span",{className:"label",children:["(-) ",O.name," (",O.displayValue,"):"]}),ht.jsx("span",{className:"value",children:c.format(O.montoCalculado)})]},G)),ht.jsxs("div",{className:"deduction-item",style:{borderTop:"2px solid var(--border-color)",marginTop:"5px",paddingTop:"5px"},children:[ht.jsx("span",{className:"label",style:{fontWeight:"bold"},children:"(=) SALDO FINAL A RECIBIR:"}),ht.jsx("span",{className:"value final-value",children:c.format(u.saldoFinalNeto)})]})]})]}),ht.jsx("hr",{style:{margin:"20px 0"}}),ht.jsx("button",{className:"main-button",onClick:C,children:"📄 Descargar Reporte en PDF"})]})})}function WF({isOpen:n,onClose:t,settlementId:e,onUpdate:i}){const[r,s]=$e.useState(null),[o,u]=$e.useState(!1);if(!n)return null;const c=p=>{s(p.target.files[0])},f=()=>{if(!r){alert("Por favor, selecciona un archivo.");return}u(!0);const p=new FileReader;p.readAsDataURL(r),p.onload=async()=>{const y=p.result;await i(e,y),u(!1),t()},p.onerror=y=>{console.error("Error al leer el archivo:",y),alert("Error al procesar el archivo."),u(!1)}};return ht.jsx("div",{className:"modal",style:{display:"flex"},children:ht.jsxs("div",{className:"modal-content",children:[ht.jsx("span",{className:"modal-close-button",onClick:t,children:"×"}),ht.jsx("h3",{children:"Subir Comprobante de Pago"}),ht.jsx("p",{children:'Para marcar esta liquidación como "Pagada", adjunta el comprobante (PDF, JPG, PNG).'}),ht.jsx("div",{className:"input-group",children:ht.jsx("input",{type:"file",id:"receiptFileInput",accept:"application/pdf,image/jpeg,image/png",onChange:c})}),ht.jsx("button",{className:"modal-confirm-btn confirm-upload",onClick:f,disabled:!r||o,children:o?"Subiendo...":"Subir y Marcar como Pagada"})]})})}function GF(){const[n,t]=$e.useState(!1),[e,i]=$e.useState(!1),[r,s]=$e.useState("light"),[o,u]=$e.useState(!1),[c,f]=$e.useState(null),[p,y]=$e.useState(!1),[w,_]=$e.useState(null),E=()=>{s(G=>G==="light"?"dark":"light")};$e.useEffect(()=>{document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add(`${r}-mode`)},[r]),$e.useEffect(()=>{const G=sC(Ms,et=>{t(!!et),i(!0)});return()=>G()},[]);const N=async()=>{await aC(Ms)},R=G=>{_(G),y(!0)},C=()=>{_(null),y(!1)},O=async(G,et)=>{try{await i8(G,et)}catch(tt){console.error("Error al actualizar el pago:",tt),alert("Error al actualizar el pago.")}};return e?ht.jsxs("div",{className:`container ${o||p?"modal-open":""}`,children:[ht.jsx(r8,{isAuthenticated:n,onLogout:N,onToggleTheme:E}),!n&&ht.jsx(s8,{}),n&&ht.jsx(m8,{setResults:f,setIsModalOpen:u,onOpenPaymentModal:R}),o&&ht.jsx(HF,{results:c,onClose:()=>u(!1)}),ht.jsx(WF,{isOpen:p,onClose:C,settlementId:w,onUpdate:O})]}):ht.jsx(y8,{})}b6.createRoot(document.getElementById("root")).render(ht.jsx($e.StrictMode,{children:ht.jsx(GF,{})}));export{Vn as _,KF as c,c6 as g};
