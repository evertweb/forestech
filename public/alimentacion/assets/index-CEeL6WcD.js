var uR=Object.defineProperty;var hR=(n,t,e)=>t in n?uR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ve=(n,t,e)=>hR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var ZW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sy={exports:{}},up={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function dR(){if(lS)return up;lS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return up.Fragment=t,up.jsx=e,up.jsxs=e,up}var cS;function pR(){return cS||(cS=1,sy.exports=dR()),sy.exports}var B=pR(),ay={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function gR(){if(uS)return Ye;uS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=v&&J[v]||J["@@iterator"],typeof J=="function"?J:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function I(J,At,F){this.props=J,this.context=At,this.refs=N,this.updater=F||_}I.prototype.isReactComponent={},I.prototype.setState=function(J,At){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,At,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function C(){}C.prototype=I.prototype;function O(J,At,F){this.props=J,this.context=At,this.refs=N,this.updater=F||_}var H=O.prototype=new C;H.constructor=O,E(H,I.prototype),H.isPureReactComponent=!0;var nt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},gt=Object.prototype.hasOwnProperty;function q(J,At,F,Y,et,ot){return F=ot.ref,{$$typeof:n,type:J,key:At,ref:F!==void 0?F:null,props:ot}}function L(J,At){return q(J.type,At,void 0,void 0,void 0,J.props)}function V(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function $(J){var At={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(F){return At[F]})}var P=/\/+/g;function D(J,At){return typeof J=="object"&&J!==null&&J.key!=null?$(""+J.key):At.toString(36)}function j(){}function tt(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(j,j):(J.status="pending",J.then(function(At){J.status==="pending"&&(J.status="fulfilled",J.value=At)},function(At){J.status==="pending"&&(J.status="rejected",J.reason=At)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function pt(J,At,F,Y,et){var ot=typeof J;(ot==="undefined"||ot==="boolean")&&(J=null);var ct=!1;if(J===null)ct=!0;else switch(ot){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(J.$$typeof){case n:case t:ct=!0;break;case p:return ct=J._init,pt(ct(J._payload),At,F,Y,et)}}if(ct)return et=et(J),ct=Y===""?"."+D(J,0):Y,nt(et)?(F="",ct!=null&&(F=ct.replace(P,"$&/")+"/"),pt(et,At,F,"",function(kt){return kt})):et!=null&&(V(et)&&(et=L(et,F+(et.key==null||J&&J.key===et.key?"":(""+et.key).replace(P,"$&/")+"/")+ct)),At.push(et)),1;ct=0;var Nt=Y===""?".":Y+":";if(nt(J))for(var Et=0;Et<J.length;Et++)Y=J[Et],ot=Nt+D(Y,Et),ct+=pt(Y,At,F,ot,et);else if(Et=b(J),typeof Et=="function")for(J=Et.call(J),Et=0;!(Y=J.next()).done;)Y=Y.value,ot=Nt+D(Y,Et++),ct+=pt(Y,At,F,ot,et);else if(ot==="object"){if(typeof J.then=="function")return pt(tt(J),At,F,Y,et);throw At=String(J),Error("Objects are not valid as a React child (found: "+(At==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":At)+"). If you meant to render a collection of children, use an array instead.")}return ct}function rt(J,At,F){if(J==null)return J;var Y=[],et=0;return pt(J,Y,"","",function(ot){return At.call(F,ot,et++)}),Y}function ht(J){if(J._status===-1){var At=J._result;At=At(),At.then(function(F){(J._status===0||J._status===-1)&&(J._status=1,J._result=F)},function(F){(J._status===0||J._status===-1)&&(J._status=2,J._result=F)}),J._status===-1&&(J._status=0,J._result=At)}if(J._status===1)return J._result.default;throw J._result}var ft=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var At=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(At))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function xt(){}return Ye.Children={map:rt,forEach:function(J,At,F){rt(J,function(){At.apply(this,arguments)},F)},count:function(J){var At=0;return rt(J,function(){At++}),At},toArray:function(J){return rt(J,function(At){return At})||[]},only:function(J){if(!V(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ye.Component=I,Ye.Fragment=e,Ye.Profiler=r,Ye.PureComponent=O,Ye.StrictMode=i,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(J){return it.H.useMemoCache(J)}},Ye.cache=function(J){return function(){return J.apply(null,arguments)}},Ye.cloneElement=function(J,At,F){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Y=E({},J.props),et=J.key,ot=void 0;if(At!=null)for(ct in At.ref!==void 0&&(ot=void 0),At.key!==void 0&&(et=""+At.key),At)!gt.call(At,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&At.ref===void 0||(Y[ct]=At[ct]);var ct=arguments.length-2;if(ct===1)Y.children=F;else if(1<ct){for(var Nt=Array(ct),Et=0;Et<ct;Et++)Nt[Et]=arguments[Et+2];Y.children=Nt}return q(J.type,et,void 0,void 0,ot,Y)},Ye.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s,_context:J},J},Ye.createElement=function(J,At,F){var Y,et={},ot=null;if(At!=null)for(Y in At.key!==void 0&&(ot=""+At.key),At)gt.call(At,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(et[Y]=At[Y]);var ct=arguments.length-2;if(ct===1)et.children=F;else if(1<ct){for(var Nt=Array(ct),Et=0;Et<ct;Et++)Nt[Et]=arguments[Et+2];et.children=Nt}if(J&&J.defaultProps)for(Y in ct=J.defaultProps,ct)et[Y]===void 0&&(et[Y]=ct[Y]);return q(J,ot,void 0,void 0,null,et)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(J){return{$$typeof:c,render:J}},Ye.isValidElement=V,Ye.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:ht}},Ye.memo=function(J,At){return{$$typeof:f,type:J,compare:At===void 0?null:At}},Ye.startTransition=function(J){var At=it.T,F={};it.T=F;try{var Y=J(),et=it.S;et!==null&&et(F,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(xt,ft)}catch(ot){ft(ot)}finally{it.T=At}},Ye.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ye.use=function(J){return it.H.use(J)},Ye.useActionState=function(J,At,F){return it.H.useActionState(J,At,F)},Ye.useCallback=function(J,At){return it.H.useCallback(J,At)},Ye.useContext=function(J){return it.H.useContext(J)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(J,At){return it.H.useDeferredValue(J,At)},Ye.useEffect=function(J,At,F){var Y=it.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(J,At)},Ye.useId=function(){return it.H.useId()},Ye.useImperativeHandle=function(J,At,F){return it.H.useImperativeHandle(J,At,F)},Ye.useInsertionEffect=function(J,At){return it.H.useInsertionEffect(J,At)},Ye.useLayoutEffect=function(J,At){return it.H.useLayoutEffect(J,At)},Ye.useMemo=function(J,At){return it.H.useMemo(J,At)},Ye.useOptimistic=function(J,At){return it.H.useOptimistic(J,At)},Ye.useReducer=function(J,At,F){return it.H.useReducer(J,At,F)},Ye.useRef=function(J){return it.H.useRef(J)},Ye.useState=function(J){return it.H.useState(J)},Ye.useSyncExternalStore=function(J,At,F){return it.H.useSyncExternalStore(J,At,F)},Ye.useTransition=function(){return it.H.useTransition()},Ye.version="19.1.0",Ye}var hS;function b_(){return hS||(hS=1,ay.exports=gR()),ay.exports}var ye=b_();const PE=fR(ye);var oy={exports:{}},hp={},ly={exports:{}},cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function mR(){return fS||(fS=1,function(n){function t(rt,ht){var ft=rt.length;rt.push(ht);t:for(;0<ft;){var xt=ft-1>>>1,J=rt[xt];if(0<r(J,ht))rt[xt]=ht,rt[ft]=J,ft=xt;else break t}}function e(rt){return rt.length===0?null:rt[0]}function i(rt){if(rt.length===0)return null;var ht=rt[0],ft=rt.pop();if(ft!==ht){rt[0]=ft;t:for(var xt=0,J=rt.length,At=J>>>1;xt<At;){var F=2*(xt+1)-1,Y=rt[F],et=F+1,ot=rt[et];if(0>r(Y,ft))et<J&&0>r(ot,Y)?(rt[xt]=ot,rt[et]=ft,xt=et):(rt[xt]=Y,rt[F]=ft,xt=F);else if(et<J&&0>r(ot,ft))rt[xt]=ot,rt[et]=ft,xt=et;else break t}}return ht}function r(rt,ht){var ft=rt.sortIndex-ht.sortIndex;return ft!==0?ft:rt.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,v=null,b=3,_=!1,E=!1,N=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function nt(rt){for(var ht=e(f);ht!==null;){if(ht.callback===null)i(f);else if(ht.startTime<=rt)i(f),ht.sortIndex=ht.expirationTime,t(u,ht);else break;ht=e(f)}}function it(rt){if(N=!1,nt(rt),!E)if(e(u)!==null)E=!0,gt||(gt=!0,D());else{var ht=e(f);ht!==null&&pt(it,ht.startTime-rt)}}var gt=!1,q=-1,L=5,V=-1;function $(){return I?!0:!(n.unstable_now()-V<L)}function P(){if(I=!1,gt){var rt=n.unstable_now();V=rt;var ht=!0;try{t:{E=!1,N&&(N=!1,O(q),q=-1),_=!0;var ft=b;try{e:{for(nt(rt),v=e(u);v!==null&&!(v.expirationTime>rt&&$());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,b=v.priorityLevel;var J=xt(v.expirationTime<=rt);if(rt=n.unstable_now(),typeof J=="function"){v.callback=J,nt(rt),ht=!0;break e}v===e(u)&&i(u),nt(rt)}else i(u);v=e(u)}if(v!==null)ht=!0;else{var At=e(f);At!==null&&pt(it,At.startTime-rt),ht=!1}}break t}finally{v=null,b=ft,_=!1}ht=void 0}}finally{ht?D():gt=!1}}}var D;if(typeof H=="function")D=function(){H(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,tt=j.port2;j.port1.onmessage=P,D=function(){tt.postMessage(null)}}else D=function(){C(P,0)};function pt(rt,ht){q=C(function(){rt(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(rt){rt.callback=null},n.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<rt?Math.floor(1e3/rt):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(rt){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var ft=b;b=ht;try{return rt()}finally{b=ft}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(rt,ht){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var ft=b;b=rt;try{return ht()}finally{b=ft}},n.unstable_scheduleCallback=function(rt,ht,ft){var xt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,rt){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ft+J,rt={id:p++,callback:ht,priorityLevel:rt,startTime:ft,expirationTime:J,sortIndex:-1},ft>xt?(rt.sortIndex=ft,t(f,rt),e(u)===null&&rt===e(f)&&(N?(O(q),q=-1):N=!0,pt(it,ft-xt))):(rt.sortIndex=J,t(u,rt),E||_||(E=!0,gt||(gt=!0,D()))),rt},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(rt){var ht=b;return function(){var ft=b;b=ht;try{return rt.apply(this,arguments)}finally{b=ft}}}}(cy)),cy}var dS;function vR(){return dS||(dS=1,ly.exports=mR()),ly.exports}var uy={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function yR(){if(pS)return ns;pS=1;var n=b_();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:u,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ns.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,p)},ns.flushSync=function(u){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=p,i.d.f()}},ns.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},ns.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ns.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):p==="script"&&i.d.X(u,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ns.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},ns.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ns.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},ns.requestFormReset=function(u){i.d.r(u)},ns.unstable_batchedUpdates=function(u,f){return u(f)},ns.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},ns.useFormStatus=function(){return o.H.useHostTransitionStatus()},ns.version="19.1.0",ns}var gS;function _R(){if(gS)return uy.exports;gS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),uy.exports=yR(),uy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function bR(){if(mS)return hp;mS=1;var n=vR(),t=b_(),e=_R();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,d=l;;){var y=h.return;if(y===null)break;var S=y.alternate;if(S===null){if(d=y.return,d!==null){h=d;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===h)return c(y),a;if(S===d)return c(y),l;S=S.sibling}throw Error(i(188))}if(h.return!==d.return)h=y,d=S;else{for(var M=!1,Q=y.child;Q;){if(Q===h){M=!0,h=y,d=S;break}if(Q===d){M=!0,d=y,h=S;break}Q=Q.sibling}if(!M){for(Q=S.child;Q;){if(Q===h){M=!0,h=S,d=y;break}if(Q===d){M=!0,d=S,h=y;break}Q=Q.sibling}if(!M)throw Error(i(189))}}if(h.alternate!==d)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),H=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function tt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case it:return"Suspense";case gt:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case H:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case nt:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return l=a.displayName||null,l!==null?l:tt(a.type)||"Memo";case L:l=a._payload,a=a._init;try{return tt(a(l))}catch{}}return null}var pt=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],J=-1;function At(a){return{current:a}}function F(a){0>J||(a.current=xt[J],xt[J]=null,J--)}function Y(a,l){J++,xt[J]=a.current,a.current=l}var et=At(null),ot=At(null),ct=At(null),Nt=At(null);function Et(a,l){switch(Y(ct,l),Y(ot,a),Y(et,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Mw(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Mw(l),a=jw(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(et),Y(et,a)}function kt(){F(et),F(ot),F(ct)}function Jt(a){a.memoizedState!==null&&Y(Nt,a);var l=et.current,h=jw(l,a.type);l!==h&&(Y(ot,a),Y(et,h))}function Xt(a){ot.current===a&&(F(et),F(ot)),Nt.current===a&&(F(Nt),sp._currentValue=ft)}var ne=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,Ft=n.unstable_shouldYield,lt=n.unstable_requestPaint,Te=n.unstable_now,fe=n.unstable_getCurrentPriorityLevel,Qt=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ae=n.unstable_LowPriority,_e=n.unstable_IdlePriority,Le=n.log,Ve=n.unstable_setDisableYieldValue,be=null,me=null;function Ge(a){if(typeof Le=="function"&&Ve(a),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(be,a)}catch{}}var de=Math.clz32?Math.clz32:ci,We=Math.log,oe=Math.LN2;function ci(a){return a>>>=0,a===0?32:31-(We(a)/oe|0)|0}var Ke=256,ar=4194304;function Je(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Cn(a,l,h){var d=a.pendingLanes;if(d===0)return 0;var y=0,S=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var Q=d&134217727;return Q!==0?(d=Q&~S,d!==0?y=Je(d):(M&=Q,M!==0?y=Je(M):h||(h=Q&~a,h!==0&&(y=Je(h))))):(Q=d&~S,Q!==0?y=Je(Q):M!==0?y=Je(M):h||(h=d&~a,h!==0&&(y=Je(h)))),y===0?0:l!==0&&l!==y&&(l&S)===0&&(S=y&-y,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:y}function vr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function cn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var a=Ke;return Ke<<=1,(Ke&4194048)===0&&(Ke=256),a}function Hn(){var a=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),a}function Oi(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function or(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Gn(a,l,h,d,y,S){var M=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var Q=a.entanglements,ut=a.expirationTimes,Pt=a.hiddenUpdates;for(h=M&~h;0<h;){var Bt=31-de(h),Wt=1<<Bt;Q[Bt]=0,ut[Bt]=-1;var Dt=Pt[Bt];if(Dt!==null)for(Pt[Bt]=null,Bt=0;Bt<Dt.length;Bt++){var Ot=Dt[Bt];Ot!==null&&(Ot.lane&=-536870913)}h&=~Wt}d!==0&&xe(a,d,0),S!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=S&~(M&~l))}function xe(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-de(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function un(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var d=31-de(h),y=1<<d;y&l|a[d]&l&&(a[d]|=l),h&=~y}}function Hr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ui(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function lr(){var a=ht.p;return a!==0?a:(a=window.event,a===void 0?32:nS(a.type))}function ys(a,l){var h=ht.p;try{return ht.p=a,l()}finally{ht.p=h}}var le=Math.random().toString(36).slice(2),Rn="__reactFiber$"+le,Ln="__reactProps$"+le,Qn="__reactContainer$"+le,ii="__reactEvents$"+le,hi="__reactListeners$"+le,Ai="__reactHandles$"+le,io="__reactResources$"+le,Rr="__reactMarker$"+le;function Xi(a){delete a[Rn],delete a[Ln],delete a[ii],delete a[hi],delete a[Ai]}function Mi(a){var l=a[Rn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Qn]||h[Rn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=Uw(a);a!==null;){if(h=a[Rn])return h;a=Uw(a)}return l}a=h,h=a.parentNode}return null}function Ti(a){if(a=a[Rn]||a[Qn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function ji(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Wn(a){var l=a[io];return l||(l=a[io]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Sn(a){a[Rr]=!0}var Zs=new Set,ta={};function yr(a,l){Gr(a,l),Gr(a+"Capture",l)}function Gr(a,l){for(ta[a]=l,a=0;a<l.length;a++)Zs.add(l[a])}var ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},so={};function Bc(a){return ne.call(so,a)?!0:ne.call(jl,a)?!1:ro.test(a)?so[a]=!0:(jl[a]=!0,!1)}function _s(a,l,h){if(Bc(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function bs(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Fi(a,l,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+d)}}var ea,Uc;function Is(a){if(ea===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ea=l&&l[1]||"",Uc=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+a+Uc}var Uo=!1;function na(a,l){if(!a||Uo)return"";Uo=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Wt=function(){throw Error()};if(Object.defineProperty(Wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wt,[])}catch(Ot){var Dt=Ot}Reflect.construct(a,[],Wt)}else{try{Wt.call()}catch(Ot){Dt=Ot}a.call(Wt.prototype)}}else{try{throw Error()}catch(Ot){Dt=Ot}(Wt=a())&&typeof Wt.catch=="function"&&Wt.catch(function(){})}}catch(Ot){if(Ot&&Dt&&typeof Ot.stack=="string")return[Ot.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),M=S[0],Q=S[1];if(M&&Q){var ut=M.split(`
`),Pt=Q.split(`
`);for(y=d=0;d<ut.length&&!ut[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Pt.length&&!Pt[y].includes("DetermineComponentFrameRoot");)y++;if(d===ut.length||y===Pt.length)for(d=ut.length-1,y=Pt.length-1;1<=d&&0<=y&&ut[d]!==Pt[y];)y--;for(;1<=d&&0<=y;d--,y--)if(ut[d]!==Pt[y]){if(d!==1||y!==1)do if(d--,y--,0>y||ut[d]!==Pt[y]){var Bt=`
`+ut[d].replace(" at new "," at ");return a.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",a.displayName)),Bt}while(1<=d&&0<=y);break}}}finally{Uo=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Is(h):""}function Fl(a){switch(a.tag){case 26:case 27:case 5:return Is(a.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return na(a.type,!1);case 11:return na(a.type.render,!1);case 1:return na(a.type,!0);case 31:return Is("Activity");default:return""}}function $n(a){try{var l="";do l+=Fl(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Qi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zo(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function zc(a){var l=zo(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,S=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(M){d=""+M,S.call(this,M)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ea(a){a._valueTracker||(a._valueTracker=zc(a))}function Vl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),d="";return a&&(d=zo(a)?a.checked?"true":"false":a.value),a=d,a!==h?(l.setValue(a),!0):!1}function cr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var qo=/[\n"\\]/g;function gn(a){return a.replace(qo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ur(a,l,h,d,y,S,M,Q){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),l!=null?M==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Qi(l)):a.value!==""+Qi(l)&&(a.value=""+Qi(l)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),l!=null?Ia(a,M,Qi(l)):h!=null?Ia(a,M,Qi(h)):d!=null&&a.removeAttribute("value"),y==null&&S!=null&&(a.defaultChecked=!!S),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?a.name=""+Qi(Q):a.removeAttribute("name")}function Na(a,l,h,d,y,S,M,Q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;h=h!=null?""+Qi(h):"",l=l!=null?""+Qi(l):h,Q||l===a.value||(a.value=l),a.defaultValue=l}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=Q?a.checked:!!d,a.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M)}function Ia(a,l,h){l==="number"&&cr(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Cs(a,l,h,d){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Qi(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function An(a,l,h){if(l!=null&&(l=""+Qi(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Qi(h):""}function Ca(a,l,h,d){if(l==null){if(d!=null){if(h!=null)throw Error(i(92));if(pt(d)){if(1<d.length)throw Error(i(93));d=d[0]}h=d}h==null&&(h=""),l=h}h=Qi(l),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function Wr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(a,l,h){var d=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,h):typeof h!="number"||h===0||ia.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function Bl(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in l)d=l[y],l.hasOwnProperty(y)&&h[y]!==d&&qc(a,y,d)}else for(var S in l)l.hasOwnProperty(S)&&qc(a,S,l[S])}function Ul(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(a){return Ho.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Rs=null;function jn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var aa=null,Ls=null;function Ie(a){var l=Ti(a);if(l&&(a=l.stateNode)){var h=a[Ln]||null;t:switch(a=l.stateNode,l.type){case"input":if(ur(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+gn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var d=h[l];if(d!==a&&d.form===a.form){var y=d[Ln]||null;if(!y)throw Error(i(90));ur(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<h.length;l++)d=h[l],d.form===a.form&&Vl(d)}break t;case"textarea":An(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&Cs(a,!!h.multiple,l,!1)}}}var Ps=!1;function Hc(a,l,h){if(Ps)return a(l,h);Ps=!0;try{var d=a(l);return d}finally{if(Ps=!1,(aa!==null||Ls!==null)&&(om(),aa&&(l=aa,a=Ls,Ls=aa=null,Ie(l),a)))for(l=0;l<a.length;l++)Ie(a[l])}}function _r(a,l){var h=a.stateNode;if(h===null)return null;var d=h[Ln]||null;if(d===null)return null;h=d[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if($r)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Lr=!1}var Yr=null,Ra=null,oa=null;function zl(){if(oa)return oa;var a,l=Ra,h=l.length,d,y="value"in Yr?Yr.value:Yr.textContent,S=y.length;for(a=0;a<h&&l[a]===y[a];a++);var M=h-a;for(d=1;d<=M&&l[h-d]===y[S-d];d++);return oa=y.slice(a,1<d?1-d:void 0)}function Kr(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function br(){return!0}function Ds(){return!1}function xi(a){function l(h,d,y,S,M){this._reactName=h,this._targetInst=y,this.type=d,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(h=a[Q],this[Q]=h?h(S):S[Q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?br:Ds,this.isPropagationStopped=Ds,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),l}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=xi(nn),Os=p({},nn,{view:0,detail:0}),ql=xi(Os),ao,oo,ws,wr=p({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ws&&(ws&&a.type==="mousemove"?(ao=a.screenX-ws.screenX,oo=a.screenY-ws.screenY):oo=ao=0,ws=a),ao)},movementY:function(a){return"movementY"in a?a.movementY:oo}}),Ei=xi(wr),Gc=p({},wr,{dataTransfer:0}),Pa=xi(Gc),hr=p({},Os,{relatedTarget:0}),ka=xi(hr),la=p({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=xi(la),lo=p({},nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wo=xi(lo),Hl=p({},nn,{data:0}),co=xi(Hl),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=$o[a])?!!l[a]:!1}function Oa(){return ho}var Wc=p({},Os,{key:function(a){if(a.key){var l=Da[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Kr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(a){return a.type==="keypress"?Kr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ca=xi(Wc),Ma=p({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=xi(Ma),Sr=p({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Yo=xi(Sr),A=p({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=xi(A),at=p({},wr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=xi(at),wt=p({},nn,{newState:0,oldState:0}),jt=xi(wt),Yt=[9,13,27,32],ie=$r&&"CompositionEvent"in window,m=null;$r&&"documentMode"in document&&(m=document.documentMode);var x=$r&&"TextEvent"in window&&!m,k=$r&&(!ie||m&&8<m&&11>=m),X=" ",bt=!1;function Lt(a,l){switch(a){case"keyup":return Yt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ce=!1;function rn(a,l){switch(a){case"compositionend":return Kt(l);case"keypress":return l.which!==32?null:(bt=!0,X);case"textInput":return a=l.data,a===X&&bt?null:a;default:return null}}function Be(a,l){if(Ce)return a==="compositionend"||!ie&&Lt(a,l)?(a=zl(),oa=Ra=Yr=null,Ce=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k&&l.locale!=="ko"?null:l.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Tn[a.type]:l==="textarea"}function Ms(a,l,h,d){aa?Ls?Ls.push(d):Ls=[d]:aa=d,l=dm(l,"onChange"),0<l.length&&(h=new La("onChange","change",null,h,d),a.push({event:h,listeners:l}))}var mi=null,Xr=null;function ja(a){Lw(a,0)}function Ko(a){var l=ji(a);if(Vl(l))return a}function $c(a,l){if(a==="change")return l}var Gl=!1;if($r){var Vi;if($r){var Xo="oninput"in document;if(!Xo){var Wl=document.createElement("div");Wl.setAttribute("oninput","return;"),Xo=typeof Wl.oninput=="function"}Vi=Xo}else Vi=!1;Gl=Vi&&(!document.documentMode||9<document.documentMode)}function $l(){mi&&(mi.detachEvent("onpropertychange",Yc),Xr=mi=null)}function Yc(a){if(a.propertyName==="value"&&Ko(Xr)){var l=[];Ms(l,Xr,a,jn(a)),Hc(ja,l)}}function Qr(a,l,h){a==="focusin"?($l(),mi=l,Xr=h,mi.attachEvent("onpropertychange",Yc)):a==="focusout"&&$l()}function Ed(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ko(Xr)}function ih(a,l){if(a==="click")return Ko(l)}function sf(a,l){if(a==="input"||a==="change")return Ko(l)}function js(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ji=typeof Object.is=="function"?Object.is:js;function Qo(a,l){if(Ji(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),d=Object.keys(l);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var y=h[d];if(!ne.call(l,y)||!Ji(a[y],l[y]))return!1}return!0}function rh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function po(a,l){var h=rh(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=l&&d>=l)return{node:h,offset:l-a};a=d}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=rh(h)}}function Jo(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Jo(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Pr(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=cr(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=cr(a.document)}return l}function fr(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Zo=$r&&"documentMode"in document&&11>=document.documentMode,Jr=null,ua=null,Fa=null,ha=!1;function fi(a,l,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ha||Jr==null||Jr!==cr(d)||(d=Jr,"selectionStart"in d&&fr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fa&&Qo(Fa,d)||(Fa=d,d=dm(ua,"onSelect"),0<d.length&&(l=new La("onSelect","select",null,l,h),a.push({event:l,listeners:d}),l.target=Jr)))}function fa(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Ni={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Zr={},Yl={};$r&&(Yl=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Va(a){if(Zr[a])return Zr[a];if(!Ni[a])return a;var l=Ni[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Yl)return Zr[a]=l[h];return a}var Kc=Va("animationend"),tl=Va("animationiteration"),el=Va("animationstart"),nl=Va("transitionrun"),Kl=Va("transitionstart"),Xc=Va("transitioncancel"),il=Va("transitionend"),go=new Map,Xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xl.push("scrollEnd");function di(a,l){go.set(a,l),yr(l,[a])}var Ss=new WeakMap;function Ze(a,l){if(typeof a=="object"&&a!==null){var h=Ss.get(a);return h!==void 0?h:(l={value:a,source:l,stack:$n(l)},Ss.set(a,l),l)}return{value:a,source:l,stack:$n(l)}}var tn=[],Yn=0,vi=0;function Fs(){for(var a=Yn,l=vi=Yn=0;l<a;){var h=tn[l];tn[l++]=null;var d=tn[l];tn[l++]=null;var y=tn[l];tn[l++]=null;var S=tn[l];if(tn[l++]=null,d!==null&&y!==null){var M=d.pending;M===null?y.next=y:(y.next=M.next,M.next=y),d.pending=y}S!==0&&af(h,y,S)}}function rl(a,l,h,d){tn[Yn++]=a,tn[Yn++]=l,tn[Yn++]=h,tn[Yn++]=d,vi|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function sl(a,l,h,d){return rl(a,l,h,d),Ql(a)}function mo(a,l){return rl(a,null,null,l),Ql(a)}function af(a,l,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var y=!1,S=a.return;S!==null;)S.childLanes|=h,d=S.alternate,d!==null&&(d.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(y=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,y&&l!==null&&(y=31-de(h),a=S.hiddenUpdates,d=a[y],d===null?a[y]=[l]:d.push(l),l.lane=h|536870912),S):null}function Ql(a){if(50<Qd)throw Qd=0,Cv=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Zi={};function Vs(a,l,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(a,l,h,d){return new Vs(a,l,h,d)}function Qc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,l){var h=a.alternate;return h===null?(h=Ar(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function sh(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Jl(a,l,h,d,y,S){var M=0;if(d=a,typeof a=="function")Qc(a)&&(M=1);else if(typeof a=="string")M=QC(a,h,et.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case V:return a=Ar(31,h,l,y),a.elementType=V,a.lanes=S,a;case E:return vo(h.children,y,S,l);case N:M=8,y|=24;break;case I:return a=Ar(12,h,l,y|2),a.elementType=I,a.lanes=S,a;case it:return a=Ar(13,h,l,y),a.elementType=it,a.lanes=S,a;case gt:return a=Ar(19,h,l,y),a.elementType=gt,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case H:M=10;break t;case O:M=9;break t;case nt:M=11;break t;case q:M=14;break t;case L:M=16,d=null;break t}M=29,h=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=Ar(M,h,l,y),l.elementType=a,l.type=d,l.lanes=S,l}function vo(a,l,h,d){return a=Ar(7,a,d,l),a.lanes=h,a}function of(a,l,h){return a=Ar(6,a,null,l),a.lanes=h,a}function ah(a,l,h){return l=Ar(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var al=[],yo=0,Jc=null,lf=0,Bs=[],As=0,Zl=null,_o=1,bo="";function tc(a,l){al[yo++]=lf,al[yo++]=Jc,Jc=a,lf=l}function Lg(a,l,h){Bs[As++]=_o,Bs[As++]=bo,Bs[As++]=Zl,Zl=a;var d=_o;a=bo;var y=32-de(d)-1;d&=~(1<<y),h+=1;var S=32-de(l)+y;if(30<S){var M=y-y%5;S=(d&(1<<M)-1).toString(32),d>>=M,y-=M,_o=1<<32-de(l)+y|h<<y|d,bo=S+a}else _o=1<<S|h<<y|d,bo=a}function oh(a){a.return!==null&&(tc(a,1),Lg(a,1,0))}function lh(a){for(;a===Jc;)Jc=al[--yo],al[yo]=null,lf=al[--yo],al[yo]=null;for(;a===Zl;)Zl=Bs[--As],Bs[As]=null,bo=Bs[--As],Bs[As]=null,_o=Bs[--As],Bs[As]=null}var Bi=null,pi=null,wn=!1,ol=null,Ua=!1,Nd=Error(i(519));function ec(a){var l=Error(i(418,""));throw Zc(Ze(l,a)),Nd}function Pg(a){var l=a.stateNode,h=a.type,d=a.memoizedProps;switch(l[Rn]=a,l[Ln]=d,h){case"dialog":on("cancel",l),on("close",l);break;case"iframe":case"object":case"embed":on("load",l);break;case"video":case"audio":for(h=0;h<Zd.length;h++)on(Zd[h],l);break;case"source":on("error",l);break;case"img":case"image":case"link":on("error",l),on("load",l);break;case"details":on("toggle",l);break;case"input":on("invalid",l),Na(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ea(l);break;case"select":on("invalid",l);break;case"textarea":on("invalid",l),Ca(l,d.value,d.defaultValue,d.children),Ea(l)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||d.suppressHydrationWarning===!0||Ow(l.textContent,h)?(d.popover!=null&&(on("beforetoggle",l),on("toggle",l)),d.onScroll!=null&&on("scroll",l),d.onScrollEnd!=null&&on("scrollend",l),d.onClick!=null&&(l.onclick=pm),l=!0):l=!1,l||ec(a)}function wo(a){for(Bi=a.return;Bi;)switch(Bi.tag){case 5:case 13:Ua=!1;return;case 27:case 3:Ua=!0;return;default:Bi=Bi.return}}function kr(a){if(a!==Bi)return!1;if(!wn)return wo(a),wn=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Gv(a.type,a.memoizedProps)),h=!h),h&&pi&&ec(a),wo(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){pi=Co(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}pi=null}}else l===27?(l=pi,mu(a.type)?(a=Kv,Kv=null,pi=a):pi=l):pi=Bi?Co(a.stateNode.nextSibling):null;return!0}function Ts(){pi=Bi=null,wn=!1}function kg(){var a=ol;return a!==null&&(qs===null?qs=a:qs.push.apply(qs,a),ol=null),a}function Zc(a){ol===null?ol=[a]:ol.push(a)}var za=At(null),tr=null,So=null;function ll(a,l,h){Y(za,l._currentValue),l._currentValue=h}function qa(a){a._currentValue=za.current,F(za)}function cf(a,l,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===h)break;a=a.return}}function uf(a,l,h,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var S=y.dependencies;if(S!==null){var M=y.child;S=S.firstContext;t:for(;S!==null;){var Q=S;S=y;for(var ut=0;ut<l.length;ut++)if(Q.context===l[ut]){S.lanes|=h,Q=S.alternate,Q!==null&&(Q.lanes|=h),cf(S.return,h,a),d||(M=null);break t}S=Q.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(i(341));M.lanes|=h,S=M.alternate,S!==null&&(S.lanes|=h),cf(M,h,a),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===a){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function tu(a,l,h,d){a=null;for(var y=l,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var Q=y.type;Ji(y.pendingProps.value,M.value)||(a!==null?a.push(Q):a=[Q])}}else if(y===Nt.current){if(M=y.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(sp):a=[sp])}y=y.return}a!==null&&uf(l,a,h,d),l.flags|=262144}function hf(a){for(a=a.firstContext;a!==null;){if(!Ji(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ha(a){tr=a,So=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ui(a){return ff(tr,a)}function cl(a,l){return tr===null&&Ha(a),ff(a,l)}function ff(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},So===null){if(a===null)throw Error(i(308));So=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else So=So.next=l;return h}var tv=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},Dg=n.unstable_scheduleCallback,ev=n.unstable_NormalPriority,zi={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new tv,data:new Map,refCount:0}}function ch(a){a.refCount--,a.refCount===0&&Dg(ev,function(){a.controller.abort()})}var uh=null,Cd=0,nc=0,Ao=null;function nv(a,l){if(uh===null){var h=uh=[];Cd=0,nc=Mv(),Ao={status:"pending",value:void 0,then:function(d){h.push(d)}}}return Cd++,l.then(Og,Og),l}function Og(){if(--Cd===0&&uh!==null){Ao!==null&&(Ao.status="fulfilled");var a=uh;uh=null,nc=0,Ao=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Mg(a,l){var h=[],d={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var y=0;y<h.length;y++)(0,h[y])(l)},function(y){for(d.status="rejected",d.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),d}var g=rt.S;rt.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&nv(a,l),g!==null&&g(a,l)};var w=At(null);function T(){var a=w.current;return a!==null?a:ei.pooledCache}function R(a,l){l===null?Y(w,w.current):Y(w,l.pool)}function U(){var a=T();return a===null?null:{parent:zi._currentValue,pool:a}}var G=Error(i(460)),W=Error(i(474)),K=Error(i(542)),Z={then:function(){}};function st(a){return a=a.status,a==="fulfilled"||a==="rejected"}function mt(){}function Rt(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(mt,mt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a;default:if(typeof l.status=="string")l.then(mt,mt);else{if(a=ei,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=d}},function(d){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a}throw It=l,G}}var It=null;function St(){if(It===null)throw Error(i(459));var a=It;return It=null,a}function qt(a){if(a===G||a===K)throw Error(i(483))}var Mt=!1;function vt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ht(a,l,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Vn&2)!==0){var y=d.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),d.pending=l,l=Ql(a),af(a,null,h),l}return rl(a,d,l,h),Ql(a)}function Ut(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}function ce(a,l){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var y=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?y=S=M:S=S.next=M,h=h.next}while(h!==null);S===null?y=S=l:S=S.next=l}else y=S=l;h={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var ee=!1;function we(){if(ee){var a=Ao;if(a!==null)throw a}}function re(a,l,h,d){ee=!1;var y=a.updateQueue;Mt=!1;var S=y.firstBaseUpdate,M=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var ut=Q,Pt=ut.next;ut.next=null,M===null?S=Pt:M.next=Pt,M=ut;var Bt=a.alternate;Bt!==null&&(Bt=Bt.updateQueue,Q=Bt.lastBaseUpdate,Q!==M&&(Q===null?Bt.firstBaseUpdate=Pt:Q.next=Pt,Bt.lastBaseUpdate=ut))}if(S!==null){var Wt=y.baseState;M=0,Bt=Pt=ut=null,Q=S;do{var Dt=Q.lane&-536870913,Ot=Dt!==Q.lane;if(Ot?(_n&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===nc&&(ee=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var Fe=a,Re=Q;Dt=l;var Xn=h;switch(Re.tag){case 1:if(Fe=Re.payload,typeof Fe=="function"){Wt=Fe.call(Xn,Wt,Dt);break t}Wt=Fe;break t;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Re.payload,Dt=typeof Fe=="function"?Fe.call(Xn,Wt,Dt):Fe,Dt==null)break t;Wt=p({},Wt,Dt);break t;case 2:Mt=!0}}Dt=Q.callback,Dt!==null&&(a.flags|=64,Ot&&(a.flags|=8192),Ot=y.callbacks,Ot===null?y.callbacks=[Dt]:Ot.push(Dt))}else Ot={lane:Dt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Bt===null?(Pt=Bt=Ot,ut=Wt):Bt=Bt.next=Ot,M|=Dt;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;Ot=Q,Q=Ot.next,Ot.next=null,y.lastBaseUpdate=Ot,y.shared.pending=null}}while(!0);Bt===null&&(ut=Wt),y.baseState=ut,y.firstBaseUpdate=Pt,y.lastBaseUpdate=Bt,S===null&&(y.shared.lanes=0),fu|=M,a.lanes=M,a.memoizedState=Wt}}function vn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function xn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)vn(h[a],l)}var Xe=At(null),$e=At(0);function kn(a,l){a=fc,Y($e,a),Y(Xe,l),fc=a|l.baseLanes}function En(){Y($e,fc),Y(Xe,Xe.current)}function Ue(){fc=$e.current,F(Xe),F($e)}var Fn=0,Ne=null,De=null,mn=null,yn=!1,er=!1,qi=!1,yi=0,_i=0,Ii=null,Us=0;function Nn(){throw Error(i(321))}function Ci(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Ji(a[h],l[h]))return!1;return!0}function da(a,l,h,d,y,S){return Fn=S,Ne=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,rt.H=a===null||a.memoizedState===null?g5:m5,qi=!1,S=h(d,y),qi=!1,er&&(S=ic(l,h,d,y)),ul(a),S}function ul(a){rt.H=Yg;var l=De!==null&&De.next!==null;if(Fn=0,mn=De=Ne=null,yn=!1,_i=0,Ii=null,l)throw Error(i(300));a===null||Tr||(a=a.dependencies,a!==null&&hf(a)&&(Tr=!0))}function ic(a,l,h,d){Ne=a;var y=0;do{if(er&&(Ii=null),_i=0,er=!1,25<=y)throw Error(i(301));if(y+=1,mn=De=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}rt.H=lC,S=l(h,d)}while(er);return S}function hl(){var a=rt.H,l=a.useState()[0];return l=typeof l.then=="function"?fl(l):l,a=a.useState()[0],(De!==null?De.memoizedState:null)!==a&&(Ne.flags|=1024),l}function ti(){var a=yi!==0;return yi=0,a}function hh(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function df(a){if(yn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}yn=!1}Fn=0,mn=De=Ne=null,er=!1,_i=yi=0,Ii=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ne.memoizedState=mn=a:mn=mn.next=a,mn}function ri(){if(De===null){var a=Ne.alternate;a=a!==null?a.memoizedState:null}else a=De.next;var l=mn===null?Ne.memoizedState:mn.next;if(l!==null)mn=l,De=a;else{if(a===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));De=a,a={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},mn===null?Ne.memoizedState=mn=a:mn=mn.next=a}return mn}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(a){var l=_i;return _i+=1,Ii===null&&(Ii=[]),a=Rt(Ii,a,l),l=Ne,(mn===null?l.memoizedState:mn.next)===null&&(l=l.alternate,rt.H=l===null||l.memoizedState===null?g5:m5),a}function ts(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return fl(a);if(a.$$typeof===H)return Ui(a)}throw Error(i(438,String(a)))}function dl(a){var l=null,h=Ne.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var d=Ne.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=rc(),Ne.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),d=0;d<a;d++)h[d]=$;return l.index++,h}function es(a,l){return typeof l=="function"?l(a):l}function fh(a){var l=ri();return eu(l,De,a)}function eu(a,l,h){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var y=a.baseQueue,S=d.pending;if(S!==null){if(y!==null){var M=y.next;y.next=S.next,S.next=M}l.baseQueue=y=S,d.pending=null}if(S=a.baseState,y===null)a.memoizedState=S;else{l=y.next;var Q=M=null,ut=null,Pt=l,Bt=!1;do{var Wt=Pt.lane&-536870913;if(Wt!==Pt.lane?(_n&Wt)===Wt:(Fn&Wt)===Wt){var Dt=Pt.revertLane;if(Dt===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),Wt===nc&&(Bt=!0);else if((Fn&Dt)===Dt){Pt=Pt.next,Dt===nc&&(Bt=!0);continue}else Wt={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(Q=ut=Wt,M=S):ut=ut.next=Wt,Ne.lanes|=Dt,fu|=Dt;Wt=Pt.action,qi&&h(S,Wt),S=Pt.hasEagerState?Pt.eagerState:h(S,Wt)}else Dt={lane:Wt,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(Q=ut=Dt,M=S):ut=ut.next=Dt,Ne.lanes|=Wt,fu|=Wt;Pt=Pt.next}while(Pt!==null&&Pt!==l);if(ut===null?M=S:ut.next=Q,!Ji(S,a.memoizedState)&&(Tr=!0,Bt&&(h=Ao,h!==null)))throw h;a.memoizedState=S,a.baseState=M,a.baseQueue=ut,d.lastRenderedState=S}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function pf(a){var l=ri(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var d=h.dispatch,y=h.pending,S=l.memoizedState;if(y!==null){h.pending=null;var M=y=y.next;do S=a(S,M.action),M=M.next;while(M!==y);Ji(S,l.memoizedState)||(Tr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,d]}function dh(a,l,h){var d=Ne,y=ri(),S=wn;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=l();var M=!Ji((De||y).memoizedState,h);M&&(y.memoizedState=h,Tr=!0),y=y.queue;var Q=nu.bind(null,d,y,a);if(su(2048,8,Q,[a]),y.getSnapshot!==l||M||mn!==null&&mn.memoizedState.tag&1){if(d.flags|=2048,xo(9,vh(),ph.bind(null,d,y,h,l),null),ei===null)throw Error(i(349));S||(Fn&124)!==0||gf(d,l,h)}return h}function gf(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Ne.updateQueue,l===null?(l=rc(),Ne.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function ph(a,l,h,d){l.value=h,l.getSnapshot=d,jg(l)&&Fg(a)}function nu(a,l,h){return h(function(){jg(l)&&Fg(a)})}function jg(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Ji(a,h)}catch{return!0}}function Fg(a){var l=mo(a,2);l!==null&&_a(l,a,2)}function gh(a){var l=Dr();if(typeof a=="function"){var h=a;if(a=h(),qi){Ge(!0);try{h()}finally{Ge(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},l}function To(a,l,h,d){return a.baseState=h,eu(a,De,typeof d=="function"?d:es)}function iv(a,l,h,d,y){if($g(a))throw Error(i(485));if(a=l.action,a!==null){var S={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};rt.T!==null?h(!0):S.isTransition=!1,d(S),h=l.pending,h===null?(S.next=l.pending=S,Vg(l,S)):(S.next=h.next,l.pending=h.next=S)}}function Vg(a,l){var h=l.action,d=l.payload,y=a.state;if(l.isTransition){var S=rt.T,M={};rt.T=M;try{var Q=h(y,d),ut=rt.S;ut!==null&&ut(M,Q),Bg(a,l,Q)}catch(Pt){iu(a,l,Pt)}finally{rt.T=S}}else try{S=h(y,d),Bg(a,l,S)}catch(Pt){iu(a,l,Pt)}}function Bg(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){Rd(a,l,d)},function(d){return iu(a,l,d)}):Rd(a,l,h)}function Rd(a,l,h){l.status="fulfilled",l.value=h,Ld(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Vg(a,h)))}function iu(a,l,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=h,Ld(l),l=l.next;while(l!==d)}a.action=null}function Ld(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Pd(a,l){return l}function mh(a,l){if(wn){var h=ei.formState;if(h!==null){t:{var d=Ne;if(wn){if(pi){e:{for(var y=pi,S=Ua;y.nodeType!==8;){if(!S){y=null;break e}if(y=Co(y.nextSibling),y===null){y=null;break e}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){pi=Co(y.nextSibling),d=y.data==="F!";break t}}ec(d)}d=!1}d&&(l=h[0])}}return h=Dr(),h.memoizedState=h.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:l},h.queue=d,h=f5.bind(null,Ne,d),d.dispatch=h,d=gh(!1),S=rv.bind(null,Ne,!1,d.queue),d=Dr(),y={state:l,dispatch:null,action:a,pending:null},d.queue=y,h=iv.bind(null,Ne,y,S,h),y.dispatch=h,d.memoizedState=a,[l,h,!1]}function mf(a){var l=ri();return ru(l,De,a)}function ru(a,l,h){if(l=eu(a,l,Pd)[0],a=fh(es)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=fl(l)}catch(M){throw M===G?K:M}else d=l;l=ri();var y=l.queue,S=y.dispatch;return h!==l.memoizedState&&(Ne.flags|=2048,xo(9,vh(),Ug.bind(null,y,h),null)),[d,S,a]}function Ug(a,l){a.action=l}function zg(a){var l=ri(),h=De;if(h!==null)return ru(l,h,a);ri(),l=l.memoizedState,h=ri();var d=h.queue.dispatch;return h.memoizedState=a,[l,d,!1]}function xo(a,l,h,d){return a={tag:a,create:h,deps:d,inst:l,next:null},l=Ne.updateQueue,l===null&&(l=rc(),Ne.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,l.lastEffect=a),a}function vh(){return{destroy:void 0,resource:void 0}}function vf(){return ri().memoizedState}function pa(a,l,h,d){var y=Dr();d=d===void 0?null:d,Ne.flags|=a,y.memoizedState=xo(1|l,vh(),h,d)}function su(a,l,h,d){var y=ri();d=d===void 0?null:d;var S=y.memoizedState.inst;De!==null&&d!==null&&Ci(d,De.memoizedState.deps)?y.memoizedState=xo(l,S,h,d):(Ne.flags|=a,y.memoizedState=xo(1|l,S,h,d))}function kd(a,l){pa(8390656,8,a,l)}function qg(a,l){su(2048,8,a,l)}function Dd(a,l){return su(4,2,a,l)}function sc(a,l){return su(4,4,a,l)}function Hg(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Od(a,l,h){h=h!=null?h.concat([a]):null,su(4,4,Hg.bind(null,l,a),h)}function Md(){}function jd(a,l){var h=ri();l=l===void 0?null:l;var d=h.memoizedState;return l!==null&&Ci(l,d[1])?d[0]:(h.memoizedState=[a,l],a)}function Gg(a,l){var h=ri();l=l===void 0?null:l;var d=h.memoizedState;if(l!==null&&Ci(l,d[1]))return d[0];if(d=a(),qi){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d}function ac(a,l,h){return h===void 0||(Fn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=lw(),Ne.lanes|=a,fu|=a,h)}function yf(a,l,h,d){return Ji(h,l)?h:Xe.current!==null?(a=ac(a,h,d),Ji(a,l)||(Tr=!0),a):(Fn&42)===0?(Tr=!0,a.memoizedState=h):(a=lw(),Ne.lanes|=a,fu|=a,l)}function yh(a,l,h,d,y){var S=ht.p;ht.p=S!==0&&8>S?S:8;var M=rt.T,Q={};rt.T=Q,rv(a,!1,l,h);try{var ut=y(),Pt=rt.S;if(Pt!==null&&Pt(Q,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Bt=Mg(ut,d);Ud(a,l,Bt,ya(a))}else Ud(a,l,d,ya(a))}catch(Wt){Ud(a,l,{then:function(){},status:"rejected",reason:Wt},ya())}finally{ht.p=S,rt.T=M}}function Eo(){}function Ga(a,l,h,d){if(a.tag!==5)throw Error(i(476));var y=No(a).queue;yh(a,y,l,ft,h===null?Eo:function(){return _h(a),h(d)})}function No(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ft},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function _h(a){var l=No(a).next.queue;Ud(a,l,{},ya())}function bh(){return Ui(sp)}function Fd(){return ri().memoizedState}function Wg(){return ri().memoizedState}function Vd(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=ya();a=Vt(h);var d=Ht(l,a,h);d!==null&&(_a(d,l,h),Ut(d,l,h)),l={cache:Id()},a.payload=l;return}l=l.return}}function Bd(a,l,h){var d=ya();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},$g(a)?d5(l,h):(h=sl(a,l,h,d),h!==null&&(_a(h,a,d),p5(h,l,d)))}function f5(a,l,h){var d=ya();Ud(a,l,h,d)}function Ud(a,l,h,d){var y={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if($g(a))d5(l,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var M=l.lastRenderedState,Q=S(M,h);if(y.hasEagerState=!0,y.eagerState=Q,Ji(Q,M))return rl(a,l,y,0),ei===null&&Fs(),!1}catch{}finally{}if(h=sl(a,l,y,d),h!==null)return _a(h,a,d),p5(h,l,d),!0}return!1}function rv(a,l,h,d){if(d={lane:2,revertLane:Mv(),action:d,hasEagerState:!1,eagerState:null,next:null},$g(a)){if(l)throw Error(i(479))}else l=sl(a,h,d,2),l!==null&&_a(l,a,2)}function $g(a){var l=a.alternate;return a===Ne||l!==null&&l===Ne}function d5(a,l){er=yn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function p5(a,l,h){if((h&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}var Yg={readContext:Ui,use:ts,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn},g5={readContext:Ui,use:ts,useCallback:function(a,l){return Dr().memoizedState=[a,l===void 0?null:l],a},useContext:Ui,useEffect:kd,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,pa(4194308,4,Hg.bind(null,l,a),h)},useLayoutEffect:function(a,l){return pa(4194308,4,a,l)},useInsertionEffect:function(a,l){pa(4,2,a,l)},useMemo:function(a,l){var h=Dr();l=l===void 0?null:l;var d=a();if(qi){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d},useReducer:function(a,l,h){var d=Dr();if(h!==void 0){var y=h(l);if(qi){Ge(!0);try{h(l)}finally{Ge(!1)}}}else y=l;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=Bd.bind(null,Ne,a),[d.memoizedState,a]},useRef:function(a){var l=Dr();return a={current:a},l.memoizedState=a},useState:function(a){a=gh(a);var l=a.queue,h=f5.bind(null,Ne,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:Md,useDeferredValue:function(a,l){var h=Dr();return ac(h,a,l)},useTransition:function(){var a=gh(!1);return a=yh.bind(null,Ne,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var d=Ne,y=Dr();if(wn){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),ei===null)throw Error(i(349));(_n&124)!==0||gf(d,l,h)}y.memoizedState=h;var S={value:h,getSnapshot:l};return y.queue=S,kd(nu.bind(null,d,S,a),[a]),d.flags|=2048,xo(9,vh(),ph.bind(null,d,S,h,l),null),h},useId:function(){var a=Dr(),l=ei.identifierPrefix;if(wn){var h=bo,d=_o;h=(d&~(1<<32-de(d)-1)).toString(32)+h,l=""+l+"R"+h,h=yi++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=Us++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:bh,useFormState:mh,useActionState:mh,useOptimistic:function(a){var l=Dr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=rv.bind(null,Ne,!0,h),h.dispatch=l,[a,l]},useMemoCache:dl,useCacheRefresh:function(){return Dr().memoizedState=Vd.bind(null,Ne)}},m5={readContext:Ui,use:ts,useCallback:jd,useContext:Ui,useEffect:qg,useImperativeHandle:Od,useInsertionEffect:Dd,useLayoutEffect:sc,useMemo:Gg,useReducer:fh,useRef:vf,useState:function(){return fh(es)},useDebugValue:Md,useDeferredValue:function(a,l){var h=ri();return yf(h,De.memoizedState,a,l)},useTransition:function(){var a=fh(es)[0],l=ri().memoizedState;return[typeof a=="boolean"?a:fl(a),l]},useSyncExternalStore:dh,useId:Fd,useHostTransitionStatus:bh,useFormState:mf,useActionState:mf,useOptimistic:function(a,l){var h=ri();return To(h,De,a,l)},useMemoCache:dl,useCacheRefresh:Wg},lC={readContext:Ui,use:ts,useCallback:jd,useContext:Ui,useEffect:qg,useImperativeHandle:Od,useInsertionEffect:Dd,useLayoutEffect:sc,useMemo:Gg,useReducer:pf,useRef:vf,useState:function(){return pf(es)},useDebugValue:Md,useDeferredValue:function(a,l){var h=ri();return De===null?ac(h,a,l):yf(h,De.memoizedState,a,l)},useTransition:function(){var a=pf(es)[0],l=ri().memoizedState;return[typeof a=="boolean"?a:fl(a),l]},useSyncExternalStore:dh,useId:Fd,useHostTransitionStatus:bh,useFormState:zg,useActionState:zg,useOptimistic:function(a,l){var h=ri();return De!==null?To(h,De,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:dl,useCacheRefresh:Wg},_f=null,zd=0;function Kg(a){var l=zd;return zd+=1,_f===null&&(_f=[]),Rt(_f,a,l)}function qd(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Xg(a,l){throw l.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function v5(a){var l=a._init;return l(a._payload)}function y5(a){function l(Tt,yt){if(a){var Ct=Tt.deletions;Ct===null?(Tt.deletions=[yt],Tt.flags|=16):Ct.push(yt)}}function h(Tt,yt){if(!a)return null;for(;yt!==null;)l(Tt,yt),yt=yt.sibling;return null}function d(Tt){for(var yt=new Map;Tt!==null;)Tt.key!==null?yt.set(Tt.key,Tt):yt.set(Tt.index,Tt),Tt=Tt.sibling;return yt}function y(Tt,yt){return Tt=Ba(Tt,yt),Tt.index=0,Tt.sibling=null,Tt}function S(Tt,yt,Ct){return Tt.index=Ct,a?(Ct=Tt.alternate,Ct!==null?(Ct=Ct.index,Ct<yt?(Tt.flags|=67108866,yt):Ct):(Tt.flags|=67108866,yt)):(Tt.flags|=1048576,yt)}function M(Tt){return a&&Tt.alternate===null&&(Tt.flags|=67108866),Tt}function Q(Tt,yt,Ct,zt){return yt===null||yt.tag!==6?(yt=of(Ct,Tt.mode,zt),yt.return=Tt,yt):(yt=y(yt,Ct),yt.return=Tt,yt)}function ut(Tt,yt,Ct,zt){var pe=Ct.type;return pe===E?Bt(Tt,yt,Ct.props.children,zt,Ct.key):yt!==null&&(yt.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&v5(pe)===yt.type)?(yt=y(yt,Ct.props),qd(yt,Ct),yt.return=Tt,yt):(yt=Jl(Ct.type,Ct.key,Ct.props,null,Tt.mode,zt),qd(yt,Ct),yt.return=Tt,yt)}function Pt(Tt,yt,Ct,zt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Ct.containerInfo||yt.stateNode.implementation!==Ct.implementation?(yt=ah(Ct,Tt.mode,zt),yt.return=Tt,yt):(yt=y(yt,Ct.children||[]),yt.return=Tt,yt)}function Bt(Tt,yt,Ct,zt,pe){return yt===null||yt.tag!==7?(yt=vo(Ct,Tt.mode,zt,pe),yt.return=Tt,yt):(yt=y(yt,Ct),yt.return=Tt,yt)}function Wt(Tt,yt,Ct){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=of(""+yt,Tt.mode,Ct),yt.return=Tt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:return Ct=Jl(yt.type,yt.key,yt.props,null,Tt.mode,Ct),qd(Ct,yt),Ct.return=Tt,Ct;case _:return yt=ah(yt,Tt.mode,Ct),yt.return=Tt,yt;case L:var zt=yt._init;return yt=zt(yt._payload),Wt(Tt,yt,Ct)}if(pt(yt)||D(yt))return yt=vo(yt,Tt.mode,Ct,null),yt.return=Tt,yt;if(typeof yt.then=="function")return Wt(Tt,Kg(yt),Ct);if(yt.$$typeof===H)return Wt(Tt,cl(Tt,yt),Ct);Xg(Tt,yt)}return null}function Dt(Tt,yt,Ct,zt){var pe=yt!==null?yt.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return pe!==null?null:Q(Tt,yt,""+Ct,zt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case b:return Ct.key===pe?ut(Tt,yt,Ct,zt):null;case _:return Ct.key===pe?Pt(Tt,yt,Ct,zt):null;case L:return pe=Ct._init,Ct=pe(Ct._payload),Dt(Tt,yt,Ct,zt)}if(pt(Ct)||D(Ct))return pe!==null?null:Bt(Tt,yt,Ct,zt,null);if(typeof Ct.then=="function")return Dt(Tt,yt,Kg(Ct),zt);if(Ct.$$typeof===H)return Dt(Tt,yt,cl(Tt,Ct),zt);Xg(Tt,Ct)}return null}function Ot(Tt,yt,Ct,zt,pe){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return Tt=Tt.get(Ct)||null,Q(yt,Tt,""+zt,pe);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case b:return Tt=Tt.get(zt.key===null?Ct:zt.key)||null,ut(yt,Tt,zt,pe);case _:return Tt=Tt.get(zt.key===null?Ct:zt.key)||null,Pt(yt,Tt,zt,pe);case L:var sn=zt._init;return zt=sn(zt._payload),Ot(Tt,yt,Ct,zt,pe)}if(pt(zt)||D(zt))return Tt=Tt.get(Ct)||null,Bt(yt,Tt,zt,pe,null);if(typeof zt.then=="function")return Ot(Tt,yt,Ct,Kg(zt),pe);if(zt.$$typeof===H)return Ot(Tt,yt,Ct,cl(yt,zt),pe);Xg(yt,zt)}return null}function Fe(Tt,yt,Ct,zt){for(var pe=null,sn=null,Ae=yt,Pe=yt=0,Er=null;Ae!==null&&Pe<Ct.length;Pe++){Ae.index>Pe?(Er=Ae,Ae=null):Er=Ae.sibling;var In=Dt(Tt,Ae,Ct[Pe],zt);if(In===null){Ae===null&&(Ae=Er);break}a&&Ae&&In.alternate===null&&l(Tt,Ae),yt=S(In,yt,Pe),sn===null?pe=In:sn.sibling=In,sn=In,Ae=Er}if(Pe===Ct.length)return h(Tt,Ae),wn&&tc(Tt,Pe),pe;if(Ae===null){for(;Pe<Ct.length;Pe++)Ae=Wt(Tt,Ct[Pe],zt),Ae!==null&&(yt=S(Ae,yt,Pe),sn===null?pe=Ae:sn.sibling=Ae,sn=Ae);return wn&&tc(Tt,Pe),pe}for(Ae=d(Ae);Pe<Ct.length;Pe++)Er=Ot(Ae,Tt,Pe,Ct[Pe],zt),Er!==null&&(a&&Er.alternate!==null&&Ae.delete(Er.key===null?Pe:Er.key),yt=S(Er,yt,Pe),sn===null?pe=Er:sn.sibling=Er,sn=Er);return a&&Ae.forEach(function(wu){return l(Tt,wu)}),wn&&tc(Tt,Pe),pe}function Re(Tt,yt,Ct,zt){if(Ct==null)throw Error(i(151));for(var pe=null,sn=null,Ae=yt,Pe=yt=0,Er=null,In=Ct.next();Ae!==null&&!In.done;Pe++,In=Ct.next()){Ae.index>Pe?(Er=Ae,Ae=null):Er=Ae.sibling;var wu=Dt(Tt,Ae,In.value,zt);if(wu===null){Ae===null&&(Ae=Er);break}a&&Ae&&wu.alternate===null&&l(Tt,Ae),yt=S(wu,yt,Pe),sn===null?pe=wu:sn.sibling=wu,sn=wu,Ae=Er}if(In.done)return h(Tt,Ae),wn&&tc(Tt,Pe),pe;if(Ae===null){for(;!In.done;Pe++,In=Ct.next())In=Wt(Tt,In.value,zt),In!==null&&(yt=S(In,yt,Pe),sn===null?pe=In:sn.sibling=In,sn=In);return wn&&tc(Tt,Pe),pe}for(Ae=d(Ae);!In.done;Pe++,In=Ct.next())In=Ot(Ae,Tt,Pe,In.value,zt),In!==null&&(a&&In.alternate!==null&&Ae.delete(In.key===null?Pe:In.key),yt=S(In,yt,Pe),sn===null?pe=In:sn.sibling=In,sn=In);return a&&Ae.forEach(function(cR){return l(Tt,cR)}),wn&&tc(Tt,Pe),pe}function Xn(Tt,yt,Ct,zt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===E&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case b:t:{for(var pe=Ct.key;yt!==null;){if(yt.key===pe){if(pe=Ct.type,pe===E){if(yt.tag===7){h(Tt,yt.sibling),zt=y(yt,Ct.props.children),zt.return=Tt,Tt=zt;break t}}else if(yt.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&v5(pe)===yt.type){h(Tt,yt.sibling),zt=y(yt,Ct.props),qd(zt,Ct),zt.return=Tt,Tt=zt;break t}h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}Ct.type===E?(zt=vo(Ct.props.children,Tt.mode,zt,Ct.key),zt.return=Tt,Tt=zt):(zt=Jl(Ct.type,Ct.key,Ct.props,null,Tt.mode,zt),qd(zt,Ct),zt.return=Tt,Tt=zt)}return M(Tt);case _:t:{for(pe=Ct.key;yt!==null;){if(yt.key===pe)if(yt.tag===4&&yt.stateNode.containerInfo===Ct.containerInfo&&yt.stateNode.implementation===Ct.implementation){h(Tt,yt.sibling),zt=y(yt,Ct.children||[]),zt.return=Tt,Tt=zt;break t}else{h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}zt=ah(Ct,Tt.mode,zt),zt.return=Tt,Tt=zt}return M(Tt);case L:return pe=Ct._init,Ct=pe(Ct._payload),Xn(Tt,yt,Ct,zt)}if(pt(Ct))return Fe(Tt,yt,Ct,zt);if(D(Ct)){if(pe=D(Ct),typeof pe!="function")throw Error(i(150));return Ct=pe.call(Ct),Re(Tt,yt,Ct,zt)}if(typeof Ct.then=="function")return Xn(Tt,yt,Kg(Ct),zt);if(Ct.$$typeof===H)return Xn(Tt,yt,cl(Tt,Ct),zt);Xg(Tt,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,yt!==null&&yt.tag===6?(h(Tt,yt.sibling),zt=y(yt,Ct),zt.return=Tt,Tt=zt):(h(Tt,yt),zt=of(Ct,Tt.mode,zt),zt.return=Tt,Tt=zt),M(Tt)):h(Tt,yt)}return function(Tt,yt,Ct,zt){try{zd=0;var pe=Xn(Tt,yt,Ct,zt);return _f=null,pe}catch(Ae){if(Ae===G||Ae===K)throw Ae;var sn=Ar(29,Ae,null,Tt.mode);return sn.lanes=zt,sn.return=Tt,sn}finally{}}}var bf=y5(!0),_5=y5(!1),Wa=At(null),pl=null;function au(a){var l=a.alternate;Y(dr,dr.current&1),Y(Wa,a),pl===null&&(l===null||Xe.current!==null||l.memoizedState!==null)&&(pl=a)}function b5(a){if(a.tag===22){if(Y(dr,dr.current),Y(Wa,a),pl===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(pl=a)}}else ou()}function ou(){Y(dr,dr.current),Y(Wa,Wa.current)}function oc(a){F(Wa),pl===a&&(pl=null),F(dr)}var dr=At(0);function Qg(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Yv(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function sv(a,l,h,d){l=a.memoizedState,h=h(d,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var av={enqueueSetState:function(a,l,h){a=a._reactInternals;var d=ya(),y=Vt(d);y.payload=l,h!=null&&(y.callback=h),l=Ht(a,y,d),l!==null&&(_a(l,a,d),Ut(l,a,d))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var d=ya(),y=Vt(d);y.tag=1,y.payload=l,h!=null&&(y.callback=h),l=Ht(a,y,d),l!==null&&(_a(l,a,d),Ut(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=ya(),d=Vt(h);d.tag=2,l!=null&&(d.callback=l),l=Ht(a,d,h),l!==null&&(_a(l,a,h),Ut(l,a,h))}};function w5(a,l,h,d,y,S,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,S,M):l.prototype&&l.prototype.isPureReactComponent?!Qo(h,d)||!Qo(y,S):!0}function S5(a,l,h,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,d),l.state!==a&&av.enqueueReplaceState(l,l.state,null)}function wh(a,l){var h=l;if("ref"in l){h={};for(var d in l)d!=="ref"&&(h[d]=l[d])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var y in a)h[y]===void 0&&(h[y]=a[y])}return h}var Jg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function A5(a){Jg(a)}function T5(a){console.error(a)}function x5(a){Jg(a)}function Zg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function E5(a,l,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ov(a,l,h){return h=Vt(h),h.tag=3,h.payload={element:null},h.callback=function(){Zg(a,l)},h}function N5(a){return a=Vt(a),a.tag=3,a}function I5(a,l,h,d){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var S=d.value;a.payload=function(){return y(S)},a.callback=function(){E5(l,h,d)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){E5(l,h,d),typeof y!="function"&&(du===null?du=new Set([this]):du.add(this));var Q=d.stack;this.componentDidCatch(d.value,{componentStack:Q!==null?Q:""})})}function cC(a,l,h,d,y){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=h.alternate,l!==null&&tu(l,h,y,!0),h=Wa.current,h!==null){switch(h.tag){case 13:return pl===null?Lv():h.alternate===null&&Ri===0&&(Ri=3),h.flags&=-257,h.flags|=65536,h.lanes=y,d===Z?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([d]):l.add(d),kv(a,d,y)),!1;case 22:return h.flags|=65536,d===Z?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([d]):h.add(d)),kv(a,d,y)),!1}throw Error(i(435,h.tag))}return kv(a,d,y),Lv(),!1}if(wn)return l=Wa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,d!==Nd&&(a=Error(i(422),{cause:d}),Zc(Ze(a,h)))):(d!==Nd&&(l=Error(i(423),{cause:d}),Zc(Ze(l,h))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=Ze(d,h),y=ov(a.stateNode,d,y),ce(a,y),Ri!==4&&(Ri=2)),!1;var S=Error(i(520),{cause:d});if(S=Ze(S,h),Xd===null?Xd=[S]:Xd.push(S),Ri!==4&&(Ri=2),l===null)return!0;d=Ze(d,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=y&-y,h.lanes|=a,a=ov(h.stateNode,d,a),ce(h,a),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(du===null||!du.has(S))))return h.flags|=65536,y&=-y,h.lanes|=y,y=N5(y),I5(y,a,h,d),ce(h,y),!1}h=h.return}while(h!==null);return!1}var C5=Error(i(461)),Tr=!1;function Or(a,l,h,d){l.child=a===null?_5(l,null,h,d):bf(l,a.child,h,d)}function R5(a,l,h,d,y){h=h.render;var S=l.ref;if("ref"in d){var M={};for(var Q in d)Q!=="ref"&&(M[Q]=d[Q])}else M=d;return Ha(l),d=da(a,l,h,M,S,y),Q=ti(),a!==null&&!Tr?(hh(a,l,y),lc(a,l,y)):(wn&&Q&&oh(l),l.flags|=1,Or(a,l,d,y),l.child)}function L5(a,l,h,d,y){if(a===null){var S=h.type;return typeof S=="function"&&!Qc(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,P5(a,l,S,d,y)):(a=Jl(h.type,null,d,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!gv(a,y)){var M=S.memoizedProps;if(h=h.compare,h=h!==null?h:Qo,h(M,d)&&a.ref===l.ref)return lc(a,l,y)}return l.flags|=1,a=Ba(S,d),a.ref=l.ref,a.return=l,l.child=a}function P5(a,l,h,d,y){if(a!==null){var S=a.memoizedProps;if(Qo(S,d)&&a.ref===l.ref)if(Tr=!1,l.pendingProps=d=S,gv(a,y))(a.flags&131072)!==0&&(Tr=!0);else return l.lanes=a.lanes,lc(a,l,y)}return lv(a,l,h,d,y)}function k5(a,l,h){var d=l.pendingProps,y=d.children,S=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=S!==null?S.baseLanes|h:h,a!==null){for(y=l.child=a.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;l.childLanes=S&~d}else l.childLanes=0,l.child=null;return D5(a,l,d,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&R(l,S!==null?S.cachePool:null),S!==null?kn(l,S):En(),b5(l);else return l.lanes=l.childLanes=536870912,D5(a,l,S!==null?S.baseLanes|h:h,h)}else S!==null?(R(l,S.cachePool),kn(l,S),ou(),l.memoizedState=null):(a!==null&&R(l,null),En(),ou());return Or(a,l,y,h),l.child}function D5(a,l,h,d){var y=T();return y=y===null?null:{parent:zi._currentValue,pool:y},l.memoizedState={baseLanes:h,cachePool:y},a!==null&&R(l,null),En(),b5(l),a!==null&&tu(a,l,d,!0),null}function tm(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function lv(a,l,h,d,y){return Ha(l),h=da(a,l,h,d,void 0,y),d=ti(),a!==null&&!Tr?(hh(a,l,y),lc(a,l,y)):(wn&&d&&oh(l),l.flags|=1,Or(a,l,h,y),l.child)}function O5(a,l,h,d,y,S){return Ha(l),l.updateQueue=null,h=ic(l,d,h,y),ul(a),d=ti(),a!==null&&!Tr?(hh(a,l,S),lc(a,l,S)):(wn&&d&&oh(l),l.flags|=1,Or(a,l,h,S),l.child)}function M5(a,l,h,d,y){if(Ha(l),l.stateNode===null){var S=Zi,M=h.contextType;typeof M=="object"&&M!==null&&(S=Ui(M)),S=new h(d,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=av,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=d,S.state=l.memoizedState,S.refs={},vt(l),M=h.contextType,S.context=typeof M=="object"&&M!==null?Ui(M):Zi,S.state=l.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(sv(l,h,M,d),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&av.enqueueReplaceState(S,S.state,null),re(l,d,S,y),we(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){S=l.stateNode;var Q=l.memoizedProps,ut=wh(h,Q);S.props=ut;var Pt=S.context,Bt=h.contextType;M=Zi,typeof Bt=="object"&&Bt!==null&&(M=Ui(Bt));var Wt=h.getDerivedStateFromProps;Bt=typeof Wt=="function"||typeof S.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,Bt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Q||Pt!==M)&&S5(l,S,d,M),Mt=!1;var Dt=l.memoizedState;S.state=Dt,re(l,d,S,y),we(),Pt=l.memoizedState,Q||Dt!==Pt||Mt?(typeof Wt=="function"&&(sv(l,h,Wt,d),Pt=l.memoizedState),(ut=Mt||w5(l,h,ut,d,Dt,Pt,M))?(Bt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Pt),S.props=d,S.state=Pt,S.context=M,d=ut):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{S=l.stateNode,_t(a,l),M=l.memoizedProps,Bt=wh(h,M),S.props=Bt,Wt=l.pendingProps,Dt=S.context,Pt=h.contextType,ut=Zi,typeof Pt=="object"&&Pt!==null&&(ut=Ui(Pt)),Q=h.getDerivedStateFromProps,(Pt=typeof Q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==Wt||Dt!==ut)&&S5(l,S,d,ut),Mt=!1,Dt=l.memoizedState,S.state=Dt,re(l,d,S,y),we();var Ot=l.memoizedState;M!==Wt||Dt!==Ot||Mt||a!==null&&a.dependencies!==null&&hf(a.dependencies)?(typeof Q=="function"&&(sv(l,h,Q,d),Ot=l.memoizedState),(Bt=Mt||w5(l,h,Bt,d,Dt,Ot,ut)||a!==null&&a.dependencies!==null&&hf(a.dependencies))?(Pt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Ot,ut),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Ot,ut)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=Ot),S.props=d,S.state=Ot,S.context=ut,d=Bt):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),d=!1)}return S=d,tm(a,l),d=(l.flags&128)!==0,S||d?(S=l.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&d?(l.child=bf(l,a.child,null,y),l.child=bf(l,null,h,y)):Or(a,l,h,y),l.memoizedState=S.state,a=l.child):a=lc(a,l,y),a}function j5(a,l,h,d){return Ts(),l.flags|=256,Or(a,l,h,d),l.child}var cv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uv(a){return{baseLanes:a,cachePool:U()}}function hv(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=$a),a}function F5(a,l,h){var d=l.pendingProps,y=!1,S=(l.flags&128)!==0,M;if((M=S)||(M=a!==null&&a.memoizedState===null?!1:(dr.current&2)!==0),M&&(y=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,a===null){if(wn){if(y?au(l):ou(),wn){var Q=pi,ut;if(ut=Q){t:{for(ut=Q,Q=Ua;ut.nodeType!==8;){if(!Q){Q=null;break t}if(ut=Co(ut.nextSibling),ut===null){Q=null;break t}}Q=ut}Q!==null?(l.memoizedState={dehydrated:Q,treeContext:Zl!==null?{id:_o,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},ut=Ar(18,null,null,0),ut.stateNode=Q,ut.return=l,l.child=ut,Bi=l,pi=null,ut=!0):ut=!1}ut||ec(l)}if(Q=l.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Yv(Q)?l.lanes=32:l.lanes=536870912,null;oc(l)}return Q=d.children,d=d.fallback,y?(ou(),y=l.mode,Q=em({mode:"hidden",children:Q},y),d=vo(d,y,h,null),Q.return=l,d.return=l,Q.sibling=d,l.child=Q,y=l.child,y.memoizedState=uv(h),y.childLanes=hv(a,M,h),l.memoizedState=cv,d):(au(l),fv(l,Q))}if(ut=a.memoizedState,ut!==null&&(Q=ut.dehydrated,Q!==null)){if(S)l.flags&256?(au(l),l.flags&=-257,l=dv(a,l,h)):l.memoizedState!==null?(ou(),l.child=a.child,l.flags|=128,l=null):(ou(),y=d.fallback,Q=l.mode,d=em({mode:"visible",children:d.children},Q),y=vo(y,Q,h,null),y.flags|=2,d.return=l,y.return=l,d.sibling=y,l.child=d,bf(l,a.child,null,h),d=l.child,d.memoizedState=uv(h),d.childLanes=hv(a,M,h),l.memoizedState=cv,l=y);else if(au(l),Yv(Q)){if(M=Q.nextSibling&&Q.nextSibling.dataset,M)var Pt=M.dgst;M=Pt,d=Error(i(419)),d.stack="",d.digest=M,Zc({value:d,source:null,stack:null}),l=dv(a,l,h)}else if(Tr||tu(a,l,h,!1),M=(h&a.childLanes)!==0,Tr||M){if(M=ei,M!==null&&(d=h&-h,d=(d&42)!==0?1:Hr(d),d=(d&(M.suspendedLanes|h))!==0?0:d,d!==0&&d!==ut.retryLane))throw ut.retryLane=d,mo(a,d),_a(M,a,d),C5;Q.data==="$?"||Lv(),l=dv(a,l,h)}else Q.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ut.treeContext,pi=Co(Q.nextSibling),Bi=l,wn=!0,ol=null,Ua=!1,a!==null&&(Bs[As++]=_o,Bs[As++]=bo,Bs[As++]=Zl,_o=a.id,bo=a.overflow,Zl=l),l=fv(l,d.children),l.flags|=4096);return l}return y?(ou(),y=d.fallback,Q=l.mode,ut=a.child,Pt=ut.sibling,d=Ba(ut,{mode:"hidden",children:d.children}),d.subtreeFlags=ut.subtreeFlags&65011712,Pt!==null?y=Ba(Pt,y):(y=vo(y,Q,h,null),y.flags|=2),y.return=l,d.return=l,d.sibling=y,l.child=d,d=y,y=l.child,Q=a.child.memoizedState,Q===null?Q=uv(h):(ut=Q.cachePool,ut!==null?(Pt=zi._currentValue,ut=ut.parent!==Pt?{parent:Pt,pool:Pt}:ut):ut=U(),Q={baseLanes:Q.baseLanes|h,cachePool:ut}),y.memoizedState=Q,y.childLanes=hv(a,M,h),l.memoizedState=cv,d):(au(l),h=a.child,a=h.sibling,h=Ba(h,{mode:"visible",children:d.children}),h.return=l,h.sibling=null,a!==null&&(M=l.deletions,M===null?(l.deletions=[a],l.flags|=16):M.push(a)),l.child=h,l.memoizedState=null,h)}function fv(a,l){return l=em({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function em(a,l){return a=Ar(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function dv(a,l,h){return bf(l,a.child,null,h),a=fv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function V5(a,l,h){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),cf(a.return,l,h)}function pv(a,l,h,d,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=h,S.tailMode=y)}function B5(a,l,h){var d=l.pendingProps,y=d.revealOrder,S=d.tail;if(Or(a,l,d.children,h),d=dr.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&V5(a,h,l);else if(a.tag===19)V5(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(Y(dr,d),y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&Qg(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),pv(l,!1,y,h,S);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Qg(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}pv(l,!0,h,null,S);break;case"together":pv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function lc(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),fu|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(tu(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=Ba(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ba(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function gv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&hf(a)))}function uC(a,l,h){switch(l.tag){case 3:Et(l,l.stateNode.containerInfo),ll(l,zi,a.memoizedState.cache),Ts();break;case 27:case 5:Jt(l);break;case 4:Et(l,l.stateNode.containerInfo);break;case 10:ll(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(au(l),l.flags|=128,null):(h&l.child.childLanes)!==0?F5(a,l,h):(au(l),a=lc(a,l,h),a!==null?a.sibling:null);au(l);break;case 19:var y=(a.flags&128)!==0;if(d=(h&l.childLanes)!==0,d||(tu(a,l,h,!1),d=(h&l.childLanes)!==0),y){if(d)return B5(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(dr,dr.current),d)break;return null;case 22:case 23:return l.lanes=0,k5(a,l,h);case 24:ll(l,zi,a.memoizedState.cache)}return lc(a,l,h)}function U5(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Tr=!0;else{if(!gv(a,h)&&(l.flags&128)===0)return Tr=!1,uC(a,l,h);Tr=(a.flags&131072)!==0}else Tr=!1,wn&&(l.flags&1048576)!==0&&Lg(l,lf,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var d=l.elementType,y=d._init;if(d=y(d._payload),l.type=d,typeof d=="function")Qc(d)?(a=wh(d,a),l.tag=1,l=M5(null,l,d,a,h)):(l.tag=0,l=lv(null,l,d,a,h));else{if(d!=null){if(y=d.$$typeof,y===nt){l.tag=11,l=R5(null,l,d,a,h);break t}else if(y===q){l.tag=14,l=L5(null,l,d,a,h);break t}}throw l=tt(d)||d,Error(i(306,l,""))}}return l;case 0:return lv(a,l,l.type,l.pendingProps,h);case 1:return d=l.type,y=wh(d,l.pendingProps),M5(a,l,d,y,h);case 3:t:{if(Et(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var S=l.memoizedState;y=S.element,_t(a,l),re(l,d,null,h);var M=l.memoizedState;if(d=M.cache,ll(l,zi,d),d!==S.cache&&uf(l,[zi],h,!0),we(),d=M.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=j5(a,l,d,h);break t}else if(d!==y){y=Ze(Error(i(424)),l),Zc(y),l=j5(a,l,d,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pi=Co(a.firstChild),Bi=l,wn=!0,ol=null,Ua=!0,h=_5(l,null,d,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ts(),d===y){l=lc(a,l,h);break t}Or(a,l,d,h)}l=l.child}return l;case 26:return tm(a,l),a===null?(h=Gw(l.type,null,l.pendingProps,null))?l.memoizedState=h:wn||(h=l.type,a=l.pendingProps,d=gm(ct.current).createElement(h),d[Rn]=l,d[Ln]=a,jr(d,h,a),Sn(d),l.stateNode=d):l.memoizedState=Gw(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Jt(l),a===null&&wn&&(d=l.stateNode=zw(l.type,l.pendingProps,ct.current),Bi=l,Ua=!0,y=pi,mu(l.type)?(Kv=y,pi=Co(d.firstChild)):pi=y),Or(a,l,l.pendingProps.children,h),tm(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&wn&&((y=d=pi)&&(d=FC(d,l.type,l.pendingProps,Ua),d!==null?(l.stateNode=d,Bi=l,pi=Co(d.firstChild),Ua=!1,y=!0):y=!1),y||ec(l)),Jt(l),y=l.type,S=l.pendingProps,M=a!==null?a.memoizedProps:null,d=S.children,Gv(y,S)?d=null:M!==null&&Gv(y,M)&&(l.flags|=32),l.memoizedState!==null&&(y=da(a,l,hl,null,null,h),sp._currentValue=y),tm(a,l),Or(a,l,d,h),l.child;case 6:return a===null&&wn&&((a=h=pi)&&(h=VC(h,l.pendingProps,Ua),h!==null?(l.stateNode=h,Bi=l,pi=null,a=!0):a=!1),a||ec(l)),null;case 13:return F5(a,l,h);case 4:return Et(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=bf(l,null,d,h):Or(a,l,d,h),l.child;case 11:return R5(a,l,l.type,l.pendingProps,h);case 7:return Or(a,l,l.pendingProps,h),l.child;case 8:return Or(a,l,l.pendingProps.children,h),l.child;case 12:return Or(a,l,l.pendingProps.children,h),l.child;case 10:return d=l.pendingProps,ll(l,l.type,d.value),Or(a,l,d.children,h),l.child;case 9:return y=l.type._context,d=l.pendingProps.children,Ha(l),y=Ui(y),d=d(y),l.flags|=1,Or(a,l,d,h),l.child;case 14:return L5(a,l,l.type,l.pendingProps,h);case 15:return P5(a,l,l.type,l.pendingProps,h);case 19:return B5(a,l,h);case 31:return d=l.pendingProps,h=l.mode,d={mode:d.mode,children:d.children},a===null?(h=em(d,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Ba(a.child,d),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return k5(a,l,h);case 24:return Ha(l),d=Ui(zi),a===null?(y=T(),y===null&&(y=ei,S=Id(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=h),y=S),l.memoizedState={parent:d,cache:y},vt(l),ll(l,zi,y)):((a.lanes&h)!==0&&(_t(a,l),re(l,null,null,h),we()),y=a.memoizedState,S=l.memoizedState,y.parent!==d?(y={parent:d,cache:d},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ll(l,zi,d)):(d=S.cache,ll(l,zi,d),d!==y.cache&&uf(l,[zi],h,!0))),Or(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function cc(a){a.flags|=4}function z5(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Xw(l)){if(l=Wa.current,l!==null&&((_n&4194048)===_n?pl!==null:(_n&62914560)!==_n&&(_n&536870912)===0||l!==pl))throw It=Z,W;a.flags|=8192}}function nm(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Hn():536870912,a.lanes|=l,Tf|=l)}function Hd(a,l){if(!wn)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function bi(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=h,l}function hC(a,l,h){var d=l.pendingProps;switch(lh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(l),null;case 1:return bi(l),null;case 3:return h=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),qa(zi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(kr(l)?cc(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kg())),bi(l),null;case 26:return h=l.memoizedState,a===null?(cc(l),h!==null?(bi(l),z5(l,h)):(bi(l),l.flags&=-16777217)):h?h!==a.memoizedState?(cc(l),bi(l),z5(l,h)):(bi(l),l.flags&=-16777217):(a.memoizedProps!==d&&cc(l),bi(l),l.flags&=-16777217),null;case 27:Xt(l),h=ct.current;var y=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&cc(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return bi(l),null}a=et.current,kr(l)?Pg(l):(a=zw(y,d,h),l.stateNode=a,cc(l))}return bi(l),null;case 5:if(Xt(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&cc(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return bi(l),null}if(a=et.current,kr(l))Pg(l);else{switch(y=gm(ct.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?y.createElement(h,{is:d.is}):y.createElement(h)}}a[Rn]=l,a[Ln]=d;t:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break t;for(;y.sibling===null;){if(y.return===null||y.return===l)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=a;t:switch(jr(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&cc(l)}}return bi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&cc(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=ct.current,kr(l)){if(a=l.stateNode,h=l.memoizedProps,d=null,y=Bi,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[Rn]=l,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||Ow(a.nodeValue,h)),a||ec(l)}else a=gm(a).createTextNode(d),a[Rn]=l,l.stateNode=a}return bi(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=kr(l),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Rn]=l}else Ts(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;bi(l),y=!1}else y=kg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(oc(l),l):(oc(l),null)}if(oc(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=l.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==y&&(d.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),nm(l,l.updateQueue),bi(l),null;case 4:return kt(),a===null&&Bv(l.stateNode.containerInfo),bi(l),null;case 10:return qa(l.type),bi(l),null;case 19:if(F(dr),y=l.memoizedState,y===null)return bi(l),null;if(d=(l.flags&128)!==0,S=y.rendering,S===null)if(d)Hd(y,!1);else{if(Ri!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=Qg(a),S!==null){for(l.flags|=128,Hd(y,!1),a=S.updateQueue,l.updateQueue=a,nm(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)sh(h,a),h=h.sibling;return Y(dr,dr.current&1|2),l.child}a=a.sibling}y.tail!==null&&Te()>sm&&(l.flags|=128,d=!0,Hd(y,!1),l.lanes=4194304)}else{if(!d)if(a=Qg(S),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,nm(l,a),Hd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!wn)return bi(l),null}else 2*Te()-y.renderingStartTime>sm&&h!==536870912&&(l.flags|=128,d=!0,Hd(y,!1),l.lanes=4194304);y.isBackwards?(S.sibling=l.child,l.child=S):(a=y.last,a!==null?a.sibling=S:l.child=S,y.last=S)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Te(),l.sibling=null,a=dr.current,Y(dr,d?a&1|2:a&1),l):(bi(l),null);case 22:case 23:return oc(l),Ue(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(h&536870912)!==0&&(l.flags&128)===0&&(bi(l),l.subtreeFlags&6&&(l.flags|=8192)):bi(l),h=l.updateQueue,h!==null&&nm(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048),a!==null&&F(w),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),qa(zi),bi(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function fC(a,l){switch(lh(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return qa(zi),kt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Xt(l),null;case 13:if(oc(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Ts()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return F(dr),null;case 4:return kt(),null;case 10:return qa(l.type),null;case 22:case 23:return oc(l),Ue(),a!==null&&F(w),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return qa(zi),null;case 25:return null;default:return null}}function q5(a,l){switch(lh(l),l.tag){case 3:qa(zi),kt();break;case 26:case 27:case 5:Xt(l);break;case 4:kt();break;case 13:oc(l);break;case 19:F(dr);break;case 10:qa(l.type);break;case 22:case 23:oc(l),Ue(),a!==null&&F(w);break;case 24:qa(zi)}}function Gd(a,l){try{var h=l.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var y=d.next;h=y;do{if((h.tag&a)===a){d=void 0;var S=h.create,M=h.inst;d=S(),M.destroy=d}h=h.next}while(h!==y)}}catch(Q){Jn(l,l.return,Q)}}function lu(a,l,h){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var S=y.next;d=S;do{if((d.tag&a)===a){var M=d.inst,Q=M.destroy;if(Q!==void 0){M.destroy=void 0,y=l;var ut=h,Pt=Q;try{Pt()}catch(Bt){Jn(y,ut,Bt)}}}d=d.next}while(d!==S)}}catch(Bt){Jn(l,l.return,Bt)}}function H5(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{xn(l,h)}catch(d){Jn(a,a.return,d)}}}function G5(a,l,h){h.props=wh(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){Jn(a,l,d)}}function Wd(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(y){Jn(a,l,y)}}function gl(a,l){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(y){Jn(a,l,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){Jn(a,l,y)}else h.current=null}function W5(a){var l=a.type,h=a.memoizedProps,d=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break t;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(y){Jn(a,a.return,y)}}function mv(a,l,h){try{var d=a.stateNode;kC(d,a.type,h,l),d[Ln]=l}catch(y){Jn(a,a.return,y)}}function $5(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&mu(a.type)||a.tag===4}function vv(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||$5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&mu(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yv(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=pm));else if(d!==4&&(d===27&&mu(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(yv(a,l,h),a=a.sibling;a!==null;)yv(a,l,h),a=a.sibling}function im(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(d!==4&&(d===27&&mu(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(im(a,l,h),a=a.sibling;a!==null;)im(a,l,h),a=a.sibling}function Y5(a){var l=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);jr(l,d,h),l[Rn]=a,l[Ln]=h}catch(S){Jn(a,a.return,S)}}var uc=!1,Hi=!1,_v=!1,K5=typeof WeakSet=="function"?WeakSet:Set,xr=null;function dC(a,l){if(a=a.containerInfo,qv=wm,a=Pr(a),fr(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var y=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break t}var M=0,Q=-1,ut=-1,Pt=0,Bt=0,Wt=a,Dt=null;e:for(;;){for(var Ot;Wt!==h||y!==0&&Wt.nodeType!==3||(Q=M+y),Wt!==S||d!==0&&Wt.nodeType!==3||(ut=M+d),Wt.nodeType===3&&(M+=Wt.nodeValue.length),(Ot=Wt.firstChild)!==null;)Dt=Wt,Wt=Ot;for(;;){if(Wt===a)break e;if(Dt===h&&++Pt===y&&(Q=M),Dt===S&&++Bt===d&&(ut=M),(Ot=Wt.nextSibling)!==null)break;Wt=Dt,Dt=Wt.parentNode}Wt=Ot}h=Q===-1||ut===-1?null:{start:Q,end:ut}}else h=null}h=h||{start:0,end:0}}else h=null;for(Hv={focusedElem:a,selectionRange:h},wm=!1,xr=l;xr!==null;)if(l=xr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,xr=a;else for(;xr!==null;){switch(l=xr,S=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=l,y=S.memoizedProps,S=S.memoizedState,d=h.stateNode;try{var Fe=wh(h.type,y,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(Fe,S),d.__reactInternalSnapshotBeforeUpdate=a}catch(Re){Jn(h,h.return,Re)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)$v(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":$v(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,xr=a;break}xr=l.return}}function X5(a,l,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:cu(a,h),d&4&&Gd(5,h);break;case 1:if(cu(a,h),d&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(M){Jn(h,h.return,M)}else{var y=wh(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(y,l,a.__reactInternalSnapshotBeforeUpdate)}catch(M){Jn(h,h.return,M)}}d&64&&H5(h),d&512&&Wd(h,h.return);break;case 3:if(cu(a,h),d&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{xn(a,l)}catch(M){Jn(h,h.return,M)}}break;case 27:l===null&&d&4&&Y5(h);case 26:case 5:cu(a,h),l===null&&d&4&&W5(h),d&512&&Wd(h,h.return);break;case 12:cu(a,h);break;case 13:cu(a,h),d&4&&Z5(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=SC.bind(null,h),BC(a,h))));break;case 22:if(d=h.memoizedState!==null||uc,!d){l=l!==null&&l.memoizedState!==null||Hi,y=uc;var S=Hi;uc=d,(Hi=l)&&!S?uu(a,h,(h.subtreeFlags&8772)!==0):cu(a,h),uc=y,Hi=S}break;case 30:break;default:cu(a,h)}}function Q5(a){var l=a.alternate;l!==null&&(a.alternate=null,Q5(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Xi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gi=null,zs=!1;function hc(a,l,h){for(h=h.child;h!==null;)J5(a,l,h),h=h.sibling}function J5(a,l,h){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(be,h)}catch{}switch(h.tag){case 26:Hi||gl(h,l),hc(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Hi||gl(h,l);var d=gi,y=zs;mu(h.type)&&(gi=h.stateNode,zs=!1),hc(a,l,h),ep(h.stateNode),gi=d,zs=y;break;case 5:Hi||gl(h,l);case 6:if(d=gi,y=zs,gi=null,hc(a,l,h),gi=d,zs=y,gi!==null)if(zs)try{(gi.nodeType===9?gi.body:gi.nodeName==="HTML"?gi.ownerDocument.body:gi).removeChild(h.stateNode)}catch(S){Jn(h,l,S)}else try{gi.removeChild(h.stateNode)}catch(S){Jn(h,l,S)}break;case 18:gi!==null&&(zs?(a=gi,Bw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),cp(a)):Bw(gi,h.stateNode));break;case 4:d=gi,y=zs,gi=h.stateNode.containerInfo,zs=!0,hc(a,l,h),gi=d,zs=y;break;case 0:case 11:case 14:case 15:Hi||lu(2,h,l),Hi||lu(4,h,l),hc(a,l,h);break;case 1:Hi||(gl(h,l),d=h.stateNode,typeof d.componentWillUnmount=="function"&&G5(h,l,d)),hc(a,l,h);break;case 21:hc(a,l,h);break;case 22:Hi=(d=Hi)||h.memoizedState!==null,hc(a,l,h),Hi=d;break;default:hc(a,l,h)}}function Z5(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{cp(a)}catch(h){Jn(l,l.return,h)}}function pC(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new K5),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new K5),l;default:throw Error(i(435,a.tag))}}function bv(a,l){var h=pC(a);l.forEach(function(d){var y=AC.bind(null,a,d);h.has(d)||(h.add(d),d.then(y,y))})}function ga(a,l){var h=l.deletions;if(h!==null)for(var d=0;d<h.length;d++){var y=h[d],S=a,M=l,Q=M;t:for(;Q!==null;){switch(Q.tag){case 27:if(mu(Q.type)){gi=Q.stateNode,zs=!1;break t}break;case 5:gi=Q.stateNode,zs=!1;break t;case 3:case 4:gi=Q.stateNode.containerInfo,zs=!0;break t}Q=Q.return}if(gi===null)throw Error(i(160));J5(S,M,y),gi=null,zs=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)tw(l,a),l=l.sibling}var Io=null;function tw(a,l){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ga(l,a),ma(a),d&4&&(lu(3,a,a.return),Gd(3,a),lu(5,a,a.return));break;case 1:ga(l,a),ma(a),d&512&&(Hi||h===null||gl(h,h.return)),d&64&&uc&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var y=Io;if(ga(l,a),ma(a),d&512&&(Hi||h===null||gl(h,h.return)),d&4){var S=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){t:{d=a.type,h=a.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Rr]||S[Rn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(d),y.head.insertBefore(S,y.querySelector("head > title"))),jr(S,d,h),S[Rn]=a,Sn(S),d=S;break t;case"link":var M=Yw("link","href",y).get(d+(h.href||""));if(M){for(var Q=0;Q<M.length;Q++)if(S=M[Q],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(Q,1);break e}}S=y.createElement(d),jr(S,d,h),y.head.appendChild(S);break;case"meta":if(M=Yw("meta","content",y).get(d+(h.content||""))){for(Q=0;Q<M.length;Q++)if(S=M[Q],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(Q,1);break e}}S=y.createElement(d),jr(S,d,h),y.head.appendChild(S);break;default:throw Error(i(468,d))}S[Rn]=a,Sn(S),d=S}a.stateNode=d}else Kw(y,a.type,a.stateNode);else a.stateNode=$w(y,d,a.memoizedProps);else S!==d?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,d===null?Kw(y,a.type,a.stateNode):$w(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&mv(a,a.memoizedProps,h.memoizedProps)}break;case 27:ga(l,a),ma(a),d&512&&(Hi||h===null||gl(h,h.return)),h!==null&&d&4&&mv(a,a.memoizedProps,h.memoizedProps);break;case 5:if(ga(l,a),ma(a),d&512&&(Hi||h===null||gl(h,h.return)),a.flags&32){y=a.stateNode;try{Wr(y,"")}catch(Ot){Jn(a,a.return,Ot)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,mv(a,y,h!==null?h.memoizedProps:y)),d&1024&&(_v=!0);break;case 6:if(ga(l,a),ma(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(Ot){Jn(a,a.return,Ot)}}break;case 3:if(ym=null,y=Io,Io=mm(l.containerInfo),ga(l,a),Io=y,ma(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{cp(l.containerInfo)}catch(Ot){Jn(a,a.return,Ot)}_v&&(_v=!1,ew(a));break;case 4:d=Io,Io=mm(a.stateNode.containerInfo),ga(l,a),ma(a),Io=d;break;case 12:ga(l,a),ma(a);break;case 13:ga(l,a),ma(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ev=Te()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,bv(a,d)));break;case 22:y=a.memoizedState!==null;var ut=h!==null&&h.memoizedState!==null,Pt=uc,Bt=Hi;if(uc=Pt||y,Hi=Bt||ut,ga(l,a),Hi=Bt,uc=Pt,ma(a),d&8192)t:for(l=a.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(h===null||ut||uc||Hi||Sh(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ut=h=l;try{if(S=ut.stateNode,y)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{Q=ut.stateNode;var Wt=ut.memoizedProps.style,Dt=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null;Q.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(Ot){Jn(ut,ut.return,Ot)}}}else if(l.tag===6){if(h===null){ut=l;try{ut.stateNode.nodeValue=y?"":ut.memoizedProps}catch(Ot){Jn(ut,ut.return,Ot)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,bv(a,h))));break;case 19:ga(l,a),ma(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,bv(a,d)));break;case 30:break;case 21:break;default:ga(l,a),ma(a)}}function ma(a){var l=a.flags;if(l&2){try{for(var h,d=a.return;d!==null;){if($5(d)){h=d;break}d=d.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var y=h.stateNode,S=vv(a);im(a,S,y);break;case 5:var M=h.stateNode;h.flags&32&&(Wr(M,""),h.flags&=-33);var Q=vv(a);im(a,Q,M);break;case 3:case 4:var ut=h.stateNode.containerInfo,Pt=vv(a);yv(a,Pt,ut);break;default:throw Error(i(161))}}catch(Bt){Jn(a,a.return,Bt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ew(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;ew(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function cu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)X5(a,l.alternate,l),l=l.sibling}function Sh(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:lu(4,l,l.return),Sh(l);break;case 1:gl(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&G5(l,l.return,h),Sh(l);break;case 27:ep(l.stateNode);case 26:case 5:gl(l,l.return),Sh(l);break;case 22:l.memoizedState===null&&Sh(l);break;case 30:Sh(l);break;default:Sh(l)}a=a.sibling}}function uu(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,y=a,S=l,M=S.flags;switch(S.tag){case 0:case 11:case 15:uu(y,S,h),Gd(4,S);break;case 1:if(uu(y,S,h),d=S,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Pt){Jn(d,d.return,Pt)}if(d=S,y=d.updateQueue,y!==null){var Q=d.stateNode;try{var ut=y.shared.hiddenCallbacks;if(ut!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ut.length;y++)vn(ut[y],Q)}catch(Pt){Jn(d,d.return,Pt)}}h&&M&64&&H5(S),Wd(S,S.return);break;case 27:Y5(S);case 26:case 5:uu(y,S,h),h&&d===null&&M&4&&W5(S),Wd(S,S.return);break;case 12:uu(y,S,h);break;case 13:uu(y,S,h),h&&M&4&&Z5(y,S);break;case 22:S.memoizedState===null&&uu(y,S,h),Wd(S,S.return);break;case 30:break;default:uu(y,S,h)}l=l.sibling}}function wv(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&ch(h))}function Sv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ch(a))}function ml(a,l,h,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)nw(a,l,h,d),l=l.sibling}function nw(a,l,h,d){var y=l.flags;switch(l.tag){case 0:case 11:case 15:ml(a,l,h,d),y&2048&&Gd(9,l);break;case 1:ml(a,l,h,d);break;case 3:ml(a,l,h,d),y&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ch(a)));break;case 12:if(y&2048){ml(a,l,h,d),a=l.stateNode;try{var S=l.memoizedProps,M=S.id,Q=S.onPostCommit;typeof Q=="function"&&Q(M,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ut){Jn(l,l.return,ut)}}else ml(a,l,h,d);break;case 13:ml(a,l,h,d);break;case 23:break;case 22:S=l.stateNode,M=l.alternate,l.memoizedState!==null?S._visibility&2?ml(a,l,h,d):$d(a,l):S._visibility&2?ml(a,l,h,d):(S._visibility|=2,wf(a,l,h,d,(l.subtreeFlags&10256)!==0)),y&2048&&wv(M,l);break;case 24:ml(a,l,h,d),y&2048&&Sv(l.alternate,l);break;default:ml(a,l,h,d)}}function wf(a,l,h,d,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=a,M=l,Q=h,ut=d,Pt=M.flags;switch(M.tag){case 0:case 11:case 15:wf(S,M,Q,ut,y),Gd(8,M);break;case 23:break;case 22:var Bt=M.stateNode;M.memoizedState!==null?Bt._visibility&2?wf(S,M,Q,ut,y):$d(S,M):(Bt._visibility|=2,wf(S,M,Q,ut,y)),y&&Pt&2048&&wv(M.alternate,M);break;case 24:wf(S,M,Q,ut,y),y&&Pt&2048&&Sv(M.alternate,M);break;default:wf(S,M,Q,ut,y)}l=l.sibling}}function $d(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,d=l,y=d.flags;switch(d.tag){case 22:$d(h,d),y&2048&&wv(d.alternate,d);break;case 24:$d(h,d),y&2048&&Sv(d.alternate,d);break;default:$d(h,d)}l=l.sibling}}var Yd=8192;function Sf(a){if(a.subtreeFlags&Yd)for(a=a.child;a!==null;)iw(a),a=a.sibling}function iw(a){switch(a.tag){case 26:Sf(a),a.flags&Yd&&a.memoizedState!==null&&ZC(Io,a.memoizedState,a.memoizedProps);break;case 5:Sf(a);break;case 3:case 4:var l=Io;Io=mm(a.stateNode.containerInfo),Sf(a),Io=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Yd,Yd=16777216,Sf(a),Yd=l):Sf(a));break;default:Sf(a)}}function rw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Kd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];xr=d,aw(d,a)}rw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sw(a),a=a.sibling}function sw(a){switch(a.tag){case 0:case 11:case 15:Kd(a),a.flags&2048&&lu(9,a,a.return);break;case 3:Kd(a);break;case 12:Kd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,rm(a)):Kd(a);break;default:Kd(a)}}function rm(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];xr=d,aw(d,a)}rw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:lu(8,l,l.return),rm(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,rm(l));break;default:rm(l)}a=a.sibling}}function aw(a,l){for(;xr!==null;){var h=xr;switch(h.tag){case 0:case 11:case 15:lu(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ch(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,xr=d;else t:for(h=a;xr!==null;){d=xr;var y=d.sibling,S=d.return;if(Q5(d),d===h){xr=null;break t}if(y!==null){y.return=S,xr=y;break t}xr=S}}}var gC={getCacheForType:function(a){var l=Ui(zi),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},mC=typeof WeakMap=="function"?WeakMap:Map,Vn=0,ei=null,an=null,_n=0,Bn=0,va=null,hu=!1,Af=!1,Av=!1,fc=0,Ri=0,fu=0,Ah=0,Tv=0,$a=0,Tf=0,Xd=null,qs=null,xv=!1,Ev=0,sm=1/0,am=null,du=null,Mr=0,pu=null,xf=null,Ef=0,Nv=0,Iv=null,ow=null,Qd=0,Cv=null;function ya(){if((Vn&2)!==0&&_n!==0)return _n&-_n;if(rt.T!==null){var a=nc;return a!==0?a:Mv()}return lr()}function lw(){$a===0&&($a=(_n&536870912)===0||wn?Js():536870912);var a=Wa.current;return a!==null&&(a.flags|=32),$a}function _a(a,l,h){(a===ei&&(Bn===2||Bn===9)||a.cancelPendingCommit!==null)&&(Nf(a,0),gu(a,_n,$a,!1)),or(a,h),((Vn&2)===0||a!==ei)&&(a===ei&&((Vn&2)===0&&(Ah|=h),Ri===4&&gu(a,_n,$a,!1)),vl(a))}function cw(a,l,h){if((Vn&6)!==0)throw Error(i(327));var d=!h&&(l&124)===0&&(l&a.expiredLanes)===0||vr(a,l),y=d?_C(a,l):Pv(a,l,!0),S=d;do{if(y===0){Af&&!d&&gu(a,l,0,!1);break}else{if(h=a.current.alternate,S&&!vC(h)){y=Pv(a,l,!1),S=!1;continue}if(y===2){if(S=l,a.errorRecoveryDisabledLanes&S)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;t:{var Q=a;y=Xd;var ut=Q.current.memoizedState.isDehydrated;if(ut&&(Nf(Q,M).flags|=256),M=Pv(Q,M,!1),M!==2){if(Av&&!ut){Q.errorRecoveryDisabledLanes|=S,Ah|=S,y=4;break t}S=qs,qs=y,S!==null&&(qs===null?qs=S:qs.push.apply(qs,S))}y=M}if(S=!1,y!==2)continue}}if(y===1){Nf(a,0),gu(a,l,0,!0);break}t:{switch(d=a,S=y,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:gu(d,l,$a,!hu);break t;case 2:qs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(y=Ev+300-Te(),10<y)){if(gu(d,l,$a,!hu),Cn(d,0,!0)!==0)break t;d.timeoutHandle=Fw(uw.bind(null,d,h,qs,am,xv,l,$a,Ah,Tf,hu,S,2,-0,0),y);break t}uw(d,h,qs,am,xv,l,$a,Ah,Tf,hu,S,0,-0,0)}}break}while(!0);vl(a)}function uw(a,l,h,d,y,S,M,Q,ut,Pt,Bt,Wt,Dt,Ot){if(a.timeoutHandle=-1,Wt=l.subtreeFlags,(Wt&8192||(Wt&16785408)===16785408)&&(rp={stylesheets:null,count:0,unsuspend:JC},iw(l),Wt=tR(),Wt!==null)){a.cancelPendingCommit=Wt(vw.bind(null,a,l,S,h,d,y,M,Q,ut,Bt,1,Dt,Ot)),gu(a,S,M,!Pt);return}vw(a,l,S,h,d,y,M,Q,ut)}function vC(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var y=h[d],S=y.getSnapshot;y=y.value;try{if(!Ji(S(),y))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function gu(a,l,h,d){l&=~Tv,l&=~Ah,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var y=l;0<y;){var S=31-de(y),M=1<<S;d[S]=-1,y&=~M}h!==0&&xe(a,h,l)}function om(){return(Vn&6)===0?(Jd(0),!1):!0}function Rv(){if(an!==null){if(Bn===0)var a=an.return;else a=an,So=tr=null,df(a),_f=null,zd=0,a=an;for(;a!==null;)q5(a.alternate,a),a=a.return;an=null}}function Nf(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,OC(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Rv(),ei=a,an=h=Ba(a.current,null),_n=l,Bn=0,va=null,hu=!1,Af=vr(a,l),Av=!1,Tf=$a=Tv=Ah=fu=Ri=0,qs=Xd=null,xv=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var y=31-de(d),S=1<<y;l|=a[y],d&=~S}return fc=l,Fs(),h}function hw(a,l){Ne=null,rt.H=Yg,l===G||l===K?(l=St(),Bn=3):l===W?(l=St(),Bn=4):Bn=l===C5?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,va=l,an===null&&(Ri=1,Zg(a,Ze(l,a.current)))}function fw(){var a=rt.H;return rt.H=Yg,a===null?Yg:a}function dw(){var a=rt.A;return rt.A=gC,a}function Lv(){Ri=4,hu||(_n&4194048)!==_n&&Wa.current!==null||(Af=!0),(fu&134217727)===0&&(Ah&134217727)===0||ei===null||gu(ei,_n,$a,!1)}function Pv(a,l,h){var d=Vn;Vn|=2;var y=fw(),S=dw();(ei!==a||_n!==l)&&(am=null,Nf(a,l)),l=!1;var M=Ri;t:do try{if(Bn!==0&&an!==null){var Q=an,ut=va;switch(Bn){case 8:Rv(),M=6;break t;case 3:case 2:case 9:case 6:Wa.current===null&&(l=!0);var Pt=Bn;if(Bn=0,va=null,If(a,Q,ut,Pt),h&&Af){M=0;break t}break;default:Pt=Bn,Bn=0,va=null,If(a,Q,ut,Pt)}}yC(),M=Ri;break}catch(Bt){hw(a,Bt)}while(!0);return l&&a.shellSuspendCounter++,So=tr=null,Vn=d,rt.H=y,rt.A=S,an===null&&(ei=null,_n=0,Fs()),M}function yC(){for(;an!==null;)pw(an)}function _C(a,l){var h=Vn;Vn|=2;var d=fw(),y=dw();ei!==a||_n!==l?(am=null,sm=Te()+500,Nf(a,l)):Af=vr(a,l);t:do try{if(Bn!==0&&an!==null){l=an;var S=va;e:switch(Bn){case 1:Bn=0,va=null,If(a,l,S,1);break;case 2:case 9:if(st(S)){Bn=0,va=null,gw(l);break}l=function(){Bn!==2&&Bn!==9||ei!==a||(Bn=7),vl(a)},S.then(l,l);break t;case 3:Bn=7;break t;case 4:Bn=5;break t;case 7:st(S)?(Bn=0,va=null,gw(l)):(Bn=0,va=null,If(a,l,S,7));break;case 5:var M=null;switch(an.tag){case 26:M=an.memoizedState;case 5:case 27:var Q=an;if(!M||Xw(M)){Bn=0,va=null;var ut=Q.sibling;if(ut!==null)an=ut;else{var Pt=Q.return;Pt!==null?(an=Pt,lm(Pt)):an=null}break e}}Bn=0,va=null,If(a,l,S,5);break;case 6:Bn=0,va=null,If(a,l,S,6);break;case 8:Rv(),Ri=6;break t;default:throw Error(i(462))}}bC();break}catch(Bt){hw(a,Bt)}while(!0);return So=tr=null,rt.H=d,rt.A=y,Vn=h,an!==null?0:(ei=null,_n=0,Fs(),Ri)}function bC(){for(;an!==null&&!Ft();)pw(an)}function pw(a){var l=U5(a.alternate,a,fc);a.memoizedProps=a.pendingProps,l===null?lm(a):an=l}function gw(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=O5(h,l,l.pendingProps,l.type,void 0,_n);break;case 11:l=O5(h,l,l.pendingProps,l.type.render,l.ref,_n);break;case 5:df(l);default:q5(h,l),l=an=sh(l,fc),l=U5(h,l,fc)}a.memoizedProps=a.pendingProps,l===null?lm(a):an=l}function If(a,l,h,d){So=tr=null,df(l),_f=null,zd=0;var y=l.return;try{if(cC(a,y,l,h,_n)){Ri=1,Zg(a,Ze(h,a.current)),an=null;return}}catch(S){if(y!==null)throw an=y,S;Ri=1,Zg(a,Ze(h,a.current)),an=null;return}l.flags&32768?(wn||d===1?a=!0:Af||(_n&536870912)!==0?a=!1:(hu=a=!0,(d===2||d===9||d===3||d===6)&&(d=Wa.current,d!==null&&d.tag===13&&(d.flags|=16384))),mw(l,a)):lm(l)}function lm(a){var l=a;do{if((l.flags&32768)!==0){mw(l,hu);return}a=l.return;var h=hC(l.alternate,l,fc);if(h!==null){an=h;return}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);Ri===0&&(Ri=5)}function mw(a,l){do{var h=fC(a.alternate,a);if(h!==null){h.flags&=32767,an=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){an=a;return}an=a=h}while(a!==null);Ri=6,an=null}function vw(a,l,h,d,y,S,M,Q,ut){a.cancelPendingCommit=null;do cm();while(Mr!==0);if((Vn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(S=l.lanes|l.childLanes,S|=vi,Gn(a,h,S,M,Q,ut),a===ei&&(an=ei=null,_n=0),xf=l,pu=a,Ef=h,Nv=S,Iv=y,ow=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,TC(se,function(){return Sw(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=rt.T,rt.T=null,y=ht.p,ht.p=2,M=Vn,Vn|=4;try{dC(a,l,h)}finally{Vn=M,ht.p=y,rt.T=d}}Mr=1,yw(),_w(),bw()}}function yw(){if(Mr===1){Mr=0;var a=pu,l=xf,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null;var d=ht.p;ht.p=2;var y=Vn;Vn|=4;try{tw(l,a);var S=Hv,M=Pr(a.containerInfo),Q=S.focusedElem,ut=S.selectionRange;if(M!==Q&&Q&&Q.ownerDocument&&Jo(Q.ownerDocument.documentElement,Q)){if(ut!==null&&fr(Q)){var Pt=ut.start,Bt=ut.end;if(Bt===void 0&&(Bt=Pt),"selectionStart"in Q)Q.selectionStart=Pt,Q.selectionEnd=Math.min(Bt,Q.value.length);else{var Wt=Q.ownerDocument||document,Dt=Wt&&Wt.defaultView||window;if(Dt.getSelection){var Ot=Dt.getSelection(),Fe=Q.textContent.length,Re=Math.min(ut.start,Fe),Xn=ut.end===void 0?Re:Math.min(ut.end,Fe);!Ot.extend&&Re>Xn&&(M=Xn,Xn=Re,Re=M);var Tt=po(Q,Re),yt=po(Q,Xn);if(Tt&&yt&&(Ot.rangeCount!==1||Ot.anchorNode!==Tt.node||Ot.anchorOffset!==Tt.offset||Ot.focusNode!==yt.node||Ot.focusOffset!==yt.offset)){var Ct=Wt.createRange();Ct.setStart(Tt.node,Tt.offset),Ot.removeAllRanges(),Re>Xn?(Ot.addRange(Ct),Ot.extend(yt.node,yt.offset)):(Ct.setEnd(yt.node,yt.offset),Ot.addRange(Ct))}}}}for(Wt=[],Ot=Q;Ot=Ot.parentNode;)Ot.nodeType===1&&Wt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Wt.length;Q++){var zt=Wt[Q];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}wm=!!qv,Hv=qv=null}finally{Vn=y,ht.p=d,rt.T=h}}a.current=l,Mr=2}}function _w(){if(Mr===2){Mr=0;var a=pu,l=xf,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=rt.T,rt.T=null;var d=ht.p;ht.p=2;var y=Vn;Vn|=4;try{X5(a,l.alternate,l)}finally{Vn=y,ht.p=d,rt.T=h}}Mr=3}}function bw(){if(Mr===4||Mr===3){Mr=0,lt();var a=pu,l=xf,h=Ef,d=ow;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Mr=5:(Mr=0,xf=pu=null,ww(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(du=null),ui(h),l=l.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(be,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=rt.T,y=ht.p,ht.p=2,rt.T=null;try{for(var S=a.onRecoverableError,M=0;M<d.length;M++){var Q=d[M];S(Q.value,{componentStack:Q.stack})}}finally{rt.T=l,ht.p=y}}(Ef&3)!==0&&cm(),vl(a),y=a.pendingLanes,(h&4194090)!==0&&(y&42)!==0?a===Cv?Qd++:(Qd=0,Cv=a):Qd=0,Jd(0)}}function ww(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ch(l)))}function cm(a){return yw(),_w(),bw(),Sw()}function Sw(){if(Mr!==5)return!1;var a=pu,l=Nv;Nv=0;var h=ui(Ef),d=rt.T,y=ht.p;try{ht.p=32>h?32:h,rt.T=null,h=Iv,Iv=null;var S=pu,M=Ef;if(Mr=0,xf=pu=null,Ef=0,(Vn&6)!==0)throw Error(i(331));var Q=Vn;if(Vn|=4,sw(S.current),nw(S,S.current,M,h),Vn=Q,Jd(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(be,S)}catch{}return!0}finally{ht.p=y,rt.T=d,ww(a,l)}}function Aw(a,l,h){l=Ze(h,l),l=ov(a.stateNode,l,2),a=Ht(a,l,2),a!==null&&(or(a,2),vl(a))}function Jn(a,l,h){if(a.tag===3)Aw(a,a,h);else for(;l!==null;){if(l.tag===3){Aw(l,a,h);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(du===null||!du.has(d))){a=Ze(h,a),h=N5(2),d=Ht(l,h,2),d!==null&&(I5(h,d,l,a),or(d,2),vl(d));break}}l=l.return}}function kv(a,l,h){var d=a.pingCache;if(d===null){d=a.pingCache=new mC;var y=new Set;d.set(l,y)}else y=d.get(l),y===void 0&&(y=new Set,d.set(l,y));y.has(h)||(Av=!0,y.add(h),a=wC.bind(null,a,l,h),l.then(a,a))}function wC(a,l,h){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,ei===a&&(_n&h)===h&&(Ri===4||Ri===3&&(_n&62914560)===_n&&300>Te()-Ev?(Vn&2)===0&&Nf(a,0):Tv|=h,Tf===_n&&(Tf=0)),vl(a)}function Tw(a,l){l===0&&(l=Hn()),a=mo(a,l),a!==null&&(or(a,l),vl(a))}function SC(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Tw(a,h)}function AC(a,l){var h=0;switch(a.tag){case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),Tw(a,h)}function TC(a,l){return te(a,l)}var um=null,Cf=null,Dv=!1,hm=!1,Ov=!1,Th=0;function vl(a){a!==Cf&&a.next===null&&(Cf===null?um=Cf=a:Cf=Cf.next=a),hm=!0,Dv||(Dv=!0,EC())}function Jd(a,l){if(!Ov&&hm){Ov=!0;do for(var h=!1,d=um;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var S=0;else{var M=d.suspendedLanes,Q=d.pingedLanes;S=(1<<31-de(42|a)+1)-1,S&=y&~(M&~Q),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,Iw(d,S))}else S=_n,S=Cn(d,d===ei?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||vr(d,S)||(h=!0,Iw(d,S));d=d.next}while(h);Ov=!1}}function xC(){xw()}function xw(){hm=Dv=!1;var a=0;Th!==0&&(DC()&&(a=Th),Th=0);for(var l=Te(),h=null,d=um;d!==null;){var y=d.next,S=Ew(d,l);S===0?(d.next=null,h===null?um=y:h.next=y,y===null&&(Cf=h)):(h=d,(a!==0||(S&3)!==0)&&(hm=!0)),d=y}Jd(a)}function Ew(a,l){for(var h=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var M=31-de(S),Q=1<<M,ut=y[M];ut===-1?((Q&h)===0||(Q&d)!==0)&&(y[M]=cn(Q,l)):ut<=l&&(a.expiredLanes|=Q),S&=~Q}if(l=ei,h=_n,h=Cn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===l&&(Bn===2||Bn===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Se(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||vr(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(d!==null&&Se(d),ui(h)){case 2:case 8:h=Zt;break;case 32:h=se;break;case 268435456:h=_e;break;default:h=se}return d=Nw.bind(null,a),h=te(h,d),a.callbackPriority=l,a.callbackNode=h,l}return d!==null&&d!==null&&Se(d),a.callbackPriority=2,a.callbackNode=null,2}function Nw(a,l){if(Mr!==0&&Mr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(cm()&&a.callbackNode!==h)return null;var d=_n;return d=Cn(a,a===ei?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(cw(a,d,l),Ew(a,Te()),a.callbackNode!=null&&a.callbackNode===h?Nw.bind(null,a):null)}function Iw(a,l){if(cm())return null;cw(a,l,!0)}function EC(){MC(function(){(Vn&6)!==0?te(Qt,xC):xw()})}function Mv(){return Th===0&&(Th=Js()),Th}function Cw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sa(""+a)}function Rw(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function NC(a,l,h,d,y){if(l==="submit"&&h&&h.stateNode===y){var S=Cw((y[Ln]||null).action),M=d.submitter;M&&(l=(l=M[Ln]||null)?Cw(l.formAction):M.getAttribute("formAction"),l!==null&&(S=l,M=null));var Q=new La("action","action",null,d,y);a.push({event:Q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Th!==0){var ut=M?Rw(y,M):new FormData(y);Ga(h,{pending:!0,data:ut,method:y.method,action:S},null,ut)}}else typeof S=="function"&&(Q.preventDefault(),ut=M?Rw(y,M):new FormData(y),Ga(h,{pending:!0,data:ut,method:y.method,action:S},S,ut))},currentTarget:y}]})}}for(var jv=0;jv<Xl.length;jv++){var Fv=Xl[jv],IC=Fv.toLowerCase(),CC=Fv[0].toUpperCase()+Fv.slice(1);di(IC,"on"+CC)}di(Kc,"onAnimationEnd"),di(tl,"onAnimationIteration"),di(el,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(nl,"onTransitionRun"),di(Kl,"onTransitionStart"),di(Xc,"onTransitionCancel"),di(il,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function Lw(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],y=d.event;d=d.listeners;t:{var S=void 0;if(l)for(var M=d.length-1;0<=M;M--){var Q=d[M],ut=Q.instance,Pt=Q.currentTarget;if(Q=Q.listener,ut!==S&&y.isPropagationStopped())break t;S=Q,y.currentTarget=Pt;try{S(y)}catch(Bt){Jg(Bt)}y.currentTarget=null,S=ut}else for(M=0;M<d.length;M++){if(Q=d[M],ut=Q.instance,Pt=Q.currentTarget,Q=Q.listener,ut!==S&&y.isPropagationStopped())break t;S=Q,y.currentTarget=Pt;try{S(y)}catch(Bt){Jg(Bt)}y.currentTarget=null,S=ut}}}}function on(a,l){var h=l[ii];h===void 0&&(h=l[ii]=new Set);var d=a+"__bubble";h.has(d)||(Pw(l,a,2,!1),h.add(d))}function Vv(a,l,h){var d=0;l&&(d|=4),Pw(h,a,d,l)}var fm="_reactListening"+Math.random().toString(36).slice(2);function Bv(a){if(!a[fm]){a[fm]=!0,Zs.forEach(function(h){h!=="selectionchange"&&(RC.has(h)||Vv(h,!1,a),Vv(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[fm]||(l[fm]=!0,Vv("selectionchange",!1,l))}}function Pw(a,l,h,d){switch(nS(l)){case 2:var y=iR;break;case 8:y=rR;break;default:y=ty}h=y.bind(null,l,h,a),y=void 0,!Lr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function Uv(a,l,h,d,y){var S=d;if((l&1)===0&&(l&2)===0&&d!==null)t:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var Q=d.stateNode.containerInfo;if(Q===y)break;if(M===4)for(M=d.return;M!==null;){var ut=M.tag;if((ut===3||ut===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;Q!==null;){if(M=Mi(Q),M===null)return;if(ut=M.tag,ut===5||ut===6||ut===26||ut===27){d=S=M;continue t}Q=Q.parentNode}}d=d.return}Hc(function(){var Pt=S,Bt=jn(h),Wt=[];t:{var Dt=go.get(a);if(Dt!==void 0){var Ot=La,Fe=a;switch(a){case"keypress":if(Kr(h)===0)break t;case"keydown":case"keyup":Ot=ca;break;case"focusin":Fe="focus",Ot=ka;break;case"focusout":Fe="blur",Ot=ka;break;case"beforeblur":case"afterblur":Ot=ka;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Yo;break;case Kc:case tl:case el:Ot=Go;break;case il:Ot=z;break;case"scroll":case"scrollend":Ot=ql;break;case"wheel":Ot=dt;break;case"copy":case"cut":case"paste":Ot=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=fo;break;case"toggle":case"beforetoggle":Ot=jt}var Re=(l&4)!==0,Xn=!Re&&(a==="scroll"||a==="scrollend"),Tt=Re?Dt!==null?Dt+"Capture":null:Dt;Re=[];for(var yt=Pt,Ct;yt!==null;){var zt=yt;if(Ct=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Ct===null||Tt===null||(zt=_r(yt,Tt),zt!=null&&Re.push(tp(yt,zt,Ct))),Xn)break;yt=yt.return}0<Re.length&&(Dt=new Ot(Dt,Fe,null,h,Bt),Wt.push({event:Dt,listeners:Re}))}}if((l&7)===0){t:{if(Dt=a==="mouseover"||a==="pointerover",Ot=a==="mouseout"||a==="pointerout",Dt&&h!==Rs&&(Fe=h.relatedTarget||h.fromElement)&&(Mi(Fe)||Fe[Qn]))break t;if((Ot||Dt)&&(Dt=Bt.window===Bt?Bt:(Dt=Bt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ot?(Fe=h.relatedTarget||h.toElement,Ot=Pt,Fe=Fe?Mi(Fe):null,Fe!==null&&(Xn=s(Fe),Re=Fe.tag,Fe!==Xn||Re!==5&&Re!==27&&Re!==6)&&(Fe=null)):(Ot=null,Fe=Pt),Ot!==Fe)){if(Re=Ei,zt="onMouseLeave",Tt="onMouseEnter",yt="mouse",(a==="pointerout"||a==="pointerover")&&(Re=fo,zt="onPointerLeave",Tt="onPointerEnter",yt="pointer"),Xn=Ot==null?Dt:ji(Ot),Ct=Fe==null?Dt:ji(Fe),Dt=new Re(zt,yt+"leave",Ot,h,Bt),Dt.target=Xn,Dt.relatedTarget=Ct,zt=null,Mi(Bt)===Pt&&(Re=new Re(Tt,yt+"enter",Fe,h,Bt),Re.target=Ct,Re.relatedTarget=Xn,zt=Re),Xn=zt,Ot&&Fe)e:{for(Re=Ot,Tt=Fe,yt=0,Ct=Re;Ct;Ct=Rf(Ct))yt++;for(Ct=0,zt=Tt;zt;zt=Rf(zt))Ct++;for(;0<yt-Ct;)Re=Rf(Re),yt--;for(;0<Ct-yt;)Tt=Rf(Tt),Ct--;for(;yt--;){if(Re===Tt||Tt!==null&&Re===Tt.alternate)break e;Re=Rf(Re),Tt=Rf(Tt)}Re=null}else Re=null;Ot!==null&&kw(Wt,Dt,Ot,Re,!1),Fe!==null&&Xn!==null&&kw(Wt,Xn,Fe,Re,!0)}}t:{if(Dt=Pt?ji(Pt):window,Ot=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Dt.type==="file")var pe=$c;else if(Pn(Dt))if(Gl)pe=sf;else{pe=Ed;var sn=Qr}else Ot=Dt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Pt&&Ul(Pt.elementType)&&(pe=$c):pe=ih;if(pe&&(pe=pe(a,Pt))){Ms(Wt,pe,h,Bt);break t}sn&&sn(a,Dt,Pt),a==="focusout"&&Pt&&Dt.type==="number"&&Pt.memoizedProps.value!=null&&Ia(Dt,"number",Dt.value)}switch(sn=Pt?ji(Pt):window,a){case"focusin":(Pn(sn)||sn.contentEditable==="true")&&(Jr=sn,ua=Pt,Fa=null);break;case"focusout":Fa=ua=Jr=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,fi(Wt,h,Bt);break;case"selectionchange":if(Zo)break;case"keydown":case"keyup":fi(Wt,h,Bt)}var Ae;if(ie)t:{switch(a){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Ce?Lt(a,h)&&(Pe="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Pe="onCompositionStart");Pe&&(k&&h.locale!=="ko"&&(Ce||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ce&&(Ae=zl()):(Yr=Bt,Ra="value"in Yr?Yr.value:Yr.textContent,Ce=!0)),sn=dm(Pt,Pe),0<sn.length&&(Pe=new co(Pe,a,null,h,Bt),Wt.push({event:Pe,listeners:sn}),Ae?Pe.data=Ae:(Ae=Kt(h),Ae!==null&&(Pe.data=Ae)))),(Ae=x?rn(a,h):Be(a,h))&&(Pe=dm(Pt,"onBeforeInput"),0<Pe.length&&(sn=new co("onBeforeInput","beforeinput",null,h,Bt),Wt.push({event:sn,listeners:Pe}),sn.data=Ae)),NC(Wt,a,Pt,h,Bt)}Lw(Wt,l)})}function tp(a,l,h){return{instance:a,listener:l,currentTarget:h}}function dm(a,l){for(var h=l+"Capture",d=[];a!==null;){var y=a,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=_r(a,h),y!=null&&d.unshift(tp(a,y,S)),y=_r(a,l),y!=null&&d.push(tp(a,y,S))),a.tag===3)return d;a=a.return}return[]}function Rf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kw(a,l,h,d,y){for(var S=l._reactName,M=[];h!==null&&h!==d;){var Q=h,ut=Q.alternate,Pt=Q.stateNode;if(Q=Q.tag,ut!==null&&ut===d)break;Q!==5&&Q!==26&&Q!==27||Pt===null||(ut=Pt,y?(Pt=_r(h,S),Pt!=null&&M.unshift(tp(h,Pt,ut))):y||(Pt=_r(h,S),Pt!=null&&M.push(tp(h,Pt,ut)))),h=h.return}M.length!==0&&a.push({event:l,listeners:M})}var LC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function Dw(a){return(typeof a=="string"?a:""+a).replace(LC,`
`).replace(PC,"")}function Ow(a,l){return l=Dw(l),Dw(a)===l}function pm(){}function Kn(a,l,h,d,y,S){switch(h){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Wr(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Wr(a,""+d);break;case"className":bs(a,"class",d);break;case"tabIndex":bs(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(a,h,d);break;case"style":Bl(a,d,S);break;case"data":if(l!=="object"){bs(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=sa(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&Kn(a,l,"name",y.name,y,null),Kn(a,l,"formEncType",y.formEncType,y,null),Kn(a,l,"formMethod",y.formMethod,y,null),Kn(a,l,"formTarget",y.formTarget,y,null)):(Kn(a,l,"encType",y.encType,y,null),Kn(a,l,"method",y.method,y,null),Kn(a,l,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=sa(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=pm);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=sa(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":on("beforetoggle",a),on("toggle",a),_s(a,"popover",d);break;case"xlinkActuate":Fi(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Fi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Fi(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Fi(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Fi(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Fi(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Fi(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Fi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Fi(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":_s(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ra.get(h)||h,_s(a,h,d))}}function zv(a,l,h,d,y,S){switch(h){case"style":Bl(a,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof d=="string"?Wr(a,d):(typeof d=="number"||typeof d=="bigint")&&Wr(a,""+d);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"onClick":d!=null&&(a.onclick=pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),l=h.slice(2,y?h.length-7:void 0),S=a[Ln]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(l,S,y),typeof d=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,d,y);break t}h in a?a[h]=d:d===!0?a.setAttribute(h,""):_s(a,h,d)}}}function jr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",a),on("load",a);var d=!1,y=!1,S;for(S in h)if(h.hasOwnProperty(S)){var M=h[S];if(M!=null)switch(S){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Kn(a,l,S,M,h,null)}}y&&Kn(a,l,"srcSet",h.srcSet,h,null),d&&Kn(a,l,"src",h.src,h,null);return;case"input":on("invalid",a);var Q=S=M=y=null,ut=null,Pt=null;for(d in h)if(h.hasOwnProperty(d)){var Bt=h[d];if(Bt!=null)switch(d){case"name":y=Bt;break;case"type":M=Bt;break;case"checked":ut=Bt;break;case"defaultChecked":Pt=Bt;break;case"value":S=Bt;break;case"defaultValue":Q=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,l));break;default:Kn(a,l,d,Bt,h,null)}}Na(a,S,Q,ut,Pt,M,y,!1),Ea(a);return;case"select":on("invalid",a),d=M=S=null;for(y in h)if(h.hasOwnProperty(y)&&(Q=h[y],Q!=null))switch(y){case"value":S=Q;break;case"defaultValue":M=Q;break;case"multiple":d=Q;default:Kn(a,l,y,Q,h,null)}l=S,h=M,a.multiple=!!d,l!=null?Cs(a,!!d,l,!1):h!=null&&Cs(a,!!d,h,!0);return;case"textarea":on("invalid",a),S=y=d=null;for(M in h)if(h.hasOwnProperty(M)&&(Q=h[M],Q!=null))switch(M){case"value":d=Q;break;case"defaultValue":y=Q;break;case"children":S=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Kn(a,l,M,Q,h,null)}Ca(a,d,y,S),Ea(a);return;case"option":for(ut in h)if(h.hasOwnProperty(ut)&&(d=h[ut],d!=null))switch(ut){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Kn(a,l,ut,d,h,null)}return;case"dialog":on("beforetoggle",a),on("toggle",a),on("cancel",a),on("close",a);break;case"iframe":case"object":on("load",a);break;case"video":case"audio":for(d=0;d<Zd.length;d++)on(Zd[d],a);break;case"image":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"embed":case"source":case"link":on("error",a),on("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in h)if(h.hasOwnProperty(Pt)&&(d=h[Pt],d!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Kn(a,l,Pt,d,h,null)}return;default:if(Ul(l)){for(Bt in h)h.hasOwnProperty(Bt)&&(d=h[Bt],d!==void 0&&zv(a,l,Bt,d,h,void 0));return}}for(Q in h)h.hasOwnProperty(Q)&&(d=h[Q],d!=null&&Kn(a,l,Q,d,h,null))}function kC(a,l,h,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,M=null,Q=null,ut=null,Pt=null,Bt=null;for(Ot in h){var Wt=h[Ot];if(h.hasOwnProperty(Ot)&&Wt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ut=Wt;default:d.hasOwnProperty(Ot)||Kn(a,l,Ot,null,d,Wt)}}for(var Dt in d){var Ot=d[Dt];if(Wt=h[Dt],d.hasOwnProperty(Dt)&&(Ot!=null||Wt!=null))switch(Dt){case"type":S=Ot;break;case"name":y=Ot;break;case"checked":Pt=Ot;break;case"defaultChecked":Bt=Ot;break;case"value":M=Ot;break;case"defaultValue":Q=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,l));break;default:Ot!==Wt&&Kn(a,l,Dt,Ot,d,Wt)}}ur(a,M,Q,ut,Pt,Bt,S,y);return;case"select":Ot=M=Q=Dt=null;for(S in h)if(ut=h[S],h.hasOwnProperty(S)&&ut!=null)switch(S){case"value":break;case"multiple":Ot=ut;default:d.hasOwnProperty(S)||Kn(a,l,S,null,d,ut)}for(y in d)if(S=d[y],ut=h[y],d.hasOwnProperty(y)&&(S!=null||ut!=null))switch(y){case"value":Dt=S;break;case"defaultValue":Q=S;break;case"multiple":M=S;default:S!==ut&&Kn(a,l,y,S,d,ut)}l=Q,h=M,d=Ot,Dt!=null?Cs(a,!!h,Dt,!1):!!d!=!!h&&(l!=null?Cs(a,!!h,l,!0):Cs(a,!!h,h?[]:"",!1));return;case"textarea":Ot=Dt=null;for(Q in h)if(y=h[Q],h.hasOwnProperty(Q)&&y!=null&&!d.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Kn(a,l,Q,null,d,y)}for(M in d)if(y=d[M],S=h[M],d.hasOwnProperty(M)&&(y!=null||S!=null))switch(M){case"value":Dt=y;break;case"defaultValue":Ot=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==S&&Kn(a,l,M,y,d,S)}An(a,Dt,Ot);return;case"option":for(var Fe in h)if(Dt=h[Fe],h.hasOwnProperty(Fe)&&Dt!=null&&!d.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:Kn(a,l,Fe,null,d,Dt)}for(ut in d)if(Dt=d[ut],Ot=h[ut],d.hasOwnProperty(ut)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(ut){case"selected":a.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Kn(a,l,ut,Dt,d,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in h)Dt=h[Re],h.hasOwnProperty(Re)&&Dt!=null&&!d.hasOwnProperty(Re)&&Kn(a,l,Re,null,d,Dt);for(Pt in d)if(Dt=d[Pt],Ot=h[Pt],d.hasOwnProperty(Pt)&&Dt!==Ot&&(Dt!=null||Ot!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,l));break;default:Kn(a,l,Pt,Dt,d,Ot)}return;default:if(Ul(l)){for(var Xn in h)Dt=h[Xn],h.hasOwnProperty(Xn)&&Dt!==void 0&&!d.hasOwnProperty(Xn)&&zv(a,l,Xn,void 0,d,Dt);for(Bt in d)Dt=d[Bt],Ot=h[Bt],!d.hasOwnProperty(Bt)||Dt===Ot||Dt===void 0&&Ot===void 0||zv(a,l,Bt,Dt,d,Ot);return}}for(var Tt in h)Dt=h[Tt],h.hasOwnProperty(Tt)&&Dt!=null&&!d.hasOwnProperty(Tt)&&Kn(a,l,Tt,null,d,Dt);for(Wt in d)Dt=d[Wt],Ot=h[Wt],!d.hasOwnProperty(Wt)||Dt===Ot||Dt==null&&Ot==null||Kn(a,l,Wt,Dt,d,Ot)}var qv=null,Hv=null;function gm(a){return a.nodeType===9?a:a.ownerDocument}function Mw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Gv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wv=null;function DC(){var a=window.event;return a&&a.type==="popstate"?a===Wv?!1:(Wv=a,!0):(Wv=null,!1)}var Fw=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(a){return Vw.resolve(null).then(a).catch(jC)}:Fw;function jC(a){setTimeout(function(){throw a})}function mu(a){return a==="head"}function Bw(a,l){var h=l,d=0,y=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<d&&8>d){h=d;var M=a.ownerDocument;if(h&1&&ep(M.documentElement),h&2&&ep(M.body),h&4)for(h=M.head,ep(h),M=h.firstChild;M;){var Q=M.nextSibling,ut=M.nodeName;M[Rr]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=Q}}if(y===0){a.removeChild(S),cp(l);return}y--}else h==="$"||h==="$?"||h==="$!"?y++:d=h.charCodeAt(0)-48;else d=0;h=S}while(h);cp(l)}function $v(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$v(h),Xi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function FC(a,l,h,d){for(;a.nodeType===1;){var y=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Rr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Co(a.nextSibling),a===null)break}return null}function VC(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Co(a.nextSibling),a===null))return null;return a}function Yv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function BC(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var d=function(){l(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Co(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Kv=null;function Uw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function zw(a,l,h){switch(l=gm(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function ep(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Xi(a)}var Ya=new Map,qw=new Set;function mm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var dc=ht.d;ht.d={f:UC,r:zC,D:qC,C:HC,L:GC,m:WC,X:YC,S:$C,M:KC};function UC(){var a=dc.f(),l=om();return a||l}function zC(a){var l=Ti(a);l!==null&&l.tag===5&&l.type==="form"?_h(l):dc.r(a)}var Lf=typeof document>"u"?null:document;function Hw(a,l,h){var d=Lf;if(d&&typeof l=="string"&&l){var y=gn(l);y='link[rel="'+a+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),qw.has(y)||(qw.add(y),a={rel:a,crossOrigin:h,href:l},d.querySelector(y)===null&&(l=d.createElement("link"),jr(l,"link",a),Sn(l),d.head.appendChild(l)))}}function qC(a){dc.D(a),Hw("dns-prefetch",a,null)}function HC(a,l){dc.C(a,l),Hw("preconnect",a,l)}function GC(a,l,h){dc.L(a,l,h);var d=Lf;if(d&&a&&l){var y='link[rel="preload"][as="'+gn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+gn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+gn(h.imageSizes)+'"]')):y+='[href="'+gn(a)+'"]';var S=y;switch(l){case"style":S=Pf(a);break;case"script":S=kf(a)}Ya.has(S)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Ya.set(S,a),d.querySelector(y)!==null||l==="style"&&d.querySelector(np(S))||l==="script"&&d.querySelector(ip(S))||(l=d.createElement("link"),jr(l,"link",a),Sn(l),d.head.appendChild(l)))}}function WC(a,l){dc.m(a,l);var h=Lf;if(h&&a){var d=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+gn(d)+'"][href="'+gn(a)+'"]',S=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=kf(a)}if(!Ya.has(S)&&(a=p({rel:"modulepreload",href:a},l),Ya.set(S,a),h.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ip(S)))return}d=h.createElement("link"),jr(d,"link",a),Sn(d),h.head.appendChild(d)}}}function $C(a,l,h){dc.S(a,l,h);var d=Lf;if(d&&a){var y=Wn(d).hoistableStyles,S=Pf(a);l=l||"default";var M=y.get(S);if(!M){var Q={loading:0,preload:null};if(M=d.querySelector(np(S)))Q.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Ya.get(S))&&Xv(a,h);var ut=M=d.createElement("link");Sn(ut),jr(ut,"link",a),ut._p=new Promise(function(Pt,Bt){ut.onload=Pt,ut.onerror=Bt}),ut.addEventListener("load",function(){Q.loading|=1}),ut.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,vm(M,l,d)}M={type:"stylesheet",instance:M,count:1,state:Q},y.set(S,M)}}}function YC(a,l){dc.X(a,l);var h=Lf;if(h&&a){var d=Wn(h).hoistableScripts,y=kf(a),S=d.get(y);S||(S=h.querySelector(ip(y)),S||(a=p({src:a,async:!0},l),(l=Ya.get(y))&&Qv(a,l),S=h.createElement("script"),Sn(S),jr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(y,S))}}function KC(a,l){dc.M(a,l);var h=Lf;if(h&&a){var d=Wn(h).hoistableScripts,y=kf(a),S=d.get(y);S||(S=h.querySelector(ip(y)),S||(a=p({src:a,async:!0,type:"module"},l),(l=Ya.get(y))&&Qv(a,l),S=h.createElement("script"),Sn(S),jr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(y,S))}}function Gw(a,l,h,d){var y=(y=ct.current)?mm(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Pf(h.href),h=Wn(y).hoistableStyles,d=h.get(l),d||(d={type:"style",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Pf(h.href);var S=Wn(y).hoistableStyles,M=S.get(a);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,M),(S=y.querySelector(np(a)))&&!S._p&&(M.instance=S,M.state.loading=5),Ya.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ya.set(a,h),S||XC(y,a,h,M.state))),l&&d===null)throw Error(i(528,""));return M}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=kf(h),h=Wn(y).hoistableScripts,d=h.get(l),d||(d={type:"script",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Pf(a){return'href="'+gn(a)+'"'}function np(a){return'link[rel="stylesheet"]['+a+"]"}function Ww(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function XC(a,l,h,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),jr(l,"link",h),Sn(l),a.head.appendChild(l))}function kf(a){return'[src="'+gn(a)+'"]'}function ip(a){return"script[async]"+a}function $w(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+gn(h.href)+'"]');if(d)return l.instance=d,Sn(d),d;var y=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Sn(d),jr(d,"style",y),vm(d,h.precedence,a),l.instance=d;case"stylesheet":y=Pf(h.href);var S=a.querySelector(np(y));if(S)return l.state.loading|=4,l.instance=S,Sn(S),S;d=Ww(h),(y=Ya.get(y))&&Xv(d,y),S=(a.ownerDocument||a).createElement("link"),Sn(S);var M=S;return M._p=new Promise(function(Q,ut){M.onload=Q,M.onerror=ut}),jr(S,"link",d),l.state.loading|=4,vm(S,h.precedence,a),l.instance=S;case"script":return S=kf(h.src),(y=a.querySelector(ip(S)))?(l.instance=y,Sn(y),y):(d=h,(y=Ya.get(S))&&(d=p({},h),Qv(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),Sn(y),jr(y,"link",d),a.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,vm(d,h.precedence,a));return l.instance}function vm(a,l,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,S=y,M=0;M<d.length;M++){var Q=d[M];if(Q.dataset.precedence===l)S=Q;else if(S!==y)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function Xv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Qv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var ym=null;function Yw(a,l,h){if(ym===null){var d=new Map,y=ym=new Map;y.set(h,d)}else y=ym,d=y.get(h),d||(d=new Map,y.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),y=0;y<h.length;y++){var S=h[y];if(!(S[Rr]||S[Rn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(l)||"";M=a+M;var Q=d.get(M);Q?Q.push(S):d.set(M,[S])}}return d}function Kw(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function QC(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Xw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var rp=null;function JC(){}function ZC(a,l,h){if(rp===null)throw Error(i(475));var d=rp;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Pf(h.href),S=a.querySelector(np(y));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=_m.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=S,Sn(S);return}S=a.ownerDocument||a,h=Ww(h),(y=Ya.get(y))&&Xv(h,y),S=S.createElement("link"),Sn(S);var M=S;M._p=new Promise(function(Q,ut){M.onload=Q,M.onerror=ut}),jr(S,"link",h),l.instance=S}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=_m.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function tR(){if(rp===null)throw Error(i(475));var a=rp;return a.stylesheets&&a.count===0&&Jv(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&Jv(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function _m(){if(this.count--,this.count===0){if(this.stylesheets)Jv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bm=null;function Jv(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bm=new Map,l.forEach(eR,a),bm=null,_m.call(a))}function eR(a,l){if(!(l.state.loading&4)){var h=bm.get(a);if(h)var d=h.get(null);else{h=new Map,bm.set(a,h);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var M=y[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),d=M)}d&&h.set(null,d)}y=l.instance,M=y.getAttribute("data-precedence"),S=h.get(M)||d,S===d&&h.set(null,y),h.set(M,y),this.count++,d=_m.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),S?S.parentNode.insertBefore(y,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),l.state.loading|=4}}var sp={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function nR(a,l,h,d,y,S,M,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Qw(a,l,h,d,y,S,M,Q,ut,Pt,Bt,Wt){return a=new nR(a,l,h,M,Q,ut,Pt,Wt),l=1,S===!0&&(l|=24),S=Ar(3,null,null,l),a.current=S,S.stateNode=a,l=Id(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:d,isDehydrated:h,cache:l},vt(S),a}function Jw(a){return a?(a=Zi,a):Zi}function Zw(a,l,h,d,y,S){y=Jw(y),d.context===null?d.context=y:d.pendingContext=y,d=Vt(l),d.payload={element:h},S=S===void 0?null:S,S!==null&&(d.callback=S),h=Ht(a,d,l),h!==null&&(_a(h,a,l),Ut(h,a,l))}function tS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Zv(a,l){tS(a,l),(a=a.alternate)&&tS(a,l)}function eS(a){if(a.tag===13){var l=mo(a,67108864);l!==null&&_a(l,a,67108864),Zv(a,67108864)}}var wm=!0;function iR(a,l,h,d){var y=rt.T;rt.T=null;var S=ht.p;try{ht.p=2,ty(a,l,h,d)}finally{ht.p=S,rt.T=y}}function rR(a,l,h,d){var y=rt.T;rt.T=null;var S=ht.p;try{ht.p=8,ty(a,l,h,d)}finally{ht.p=S,rt.T=y}}function ty(a,l,h,d){if(wm){var y=ey(d);if(y===null)Uv(a,l,d,Sm,h),iS(a,d);else if(aR(y,a,l,h,d))d.stopPropagation();else if(iS(a,d),l&4&&-1<sR.indexOf(a)){for(;y!==null;){var S=Ti(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Je(S.pendingLanes);if(M!==0){var Q=S;for(Q.pendingLanes|=2,Q.entangledLanes|=2;M;){var ut=1<<31-de(M);Q.entanglements[1]|=ut,M&=~ut}vl(S),(Vn&6)===0&&(sm=Te()+500,Jd(0))}}break;case 13:Q=mo(S,2),Q!==null&&_a(Q,S,2),om(),Zv(S,2)}if(S=ey(d),S===null&&Uv(a,l,d,Sm,h),S===y)break;y=S}y!==null&&d.stopPropagation()}else Uv(a,l,d,null,h)}}function ey(a){return a=jn(a),ny(a)}var Sm=null;function ny(a){if(Sm=null,a=Mi(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Sm=a,null}function nS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Qt:return 2;case Zt:return 8;case se:case ae:return 32;case _e:return 268435456;default:return 32}default:return 32}}var iy=!1,vu=null,yu=null,_u=null,ap=new Map,op=new Map,bu=[],sR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iS(a,l){switch(a){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":ap.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(l.pointerId)}}function lp(a,l,h,d,y,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:h,eventSystemFlags:d,nativeEvent:S,targetContainers:[y]},l!==null&&(l=Ti(l),l!==null&&eS(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function aR(a,l,h,d,y){switch(l){case"focusin":return vu=lp(vu,a,l,h,d,y),!0;case"dragenter":return yu=lp(yu,a,l,h,d,y),!0;case"mouseover":return _u=lp(_u,a,l,h,d,y),!0;case"pointerover":var S=y.pointerId;return ap.set(S,lp(ap.get(S)||null,a,l,h,d,y)),!0;case"gotpointercapture":return S=y.pointerId,op.set(S,lp(op.get(S)||null,a,l,h,d,y)),!0}return!1}function rS(a){var l=Mi(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,ys(a.priority,function(){if(h.tag===13){var d=ya();d=Hr(d);var y=mo(h,d);y!==null&&_a(y,h,d),Zv(h,d)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Am(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=ey(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);Rs=d,h.target.dispatchEvent(d),Rs=null}else return l=Ti(h),l!==null&&eS(l),a.blockedOn=h,!1;l.shift()}return!0}function sS(a,l,h){Am(a)&&h.delete(l)}function oR(){iy=!1,vu!==null&&Am(vu)&&(vu=null),yu!==null&&Am(yu)&&(yu=null),_u!==null&&Am(_u)&&(_u=null),ap.forEach(sS),op.forEach(sS)}function Tm(a,l){a.blockedOn===l&&(a.blockedOn=null,iy||(iy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oR)))}var xm=null;function aS(a){xm!==a&&(xm=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xm===a&&(xm=null);for(var l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=a[l+2];if(typeof d!="function"){if(ny(d||h)===null)continue;break}var S=Ti(h);S!==null&&(a.splice(l,3),l-=3,Ga(S,{pending:!0,data:y,method:h.method,action:d},d,y))}}))}function cp(a){function l(ut){return Tm(ut,a)}vu!==null&&Tm(vu,a),yu!==null&&Tm(yu,a),_u!==null&&Tm(_u,a),ap.forEach(l),op.forEach(l);for(var h=0;h<bu.length;h++){var d=bu[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<bu.length&&(h=bu[0],h.blockedOn===null);)rS(h),h.blockedOn===null&&bu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var y=h[d],S=h[d+1],M=y[Ln]||null;if(typeof S=="function")M||aS(h);else if(M){var Q=null;if(S&&S.hasAttribute("formAction")){if(y=S,M=S[Ln]||null)Q=M.formAction;else if(ny(y)!==null)continue}else Q=M.action;typeof Q=="function"?h[d+1]=Q:(h.splice(d,3),d-=3),aS(h)}}}function ry(a){this._internalRoot=a}Em.prototype.render=ry.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,d=ya();Zw(h,d,a,l,null,null)},Em.prototype.unmount=ry.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Zw(a.current,2,null,a,null,null),om(),l[Qn]=null}};function Em(a){this._internalRoot=a}Em.prototype.unstable_scheduleHydration=function(a){if(a){var l=lr();a={blockedOn:null,target:a,priority:l};for(var h=0;h<bu.length&&l!==0&&l<bu[h].priority;h++);bu.splice(h,0,a),h===0&&rS(a)}};var oS=t.version;if(oS!=="19.1.0")throw Error(i(527,oS,"19.1.0"));ht.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var lR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{be=Nm.inject(lR),me=Nm}catch{}}return hp.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,d="",y=A5,S=T5,M=x5,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks)),l=Qw(a,1,!1,null,null,h,d,y,S,M,Q,null),a[Qn]=l.current,Bv(a),new ry(l)},hp.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var d=!1,y="",S=A5,M=T5,Q=x5,ut=null,Pt=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(Q=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ut=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pt=h.formState)),l=Qw(a,1,!0,l,h??null,d,y,S,M,Q,ut,Pt),l.context=Jw(null),h=l.current,d=ya(),d=Hr(d),y=Vt(d),y.callback=null,Ht(h,y,d),h=d,l.current.lanes=h,or(l,h),vl(l),a[Qn]=l.current,Bv(a),new Em(l)},hp.version="19.1.0",hp}var vS;function wR(){if(vS)return oy.exports;vS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),oy.exports=bR(),oy.exports}var SR=wR();const AR=()=>{};var yS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},TR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],c=n[e++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,c=o?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,p=s>>2,v=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,_=f&63;u||(_=64,o||(b=64)),i.push(e[p],e[v],e[b],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(kE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):TR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||f==null||v==null)throw new xR;const b=s<<2|c>>4;if(i.push(b),f!==64){const _=c<<4&240|f>>2;if(i.push(_),v!==64){const E=f<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(n){const t=kE(n);return DE.encodeByteArray(t,!0)},x0=function(n){return ER(n).replace(/\./g,"")},OE=function(n){try{return DE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>NR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof yS>"u")return;const n=yS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&OE(n[1]);return t&&JSON.parse(t)},a1=()=>{try{return AR()||IR()||CR()||RR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ME=n=>{var t,e;return(e=(t=a1())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},jE=n=>{const t=ME(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},FE=()=>{var n;return(n=a1())===null||n===void 0?void 0:n.config},VE=n=>{var t;return(t=a1())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[x0(JSON.stringify(e)),x0(JSON.stringify(o)),""].join(".")}const Rp={};function PR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Rp))Rp[t]?n.emulator.push(t):n.prod.push(t);return n}function kR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _S=!1;function S_(n,t){if(typeof window>"u"||typeof document>"u"||!th(window.location.host)||Rp[n]===t||Rp[n]||_S)return;Rp[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",s=PR().prod.length>0;function o(){const b=document.getElementById(i);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function u(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_S=!0,o()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=kR(i),_=e("text"),E=document.getElementById(_)||document.createElement("span"),N=e("learnmore"),I=document.getElementById(N)||document.createElement("a"),C=e("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;c(H),p(I,N);const nt=f();u(O,C),H.append(O,E,I,nt),document.body.appendChild(H)}s?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ms())}function OR(){var n;const t=(n=a1())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const n=ms();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function A_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class eo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=BR,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?UR(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new eo(r,c,i)}}function UR(n,t){return n.replace(zR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const zR=/\{\$([^}]+)}/g;function qR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Bu(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(bS(s)&&bS(o)){if(!Bu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function bS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bp(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function wp(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function HR(n,t){const e=new GR(n,t);return e.subscribe.bind(e)}class GR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");WR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=hy),r.error===void 0&&(r.error=hy),r.complete===void 0&&(r.complete=hy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function hy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,YR=2,KR=4*60*60*1e3,XR=.5;function wS(n,t=$R,e=YR){const i=t*Math.pow(e,n),r=Math.round(XR*i*(Math.random()-.5)*2);return Math.min(KR,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new LR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZR(t))try{this.getOrInitializeService({instanceIdentifier:Ih})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Ih){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ih){return this.instances.has(t)}getOptions(t=Ih){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ih){return this.component?this.component.multipleInstances?t:Ih:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(n){return n===Ih?void 0:n}function ZR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new QR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ln||(ln={}));const eL={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},nL=ln.INFO,iL={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},rL=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=iL[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mg{constructor(t){this.name=t,this._logLevel=nL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const sL=(n,t)=>t.some(e=>n instanceof e);let SS,AS;function aL(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oL(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,d2=new WeakMap,qE=new WeakMap,fy=new WeakMap,T_=new WeakMap;function lL(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Ec(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&zE.set(e,n)}).catch(()=>{}),T_.set(t,n),t}function cL(n){if(d2.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});d2.set(n,t)}let p2={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return d2.get(n);if(t==="objectStoreNames")return n.objectStoreNames||qE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ec(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function uL(n){p2=n(p2)}function hL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(dy(this),t,...e);return qE.set(i,t.sort?t.sort():[t]),Ec(i)}:oL().includes(n)?function(...t){return n.apply(dy(this),t),Ec(zE.get(this))}:function(...t){return Ec(n.apply(dy(this),t))}}function fL(n){return typeof n=="function"?hL(n):(n instanceof IDBTransaction&&cL(n),sL(n,aL())?new Proxy(n,p2):n)}function Ec(n){if(n instanceof IDBRequest)return lL(n);if(fy.has(n))return fy.get(n);const t=fL(n);return t!==n&&(fy.set(n,t),T_.set(t,n)),t}const dy=n=>T_.get(n);function c1(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),c=Ec(o);return i&&o.addEventListener("upgradeneeded",u=>{i(Ec(o.result),u.oldVersion,u.newVersion,Ec(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function py(n,{blocked:t}={}){const e=indexedDB.deleteDatabase(n);return t&&e.addEventListener("blocked",i=>t(i.oldVersion,i)),Ec(e).then(()=>{})}const dL=["get","getKey","getAll","getAllKeys","count"],pL=["put","add","delete","clear"],gy=new Map;function TS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gy.get(t))return gy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=pL.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||dL.includes(e)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[e](...c),r&&u.done]))[0]};return gy.set(t,s),s}uL(n=>({...n,get:(t,e,i)=>TS(t,e)||n.get(t,e,i),has:(t,e)=>!!TS(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(mL(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function mL(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const g2="@firebase/app",xS="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new mg("@firebase/app"),vL="@firebase/app-compat",yL="@firebase/analytics-compat",_L="@firebase/analytics",bL="@firebase/app-check-compat",wL="@firebase/app-check",SL="@firebase/auth",AL="@firebase/auth-compat",TL="@firebase/database",xL="@firebase/data-connect",EL="@firebase/database-compat",NL="@firebase/functions",IL="@firebase/functions-compat",CL="@firebase/installations",RL="@firebase/installations-compat",LL="@firebase/messaging",PL="@firebase/messaging-compat",kL="@firebase/performance",DL="@firebase/performance-compat",OL="@firebase/remote-config",ML="@firebase/remote-config-compat",jL="@firebase/storage",FL="@firebase/storage-compat",VL="@firebase/firestore",BL="@firebase/ai",UL="@firebase/firestore-compat",zL="firebase",qL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="[DEFAULT]",HL={[g2]:"fire-core",[vL]:"fire-core-compat",[_L]:"fire-analytics",[yL]:"fire-analytics-compat",[wL]:"fire-app-check",[bL]:"fire-app-check-compat",[SL]:"fire-auth",[AL]:"fire-auth-compat",[TL]:"fire-rtdb",[xL]:"fire-data-connect",[EL]:"fire-rtdb-compat",[NL]:"fire-fn",[IL]:"fire-fn-compat",[CL]:"fire-iid",[RL]:"fire-iid-compat",[LL]:"fire-fcm",[PL]:"fire-fcm-compat",[kL]:"fire-perf",[DL]:"fire-perf-compat",[OL]:"fire-rc",[ML]:"fire-rc-compat",[jL]:"fire-gcs",[FL]:"fire-gcs-compat",[VL]:"fire-fst",[UL]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[zL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map,GL=new Map,v2=new Map;function ES(n,t){try{n.container.addComponent(t)}catch(e){Ic.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Xs(n){const t=n.name;if(v2.has(t))return Ic.debug(`There were multiple attempts to register component ${t}.`),!1;v2.set(t,n);for(const e of E0.values())ES(e,n);for(const e of GL.values())ES(e,n);return!0}function Ol(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Es(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mu=new Mc("app","Firebase",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=qL;function HE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:m2,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Mu.create("bad-app-name",{appName:String(r)});if(e||(e=FE()),!e)throw Mu.create("no-options");const s=E0.get(r);if(s){if(Bu(e,s.options)&&Bu(i,s.config))return s;throw Mu.create("duplicate-app",{appName:r})}const o=new tL(r);for(const u of v2.values())o.addComponent(u);const c=new $L(e,i,o);return E0.set(r,c),c}function pd(n=m2){const t=E0.get(n);if(!t&&n===m2&&FE())return HE();if(!t)throw Mu.create("no-app",{appName:n});return t}function Cr(n,t,e){var i;let r=(i=HL[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ic.warn(c.join(" "));return}Xs(new Ns(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="firebase-heartbeat-database",KL=1,$p="firebase-heartbeat-store";let my=null;function GE(){return my||(my=c1(YL,KL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore($p)}catch(e){console.warn(e)}}}}).catch(n=>{throw Mu.create("idb-open",{originalErrorMessage:n.message})})),my}async function XL(n){try{const e=(await GE()).transaction($p),i=await e.objectStore($p).get(WE(n));return await e.done,i}catch(t){if(t instanceof eo)Ic.warn(t.message);else{const e=Mu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ic.warn(e.message)}}}async function NS(n,t){try{const i=(await GE()).transaction($p,"readwrite");await i.objectStore($p).put(t,WE(n)),await i.done}catch(e){if(e instanceof eo)Ic.warn(e.message);else{const i=Mu.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ic.warn(i.message)}}}function WE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1024,JL=30;class ZL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new eP(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>JL){const o=nP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ic.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IS(),{heartbeatsToSend:i,unsentEntries:r}=tP(this._heartbeatsCache.heartbeats),s=x0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ic.warn(e),""}}}function IS(){return new Date().toISOString().substring(0,10)}function tP(n,t=QL){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),CS(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),CS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class eP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return NS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return NS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function CS(n){return x0(JSON.stringify({version:2,heartbeats:n})).length}function nP(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){Xs(new Ns("platform-logger",t=>new gL(t),"PRIVATE")),Xs(new Ns("heartbeat",t=>new ZL(t),"PRIVATE")),Cr(g2,xS,n),Cr(g2,xS,"esm2017"),Cr("fire-js","")}iP("");var rP="firebase",sP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(rP,sP,"app");function x_(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aP=$E,YE=new Mc("auth","Firebase",$E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new mg("@firebase/auth");function oP(n,...t){N0.logLevel<=ln.WARN&&N0.warn(`Auth (${Jh}): ${n}`,...t)}function i0(n,...t){N0.logLevel<=ln.ERROR&&N0.error(`Auth (${Jh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n,...t){throw N_(n,...t)}function Mo(n,...t){return N_(n,...t)}function E_(n,t,e){const i=Object.assign(Object.assign({},aP()),{[t]:e});return new Mc("auth","Firebase",i).create(t,{appName:n.name})}function xl(n){return E_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lP(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Za(n,"argument-error"),E_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return YE.create(n,...t)}function Me(n,t,...e){if(!n)throw N_(t,...e)}function wc(n){const t="INTERNAL ASSERTION FAILED: "+n;throw i0(t),new Error(t)}function Cc(n,t){n||wc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cP(){return RS()==="http:"||RS()==="https:"}function RS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cP()||UE()||"connection"in navigator)?navigator.onLine:!0}function hP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e){this.shortDelay=t,this.longDelay=e,Cc(e>t,"Short delay should be less than long delay!"),this.isMobile=DR()||jR()}get(){return uP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,t){Cc(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pP=new vg(3e4,6e4);function jc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Fc(n,t,e,i,r={}){return XE(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const c=gg(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:u},s);return MR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&th(n.emulatorConfig.host)&&(f.credentials="include"),KE.fetch()(await QE(n,n.config.apiHost,e,c),f)})}async function XE(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fP),t);try{const r=new mP(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Im(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Im(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Im(n,"user-disabled",o);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw E_(n,p,f);Za(n,p)}}catch(r){if(r instanceof eo)throw r;Za(n,"network-request-failed",{message:String(r)})}}async function yg(n,t,e,i,r={}){const s=await Fc(n,t,e,i,r);return"mfaPendingCredential"in s&&Za(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function QE(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?I_(n.config,r):`${n.config.apiScheme}://${r}`;return dP.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function gP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Mo(this.auth,"network-request-failed")),pP.get())})}}function Im(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Mo(n,t,i);return r.customData._tokenResponse=e,r}function LS(n){return n!==void 0&&n.enterprise!==void 0}class vP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return gP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yP(n,t){return Fc(n,"GET","/v2/recaptchaConfig",jc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,t){return Fc(n,"POST","/v1/accounts:delete",t)}async function I0(n,t){return Fc(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bP(n,t=!1){const e=Mn(n),i=await e.getIdToken(t),r=C_(i);Me(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Lp(vy(r.auth_time)),issuedAtTime:Lp(vy(r.iat)),expirationTime:Lp(vy(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vy(n){return Number(n)*1e3}function C_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return i0("JWT malformed, contained fewer than 3 sections"),null;try{const r=OE(e);return r?JSON.parse(r):(i0("Failed to decode base64 JWT payload"),null)}catch(r){return i0("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function PS(n){const t=C_(n);return Me(t,"internal-error"),Me(typeof t.exp<"u","internal-error"),Me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof eo&&wP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function wP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lp(this.lastLoginAt),this.creationTime=Lp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Yp(n,I0(e,{idToken:i}));Me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?JE(s.providerUserInfo):[],c=TP(n.providerData,o),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new _2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function AP(n){const t=Mn(n);await C0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TP(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function JE(n){return n.map(t=>{var{providerId:e}=t,i=x_(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,t){const e=await XE(n,{},async()=>{const i=gg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await QE(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:i};return n.emulatorConfig&&th(n.emulatorConfig.host)&&(u.credentials="include"),KE.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function EP(n,t){return Fc(n,"POST","/v2/accounts:revokeToken",jc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Me(t.idToken,"internal-error"),Me(typeof t.idToken<"u","internal-error"),Me(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Me(t.length!==0,"internal-error");const e=PS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await xP(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new $f;return i&&(Me(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Me(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Me(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $f,this.toJSON())}_performRefresh(){return wc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n,t){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Oo{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=x_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Yp(this,this.stsTokenManager.getToken(this.auth,t));return Me(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return bP(this,t)}reload(){return AP(this)}_assign(t){this!==t&&(Me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Oo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await C0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Es(this.auth.app))return Promise.reject(xl(this.auth));const t=await this.getIdToken();return await Yp(this,_P(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,c,u,f,p;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,_=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=e.photoURL)!==null&&o!==void 0?o:void 0,N=(c=e.tenantId)!==null&&c!==void 0?c:void 0,I=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,C=(f=e.createdAt)!==null&&f!==void 0?f:void 0,O=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:H,emailVerified:nt,isAnonymous:it,providerData:gt,stsTokenManager:q}=e;Me(H&&q,t,"internal-error");const L=$f.fromJSON(this.name,q);Me(typeof H=="string",t,"internal-error"),Su(v,t.name),Su(b,t.name),Me(typeof nt=="boolean",t,"internal-error"),Me(typeof it=="boolean",t,"internal-error"),Su(_,t.name),Su(E,t.name),Su(N,t.name),Su(I,t.name),Su(C,t.name),Su(O,t.name);const V=new Oo({uid:H,auth:t,email:b,emailVerified:nt,displayName:v,isAnonymous:it,photoURL:E,phoneNumber:_,tenantId:N,stsTokenManager:L,createdAt:C,lastLoginAt:O});return gt&&Array.isArray(gt)&&(V.providerData=gt.map($=>Object.assign({},$))),I&&(V._redirectEventId=I),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new $f;r.updateFromServerResponse(e);const s=new Oo({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await C0(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Me(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?JE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new $f;c.updateFromIdToken(i);const u=new Oo({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function Sc(n){Cc(n instanceof Function,"Expected a class definition");let t=kS.get(n);return t?(Cc(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,kS.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ZE.type="NONE";const DS=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n,t,e){return`firebase:${n}:${t}:${e}`}class Yf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=r0(this.userKey,r.apiKey,s),this.fullPersistenceKey=r0("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await I0(this.auth,{idToken:t}).catch(()=>{});return e?Oo._fromGetAccountInfoResponse(this.auth,e,t):null}return Oo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Yf(Sc(DS),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||Sc(DS);const o=r0(i,t.config.apiKey,t.name);let c=null;for(const f of e)try{const p=await f._get(o);if(p){let v;if(typeof p=="string"){const b=await I0(t,{idToken:p}).catch(()=>{});if(!b)break;v=await Oo._fromGetAccountInfoResponse(t,b,p)}else v=Oo._fromJSON(t,p);f!==s&&(c=v),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Yf(s,t,i):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Yf(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i4(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s4(t))return"Blackberry";if(a4(t))return"Webos";if(e4(t))return"Safari";if((t.includes("chrome/")||n4(t))&&!t.includes("edge/"))return"Chrome";if(r4(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function t4(n=ms()){return/firefox\//i.test(n)}function e4(n=ms()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n4(n=ms()){return/crios\//i.test(n)}function i4(n=ms()){return/iemobile/i.test(n)}function r4(n=ms()){return/android/i.test(n)}function s4(n=ms()){return/blackberry/i.test(n)}function a4(n=ms()){return/webos/i.test(n)}function R_(n=ms()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NP(n=ms()){var t;return R_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function IP(){return FR()&&document.documentMode===10}function o4(n=ms()){return R_(n)||r4(n)||a4(n)||s4(n)||/windows phone/i.test(n)||i4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n,t=[]){let e;switch(n){case"Browser":e=OS(ms());break;case"Worker":e=`${OS(ms())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(n,t={}){return Fc(n,"GET","/v2/passwordPolicy",jc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=6;class PP{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:LP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MS(this),this.idTokenSubscription=new MS(this),this.beforeStateQueue=new CP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Sc(e)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Yf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await I0(this,{idToken:t}),i=await Oo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Es(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await C0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Es(this.app))return Promise.reject(xl(this));const e=t?Mn(t):null;return e&&Me(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Es(this.app)?Promise.reject(xl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Es(this.app)?Promise.reject(xl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RP(this),e=new PP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await EP(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Sc(t)||this._popupRedirectResolver;Me(e,this,"argument-error"),this.redirectPersistenceManager=await Yf.create(this,[Sc(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&oP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vc(n){return Mn(n)}class MS{constructor(t){this.auth=t,this.observer=null,this.addObserver=HR(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DP(n){u1=n}function c4(n){return u1.loadJS(n)}function OP(){return u1.recaptchaEnterpriseScript}function MP(){return u1.gapiScript}function jP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FP{constructor(){this.enterprise=new VP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class VP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const BP="recaptcha-enterprise",u4="NO_RECAPTCHA";class UP{constructor(t){this.type=BP,this.auth=Vc(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{yP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new vP(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function r(s,o,c){const u=window.grecaptcha;LS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(u4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(c=>{if(!e&&LS(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=OP();u.length!==0&&(u+=c),c4(u).then(()=>{r(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function jS(n,t,e,i=!1,r=!1){const s=new UP(n);let o;if(r)o=u4;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const c=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function b2(n,t,e,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jS(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jS(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n,t){const e=Ol(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(Bu(s,t??{}))return r;Za(r,"already-initialized")}return e.initialize({options:t})}function qP(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Sc);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function HP(n,t,e){const i=Vc(n);Me(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=h4(t),{host:o,port:c}=GP(t),u=c===null?"":`:${c}`,f={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Bu(f,i.config.emulator)&&Bu(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,th(o)?(w_(`${s}//${o}${u}`),S_("Auth",!0)):WP()}function h4(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function GP(n){const t=h4(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:FS(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:FS(o)}}}function FS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function WP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return wc("not implemented")}_getIdTokenResponse(t){return wc("not implemented")}_linkToIdToken(t,e){return wc("not implemented")}_getReauthenticationResolver(t){return wc("not implemented")}}async function $P(n,t){return Fc(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(n,t){return yg(n,"POST","/v1/accounts:signInWithPassword",jc(n,t))}async function KP(n,t){return Fc(n,"POST","/v1/accounts:sendOobCode",jc(n,t))}async function XP(n,t){return KP(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,t){return yg(n,"POST","/v1/accounts:signInWithEmailLink",jc(n,t))}async function JP(n,t){return yg(n,"POST","/v1/accounts:signInWithEmailLink",jc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends L_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Kp(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Kp(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(t,e,"signInWithPassword",YP);case"emailLink":return QP(t,{email:this._email,oobCode:this._password});default:Za(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(t,i,"signUpPassword",$P);case"emailLink":return JP(t,{idToken:e,email:this._email,oobCode:this._password});default:Za(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(n,t){return yg(n,"POST","/v1/accounts:signInWithIdp",jc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class Hh extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Hh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Za("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=x_(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Hh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Kf(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Kf(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Kf(t,e)}buildRequest(){const t={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gg(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ek(n){const t=bp(wp(n)).link,e=t?bp(wp(t)).deep_link_id:null,i=bp(wp(n)).deep_link_id;return(i?bp(wp(i)).link:null)||i||e||t||n}class P_{constructor(t){var e,i,r,s,o,c;const u=bp(wp(t)),f=(e=u.apiKey)!==null&&e!==void 0?e:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,v=tk((r=u.mode)!==null&&r!==void 0?r:null);Me(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const e=ek(t);try{return new P_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.providerId=gd.PROVIDER_ID}static credential(t,e){return Kp._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=P_.parseLink(e);return Me(i,"argument-error"),Kp._fromEmailAndCode(t,i.code,i.tenantId)}}gd.PROVIDER_ID="password";gd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends k_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends _g{constructor(){super("facebook.com")}static credential(t){return Hh._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Eu.credentialFromTaggedObject(t)}static credentialFromError(t){return Eu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Eu.credential(t.oauthAccessToken)}catch{return null}}}Eu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends _g{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Hh._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return bc.credentialFromTaggedObject(t)}static credentialFromError(t){return bc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return bc.credential(e,i)}catch{return null}}}bc.GOOGLE_SIGN_IN_METHOD="google.com";bc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends _g{constructor(){super("github.com")}static credential(t){return Hh._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nu.credentialFromTaggedObject(t)}static credentialFromError(t){return Nu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nu.credential(t.oauthAccessToken)}catch{return null}}}Nu.GITHUB_SIGN_IN_METHOD="github.com";Nu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends _g{constructor(){super("twitter.com")}static credential(t,e){return Hh._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Iu.credentialFromTaggedObject(t)}static credentialFromError(t){return Iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Iu.credential(e,i)}catch{return null}}}Iu.TWITTER_SIGN_IN_METHOD="twitter.com";Iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(n,t){return yg(n,"POST","/v1/accounts:signUp",jc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await Oo._fromIdTokenResponse(t,i,r),o=VS(i);return new Rc({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=VS(i);return new Rc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function VS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n){var t;if(Es(n.app))return Promise.reject(xl(n));const e=Vc(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Rc({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await f4(e,{returnSecureToken:!0}),r=await Rc._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends eo{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,R0.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new R0(t,e,i,r)}}function d4(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?R0._fromErrorAndOperation(n,s,t,i):s})}async function ik(n,t,e=!1){const i=await Yp(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Rc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,t,e=!1){const{auth:i}=n;if(Es(i.app))return Promise.reject(xl(i));const r="reauthenticate";try{const s=await Yp(n,d4(i,r,t,n),e);Me(s.idToken,i,"internal-error");const o=C_(s.idToken);Me(o,i,"internal-error");const{sub:c}=o;return Me(n.uid===c,i,"user-mismatch"),Rc._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Za(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(n,t,e=!1){if(Es(n.app))return Promise.reject(xl(n));const i="signIn",r=await d4(n,i,t),s=await Rc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}async function sk(n,t){return p4(Vc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n){const t=Vc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ak(n,t,e){if(Es(n.app))return Promise.reject(xl(n));const i=Vc(n),o=await b2(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&g4(n),u}),c=await Rc._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(c.user),c}function ok(n,t,e){return Es(n.app)?Promise.reject(xl(n)):sk(Mn(n),gd.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&g4(n),i})}async function m4(n,t){const e=Mn(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await XP(e.auth,r);s!==n.email&&await n.reload()}function lk(n,t,e,i){return Mn(n).onIdTokenChanged(t,e,i)}function ck(n,t,e){return Mn(n).beforeAuthStateChanged(t,e)}function uk(n,t,e,i){return Mn(n).onAuthStateChanged(t,e,i)}function hk(n){return Mn(n).signOut()}const L0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(L0,"1"),this.storage.removeItem(L0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,dk=10;class y4 extends v4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);IP()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,dk):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}y4.type="LOCAL";const pk=y4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends v4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}_4.type="SESSION";const b4=_4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new h1(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(o).map(async f=>f(e.origin,s)),u=await gk(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}h1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const f=D_("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){return window}function vk(n){El().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof El().WorkerGlobalScope<"u"&&typeof El().importScripts=="function"}async function yk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _k(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bk(){return w4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="firebaseLocalStorageDb",wk=1,P0="firebaseLocalStorage",A4="fbase_key";class bg{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function f1(n,t){return n.transaction([P0],t?"readwrite":"readonly").objectStore(P0)}function Sk(){const n=indexedDB.deleteDatabase(S4);return new bg(n).toPromise()}function w2(){const n=indexedDB.open(S4,wk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(P0,{keyPath:A4})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(P0)?t(i):(i.close(),await Sk(),t(await w2()))})})}async function BS(n,t,e){const i=f1(n,!0).put({[A4]:t,value:e});return new bg(i).toPromise()}async function Ak(n,t){const e=f1(n,!1).get(t),i=await new bg(e).toPromise();return i===void 0?null:i.value}function US(n,t){const e=f1(n,!0).delete(t);return new bg(e).toPromise()}const Tk=800,xk=3;class T4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w2(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>xk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=h1._getInstance(bk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await yk(),!this.activeServiceWorker)return;this.sender=new mk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await w2();return await BS(t,L0,"1"),await US(t,L0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>BS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Ak(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>US(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=f1(r,!1).getAll();return new bg(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T4.type="LOCAL";const Ek=T4;new vg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n,t){return t?Sc(t):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends L_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Kf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Kf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Nk(n){return p4(n.auth,new O_(n),n.bypassAuthState)}function Ik(n){const{auth:t,user:e}=n;return Me(e,t,"internal-error"),rk(e,new O_(n),n.bypassAuthState)}async function Ck(n){const{auth:t,user:e}=n;return Me(e,t,"internal-error"),ik(e,new O_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nk;case"linkViaPopup":case"linkViaRedirect":return Ck;case"reauthViaPopup":case"reauthViaRedirect":return Ik;default:Za(this.auth,"internal-error")}}resolve(t){Cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new vg(2e3,1e4);async function Lk(n,t,e){if(Es(n.app))return Promise.reject(Mo(n,"operation-not-supported-in-this-environment"));const i=Vc(n);lP(n,t,k_);const r=x4(i,e);return new kh(i,"signInViaPopup",t,r).executeNotNull()}class kh extends E4{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,kh.currentPopupAction&&kh.currentPopupAction.cancel(),kh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Me(t,this.auth,"internal-error"),t}async onExecution(){Cc(this.filter.length===1,"Popup operations only handle one event");const t=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rk.get())};t()}}kh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="pendingRedirect",s0=new Map;class kk extends E4{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=s0.get(this.auth._key());if(!t){try{const i=await Dk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}s0.set(this.auth._key(),t)}return this.bypassAuthState||s0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dk(n,t){const e=jk(t),i=Mk(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Ok(n,t){s0.set(n._key(),t)}function Mk(n){return Sc(n._redirectPersistence)}function jk(n){return r0(Pk,n.config.apiKey,n.name)}async function Fk(n,t,e=!1){if(Es(n.app))return Promise.reject(xl(n));const i=Vc(n),r=x4(i,t),o=await new kk(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=10*60*1e3;class Bk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!N4(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Mo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(t))}saveEventToCache(t){this.cachedEventUids.add(zS(t)),this.lastProcessedEventTime=Date.now()}}function zS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function N4({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Uk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,t={}){return Fc(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hk=/^https?/;async function Gk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await zk(n);for(const e of t)try{if(Wk(e))return}catch{}Za(n,"unauthorized-domain")}function Wk(n){const t=y2(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!Hk.test(e))return!1;if(qk.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new vg(3e4,6e4);function qS(){const n=El().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Yk(n){return new Promise((t,e)=>{var i,r,s;function o(){qS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qS(),e(Mo(n,"network-request-failed"))},timeout:$k.get()})}if(!((r=(i=El().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=El().gapi)===null||s===void 0)&&s.load)o();else{const c=jP("iframefcb");return El()[c]=()=>{gapi.load?o():e(Mo(n,"network-request-failed"))},c4(`${MP()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw a0=null,t})}let a0=null;function Kk(n){return a0=a0||Yk(n),a0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new vg(5e3,15e3),Qk="__/auth/iframe",Jk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eD(n){const t=n.config;Me(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?I_(t,Jk):`https://${n.config.authDomain}/${Qk}`,i={apiKey:t.apiKey,appName:n.name,v:Jh},r=tD.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${gg(i).slice(1)}`}async function nD(n){const t=await Kk(n),e=El().gapi;return Me(e,n,"internal-error"),t.open({where:document.body,url:eD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Mo(n,"network-request-failed"),c=El().setTimeout(()=>{s(o)},Xk.get());function u(){El().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rD=500,sD=600,aD="_blank",oD="http://localhost";class HS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lD(n,t,e,i=rD,r=sD){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},iD),{width:i.toString(),height:r.toString(),top:s,left:o}),f=ms().toLowerCase();e&&(c=n4(f)?aD:e),t4(f)&&(t=t||oD,u.scrollbars="yes");const p=Object.entries(u).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(NP(f)&&c!=="_self")return cD(t||"",c),new HS(null);const v=window.open(t||"",c,p);Me(v,n,"popup-blocked");try{v.focus()}catch{}return new HS(v)}function cD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="__/auth/handler",hD="emulator/auth/handler",fD=encodeURIComponent("fac");async function GS(n,t,e,i,r,s){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Jh,eventId:r};if(t instanceof k_){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",qR(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,v]of Object.entries({}))o[p]=v}if(t instanceof _g){const p=t.getScopes().filter(v=>v!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),f=u?`#${fD}=${encodeURIComponent(u)}`:"";return`${dD(n)}?${gg(c).slice(1)}${f}`}function dD({config:n}){return n.emulator?I_(n,hD):`https://${n.authDomain}/${uD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class pD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b4,this._completeRedirectFn=Fk,this._overrideRedirectResult=Ok}async _openPopup(t,e,i,r){var s;Cc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await GS(t,e,i,y2(),r);return lD(t,o,D_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await GS(t,e,i,y2(),r);return vk(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Cc(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await nD(t),i=new Bk(t);return e.register("authEvent",r=>(Me(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yy,{type:yy},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[yy];o!==void 0&&e(!!o),Za(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Gk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return o4()||e4()||R_()}}const gD=pD;var WS="@firebase/auth",$S="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yD(n){Xs(new Ns("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l4(n)},f=new kP(i,r,s,u);return qP(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Xs(new Ns("auth-internal",t=>{const e=Vc(t.getProvider("auth").getImmediate());return(i=>new mD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(WS,$S,vD(n)),Cr(WS,$S,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=5*60,bD=VE("authIdTokenMaxAge")||_D;let YS=null;const wD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>bD)return;const r=e==null?void 0:e.token;YS!==r&&(YS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function SD(n=pd()){const t=Ol(n,"auth");if(t.isInitialized())return t.getImmediate();const e=zP(n,{popupRedirectResolver:gD,persistence:[Ek,pk,b4]}),i=VE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=wD(s.toString());ck(e,o,()=>o(e.currentUser)),lk(e,c=>o(c))}}const r=ME("auth");return r&&HP(e,`http://${r}`),e}function AD(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}DP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=Mo("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",AD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yD("Browser");var KS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ju,I4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,L){function V(){}V.prototype=L.prototype,q.D=L.prototype,q.prototype=new V,q.prototype.constructor=q,q.C=function($,P,D){for(var j=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)j[tt-2]=arguments[tt];return L.prototype[P].apply($,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(q,L,V){V||(V=0);var $=Array(16);if(typeof L=="string")for(var P=0;16>P;++P)$[P]=L.charCodeAt(V++)|L.charCodeAt(V++)<<8|L.charCodeAt(V++)<<16|L.charCodeAt(V++)<<24;else for(P=0;16>P;++P)$[P]=L[V++]|L[V++]<<8|L[V++]<<16|L[V++]<<24;L=q.g[0],V=q.g[1],P=q.g[2];var D=q.g[3],j=L+(D^V&(P^D))+$[0]+3614090360&4294967295;L=V+(j<<7&4294967295|j>>>25),j=D+(P^L&(V^P))+$[1]+3905402710&4294967295,D=L+(j<<12&4294967295|j>>>20),j=P+(V^D&(L^V))+$[2]+606105819&4294967295,P=D+(j<<17&4294967295|j>>>15),j=V+(L^P&(D^L))+$[3]+3250441966&4294967295,V=P+(j<<22&4294967295|j>>>10),j=L+(D^V&(P^D))+$[4]+4118548399&4294967295,L=V+(j<<7&4294967295|j>>>25),j=D+(P^L&(V^P))+$[5]+1200080426&4294967295,D=L+(j<<12&4294967295|j>>>20),j=P+(V^D&(L^V))+$[6]+2821735955&4294967295,P=D+(j<<17&4294967295|j>>>15),j=V+(L^P&(D^L))+$[7]+4249261313&4294967295,V=P+(j<<22&4294967295|j>>>10),j=L+(D^V&(P^D))+$[8]+1770035416&4294967295,L=V+(j<<7&4294967295|j>>>25),j=D+(P^L&(V^P))+$[9]+2336552879&4294967295,D=L+(j<<12&4294967295|j>>>20),j=P+(V^D&(L^V))+$[10]+4294925233&4294967295,P=D+(j<<17&4294967295|j>>>15),j=V+(L^P&(D^L))+$[11]+2304563134&4294967295,V=P+(j<<22&4294967295|j>>>10),j=L+(D^V&(P^D))+$[12]+1804603682&4294967295,L=V+(j<<7&4294967295|j>>>25),j=D+(P^L&(V^P))+$[13]+4254626195&4294967295,D=L+(j<<12&4294967295|j>>>20),j=P+(V^D&(L^V))+$[14]+2792965006&4294967295,P=D+(j<<17&4294967295|j>>>15),j=V+(L^P&(D^L))+$[15]+1236535329&4294967295,V=P+(j<<22&4294967295|j>>>10),j=L+(P^D&(V^P))+$[1]+4129170786&4294967295,L=V+(j<<5&4294967295|j>>>27),j=D+(V^P&(L^V))+$[6]+3225465664&4294967295,D=L+(j<<9&4294967295|j>>>23),j=P+(L^V&(D^L))+$[11]+643717713&4294967295,P=D+(j<<14&4294967295|j>>>18),j=V+(D^L&(P^D))+$[0]+3921069994&4294967295,V=P+(j<<20&4294967295|j>>>12),j=L+(P^D&(V^P))+$[5]+3593408605&4294967295,L=V+(j<<5&4294967295|j>>>27),j=D+(V^P&(L^V))+$[10]+38016083&4294967295,D=L+(j<<9&4294967295|j>>>23),j=P+(L^V&(D^L))+$[15]+3634488961&4294967295,P=D+(j<<14&4294967295|j>>>18),j=V+(D^L&(P^D))+$[4]+3889429448&4294967295,V=P+(j<<20&4294967295|j>>>12),j=L+(P^D&(V^P))+$[9]+568446438&4294967295,L=V+(j<<5&4294967295|j>>>27),j=D+(V^P&(L^V))+$[14]+3275163606&4294967295,D=L+(j<<9&4294967295|j>>>23),j=P+(L^V&(D^L))+$[3]+4107603335&4294967295,P=D+(j<<14&4294967295|j>>>18),j=V+(D^L&(P^D))+$[8]+1163531501&4294967295,V=P+(j<<20&4294967295|j>>>12),j=L+(P^D&(V^P))+$[13]+2850285829&4294967295,L=V+(j<<5&4294967295|j>>>27),j=D+(V^P&(L^V))+$[2]+4243563512&4294967295,D=L+(j<<9&4294967295|j>>>23),j=P+(L^V&(D^L))+$[7]+1735328473&4294967295,P=D+(j<<14&4294967295|j>>>18),j=V+(D^L&(P^D))+$[12]+2368359562&4294967295,V=P+(j<<20&4294967295|j>>>12),j=L+(V^P^D)+$[5]+4294588738&4294967295,L=V+(j<<4&4294967295|j>>>28),j=D+(L^V^P)+$[8]+2272392833&4294967295,D=L+(j<<11&4294967295|j>>>21),j=P+(D^L^V)+$[11]+1839030562&4294967295,P=D+(j<<16&4294967295|j>>>16),j=V+(P^D^L)+$[14]+4259657740&4294967295,V=P+(j<<23&4294967295|j>>>9),j=L+(V^P^D)+$[1]+2763975236&4294967295,L=V+(j<<4&4294967295|j>>>28),j=D+(L^V^P)+$[4]+1272893353&4294967295,D=L+(j<<11&4294967295|j>>>21),j=P+(D^L^V)+$[7]+4139469664&4294967295,P=D+(j<<16&4294967295|j>>>16),j=V+(P^D^L)+$[10]+3200236656&4294967295,V=P+(j<<23&4294967295|j>>>9),j=L+(V^P^D)+$[13]+681279174&4294967295,L=V+(j<<4&4294967295|j>>>28),j=D+(L^V^P)+$[0]+3936430074&4294967295,D=L+(j<<11&4294967295|j>>>21),j=P+(D^L^V)+$[3]+3572445317&4294967295,P=D+(j<<16&4294967295|j>>>16),j=V+(P^D^L)+$[6]+76029189&4294967295,V=P+(j<<23&4294967295|j>>>9),j=L+(V^P^D)+$[9]+3654602809&4294967295,L=V+(j<<4&4294967295|j>>>28),j=D+(L^V^P)+$[12]+3873151461&4294967295,D=L+(j<<11&4294967295|j>>>21),j=P+(D^L^V)+$[15]+530742520&4294967295,P=D+(j<<16&4294967295|j>>>16),j=V+(P^D^L)+$[2]+3299628645&4294967295,V=P+(j<<23&4294967295|j>>>9),j=L+(P^(V|~D))+$[0]+4096336452&4294967295,L=V+(j<<6&4294967295|j>>>26),j=D+(V^(L|~P))+$[7]+1126891415&4294967295,D=L+(j<<10&4294967295|j>>>22),j=P+(L^(D|~V))+$[14]+2878612391&4294967295,P=D+(j<<15&4294967295|j>>>17),j=V+(D^(P|~L))+$[5]+4237533241&4294967295,V=P+(j<<21&4294967295|j>>>11),j=L+(P^(V|~D))+$[12]+1700485571&4294967295,L=V+(j<<6&4294967295|j>>>26),j=D+(V^(L|~P))+$[3]+2399980690&4294967295,D=L+(j<<10&4294967295|j>>>22),j=P+(L^(D|~V))+$[10]+4293915773&4294967295,P=D+(j<<15&4294967295|j>>>17),j=V+(D^(P|~L))+$[1]+2240044497&4294967295,V=P+(j<<21&4294967295|j>>>11),j=L+(P^(V|~D))+$[8]+1873313359&4294967295,L=V+(j<<6&4294967295|j>>>26),j=D+(V^(L|~P))+$[15]+4264355552&4294967295,D=L+(j<<10&4294967295|j>>>22),j=P+(L^(D|~V))+$[6]+2734768916&4294967295,P=D+(j<<15&4294967295|j>>>17),j=V+(D^(P|~L))+$[13]+1309151649&4294967295,V=P+(j<<21&4294967295|j>>>11),j=L+(P^(V|~D))+$[4]+4149444226&4294967295,L=V+(j<<6&4294967295|j>>>26),j=D+(V^(L|~P))+$[11]+3174756917&4294967295,D=L+(j<<10&4294967295|j>>>22),j=P+(L^(D|~V))+$[2]+718787259&4294967295,P=D+(j<<15&4294967295|j>>>17),j=V+(D^(P|~L))+$[9]+3951481745&4294967295,q.g[0]=q.g[0]+L&4294967295,q.g[1]=q.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,q.g[2]=q.g[2]+P&4294967295,q.g[3]=q.g[3]+D&4294967295}i.prototype.u=function(q,L){L===void 0&&(L=q.length);for(var V=L-this.blockSize,$=this.B,P=this.h,D=0;D<L;){if(P==0)for(;D<=V;)r(this,q,D),D+=this.blockSize;if(typeof q=="string"){for(;D<L;)if($[P++]=q.charCodeAt(D++),P==this.blockSize){r(this,$),P=0;break}}else for(;D<L;)if($[P++]=q[D++],P==this.blockSize){r(this,$),P=0;break}}this.h=P,this.o+=L},i.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var L=1;L<q.length-8;++L)q[L]=0;var V=8*this.o;for(L=q.length-8;L<q.length;++L)q[L]=V&255,V/=256;for(this.u(q),q=Array(16),L=V=0;4>L;++L)for(var $=0;32>$;$+=8)q[V++]=this.g[L]>>>$&255;return q};function s(q,L){var V=c;return Object.prototype.hasOwnProperty.call(V,q)?V[q]:V[q]=L(q)}function o(q,L){this.h=L;for(var V=[],$=!0,P=q.length-1;0<=P;P--){var D=q[P]|0;$&&D==L||(V[P]=D,$=!1)}this.g=V}var c={};function u(q){return-128<=q&&128>q?s(q,function(L){return new o([L|0],0>L?-1:0)}):new o([q|0],0>q?-1:0)}function f(q){if(isNaN(q)||!isFinite(q))return v;if(0>q)return I(f(-q));for(var L=[],V=1,$=0;q>=V;$++)L[$]=q/V|0,V*=4294967296;return new o(L,0)}function p(q,L){if(q.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(q.charAt(0)=="-")return I(p(q.substring(1),L));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=f(Math.pow(L,8)),$=v,P=0;P<q.length;P+=8){var D=Math.min(8,q.length-P),j=parseInt(q.substring(P,P+D),L);8>D?(D=f(Math.pow(L,D)),$=$.j(D).add(f(j))):($=$.j(V),$=$.add(f(j)))}return $}var v=u(0),b=u(1),_=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-I(this).m();for(var q=0,L=1,V=0;V<this.g.length;V++){var $=this.i(V);q+=(0<=$?$:4294967296+$)*L,L*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(E(this))return"0";if(N(this))return"-"+I(this).toString(q);for(var L=f(Math.pow(q,6)),V=this,$="";;){var P=nt(V,L).g;V=C(V,P.j(L));var D=((0<V.g.length?V.g[0]:V.h)>>>0).toString(q);if(V=P,E(V))return D+$;for(;6>D.length;)D="0"+D;$=D+$}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function E(q){if(q.h!=0)return!1;for(var L=0;L<q.g.length;L++)if(q.g[L]!=0)return!1;return!0}function N(q){return q.h==-1}n.l=function(q){return q=C(this,q),N(q)?-1:E(q)?0:1};function I(q){for(var L=q.g.length,V=[],$=0;$<L;$++)V[$]=~q.g[$];return new o(V,~q.h).add(b)}n.abs=function(){return N(this)?I(this):this},n.add=function(q){for(var L=Math.max(this.g.length,q.g.length),V=[],$=0,P=0;P<=L;P++){var D=$+(this.i(P)&65535)+(q.i(P)&65535),j=(D>>>16)+(this.i(P)>>>16)+(q.i(P)>>>16);$=j>>>16,D&=65535,j&=65535,V[P]=j<<16|D}return new o(V,V[V.length-1]&-2147483648?-1:0)};function C(q,L){return q.add(I(L))}n.j=function(q){if(E(this)||E(q))return v;if(N(this))return N(q)?I(this).j(I(q)):I(I(this).j(q));if(N(q))return I(this.j(I(q)));if(0>this.l(_)&&0>q.l(_))return f(this.m()*q.m());for(var L=this.g.length+q.g.length,V=[],$=0;$<2*L;$++)V[$]=0;for($=0;$<this.g.length;$++)for(var P=0;P<q.g.length;P++){var D=this.i($)>>>16,j=this.i($)&65535,tt=q.i(P)>>>16,pt=q.i(P)&65535;V[2*$+2*P]+=j*pt,O(V,2*$+2*P),V[2*$+2*P+1]+=D*pt,O(V,2*$+2*P+1),V[2*$+2*P+1]+=j*tt,O(V,2*$+2*P+1),V[2*$+2*P+2]+=D*tt,O(V,2*$+2*P+2)}for($=0;$<L;$++)V[$]=V[2*$+1]<<16|V[2*$];for($=L;$<2*L;$++)V[$]=0;return new o(V,0)};function O(q,L){for(;(q[L]&65535)!=q[L];)q[L+1]+=q[L]>>>16,q[L]&=65535,L++}function H(q,L){this.g=q,this.h=L}function nt(q,L){if(E(L))throw Error("division by zero");if(E(q))return new H(v,v);if(N(q))return L=nt(I(q),L),new H(I(L.g),I(L.h));if(N(L))return L=nt(q,I(L)),new H(I(L.g),L.h);if(30<q.g.length){if(N(q)||N(L))throw Error("slowDivide_ only works with positive integers.");for(var V=b,$=L;0>=$.l(q);)V=it(V),$=it($);var P=gt(V,1),D=gt($,1);for($=gt($,2),V=gt(V,2);!E($);){var j=D.add($);0>=j.l(q)&&(P=P.add(V),D=j),$=gt($,1),V=gt(V,1)}return L=C(q,P.j(L)),new H(P,L)}for(P=v;0<=q.l(L);){for(V=Math.max(1,Math.floor(q.m()/L.m())),$=Math.ceil(Math.log(V)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),D=f(V),j=D.j(L);N(j)||0<j.l(q);)V-=$,D=f(V),j=D.j(L);E(D)&&(D=b),P=P.add(D),q=C(q,j)}return new H(P,q)}n.A=function(q){return nt(this,q).h},n.and=function(q){for(var L=Math.max(this.g.length,q.g.length),V=[],$=0;$<L;$++)V[$]=this.i($)&q.i($);return new o(V,this.h&q.h)},n.or=function(q){for(var L=Math.max(this.g.length,q.g.length),V=[],$=0;$<L;$++)V[$]=this.i($)|q.i($);return new o(V,this.h|q.h)},n.xor=function(q){for(var L=Math.max(this.g.length,q.g.length),V=[],$=0;$<L;$++)V[$]=this.i($)^q.i($);return new o(V,this.h^q.h)};function it(q){for(var L=q.g.length+1,V=[],$=0;$<L;$++)V[$]=q.i($)<<1|q.i($-1)>>>31;return new o(V,q.h)}function gt(q,L){var V=L>>5;L%=32;for(var $=q.g.length-V,P=[],D=0;D<$;D++)P[D]=0<L?q.i(D+V)>>>L|q.i(D+V+1)<<32-L:q.i(D+V);return new o(P,q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,I4=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,ju=o}).apply(typeof KS<"u"?KS:typeof self<"u"?self:typeof window<"u"?window:{});var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C4,Sp,R4,o0,S2,L4,P4,k4;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,k){return m==Array.prototype||m==Object.prototype||(m[x]=k.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cm=="object"&&Cm];for(var x=0;x<m.length;++x){var k=m[x];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=e(this);function r(m,x){if(x)t:{var k=i;m=m.split(".");for(var X=0;X<m.length-1;X++){var bt=m[X];if(!(bt in k))break t;k=k[bt]}m=m[m.length-1],X=k[m],x=x(X),x!=X&&x!=null&&t(k,m,{configurable:!0,writable:!0,value:x})}}function s(m,x){m instanceof String&&(m+="");var k=0,X=!1,bt={next:function(){if(!X&&k<m.length){var Lt=k++;return{value:x(Lt,m[Lt]),done:!1}}return X=!0,{done:!0,value:void 0}}};return bt[Symbol.iterator]=function(){return bt},bt}r("Array.prototype.values",function(m){return m||function(){return s(this,function(x,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function f(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function p(m,x,k){return m.call.apply(m.bind,arguments)}function v(m,x,k){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var bt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(bt,X),m.apply(x,bt)}}return function(){return m.apply(x,arguments)}}function b(m,x,k){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,b.apply(null,arguments)}function _(m,x){var k=Array.prototype.slice.call(arguments,1);return function(){var X=k.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function E(m,x){function k(){}k.prototype=x.prototype,m.aa=x.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(X,bt,Lt){for(var Kt=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)Kt[Ce-2]=arguments[Ce];return x.prototype[bt].apply(X,Kt)}}function N(m){const x=m.length;if(0<x){const k=Array(x);for(let X=0;X<x;X++)k[X]=m[X];return k}return[]}function I(m,x){for(let k=1;k<arguments.length;k++){const X=arguments[k];if(u(X)){const bt=m.length||0,Lt=X.length||0;m.length=bt+Lt;for(let Kt=0;Kt<Lt;Kt++)m[bt+Kt]=X[Kt]}else m.push(X)}}class C{constructor(x,k){this.i=x,this.j=k,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(m){return/^[\s\xa0]*$/.test(m)}function H(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function nt(m){return nt[" "](m),m}nt[" "]=function(){};var it=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function gt(m,x,k){for(const X in m)x.call(k,m[X],X,m)}function q(m,x){for(const k in m)x.call(void 0,m[k],k,m)}function L(m){const x={};for(const k in m)x[k]=m[k];return x}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(m,x){let k,X;for(let bt=1;bt<arguments.length;bt++){X=arguments[bt];for(k in X)m[k]=X[k];for(let Lt=0;Lt<V.length;Lt++)k=V[Lt],Object.prototype.hasOwnProperty.call(X,k)&&(m[k]=X[k])}}function P(m){var x=1;m=m.split(":");const k=[];for(;0<x&&m.length;)k.push(m.shift()),x--;return m.length&&k.push(m.join(":")),k}function D(m){c.setTimeout(()=>{throw m},0)}function j(){var m=xt;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class tt{constructor(){this.h=this.g=null}add(x,k){const X=pt.get();X.set(x,k),this.h?this.h.next=X:this.g=X,this.h=X}}var pt=new C(()=>new rt,m=>m.reset());class rt{constructor(){this.next=this.g=this.h=null}set(x,k){this.h=x,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ft=!1,xt=new tt,J=()=>{const m=c.Promise.resolve(void 0);ht=()=>{m.then(At)}};var At=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){D(k)}var x=pt;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}ft=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};c.addEventListener("test",k,x),c.removeEventListener("test",k,x)}catch{}return m}();function ot(m,x){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(it){t:{try{nt(x.nodeName);var bt=!0;break t}catch{}bt=!1}bt||(x=null)}}else k=="mouseover"?x=m.fromElement:k=="mouseout"&&(x=m.toElement);this.relatedTarget=x,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ct[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ot.aa.h.call(this)}}E(ot,Y);var ct={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Et=0;function kt(m,x,k,X,bt){this.listener=m,this.proxy=null,this.src=x,this.type=k,this.capture=!!X,this.ha=bt,this.key=++Et,this.da=this.fa=!1}function Jt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Xt(m){this.src=m,this.g={},this.h=0}Xt.prototype.add=function(m,x,k,X,bt){var Lt=m.toString();m=this.g[Lt],m||(m=this.g[Lt]=[],this.h++);var Kt=te(m,x,X,bt);return-1<Kt?(x=m[Kt],k||(x.fa=!1)):(x=new kt(x,this.src,Lt,!!X,bt),x.fa=k,m.push(x)),x};function ne(m,x){var k=x.type;if(k in m.g){var X=m.g[k],bt=Array.prototype.indexOf.call(X,x,void 0),Lt;(Lt=0<=bt)&&Array.prototype.splice.call(X,bt,1),Lt&&(Jt(x),m.g[k].length==0&&(delete m.g[k],m.h--))}}function te(m,x,k,X){for(var bt=0;bt<m.length;++bt){var Lt=m[bt];if(!Lt.da&&Lt.listener==x&&Lt.capture==!!k&&Lt.ha==X)return bt}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Ft={};function lt(m,x,k,X,bt){if(Array.isArray(x)){for(var Lt=0;Lt<x.length;Lt++)lt(m,x[Lt],k,X,bt);return null}return k=Ve(k),m&&m[Nt]?m.K(x,k,f(X)?!!X.capture:!1,bt):Te(m,x,k,!1,X,bt)}function Te(m,x,k,X,bt,Lt){if(!x)throw Error("Invalid event type");var Kt=f(bt)?!!bt.capture:!!bt,Ce=_e(m);if(Ce||(m[Se]=Ce=new Xt(m)),k=Ce.add(x,k,X,Kt,Lt),k.proxy)return k;if(X=fe(),k.proxy=X,X.src=m,X.listener=k,m.addEventListener)et||(bt=Kt),bt===void 0&&(bt=!1),m.addEventListener(x.toString(),X,bt);else if(m.attachEvent)m.attachEvent(se(x.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return k}function fe(){function m(k){return x.call(m.src,m.listener,k)}const x=ae;return m}function Qt(m,x,k,X,bt){if(Array.isArray(x))for(var Lt=0;Lt<x.length;Lt++)Qt(m,x[Lt],k,X,bt);else X=f(X)?!!X.capture:!!X,k=Ve(k),m&&m[Nt]?(m=m.i,x=String(x).toString(),x in m.g&&(Lt=m.g[x],k=te(Lt,k,X,bt),-1<k&&(Jt(Lt[k]),Array.prototype.splice.call(Lt,k,1),Lt.length==0&&(delete m.g[x],m.h--)))):m&&(m=_e(m))&&(x=m.g[x.toString()],m=-1,x&&(m=te(x,k,X,bt)),(k=-1<m?x[m]:null)&&Zt(k))}function Zt(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Nt])ne(x.i,m);else{var k=m.type,X=m.proxy;x.removeEventListener?x.removeEventListener(k,X,m.capture):x.detachEvent?x.detachEvent(se(k),X):x.addListener&&x.removeListener&&x.removeListener(X),(k=_e(x))?(ne(k,m),k.h==0&&(k.src=null,x[Se]=null)):Jt(m)}}}function se(m){return m in Ft?Ft[m]:Ft[m]="on"+m}function ae(m,x){if(m.da)m=!0;else{x=new ot(x,this);var k=m.listener,X=m.ha||m.src;m.fa&&Zt(m),m=k.call(X,x)}return m}function _e(m){return m=m[Se],m instanceof Xt?m:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(m){return typeof m=="function"?m:(m[Le]||(m[Le]=function(x){return m.handleEvent(x)}),m[Le])}function be(){F.call(this),this.i=new Xt(this),this.M=this,this.F=null}E(be,F),be.prototype[Nt]=!0,be.prototype.removeEventListener=function(m,x,k,X){Qt(this,m,x,k,X)};function me(m,x){var k,X=m.F;if(X)for(k=[];X;X=X.F)k.push(X);if(m=m.M,X=x.type||x,typeof x=="string")x=new Y(x,m);else if(x instanceof Y)x.target=x.target||m;else{var bt=x;x=new Y(X,m),$(x,bt)}if(bt=!0,k)for(var Lt=k.length-1;0<=Lt;Lt--){var Kt=x.g=k[Lt];bt=Ge(Kt,X,!0,x)&&bt}if(Kt=x.g=m,bt=Ge(Kt,X,!0,x)&&bt,bt=Ge(Kt,X,!1,x)&&bt,k)for(Lt=0;Lt<k.length;Lt++)Kt=x.g=k[Lt],bt=Ge(Kt,X,!1,x)&&bt}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var k=m.g[x],X=0;X<k.length;X++)Jt(k[X]);delete m.g[x],m.h--}}this.F=null},be.prototype.K=function(m,x,k,X){return this.i.add(String(m),x,!1,k,X)},be.prototype.L=function(m,x,k,X){return this.i.add(String(m),x,!0,k,X)};function Ge(m,x,k,X){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var bt=!0,Lt=0;Lt<x.length;++Lt){var Kt=x[Lt];if(Kt&&!Kt.da&&Kt.capture==k){var Ce=Kt.listener,rn=Kt.ha||Kt.src;Kt.fa&&ne(m.i,Kt),bt=Ce.call(rn,X)!==!1&&bt}}return bt&&!X.defaultPrevented}function de(m,x,k){if(typeof m=="function")k&&(m=b(m,k));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(m,x||0)}function We(m){m.g=de(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class oe extends F{constructor(x,k){super(),this.m=x,this.l=k,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(m){F.call(this),this.h=m,this.g={}}E(ci,F);var Ke=[];function ar(m){gt(m.g,function(x,k){this.g.hasOwnProperty(k)&&Zt(x)},m),m.g={}}ci.prototype.N=function(){ci.aa.N.call(this),ar(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=c.JSON.stringify,Cn=c.JSON.parse,vr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function cn(){}cn.prototype.h=null;function Js(m){return m.h||(m.h=m.i())}function Hn(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){Y.call(this,"d")}E(or,Y);function Gn(){Y.call(this,"c")}E(Gn,Y);var xe={},un=null;function Hr(){return un=un||new be}xe.La="serverreachability";function ui(m){Y.call(this,xe.La,m)}E(ui,Y);function lr(m){const x=Hr();me(x,new ui(x))}xe.STAT_EVENT="statevent";function ys(m,x){Y.call(this,xe.STAT_EVENT,m),this.stat=x}E(ys,Y);function le(m){const x=Hr();me(x,new ys(x,m))}xe.Ma="timingevent";function Rn(m,x){Y.call(this,xe.Ma,m),this.size=x}E(Rn,Y);function Ln(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},x)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function ii(m,x,k,X,bt,Lt){m.info(function(){if(m.g)if(Lt)for(var Kt="",Ce=Lt.split("&"),rn=0;rn<Ce.length;rn++){var Be=Ce[rn].split("=");if(1<Be.length){var Tn=Be[0];Be=Be[1];var Pn=Tn.split("_");Kt=2<=Pn.length&&Pn[1]=="type"?Kt+(Tn+"="+Be+"&"):Kt+(Tn+"=redacted&")}}else Kt=null;else Kt=Lt;return"XMLHTTP REQ ("+X+") [attempt "+bt+"]: "+x+`
`+k+`
`+Kt})}function hi(m,x,k,X,bt,Lt,Kt){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+bt+"]: "+x+`
`+k+`
`+Lt+" "+Kt})}function Ai(m,x,k,X){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Rr(m,k)+(X?" "+X:"")})}function io(m,x){m.info(function(){return"TIMEOUT: "+x})}Qn.prototype.info=function(){};function Rr(m,x){if(!m.g)return x;if(!x)return null;try{var k=JSON.parse(x);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var X=k[m];if(!(2>X.length)){var bt=X[1];if(Array.isArray(bt)&&!(1>bt.length)){var Lt=bt[0];if(Lt!="noop"&&Lt!="stop"&&Lt!="close")for(var Kt=1;Kt<bt.length;Kt++)bt[Kt]=""}}}}return Je(k)}catch{return x}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function ji(){}E(ji,cn),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Ti=new ji;function Wn(m,x,k,X){this.j=m,this.i=x,this.l=k,this.R=X||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var Zs={},ta={};function yr(m,x,k){m.L=1,m.v=Ca(ur(x)),m.m=k,m.P=!0,Gr(m,null)}function Gr(m,x){m.F=Date.now(),so(m),m.A=ur(m.v);var k=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),Ie(k.i,"t",X),m.C=0,k=m.j.J,m.h=new Sn,m.g=z(m.j,k?x:null,!m.m),0<m.O&&(m.M=new oe(b(m.Y,m,m.g),m.O)),x=m.U,k=m.g,X=m.ca;var bt="readystatechange";Array.isArray(bt)||(bt&&(Ke[0]=bt.toString()),bt=Ke);for(var Lt=0;Lt<bt.length;Lt++){var Kt=lt(k,bt[Lt],X||x.handleEvent,!1,x.h||x);if(!Kt)break;x.g[Kt.key]=Kt}x=m.H?L(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),lr(),ii(m.i,m.u,m.A,m.l,m.R,m.m)}Wn.prototype.ca=function(m){m=m.target;const x=this.M;x&&Ei(m)==3?x.j():this.Y(m)},Wn.prototype.Y=function(m){try{if(m==this.g)t:{const Pn=Ei(this.g);var x=this.g.Ba();const Ms=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Gc(this.g)))){this.J||Pn!=4||x==7||(x==8||0>=Ms?lr(3):lr(2)),_s(this);var k=this.g.Z();this.X=k;e:if(ro(this)){var X=Gc(this.g);m="";var bt=X.length,Lt=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),bs(this);var Kt="";break e}this.h.i=new c.TextDecoder}for(x=0;x<bt;x++)this.h.h=!0,m+=this.h.i.decode(X[x],{stream:!(Lt&&x==bt-1)});X.length=0,this.h.g+=m,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=k==200,hi(this.i,this.u,this.A,this.l,this.R,Pn,k),this.o){if(this.T&&!this.K){e:{if(this.g){var Ce,rn=this.g;if((Ce=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ce)){var Be=Ce;break e}}Be=null}if(k=Be)Ai(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,k);else{this.o=!1,this.s=3,le(12),Fi(this),bs(this);break t}}if(this.P){k=!0;let mi;for(;!this.J&&this.C<Kt.length;)if(mi=jl(this,Kt),mi==ta){Pn==4&&(this.s=4,le(14),k=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==Zs){this.s=4,le(15),Ai(this.i,this.l,Kt,"[Invalid Chunk]"),k=!1;break}else Ai(this.i,this.l,mi,null),ea(this,mi);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Kt.length!=0||this.h.h||(this.s=1,le(16),k=!1),this.o=this.o&&k,!k)Ai(this.i,this.l,Kt,"[Invalid Chunked Response]"),Fi(this),bs(this);else if(0<Kt.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),Oa(Tn),Tn.M=!0,le(11))}}else Ai(this.i,this.l,Kt,null),ea(this,Kt);Pn==4&&Fi(this),this.o&&!this.J&&(Pn==4?Ma(this.j,this):(this.o=!1,so(this)))}else Pa(this.g),k==400&&0<Kt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Fi(this),bs(this)}}}catch{}finally{}};function ro(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function jl(m,x){var k=m.C,X=x.indexOf(`
`,k);return X==-1?ta:(k=Number(x.substring(k,X)),isNaN(k)?Zs:(X+=1,X+k>x.length?ta:(x=x.slice(X,X+k),m.C=X+k,x)))}Wn.prototype.cancel=function(){this.J=!0,Fi(this)};function so(m){m.S=Date.now()+m.I,Bc(m,m.I)}function Bc(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ln(b(m.ba,m),x)}function _s(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Wn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(io(this.i,this.A),this.L!=2&&(lr(),le(17)),Fi(this),this.s=2,bs(this)):Bc(this,this.S-m)};function bs(m){m.j.G==0||m.J||Ma(m.j,m)}function Fi(m){_s(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,ar(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function ea(m,x){try{var k=m.j;if(k.G!=0&&(k.g==m||Fl(k.h,m))){if(!m.K&&Fl(k.h,m)&&k.G==3){try{var X=k.Da.g.parse(x)}catch{X=null}if(Array.isArray(X)&&X.length==3){var bt=X;if(bt[0]==0){t:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)ca(k),Go(k);else break t;ho(k),le(18)}}else k.za=bt[1],0<k.za-k.T&&37500>bt[2]&&k.F&&k.v==0&&!k.C&&(k.C=Ln(b(k.Za,k),6e3));if(1>=na(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Sr(k,11)}else if((m.K||k.g==m)&&ca(k),!O(x))for(bt=k.Da.g.parse(x),x=0;x<bt.length;x++){let Be=bt[x];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const Tn=Be[3];Tn!=null&&(k.la=Tn,k.j.info("VER="+k.la));const Pn=Be[4];Pn!=null&&(k.Aa=Pn,k.j.info("SVER="+k.Aa));const Ms=Be[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(X=1.5*Ms,k.L=X,k.j.info("backChannelRequestTimeoutMs_="+X)),X=k;const mi=m.g;if(mi){const Xr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var Lt=X.h;Lt.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&($n(Lt,Lt.h),Lt.h=null))}if(X.D){const ja=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(X.ya=ja,An(X.I,X.D,ja))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),X=k;var Kt=m;if(X.qa=A(X,X.J?X.ia:null,X.W),Kt.K){Qi(X.h,Kt);var Ce=Kt,rn=X.L;rn&&(Ce.I=rn),Ce.B&&(_s(Ce),so(Ce)),X.g=Kt}else $o(X);0<k.i.length&&Wo(k)}else Be[0]!="stop"&&Be[0]!="close"||Sr(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Sr(k,7):la(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}lr(4)}catch{}}var Uc=class{constructor(m,x){this.g=m,this.map=x}};function Is(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function na(m){return m.h?1:m.g?m.g.size:0}function Fl(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function $n(m,x){m.g?m.g.add(x):m.h=x}function Qi(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}Is.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function zo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const k of m.g.values())x=x.concat(k.D);return x}return N(m.i)}function zc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var x=[],k=m.length,X=0;X<k;X++)x.push(m[X]);return x}x=[],k=0;for(X in m)x[k++]=m[X];return x}function Ea(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var x=[];m=m.length;for(var k=0;k<m;k++)x.push(k);return x}x=[],k=0;for(const X in m)x[k++]=X;return x}}}function Vl(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var k=Ea(m),X=zc(m),bt=X.length,Lt=0;Lt<bt;Lt++)x.call(void 0,X[Lt],k&&k[Lt],m)}var cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(m,x){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var X=m[k].indexOf("="),bt=null;if(0<=X){var Lt=m[k].substring(0,X);bt=m[k].substring(X+1)}else Lt=m[k];x(Lt,bt?decodeURIComponent(bt.replace(/\+/g," ")):"")}}}function gn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof gn){this.h=m.h,Na(this,m.j),this.o=m.o,this.g=m.g,Ia(this,m.s),this.l=m.l;var x=m.i,k=new Rs;k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),Cs(this,k),this.m=m.m}else m&&(x=String(m).match(cr))?(this.h=!1,Na(this,x[1]||"",!0),this.o=Wr(x[2]||""),this.g=Wr(x[3]||"",!0),Ia(this,x[4]),this.l=Wr(x[5]||"",!0),Cs(this,x[6]||"",!0),this.m=Wr(x[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}gn.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ia(x,Bl,!0),":");var k=this.g;return(k||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ia(x,Bl,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(ia(k,k.charAt(0)=="/"?ra:Ul,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",ia(k,sa)),m.join("")};function ur(m){return new gn(m)}function Na(m,x,k){m.j=k?Wr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Ia(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Cs(m,x,k){x instanceof Rs?(m.i=x,Hc(m.i,m.h)):(k||(x=ia(x,Ho)),m.i=new Rs(x,m.h))}function An(m,x,k){m.i.set(x,k)}function Ca(m){return An(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Wr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ia(m,x,k){return typeof m=="string"?(m=encodeURI(m).replace(x,qc),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function qc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bl=/[#\/\?@]/g,Ul=/[#\?:]/g,ra=/[#\?]/g,Ho=/[#\?@]/g,sa=/#/g;function Rs(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function jn(m){m.g||(m.g=new Map,m.h=0,m.i&&qo(m.i,function(x,k){m.add(decodeURIComponent(x.replace(/\+/g," ")),k)}))}n=Rs.prototype,n.add=function(m,x){jn(this),this.i=null,m=Ps(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(x),this.h+=1,this};function aa(m,x){jn(m),x=Ps(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Ls(m,x){return jn(m),x=Ps(m,x),m.g.has(x)}n.forEach=function(m,x){jn(this),this.g.forEach(function(k,X){k.forEach(function(bt){m.call(x,bt,X,this)},this)},this)},n.na=function(){jn(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),k=[];for(let X=0;X<x.length;X++){const bt=m[X];for(let Lt=0;Lt<bt.length;Lt++)k.push(x[X])}return k},n.V=function(m){jn(this);let x=[];if(typeof m=="string")Ls(this,m)&&(x=x.concat(this.g.get(Ps(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)x=x.concat(m[k])}return x},n.set=function(m,x){return jn(this),this.i=null,m=Ps(this,m),Ls(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Ie(m,x,k){aa(m,x),0<k.length&&(m.i=null,m.g.set(Ps(m,x),N(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var k=0;k<x.length;k++){var X=x[k];const Lt=encodeURIComponent(String(X)),Kt=this.V(X);for(X=0;X<Kt.length;X++){var bt=Lt;Kt[X]!==""&&(bt+="="+encodeURIComponent(String(Kt[X]))),m.push(bt)}}return this.i=m.join("&")};function Ps(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Hc(m,x){x&&!m.j&&(jn(m),m.i=null,m.g.forEach(function(k,X){var bt=X.toLowerCase();X!=bt&&(aa(this,X),Ie(this,bt,k))},m)),m.j=x}function _r(m,x){const k=new Qn;if(c.Image){const X=new Image;X.onload=_(Lr,k,"TestLoadImage: loaded",!0,x,X),X.onerror=_(Lr,k,"TestLoadImage: error",!1,x,X),X.onabort=_(Lr,k,"TestLoadImage: abort",!1,x,X),X.ontimeout=_(Lr,k,"TestLoadImage: timeout",!1,x,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else x(!1)}function $r(m,x){const k=new Qn,X=new AbortController,bt=setTimeout(()=>{X.abort(),Lr(k,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:X.signal}).then(Lt=>{clearTimeout(bt),Lt.ok?Lr(k,"TestPingServer: ok",!0,x):Lr(k,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(bt),Lr(k,"TestPingServer: error",!1,x)})}function Lr(m,x,k,X,bt){try{bt&&(bt.onload=null,bt.onerror=null,bt.onabort=null,bt.ontimeout=null),X(k)}catch{}}function ks(){this.g=new vr}function Yr(m,x,k){const X=k||"";try{Vl(m,function(bt,Lt){let Kt=bt;f(bt)&&(Kt=Je(bt)),x.push(X+Lt+"="+encodeURIComponent(Kt))})}catch(bt){throw x.push(X+"type="+encodeURIComponent("_badmap")),bt}}function Ra(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Ra,cn),Ra.prototype.g=function(){return new oa(this.l,this.j)},Ra.prototype.i=function(m){return function(){return m}}({});function oa(m,x){be.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(oa,be),n=oa.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,br(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Kr(this):br(this),this.readyState==3&&zl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Kr(this))},n.Qa=function(m){this.g&&(this.response=m,Kr(this))},n.ga=function(){this.g&&Kr(this)};function Kr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,br(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var k=x.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=x.next();return m.join(`\r
`)};function br(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ds(m){let x="";return gt(m,function(k,X){x+=X,x+=":",x+=k,x+=`\r
`}),x}function xi(m,x,k){t:{for(X in k){var X=!1;break t}X=!0}X||(k=Ds(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):An(m,x,k))}function nn(m){be.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(nn,be);var La=/^https?$/i,Os=["POST","PUT"];n=nn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,k,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?Js(this.o):Js(Ti),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Lt){ql(this,Lt);return}if(m=k||"",k=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var bt in X)k.set(bt,X[bt]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Lt of X.keys())k.set(Lt,X.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(k.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),bt=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Os,x,void 0))||X||bt||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Kt]of k)this.g.setRequestHeader(Lt,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wr(this),this.u=!0,this.g.send(m),this.u=!1}catch(Lt){ql(this,Lt)}};function ql(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,ao(m),ws(m)}function ao(m){m.A||(m.A=!0,me(m,"complete"),me(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,me(this,"complete"),me(this,"abort"),ws(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ws(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},n.bb=function(){oo(this)};function oo(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ei(m)!=4||m.Z()!=2)){if(m.u&&Ei(m)==4)de(m.Ea,0,m);else if(me(m,"readystatechange"),Ei(m)==4){m.h=!1;try{const Kt=m.Z();t:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var k;if(!(k=x)){var X;if(X=Kt===0){var bt=String(m.D).match(cr)[1]||null;!bt&&c.self&&c.self.location&&(bt=c.self.location.protocol.slice(0,-1)),X=!La.test(bt?bt.toLowerCase():"")}k=X}if(k)me(m,"complete"),me(m,"success");else{m.m=6;try{var Lt=2<Ei(m)?m.g.statusText:""}catch{Lt=""}m.l=Lt+" ["+m.Z()+"]",ao(m)}}finally{ws(m)}}}}function ws(m,x){if(m.g){wr(m);const k=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||me(m,"ready");try{k.onreadystatechange=X}catch{}}}function wr(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ei(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Cn(x)}};function Gc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(m){const x={};m=(m.g&&2<=Ei(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(O(m[X]))continue;var k=P(m[X]);const bt=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Lt=x[bt]||[];x[bt]=Lt,Lt.push(k)}q(x,function(X){return X.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(m,x,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||x}function ka(m){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,m),this.cb=hr("retryDelaySeedMs",1e4,m),this.Wa=hr("forwardChannelMaxRetries",2,m),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(m&&m.concurrentRequestLimit),this.Da=new ks,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(m,x,k,X){le(0),this.W=m,this.H=x||{},k&&X!==void 0&&(this.H.OSID=k,this.H.OAID=X),this.F=this.X,this.I=A(this,null,this.W),Wo(this)};function la(m){if(lo(m),m.G==3){var x=m.U++,k=ur(m.I);if(An(k,"SID",m.K),An(k,"RID",x),An(k,"TYPE","terminate"),Da(m,k),x=new Wn(m,m.j,x),x.L=2,x.v=Ca(ur(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=x.v,k=!0),k||(x.g=z(x.j,null),x.g.ea(x.v)),x.F=Date.now(),so(x)}Yo(m)}function Go(m){m.g&&(Oa(m),m.g.cancel(),m.g=null)}function lo(m){Go(m),m.u&&(c.clearTimeout(m.u),m.u=null),ca(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Wo(m){if(!Uo(m.h)&&!m.s){m.s=!0;var x=m.Ga;ht||J(),ft||(ht(),ft=!0),xt.add(x,m),m.B=0}}function Hl(m,x){return na(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ln(b(m.Ga,m,x),fo(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const bt=new Wn(this,this.j,m);let Lt=this.o;if(this.S&&(Lt?(Lt=L(Lt),$(Lt,this.S)):Lt=this.S),this.m!==null||this.O||(bt.H=Lt,Lt=null),this.P)t:{for(var x=0,k=0;k<this.i.length;k++){e:{var X=this.i[k];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break e}X=void 0}if(X===void 0)break;if(x+=X,4096<x){x=k;break t}if(x===4096||k===this.i.length-1){x=k+1;break t}}x=1e3}else x=1e3;x=uo(this,bt,x),k=ur(this.I),An(k,"RID",m),An(k,"CVER",22),this.D&&An(k,"X-HTTP-Session-Id",this.D),Da(this,k),Lt&&(this.O?x="headers="+encodeURIComponent(String(Ds(Lt)))+"&"+x:this.m&&xi(k,this.m,Lt)),$n(this.h,bt),this.Ua&&An(k,"TYPE","init"),this.P?(An(k,"$req",x),An(k,"SID","null"),bt.T=!0,yr(bt,k,null)):yr(bt,k,x),this.G=2}}else this.G==3&&(m?co(this,m):this.i.length==0||Uo(this.h)||co(this))};function co(m,x){var k;x?k=x.l:k=m.U++;const X=ur(m.I);An(X,"SID",m.K),An(X,"RID",k),An(X,"AID",m.T),Da(m,X),m.m&&m.o&&xi(X,m.m,m.o),k=new Wn(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),x&&(m.i=x.D.concat(m.i)),x=uo(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),$n(m.h,k),yr(k,X,x)}function Da(m,x){m.H&&gt(m.H,function(k,X){An(x,X,k)}),m.l&&Vl({},function(k,X){An(x,X,k)})}function uo(m,x,k){k=Math.min(m.i.length,k);var X=m.l?b(m.l.Na,m.l,m):null;t:{var bt=m.i;let Lt=-1;for(;;){const Kt=["count="+k];Lt==-1?0<k?(Lt=bt[0].g,Kt.push("ofs="+Lt)):Lt=0:Kt.push("ofs="+Lt);let Ce=!0;for(let rn=0;rn<k;rn++){let Be=bt[rn].g;const Tn=bt[rn].map;if(Be-=Lt,0>Be)Lt=Math.max(0,bt[rn].g-100),Ce=!1;else try{Yr(Tn,Kt,"req"+Be+"_")}catch{X&&X(Tn)}}if(Ce){X=Kt.join("&");break t}}}return m=m.i.splice(0,k),x.D=m,X}function $o(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;ht||J(),ft||(ht(),ft=!0),xt.add(x,m),m.v=0}}function ho(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ln(b(m.Fa,m),fo(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ln(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Go(this),Wc(this))};function Oa(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Wc(m){m.g=new Wn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=ur(m.qa);An(x,"RID","rpc"),An(x,"SID",m.K),An(x,"AID",m.T),An(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&An(x,"TO",m.ja),An(x,"TYPE","xmlhttp"),Da(m,x),m.m&&m.o&&xi(x,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=Ca(ur(x)),k.m=null,k.P=!0,Gr(k,m)}n.Za=function(){this.C!=null&&(this.C=null,Go(this),ho(this),le(19))};function ca(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Ma(m,x){var k=null;if(m.g==x){ca(m),Oa(m),m.g=null;var X=2}else if(Fl(m.h,x))k=x.D,Qi(m.h,x),X=1;else return;if(m.G!=0){if(x.o)if(X==1){k=x.m?x.m.length:0,x=Date.now()-x.F;var bt=m.B;X=Hr(),me(X,new Rn(X,k)),Wo(m)}else $o(m);else if(bt=x.s,bt==3||bt==0&&0<x.X||!(X==1&&Hl(m,x)||X==2&&ho(m)))switch(k&&0<k.length&&(x=m.h,x.i=x.i.concat(k)),bt){case 1:Sr(m,5);break;case 4:Sr(m,10);break;case 3:Sr(m,6);break;default:Sr(m,2)}}}function fo(m,x){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*x}function Sr(m,x){if(m.j.info("Error code "+x),x==2){var k=b(m.fb,m),X=m.Xa;const bt=!X;X=new gn(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Na(X,"https"),Ca(X),bt?_r(X.toString(),k):$r(X.toString(),k)}else le(2);m.G=0,m.l&&m.l.sa(x),Yo(m),lo(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Yo(m){if(m.G=0,m.ka=[],m.l){const x=zo(m.h);(x.length!=0||m.i.length!=0)&&(I(m.ka,x),I(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function A(m,x,k){var X=k instanceof gn?ur(k):new gn(k);if(X.g!="")x&&(X.g=x+"."+X.g),Ia(X,X.s);else{var bt=c.location;X=bt.protocol,x=x?x+"."+bt.hostname:bt.hostname,bt=+bt.port;var Lt=new gn(null);X&&Na(Lt,X),x&&(Lt.g=x),bt&&Ia(Lt,bt),k&&(Lt.l=k),X=Lt}return k=m.D,x=m.ya,k&&x&&An(X,k,x),An(X,"VER",m.la),Da(m,X),X}function z(m,x,k){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new nn(new Ra({eb:k})):new nn(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function at(){}n=at.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dt(){}dt.prototype.g=function(m,x){return new wt(m,x)};function wt(m,x){be.call(this),this.g=new ka(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!O(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new ie(this)}E(wt,be),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){la(this.g)},wt.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Je(m),m=k);x.i.push(new Uc(x.Ya++,m)),x.G==3&&Wo(x)},wt.prototype.N=function(){this.g.l=null,delete this.j,la(this.g),delete this.g,wt.aa.N.call(this)};function jt(m){or.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){t:{for(const k in x){m=k;break t}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}E(jt,or);function Yt(){Gn.call(this),this.status=1}E(Yt,Gn);function ie(m){this.g=m}E(ie,at),ie.prototype.ua=function(){me(this.g,"a")},ie.prototype.ta=function(m){me(this.g,new jt(m))},ie.prototype.sa=function(m){me(this.g,new Yt)},ie.prototype.ra=function(){me(this.g,"b")},dt.prototype.createWebChannel=dt.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,k4=function(){return new dt},P4=function(){return Hr()},L4=xe,S2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,o0=Xi,Mi.COMPLETE="complete",R4=Mi,Hn.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",be.prototype.listen=be.prototype.K,Sp=Hn,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,C4=nn}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});const XS="@firebase/firestore",QS="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new mg("@firebase/firestore");function Ff(){return Gh.logLevel}function he(n,...t){if(Gh.logLevel<=ln.DEBUG){const e=t.map(M_);Gh.debug(`Firestore (${md}): ${n}`,...e)}}function Lc(n,...t){if(Gh.logLevel<=ln.ERROR){const e=t.map(M_);Gh.error(`Firestore (${md}): ${n}`,...e)}}function Uu(n,...t){if(Gh.logLevel<=ln.WARN){const e=t.map(M_);Gh.warn(`Firestore (${md}): ${n}`,...e)}}function M_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,D4(n,i,e)}function D4(n,t,e){let i=`FIRESTORE (${md}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Lc(i),new Error(i)}function On(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||D4(t,r,i)}function He(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends eo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(cs.UNAUTHENTICATED))}shutdown(){}}class xD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(t){this.t=t,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){On(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,e(u)):Promise.resolve();let s=new Nc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nc,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nc)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(On(typeof i.accessToken=="string",31837,{l:i}),new O4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return On(t===null||typeof t=="string",2055,{h:t}),new cs(t)}}class ND{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ID{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Es(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){On(this.o===void 0,3512);const i=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(On(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new JS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=RD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function en(n,t){return n<t?-1:n>t?1:0}function A2(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return en(i,r);{const s=M4(),o=LD(s.encode(ZS(n,e)),s.encode(ZS(t,e)));return o!==0?o:en(i,r)}}e+=i>65535?2:1}return en(n.length,t.length)}function ZS(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function LD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return en(n[e],t[e]);return en(n.length,t.length)}function ad(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__name__";class Sl{constructor(t,e,i){e===void 0?e=0:e>t.length&&je(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&je(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Sl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sl?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=Sl.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return en(t.length,e.length)}static compareSegments(t,e){const i=Sl.isNumericId(t),r=Sl.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Sl.extractNumericId(t).compare(Sl.extractNumericId(e)):A2(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ju.fromString(t.substring(4,t.length-2))}}class ni extends Sl{construct(t,e,i){return new ni(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ue(Gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ni(e)}static emptyPath(){return new ni([])}}const PD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Sl{construct(t,e,i){return new Br(t,e,i)}static isValidIdentifier(t){return PD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tA}static keyField(){return new Br([tA])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ue(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if(c==="\\"){if(r+1===t.length)throw new ue(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ue(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new ue(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Br(e)}static emptyPath(){return new Br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(ni.fromString(t))}static fromName(t){return new Ee(ni.fromString(t).popFirst(5))}static empty(){return new Ee(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ni.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ni.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new ni(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(n,t,e){if(!e)throw new ue(Gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kD(n,t,e,i){if(t===!0&&i===!0)throw new ue(Gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function eA(n){if(!Ee.isDocumentKey(n))throw new ue(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nA(n){if(Ee.isDocumentKey(n))throw new ue(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function d1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":je(12329,{type:typeof n})}function Ys(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ue(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=d1(n);throw new ue(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n,t){const e={typeString:n};return t&&(e.value=t),e}function wg(n,t){if(!F4(n))throw new ue(Gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const o=n[i];if(r&&typeof o!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${i}' field to equal '${s.value}'`;break}}if(e)throw new ue(Gt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=-62135596800,rA=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(t){return oi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*rA);return new oi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ue(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ue(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<iA)throw new ue(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rA}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wg(t,oi._jsonSchema))return new oi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oi._jsonSchemaVersion="firestore/timestamp/1.0",oi._jsonSchema={type:sr("string",oi._jsonSchemaVersion),seconds:sr("number"),nanoseconds:sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(t){return new ze(t)}static min(){return new ze(new oi(0,0))}static max(){return new ze(new oi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function DD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(i===1e9?new oi(e+1,0):new oi(e,i));return new zu(r,Ee.empty(),t)}function OD(n){return new zu(n.readTime,n.key,Xp)}class zu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zu(ze.min(),Ee.empty(),Xp)}static max(){return new zu(ze.max(),Ee.empty(),Xp)}}function MD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ee.comparator(n.documentKey,t.documentKey),e!==0?e:en(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(n){if(n.code!==Gt.FAILED_PRECONDITION||n.message!==jD)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof $t?e:$t.resolve(e)}catch(e){return $t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):$t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):$t.reject(e)}static resolve(t){return new $t((e,i)=>{e(t)})}static reject(t){return new $t((e,i)=>{i(t)})}static waitFor(t){return new $t((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=$t.resolve(!1);for(const i of t)e=e.next(r=>r?$t.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new $t((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(p=>{o[f]=p,++c,c===s&&i(o)},p=>r(p))}})}static doWhile(t,e){return new $t((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function VD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function yd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}p1.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-1;function g1(n){return n==null}function k0(n){return n===0&&1/n==-1/0}function BD(n){return typeof n=="number"&&Number.isInteger(n)&&!k0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="";function UD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=sA(t)),t=zD(n.get(e),t);return sA(t)}function zD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case V4:e+="";break;default:e+=s}}return e}function sA(n){return n+V4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function eh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function B4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,e){this.comparator=t,this.root=e||Vr.EMPTY}insert(t,e){return new Si(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(t){return new Si(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rm(this.root,t,this.comparator,!0)}}class Rm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Vr.RED,this.left=r??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Vr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw je(27949);return t+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new Vr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.comparator=t,this.data=new Si(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oA(this.data.getIterator())}getIteratorFrom(t){return new oA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof gr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new gr(this.comparator);return e.data=t,e}}class oA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t){this.fields=t,t.sort(Br.comparator)}static empty(){return new wa([])}unionWith(t){let e=new gr(Br.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new wa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ad(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U4("Invalid base64 string: "+s):s}}(t);return new Ur(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Ur(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const qD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(n){if(On(!!n,39018),typeof n=="string"){let t=0;const e=qD.exec(n);if(On(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gi(n.seconds),nanos:Gi(n.nanos)}}function Gi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hu(n){return typeof n=="string"?Ur.fromBase64String(n):Ur.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="server_timestamp",q4="__type__",H4="__previous_value__",G4="__local_write_time__";function V_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[q4])===null||e===void 0?void 0:e.stringValue)===z4}function m1(n){const t=n.mapValue.fields[H4];return V_(t)?m1(t):t}function Qp(n){const t=qu(n.mapValue.fields[G4].timestampValue);return new oi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e,i,r,s,o,c,u,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const D0="(default)";class Jp{constructor(t,e){this.projectId=t,this.database=e||D0}static empty(){return new Jp("","")}get isDefaultDatabase(){return this.database===D0}isEqual(t){return t instanceof Jp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__type__",GD="__max__",Lm={mapValue:{}},$4="__vector__",O0="value";function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?V_(n)?4:$D(n)?9007199254740991:WD(n)?10:11:je(28295,{value:n})}function kl(n,t){if(n===t)return!0;const e=Gu(n);if(e!==Gu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Qp(n).isEqual(Qp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=qu(r.timestampValue),c=qu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return Hu(r.bytesValue).isEqual(Hu(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Gi(r.geoPointValue.latitude)===Gi(s.geoPointValue.latitude)&&Gi(r.geoPointValue.longitude)===Gi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Gi(r.integerValue)===Gi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Gi(r.doubleValue),c=Gi(s.doubleValue);return o===c?k0(o)===k0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return ad(n.arrayValue.values||[],t.arrayValue.values||[],kl);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(aA(o)!==aA(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!kl(o[u],c[u])))return!1;return!0}(n,t);default:return je(52216,{left:n})}}function Zp(n,t){return(n.values||[]).find(e=>kl(e,t))!==void 0}function od(n,t){if(n===t)return 0;const e=Gu(n),i=Gu(t);if(e!==i)return en(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Gi(s.integerValue||s.doubleValue),u=Gi(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return lA(n.timestampValue,t.timestampValue);case 4:return lA(Qp(n),Qp(t));case 5:return A2(n.stringValue,t.stringValue);case 6:return function(s,o){const c=Hu(s),u=Hu(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=en(c[f],u[f]);if(p!==0)return p}return en(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=en(Gi(s.latitude),Gi(o.latitude));return c!==0?c:en(Gi(s.longitude),Gi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return cA(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,u,f,p;const v=s.fields||{},b=o.fields||{},_=(c=v[O0])===null||c===void 0?void 0:c.arrayValue,E=(u=b[O0])===null||u===void 0?void 0:u.arrayValue,N=en(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:cA(_,E)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Lm.mapValue&&o===Lm.mapValue)return 0;if(s===Lm.mapValue)return 1;if(o===Lm.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let v=0;v<u.length&&v<p.length;++v){const b=A2(u[v],p[v]);if(b!==0)return b;const _=od(c[u[v]],f[p[v]]);if(_!==0)return _}return en(u.length,p.length)}(n.mapValue,t.mapValue);default:throw je(23264,{le:e})}}function lA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return en(n,t);const e=qu(n),i=qu(t),r=en(e.seconds,i.seconds);return r!==0?r:en(e.nanos,i.nanos)}function cA(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=od(e[r],i[r]);if(s)return s}return en(e.length,i.length)}function ld(n){return T2(n)}function T2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=qu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Hu(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ee.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=T2(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${T2(e.fields[o])}`;return r+"}"}(n.mapValue):je(61005,{value:n})}function l0(n){switch(Gu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=m1(n);return t?16+l0(t):16;case 5:return 2*n.stringValue.length;case 6:return Hu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+l0(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return eh(i.fields,(s,o)=>{r+=s.length+l0(o)}),r}(n.mapValue);default:throw je(13486,{value:n})}}function uA(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function x2(n){return!!n&&"integerValue"in n}function B_(n){return!!n&&"arrayValue"in n}function hA(n){return!!n&&"nullValue"in n}function fA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function c0(n){return!!n&&"mapValue"in n}function WD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[W4])===null||e===void 0?void 0:e.stringValue)===$4}function Pp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return eh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Pp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Pp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function $D(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.value=t}static empty(){return new Ws({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!c0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pp(e)}setAll(t){let e=Br.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Pp(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());c0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return kl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];c0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){eh(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ws(Pp(this.value))}}function Y4(n){const t=[];return eh(n.fields,(e,i)=>{const r=new Br([e]);if(c0(i)){const s=Y4(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new wa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new hs(t,0,ze.min(),ze.min(),ze.min(),Ws.empty(),0)}static newFoundDocument(t,e,i,r){return new hs(t,1,e,ze.min(),i,r,0)}static newNoDocument(t,e){return new hs(t,2,e,ze.min(),ze.min(),Ws.empty(),0)}static newUnknownDocument(t,e){return new hs(t,3,e,ze.min(),ze.min(),Ws.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,e){this.position=t,this.inclusive=e}}function dA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=Ee.comparator(Ee.fromName(o.referenceValue),e.key):i=od(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function pA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!kl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,e="asc"){this.field=t,this.dir=e}}function YD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{}class ir extends K4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new XD(t,e,i):e==="array-contains"?new ZD(t,i):e==="in"?new tO(t,i):e==="not-in"?new eO(t,i):e==="array-contains-any"?new nO(t,i):new ir(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new QD(t,i):new JD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(od(e,this.value)):e!==null&&Gu(this.value)===Gu(e)&&this.matchesComparison(od(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jo extends K4{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new jo(t,e)}matches(t){return X4(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function X4(n){return n.op==="and"}function Q4(n){return KD(n)&&X4(n)}function KD(n){for(const t of n.filters)if(t instanceof jo)return!1;return!0}function E2(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+ld(n.value);if(Q4(n))return n.filters.map(t=>E2(t)).join(",");{const t=n.filters.map(e=>E2(e)).join(",");return`${n.op}(${t})`}}function J4(n,t){return n instanceof ir?function(i,r){return r instanceof ir&&i.op===r.op&&i.field.isEqual(r.field)&&kl(i.value,r.value)}(n,t):n instanceof jo?function(i,r){return r instanceof jo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&J4(o,r.filters[c]),!0):!1}(n,t):void je(19439)}function Z4(n){return n instanceof ir?function(e){return`${e.field.canonicalString()} ${e.op} ${ld(e.value)}`}(n):n instanceof jo?function(e){return e.op.toString()+" {"+e.getFilters().map(Z4).join(" ,")+"}"}(n):"Filter"}class XD extends ir{constructor(t,e,i){super(t,e,i),this.key=Ee.fromName(i.referenceValue)}matches(t){const e=Ee.comparator(t.key,this.key);return this.matchesComparison(e)}}class QD extends ir{constructor(t,e){super(t,"in",e),this.keys=t3("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class JD extends ir{constructor(t,e){super(t,"not-in",e),this.keys=t3("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function t3(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class ZD extends ir{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return B_(e)&&Zp(e.arrayValue,this.value)}}class tO extends ir{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zp(this.value.arrayValue,e)}}class eO extends ir{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zp(this.value.arrayValue,e)}}class nO extends ir{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!B_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Zp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Pe=null}}function gA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new iO(n,t,e,i,r,s,o)}function U_(n){const t=He(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>E2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),g1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ld(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ld(i)).join(",")),t.Pe=e}return t.Pe}function z_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!YD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!J4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pA(n.startAt,t.startAt)&&pA(n.endAt,t.endAt)}function N2(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rO(n,t,e,i,r,s,o,c){return new Sg(n,t,e,i,r,s,o,c)}function v1(n){return new Sg(n)}function mA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e3(n){return n.collectionGroup!==null}function kp(n){const t=He(n);if(t.Te===null){t.Te=[];const e=new Set;for(const s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new gr(Br.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Te.push(new j0(s,i))}),e.has(Br.keyField().canonicalString())||t.Te.push(new j0(Br.keyField(),i))}return t.Te}function Nl(n){const t=He(n);return t.Ie||(t.Ie=sO(t,kp(n))),t.Ie}function sO(n,t){if(n.limitType==="F")return gA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new j0(r.field,s)});const e=n.endAt?new M0(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new M0(n.startAt.position,n.startAt.inclusive):null;return gA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function I2(n,t){const e=n.filters.concat([t]);return new Sg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function C2(n,t,e){return new Sg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function y1(n,t){return z_(Nl(n),Nl(t))&&n.limitType===t.limitType}function n3(n){return`${U_(Nl(n))}|lt:${n.limitType}`}function Vf(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Z4(r)).join(", ")}]`),g1(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ld(r)).join(",")),`Target(${i})`}(Nl(n))}; limitType=${n.limitType})`}function _1(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ee.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of kp(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,c,u){const f=dA(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,kp(i),r)||i.endAt&&!function(o,c,u){const f=dA(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,kp(i),r))}(n,t)}function aO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i3(n){return(t,e)=>{let i=!1;for(const r of kp(n)){const s=oO(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function oO(n,t,e){const i=n.field.isKeyField()?Ee.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return u!==null&&f!==null?od(u,f):je(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){eh(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return B4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Si(Ee.comparator);function Pc(){return lO}const r3=new Si(Ee.comparator);function Ap(...n){let t=r3;for(const e of n)t=t.insert(e.key,e);return t}function s3(n){let t=r3;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Dh(){return Dp()}function a3(){return Dp()}function Dp(){return new Zh(n=>n.toString(),(n,t)=>n.isEqual(t))}const cO=new Si(Ee.comparator),uO=new gr(Ee.comparator);function fn(...n){let t=uO;for(const e of n)t=t.add(e);return t}const hO=new gr(en);function fO(){return hO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k0(t)?"-0":t}}function o3(n){return{integerValue:""+n}}function dO(n,t){return BD(t)?o3(t):q_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this._=void 0}}function pO(n,t,e){return n instanceof tg?function(r,s){const o={fields:{[q4]:{stringValue:z4},[G4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&V_(s)&&(s=m1(s)),s&&(o.fields[H4]=s),{mapValue:o}}(e,t):n instanceof eg?c3(n,t):n instanceof ng?u3(n,t):function(r,s){const o=l3(r,s),c=vA(o)+vA(r.Ee);return x2(o)&&x2(r.Ee)?o3(c):q_(r.serializer,c)}(n,t)}function gO(n,t,e){return n instanceof eg?c3(n,t):n instanceof ng?u3(n,t):e}function l3(n,t){return n instanceof F0?function(i){return x2(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class tg extends b1{}class eg extends b1{constructor(t){super(),this.elements=t}}function c3(n,t){const e=h3(t);for(const i of n.elements)e.some(r=>kl(r,i))||e.push(i);return{arrayValue:{values:e}}}class ng extends b1{constructor(t){super(),this.elements=t}}function u3(n,t){let e=h3(t);for(const i of n.elements)e=e.filter(r=>!kl(r,i));return{arrayValue:{values:e}}}class F0 extends b1{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function vA(n){return Gi(n.integerValue||n.doubleValue)}function h3(n){return B_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,e){this.field=t,this.transform=e}}function vO(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof eg&&r instanceof eg||i instanceof ng&&r instanceof ng?ad(i.elements,r.elements,kl):i instanceof F0&&r instanceof F0?kl(i.Ee,r.Ee):i instanceof tg&&r instanceof tg}(n.transform,t.transform)}class yO{constructor(t,e){this.version=t,this.transformResults=e}}class Ja{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ja}static exists(t){return new Ja(void 0,t)}static updateTime(t){return new Ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function u0(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class w1{}function f3(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new H_(n.key,Ja.none()):new Ag(n.key,n.data,Ja.none());{const e=n.data,i=Ws.empty();let r=new gr(Br.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new nh(n.key,i,new wa(r.toArray()),Ja.none())}}function _O(n,t,e){n instanceof Ag?function(r,s,o){const c=r.value.clone(),u=_A(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof nh?function(r,s,o){if(!u0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=_A(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(d3(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Op(n,t,e,i){return n instanceof Ag?function(s,o,c,u){if(!u0(s.precondition,o))return c;const f=s.value.clone(),p=bA(s.fieldTransforms,u,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof nh?function(s,o,c,u){if(!u0(s.precondition,o))return c;const f=bA(s.fieldTransforms,u,o),p=o.data;return p.setAll(d3(s)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(s,o,c){return u0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function bO(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=l3(i.transform,r||null);s!=null&&(e===null&&(e=Ws.empty()),e.set(i.field,s))}return e||null}function yA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ad(i,r,(s,o)=>vO(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ag extends w1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nh extends w1{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function d3(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _A(n,t,e){const i=new Map;On(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,gO(o,c,e[r]))}return i}function bA(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,pO(s,o,t))}return i}class H_ extends w1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wO extends w1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&_O(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Op(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Op(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=a3();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=f3(o,c);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),fn())}isEqual(t){return this.batchId===t.batchId&&ad(this.mutations,t.mutations,(e,i)=>yA(e,i))&&ad(this.baseMutations,t.baseMutations,(e,i)=>yA(e,i))}}class G_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){On(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return cO}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new G_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr,bn;function xO(n){switch(n){case Gt.OK:return je(64938);case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0;default:return je(15467,{code:n})}}function p3(n){if(n===void 0)return Lc("GRPC error has no .code"),Gt.UNKNOWN;switch(n){case nr.OK:return Gt.OK;case nr.CANCELLED:return Gt.CANCELLED;case nr.UNKNOWN:return Gt.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Gt.INTERNAL;case nr.UNAVAILABLE:return Gt.UNAVAILABLE;case nr.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case nr.NOT_FOUND:return Gt.NOT_FOUND;case nr.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case nr.ABORTED:return Gt.ABORTED;case nr.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case nr.DATA_LOSS:return Gt.DATA_LOSS;default:return je(39323,{code:n})}}(bn=nr||(nr={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new ju([4294967295,4294967295],0);function wA(n){const t=M4().encode(n),e=new I4;return e.update(t),new Uint8Array(e.digest())}function SA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ju([e,i],0),new ju([r,s],0)]}class W_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Tp(`Invalid padding: ${e}`);if(i<0)throw new Tp(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Tp(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Tp(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=ju.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(ju.fromNumber(i)));return r.compare(EO)===1&&(r=new ju([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=wA(t),[i,r]=SA(e);for(let s=0;s<this.hashCount;s++){const o=this.pe(i,r,s);if(!this.ye(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new W_(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(this.fe===0)return;const e=wA(t),[i,r]=SA(e);for(let s=0;s<this.hashCount;s++){const o=this.pe(i,r,s);this.we(o)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Tp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Tg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new S1(ze.min(),r,new Si(en),Pc(),fn())}}class Tg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Tg(i,e,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class g3{constructor(t,e){this.targetId=t,this.De=e}}class m3{constructor(t,e,i=Ur.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class AA{constructor(){this.ve=0,this.Ce=TA(),this.Fe=Ur.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=fn(),e=fn(),i=fn();return this.Ce.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:je(38017,{changeType:s})}}),new Tg(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=TA()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,On(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class NO{constructor(t){this.We=t,this.Ge=new Map,this.ze=Pc(),this.je=Pm(),this.Je=Pm(),this.He=new Si(en)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:je(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const s=r.target;if(N2(s))if(i===0){const o=new Ee(s.path);this.Xe(e,o,hs.newNoDocument(o,ze.min()))}else On(i===1,20013,{expectedCount:i});else{const o=this.ot(e);if(o!==i){const c=this._t(t),u=c?this.ut(c,t,o):1;if(u!==0){this.rt(e);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,f)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=Hu(i).toUint8Array()}catch(u){if(u instanceof U4)return Uu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new W_(o,r,s)}catch(u){return Uu(u instanceof Tp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.We.lt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Xe(e,s,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((s,o)=>{const c=this.st(o);if(c){if(s.current&&N2(c.target)){const u=new Ee(c.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,hs.newNoDocument(u,t))}s.Ne&&(e.set(o,s.Le()),s.ke())}});let i=fn();this.Je.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this.st(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(t));const r=new S1(t,e,this.He,this.ze,i);return this.ze=Pc(),this.je=Pm(),this.Je=Pm(),this.He=new Si(en),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new AA,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new gr(en),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new gr(en),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||he("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new AA),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Pm(){return new Si(Ee.comparator)}function TA(){return new Si(Ee.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},CO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RO={and:"AND",or:"OR"};class LO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function R2(n,t){return n.useProto3Json||g1(t)?t:{value:t}}function V0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function PO(n,t){return V0(n,t.toTimestamp())}function Il(n){return On(!!n,49232),ze.fromTimestamp(function(e){const i=qu(e);return new oi(i.seconds,i.nanos)}(n))}function $_(n,t){return L2(n,t).canonicalString()}function L2(n,t){const e=function(r){return new ni(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function y3(n){const t=ni.fromString(n);return On(A3(t),10190,{key:t.toString()}),t}function P2(n,t){return $_(n.databaseId,t.path)}function _y(n,t){const e=y3(t);if(e.get(1)!==n.databaseId.projectId)throw new ue(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ue(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ee(b3(e))}function _3(n,t){return $_(n.databaseId,t)}function kO(n){const t=y3(n);return t.length===4?ni.emptyPath():b3(t)}function k2(n){return new ni(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b3(n){return On(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xA(n,t,e){return{name:P2(n,t),fields:e.value.mapValue.fields}}function DO(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(On(p===void 0||typeof p=="string",58123),Ur.fromBase64String(p||"")):(On(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ur.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const p=f.code===void 0?Gt.UNKNOWN:p3(f.code);return new ue(p,f.message||"")}(o);e=new m3(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=_y(n,i.document.name),s=Il(i.document.updateTime),o=i.document.createTime?Il(i.document.createTime):ze.min(),c=new Ws({mapValue:{fields:i.document.fields}}),u=hs.newFoundDocument(r,s,o,c),f=i.targetIds||[],p=i.removedTargetIds||[];e=new h0(f,p,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=_y(n,i.document),s=i.readTime?Il(i.readTime):ze.min(),o=hs.newNoDocument(r,s),c=i.removedTargetIds||[];e=new h0([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=_y(n,i.document),s=i.removedTargetIds||[];e=new h0([],s,r,null)}else{if(!("filter"in t))return je(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new TO(r,s),c=i.targetId;e=new g3(c,o)}}return e}function OO(n,t){let e;if(t instanceof Ag)e={update:xA(n,t.key,t.value)};else if(t instanceof H_)e={delete:P2(n,t.key)};else if(t instanceof nh)e={update:xA(n,t.key,t.data),updateMask:HO(t.fieldMask)};else{if(!(t instanceof wO))return je(16599,{Rt:t.type});e={verify:P2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof tg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof eg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ng)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof F0)return{fieldPath:o.field.canonicalString(),increment:c.Ee};throw je(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:PO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:je(27497)}(n,t.precondition)),e}function MO(n,t){return n&&n.length>0?(On(t!==void 0,14353),n.map(e=>function(r,s){let o=r.updateTime?Il(r.updateTime):Il(s);return o.isEqual(ze.min())&&(o=Il(s)),new yO(o,r.transformResults||[])}(e,t))):[]}function jO(n,t){return{documents:[_3(n,t.path)]}}function FO(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=_3(n,r);const s=function(f){if(f.length!==0)return S3(jo.create(f,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:Bf(b.field),direction:UO(b.dir)}}(p))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=R2(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{Vt:e,parent:r}}function VO(n){let t=kO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){On(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=function(v){const b=w3(v);return b instanceof jo&&Q4(b)?b.getFilters():[b]}(e.where));let o=[];e.orderBy&&(o=function(v){return v.map(b=>function(E){return new j0(Uf(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(e.orderBy));let c=null;e.limit&&(c=function(v){let b;return b=typeof v=="object"?v.value:v,g1(b)?null:b}(e.limit));let u=null;e.startAt&&(u=function(v){const b=!!v.before,_=v.values||[];return new M0(_,b)}(e.startAt));let f=null;return e.endAt&&(f=function(v){const b=!v.before,_=v.values||[];return new M0(_,b)}(e.endAt)),rO(t,r,o,s,c,"F",u,f)}function BO(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function w3(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Uf(e.unaryFilter.field);return ir.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Uf(e.unaryFilter.field);return ir.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Uf(e.unaryFilter.field);return ir.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uf(e.unaryFilter.field);return ir.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(n):n.fieldFilter!==void 0?function(e){return ir.create(Uf(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return jo.create(e.compositeFilter.filters.map(i=>w3(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(e.compositeFilter.op))}(n):je(30097,{filter:n})}function UO(n){return IO[n]}function zO(n){return CO[n]}function qO(n){return RO[n]}function Bf(n){return{fieldPath:n.canonicalString()}}function Uf(n){return Br.fromServerFormat(n.fieldPath)}function S3(n){return n instanceof ir?function(e){if(e.op==="=="){if(fA(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NAN"}};if(hA(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(fA(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NOT_NAN"}};if(hA(e.value))return{unaryFilter:{field:Bf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bf(e.field),op:zO(e.op),value:e.value}}}(n):n instanceof jo?function(e){const i=e.getFilters().map(r=>S3(r));return i.length===1?i[0]:{compositeFilter:{op:qO(e.op),filters:i}}}(n):je(54877,{filter:n})}function HO(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function A3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e,i,r,s=ze.min(),o=ze.min(),c=Ur.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Lu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t){this.gt=t}}function WO(n){const t=VO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?C2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Dn=new YO}addToCollectionParentIndex(t,e){return this.Dn.add(e),$t.resolve()}getCollectionParents(t,e){return $t.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return $t.resolve()}deleteFieldIndex(t,e){return $t.resolve()}deleteAllFieldIndexes(t){return $t.resolve()}createTargetIndexes(t,e){return $t.resolve()}getDocumentsMatchingTarget(t,e){return $t.resolve(null)}getIndexType(t,e){return $t.resolve(0)}getFieldIndexes(t,e){return $t.resolve([])}getNextCollectionGroupToUpdate(t){return $t.resolve(null)}getMinOffset(t,e){return $t.resolve(zu.min())}getMinOffsetFromCollectionGroup(t,e){return $t.resolve(zu.min())}updateCollectionGroup(t,e,i){return $t.resolve()}updateIndexEntries(t,e){return $t.resolve()}}class YO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new gr(ni.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new gr(ni.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T3=41943040;class Gs{static withCacheSize(t){return new Gs(t,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(T3,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new cd(0)}static ur(){return new cd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="LruGarbageCollector",KO=1048576;function IA([n,t],[e,i]){const r=en(n,e);return r===0?en(t,i):r}class XO{constructor(t){this.Tr=t,this.buffer=new gr(IA),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();IA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){he(NA,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yd(e)?he(NA,"Ignoring IndexedDB error during garbage collection: ",e):await vd(e)}await this.Rr(3e5)})}}class JO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return $t.resolve(p1.ue);const i=new XO(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(EA)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EA):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,s,o,c,u,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,o=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,c=Date.now(),this.removeTargets(t,i,e))).next(v=>(s=v,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(f=Date.now(),Ff()<=ln.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${v} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}}function ZO(n,t){return new JO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.changes=new Zh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?$t.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Op(i.mutation,r,wa.empty(),oi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,fn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=fn()){const r=Dh();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Ap();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Dh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,fn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=Pc();const o=Dp(),c=function(){return Dp()}();return e.forEach((u,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof nh)?s=s.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Op(p.mutation,f,p.mutation.getFieldMask(),oi.now())):o.set(f.key,wa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,p)=>o.set(f,p)),e.forEach((f,p)=>{var v;return c.set(f,new eM(p,(v=o.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(t,e){const i=Dp();let r=new Si((o,c)=>o-c),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(f===null)return;let p=i.get(u)||wa.empty();p=c.applyToLocalView(f,p),i.set(u,p);const v=(r.get(c.batchId)||fn()).add(u);r=r.insert(c.batchId,v)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,v=a3();p.forEach(b=>{if(!s.has(b)){const _=f3(e.get(b),i.get(b));_!==null&&v.set(b,_),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,v))}return $t.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):e3(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):$t.resolve(Dh());let c=Xp,u=s;return o.next(f=>$t.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(p)?$t.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{u=u.insert(p,b)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,fn())).next(p=>({batchId:c,changes:s3(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ee(e)).next(i=>{let r=Ap();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Ap();return this.indexManager.getCollectionParents(t,s).next(c=>$t.forEach(c,u=>{const f=function(v,b){return new Sg(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(p=>{p.forEach((v,b)=>{o=o.insert(v,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,hs.newInvalidDocument(p)))});let c=Ap();return o.forEach((u,f)=>{const p=s.get(u);p!==void 0&&Op(p.mutation,f,wa.empty(),oi.now()),_1(e,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return $t.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Il(r.createTime)}}(e)),$t.resolve()}getNamedQuery(t,e){return $t.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:WO(r.bundledQuery),readTime:Il(r.readTime)}}(e)),$t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.overlays=new Si(Ee.comparator),this.kr=new Map}getOverlay(t,e){return $t.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Dh();return $t.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.wt(t,e,s)}),$t.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),$t.resolve()}getOverlaysForCollection(t,e,i){const r=Dh(),s=e.length+1,o=new Ee(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return $t.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Si((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=Dh(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Dh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=r)););return $t.resolve(c)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new AO(e,i));let s=this.kr.get(e);s===void 0&&(s=fn(),this.kr.set(e,s)),this.kr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(t){return $t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,$t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.qr=new gr(Nr.Qr),this.$r=new gr(Nr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new Nr(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new Nr(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new Ee(new ni([])),i=new Nr(e,t),r=new Nr(e,t+1),s=[];return this.$r.forEachInRange([i,r],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Ee(new ni([])),i=new Nr(e,t),r=new Nr(e,t+1);let s=fn();return this.$r.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Nr(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Nr{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Ee.comparator(t.key,e.key)||en(t.Hr,e.Hr)}static Ur(t,e){return en(t.Hr,e.Hr)||Ee.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new gr(Nr.Qr)}checkEmpty(t){return $t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SO(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.Yr=this.Yr.add(new Nr(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return $t.resolve(o)}lookupMutationBatch(t,e){return $t.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),s=r<0?0:r;return $t.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(this.mutationQueue.length===0?F_:this.er-1)}getAllMutationBatches(t){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Nr(e,0),r=new Nr(e,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],o=>{const c=this.Zr(o.Hr);s.push(c)}),$t.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new gr(en);return e.forEach(r=>{const s=new Nr(r,0),o=new Nr(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],c=>{i=i.add(c.Hr)})}),$t.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ee.isDocumentKey(s)||(s=s.child(""));const o=new Nr(new Ee(s),0);let c=new gr(en);return this.Yr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.Hr)),!0)},o),$t.resolve(this.ei(c))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){On(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return $t.forEach(e.mutations,r=>{const s=new Nr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new Nr(e,0),r=this.Yr.firstAfterOrEqual(i);return $t.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,$t.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.ni=t,this.docs=function(){return new Si(Ee.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return $t.resolve(i?i.document.mutableCopy():hs.newInvalidDocument(e))}getEntries(t,e){let i=Pc();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():hs.newInvalidDocument(r))}),$t.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Pc();const o=e.path,c=new Ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||MD(OD(p),i)<=0||(r.has(p.key)||_1(e,p))&&(s=s.insert(p.key,p.mutableCopy()))}return $t.resolve(s)}getAllFromCollectionGroup(t,e,i,r){je(9500)}ri(t,e){return $t.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new lM(this)}getSize(t){return $t.resolve(this.size)}}class lM extends tM{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),$t.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.persistence=t,this.ii=new Zh(e=>U_(e),z_),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new Y_,this.targetCount=0,this._i=cd.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),$t.resolve()}getLastRemoteSnapshotVersion(t){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $t.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),$t.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new cd(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,$t.resolve()}updateTargetData(t,e){return this.hr(e),$t.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,$t.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.ii.forEach((o,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),$t.waitFor(s).next(()=>r)}getTargetCount(t){return $t.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return $t.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),$t.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),$t.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),$t.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return $t.resolve(i)}containsKey(t,e){return $t.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t,e){this.ai={},this.overlays={},this.ui=new p1(0),this.ci=!1,this.ci=!0,this.li=new sM,this.referenceDelegate=t(this),this.hi=new cM(this),this.indexManager=new $O,this.remoteDocumentCache=function(r){return new oM(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new GO(e),this.Ti=new iM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new aM(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){he("MemoryPersistence","Starting transaction:",t);const r=new uM(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(t,e){return $t.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class uM extends FD{constructor(t){super(),this.currentSequenceNumber=t}}class K_{constructor(t){this.persistence=t,this.Ai=new Y_,this.Ri=null}static Vi(t){return new K_(t)}get mi(){if(this.Ri)return this.Ri;throw je(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),$t.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),$t.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),$t.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.mi,i=>{const r=Ee.fromPath(i);return this.fi(t,r).next(s=>{s||e.removeEntry(r,ze.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return $t.or([()=>$t.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class B0{constructor(t,e){this.persistence=t,this.gi=new Zh(i=>UD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=ZO(this,e)}static Vi(t,e){return new B0(t,e)}Ii(){}di(t){return $t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return $t.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(s=>s?$t.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(t,o=>this.Sr(t,o,e).next(c=>{c||(i++,s.removeEntry(o,ze.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),$t.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),$t.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),$t.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),$t.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=l0(t.data.value)),e}Sr(t,e,i){return $t.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return $t.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=fn(),r=fn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new X_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return VR()?8:VD(ms())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ps(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hM;return this.ws(t,e,o).next(c=>{if(s.result=c,this.Rs)return this.Ss(t,e,o,c.size)})}).next(()=>s.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Ff()<=ln.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Vf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$t.resolve()):(Ff()<=ln.DEBUG&&he("QueryEngine","Query:",Vf(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ff()<=ln.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Vf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nl(e))):$t.resolve())}ps(t,e){if(mA(e))return $t.resolve(null);let i=Nl(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=C2(e,null,"F"),i=Nl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=fn(...s);return this.gs.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.bs(e,c);return this.Ds(e,f,o,u.readTime)?this.ps(t,C2(e,null,"F")):this.vs(t,f,e,u)}))})))}ys(t,e,i,r){return mA(e)||r.isEqual(ze.min())?$t.resolve(null):this.gs.getDocuments(t,i).next(s=>{const o=this.bs(e,s);return this.Ds(e,o,i,r)?$t.resolve(null):(Ff()<=ln.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vf(e)),this.vs(t,o,e,DD(r,Xp)).next(c=>c))})}bs(t,e){let i=new gr(i3(t));return e.forEach((r,s)=>{_1(t,s)&&(i=i.add(s))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(t,e,i){return Ff()<=ln.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Vf(e)),this.gs.getDocumentsMatchingQuery(t,e,zu.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LocalStore",dM=3e8;class pM{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new Si(en),this.Ms=new Zh(s=>U_(s),z_),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function gM(n,t,e,i){return new pM(n,t,e,i)}async function E3(n,t){const e=He(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=fn();for(const f of r){o.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return e.localDocuments.getDocuments(i,u).next(f=>({Bs:f,removedBatchIds:o,addedBatchIds:c}))})})}function mM(n,t){const e=He(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const v=f.batch,b=v.keys();let _=$t.resolve();return b.forEach(E=>{_=_.next(()=>p.getEntry(u,E)).next(N=>{const I=f.docVersions.get(E);On(I!==null,48541),N.version.compareTo(I)<0&&(v.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),p.addEntry(N)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=fn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function N3(n){const t=He(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function vM(n,t){const e=He(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const c=[];t.targetChanges.forEach((p,v)=>{const b=r.get(v);if(!b)return;c.push(e.hi.removeMatchingKeys(s,p.removedDocuments,v).next(()=>e.hi.addMatchingKeys(s,p.addedDocuments,v)));let _=b.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(v)!==null?_=_.withResumeToken(Ur.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),r=r.insert(v,_),function(N,I,C){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=dM?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(b,_,p)&&c.push(e.hi.updateTargetData(s,_))});let u=Pc(),f=fn();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(yM(s,o,t.documentUpdates).next(p=>{u=p.Ls,f=p.ks})),!i.isEqual(ze.min())){const p=e.hi.getLastRemoteSnapshotVersion(s).next(v=>e.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(p)}return $t.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.Fs=r,s))}function yM(n,t,e){let i=fn(),r=fn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Pc();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(ze.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):he(Q_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{Ls:o,ks:r}})}function _M(n,t){const e=He(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=F_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function bM(n,t){const e=He(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(s=>s?(r=s,$t.resolve(r)):e.hi.allocateTargetId(i).next(o=>(r=new Lu(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function D2(n,t,e){const i=He(n),r=i.Fs.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!yd(o))throw o;he(Q_,`Failed to update sequence numbers for target ${t}: ${o}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function CA(n,t,e){const i=He(n);let r=ze.min(),s=fn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,p){const v=He(u),b=v.Ms.get(p);return b!==void 0?$t.resolve(v.Fs.get(b)):v.hi.getTargetData(f,p)}(i,o,Nl(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(o,t,e?r:ze.min(),e?s:fn())).next(c=>(wM(i,aO(t),c),{documents:c,qs:s})))}function wM(n,t,e){let i=n.xs.get(t)||ze.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.xs.set(t,i)}class RA{constructor(){this.activeTargetIds=fO()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SM{constructor(){this.Fo=new RA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new RA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="ConnectivityMonitor";class PA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(LA,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){he(LA,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km=null;function O2(){return km===null?km=function(){return 268435456+Math.round(2147483648*Math.random())}():km++,"0x"+km.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="RestConnection",TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===D0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,s){const o=O2(),c=this.Go(t,e.toUriEncodedString());he(by,`Sending RPC '${t}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,s);const{host:f}=new URL(c),p=th(f);return this.jo(t,c,u,i,p).then(v=>(he(by,`Received RPC '${t}' ${o}: `,v),v),v=>{throw Uu(by,`RPC '${t}' ${o} failed with error: `,v,"url: ",c,"request:",i),v})}Jo(t,e,i,r,s,o){return this.Wo(t,e,i,r,s)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+md}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Go(t,e){const i=TM[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="WebChannelConnection";class NM extends xM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,s){const o=O2();return new Promise((c,u)=>{const f=new C4;f.setWithCredentials(!0),f.listenOnce(R4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case o0.NO_ERROR:const v=f.getResponseJson();he(is,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(v)),c(v);break;case o0.TIMEOUT:he(is,`RPC '${t}' ${o} timed out`),u(new ue(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case o0.HTTP_ERROR:const b=f.getStatus();if(he(is,`RPC '${t}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const N=function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(O)>=0?O:Gt.UNKNOWN}(E.status);u(new ue(N,E.message))}else u(new ue(Gt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ue(Gt.UNAVAILABLE,"Connection failed."));break;default:je(9055,{c_:t,streamId:o,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{he(is,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(r);he(is,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",p,i,15)})}P_(t,e,i){const r=O2(),s=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=k4(),c=P4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const p=s.join("");he(is,`Creating RPC '${t}' stream ${r}: ${p}`,u);const v=o.createWebChannel(p,u);this.T_(v);let b=!1,_=!1;const E=new EM({Ho:I=>{_?he(is,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(b||(he(is,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),he(is,`RPC '${t}' stream ${r} sending:`,I),v.send(I))},Yo:()=>v.close()}),N=(I,C,O)=>{I.listen(C,H=>{try{O(H)}catch(nt){setTimeout(()=>{throw nt},0)}})};return N(v,Sp.EventType.OPEN,()=>{_||(he(is,`RPC '${t}' stream ${r} transport opened.`),E.s_())}),N(v,Sp.EventType.CLOSE,()=>{_||(_=!0,he(is,`RPC '${t}' stream ${r} transport closed`),E.__(),this.I_(v))}),N(v,Sp.EventType.ERROR,I=>{_||(_=!0,Uu(is,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),E.__(new ue(Gt.UNAVAILABLE,"The operation could not be completed")))}),N(v,Sp.EventType.MESSAGE,I=>{var C;if(!_){const O=I.data[0];On(!!O,16349);const H=O,nt=(H==null?void 0:H.error)||((C=H[0])===null||C===void 0?void 0:C.error);if(nt){he(is,`RPC '${t}' stream ${r} received error:`,nt);const it=nt.status;let gt=function(V){const $=nr[V];if($!==void 0)return p3($)}(it),q=nt.message;gt===void 0&&(gt=Gt.INTERNAL,q="Unknown error status: "+it+" with message "+nt.message),_=!0,E.__(new ue(gt,q)),v.close()}else he(is,`RPC '${t}' stream ${r} received:`,O),E.a_(O)}}),N(c,L4.STAT_EVENT,I=>{I.stat===S2.PROXY?he(is,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===S2.NOPROXY&&he(is,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n){return new LO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="PersistentStream";class C3{constructor(t,e,i,r,s,o,c,u){this.Fi=t,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new I3(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===Gt.RESOURCE_EXHAUSTED?(Lc(e.toString()),Lc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===Gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new ue(Gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return he(kA,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(he(kA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IM extends C3{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=DO(this.serializer,t),i=function(s){if(!("targetChange"in s))return ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?Il(o.readTime):ze.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=k2(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=N2(u)?{documents:jO(s,u)}:{query:FO(s,u).Vt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=v3(s,o.resumeToken);const f=R2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(ze.min())>0){c.readTime=V0(s,o.snapshotVersion.toTimestamp());const f=R2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=BO(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=k2(this.serializer),e.removeTarget=t,this.k_(e)}}class CM extends C3{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return On(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,On(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){On(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=MO(t.writeResults,t.commitTime),i=Il(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=k2(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>OO(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{}class LM extends RM{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ue(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,L2(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Gt.UNKNOWN,s.toString())})}Jo(t,e,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Jo(t,L2(e,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Gt.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class PM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Lc(e),this._a=!1):he("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RemoteStore";class kM{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{i.enqueueAndForget(async()=>{tf(this)&&(he(Wh,"Restarting streams for network reachability change."),await async function(u){const f=He(u);f.Ia.add(4),await xg(f),f.Aa.set("Unknown"),f.Ia.delete(4),await T1(f)}(this))})}),this.Aa=new PM(i,r)}}async function T1(n){if(tf(n))for(const t of n.da)await t(!0)}async function xg(n){for(const t of n.da)await t(!1)}function R3(n,t){const e=He(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),eb(e)?tb(e):_d(e).x_()&&Z_(e,t))}function J_(n,t){const e=He(n),i=_d(e);e.Ta.delete(t),i.x_()&&L3(e,t),e.Ta.size===0&&(i.x_()?i.B_():tf(e)&&e.Aa.set("Unknown"))}function Z_(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ze.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}_d(n).H_(t)}function L3(n,t){n.Ra.$e(t),_d(n).Y_(t)}function tb(n){n.Ra=new NO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),_d(n).start(),n.Aa.aa()}function eb(n){return tf(n)&&!_d(n).M_()&&n.Ta.size>0}function tf(n){return He(n).Ia.size===0}function P3(n){n.Ra=void 0}async function DM(n){n.Aa.set("Online")}async function OM(n){n.Ta.forEach((t,e)=>{Z_(n,t)})}async function MM(n,t){P3(n),eb(n)?(n.Aa.la(t),tb(n)):n.Aa.set("Unknown")}async function jM(n,t,e){if(n.Aa.set("Online"),t instanceof m3&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ta.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ta.delete(c),r.Ra.removeTarget(c))}(n,t)}catch(i){he(Wh,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await U0(n,i)}else if(t instanceof h0?n.Ra.Ye(t):t instanceof g3?n.Ra.it(t):n.Ra.et(t),!e.isEqual(ze.min()))try{const i=await N3(n.localStore);e.compareTo(i)>=0&&await function(s,o){const c=s.Ra.Pt(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ta.get(f);p&&s.Ta.set(f,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const p=s.Ta.get(u);if(!p)return;s.Ta.set(u,p.withResumeToken(Ur.EMPTY_BYTE_STRING,p.snapshotVersion)),L3(s,u);const v=new Lu(p.target,u,f,p.sequenceNumber);Z_(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){he(Wh,"Failed to raise snapshot:",i),await U0(n,i)}}async function U0(n,t,e){if(!yd(t))throw t;n.Ia.add(1),await xg(n),n.Aa.set("Offline"),e||(e=()=>N3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Wh,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await T1(n)})}function k3(n,t){return t().catch(e=>U0(n,e,t))}async function x1(n){const t=He(n),e=Wu(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:F_;for(;FM(t);)try{const r=await _M(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,VM(t,r)}catch(r){await U0(t,r)}D3(t)&&O3(t)}function FM(n){return tf(n)&&n.Pa.length<10}function VM(n,t){n.Pa.push(t);const e=Wu(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function D3(n){return tf(n)&&!Wu(n).M_()&&n.Pa.length>0}function O3(n){Wu(n).start()}async function BM(n){Wu(n).na()}async function UM(n){const t=Wu(n);for(const e of n.Pa)t.X_(e.mutations)}async function zM(n,t,e){const i=n.Pa.shift(),r=G_.from(i,t,e);await k3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await x1(n)}async function qM(n,t){t&&Wu(n).Z_&&await async function(i,r){if(function(o){return xO(o)&&o!==Gt.ABORTED}(r.code)){const s=i.Pa.shift();Wu(i).N_(),await k3(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await x1(i)}}(n,t),D3(n)&&O3(n)}async function DA(n,t){const e=He(n);e.asyncQueue.verifyOperationInProgress(),he(Wh,"RemoteStore received new credentials");const i=tf(e);e.Ia.add(3),await xg(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await T1(e)}async function HM(n,t){const e=He(n);t?(e.Ia.delete(2),await T1(e)):t||(e.Ia.add(2),await xg(e),e.Aa.set("Unknown"))}function _d(n){return n.Va||(n.Va=function(e,i,r){const s=He(e);return s.ia(),new IM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:DM.bind(null,n),e_:OM.bind(null,n),n_:MM.bind(null,n),J_:jM.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),eb(n)?tb(n):n.Aa.set("Unknown")):(await n.Va.stop(),P3(n))})),n.Va}function Wu(n){return n.ma||(n.ma=function(e,i,r){const s=He(e);return s.ia(),new CM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:BM.bind(null,n),n_:qM.bind(null,n),ea:UM.bind(null,n),ta:zM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await x1(n)):(await n.ma.stop(),n.Pa.length>0&&(he(Wh,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new nb(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ib(n,t){if(Lc("AsyncQueue",`${t}: ${n}`),yd(n))return new ue(Gt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{static emptySet(t){return new Xf(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ee.comparator(e.key,i.key):(e,i)=>Ee.comparator(e.key,i.key),this.keyedMap=Ap(),this.sortedSet=new Si(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Xf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.fa=new Si(Ee.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):je(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class ud{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new ud(t,e,Xf.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&y1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class WM{constructor(){this.queries=MA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=He(e),s=r.queries;r.queries=MA(),s.forEach((o,c)=>{for(const u of c.wa)u.onError(i)})})(this,new ue(Gt.ABORTED,"Firestore shutting down"))}}function MA(){return new Zh(n=>n3(n),y1)}async function rb(n,t){const e=He(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.Sa()&&t.ba()&&(i=2):(s=new GM,i=t.ba()?0:1);try{switch(i){case 0:s.ya=await e.onListen(r,!0);break;case 1:s.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const c=ib(o,`Initialization of query '${Vf(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.wa.push(t),t.va(e.onlineState),s.ya&&t.Ca(s.ya)&&ab(e)}async function sb(n,t){const e=He(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.wa.indexOf(t);o>=0&&(s.wa.splice(o,1),s.wa.length===0?r=t.ba()?0:1:!s.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function $M(n,t){const e=He(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const c of o.wa)c.Ca(r)&&(i=!0);o.ya=r}}i&&ab(e)}function YM(n,t,e){const i=He(n),r=i.queries.get(t);if(r)for(const s of r.wa)s.onError(e);i.queries.delete(t)}function ab(n){n.Da.forEach(t=>{t.next()})}var M2,jA;(jA=M2||(M2={})).Fa="default",jA.Cache="cache";class ob{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ud(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=ud.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==M2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t){this.key=t}}class j3{constructor(t){this.key=t}}class KM{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fn(),this.mutatedKeys=fn(),this.Xa=i3(t),this.eu=new Xf(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new OA,r=e?e.eu:this.eu;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,v)=>{const b=r.get(p),_=_1(this.query,v)?v:null,E=!!b&&this.mutatedKeys.has(b.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;b&&_?b.data.isEqual(_.data)?E!==N&&(i.track({type:3,doc:_}),I=!0):this.iu(b,_)||(i.track({type:2,doc:_}),I=!0,(u&&this.Xa(_,u)>0||f&&this.Xa(_,f)<0)&&(c=!0)):!b&&_?(i.track({type:0,doc:_}),I=!0):b&&!_&&(i.track({type:1,doc:b}),I=!0,(u||f)&&(c=!0)),I&&(_?(o=o.add(_),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{eu:o,ru:i,Ds:c,mutatedKeys:s}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const o=t.ru.pa();o.sort((p,v)=>function(_,E){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{At:I})}};return N(_)-N(E)}(p.type,v.type)||this.Xa(p.doc,v.doc)),this.su(i),r=r!=null&&r;const c=e&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,f=u!==this.Ya;return this.Ya=u,o.length!==0||f?{snapshot:new ud(this.query,t.eu,s,o,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new OA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=fn(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new j3(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new M3(i))}),e}uu(t){this.Ha=t.qs,this.Za=fn();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return ud.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lb="SyncEngine";class XM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class QM{constructor(t){this.key=t,this.lu=!1}}class JM{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Zh(c=>n3(c),y1),this.Tu=new Map,this.Iu=new Set,this.du=new Si(Ee.comparator),this.Eu=new Map,this.Au=new Y_,this.Ru={},this.Vu=new Map,this.mu=cd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ZM(n,t,e=!0){const i=q3(n);let r;const s=i.Pu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await F3(i,t,e,!0),r}async function t8(n,t){const e=q3(n);await F3(e,t,!0,!1)}async function F3(n,t,e,i){const r=await bM(n.localStore,Nl(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let c;return i&&(c=await e8(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&R3(n.remoteStore,r),c}async function e8(n,t,e,i,r){n.gu=(v,b,_)=>async function(N,I,C,O){let H=I.view.nu(C);H.Ds&&(H=await CA(N.localStore,I.query,!1).then(({documents:q})=>I.view.nu(q,H)));const nt=O&&O.targetChanges.get(I.targetId),it=O&&O.targetMismatches.get(I.targetId)!=null,gt=I.view.applyChanges(H,N.isPrimaryClient,nt,it);return VA(N,I.targetId,gt._u),gt.snapshot}(n,v,b,_);const s=await CA(n.localStore,t,!0),o=new KM(t,s.qs),c=o.nu(s.documents),u=Tg.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=o.applyChanges(c,n.isPrimaryClient,u);VA(n,e,f._u);const p=new XM(t,e,o);return n.Pu.set(t,p),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),f.snapshot}async function n8(n,t,e){const i=He(n),r=i.Pu.get(t),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(o=>!y1(o,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await D2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&J_(i.remoteStore,r.targetId),j2(i,r.targetId)}).catch(vd)):(j2(i,r.targetId),await D2(i.localStore,r.targetId,!0))}async function i8(n,t){const e=He(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),J_(e.remoteStore,i.targetId))}async function r8(n,t,e){const i=h8(n);try{const r=await function(o,c){const u=He(o),f=oi.now(),p=c.reduce((_,E)=>_.add(E.key),fn());let v,b;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=Pc(),N=fn();return u.Os.getEntries(_,p).next(I=>{E=I,E.forEach((C,O)=>{O.isValidDocument()||(N=N.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,E)).next(I=>{v=I;const C=[];for(const O of c){const H=bO(O,v.get(O.key).overlayedDocument);H!=null&&C.push(new nh(O.key,H,Y4(H.value.mapValue),Ja.exists(!0)))}return u.mutationQueue.addMutationBatch(_,f,C,c)}).next(I=>{b=I;const C=I.applyToLocalDocumentSet(v,N);return u.documentOverlayCache.saveOverlays(_,I.batchId,C)})}).then(()=>({batchId:b.batchId,changes:s3(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Ru[o.currentUser.toKey()];f||(f=new Si(en)),f=f.insert(c,u),o.Ru[o.currentUser.toKey()]=f}(i,r.batchId,e),await Eg(i,r.changes),await x1(i.remoteStore)}catch(r){const s=ib(r,"Failed to persist write");e.reject(s)}}async function V3(n,t){const e=He(n);try{const i=await vM(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Eu.get(s);o&&(On(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.lu=!0:r.modifiedDocuments.size>0?On(o.lu,14607):r.removedDocuments.size>0&&(On(o.lu,42227),o.lu=!1))}),await Eg(e,i,t)}catch(i){await vd(i)}}function FA(n,t,e){const i=He(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((s,o)=>{const c=o.view.va(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=He(o);u.onlineState=c;let f=!1;u.queries.forEach((p,v)=>{for(const b of v.wa)b.va(c)&&(f=!0)}),f&&ab(u)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function s8(n,t,e){const i=He(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),s=r&&r.key;if(s){let o=new Si(Ee.comparator);o=o.insert(s,hs.newNoDocument(s,ze.min()));const c=fn().add(s),u=new S1(ze.min(),new Map,new Si(en),o,c);await V3(i,u),i.du=i.du.remove(s),i.Eu.delete(t),cb(i)}else await D2(i.localStore,t,!1).then(()=>j2(i,t,e)).catch(vd)}async function a8(n,t){const e=He(n),i=t.batch.batchId;try{const r=await mM(e.localStore,t);U3(e,i,null),B3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Eg(e,r)}catch(r){await vd(r)}}async function o8(n,t,e){const i=He(n);try{const r=await function(o,c){const u=He(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(v=>(On(v!==null,37113),p=v.keys(),u.mutationQueue.removeMutationBatch(f,v))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,t);U3(i,t,e),B3(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Eg(i,r)}catch(r){await vd(r)}}function B3(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function U3(n,t,e){const i=He(n);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function j2(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||z3(n,i)})}function z3(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(J_(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),cb(n))}function VA(n,t,e){for(const i of e)i instanceof M3?(n.Au.addReference(i.key,t),l8(n,i)):i instanceof j3?(he(lb,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||z3(n,i.key)):je(19791,{yu:i})}function l8(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(he(lb,"New document in limbo: "+e),n.Iu.add(i),cb(n))}function cb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Ee(ni.fromString(t)),i=n.mu.next();n.Eu.set(i,new QM(e)),n.du=n.du.insert(e,i),R3(n.remoteStore,new Lu(Nl(v1(e.path)),i,"TargetPurposeLimboResolution",p1.ue))}}async function Eg(n,t,e){const i=He(n),r=[],s=[],o=[];i.Pu.isEmpty()||(i.Pu.forEach((c,u)=>{o.push(i.gu(u,t,e).then(f=>{var p;if((f||e)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,v?"current":"not-current")}if(f){r.push(f);const v=X_.Es(u.targetId,f);s.push(v)}}))}),await Promise.all(o),i.hu.J_(r),await async function(u,f){const p=He(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>$t.forEach(f,b=>$t.forEach(b.Is,_=>p.persistence.referenceDelegate.addReference(v,b.targetId,_)).next(()=>$t.forEach(b.ds,_=>p.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))}catch(v){if(!yd(v))throw v;he(Q_,"Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const _=p.Fs.get(b),E=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(E);p.Fs=p.Fs.insert(b,N)}}}(i.localStore,s))}async function c8(n,t){const e=He(n);if(!e.currentUser.isEqual(t)){he(lb,"User change. New user:",t.toKey());const i=await E3(e.localStore,t);e.currentUser=t,function(s,o){s.Vu.forEach(c=>{c.forEach(u=>{u.reject(new ue(Gt.CANCELLED,o))})}),s.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Eg(e,i.Bs)}}function u8(n,t){const e=He(n),i=e.Eu.get(t);if(i&&i.lu)return fn().add(i.key);{let r=fn();const s=e.Tu.get(t);if(!s)return r;for(const o of s){const c=e.Pu.get(o);r=r.unionWith(c.view.tu)}return r}}function q3(n){const t=He(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s8.bind(null,t),t.hu.J_=$M.bind(null,t.eventManager),t.hu.pu=YM.bind(null,t.eventManager),t}function h8(n){const t=He(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o8.bind(null,t),t}class z0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=A1(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return gM(this.persistence,new fM,t.initialUser,this.serializer)}Du(t){return new x3(K_.Vi,this.serializer)}bu(t){return new SM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}z0.provider={build:()=>new z0};class f8 extends z0{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){On(this.persistence.referenceDelegate instanceof B0,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QO(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new x3(i=>B0.Vi(i,e),this.serializer)}}class F2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=c8.bind(null,this.syncEngine),await HM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new WM}()}createDatastore(t){const e=A1(t.databaseInfo.databaseId),i=function(s){return new NM(s)}(t.databaseInfo);return function(s,o,c,u){return new LM(s,o,c,u)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,c){return new kM(i,r,s,o,c)}(this.localStore,this.datastore,t.asyncQueue,e=>FA(this.syncEngine,e,0),function(){return PA.C()?new PA:new AM}())}createSyncEngine(t,e){return function(r,s,o,c,u,f,p){const v=new JM(r,s,o,c,u,f);return p&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=He(r);he(Wh,"RemoteStore shutting down."),s.Ia.add(5),await xg(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}F2.provider={build:()=>new F2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Lc("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="FirestoreClient";class d8{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cs.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{he($u,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(he($u,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ib(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Sy(n,t){n.asyncQueue.verifyOperationInProgress(),he($u,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await E3(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{Uu("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Uu("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function BA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await p8(n);he($u,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>DA(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>DA(t.remoteStore,r)),n._onlineComponents=t}async function p8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he($u,"Using user provided OfflineComponentProvider");try{await Sy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Gt.FAILED_PRECONDITION||r.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Uu("Error using user provided cache. Falling back to memory cache: "+e),await Sy(n,new z0)}}else he($u,"Using default OfflineComponentProvider"),await Sy(n,new f8(void 0));return n._offlineComponents}async function H3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he($u,"Using user provided OnlineComponentProvider"),await BA(n,n._uninitializedComponentsProvider._online)):(he($u,"Using default OnlineComponentProvider"),await BA(n,new F2))),n._onlineComponents}function g8(n){return H3(n).then(t=>t.syncEngine)}async function q0(n){const t=await H3(n),e=t.eventManager;return e.onListen=ZM.bind(null,t.syncEngine),e.onUnlisten=n8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=t8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=i8.bind(null,t.syncEngine),e}function m8(n,t,e={}){const i=new Nc;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,f){const p=new ub({next:b=>{p.Ou(),o.enqueueAndForget(()=>sb(s,v));const _=b.docs.has(c);!_&&b.fromCache?f.reject(new ue(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&u&&u.source==="server"?f.reject(new ue(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new ob(v1(c.path),p,{includeMetadataChanges:!0,ka:!0});return rb(s,v)}(await q0(n),n.asyncQueue,t,e,i)),i.promise}function v8(n,t,e={}){const i=new Nc;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,f){const p=new ub({next:b=>{p.Ou(),o.enqueueAndForget(()=>sb(s,v)),b.fromCache&&u.source==="server"?f.reject(new ue(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new ob(c,p,{includeMetadataChanges:!0,ka:!0});return rb(s,v)}(await q0(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="firestore.googleapis.com",zA=!0;class qA{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ue(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W3,this.ssl=zA}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:zA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KO)throw new ue(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G3((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class E1{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new TD;switch(i.type){case"firstParty":return new ID(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=UA.get(e);i&&(he("ComponentProvider","Removing Datastore"),UA.delete(e),i.terminate())}(this),Promise.resolve()}}function y8(n,t,e,i={}){var r;n=Ys(n,E1);const s=th(t),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;s&&(w_(`https://${u}`),S_("Firestore",!0)),o.host!==W3&&o.host!==u&&Uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:i});if(!Bu(f,c)&&(n._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=cs.MOCK_USER;else{p=BE(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ue(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cs(b)}n._authCredentials=new xD(new O4(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ef(this.firestore,t,this._query)}}class Pi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pi(this.firestore,t,this._key)}toJSON(){return{type:Pi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(wg(e,Pi._jsonSchema))return new Pi(t,i||null,new Ee(ni.fromString(e.referencePath)))}}Pi._jsonSchemaVersion="firestore/documentReference/1.0",Pi._jsonSchema={type:sr("string",Pi._jsonSchemaVersion),referencePath:sr("string")};class Fu extends ef{constructor(t,e,i){super(t,e,v1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pi(this.firestore,null,new Ee(t))}withConverter(t){return new Fu(this.firestore,t,this._path)}}function bd(n,t,...e){if(n=Mn(n),j4("collection","path",t),n instanceof E1){const i=ni.fromString(t,...e);return nA(i),new Fu(n,null,i)}{if(!(n instanceof Pi||n instanceof Fu))throw new ue(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(t,...e));return nA(i),new Fu(n.firestore,null,i)}}function no(n,t,...e){if(n=Mn(n),arguments.length===1&&(t=j_.newId()),j4("doc","path",t),n instanceof E1){const i=ni.fromString(t,...e);return eA(i),new Pi(n,null,new Ee(i))}{if(!(n instanceof Pi||n instanceof Fu))throw new ue(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ni.fromString(t,...e));return eA(i),new Pi(n.firestore,n instanceof Fu?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="AsyncQueue";class GA{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new I3(this,"async_queue_retry"),this.oc=()=>{const i=wy();i&&he(HA,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=wy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=wy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new Nc;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!yd(t))throw t;he(HA,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Lc("INTERNAL UNHANDLED ERROR: ",WA(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=nb.createAndSchedule(this,t,e,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&je(47125,{hc:WA(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function WA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class kc extends E1{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new GA,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new GA(t),this._firestoreClient=void 0,await t}}}function _8(n,t){const e=typeof n=="object"?n:pd(),i=typeof n=="string"?n:D0,r=Ol(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=jE("firestore");s&&y8(r,...s)}return r}function N1(n){if(n._terminated)throw new ue(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b8(n),n._firestoreClient}function b8(n){var t,e,i;const r=n._freezeSettings(),s=function(c,u,f,p){return new HD(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,G3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new d8(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xa(Ur.fromBase64String(t))}catch(e){throw new ue(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Xa(Ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wg(t,Xa._jsonSchema))return Xa.fromBase64String(t.bytes)}}Xa._jsonSchemaVersion="firestore/bytes/1.0",Xa._jsonSchema={type:sr("string",Xa._jsonSchemaVersion),bytes:sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ue(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ue(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ue(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cl._jsonSchemaVersion}}static fromJSON(t){if(wg(t,Cl._jsonSchema))return new Cl(t.latitude,t.longitude)}}Cl._jsonSchemaVersion="firestore/geoPoint/1.0",Cl._jsonSchema={type:sr("string",Cl._jsonSchemaVersion),latitude:sr("number"),longitude:sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Rl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wg(t,Rl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Rl(t.vectorValues);throw new ue(Gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rl._jsonSchemaVersion="firestore/vectorValue/1.0",Rl._jsonSchema={type:sr("string",Rl._jsonSchemaVersion),vectorValues:sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=/^__.*__$/;class S8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ag(t,this.data,e,this.fieldTransforms)}}class $3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new nh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Y3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ec:n})}}class hb{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new hb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return H0(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Y3(this.Ec)&&w8.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class A8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||A1(t)}Dc(t,e,i,r=!1){return new hb({Ec:t,methodName:e,bc:i,path:Br.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R1(n){const t=n._freezeSettings(),e=A1(n._databaseId);return new A8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function K3(n,t,e,i,r,s={}){const o=n.Dc(s.merge||s.mergeFields?2:0,t,e,r);db("Data must be an object, but it was:",o,i);const c=X3(i,o);let u,f;if(s.merge)u=new wa(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const b=V2(t,v,e);if(!o.contains(b))throw new ue(Gt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);J3(p,b)||p.push(b)}u=new wa(p),f=o.fieldTransforms.filter(v=>u.covers(v.field))}else u=null,f=o.fieldTransforms;return new S8(new Ws(c),u,f)}class L1 extends C1{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof L1}}class fb extends C1{_toFieldTransform(t){return new mO(t.path,new tg)}isEqual(t){return t instanceof fb}}function T8(n,t,e,i){const r=n.Dc(1,t,e);db("Data must be an object, but it was:",r,i);const s=[],o=Ws.empty();eh(i,(u,f)=>{const p=pb(t,u,e);f=Mn(f);const v=r.gc(p);if(f instanceof L1)s.push(p);else{const b=Ng(f,v);b!=null&&(s.push(p),o.set(p,b))}});const c=new wa(s);return new $3(o,c,r.fieldTransforms)}function x8(n,t,e,i,r,s){const o=n.Dc(1,t,e),c=[V2(t,i,e)],u=[r];if(s.length%2!=0)throw new ue(Gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(V2(t,s[b])),u.push(s[b+1]);const f=[],p=Ws.empty();for(let b=c.length-1;b>=0;--b)if(!J3(f,c[b])){const _=c[b];let E=u[b];E=Mn(E);const N=o.gc(_);if(E instanceof L1)f.push(_);else{const I=Ng(E,N);I!=null&&(f.push(_),p.set(_,I))}}const v=new wa(f);return new $3(p,v,o.fieldTransforms)}function E8(n,t,e,i=!1){return Ng(e,n.Dc(i?4:3,t))}function Ng(n,t){if(Q3(n=Mn(n)))return db("Unsupported field value:",t,n),X3(n,t);if(n instanceof C1)return function(i,r){if(!Y3(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=Ng(c,r.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=Mn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=oi.fromDate(i);return{timestampValue:V0(r.serializer,s)}}if(i instanceof oi){const s=new oi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:V0(r.serializer,s)}}if(i instanceof Cl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xa)return{bytesValue:v3(r.serializer,i._byteString)};if(i instanceof Pi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Rl)return function(o,c){return{mapValue:{fields:{[W4]:{stringValue:$4},[O0]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw c.wc("VectorValues must only contain numeric values.");return q_(c.serializer,f)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${d1(i)}`)}(n,t)}function X3(n,t){const e={};return B4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eh(n,(i,r)=>{const s=Ng(r,t.Vc(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function Q3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof Cl||n instanceof Xa||n instanceof Pi||n instanceof C1||n instanceof Rl)}function db(n,t,e){if(!Q3(e)||!F4(e)){const i=d1(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function V2(n,t,e){if((t=Mn(t))instanceof I1)return t._internalPath;if(typeof t=="string")return pb(n,t);throw H0("Field path arguments must be of type string or ",n,!1,void 0,e)}const N8=new RegExp("[~\\*/\\[\\]]");function pb(n,t,e){if(t.search(N8)>=0)throw H0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new I1(...t.split("."))._internalPath}catch{throw H0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function H0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new ue(Gt.INVALID_ARGUMENT,c+n+u)}function J3(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class I8 extends Z3{data(){return super.data()}}function gb(n,t){return typeof t=="string"?pb(n,t):t instanceof I1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mb{}class C8 extends mb{}function vb(n,t,...e){let i=[];t instanceof mb&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof yb).length,c=s.filter(u=>u instanceof P1).length;if(o>1||o>0&&c>0)throw new ue(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class P1 extends C8{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new P1(t,e,i)}_apply(t){const e=this._parse(t);return nN(t._query,e),new ef(t.firestore,t.converter,I2(t._query,e))}_parse(t){const e=R1(t.firestore);return function(s,o,c,u,f,p,v){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ue(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){KA(v,p);const E=[];for(const N of v)E.push(YA(u,s,N));b={arrayValue:{values:E}}}else b=YA(u,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||KA(v,p),b=E8(c,o,v,p==="in"||p==="not-in");return ir.create(f,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function eN(n,t,e){const i=t,r=gb("where",n);return P1._create(r,i,e)}class yb extends mb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new yb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:jo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)nN(o,u),o=I2(o,u)}(t._query,e),new ef(t.firestore,t.converter,I2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YA(n,t,e){if(typeof(e=Mn(e))=="string"){if(e==="")throw new ue(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e3(t)&&e.indexOf("/")!==-1)throw new ue(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ni.fromString(e));if(!Ee.isDocumentKey(i))throw new ue(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uA(n,new Ee(i))}if(e instanceof Pi)return uA(n,e._key);throw new ue(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d1(e)}.`)}function KA(n,t){if(!Array.isArray(n)||n.length===0)throw new ue(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nN(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ue(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ue(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class R8{convertValue(t,e="none"){switch(Gu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw je(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return eh(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[O0].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Gi(o.doubleValue));return new Rl(s)}convertGeoPoint(t){return new Cl(Gi(t.latitude),Gi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=m1(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Qp(t));default:return null}}convertTimestamp(t){const e=qu(t);return new oi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ni.fromString(t);On(A3(i),9688,{name:t});const r=new Jp(i.get(1),i.get(3)),s=new Ee(i.popFirst(5));return r.isEqual(e)||Lc(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class xp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jh extends Z3{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(gb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=jh._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}jh._jsonSchemaVersion="firestore/documentSnapshot/1.0",jh._jsonSchema={type:sr("string",jh._jsonSchemaVersion),bundleSource:sr("string","DocumentSnapshot"),bundleName:sr("string"),bundle:sr("string")};class f0 extends jh{data(t={}){return super.data(t)}}class Fh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new f0(this._firestore,this._userDataWriter,i.key,i,new xp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ue(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const u=new f0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new f0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:L8(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=j_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function L8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n){n=Ys(n,Pi);const t=Ys(n.firestore,kc);return m8(N1(t),n._key).then(e=>rN(t,n,e))}Fh._jsonSchemaVersion="firestore/querySnapshot/1.0",Fh._jsonSchema={type:sr("string",Fh._jsonSchemaVersion),bundleSource:sr("string","QuerySnapshot"),bundleName:sr("string"),bundle:sr("string")};class _b extends R8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,e)}}function k1(n){n=Ys(n,ef);const t=Ys(n.firestore,kc),e=N1(t),i=new _b(t);return tN(n._query),v8(e,n._query).then(r=>new Fh(t,i,n,r))}function bb(n,t,e){n=Ys(n,Pi);const i=Ys(n.firestore,kc),r=iN(n.converter,t);return D1(i,[K3(R1(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Ja.none())])}function wd(n,t,e,...i){n=Ys(n,Pi);const r=Ys(n.firestore,kc),s=R1(r);let o;return o=typeof(t=Mn(t))=="string"||t instanceof I1?x8(s,"updateDoc",n._key,t,e,i):T8(s,"updateDoc",n._key,t),D1(r,[o.toMutation(n._key,Ja.exists(!0))])}function k8(n){return D1(Ys(n.firestore,kc),[new H_(n._key,Ja.none())])}function D8(n,t){const e=Ys(n.firestore,kc),i=no(n),r=iN(n.converter,t);return D1(e,[K3(R1(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ja.exists(!1))]).then(()=>i)}function O8(n,...t){var e,i,r;n=Mn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||$A(t[o])||(s=t[o++]);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($A(t[o])){const v=t[o];t[o]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[o+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[o+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let u,f,p;if(n instanceof Pi)f=Ys(n.firestore,kc),p=v1(n._key.path),u={next:v=>{t[o]&&t[o](rN(f,n,v))},error:t[o+1],complete:t[o+2]};else{const v=Ys(n,ef);f=Ys(v.firestore,kc),p=v._query;const b=new _b(f);u={next:_=>{t[o]&&t[o](new Fh(f,b,v,_))},error:t[o+1],complete:t[o+2]},tN(n._query)}return function(b,_,E,N){const I=new ub(N),C=new ob(_,I,E);return b.asyncQueue.enqueueAndForget(async()=>rb(await q0(b),C)),()=>{I.Ou(),b.asyncQueue.enqueueAndForget(async()=>sb(await q0(b),C))}}(N1(f),p,c,u)}function D1(n,t){return function(i,r){const s=new Nc;return i.asyncQueue.enqueueAndForget(async()=>r8(await g8(i),r,s)),s.promise}(N1(n),t)}function rN(n,t,e){const i=e.docs.get(t._key),r=new _b(n);return new jh(n,r,t._key,i,new xp(e.hasPendingWrites,e.fromCache),t.converter)}function Dl(){return new fb("serverTimestamp")}(function(t,e=!0){(function(r){md=r})(Jh),Xs(new Ns("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new kc(new ED(i.getProvider("auth-internal")),new CD(o,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ue(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jp(f.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Cr(XS,QS,t),Cr(XS,QS,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebasestorage.googleapis.com",aN="storageBucket",M8=2*60*1e3,j8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends eo{constructor(t,e,i=0){super(Ay(t),`Firebase Storage: ${e} (${Ay(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Di.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ay(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function Ay(n){return"storage/"+n}function wb(){const n="An unknown error occurred, please check the error payload for server response.";return new Di(ki.UNKNOWN,n)}function F8(n){return new Di(ki.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function V8(n){return new Di(ki.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B8(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Di(ki.UNAUTHENTICATED,n)}function U8(){return new Di(ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z8(n){return new Di(ki.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function q8(){return new Di(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H8(){return new Di(ki.CANCELED,"User canceled the upload/download.")}function G8(n){return new Di(ki.INVALID_URL,"Invalid URL '"+n+"'.")}function W8(n){return new Di(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $8(){return new Di(ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aN+"' property when initializing the app?")}function Y8(){return new Di(ki.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function K8(){return new Di(ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X8(n){return new Di(ki.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function B2(n){return new Di(ki.INVALID_ARGUMENT,n)}function oN(){return new Di(ki.APP_DELETED,"The Firebase app was deleted.")}function Q8(n){return new Di(ki.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mp(n,t){return new Di(ki.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function fp(n){throw new Di(ki.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Sa.makeFromUrl(t,e)}catch{return new Sa(t,"")}if(i.path==="")return i;throw W8(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function f(nt){nt.path_=decodeURIComponent(nt.path)}const p="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${p}/b/${r}/o${b}`,"i"),E={bucket:1,path:3},N=e===sN?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",C=new RegExp(`^https?://${N}/${r}/${I}`,"i"),H=[{regex:c,indices:u,postModify:s},{regex:_,indices:E,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let nt=0;nt<H.length;nt++){const it=H[nt],gt=it.regex.exec(t);if(gt){const q=gt[it.indices.bucket];let L=gt[it.indices.path];L||(L=""),i=new Sa(q,L),it.postModify(i);break}}if(i==null)throw G8(t);return i}}class J8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return c===2}let f=!1;function p(...I){f||(f=!0,t.apply(null,I))}function v(I){r=setTimeout(()=>{r=null,n(_,u())},I)}function b(){s&&clearTimeout(s)}function _(I,...C){if(f){b();return}if(I){b(),p.call(null,I,...C);return}if(u()||o){b(),p.call(null,I,...C);return}i<64&&(i*=2);let H;c===1?(c=2,H=0):H=(i+Math.random())*1e3,v(H)}let E=!1;function N(I){E||(E=!0,b(),!f&&(r!==null?(I||(c=2),clearTimeout(r),v(0)):I||(c=1)))}return v(0),s=setTimeout(()=>{o=!0,N(!0)},e),N}function t7(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(n){return n!==void 0}function n7(n){return typeof n=="object"&&!Array.isArray(n)}function Sb(n){return typeof n=="string"||n instanceof String}function XA(n){return Ab()&&n instanceof Blob}function Ab(){return typeof Blob<"u"}function QA(n,t,e,i){if(i<t)throw B2(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw B2(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function lN(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Vh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Vh||(Vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=t.indexOf(n)!==-1;return e||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(t,e,i,r,s,o,c,u,f,p,v,b=!0,_=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Dm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Vh.NO_ERROR,u=s.getStatus();if(!c||i7(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Vh.ABORT;i(!1,new Dm(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;i(!0,new Dm(f,s))})},e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());e7(u)?s(u):s()}catch(u){o(u)}else if(c!==null){const u=wb();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(r.canceled){const u=this.appDelete_?oN():H8();o(u)}else{const u=q8();o(u)}};this.canceled_?e(!1,new Dm(!1,null,!0)):this.backoffId_=Z8(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&t7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dm{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function s7(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function a7(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function o7(n,t){t&&(n["X-Firebase-GMPID"]=t)}function l7(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function c7(n,t,e,i,r,s,o=!0,c=!1){const u=lN(n.urlParams),f=n.url+u,p=Object.assign({},n.headers);return o7(p,t),s7(p,e),a7(p,s),l7(p,i),new r7(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h7(...n){const t=u7();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Ab())return new Blob(n);throw new Di(ki.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function f7(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(n){if(typeof atob>"u")throw X8("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ty{constructor(t,e){this.data=t,this.contentType=e||null}}function p7(n,t){switch(n){case Al.RAW:return new Ty(cN(t));case Al.BASE64:case Al.BASE64URL:return new Ty(uN(n,t));case Al.DATA_URL:return new Ty(m7(t),v7(t))}throw wb()}function cN(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=n.charCodeAt(++e);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function g7(n){let t;try{t=decodeURIComponent(n)}catch{throw Mp(Al.DATA_URL,"Malformed data URL.")}return cN(t)}function uN(n,t){switch(n){case Al.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw Mp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Al.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw Mp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=d7(t)}catch(r){throw r.message.includes("polyfill")?r:Mp(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class hN{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Mp(Al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=y7(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function m7(n){const t=new hN(n);return t.base64?uN(Al.BASE64,t.rest):g7(t.rest)}function v7(n){return new hN(n).contentType}function y7(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,e){let i=0,r="";XA(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(XA(this.data_)){const i=this.data_,r=f7(i,t,e);return r===null?null:new Cu(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Cu(i,!0)}}static getBlob(...t){if(Ab()){const e=t.map(i=>i instanceof Cu?i.data_:i);return new Cu(h7.apply(null,e))}else{const e=t.map(o=>Sb(o)?p7(Al.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new Cu(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n){let t;try{t=JSON.parse(n)}catch{return null}return n7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function b7(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function dN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(n,t){return t}class xs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||w7}}let Om=null;function S7(n){return!Sb(n)||n.length<2?n:dN(n)}function pN(){if(Om)return Om;const n=[];n.push(new xs("bucket")),n.push(new xs("generation")),n.push(new xs("metageneration")),n.push(new xs("name","fullPath",!0));function t(s,o){return S7(o)}const e=new xs("name");e.xform=t,n.push(e);function i(s,o){return o!==void 0?Number(o):o}const r=new xs("size");return r.xform=i,n.push(r),n.push(new xs("timeCreated")),n.push(new xs("updated")),n.push(new xs("md5Hash",null,!0)),n.push(new xs("cacheControl",null,!0)),n.push(new xs("contentDisposition",null,!0)),n.push(new xs("contentEncoding",null,!0)),n.push(new xs("contentLanguage",null,!0)),n.push(new xs("contentType",null,!0)),n.push(new xs("metadata","customMetadata",!0)),Om=n,Om}function A7(n,t){function e(){const i=n.bucket,r=n.fullPath,s=new Sa(i,r);return t._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:e})}function T7(n,t,e){const i={};i.type="file";const r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return A7(i,n),i}function gN(n,t,e){const i=fN(t);return i===null?null:T7(n,i,e)}function x7(n,t,e,i){const r=fN(t);if(r===null||!Sb(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const p=n.bucket,v=n.fullPath,b="/b/"+o(p)+"/o/"+o(v),_=Tb(b,e,i),E=lN({alt:"media",token:f});return _+E})[0]}function E7(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}class mN{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){if(!n)throw wb()}function N7(n,t){function e(i,r){const s=gN(n,r,t);return vN(s!==null),s}return e}function I7(n,t){function e(i,r){const s=gN(n,r,t);return vN(s!==null),x7(s,r,n.host,n._protocol)}return e}function yN(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=U8():r=B8():e.getStatus()===402?r=V8(n.bucket):e.getStatus()===403?r=z8(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function C7(n){const t=yN(n);function e(i,r){let s=t(i,r);return i.getStatus()===404&&(s=F8(n.path)),s.serverResponse=r.serverResponse,s}return e}function R7(n,t,e){const i=t.fullServerUrl(),r=Tb(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,c=new mN(r,s,I7(n,e),o);return c.errorHandler=C7(t),c}function L7(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function P7(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=L7(null,t)),i}function k7(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let H="";for(let nt=0;nt<2;nt++)H=H+Math.random().toString().slice(2);return H}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const f=P7(t,i,r),p=E7(f,e),v="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,b=`\r
--`+u+"--",_=Cu.getBlob(v,i,b);if(_===null)throw Y8();const E={name:f.fullPath},N=Tb(s,n.host,n._protocol),I="POST",C=n.maxUploadRetryTime,O=new mN(N,I,N7(n,e),C);return O.urlParams=E,O.headers=o,O.body=_.uploadData(),O.errorHandler=yN(t),O}class D7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,s){if(this.sent_)throw fp("cannot .send() more than once");if(th(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class O7 extends D7{initXhr(){this.xhr_.responseType="text"}}function _N(){return new O7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,e){this._service=t,e instanceof Sa?this._location=e:this._location=Sa.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new $h(t,e)}get root(){const t=new Sa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dN(this._location.path)}get storage(){return this._service}get parent(){const t=_7(this._location.path);if(t===null)return null;const e=new Sa(this._location.bucket,t);return new $h(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Q8(t)}}function M7(n,t,e){n._throwIfRoot("uploadBytes");const i=k7(n.storage,n._location,pN(),new Cu(t,!0),e);return n.storage.makeRequestWithTokens(i,_N).then(r=>({metadata:r,ref:n}))}function j7(n){n._throwIfRoot("getDownloadURL");const t=R7(n.storage,n._location,pN());return n.storage.makeRequestWithTokens(t,_N).then(e=>{if(e===null)throw K8();return e})}function F7(n,t){const e=b7(n._location.path,t),i=new Sa(n._location.bucket,e);return new $h(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(n){return/^[A-Za-z]+:\/\//.test(n)}function B7(n,t){return new $h(n,t)}function bN(n,t){if(n instanceof xb){const e=n;if(e._bucket==null)throw $8();const i=new $h(e,e._bucket);return t!=null?bN(i,t):i}else return t!==void 0?F7(n,t):n}function U7(n,t){if(t&&V7(t)){if(n instanceof xb)return B7(n,t);throw B2("To use ref(service, url), the first argument must be a Storage instance.")}else return bN(n,t)}function JA(n,t){const e=t==null?void 0:t[aN];return e==null?null:Sa.makeFromBucketSpec(e,n)}function z7(n,t,e,i={}){n.host=`${t}:${e}`;const r=th(t);r&&(w_(`https://${n.host}/b`),S_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:BE(s,n.app.options.projectId))}class xb{constructor(t,e,i,r,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=sN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M8,this._maxUploadRetryTime=j8,this._requests=new Set,r!=null?this._bucket=Sa.makeFromBucketSpec(r,this._host):this._bucket=JA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sa.makeFromBucketSpec(this._url,t):this._bucket=JA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $h(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new J8(oN());{const o=c7(t,this._appId,i,r,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const ZA="@firebase/storage",tT="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="storage";function q7(n,t,e){return n=Mn(n),M7(n,t,e)}function H7(n){return n=Mn(n),j7(n)}function G7(n,t){return n=Mn(n),U7(n,t)}function W7(n=pd(),t){n=Mn(n);const i=Ol(n,wN).getImmediate({identifier:t}),r=jE("storage");return r&&$7(i,...r),i}function $7(n,t,e,i={}){z7(n,t,e,i)}function Y7(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new xb(e,i,r,t,Jh)}function K7(){Xs(new Ns(wN,Y7,"PUBLIC").setMultipleInstances(!0)),Cr(ZA,tT,""),Cr(ZA,tT,"esm2017")}K7();const SN="@firebase/installations",Eb="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e4,TN=`w:${Eb}`,xN="FIS_v2",X7="https://firebaseinstallations.googleapis.com/v1",Q7=60*60*1e3,J7="installations",Z7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yh=new Mc(J7,Z7,t9);function EN(n){return n instanceof eo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN({projectId:n}){return`${X7}/projects/${n}/installations`}function IN(n){return{token:n.token,requestStatus:2,expiresIn:n9(n.expiresIn),creationTime:Date.now()}}async function CN(n,t){const i=(await t.json()).error;return Yh.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function RN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function e9(n,{refreshToken:t}){const e=RN(n);return e.append("Authorization",i9(t)),e}async function LN(n){const t=await n();return t.status>=500&&t.status<600?n():t}function n9(n){return Number(n.replace("s","000"))}function i9(n){return`${xN} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=NN(n),r=RN(n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={fid:e,authVersion:xN,appId:n.appId,sdkVersion:TN},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await LN(()=>fetch(i,c));if(u.ok){const f=await u.json();return{fid:f.fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:IN(f.authToken)}}else throw await CN("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=/^[cdef][\w-]{21}$/,U2="";function o9(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=l9(n);return a9.test(e)?e:U2}catch{return U2}}function l9(n){return s9(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Map;function DN(n,t){const e=O1(n);ON(e,t),c9(e,t)}function ON(n,t){const e=kN.get(n);if(e)for(const i of e)i(t)}function c9(n,t){const e=u9();e&&e.postMessage({key:n,fid:t}),h9()}let Oh=null;function u9(){return!Oh&&"BroadcastChannel"in self&&(Oh=new BroadcastChannel("[Firebase] FID Change"),Oh.onmessage=n=>{ON(n.data.key,n.data.fid)}),Oh}function h9(){kN.size===0&&Oh&&(Oh.close(),Oh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="firebase-installations-database",d9=1,Kh="firebase-installations-store";let xy=null;function Nb(){return xy||(xy=c1(f9,d9,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Kh)}}})),xy}async function G0(n,t){const e=O1(n),r=(await Nb()).transaction(Kh,"readwrite"),s=r.objectStore(Kh),o=await s.get(e);return await s.put(t,e),await r.done,(!o||o.fid!==t.fid)&&DN(n,t.fid),t}async function MN(n){const t=O1(n),i=(await Nb()).transaction(Kh,"readwrite");await i.objectStore(Kh).delete(t),await i.done}async function M1(n,t){const e=O1(n),r=(await Nb()).transaction(Kh,"readwrite"),s=r.objectStore(Kh),o=await s.get(e),c=t(o);return c===void 0?await s.delete(e):await s.put(c,e),await r.done,c&&(!o||o.fid!==c.fid)&&DN(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(n){let t;const e=await M1(n.appConfig,i=>{const r=p9(i),s=g9(n,r);return t=s.registrationPromise,s.installationEntry});return e.fid===U2?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function p9(n){const t=n||{fid:o9(),registrationStatus:0};return jN(t)}function g9(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Yh.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=m9(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:v9(n)}:{installationEntry:t}}async function m9(n,t){try{const e=await r9(n,t);return G0(n.appConfig,e)}catch(e){throw EN(e)&&e.customData.serverCode===409?await MN(n.appConfig):await G0(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function v9(n){let t=await eT(n.appConfig);for(;t.registrationStatus===1;)await PN(100),t=await eT(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await Ib(n);return i||e}return t}function eT(n){return M1(n,t=>{if(!t)throw Yh.create("installation-not-found");return jN(t)})}function jN(n){return y9(n)?{fid:n.fid,registrationStatus:0}:n}function y9(n){return n.registrationStatus===1&&n.registrationTime+AN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9({appConfig:n,heartbeatServiceProvider:t},e){const i=b9(n,e),r=e9(n,e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={installation:{sdkVersion:TN,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await LN(()=>fetch(i,c));if(u.ok){const f=await u.json();return IN(f)}else throw await CN("Generate Auth Token",u)}function b9(n,{fid:t}){return`${NN(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(n,t=!1){let e;const i=await M1(n.appConfig,s=>{if(!FN(s))throw Yh.create("not-registered");const o=s.authToken;if(!t&&A9(o))return s;if(o.requestStatus===1)return e=w9(n,t),s;{if(!navigator.onLine)throw Yh.create("app-offline");const c=x9(s);return e=S9(n,c),c}});return e?await e:i.authToken}async function w9(n,t){let e=await nT(n.appConfig);for(;e.authToken.requestStatus===1;)await PN(100),e=await nT(n.appConfig);const i=e.authToken;return i.requestStatus===0?Cb(n,t):i}function nT(n){return M1(n,t=>{if(!FN(t))throw Yh.create("not-registered");const e=t.authToken;return E9(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function S9(n,t){try{const e=await _9(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return await G0(n.appConfig,i),e}catch(e){if(EN(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await MN(n.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await G0(n.appConfig,i)}throw e}}function FN(n){return n!==void 0&&n.registrationStatus===2}function A9(n){return n.requestStatus===2&&!T9(n)}function T9(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+Q7}function x9(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function E9(n){return n.requestStatus===1&&n.requestTime+AN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(n){const t=n,{installationEntry:e,registrationPromise:i}=await Ib(t);return i?i.catch(console.error):Cb(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(n,t=!1){const e=n;return await C9(e),(await Cb(e,t)).token}async function C9(n){const{registrationPromise:t}=await Ib(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(n){if(!n||!n.options)throw Ey("App Configuration");if(!n.name)throw Ey("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Ey(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ey(n){return Yh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="installations",L9="installations-internal",P9=n=>{const t=n.getProvider("app").getImmediate(),e=R9(t),i=Ol(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},k9=n=>{const t=n.getProvider("app").getImmediate(),e=Ol(t,VN).getImmediate();return{getId:()=>N9(e),getToken:r=>I9(e,r)}};function D9(){Xs(new Ns(VN,P9,"PUBLIC")),Xs(new Ns(L9,k9,"PRIVATE"))}D9();Cr(SN,Eb);Cr(SN,Eb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="analytics",O9="firebase_id",M9="origin",j9=60*1e3,F9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new mg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xa=new Mc("analytics","Analytics",V9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){if(!n.startsWith(Rb)){const t=xa.create("invalid-gtag-resource",{gtagURL:n});return Ks.warn(t.message),""}return n}function BN(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function U9(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function z9(n,t){const e=U9("firebase-js-sdk-policy",{createScriptURL:B9}),i=document.createElement("script"),r=`${Rb}?l=${n}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function q9(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function H9(n,t,e,i,r,s){const o=i[r];try{if(o)await t[o];else{const u=(await BN(e)).find(f=>f.measurementId===r);u&&await t[u.appId]}}catch(c){Ks.error(c)}n("config",r,s)}async function G9(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=await BN(e);for(const u of o){const f=c.find(v=>v.measurementId===u),p=f&&t[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),n("event",i,r||{})}catch(s){Ks.error(s)}}function W9(n,t,e,i){async function r(s,...o){try{if(s==="event"){const[c,u]=o;await G9(n,t,e,c,u)}else if(s==="config"){const[c,u]=o;await H9(n,t,e,i,c,u)}else if(s==="consent"){const[c,u]=o;n("consent",c,u)}else if(s==="get"){const[c,u,f]=o;n("get",c,u,f)}else if(s==="set"){const[c]=o;n("set",c)}else n(s,...o)}catch(c){Ks.error(c)}}return r}function $9(n,t,e,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=W9(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}function Y9(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Rb)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=30,X9=1e3;class Q9{constructor(t={},e=X9){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const UN=new Q9;function J9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Z9(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:J9(i)},s=F9.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();!((t=u.error)===null||t===void 0)&&t.message&&(c=u.error.message)}catch{}throw xa.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function tj(n,t=UN,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw xa.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw xa.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ij;return setTimeout(async()=>{c.abort()},j9),zN({appId:i,apiKey:r,measurementId:s},o,c,t)}async function zN(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=UN){var s;const{appId:o,measurementId:c}=n;try{await ej(i,t)}catch(u){if(c)return Ks.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:c};throw u}try{const u=await Z9(n);return r.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!nj(f)){if(r.deleteThrottleMetadata(o),c)return Ks.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw u}const p=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?wS(e,r.intervalMillis,K9):wS(e,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:e+1};return r.setThrottleMetadata(o,v),Ks.debug(`Calling attemptFetch again in ${p} millis`),zN(n,v,i,r)}}function ej(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(xa.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function nj(n){if(!(n instanceof eo)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class ij{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rj(n,t,e,i,r){if(r&&r.global){n("event",e,i);return}else{const s=await t,o=Object.assign(Object.assign({},i),{send_to:s});n("event",e,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(){if(o1())try{await l1()}catch(n){return Ks.warn(xa.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ks.warn(xa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aj(n,t,e,i,r,s,o){var c;const u=tj(n);u.then(_=>{e[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Ks.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Ks.error(_)),t.push(u);const f=sj().then(_=>{if(_)return i.getId()}),[p,v]=await Promise.all([u,f]);Y9(s)||z9(s,p.measurementId),r("js",new Date);const b=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return b[M9]="firebase",b.update=!0,v!=null&&(b[O9]=v),r("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t){this.app=t}_delete(){return delete jp[this.app.options.appId],Promise.resolve()}}let jp={},iT=[];const rT={};let Ny="dataLayer",lj="gtag",sT,qN,aT=!1;function cj(){const n=[];if(UE()&&n.push("This is a browser extension environment."),A_()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=xa.create("invalid-analytics-context",{errorInfo:t});Ks.warn(e.message)}}function uj(n,t,e){cj();const i=n.options.appId;if(!i)throw xa.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ks.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xa.create("no-api-key");if(jp[i]!=null)throw xa.create("already-exists",{id:i});if(!aT){q9(Ny);const{wrappedGtag:s,gtagCore:o}=$9(jp,iT,rT,Ny,lj);qN=s,sT=o,aT=!0}return jp[i]=aj(n,iT,rT,t,sT,Ny,e),new oj(n)}function hj(n=pd()){n=Mn(n);const t=Ol(n,W0);return t.isInitialized()?t.getImmediate():fj(n)}function fj(n,t={}){const e=Ol(n,W0);if(e.isInitialized()){const r=e.getImmediate();if(Bu(t,e.getOptions()))return r;throw xa.create("already-initialized")}return e.initialize({options:t})}function HN(n,t,e,i){n=Mn(n),rj(qN,jp[n.app.options.appId],t,e,i).catch(r=>Ks.error(r))}const oT="@firebase/analytics",lT="0.10.17";function dj(){Xs(new Ns(W0,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return uj(i,r,e)},"PUBLIC")),Xs(new Ns("analytics-internal",n,"PRIVATE")),Cr(oT,lT),Cr(oT,lT,"esm2017");function n(t){try{const e=t.getProvider(W0).getImmediate();return{logEvent:(i,r,s)=>HN(e,i,r,s)}}catch(e){throw xa.create("interop-component-reg-failed",{reason:e})}}}dj();var z2,cT,j1=function(){var n=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(n&&n.responseStart>0&&n.responseStart<performance.now())return n},GN=function(n){if(document.readyState==="loading")return"loading";var t=j1();if(t){if(n<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||n<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||n<t.domComplete)return"dom-content-loaded"}return"complete"},pj=function(n){var t=n.nodeName;return n.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},Lb=function(n,t){var e="";try{for(;n&&n.nodeType!==9;){var i=n,r=i.id?"#"+i.id:pj(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(e.length+r.length>(t||100)-1)return e||r;if(e=e?r+">"+e:r,i.id)break;n=i.parentNode}}catch{}return e},WN=-1,gj=function(){return WN},Ig=function(n){addEventListener("pageshow",function(t){t.persisted&&(WN=t.timeStamp,n(t))},!0)},Pb=function(){var n=j1();return n&&n.activationStart||0},Yu=function(n,t){var e=j1(),i="navigate";return gj()>=0?i="back-forward-cache":e&&(document.prerendering||Pb()>0?i="prerender":document.wasDiscarded?i="restore":e.type&&(i=e.type.replace(/_/g,"-"))),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Sd=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch{}},Ku=function(n,t,e,i){var r,s;return function(o){t.value>=0&&(o||i)&&((s=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=s,t.rating=function(c,u){return c>u[1]?"poor":c>u[0]?"needs-improvement":"good"}(t.value,e),n(t))}},kb=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},F1=function(n){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&n()})},Db=function(n){var t=!1;return function(){t||(n(),t=!0)}},Hf=-1,uT=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},$0=function(n){document.visibilityState==="hidden"&&Hf>-1&&(Hf=n.type==="visibilitychange"?n.timeStamp:0,mj())},hT=function(){addEventListener("visibilitychange",$0,!0),addEventListener("prerenderingchange",$0,!0)},mj=function(){removeEventListener("visibilitychange",$0,!0),removeEventListener("prerenderingchange",$0,!0)},$N=function(){return Hf<0&&(Hf=uT(),hT(),Ig(function(){setTimeout(function(){Hf=uT(),hT()},0)})),{get firstHiddenTime(){return Hf}}},Ob=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},fT=[1800,3e3],vj=function(n,t){t=t||{},Ob(function(){var e,i=$N(),r=Yu("FCP"),s=Sd("paint",function(o){o.forEach(function(c){c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<i.firstHiddenTime&&(r.value=Math.max(c.startTime-Pb(),0),r.entries.push(c),e(!0)))})});s&&(e=Ku(n,r,fT,t.reportAllChanges),Ig(function(o){r=Yu("FCP"),e=Ku(n,r,fT,t.reportAllChanges),kb(function(){r.value=performance.now()-o.timeStamp,e(!0)})}))})},dT=[.1,.25],yj=function(n,t){(function(e,i){i=i||{},vj(Db(function(){var r,s=Yu("CLS",0),o=0,c=[],u=function(p){p.forEach(function(v){if(!v.hadRecentInput){var b=c[0],_=c[c.length-1];o&&v.startTime-_.startTime<1e3&&v.startTime-b.startTime<5e3?(o+=v.value,c.push(v)):(o=v.value,c=[v])}}),o>s.value&&(s.value=o,s.entries=c,r())},f=Sd("layout-shift",u);f&&(r=Ku(e,s,dT,i.reportAllChanges),F1(function(){u(f.takeRecords()),r(!0)}),Ig(function(){o=0,s=Yu("CLS",0),r=Ku(e,s,dT,i.reportAllChanges),kb(function(){return r()})}),setTimeout(r,0))}))})(function(e){var i=function(r){var s,o={};if(r.entries.length){var c=r.entries.reduce(function(f,p){return f&&f.value>p.value?f:p});if(c&&c.sources&&c.sources.length){var u=(s=c.sources).find(function(f){return f.node&&f.node.nodeType===1})||s[0];u&&(o={largestShiftTarget:Lb(u.node),largestShiftTime:c.startTime,largestShiftValue:c.value,largestShiftSource:u,largestShiftEntry:c,loadState:GN(c.startTime)})}}return Object.assign(r,{attribution:o})}(e);n(i)},t)},YN=0,Iy=1/0,Mm=0,_j=function(n){n.forEach(function(t){t.interactionId&&(Iy=Math.min(Iy,t.interactionId),Mm=Math.max(Mm,t.interactionId),YN=Mm?(Mm-Iy)/7+1:0)})},KN=function(){return z2?YN:performance.interactionCount||0},bj=function(){"interactionCount"in performance||z2||(z2=Sd("event",_j,{type:"event",buffered:!0,durationThreshold:0}))},Do=[],Fp=new Map,XN=0,wj=function(){var n=Math.min(Do.length-1,Math.floor((KN()-XN)/50));return Do[n]},QN=[],Sj=function(n){if(QN.forEach(function(r){return r(n)}),n.interactionId||n.entryType==="first-input"){var t=Do[Do.length-1],e=Fp.get(n.interactionId);if(e||Do.length<10||n.duration>t.latency){if(e)n.duration>e.latency?(e.entries=[n],e.latency=n.duration):n.duration===e.latency&&n.startTime===e.entries[0].startTime&&e.entries.push(n);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};Fp.set(i.id,i),Do.push(i)}Do.sort(function(r,s){return s.latency-r.latency}),Do.length>10&&Do.splice(10).forEach(function(r){return Fp.delete(r.id)})}}},Mb=function(n){var t=self.requestIdleCallback||self.setTimeout,e=-1;return n=Db(n),document.visibilityState==="hidden"?n():(e=t(n),F1(n)),e},pT=[200,500],Aj=function(n,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Ob(function(){var e;bj();var i,r=Yu("INP"),s=function(c){Mb(function(){c.forEach(Sj);var u=wj();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,i())})},o=Sd("event",s,{durationThreshold:(e=t.durationThreshold)!==null&&e!==void 0?e:40});i=Ku(n,r,pT,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),F1(function(){s(o.takeRecords()),i(!0)}),Ig(function(){XN=KN(),Do.length=0,Fp.clear(),r=Yu("INP"),i=Ku(n,r,pT,t.reportAllChanges)}))}))},Qf=[],Ru=[],q2=0,jb=new WeakMap,Jf=new Map,H2=-1,Tj=function(n){Qf=Qf.concat(n),JN()},JN=function(){H2<0&&(H2=Mb(xj))},xj=function(){Jf.size>10&&Jf.forEach(function(o,c){Fp.has(c)||Jf.delete(c)});var n=Do.map(function(o){return jb.get(o.entries[0])}),t=Ru.length-50;Ru=Ru.filter(function(o,c){return c>=t||n.includes(o)});for(var e=new Set,i=0;i<Ru.length;i++){var r=Ru[i];ZN(r.startTime,r.processingEnd).forEach(function(o){e.add(o)})}var s=Qf.length-1-50;Qf=Qf.filter(function(o,c){return o.startTime>q2&&c>s||e.has(o)}),H2=-1};QN.push(function(n){n.interactionId&&n.target&&!Jf.has(n.interactionId)&&Jf.set(n.interactionId,n.target)},function(n){var t,e=n.startTime+n.duration;q2=Math.max(q2,n.processingEnd);for(var i=Ru.length-1;i>=0;i--){var r=Ru[i];if(Math.abs(e-r.renderTime)<=8){(t=r).startTime=Math.min(n.startTime,t.startTime),t.processingStart=Math.min(n.processingStart,t.processingStart),t.processingEnd=Math.max(n.processingEnd,t.processingEnd),t.entries.push(n);break}}t||(t={startTime:n.startTime,processingStart:n.processingStart,processingEnd:n.processingEnd,renderTime:e,entries:[n]},Ru.push(t)),(n.interactionId||n.entryType==="first-input")&&jb.set(n,t),JN()});var ZN=function(n,t){for(var e,i=[],r=0;e=Qf[r];r++)if(!(e.startTime+e.duration<n)){if(e.startTime>t)break;i.push(e)}return i},Ej=function(n,t){cT||(cT=Sd("long-animation-frame",Tj)),Aj(function(e){var i=function(r){var s=r.entries[0],o=jb.get(s),c=s.processingStart,u=o.processingEnd,f=o.entries.sort(function(I,C){return I.processingStart-C.processingStart}),p=ZN(s.startTime,u),v=r.entries.find(function(I){return I.target}),b=v&&v.target||Jf.get(s.interactionId),_=[s.startTime+s.duration,u].concat(p.map(function(I){return I.startTime+I.duration})),E=Math.max.apply(Math,_),N={interactionTarget:Lb(b),interactionTargetElement:b,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:E,processedEventEntries:f,longAnimationFrameEntries:p,inputDelay:c-s.startTime,processingDuration:u-c,presentationDelay:Math.max(E-u,0),loadState:GN(s.startTime)};return Object.assign(r,{attribution:N})}(e);n(i)},t)},gT=[2500,4e3],Cy={},Nj=function(n,t){(function(e,i){i=i||{},Ob(function(){var r,s=$N(),o=Yu("LCP"),c=function(p){i.reportAllChanges||(p=p.slice(-1)),p.forEach(function(v){v.startTime<s.firstHiddenTime&&(o.value=Math.max(v.startTime-Pb(),0),o.entries=[v],r())})},u=Sd("largest-contentful-paint",c);if(u){r=Ku(e,o,gT,i.reportAllChanges);var f=Db(function(){Cy[o.id]||(c(u.takeRecords()),u.disconnect(),Cy[o.id]=!0,r(!0))});["keydown","click"].forEach(function(p){addEventListener(p,function(){return Mb(f)},{once:!0,capture:!0})}),F1(f),Ig(function(p){o=Yu("LCP"),r=Ku(e,o,gT,i.reportAllChanges),kb(function(){o.value=performance.now()-p.timeStamp,Cy[o.id]=!0,r(!0)})})}})})(function(e){var i=function(r){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:r.value};if(r.entries.length){var o=j1();if(o){var c=o.activationStart||0,u=r.entries[r.entries.length-1],f=u.url&&performance.getEntriesByType("resource").filter(function(E){return E.name===u.url})[0],p=Math.max(0,o.responseStart-c),v=Math.max(p,f?(f.requestStart||f.startTime)-c:0),b=Math.max(v,f?f.responseEnd-c:0),_=Math.max(b,u.startTime-c);s={element:Lb(u.element),timeToFirstByte:p,resourceLoadDelay:v-p,resourceLoadDuration:b-v,elementRenderDelay:_-b,navigationEntry:o,lcpEntry:u},u.url&&(s.url=u.url),f&&(s.lcpResourceEntry=f)}}return Object.assign(r,{attribution:s})}(e);n(i)},t)};const mT="@firebase/performance",G2="0.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=G2,Ij="FB-PERF-TRACE-START",Cj="FB-PERF-TRACE-STOP",W2="FB-PERF-TRACE-MEASURE",eI="_wt_",nI="_fp",iI="_fcp",rI="_fid",sI="_lcp",Rj="lcp_element",aI="_inp",Lj="inp_interactionTarget",oI="_cls",Pj="cls_largestShiftTarget",lI="@firebase/performance/config",cI="@firebase/performance/configexpire",kj="performance",uI="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},us=new Mc(kj,uI,Dj);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new mg(uI);Xu.logLevel=ln.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry,hI;class mr{constructor(t){if(this.window=t,!t)throw us.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=Nj,this.onINP=Ej,this.onCLS=yj}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,i){!this.performance||!this.performance.measure||this.performance.measure(t,e,i)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!A_()?(Xu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):o1()?!0:(Xu.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,e){if(!this.PerformanceObserver)return;new this.PerformanceObserver(r=>{for(const s of r.getEntries())e(s)}).observe({entryTypes:[t]})}static getInstance(){return Ry===void 0&&(Ry=new mr(hI)),Ry}}function Oj(n){hI=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fI;function Mj(n){const t=n.getId();return t.then(e=>{fI=e}),t}function Fb(){return fI}function jj(n){const t=n.getToken();return t.then(e=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,t){const e=n.length-t.length;if(e<0||e>1)throw us.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly;class Aa{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=vT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=vT("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return Ly===void 0&&(Ly=new Aa),Ly}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vp;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"})(Vp||(Vp={}));const Fj=["firebase_","google_","ga_"],Vj=new RegExp("^[a-zA-Z]\\w*$"),Bj=40,Uj=100;function zj(){const n=mr.getInstance().navigator;return n!=null&&n.serviceWorker?n.serviceWorker.controller?2:3:1}function qj(){switch(mr.getInstance().document.visibilityState){case"visible":return Vp.VISIBLE;case"hidden":return Vp.HIDDEN;default:return Vp.UNKNOWN}}function Hj(){const t=mr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Gj(n){return n.length===0||n.length>Bj?!1:!Fj.some(e=>n.startsWith(e))&&!!n.match(Vj)}function Wj(n){return n.length!==0&&n.length<=Uj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.appId;if(!e)throw us.create("no app id");return e}function $j(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.projectId;if(!e)throw us.create("no project id");return e}function Yj(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.apiKey;if(!e)throw us.create("no api key");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="0.0.1",Ro={loggingEnabled:!0},Xj="FIREBASE_INSTALLATIONS_AUTH";function Qj(n,t){const e=Jj();return e?(yT(e),Promise.resolve()):eF(n,t).then(yT).then(i=>Zj(i),()=>{})}function Jj(){const n=mr.getInstance().localStorage;if(!n)return;const t=n.getItem(cI);if(!t||!nF(t))return;const e=n.getItem(lI);if(e)try{return JSON.parse(e)}catch{return}}function Zj(n){const t=mr.getInstance().localStorage;!n||!t||(t.setItem(lI,JSON.stringify(n)),t.setItem(cI,String(Date.now()+Aa.getInstance().configTimeToLive*60*60*1e3)))}const tF="Could not fetch config, will use default configs";function eF(n,t){return jj(n.installations).then(e=>{const i=$j(n.app),r=Yj(n.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,o=new Request(s,{method:"POST",headers:{Authorization:`${Xj} ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:dI(n.app),app_version:tI,sdk_version:Kj})});return fetch(o).then(c=>{if(c.ok)return c.json();throw us.create("RC response not ok")})}).catch(()=>{Xu.info(tF)})}function yT(n){if(!n)return n;const t=Aa.getInstance(),e=n.entries||{};return e.fpr_enabled!==void 0?t.loggingEnabled=String(e.fpr_enabled)==="true":t.loggingEnabled=Ro.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):Ro.logSource&&(t.logSource=Ro.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:Ro.logEndPointUrl&&(t.logEndPointUrl=Ro.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:Ro.transportKey&&(t.transportKey=Ro.transportKey),e.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):Ro.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=Ro.networkRequestsSamplingRate),e.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):Ro.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=Ro.tracesSamplingRate),t.logTraceAfterSampling=_T(t.tracesSamplingRate),t.logNetworkAfterSampling=_T(t.networkRequestsSamplingRate),n}function nF(n){return Number(n)>Date.now()}function _T(n){return Math.random()<=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb=1,Py;function pI(n){return Vb=2,Py=Py||rF(n),Py}function iF(){return Vb===3}function rF(n){return sF().then(()=>Mj(n.installations)).then(t=>Qj(n,t)).then(()=>bT(),()=>bT())}function sF(){const n=mr.getInstance().document;return new Promise(t=>{if(n&&n.readyState!=="complete"){const e=()=>{n.readyState==="complete"&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}function bT(){Vb=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=10*1e3,aF=5.5*1e3,oF=1e3,mI=3;let d0=mI,Bh=[],wT=!1;function lF(){wT||(Bb(aF),wT=!0)}function Bb(n){setTimeout(()=>{d0<=0||(Bh.length>0&&vI(),Bb(gI))},n)}function vI(){const n=Bh.splice(0,oF),t=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)})),e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Aa.getInstance().logSource,log_event:t};cF(e).then(()=>{d0=mI}).catch(()=>{Bh=[...n,...Bh],d0--,Xu.info(`Tries left: ${d0}.`),Bb(gI)})}function cF(n){const t=Aa.getInstance().getFlTransportFullUrl(),e=JSON.stringify(n);return navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e,keepalive:!0}).then()}function uF(n){if(!n.eventTime||!n.message)throw us.create("invalid cc log");Bh=[...Bh,n]}function hF(n){return(...t)=>{const e=n(...t);uF({message:e,eventTime:Date.now()})}}function fF(){for(;Bh.length>0;)vI()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;function yI(n,t){Bp||(Bp={send:hF(gF),flush:fF}),Bp.send(n,t)}function jm(n){const t=Aa.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||mr.getInstance().requiredApisAvailable()&&(iF()?ky(n):pI(n.performanceController).then(()=>ky(n),()=>ky(n)))}function dF(){Bp&&Bp.flush()}function ky(n){if(!Fb())return;const t=Aa.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||yI(n,1)}function pF(n){const t=Aa.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];e===i||e===r||!t.loggingEnabled||!t.logNetworkAfterSampling||yI(n,0)}function gF(n,t){return t===0?mF(n):vF(n)}function mF(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:_I(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}function vF(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(t.counters=n.counters);const e=n.getAttributes();Object.keys(e).length!==0&&(t.custom_attributes=e);const i={application_info:_I(n.performanceController.app),trace_metric:t};return JSON.stringify(i)}function _I(n){return{google_app_id:dI(n),app_instance_id:Fb(),web_app_info:{sdk_version:tI,page_url:mr.getInstance().getUrl(),service_worker_status:zj(),visibility_state:qj(),effective_connection_type:Hj()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,t){const e=t;if(!e||e.responseStart===void 0)return;const i=mr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+i)*1e3),s=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),c=e.name&&e.name.split("?")[0],u={performanceController:n,url:c,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};pF(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=100,_F="_",bF=[nI,iI,rI,sI,oI,aI];function wF(n,t){return n.length===0||n.length>yF?!1:t&&t.startsWith(eI)&&bF.indexOf(n)>-1||!n.startsWith(_F)}function SF(n){const t=Math.floor(n);return t<n&&Xu.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,e,i=!1,r){this.performanceController=t,this.name=e,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=mr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${Ij}-${this.randomId}-${this.name}`,this.traceStopMark=`${Cj}-${this.randomId}-${this.name}`,this.traceMeasure=r||`${W2}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw us.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw us.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),jm(this)}record(t,e,i){if(t<=0)throw us.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw us.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(e*1e3),this.startTimeUs=Math.floor(t*1e3),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));jm(this)}incrementMetric(t,e=1){this.counters[t]===void 0?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)}putMetric(t,e){if(wF(t,this.name))this.counters[t]=SF(e??0);else throw us.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const i=Gj(t),r=Wj(e);if(i&&r){this.customAttributes[t]=e;return}if(!i)throw us.create("invalid attribute name",{attributeName:t});if(!r)throw us.create("invalid attribute value",{attributeValue:e})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(e.duration*1e3),this.startTimeUs=Math.floor((e.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,e,i,r,s){const o=mr.getInstance().getUrl();if(!o)return;const c=new ig(t,eI+o,!0),u=Math.floor(mr.getInstance().getTimeOrigin()*1e3);c.setStartTime(u),e&&e[0]&&(c.setDuration(Math.floor(e[0].duration*1e3)),c.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),c.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),c.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));const f="first-paint",p="first-contentful-paint";if(i){const v=i.find(_=>_.name===f);v&&v.startTime&&c.putMetric(nI,Math.floor(v.startTime*1e3));const b=i.find(_=>_.name===p);b&&b.startTime&&c.putMetric(iI,Math.floor(b.startTime*1e3)),s&&c.putMetric(rI,Math.floor(s*1e3))}this.addWebVitalMetric(c,sI,Rj,r.lcp),this.addWebVitalMetric(c,oI,Pj,r.cls),this.addWebVitalMetric(c,aI,Lj,r.inp),jm(c),dF()}static addWebVitalMetric(t,e,i,r){r&&(t.putMetric(e,Math.floor(r.value*1e3)),r.elementAttribution&&t.putAttribute(i,r.elementAttribution))}static createUserTimingTrace(t,e){const i=new ig(t,e,!1,e);jm(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0={},AT=!1,bI;function TT(n){Fb()&&(setTimeout(()=>TF(n),0),setTimeout(()=>AF(n),0),setTimeout(()=>xF(n),0))}function AF(n){const t=mr.getInstance(),e=t.getEntriesByType("resource");for(const i of e)ST(n,i);t.setupObserver("resource",i=>ST(n,i))}function TF(n){const t=mr.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>Dy(n)):t.document.addEventListener("unload",()=>Dy(n)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&Dy(n)}),t.onFirstInputDelay&&t.onFirstInputDelay(e=>{bI=e}),t.onLCP(e=>{var i;p0.lcp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.element}}),t.onCLS(e=>{var i;p0.cls={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.largestShiftTarget}}),t.onINP(e=>{var i;p0.inp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.interactionTarget}})}function xF(n){const t=mr.getInstance(),e=t.getEntriesByType("measure");for(const i of e)xT(n,i);t.setupObserver("measure",i=>xT(n,i))}function xT(n,t){const e=t.name;e.substring(0,W2.length)!==W2&&ig.createUserTimingTrace(n,e)}function Dy(n){if(!AT){AT=!0;const t=mr.getInstance(),e=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");setTimeout(()=>{ig.createOobTrace(n,e,i,p0,bI)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),mr.getInstance().requiredApisAvailable()?l1().then(e=>{e&&(lF(),pI(this).then(()=>TT(this),()=>TT(this)),this.initialized=!0)}).catch(e=>{Xu.info(`Environment doesn't support IndexedDB: ${e}`)}):Xu.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){Aa.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return Aa.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){Aa.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return Aa.getInstance().dataCollectionEnabled}}const NF="[DEFAULT]";function IF(n=pd()){return n=Mn(n),Ol(n,"performance").getImmediate()}const CF=(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if(e.name!==NF)throw us.create("FB not default");if(typeof window>"u")throw us.create("no window");Oj(window);const r=new EF(e,i);return r._init(t),r};function RF(){Xs(new Ns("performance",CF,"PUBLIC")),Cr(mT,G2),Cr(mT,G2,"esm2017")}RF();const LF={apiKey:"AIzaSyCbU834quCY8hjSffRwljJLgZrcxK8i2F4",authDomain:"liquidacionapp-62962.firebaseapp.com",projectId:"liquidacionapp-62962",storageBucket:"liquidacionapp-62962.appspot.com",messagingSenderId:"851382130132",appId:"1:851382130132:web:eaba38fab449f14fb5b241"},Cg=HE(LF),wI=typeof window<"u"?hj(Cg):null;typeof window<"u"&&IF(Cg);const zr=SD(Cg),qr=_8(Cg),PF=W7(Cg);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="/firebase-messaging-sw.js",DF="/firebase-cloud-messaging-push-scope",SI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OF="https://fcmregistrations.googleapis.com/v1",AI="google.c.a.c_id",MF="google.c.a.c_l",jF="google.c.a.ts",FF="google.c.a.e",ET=1e4;var NT;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(NT||(NT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rg;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(rg||(rg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function VF(n){const t="=".repeat((4-n.length%4)%4),e=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="fcm_token_details_db",BF=5,IT="fcm_token_object_Store";async function UF(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Oy))return null;let t=null;return(await c1(Oy,BF,{upgrade:async(i,r,s,o)=>{var c;if(r<2||!i.objectStoreNames.contains(IT))return;const u=o.objectStore(IT),f=await u.index("fcmSenderId").get(n);if(await u.clear(),!!f){if(r===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(c=p.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:yc(p.vapidKey)}}}else if(r===3){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:yc(p.auth),p256dh:yc(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:yc(p.vapidKey)}}}else if(r===4){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:yc(p.auth),p256dh:yc(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:yc(p.vapidKey)}}}}}})).close(),await py(Oy),await py("fcm_vapid_details_db"),await py("undefined"),zF(t)?t:null}function zF(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebase-messaging-database",HF=1,sg="firebase-messaging-store";let My=null;function TI(){return My||(My=c1(qF,HF,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(sg)}}})),My}async function GF(n){const t=xI(n),i=await(await TI()).transaction(sg).objectStore(sg).get(t);if(i)return i;{const r=await UF(n.appConfig.senderId);if(r)return await Ub(n,r),r}}async function Ub(n,t){const e=xI(n),r=(await TI()).transaction(sg,"readwrite");return await r.objectStore(sg).put(t,e),await r.done,t}function xI({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gs=new Mc("messaging","Messaging",WF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(n,t){const e=await qb(n),i=EI(t),r={method:"POST",headers:e,body:JSON.stringify(i)};let s;try{s=await(await fetch(zb(n.appConfig),r)).json()}catch(o){throw gs.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw gs.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw gs.create("token-subscribe-no-token");return s.token}async function YF(n,t){const e=await qb(n),i=EI(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${zb(n.appConfig)}/${t.token}`,r)).json()}catch(o){throw gs.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw gs.create("token-update-failed",{errorInfo:o})}if(!s.token)throw gs.create("token-update-no-token");return s.token}async function KF(n,t){const i={method:"DELETE",headers:await qb(n)};try{const s=await(await fetch(`${zb(n.appConfig)}/${t}`,i)).json();if(s.error){const o=s.error.message;throw gs.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw gs.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function zb({projectId:n}){return`${OF}/projects/${n}/registrations`}async function qb({appConfig:n,installations:t}){const e=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})}function EI({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==SI&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=7*24*60*60*1e3;async function QF(n){const t=await ZF(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:yc(t.getKey("auth")),p256dh:yc(t.getKey("p256dh"))},i=await GF(n.firebaseDependencies);if(i){if(tV(i.subscriptionOptions,e))return Date.now()>=i.createTime+XF?JF(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{await KF(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return CT(n.firebaseDependencies,e)}else return CT(n.firebaseDependencies,e)}async function JF(n,t){try{const e=await YF(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return await Ub(n.firebaseDependencies,i),e}catch(e){throw e}}async function CT(n,t){const i={token:await $F(n,t),createTime:Date.now(),subscriptionOptions:t};return await Ub(n,i),i.token}async function ZF(n,t){const e=await n.pushManager.getSubscription();return e||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:VF(t)})}function tV(n,t){const e=t.vapidKey===n.vapidKey,i=t.endpoint===n.endpoint,r=t.auth===n.auth,s=t.p256dh===n.p256dh;return e&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return eV(t,n),nV(t,n),iV(t,n),t}function eV(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r);const s=t.notification.icon;s&&(n.notification.icon=s)}function nV(n,t){t.data&&(n.data=t.data)}function iV(n,t){var e,i,r,s,o;if(!t.fcmOptions&&!(!((e=t.notification)===null||e===void 0)&&e.click_action))return;n.fcmOptions={};const c=(r=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&r!==void 0?r:(s=t.notification)===null||s===void 0?void 0:s.click_action;c&&(n.fcmOptions.link=c);const u=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n){return typeof n=="object"&&!!n&&AI in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){if(!n||!n.options)throw jy("App Configuration Object");if(!n.name)throw jy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw jy(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function jy(n){return gs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=sV(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(n){try{n.swRegistration=await navigator.serviceWorker.register(kF,{scope:DF}),n.swRegistration.update().catch(()=>{}),await lV(n.swRegistration)}catch(t){throw gs.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function lV(n){return new Promise((t,e)=>{const i=setTimeout(()=>e(new Error(`Service worker not registered after ${ET} ms`)),ET),r=n.installing||n.waiting;n.active?(clearTimeout(i),t()):r?r.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(r.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),e(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(n,t){if(!t&&!n.swRegistration&&await oV(n),!(!t&&n.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw gs.create("invalid-sw-registration");n.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=SI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(n,t){if(!navigator)throw gs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw gs.create("permission-blocked");return await uV(n,t==null?void 0:t.vapidKey),await cV(n,t==null?void 0:t.serviceWorkerRegistration),QF(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(n,t,e){const i=fV(t);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[AI],message_name:e[MF],message_time:e[jF],message_device_time:Math.floor(Date.now()/1e3)})}function fV(n){switch(n){case rg.NOTIFICATION_CLICKED:return"notification_open";case rg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===rg.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(RT(e)):n.onMessageHandler.next(RT(e)));const i=e.data;rV(i)&&i[FF]==="1"&&await hV(n,e.messageType,i)}const LT="@firebase/messaging",PT="0.12.22";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=n=>{const t=new aV(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>dV(t,e)),t},gV=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>NI(t,i)}};function mV(){Xs(new Ns("messaging",pV,"PUBLIC")),Xs(new Ns("messaging-internal",gV,"PRIVATE")),Cr(LT,PT),Cr(LT,PT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(){try{await l1()}catch{return!1}return typeof window<"u"&&o1()&&A_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n,t){if(!navigator)throw gs.create("only-available-in-window");return n.onMessageHandler=t,()=>{n.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n=pd()){return vV().then(t=>{if(!t)throw gs.create("unsupported-browser")},t=>{throw gs.create("indexed-db-unsupported")}),Ol(Mn(n),"messaging").getImmediate()}async function bV(n,t){return n=Mn(n),NI(n,t)}function wV(n,t){return n=Mn(n),yV(n,t)}mV();const Hb=()=>wI!==null&&typeof window<"u",Fr=(n,t={})=>{if(!Hb()){console.log(`Analytics no disponible - Evento: ${n}`,t);return}try{HN(wI,n,t),console.log(` Evento tracked: ${n}`,t)}catch(e){console.error("Error tracking event:",e)}},pn={login:(n="email")=>{Fr("login",{method:n,timestamp:new Date().toISOString()})},logout:()=>{Fr("logout",{timestamp:new Date().toISOString()})},signup:(n="email")=>{Fr("sign_up",{method:n,timestamp:new Date().toISOString()})},liquidacionCreada:(n,t,e)=>{Fr("liquidacion_creada",{clientes_count:n,deducciones_count:t,total_amount:e,timestamp:new Date().toISOString()})},liquidacionCalculada:(n,t)=>{Fr("liquidacion_calculada",{total_amount:n,clientes_count:t,timestamp:new Date().toISOString()})},pdfGenerado:(n="general")=>{Fr("pdf_generado",{tipo:n,timestamp:new Date().toISOString()})},pdfDescargado:(n="general")=>{Fr("pdf_descargado",{tipo:n,timestamp:new Date().toISOString()})},seccionVisitada:n=>{Fr("seccion_visitada",{seccion:n,timestamp:new Date().toISOString()})},liquidacionEliminada:()=>{Fr("liquidacion_eliminada",{timestamp:new Date().toISOString()})},liquidacionRestaurada:()=>{Fr("liquidacion_restaurada",{timestamp:new Date().toISOString()})},temaChanged:n=>{Fr("tema_changed",{tema:n,timestamp:new Date().toISOString()})},error:(n,t)=>{Fr("app_error",{error_type:n,error_message:t,timestamp:new Date().toISOString()})},formularioResetado:()=>{Fr("formulario_reseteado",{timestamp:new Date().toISOString()})},clienteAadido:()=>{Fr("cliente_aadido",{timestamp:new Date().toISOString()})},deduccionAadida:()=>{Fr("deduccion_aadida",{timestamp:new Date().toISOString()})},custom:(n,t={})=>{Fr(n,{...t,timestamp:new Date().toISOString()})}},SV=n=>{Hb()&&Fr("page_view",{page_title:n,page_location:window.location.href,timestamp:new Date().toISOString()})},AV=()=>{Hb()&&(window.addEventListener("error",n=>{pn.error("javascript_error",n.message)}),window.addEventListener("unhandledrejection",n=>{var t;pn.error("promise_rejection",((t=n.reason)==null?void 0:t.message)||"Promise rejected")}))};let hd=null;try{hd=_V()}catch(n){console.warn("Firebase Messaging no disponible:",n)}const TV="BOPEiBBOuZfrxl5TTwpOtl_AlLmAieTuinqmQYcnOD9DEL5I11rASCwm8KUNV3ZCldra_fv2qGtw7p5NyCvLC7A",xV=n=>`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${n}/fcm/token`,EV=async()=>{try{if(!("Notification"in window))return console.warn("Este navegador no soporta notificaciones"),"not-supported";const n=await Notification.requestPermission();return pn.custom("notification_permission_requested",{permission:n,user_agent:navigator.userAgent}),console.log(" Permiso de notificaciones:",n),n}catch(n){return console.error(" Error solicitando permisos:",n),pn.custom("notification_permission_error",{error_message:n.message}),"error"}},NV=async n=>{try{if(!hd)return{success:!1,message:"Firebase Messaging no disponible"};if(await EV()!=="granted")return{success:!1,message:"Permisos de notificacin denegados"};const e=await bV(hd,{vapidKey:TV});return e?(await IV(n,e),pn.custom("fcm_token_generated",{user_id:n,has_token:!0}),console.log(" TOKEN FCM COMPLETO PARA PRUEBAS:"),console.log("=========================================="),console.log(e),console.log("=========================================="),console.log(" Token FCM obtenido exitosamente"),{success:!0,token:e,message:"Token FCM obtenido exitosamente"}):{success:!1,message:"No se pudo obtener token FCM"}}catch(t){return console.error(" Error obteniendo token FCM:",t),pn.custom("fcm_token_error",{error_message:t.message}),{success:!1,error:t.message,message:"Error obteniendo token FCM"}}},IV=async(n,t)=>{try{const e=no(qr,xV(n)),i={token:t,userId:n,createdAt:Dl(),lastUpdated:Dl(),deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language},isActive:!0};await bb(e,i),console.log(" Token FCM guardado en Firestore")}catch(e){console.error(" Error guardando token FCM:",e)}},CV=n=>{if(!hd)return console.warn("Firebase Messaging no disponible para foreground"),null;try{const t=wV(hd,e=>{var i;console.log(" Mensaje recibido en primer plano:",e),pn.custom("notification_received_foreground",{title:(i=e.notification)==null?void 0:i.title,has_data:!!e.data}),e.notification&&RV(e.notification),n&&typeof n=="function"&&n(e)});return console.log(" Listener de mensajes en primer plano configurado"),t}catch(t){return console.error(" Error configurando foreground messaging:",t),null}},RV=n=>{try{if("Notification"in window&&Notification.permission==="granted"){const t=new Notification(n.title,{body:n.body,icon:n.icon||"/favicon.ico",badge:"/favicon.ico",tag:"forestech-notification"});setTimeout(()=>{t.close()},5e3),t.onclick=()=>{window.focus(),t.close()}}}catch(t){console.error(" Error mostrando notificacin:",t)}},LV=()=>"Notification"in window&&"serviceWorker"in navigator&&hd!==null,II=(n,t,e="local_notification")=>{try{if(!("Notification"in window)){console.warn("Notificaciones no disponibles");return}if(Notification.permission==="granted"){const i=new Notification(n,{body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:"forestech-auto-notification",requireInteraction:!1,silent:!1,timestamp:Date.now()});pn.custom(e,{title:n,body:t.substring(0,50),timestamp:new Date().toISOString()}),setTimeout(()=>{i.close()},5e3),i.onclick=()=>{window.focus(),i.close(),pn.custom("notification_clicked",{event_type:e})},console.log(" Notificacin local enviada:",n)}else console.warn("Permisos de notificacin no concedidos")}catch(i){console.error(" Error enviando notificacin local:",i)}},PV=n=>{const t=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(n.totalPayment||0),e=" Liquidacin Guardada",i=`Tu liquidacin de ${t} ha sido guardada exitosamente en el historial.`;II(e,i,"liquidation_saved_notification")},kV=n=>{const t=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(n.totalPayment||0),e=" PDF Generado",i=`El PDF de tu liquidacin por ${t} ha sido generado y descargado exitosamente.`;II(e,i,"pdf_generated_notification")},DV=async(n,t=null)=>{try{if(!LV())return{success:!1,message:"Notificaciones no soportadas en este navegador"};const e=await NV(n);if(!e.success)return e;const i=CV(t);return pn.custom("notifications_initialized",{user_id:n,success:!0}),{success:!0,token:e.token,unsubscribe:i,message:"Notificaciones inicializadas exitosamente"}}catch(e){return console.error(" Error inicializando notificaciones:",e),pn.custom("notifications_init_error",{error_message:e.message}),{success:!1,error:e.message,message:"Error inicializando notificaciones"}}},OV=async n=>{if(!zr.currentUser)return Promise.reject("Usuario no autenticado.");const t=zr.currentUser.uid,e=bd(qr,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`);try{const i=await D8(e,n);return PV(n),i}catch(i){throw console.error(" Error guardando liquidacin:",i),i}},MV=n=>{if(!zr.currentUser)return()=>{};const t=zr.currentUser.uid,e=vb(bd(qr,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`));return O8(e,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));s.sort((o,c)=>new Date(c.timestamp)-new Date(o.timestamp)),n(s)})},jV=n=>{if(!zr.currentUser)return Promise.reject("Usuario no autenticado.");const t=zr.currentUser.uid,e=no(qr,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`,n);return k8(e)},FV=(n,t)=>{if(!zr.currentUser)return Promise.reject("Usuario no autenticado.");const e=zr.currentUser.uid,i=no(qr,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${e}/settlements`,n);return wd(i,{status:"Pagada",comprobantePagoBase64:t})},hn={ADMIN:"admin",CONTADOR:"contador",CLIENTE:"cliente"},si={CREATE_SETTLEMENTS:"canCreateSettlements",VIEW_ALL_SETTLEMENTS:"canViewAllSettlements",MANAGE_USERS:"canManageUsers",EXPORT_REPORTS:"canExportReports",DELETE_SETTLEMENTS:"canDeleteSettlements",MODIFY_SETTINGS:"canModifySettings"},Gb="contacto.evert@gmail.com",V1=n=>{switch(n){case hn.ADMIN:return{[si.CREATE_SETTLEMENTS]:!0,[si.VIEW_ALL_SETTLEMENTS]:!0,[si.MANAGE_USERS]:!0,[si.EXPORT_REPORTS]:!0,[si.DELETE_SETTLEMENTS]:!0,[si.MODIFY_SETTINGS]:!0};case hn.CONTADOR:return{[si.CREATE_SETTLEMENTS]:!0,[si.VIEW_ALL_SETTLEMENTS]:!0,[si.MANAGE_USERS]:!1,[si.EXPORT_REPORTS]:!0,[si.DELETE_SETTLEMENTS]:!0,[si.MODIFY_SETTINGS]:!1};case hn.CLIENTE:default:return{[si.CREATE_SETTLEMENTS]:!0,[si.VIEW_ALL_SETTLEMENTS]:!1,[si.MANAGE_USERS]:!1,[si.EXPORT_REPORTS]:!1,[si.DELETE_SETTLEMENTS]:!1,[si.MODIFY_SETTINGS]:!1}}},VV=n=>n===Gb?hn.ADMIN:hn.CLIENTE,Fy=n=>{switch(n){case hn.ADMIN:return"Administrador - Control total del sistema";case hn.CONTADOR:return"Contador - Crear y gestionar liquidaciones";case hn.CLIENTE:return"Cliente - Ver sus propias liquidaciones";default:return"Rol no definido"}},kT=n=>{switch(n){case hn.ADMIN:return"#dc2626";case hn.CONTADOR:return"#2563eb";case hn.CLIENTE:return"#16a34a";default:return"#6b7280"}},Ad=()=>"artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users",CI=async(n,t=null,e=null)=>{try{let i,r,s;e?(i=e.role,r=e.permissions,s=e.displayName):(i=t||VV(n.email),r=V1(i),s=n.displayName||n.email.split("@")[0]);const o={uid:n.uid,email:n.email,displayName:s,role:i,permissions:r,createdAt:Dl(),lastLogin:Dl(),emailVerified:n.emailVerified,photoURL:n.photoURL||null,isActive:!0},c=no(qr,`${Ad()}/${n.uid}/profile/data`);return await bb(c,o),pn.custom("user_profile_created",{role:i,method:"automatic"}),console.log(" Perfil de usuario creado:",i,n.email),{success:!0,profile:o,message:"Perfil creado exitosamente"}}catch(i){return console.error(" Error creando perfil de usuario:",i),pn.custom("user_profile_error",{error_code:i.code,operation:"create"}),{success:!1,error:i.message,message:"Error al crear perfil de usuario"}}},Dc=async n=>{try{const t=no(qr,`${Ad()}/${n}/profile/data`),e=await P8(t);return e.exists()?{success:!0,profile:e.data()}:{success:!1,profile:null,message:"Perfil no encontrado"}}catch(t){return console.error(" Error obteniendo perfil de usuario:",t),{success:!1,error:t.message,profile:null}}},BV=async n=>{try{const t=no(qr,`${Ad()}/${n}/profile/data`);return await wd(t,{lastLogin:Dl()}),{success:!0,message:"ltima conexin actualizada"}}catch(t){return console.error(" Error actualizando ltima conexin:",t),{success:!1,error:t.message}}},DT=async n=>{try{const t=await Dc(n.uid);if(t.success&&t.profile){if(await BV(n.uid),n.email===Gb&&t.profile.role!==hn.ADMIN){console.log(" Actualizando permisos de admin para:",n.email);const e=await UV(n.uid);if(e.success)return{success:!0,profile:e.profile}}return{success:!0,profile:t.profile}}else return console.log(" Creando nuevo perfil para:",n.email),await CI(n)}catch(t){return console.error(" Error en getOrCreateUserProfile:",t),{success:!1,error:t.message,message:"Error procesando perfil de usuario"}}},UV=async n=>{try{const t=no(qr,`${Ad()}/${n}/profile/data`),e=V1(hn.ADMIN),i={role:hn.ADMIN,permissions:e,updatedAt:Dl()};await wd(t,i);const r=await Dc(n);return pn.custom("user_role_upgraded",{role:hn.ADMIN,method:"automatic"}),console.log(" Usuario actualizado a Admin"),{success:!0,profile:r.profile,message:"Permisos de administrador otorgados"}}catch(t){return console.error(" Error actualizando a admin:",t),{success:!1,error:t.message}}},zV=async(n,t,e)=>{try{const i=await Dc(e);if(!i.success||i.profile.role!==hn.ADMIN)return{success:!1,message:"Solo los administradores pueden cambiar roles"};const r=await Dc(n);if(r.success&&r.profile.email===Gb)return{success:!1,message:"No se puede modificar el rol del administrador principal"};const s=no(qr,`${Ad()}/${n}/profile/data`),o=V1(t);return await wd(s,{role:t,permissions:o,updatedAt:Dl(),updatedBy:e}),pn.custom("user_role_changed",{new_role:t,changed_by:"admin"}),{success:!0,message:"Rol actualizado exitosamente"}}catch(i){return console.error(" Error cambiando rol de usuario:",i),{success:!1,error:i.message}}},qV=async n=>{try{const t=await Dc(n);if(!t.success||t.profile.role!==hn.ADMIN)return{success:!1,message:"Acceso denegado"};const e=bd(qr,Ad()),i=await k1(e),r=[];for(const s of i.docs)try{const o=s.id,c=await Dc(o);c.success&&c.profile&&r.push({id:o,uid:o,...c.profile})}catch(o){console.warn(`Error obteniendo perfil para usuario ${s.id}:`,o)}return console.log(` Obtenidos ${r.length} usuarios para admin`),{success:!0,users:r}}catch(t){return console.error(" Error obteniendo usuarios:",t),{success:!1,error:t.message}}},RI=ye.createContext(),B1=()=>{const n=ye.useContext(RI);if(n===void 0)throw new Error("useUser debe ser usado dentro de un UserProvider");return n},HV=({children:n})=>{const[t,e]=ye.useState(null),[i,r]=ye.useState(null),[s,o]=ye.useState(!0),[c,u]=ye.useState(null);ye.useEffect(()=>uk(zr,async V=>{try{if(o(!0),u(null),V){const $=await DT(V);$.success?(e(V),r($.profile),pn.custom("user_session_start",{role:$.profile.role,email_verified:V.emailVerified})):(console.error(" Error cargando perfil:",$.error),u($.message||"Error cargando perfil de usuario"),e(V),r(null))}else e(null),r(null),u(null)}catch($){console.error(" Error en onAuthStateChanged:",$),u("Error de autenticacin"),pn.custom("auth_error",{error_message:$.message})}finally{o(!1)}}),[]);const f=L=>!i||!i.permissions?!1:i.permissions[L]===!0,p=L=>i?i.role===L:!1,v=()=>p(hn.ADMIN),b=()=>p(hn.CONTADOR),_=()=>p(hn.CLIENTE),E=()=>f(si.CREATE_SETTLEMENTS),N=()=>f(si.VIEW_ALL_SETTLEMENTS),I=()=>f(si.MANAGE_USERS),C=()=>f(si.EXPORT_REPORTS),O=()=>f(si.DELETE_SETTLEMENTS),H=()=>f(si.MODIFY_SETTINGS),nt=async()=>{if(t){o(!0);try{const L=await DT(t);L.success&&r(L.profile)}catch(L){console.error("Error recargando perfil:",L)}finally{o(!1)}}},it=()=>!t||!i?{displayName:"Usuario",email:"",role:"",roleDescription:""}:{displayName:i.displayName||t.displayName||t.email.split("@")[0],email:t.email,role:i.role,roleDescription:gt(i.role)},gt=L=>{switch(L){case hn.ADMIN:return"Administrador";case hn.CONTADOR:return"Contador";case hn.CLIENTE:return"Cliente";default:return"Usuario"}},q={user:t,userProfile:i,loading:s,error:c,isRole:p,isAdmin:v,isContador:b,isCliente:_,hasPermission:f,canCreateSettlements:E,canViewAllSettlements:N,canManageUsers:I,canExportReports:C,canDeleteSettlements:O,canModifySettings:H,getUserInfo:it,reloadUserProfile:nt,ROLES:hn,PERMISSIONS:si};return B.jsx(RI.Provider,{value:q,children:n})};function GV({isAuthenticated:n,onLogout:t,onToggleTheme:e}){return B.jsxs("div",{className:"header",children:[B.jsxs("div",{className:"theme-switcher",onClick:e,children:[B.jsx("span",{className:"light-icon",children:""}),B.jsx("span",{className:"dark-icon",children:""})]}),B.jsx("div",{style:{position:"absolute",top:"15px",left:"20px"}}),n&&B.jsx("div",{style:{position:"absolute",top:"15px",right:"80px"},children:B.jsx("button",{className:"logout",onClick:t,style:{padding:"8px 12px",borderRadius:"8px"},children:"Cerrar Sesin"})}),B.jsx("h1",{id:"appTitle",children:" Liquidacin de Comidas Multi-Cliente "}),B.jsx("p",{id:"headerSubtitle",children:"Sistema interactivo para facturacin a mltiples clientes"})]})}const Td=()=>"artifacts/1:851382130132:web:eaba38fab449f14fb5b241/invitations",WV=()=>{const n="ABCDEFGHIJKLMNPQRSTUVWXYZ123456789";let t="";for(let e=0;e<8;e++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},$V=async(n,t)=>{var e;try{const i=await Dc(t);if(!i.success||i.profile.role!==hn.ADMIN)return{success:!1,message:"Solo los administradores pueden crear invitaciones"};const{email:r,displayName:s,role:o}=n;if(!r||!s||!o)return{success:!1,message:"Todos los campos son requeridos (email, nombre, rol)"};if(!Object.values(hn).includes(o))return{success:!1,message:"Rol no vlido"};if(o===hn.ADMIN)return{success:!1,message:"No se pueden crear invitaciones para administradores"};const c=await YV(r);if(c.success&&((e=c.invitation)==null?void 0:e.status)==="pending")return{success:!1,message:"Ya existe una invitacin activa para este email"};let u,f=!0,p=0;for(;f&&p<10;)u=WV(),f=(await LI(u)).success,p++;if(f)return{success:!1,message:"Error generando cdigo nico. Intntalo de nuevo."};const v=`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b={id:v,code:u,email:r.toLowerCase(),displayName:s,role:o,permissions:V1(o),status:"pending",createdAt:Dl(),createdBy:t,expiresAt:new Date(Date.now()+7*24*60*60*1e3),usedAt:null,usedBy:null},_=no(qr,`${Td()}/${v}`);return await bb(_,b),pn.custom("invitation_created",{target_role:o,created_by:"admin",code_length:u.length}),{success:!0,message:"Invitacin creada exitosamente",invitation:{code:u,email:r,displayName:s,role:o,expiresAt:b.expiresAt}}}catch(i){return console.error(" Error creando invitacin:",i),{success:!1,error:i.message}}},LI=async n=>{try{const t=bd(qr,Td()),e=vb(t,eN("code","==",n.toUpperCase())),i=await k1(e);if(i.empty)return{success:!1,invitation:null};const r=i.docs[0];return{success:!0,invitation:{id:r.id,...r.data()}}}catch(t){return console.error(" Error obteniendo invitacin por cdigo:",t),{success:!1,error:t.message}}},YV=async n=>{try{const t=bd(qr,Td()),e=vb(t,eN("email","==",n.toLowerCase())),i=await k1(e);if(i.empty)return{success:!1,invitation:null};const r=i.docs[0];return{success:!0,invitation:{id:r.id,...r.data()}}}catch(t){return console.error(" Error obteniendo invitacin por email:",t),{success:!1,error:t.message}}},OT=async(n,t,e)=>{try{const i=await LI(n);if(!i.success||!i.invitation)return{success:!1,message:"Cdigo de invitacin no vlido"};const r=i.invitation;if(r.status!=="pending")return{success:!1,message:"Esta invitacin ya ha sido utilizada o ha expirado"};const s=new Date,o=r.expiresAt.toDate?r.expiresAt.toDate():new Date(r.expiresAt);if(s>o)return{success:!1,message:"Esta invitacin ha expirado"};if(r.email!==t.toLowerCase())return{success:!1,message:"Esta invitacin no corresponde a tu email"};const c=no(qr,`${Td()}/${r.id}`);return await wd(c,{status:"used",usedAt:Dl(),usedBy:e}),pn.custom("invitation_used",{target_role:r.role,code_length:n.length}),{success:!0,role:r.role,permissions:r.permissions,displayName:r.displayName}}catch(i){return console.error(" Error usando invitacin:",i),{success:!1,error:i.message}}},KV=async n=>{try{const t=await Dc(n);if(!t.success||t.profile.role!==hn.ADMIN)return{success:!1,message:"Acceso denegado"};const e=bd(qr,Td()),i=await k1(e),r=[];return i.forEach(s=>{r.push({id:s.id,...s.data()})}),r.sort((s,o)=>{var f,p;const c=(f=s.createdAt)!=null&&f.toDate?s.createdAt.toDate():new Date(s.createdAt);return((p=o.createdAt)!=null&&p.toDate?o.createdAt.toDate():new Date(o.createdAt))-c}),{success:!0,invitations:r}}catch(t){return console.error(" Error obteniendo invitaciones:",t),{success:!1,error:t.message}}},XV=async(n,t)=>{try{const e=await Dc(t);if(!e.success||e.profile.role!==hn.ADMIN)return{success:!1,message:"Acceso denegado"};const i=no(qr,`${Td()}/${n}`);return await wd(i,{status:"cancelled",cancelledAt:Dl(),cancelledBy:t}),pn.custom("invitation_cancelled",{cancelled_by:"admin"}),{success:!0,message:"Invitacin cancelada exitosamente"}}catch(e){return console.error(" Error cancelando invitacin:",e),{success:!1,error:e.message}}},Wb=new bc;Wb.addScope("email");Wb.addScope("profile");const QV=async(n,t)=>{try{const e=await ok(zr,n,t);return pn.login("email"),{success:!0,user:e.user,message:"Inicio de sesin exitoso"}}catch(e){return pn.error("login_email_error",e.message),{success:!1,error:e.code,message:U1(e.code)}}},JV=async()=>{var n;try{const t=await Lk(zr,Wb),e=t.user,i=((n=t._tokenResponse)==null?void 0:n.isNewUser)||!1;return i?pn.signup("google"):pn.login("google"),{success:!0,user:e,isNewUser:i,message:i?"Cuenta creada exitosamente con Google":"Inicio de sesin exitoso con Google"}}catch(t){return pn.error("login_google_error",t.message),{success:!1,error:t.code,message:U1(t.code)}}},MT=async(n,t,e=null)=>{try{let i=null;if(e){const c=await OT(e,n,"temp");if(!c.success)return{success:!1,message:c.message};i=c}const s=(await ak(zr,n,t)).user;i?(await OT(e,n,s.uid),await CI(s,null,i),pn.signup("email_invitation"),pn.custom("invitation_registration_completed",{user_role:i.role})):pn.signup("email"),await m4(s);const o=i?`Cuenta creada exitosamente como ${i.role}. Revisa tu email para verificar tu cuenta.`:"Cuenta creada exitosamente. Revisa tu email para verificar tu cuenta.";return{success:!0,user:s,message:o}}catch(i){return pn.error("register_email_error",i.message),{success:!1,error:i.code,message:U1(i.code)}}},ZV=async()=>{try{return zr.currentUser?(await m4(zr.currentUser),{success:!0,message:"Email de verificacin enviado"}):{success:!1,message:"No hay usuario autenticado"}}catch(n){return pn.error("resend_verification_error",n.message),{success:!1,error:n.code,message:U1(n.code)}}},U1=n=>({"auth/user-not-found":"No se encontr una cuenta con este email","auth/wrong-password":"Contrasea incorrecta","auth/email-already-in-use":"Ya existe una cuenta con este email","auth/weak-password":"La contrasea debe tener al menos 6 caracteres","auth/invalid-email":"El email no es vlido","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos. Intenta ms tarde","auth/network-request-failed":"Error de conexin. Verifica tu internet","auth/popup-closed-by-user":"Inicio de sesin cancelado","auth/popup-blocked":"El popup fue bloqueado por el navegador","auth/cancelled-popup-request":"Solo una ventana de login puede estar abierta a la vez","auth/account-exists-with-different-credential":"Ya existe una cuenta con este email usando un mtodo diferente","auth/invalid-credential":"Credenciales invlidas","auth/operation-not-allowed":"Operacin no permitida","auth/invalid-verification-code":"Cdigo de verificacin invlido","auth/invalid-verification-id":"ID de verificacin invlido"})[n]||"Ocurri un error inesperado. Intenta nuevamente.";function tB(){const[n,t]=ye.useState("welcome"),[e,i]=ye.useState(""),[r,s]=ye.useState(""),[o,c]=ye.useState(""),[u,f]=ye.useState(""),[p,v]=ye.useState(!1),b=()=>{t("email"),i("")},_=()=>{t("welcome"),i("")},E=H=>{console.error("Error de autenticacin:",H.code,H.message);let nt="Ocurri un error. Intntalo de nuevo.";H.code==="auth/email-already-in-use"?nt="El email ya est en uso. Intenta iniciar sesin.":H.code==="auth/invalid-email"?nt="El formato del email es invlido.":H.code==="auth/weak-password"?nt="La contrasea es muy dbil (mnimo 6 caracteres).":H.code==="auth/invalid-credential"&&(nt="Email o contrasea incorrectos."),i(nt)},N=async()=>{v(!0),i("Iniciando como invitado...");try{await nk(zr),pn.login("anonymous")}catch(H){E(H)}finally{v(!1)}},I=async()=>{v(!0),i("Iniciando sesin con Google...");try{const H=await JV();H.success,i(H.message)}catch{i("Error al iniciar sesin con Google")}finally{v(!1)}},C=async()=>{if(!r||!o){i("Por favor, introduce email y contrasea.");return}v(!0),i("Iniciando sesin...");const H=await QV(r,o);H.success,i(H.message),v(!1)},O=async()=>{if(!r||!o||o.length<6){i("Verifica los datos (contrasea de 6+ caracteres).");return}if(u){v(!0),i("Validando cdigo de invitacin...");const H=await MT(r,o,u);H.success,i(H.message),v(!1)}else{v(!0),i("Registrando...");const H=await MT(r,o);H.success,i(H.message),v(!1)}};return B.jsxs("div",{children:[n==="welcome"&&B.jsxs("div",{className:"welcome-screen",children:[B.jsx("h2",{children:"Bienvenido a Liquidacin de Comidas!"}),B.jsx("p",{children:"Elige cmo quieres acceder a la aplicacin."}),B.jsxs("div",{className:"welcome-buttons",children:[B.jsx("button",{className:"google-auth-btn",onClick:I,disabled:p,children:p?"Cargando...":" Continuar con Google"}),B.jsx("button",{className:"email-auth-btn",onClick:b,disabled:p,children:p?"Cargando...":" Email y Contrasea"}),B.jsx("button",{className:"guest-auth-btn",onClick:N,disabled:p,children:p?"Cargando...":" Continuar como Invitado"})]}),B.jsx("p",{className:"auth-message",children:e})]}),n==="email"&&B.jsxs("div",{className:"auth-section",children:[B.jsx("h3",{children:"Acceso con Email y Contrasea"}),B.jsx("p",{children:"Inicia sesin o regstrate para guardar tus datos en la nube."}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"authEmail",children:"Email:"}),B.jsx("input",{type:"email",id:"authEmail",placeholder:"tu@ejemplo.com",value:r,onChange:H=>s(H.target.value),required:!0})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"authPassword",children:"Contrasea:"}),B.jsx("input",{type:"password",id:"authPassword",placeholder:"min. 6 caracteres",value:o,onChange:H=>c(H.target.value),required:!0})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"invitationCode",children:"Cdigo de Invitacin (opcional):"}),B.jsx("input",{type:"text",id:"invitationCode",placeholder:"Ej: ABC12345",value:u,onChange:H=>f(H.target.value.toUpperCase()),style:{textTransform:"uppercase"}}),B.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Si tienes un cdigo de invitacin, ingrsalo para obtener permisos especficos"})]}),B.jsxs("div",{className:"auth-buttons",children:[B.jsx("button",{className:"login",onClick:C,disabled:p,children:p?"Verificando...":"Iniciar Sesin"}),B.jsx("button",{className:"register",onClick:O,disabled:p,children:p?"Registrando...":"Registrarse"})]}),B.jsx("button",{className:"secondary-button",onClick:_,disabled:p,style:{width:"auto",marginTop:"15px"},children:" Volver"}),B.jsx("p",{className:"auth-message",children:e})]})]})}const $b=(n="es-CO",t="COP")=>{try{return new Intl.NumberFormat(n,{style:"currency",currency:t})}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},eB=(n,t,e)=>{const{valorComida:i,moneda:r}=n,s="es-CO",o=parseFloat(i)||0,c=t.map(_=>{const E=parseInt(_.meals,10)||0,N=E*o;return{..._,comidas:E,ingresoBrutoCliente:N}}),u=c.reduce((_,E)=>_+E.comidas,0),f=u*o,p=e.map(_=>{const E=parseFloat(_.value)||0,N=_.type==="fixed"?E:f*(E/100),I=_.type==="percent"?`${E}%`:$b(s,r).format(E);return{..._,montoCalculado:N,displayValue:I}}),v=p.reduce((_,E)=>_+E.montoCalculado,0),b=f-v;return{config:{...n,locale:s,moneda:r},clientes:c,mariella:{totalComidasGestionadas:u,totalIngresoBruto:f,deducciones:p,totalDeducciones:v,saldoFinalNeto:b}}};function nB({data:n,setData:t}){const e=i=>{const{id:r,value:s}=i.target;t(o=>({...o,[r]:s}))};return B.jsxs(B.Fragment,{children:[B.jsx("h2",{children:" Datos Generales"}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"nombreMariella",children:" Nombre del Facturador:"}),B.jsx("input",{type:"text",id:"nombreMariella",value:n.nombreMariella,onChange:e,required:!0})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"facturadorDireccion",children:" Campamento del Facturador:"}),B.jsxs("select",{id:"facturadorDireccion",value:n.campamento,onChange:e,required:!0,children:[B.jsx("option",{value:"",children:"Selecciona un campamento"}),B.jsx("option",{value:"AUSTRIA",children:"AUSTRIA"}),B.jsx("option",{value:"BARQUEREA",children:"BARQUEREA"}),B.jsx("option",{value:"TERQUEDAD",children:"TERQUEDAD"}),B.jsx("option",{value:"ATABAPO",children:"ATABAPO"})]})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"facturadorContacto",children:" Contacto:"}),B.jsx("input",{type:"text",id:"facturadorContacto",value:n.contacto,onChange:e,placeholder:"Email/Telfono"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"invoiceNumber",children:"# Nmero de Factura:"}),B.jsx("input",{type:"text",id:"invoiceNumber",value:n.facturaNum,onChange:e,placeholder:"Opcional"})]}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"mesServicio",children:" Mes del Servicio:"}),B.jsx("input",{type:"month",id:"mesServicio",name:"mesServicio",value:n.mes,onChange:e})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"moneda",children:" Moneda:"}),B.jsxs("select",{id:"moneda",value:n.moneda,onChange:e,children:[B.jsx("option",{value:"COP",children:"Peso Colombiano (COP)"}),B.jsx("option",{value:"USD",children:"Dlar Americano (USD)"}),B.jsx("option",{value:"EUR",children:"Euro (EUR)"}),B.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"})]})]})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"valorComida",children:" Valor por Comida:"}),B.jsx("input",{type:"number",id:"valorComida",value:n.valorComida,onChange:e,min:"0",step:"100",required:!0})]}),B.jsx("hr",{style:{margin:"20px 0"}})]})}function iB({client:n,onRemove:t,onUpdate:e}){const{id:i,name:r,meals:s}=n;return B.jsxs("div",{className:"client-input-group",children:[B.jsxs("div",{className:"client-header",children:[B.jsx("h4",{children:"Cliente"}),B.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:`nombre_${i}`,children:"Nombre del Cliente:"}),B.jsx("input",{type:"text",id:`nombre_${i}`,value:r,onChange:o=>e(i,"name",o.target.value),placeholder:"Ej: Jaider",required:!0})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:`comidas_${i}`,children:"Comidas Facturadas:"}),B.jsx("div",{className:"input-wrapper",children:B.jsx("input",{type:"number",id:`comidas_${i}`,value:s,onChange:o=>e(i,"meals",parseInt(o.target.value)||0),min:"0"})})]})]})}function rB({clients:n,setClients:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",meals:0}])},i=s=>{n.length<=1||t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return B.jsxs(B.Fragment,{children:[B.jsx("h3",{children:" Clientes"}),B.jsx("div",{id:"clientesContainer",children:n.map(s=>B.jsx(iB,{client:s,onRemove:i,onUpdate:r},s.id))}),B.jsx("button",{className:"secondary-button",onClick:e,children:" Aadir Cliente"}),B.jsx("hr",{style:{margin:"20px 0"}})]})}function sB({deduction:n,onRemove:t,onUpdate:e}){const{id:i,name:r,type:s,value:o,category:c}=n;return B.jsxs("div",{className:"deduction-input-group",children:[B.jsxs("div",{className:"deduction-header",children:[B.jsx("h4",{children:"Deduccin"}),B.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),B.jsxs("div",{className:"deduction-input-row",children:[B.jsx("input",{type:"text",className:"deduction-name",value:r,onChange:u=>e(i,"name",u.target.value),placeholder:"Concepto",required:!0}),B.jsxs("select",{className:"deduction-type",value:s,onChange:u=>e(i,"type",u.target.value),children:[B.jsx("option",{value:"fixed",children:"Fijo ($)"}),B.jsx("option",{value:"percent",children:"Porcentaje (%)"})]}),B.jsx("input",{type:"number",className:"deduction-value",value:o,onChange:u=>e(i,"value",parseFloat(u.target.value)||0),min:"0",step:"0.1",required:!0}),B.jsxs("select",{className:"deduction-category",value:c,onChange:u=>e(i,"category",u.target.value),children:[B.jsx("option",{value:"",children:"Seleccionar..."}),B.jsx("option",{value:"Impuesto",children:"Impuesto"}),B.jsx("option",{value:"Servicio",children:"Servicio"}),B.jsx("option",{value:"Personal",children:"Personal"}),B.jsx("option",{value:"Transporte",children:"Transporte"}),B.jsx("option",{value:"Otros",children:"Otros"})]})]})]})}function aB({deductions:n,setDeductions:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",type:"fixed",value:0,category:""}])},i=s=>{t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return B.jsxs(B.Fragment,{children:[B.jsx("h3",{children:" Deducciones del Facturador"}),B.jsx("div",{id:"deduccionesContainer",children:n.map(s=>B.jsx(sB,{deduction:s,onRemove:i,onUpdate:r},s.id))}),B.jsx("button",{className:"secondary-button",onClick:e,children:" Aadir Deduccin"}),B.jsx("hr",{style:{margin:"20px 0"}})]})}function oB({customData:n,setCustomData:t}){const e=r=>{const{id:s,value:o}=r.target;t(c=>({...c,[s]:o}))},i=r=>{const{id:s,files:o}=r.target,c=o[0];if(!c)return;const u=new FileReader;u.readAsDataURL(c),u.onload=()=>{t(f=>({...f,[s]:u.result}))},u.onerror=f=>{console.error("Error al leer el archivo:",f),alert("No se pudo cargar el archivo.")}};return B.jsxs(B.Fragment,{children:[B.jsx("hr",{style:{margin:"20px 0"}}),B.jsx("h3",{children:" Personalizacin de PDF"}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"logo",children:" Subir Logo (opcional):"}),B.jsx("input",{type:"file",id:"logo",accept:"image/png, image/jpeg",onChange:i})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"signature",children:" Subir Firma/Sello (opcional):"}),B.jsx("input",{type:"file",id:"signature",accept:"image/png, image/jpeg",onChange:i})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"headerText",children:" Texto de Encabezado Personalizado:"}),B.jsx("input",{type:"text",id:"headerText",value:n.headerText,onChange:e,placeholder:"Ej: Reporte Confidencial"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"footerText",children:" Texto de Pie de Pgina Personalizado:"}),B.jsx("input",{type:"text",id:"footerText",value:n.footerText,onChange:e,placeholder:"Ej: Gracias por su confianza"})]})]})}function lB({onCalculate:n,results:t,onNewSettlement:e}){const i=()=>{window.confirm("Ests seguro de que quieres reiniciar TODA la aplicacin? Se borrar el historial y las configuraciones guardadas.")&&console.log("Reiniciando app...")};return B.jsxs(B.Fragment,{children:[!t&&B.jsx("button",{id:"procesarBtn",className:"main-button",onClick:n,children:" Calcular Liquidacin"}),t&&B.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"10px",flexWrap:"wrap"},children:B.jsx("button",{className:"start-new-btn",onClick:e,children:" Nueva Liquidacin"})}),B.jsx("div",{style:{marginTop:"20px",borderTop:"1px solid var(--border-color)",paddingTop:"20px"},children:B.jsx("button",{className:"reset-btn",onClick:i,children:" Reiniciar Toda la App"})})]})}function cB({item:n,onDelete:t,onOpenPaymentModal:e}){const{id:i,summary:r,timestamp:s,status:o,pdfDownloadURL:c,comprobantePagoBase64:u}=n,f=()=>{window.confirm(`Ests seguro de que quieres eliminar la liquidacin de ${r.mesServicio}?`)&&t(i)},p=()=>{c?window.open(c,"_blank"):alert("No se encontr el enlace del PDF para esta liquidacin.")},v=()=>{if(u){const b=window.open();b?(b.document.write('<html><head><title>Visor de Comprobante</title></head><body style="margin:0;">'),b.document.write(`<img src='${u}' style='max-width:100%;'>`),b.document.write("</body></html>")):alert("No se pudo abrir la nueva pestaa. Por favor, revisa los permisos de tu navegador.")}else alert("No se encontr el comprobante de pago para esta liquidacin.")};return B.jsxs("div",{className:"history-item",children:[B.jsxs("div",{className:"history-item-info",children:[B.jsxs("div",{children:[B.jsx("strong",{children:r.nombreMariella||"N/A"})," - ",r.mesServicio||"N/A",B.jsx("br",{}),B.jsxs("small",{children:["Guardado: ",s||"N/A"]})]}),B.jsx("span",{className:`status-label status-${(o||"pendiente").toLowerCase()}`,children:o||"Pendiente"})]}),B.jsxs("div",{className:"history-item-actions",children:[B.jsx("button",{className:"view-pdf-btn",onClick:p,children:"Ver PDF"}),o==="Pagada"?B.jsx("button",{className:"view-receipt-btn",onClick:v,children:"Ver Comprobante"}):B.jsx("button",{className:"register-payment-btn",onClick:()=>e(i),children:"Registrar Pago"}),B.jsx("button",{className:"history-delete-btn",onClick:f,children:"Eliminar"})]})]})}function uB({history:n,searchTerm:t,setSearchTerm:e,onDeleteItem:i,onOpenPaymentModal:r}){const s=n.filter(o=>{if(!o.summary)return!1;const c=t.toLowerCase(),u=(o.summary.nombreMariella||"").toLowerCase().includes(c),f=(o.summary.mesServicio||"").toLowerCase().includes(c),p=(o.status||"").toLowerCase().includes(c);return u||f||p});return B.jsxs(B.Fragment,{children:[B.jsx("hr",{style:{margin:"20px 0"}}),B.jsxs("div",{className:"history-section-header",children:[B.jsx("h3",{children:" Historial de Liquidaciones"}),B.jsx("div",{className:"history-search-filter",children:B.jsx("input",{type:"text",id:"historySearch",value:t,onChange:o=>e(o.target.value),placeholder:"Buscar por nombre, mes o estado..."})})]}),B.jsx("div",{id:"historyContainer",children:s.length>0?s.map(o=>B.jsx(cB,{item:o,onDelete:i,onOpenPaymentModal:r},o.id)):B.jsx("p",{style:{textAlign:"center",color:"var(--text-muted-color)"},children:"No hay liquidaciones guardadas."})})]})}const hB=({children:n,requiredRole:t,requiredPermission:e,fallback:i,showLoader:r=!0})=>{const{user:s,userProfile:o,loading:c,isRole:u,hasPermission:f}=B1();return c&&r?B.jsx(fB,{}):s?o?t&&!u(t)?i||B.jsx(Fm,{message:`Necesitas ser ${dB(t)} para acceder a esta seccin`}):e&&!f(e)?i||B.jsx(Fm,{message:"No tienes permisos suficientes para realizar esta accin"}):n:i||B.jsx(Fm,{message:"Error cargando perfil de usuario"}):i||B.jsx(Fm,{message:"Debes iniciar sesin para acceder a esta seccin"})},Fm=({message:n})=>B.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center",children:B.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[B.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:B.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 0v2m0-2h2m-2 0H9m11-5a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Acceso Denegado"}),B.jsx("p",{className:"text-red-700 text-sm",children:n})]})}),fB=()=>B.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:B.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[B.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),B.jsx("p",{className:"text-sm text-gray-600",children:"Verificando permisos..."})]})}),dB=n=>({admin:"Administrador",contador:"Contador",cliente:"Cliente"})[n]||n,jT=({children:n,fallback:t})=>B.jsx(hB,{requiredRole:"admin",fallback:t,children:n}),pB=()=>{const{user:n,userProfile:t,reloadUserProfile:e}=B1(),[i,r]=ye.useState([]),[s,o]=ye.useState(!0),[c,u]=ye.useState(null),[f,p]=ye.useState("users"),[v,b]=ye.useState(null),[_,E]=ye.useState({email:"",displayName:"",role:hn.CLIENTE}),[N,I]=ye.useState([]),[C,O]=ye.useState(!1),[H,nt]=ye.useState(null);ye.useEffect(()=>{it(),gt()},[n,it,gt]);const it=ye.useCallback(async()=>{if(n){o(!0),u(null);try{const tt=await qV(n.uid);tt.success?(r(tt.users),pn.custom("admin_panel_viewed",{users_count:tt.users.length})):u(tt.message)}catch(tt){u("Error cargando usuarios"),console.error("Error loading users:",tt)}finally{o(!1)}}},[n]),gt=ye.useCallback(async()=>{if(n)try{const tt=await KV(n.uid);tt.success?I(tt.invitations):console.error("Error cargando invitaciones:",tt.message)}catch(tt){console.error("Error loading invitations:",tt)}},[n]),q=async(tt,pt,rt)=>{if(n){b(tt);try{const ht=await zV(tt,pt,n.uid);ht.success?(await it(),tt===n.uid&&await e(),pn.custom("admin_role_changed",{target_email:rt,new_role:pt,admin_email:n.email}),console.log(" Rol actualizado exitosamente")):(u(ht.message),console.error(" Error cambiando rol:",ht.message))}catch(ht){u("Error actualizando rol"),console.error("Error changing role:",ht)}finally{b(null)}}},L=async tt=>{if(tt.preventDefault(),!!n){O(!0),u(null),nt(null);try{const pt=await $V(_,n.uid);pt.success?(nt({message:pt.message,code:pt.invitation.code,email:pt.invitation.email,displayName:pt.invitation.displayName,role:pt.invitation.role}),E({email:"",displayName:"",role:hn.CLIENTE}),await gt(),pn.custom("admin_invitation_created",{target_role:_.role,admin_email:n.email}),console.log(" Invitacin creada exitosamente")):(u(pt.message),console.error(" Error creando invitacin:",pt.message))}catch(pt){u("Error creando invitacin"),console.error("Error creating invitation:",pt)}finally{O(!1)}}},V=(tt,pt)=>{E(rt=>({...rt,[tt]:pt}))},$=async tt=>{if(n)try{const pt=await XV(tt,n.uid);pt.success?(await gt(),console.log(" Invitacin cancelada")):u(pt.message)}catch(pt){u("Error cancelando invitacin"),console.error("Error cancelling invitation:",pt)}},P=tt=>{if(!tt)return"N/A";try{const pt=tt.toDate?tt.toDate():new Date(tt);return pt.toLocaleDateString("es-ES")+" "+pt.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},D=()=>{const tt=i.reduce((pt,rt)=>(pt[rt.role]=(pt[rt.role]||0)+1,pt),{});return{total:i.length,admins:tt.admin||0,contadores:tt.contador||0,clientes:tt.cliente||0}};if(s)return B.jsx(jT,{children:B.jsx("div",{className:"admin-panel loading",children:B.jsxs("div",{className:"loading-spinner",children:[B.jsx("div",{className:"spinner"}),B.jsx("p",{children:"Cargando panel de administracin..."})]})})});const j=D();return B.jsxs(jT,{children:[B.jsxs("div",{className:"admin-panel",children:[B.jsxs("div",{className:"admin-header",children:[B.jsxs("div",{className:"admin-title",children:[B.jsx("h2",{children:"Panel de Administracin"}),B.jsx("p",{children:"Gestin de usuarios y configuraciones del sistema"})]}),B.jsxs("div",{className:"admin-stats",children:[B.jsxs("div",{className:"stat-card",children:[B.jsx("span",{className:"stat-number",children:j.total}),B.jsx("span",{className:"stat-label",children:"Total Usuarios"})]}),B.jsxs("div",{className:"stat-card",children:[B.jsx("span",{className:"stat-number",children:j.admins}),B.jsx("span",{className:"stat-label",children:"Admins"})]}),B.jsxs("div",{className:"stat-card",children:[B.jsx("span",{className:"stat-number",children:j.contadores}),B.jsx("span",{className:"stat-label",children:"Contadores"})]}),B.jsxs("div",{className:"stat-card",children:[B.jsx("span",{className:"stat-number",children:j.clientes}),B.jsx("span",{className:"stat-label",children:"Clientes"})]})]})]}),B.jsxs("div",{className:"admin-tabs",children:[B.jsx("button",{className:`tab-button ${f==="users"?"active":""}`,onClick:()=>p("users"),children:" Gestin de Usuarios"}),B.jsx("button",{className:`tab-button ${f==="invitations"?"active":""}`,onClick:()=>p("invitations"),children:" Invitaciones"}),B.jsx("button",{className:`tab-button ${f==="notifications"?"active":""}`,onClick:()=>p("notifications"),children:" Notificaciones"}),B.jsx("button",{className:`tab-button ${f==="settings"?"active":""}`,onClick:()=>p("settings"),children:" Configuraciones"})]}),B.jsxs("div",{className:"admin-content",children:[c&&B.jsxs("div",{className:"error-banner",children:[B.jsx("span",{className:"error-icon",children:""}),B.jsx("span",{children:c}),B.jsx("button",{onClick:()=>u(null),className:"error-close",children:""})]}),f==="users"&&B.jsxs("div",{className:"users-management",children:[B.jsxs("div",{className:"users-header",children:[B.jsx("h3",{children:"Gestin de Usuarios"}),B.jsx("button",{onClick:it,className:"refresh-button",children:" Recargar"})]}),B.jsx("div",{className:"users-table-container",children:B.jsxs("table",{className:"users-table",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Usuario"}),B.jsx("th",{children:"Email"}),B.jsx("th",{children:"Rol Actual"}),B.jsx("th",{children:"ltimo Login"}),B.jsx("th",{children:"Creado"}),B.jsx("th",{children:"Acciones"})]})}),B.jsx("tbody",{children:i.map(tt=>B.jsxs("tr",{className:"user-row",children:[B.jsxs("td",{className:"user-info",children:[B.jsx("div",{className:"user-avatar",children:tt.displayName?tt.displayName.charAt(0).toUpperCase():"?"}),B.jsxs("div",{className:"user-details",children:[B.jsx("span",{className:"user-name",children:tt.displayName||"Sin nombre"}),B.jsxs("span",{className:"user-id",children:["ID: ",tt.uid.substring(0,8),"..."]})]})]}),B.jsx("td",{className:"user-email",children:tt.email}),B.jsx("td",{className:"user-role",children:B.jsx("span",{className:"role-badge",style:{backgroundColor:kT(tt.role)},children:Fy(tt.role)})}),B.jsx("td",{className:"user-date",children:P(tt.lastLogin)}),B.jsx("td",{className:"user-date",children:P(tt.createdAt)}),B.jsxs("td",{className:"user-actions",children:[tt.email!==(t==null?void 0:t.email)&&B.jsxs("select",{value:tt.role,onChange:pt=>q(tt.uid,pt.target.value,tt.email),disabled:v===tt.uid,className:"role-selector",children:[B.jsx("option",{value:hn.CLIENTE,children:"Cliente"}),B.jsx("option",{value:hn.CONTADOR,children:"Contador"}),B.jsx("option",{value:hn.ADMIN,children:"Admin"})]}),tt.email===(t==null?void 0:t.email)&&B.jsx("span",{className:"current-user-badge",children:"T"}),v===tt.uid&&B.jsx("div",{className:"action-loading",children:B.jsx("div",{className:"mini-spinner"})})]})]},tt.uid))})]})})]}),f==="invitations"&&B.jsxs("div",{className:"invitations-management",children:[B.jsxs("div",{className:"invitations-header",children:[B.jsx("h3",{children:"Sistema de Invitaciones"}),B.jsx("p",{children:"Crea cdigos de invitacin para que nuevos usuarios se registren de forma segura"})]}),H&&B.jsxs("div",{className:"success-banner",children:[B.jsx("span",{className:"success-icon",children:""}),B.jsxs("div",{className:"success-content",children:[B.jsx("p",{children:B.jsx("strong",{children:H.message})}),B.jsxs("div",{className:"invitation-code",children:[B.jsx("p",{children:B.jsx("strong",{children:"Cdigo de invitacin:"})}),B.jsxs("div",{className:"code-display",children:[B.jsx("code",{className:"invitation-code-text",children:H.code}),B.jsx("button",{onClick:()=>navigator.clipboard.writeText(H.code),className:"copy-button",title:"Copiar cdigo",children:""})]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Para:"})," ",H.displayName," (",H.email,")"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Rol:"})," ",Fy(H.role)]}),B.jsx("small",{children:" Comparte este cdigo con el usuario. Vlido por 7 das."})]})]}),B.jsx("button",{onClick:()=>nt(null),className:"success-close",children:""})]}),B.jsxs("form",{onSubmit:L,className:"create-invitation-form",children:[B.jsxs("div",{className:"form-row",children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"invitation-email",children:"Email del Usuario"}),B.jsx("input",{id:"invitation-email",type:"email",value:_.email,onChange:tt=>V("email",tt.target.value),placeholder:"usuario@empresa.com",required:!0,disabled:C})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"invitation-name",children:"Nombre Completo"}),B.jsx("input",{id:"invitation-name",type:"text",value:_.displayName,onChange:tt=>V("displayName",tt.target.value),placeholder:"Juan Prez",required:!0,disabled:C})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"invitation-role",children:"Rol del Usuario"}),B.jsxs("select",{id:"invitation-role",value:_.role,onChange:tt=>V("role",tt.target.value),required:!0,disabled:C,children:[B.jsx("option",{value:hn.CLIENTE,children:"Cliente - Acceso bsico"}),B.jsx("option",{value:hn.CONTADOR,children:"Contador - Gestin de liquidaciones"})]})]})]}),B.jsx("div",{className:"form-actions",children:B.jsx("button",{type:"submit",className:"create-invitation-button",disabled:C,children:C?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"button-spinner"}),"Generando Invitacin..."]}):" Crear Invitacin"})})]}),N.length>0&&B.jsxs("div",{className:"invitations-list",children:[B.jsx("h4",{children:"Invitaciones Activas"}),B.jsx("div",{className:"invitations-table-container",children:B.jsxs("table",{className:"invitations-table",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Cdigo"}),B.jsx("th",{children:"Usuario Invitado"}),B.jsx("th",{children:"Rol"}),B.jsx("th",{children:"Estado"}),B.jsx("th",{children:"Creada"}),B.jsx("th",{children:"Expira"}),B.jsx("th",{children:"Acciones"})]})}),B.jsx("tbody",{children:N.map(tt=>B.jsxs("tr",{className:"invitation-row",children:[B.jsx("td",{className:"invitation-code",children:B.jsx("code",{children:tt.code})}),B.jsx("td",{className:"invitation-user",children:B.jsxs("div",{children:[B.jsx("strong",{children:tt.displayName}),B.jsx("br",{}),B.jsx("small",{children:tt.email})]})}),B.jsx("td",{className:"invitation-role",children:B.jsx("span",{className:"role-badge",style:{backgroundColor:kT(tt.role)},children:Fy(tt.role)})}),B.jsx("td",{className:"invitation-status",children:B.jsx("span",{className:`status-badge status-${tt.status}`,children:tt.status==="pending"?"Pendiente":tt.status==="used"?"Usado":tt.status==="expired"?"Expirado":tt.status==="cancelled"?"Cancelado":tt.status})}),B.jsx("td",{className:"invitation-date",children:P(tt.createdAt)}),B.jsx("td",{className:"invitation-date",children:P(tt.expiresAt)}),B.jsx("td",{className:"invitation-actions",children:tt.status==="pending"&&B.jsx("button",{onClick:()=>$(tt.id),className:"cancel-invitation-button",title:"Cancelar invitacin",children:""})})]},tt.id))})]})})]}),B.jsxs("div",{className:"invitations-help",children:[B.jsx("h4",{children:" Cmo Funciona"}),B.jsxs("ul",{children:[B.jsxs("li",{children:[B.jsx("strong",{children:"1. Crear invitacin:"})," Genera un cdigo nico para el usuario"]}),B.jsxs("li",{children:[B.jsx("strong",{children:"2. Compartir cdigo:"})," Enva el cdigo al usuario de forma segura"]}),B.jsxs("li",{children:[B.jsx("strong",{children:"3. Registro:"})," El usuario se registra con su email y el cdigo"]}),B.jsxs("li",{children:[B.jsx("strong",{children:"4. Asignacin automtica:"})," Se le asigna automticamente el rol especificado"]}),B.jsx("li",{children:"Las invitaciones expiran en 7 das y solo pueden usarse una vez"}),B.jsx("li",{children:"El usuario crea su propia contrasea durante el registro"})]})]})]}),f==="notifications"&&B.jsxs("div",{className:"notifications-management",children:[B.jsx("h3",{children:"Centro de Notificaciones"}),B.jsx("div",{className:"notification-placeholder",children:B.jsxs("div",{className:"coming-soon",children:[B.jsx("span",{className:"coming-soon-icon",children:""}),B.jsx("h4",{children:"Notificaciones Push - Prximamente"}),B.jsx("p",{children:"Sistema de notificaciones Firebase Cloud Messaging en desarrollo"})]})})]}),f==="settings"&&B.jsxs("div",{className:"settings-management",children:[B.jsx("h3",{children:"Configuraciones del Sistema"}),B.jsx("div",{className:"settings-placeholder",children:B.jsxs("div",{className:"coming-soon",children:[B.jsx("span",{className:"coming-soon-icon",children:""}),B.jsx("h4",{children:"Configuraciones Avanzadas"}),B.jsx("p",{children:"Panel de configuraciones del sistema prximamente disponible"})]})})]})]})]}),B.jsx("style",{jsx:!0,children:`
        .admin-panel {
          padding: 20px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .admin-panel.loading {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 400px;
        }
        
        .loading-spinner {
          text-align: center;
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #f3f3f3;
          border-top: 3px solid #007bff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto 20px;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        .admin-header {
          margin-bottom: 30px;
        }
        
        .admin-title h2 {
          margin: 0 0 8px 0;
          color: #333;
          font-size: 28px;
        }
        
        .admin-title p {
          margin: 0;
          color: #666;
          font-size: 16px;
        }
        
        .admin-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
          margin-top: 20px;
        }
        
        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          text-align: center;
          border: 1px solid #e1e5e9;
        }
        
        .stat-number {
          display: block;
          font-size: 32px;
          font-weight: bold;
          color: #007bff;
          margin-bottom: 5px;
        }
        
        .stat-label {
          font-size: 14px;
          color: #666;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .admin-tabs {
          display: flex;
          border-bottom: 2px solid #e1e5e9;
          margin-bottom: 30px;
        }
        
        .tab-button {
          padding: 12px 24px;
          border: none;
          background: none;
          cursor: pointer;
          font-size: 16px;
          color: #666;
          border-bottom: 3px solid transparent;
          transition: all 0.2s;
        }
        
        .tab-button:hover {
          color: #007bff;
          background: #f8f9fa;
        }
        
        .tab-button.active {
          color: #007bff;
          border-bottom-color: #007bff;
          font-weight: 600;
        }
        
        .error-banner {
          background: #f8d7da;
          color: #721c24;
          padding: 12px 16px;
          border-radius: 6px;
          border: 1px solid #f5c6cb;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          gap: 10px;
        }
        
        .error-close {
          margin-left: auto;
          background: none;
          border: none;
          font-size: 18px;
          cursor: pointer;
          color: #721c24;
        }
        
        .users-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }
        
        .users-header h3 {
          margin: 0;
          color: #333;
        }
        
        .refresh-button {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.2s;
        }
        
        .refresh-button:hover {
          background: #0056b3;
        }
        
        .users-table-container {
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          overflow: hidden;
          border: 1px solid #e1e5e9;
        }
        
        .users-table {
          width: 100%;
          border-collapse: collapse;
        }
        
        .users-table th {
          background: #f8f9fa;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #495057;
          border-bottom: 1px solid #e1e5e9;
        }
        
        .users-table td {
          padding: 12px;
          border-bottom: 1px solid #e1e5e9;
        }
        
        .user-row:hover {
          background: #f8f9fa;
        }
        
        .user-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .user-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: #007bff;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 16px;
        }
        
        .user-details {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }
        
        .user-name {
          font-weight: 600;
          color: #333;
        }
        
        .user-id {
          font-size: 12px;
          color: #666;
          font-family: monospace;
        }
        
        .user-email {
          color: #495057;
          font-family: monospace;
          font-size: 14px;
        }
        
        .role-badge {
          display: inline-block;
          color: white;
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .user-date {
          color: #666;
          font-size: 14px;
        }
        
        .user-actions {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .role-selector {
          padding: 6px 12px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
          background: white;
          cursor: pointer;
        }
        
        .role-selector:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .current-user-badge {
          background: #28a745;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .action-loading {
          display: flex;
          align-items: center;
        }
        
        .mini-spinner {
          width: 16px;
          height: 16px;
          border: 2px solid #f3f3f3;
          border-top: 2px solid #007bff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        
        .coming-soon {
          text-align: center;
          padding: 60px 20px;
          color: #666;
        }
        
        .coming-soon-icon {
          font-size: 48px;
          display: block;
          margin-bottom: 16px;
        }
        
        .coming-soon h4 {
          margin: 0 0 8px 0;
          color: #333;
        }
        
        .coming-soon p {
          margin: 0;
          font-size: 14px;
        }
        
        @media (max-width: 768px) {
          .admin-panel {
            padding: 15px;
          }
          
          .admin-stats {
            grid-template-columns: repeat(2, 1fr);
          }
          
          .users-table-container {
            overflow-x: auto;
          }
          
          .users-table {
            min-width: 800px;
          }
          
          .tab-button {
            font-size: 14px;
            padding: 10px 16px;
          }
        }
      `})]})},gB={nombreMariella:"Doa Mariella",facturadorDireccion:"",facturadorContacto:"",invoiceNumber:"",mesServicio:new Date().toISOString().slice(0,7),moneda:"COP",valorComida:9e3},mB=[{id:1,name:"",meals:0}],vB=[{id:1,name:"Retencin en la Fuente",type:"percent",value:3.5,category:"Impuesto"},{id:2,name:"Aporte Seguro Social",type:"fixed",value:185500,category:"Personal"}],yB={logo:null,signature:null,headerText:"",footerText:""};function _B({setResults:n,setIsModalOpen:t,onOpenPaymentModal:e}){const{isAdmin:i}=B1(),[r,s]=ye.useState(gB),[o,c]=ye.useState(mB),[u,f]=ye.useState(vB),[p,v]=ye.useState(yB),[b,_]=ye.useState(null),[E,N]=ye.useState(0),[I,C]=ye.useState([]),[O,H]=ye.useState(""),[nt,it]=ye.useState("liquidaciones");ye.useEffect(()=>{const V=MV($=>{C($)});return()=>V()},[]);const gt=()=>{const V={...eB(r,o,u),customization:p};_(V),n(V),t(!0)},q=()=>{N(V=>V+1),_(null)},L=async V=>{try{await jV(V),console.log("Liquidacin eliminada con xito")}catch($){console.error("Error al eliminar la liquidacin:",$),alert("No se pudo eliminar la liquidacin.")}};return B.jsxs("div",{className:"content",children:[i()&&B.jsxs("div",{className:"app-tabs",children:[B.jsx("button",{className:`app-tab ${nt==="liquidaciones"?"active":""}`,onClick:()=>it("liquidaciones"),children:" Liquidaciones"}),B.jsx("button",{className:`app-tab ${nt==="admin"?"active":""}`,onClick:()=>it("admin"),children:" Administracin"})]}),nt==="liquidaciones"&&B.jsxs("div",{className:"input-section",children:[B.jsx(nB,{data:r,setData:s}),B.jsx(aB,{deductions:u,setDeductions:f}),B.jsx(rB,{clients:o,setClients:c}),B.jsx(oB,{customData:p,setCustomData:v}),B.jsx(lB,{onCalculate:gt,results:b,onNewSettlement:q}),B.jsx(uB,{history:I,searchTerm:O,setSearchTerm:H,onDeleteItem:L,onOpenPaymentModal:e})]},E),nt==="admin"&&i()&&B.jsx(pB,{}),B.jsx("style",{jsx:!0,children:`
                .app-tabs {
                    display: flex;
                    border-bottom: 2px solid #e1e5e9;
                    margin-bottom: 30px;
                    background: white;
                    border-radius: 8px 8px 0 0;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                
                .app-tab {
                    padding: 16px 24px;
                    border: none;
                    background: none;
                    cursor: pointer;
                    font-size: 16px;
                    font-weight: 500;
                    color: #666;
                    border-bottom: 3px solid transparent;
                    transition: all 0.2s ease;
                    flex: 1;
                    text-align: center;
                }
                
                .app-tab:hover {
                    color: #007bff;
                    background: #f8f9fa;
                }
                
                .app-tab.active {
                    color: #007bff;
                    border-bottom-color: #007bff;
                    font-weight: 600;
                    background: #f8f9fa;
                }
                
                .app-tab:first-child {
                    border-radius: 8px 0 0 0;
                }
                
                .app-tab:last-child {
                    border-radius: 0 8px 0 0;
                }
                
                @media (max-width: 768px) {
                    .app-tab {
                        font-size: 14px;
                        padding: 12px 16px;
                    }
                }
            `})]})}function bB(){return B.jsx("div",{id:"loader",style:{display:"flex"}})}const wB="modulepreload",SB=function(n){return"/alimentacion/"+n},FT={},$2=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(e.map(f=>{if(f=SB(f),f in FT)return;FT[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":wB,p||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),p)return new Promise((_,E)=>{b.addEventListener("load",_),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function qn(n){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(n)}var fs=Uint8Array,Ta=Uint16Array,Yb=Int32Array,z1=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),q1=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y2=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PI=function(n,t){for(var e=new Ta(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new Yb(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},kI=PI(z1,2),DI=kI.b,K2=kI.r;DI[28]=258,K2[258]=28;var OI=PI(q1,0),AB=OI.b,VT=OI.r,X2=new Ta(32768);for(var li=0;li<32768;++li){var Au=(li&43690)>>1|(li&21845)<<1;Au=(Au&52428)>>2|(Au&13107)<<2,Au=(Au&61680)>>4|(Au&3855)<<4,X2[li]=((Au&65280)>>8|(Au&255)<<8)>>1}var Ll=function(n,t,e){for(var i=n.length,r=0,s=new Ta(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new Ta(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var c;if(e){c=new Ta(1<<t);var u=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=t-n[r],v=o[n[r]-1]++<<p,b=v|(1<<p)-1;v<=b;++v)c[X2[v]>>u]=f}else for(c=new Ta(i),r=0;r<i;++r)n[r]&&(c[r]=X2[o[n[r]-1]++]>>15-n[r]);return c},Qu=new fs(288);for(var li=0;li<144;++li)Qu[li]=8;for(var li=144;li<256;++li)Qu[li]=9;for(var li=256;li<280;++li)Qu[li]=7;for(var li=280;li<288;++li)Qu[li]=8;var ag=new fs(32);for(var li=0;li<32;++li)ag[li]=5;var TB=Ll(Qu,9,0),xB=Ll(Qu,9,1),EB=Ll(ag,5,0),NB=Ll(ag,5,1),Vy=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Lo=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},By=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Kb=function(n){return(n+7)/8|0},MI=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new fs(n.subarray(t,e))},IB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ko=function(n,t,e){var i=new Error(t||IB[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,ko),!e)throw i;return i},CB=function(n,t,e,i){var r=n.length,s=0;if(!r||t.f&&!t.l)return e||new fs(0);var o=!e,c=o||t.i!=2,u=t.i;o&&(e=new fs(r*3));var f=function(Xt){var ne=e.length;if(Xt>ne){var te=new fs(Math.max(ne*2,Xt));te.set(e),e=te}},p=t.f||0,v=t.p||0,b=t.b||0,_=t.l,E=t.d,N=t.m,I=t.n,C=r*8;do{if(!_){p=Lo(n,v,1);var O=Lo(n,v+1,3);if(v+=3,O)if(O==1)_=xB,E=NB,N=9,I=5;else if(O==2){var gt=Lo(n,v,31)+257,q=Lo(n,v+10,15)+4,L=gt+Lo(n,v+5,31)+1;v+=14;for(var V=new fs(L),$=new fs(19),P=0;P<q;++P)$[Y2[P]]=Lo(n,v+P*3,7);v+=q*3;for(var D=Vy($),j=(1<<D)-1,tt=Ll($,D,1),P=0;P<L;){var pt=tt[Lo(n,v,j)];v+=pt&15;var H=pt>>4;if(H<16)V[P++]=H;else{var rt=0,ht=0;for(H==16?(ht=3+Lo(n,v,3),v+=2,rt=V[P-1]):H==17?(ht=3+Lo(n,v,7),v+=3):H==18&&(ht=11+Lo(n,v,127),v+=7);ht--;)V[P++]=rt}}var ft=V.subarray(0,gt),xt=V.subarray(gt);N=Vy(ft),I=Vy(xt),_=Ll(ft,N,1),E=Ll(xt,I,1)}else ko(1);else{var H=Kb(v)+4,nt=n[H-4]|n[H-3]<<8,it=H+nt;if(it>r){u&&ko(0);break}c&&f(b+nt),e.set(n.subarray(H,it),b),t.b=b+=nt,t.p=v=it*8,t.f=p;continue}if(v>C){u&&ko(0);break}}c&&f(b+131072);for(var J=(1<<N)-1,At=(1<<I)-1,F=v;;F=v){var rt=_[By(n,v)&J],Y=rt>>4;if(v+=rt&15,v>C){u&&ko(0);break}if(rt||ko(2),Y<256)e[b++]=Y;else if(Y==256){F=v,_=null;break}else{var et=Y-254;if(Y>264){var P=Y-257,ot=z1[P];et=Lo(n,v,(1<<ot)-1)+DI[P],v+=ot}var ct=E[By(n,v)&At],Nt=ct>>4;ct||ko(3),v+=ct&15;var xt=AB[Nt];if(Nt>3){var ot=q1[Nt];xt+=By(n,v)&(1<<ot)-1,v+=ot}if(v>C){u&&ko(0);break}c&&f(b+131072);var Et=b+et;if(b<xt){var kt=s-xt,Jt=Math.min(xt,Et);for(kt+b<0&&ko(3);b<Jt;++b)e[b]=i[kt+b]}for(;b<Et;++b)e[b]=e[b-xt]}}t.l=_,t.p=F,t.b=b,t.f=p,_&&(p=1,t.m=N,t.d=E,t.n=I)}while(!p);return b!=e.length&&o?MI(e,0,b):e.subarray(0,b)},pc=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},dp=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},Uy=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:FI,l:0};if(r==1){var o=new fs(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(it,gt){return it.f-gt.f}),e.push({s:-1,f:25001});var c=e[0],u=e[1],f=0,p=1,v=2;for(e[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=r-1;)c=e[e[f].f<e[v].f?f++:v++],u=e[f!=p&&e[f].f<e[v].f?f++:v++],e[p++]={s:-1,f:c.f+u.f,l:c,r:u};for(var b=s[0].s,i=1;i<r;++i)s[i].s>b&&(b=s[i].s);var _=new Ta(b+1),E=Q2(e[p-1],_,0);if(E>t){var i=0,N=0,I=E-t,C=1<<I;for(s.sort(function(gt,q){return _[q.s]-_[gt.s]||gt.f-q.f});i<r;++i){var O=s[i].s;if(_[O]>t)N+=C-(1<<E-_[O]),_[O]=t;else break}for(N>>=I;N>0;){var H=s[i].s;_[H]<t?N-=1<<t-_[H]++-1:++i}for(;i>=0&&N;--i){var nt=s[i].s;_[nt]==t&&(--_[nt],++N)}E=t}return{t:new fs(_),l:E}},Q2=function(n,t,e){return n.s==-1?Math.max(Q2(n.l,t,e+1),Q2(n.r,t,e+1)):t[n.s]=e},BT=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Ta(++t),i=0,r=n[0],s=1,o=function(u){e[i++]=u},c=1;c<=t;++c)if(n[c]==r&&c!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[c]}return{c:e.subarray(0,i),n:t}},pp=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},jI=function(n,t,e){var i=e.length,r=Kb(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},UT=function(n,t,e,i,r,s,o,c,u,f,p){pc(t,p++,e),++r[256];for(var v=Uy(r,15),b=v.t,_=v.l,E=Uy(s,15),N=E.t,I=E.l,C=BT(b),O=C.c,H=C.n,nt=BT(N),it=nt.c,gt=nt.n,q=new Ta(19),L=0;L<O.length;++L)++q[O[L]&31];for(var L=0;L<it.length;++L)++q[it[L]&31];for(var V=Uy(q,7),$=V.t,P=V.l,D=19;D>4&&!$[Y2[D-1]];--D);var j=f+5<<3,tt=pp(r,Qu)+pp(s,ag)+o,pt=pp(r,b)+pp(s,N)+o+14+3*D+pp(q,$)+2*q[16]+3*q[17]+7*q[18];if(u>=0&&j<=tt&&j<=pt)return jI(t,p,n.subarray(u,u+f));var rt,ht,ft,xt;if(pc(t,p,1+(pt<tt)),p+=2,pt<tt){rt=Ll(b,_,0),ht=b,ft=Ll(N,I,0),xt=N;var J=Ll($,P,0);pc(t,p,H-257),pc(t,p+5,gt-1),pc(t,p+10,D-4),p+=14;for(var L=0;L<D;++L)pc(t,p+3*L,$[Y2[L]]);p+=3*D;for(var At=[O,it],F=0;F<2;++F)for(var Y=At[F],L=0;L<Y.length;++L){var et=Y[L]&31;pc(t,p,J[et]),p+=$[et],et>15&&(pc(t,p,Y[L]>>5&127),p+=Y[L]>>12)}}else rt=TB,ht=Qu,ft=EB,xt=ag;for(var L=0;L<c;++L){var ot=i[L];if(ot>255){var et=ot>>18&31;dp(t,p,rt[et+257]),p+=ht[et+257],et>7&&(pc(t,p,ot>>23&31),p+=z1[et]);var ct=ot&31;dp(t,p,ft[ct]),p+=xt[ct],ct>3&&(dp(t,p,ot>>5&8191),p+=q1[ct])}else dp(t,p,rt[ot]),p+=ht[ot]}return dp(t,p,rt[256]),p+ht[256]},RB=new Yb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FI=new fs(0),LB=function(n,t,e,i,r,s){var o=s.z||n.length,c=new fs(i+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(i,c.length-r),f=s.l,p=(s.r||0)&7;if(t){p&&(u[0]=s.r>>3);for(var v=RB[t-1],b=v>>13,_=v&8191,E=(1<<e)-1,N=s.p||new Ta(32768),I=s.h||new Ta(E+1),C=Math.ceil(e/3),O=2*C,H=function(Se){return(n[Se]^n[Se+1]<<C^n[Se+2]<<O)&E},nt=new Yb(25e3),it=new Ta(288),gt=new Ta(32),q=0,L=0,V=s.i||0,$=0,P=s.w||0,D=0;V+2<o;++V){var j=H(V),tt=V&32767,pt=I[j];if(N[tt]=pt,I[j]=tt,P<=V){var rt=o-V;if((q>7e3||$>24576)&&(rt>423||!f)){p=UT(n,u,0,nt,it,gt,L,$,D,V-D,p),$=q=L=0,D=V;for(var ht=0;ht<286;++ht)it[ht]=0;for(var ht=0;ht<30;++ht)gt[ht]=0}var ft=2,xt=0,J=_,At=tt-pt&32767;if(rt>2&&j==H(V-At))for(var F=Math.min(b,rt)-1,Y=Math.min(32767,V),et=Math.min(258,rt);At<=Y&&--J&&tt!=pt;){if(n[V+ft]==n[V+ft-At]){for(var ot=0;ot<et&&n[V+ot]==n[V+ot-At];++ot);if(ot>ft){if(ft=ot,xt=At,ot>F)break;for(var ct=Math.min(At,ot-2),Nt=0,ht=0;ht<ct;++ht){var Et=V-At+ht&32767,kt=N[Et],Jt=Et-kt&32767;Jt>Nt&&(Nt=Jt,pt=Et)}}}tt=pt,pt=N[tt],At+=tt-pt&32767}if(xt){nt[$++]=268435456|K2[ft]<<18|VT[xt];var Xt=K2[ft]&31,ne=VT[xt]&31;L+=z1[Xt]+q1[ne],++it[257+Xt],++gt[ne],P=V+ft,++q}else nt[$++]=n[V],++it[n[V]]}}for(V=Math.max(V,P);V<o;++V)nt[$++]=n[V],++it[n[V]];p=UT(n,u,f,nt,it,gt,L,$,D,V-D,p),f||(s.r=p&7|u[p/8|0]<<3,p-=7,s.h=I,s.p=N,s.i=V,s.w=P)}else{for(var V=s.w||0;V<o+f;V+=65535){var te=V+65535;te>=o&&(u[p/8|0]=f,te=o),p=jI(u,p+1,n.subarray(V,te))}s.i=o}return MI(c,0,i+Kb(p)+r)},VI=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},PB=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new fs(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return LB(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},BI=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},kB=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=VI();r.p(t.dictionary),BI(n,2,r.d())}},DB=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ko(6,"invalid zlib data"),(n[1]>>5&1)==1&&ko(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function J2(n,t){t||(t={});var e=VI();e.p(n);var i=PB(n,t,t.dictionary?6:2,4);return kB(i,t),BI(i,i.length-4,e.d()),i}function OB(n,t){return CB(n.subarray(DB(n),-4),{i:2},t,t)}var MB=typeof TextDecoder<"u"&&new TextDecoder,jB=0;try{MB.decode(FI,{stream:!0}),jB=1}catch{}var Oe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zy(){Oe.console&&typeof Oe.console.log=="function"&&Oe.console.log.apply(Oe.console,arguments)}var Zn={log:zy,warn:function(n){Oe.console&&(typeof Oe.console.warn=="function"?Oe.console.warn.apply(Oe.console,arguments):zy.call(null,arguments))},error:function(n){Oe.console&&(typeof Oe.console.error=="function"?Oe.console.error.apply(Oe.console,arguments):zy(n))}};function qy(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ch(i.response,t,e)},i.onerror=function(){Zn.error("could not download file")},i.send()}function zT(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Up,Z2,Ch=Oe.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Oe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Oe.URL||Oe.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?zT(r.href)?qy(n,t,e):Vm(r,r.target="_blank"):Vm(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Vm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(zT(n))qy(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Vm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:qn(s)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return qy(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(Oe.HTMLElement)||Oe.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(n)}else{var u=Oe.URL||Oe.webkitURL,f=u.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function UI(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Hy(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=rs(e,i,r,s,t[0],7,-680876936),s=rs(s,e,i,r,t[1],12,-389564586),r=rs(r,s,e,i,t[2],17,606105819),i=rs(i,r,s,e,t[3],22,-1044525330),e=rs(e,i,r,s,t[4],7,-176418897),s=rs(s,e,i,r,t[5],12,1200080426),r=rs(r,s,e,i,t[6],17,-1473231341),i=rs(i,r,s,e,t[7],22,-45705983),e=rs(e,i,r,s,t[8],7,1770035416),s=rs(s,e,i,r,t[9],12,-1958414417),r=rs(r,s,e,i,t[10],17,-42063),i=rs(i,r,s,e,t[11],22,-1990404162),e=rs(e,i,r,s,t[12],7,1804603682),s=rs(s,e,i,r,t[13],12,-40341101),r=rs(r,s,e,i,t[14],17,-1502002290),e=ss(e,i=rs(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=ss(s,e,i,r,t[6],9,-1069501632),r=ss(r,s,e,i,t[11],14,643717713),i=ss(i,r,s,e,t[0],20,-373897302),e=ss(e,i,r,s,t[5],5,-701558691),s=ss(s,e,i,r,t[10],9,38016083),r=ss(r,s,e,i,t[15],14,-660478335),i=ss(i,r,s,e,t[4],20,-405537848),e=ss(e,i,r,s,t[9],5,568446438),s=ss(s,e,i,r,t[14],9,-1019803690),r=ss(r,s,e,i,t[3],14,-187363961),i=ss(i,r,s,e,t[8],20,1163531501),e=ss(e,i,r,s,t[13],5,-1444681467),s=ss(s,e,i,r,t[2],9,-51403784),r=ss(r,s,e,i,t[7],14,1735328473),e=as(e,i=ss(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=as(s,e,i,r,t[8],11,-2022574463),r=as(r,s,e,i,t[11],16,1839030562),i=as(i,r,s,e,t[14],23,-35309556),e=as(e,i,r,s,t[1],4,-1530992060),s=as(s,e,i,r,t[4],11,1272893353),r=as(r,s,e,i,t[7],16,-155497632),i=as(i,r,s,e,t[10],23,-1094730640),e=as(e,i,r,s,t[13],4,681279174),s=as(s,e,i,r,t[0],11,-358537222),r=as(r,s,e,i,t[3],16,-722521979),i=as(i,r,s,e,t[6],23,76029189),e=as(e,i,r,s,t[9],4,-640364487),s=as(s,e,i,r,t[12],11,-421815835),r=as(r,s,e,i,t[15],16,530742520),e=os(e,i=as(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=os(s,e,i,r,t[7],10,1126891415),r=os(r,s,e,i,t[14],15,-1416354905),i=os(i,r,s,e,t[5],21,-57434055),e=os(e,i,r,s,t[12],6,1700485571),s=os(s,e,i,r,t[3],10,-1894986606),r=os(r,s,e,i,t[10],15,-1051523),i=os(i,r,s,e,t[1],21,-2054922799),e=os(e,i,r,s,t[8],6,1873313359),s=os(s,e,i,r,t[15],10,-30611744),r=os(r,s,e,i,t[6],15,-1560198380),i=os(i,r,s,e,t[13],21,1309151649),e=os(e,i,r,s,t[4],6,-145523070),s=os(s,e,i,r,t[11],10,-1120210379),r=os(r,s,e,i,t[2],15,718787259),i=os(i,r,s,e,t[9],21,-343485551),n[0]=Pu(e,n[0]),n[1]=Pu(i,n[1]),n[2]=Pu(r,n[2]),n[3]=Pu(s,n[3])}function H1(n,t,e,i,r,s){return t=Pu(Pu(t,n),Pu(i,s)),Pu(t<<r|t>>>32-r,e)}function rs(n,t,e,i,r,s,o){return H1(t&e|~t&i,n,t,r,s,o)}function ss(n,t,e,i,r,s,o){return H1(t&i|e&~i,n,t,r,s,o)}function as(n,t,e,i,r,s,o){return H1(t^e^i,n,t,r,s,o)}function os(n,t,e,i,r,s,o){return H1(e^(t|~i),n,t,r,s,o)}function zI(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Hy(i,FB(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Hy(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,Hy(i,r),i}function FB(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Up=Oe.atob.bind(Oe),Z2=Oe.btoa.bind(Oe);var qT="0123456789abcdef".split("");function VB(n){for(var t="",e=0;e<4;e++)t+=qT[n>>8*e+4&15]+qT[n>>8*e&15];return t}function BB(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function t_(n){return zI(n).map(BB).join("")}var UB=function(n){for(var t=0;t<n.length;t++)n[t]=VB(n[t]);return n.join("")}(zI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pu(n,t){if(UB){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e_(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var p=c[u];f=(f+p+o.charCodeAt(u))%256,c[u]=c[f],c[f]=p}e=n,i=c}else c=i;var v=t.length,b=0,_=0,E="";for(u=0;u<v;u++)_=(_+(p=c[b=(b+1)%256]))%256,c[b]=c[_],c[_]=p,o=c[(c[b]+c[_])%256],E+=String.fromCharCode(t.charCodeAt(u)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var HT={print:4,modify:8,copy:16,"annot-forms":32};function zf(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(c){if(HT.perm!==void 0)throw new Error("Invalid permission: "+c);r+=HT[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=t_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=e_(this.encryptionKey,this.padding)}function qf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function GT(n){if(qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(c){Oe.console&&Zn.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Y0(n){if(!(this instanceof Y0))return new Y0(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function qI(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Ph(n,t,e,i,r){if(!(this instanceof Ph))return new Ph(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,qI.call(this,i,r)}function Gf(n,t,e,i,r){if(!(this instanceof Gf))return new Gf(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,qI.call(this,i,r)}function ke(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],c=1,u=16,f="S",p=null;qn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,b={},_={internal:{},__private__:{}};_.__private__.PubSub=GT;var E="1.3",N=_.__private__.getPdfVersion=function(){return E};_.__private__.setPdfVersion=function(A){E=A};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return I};var C=_.__private__.getPageFormat=function(A){return I[A]};r=r||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},H=O.COMPAT;function nt(){this.saveGraphicsState(),lt(new le(oe,0,0,-oe,0,Sr()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),f="n",H=O.ADVANCED}function it(){this.restoreGraphicsState(),f="S",H=O.COMPAT}var gt=_.__private__.combineFontStyleAndFontWeight=function(A,z){if(A=="bold"&&z=="normal"||A=="bold"&&z==400||A=="normal"&&z=="italic"||A=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(A=z==400||z==="normal"?A==="italic"?"italic":"normal":z!=700&&z!=="bold"||A!=="normal"?(z==700?"bold":z)+""+A:"bold"),A};_.advancedAPI=function(A){var z=H===O.COMPAT;return z&&nt.call(this),typeof A!="function"||(A(this),z&&it.call(this)),this},_.compatAPI=function(A){var z=H===O.ADVANCED;return z&&it.call(this),typeof A!="function"||(A(this),z&&nt.call(this)),this},_.isAdvancedAPI=function(){return H===O.ADVANCED};var q,L=function(A){if(H!==O.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=_.roundToPrecision=_.__private__.roundToPrecision=function(A,z){var at=t||z;if(isNaN(A)||isNaN(at))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(at).replace(/0+$/,"")};q=_.hpf=_.__private__.hpf=typeof u=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,u)}:u==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,16)};var $=_.f2=_.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return V(A,2)},P=_.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return V(A,3)},D=_.scale=_.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return H===O.COMPAT?A*oe:H===O.ADVANCED?A:void 0},j=function(A){return H===O.COMPAT?Sr()-A:H===O.ADVANCED?A:void 0},tt=function(A){return D(j(A))};_.__private__.setPrecision=_.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var pt,rt="00000000000000000000000000000000",ht=_.__private__.getFileId=function(){return rt},ft=_.__private__.setFileId=function(A){return rt=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():rt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(jn=new zf(p.userPermissions,p.userPassword,p.ownerPassword,rt)),rt};_.setFileId=function(A){return ft(A),this},_.getFileId=function(){return ht()};var xt=_.__private__.convertDateToPDFDate=function(A){var z=A.getTimezoneOffset(),at=z<0?"+":"-",dt=Math.floor(Math.abs(z/60)),wt=Math.abs(z%60),jt=[at,et(dt),"'",et(wt),"'"].join("");return["D:",A.getFullYear(),et(A.getMonth()+1),et(A.getDate()),et(A.getHours()),et(A.getMinutes()),et(A.getSeconds()),jt].join("")},J=_.__private__.convertPDFDateToDate=function(A){var z=parseInt(A.substr(2,4),10),at=parseInt(A.substr(6,2),10)-1,dt=parseInt(A.substr(8,2),10),wt=parseInt(A.substr(10,2),10),jt=parseInt(A.substr(12,2),10),Yt=parseInt(A.substr(14,2),10);return new Date(z,at,dt,wt,jt,Yt,0)},At=_.__private__.setCreationDate=function(A){var z;if(A===void 0&&(A=new Date),A instanceof Date)z=xt(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=A}return pt=z},F=_.__private__.getCreationDate=function(A){var z=pt;return A==="jsDate"&&(z=J(pt)),z};_.setCreationDate=function(A){return At(A),this},_.getCreationDate=function(A){return F(A)};var Y,et=_.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ot=_.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ct=0,Nt=[],Et=[],kt=0,Jt=[],Xt=[],ne=!1,te=Et,Se=function(){ct=0,kt=0,Et=[],Nt=[],Jt=[],Rr=hi(),Xi=hi()};_.__private__.setCustomOutputDestination=function(A){ne=!0,te=A};var Ft=function(A){ne||(te=A)};_.__private__.resetCustomOutputDestination=function(){ne=!1,te=Et};var lt=_.__private__.out=function(A){return A=A.toString(),kt+=A.length+1,te.push(A),te},Te=_.__private__.write=function(A){return lt(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},fe=_.__private__.getArrayBuffer=function(A){for(var z=A.length,at=new ArrayBuffer(z),dt=new Uint8Array(at);z--;)dt[z]=A.charCodeAt(z);return at},Qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Qt};var Zt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(A){return Zt=H===O.ADVANCED?A/oe:A,this};var se,ae=_.__private__.getFontSize=_.getFontSize=function(){return H===O.COMPAT?Zt:Zt*oe},_e=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(A){return _e=A,this},_.__private__.getR2L=_.getR2L=function(){return _e};var Le,Ve=_.__private__.setZoomMode=function(A){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))se=A;else if(isNaN(A)){if(z.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');se=A}else se=parseInt(A,10)};_.__private__.getZoomMode=function(){return se};var be,me=_.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Le=A};_.__private__.getPageMode=function(){return Le};var Ge=_.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');be=A};_.__private__.getLayoutMode=function(){return be},_.__private__.setDisplayMode=_.setDisplayMode=function(A,z,at){return Ve(A),Ge(z),me(at),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(A){if(Object.keys(de).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[A]},_.__private__.getDocumentProperties=function(){return de},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(A){for(var z in de)de.hasOwnProperty(z)&&A[z]&&(de[z]=A[z]);return this},_.__private__.setDocumentProperty=function(A,z){if(Object.keys(de).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[A]=z};var We,oe,ci,Ke,ar,Je={},Cn={},vr=[],cn={},Js={},Hn={},Oi={},or=null,Gn=0,xe=[],un=new GT(_),Hr=n.hotfixes||[],ui={},lr={},ys=[],le=function A(z,at,dt,wt,jt,Yt){if(!(this instanceof A))return new A(z,at,dt,wt,jt,Yt);isNaN(z)&&(z=1),isNaN(at)&&(at=0),isNaN(dt)&&(dt=0),isNaN(wt)&&(wt=1),isNaN(jt)&&(jt=0),isNaN(Yt)&&(Yt=0),this._matrix=[z,at,dt,wt,jt,Yt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(A)},le.prototype.multiply=function(A){var z=A.sx*this.sx+A.shy*this.shx,at=A.sx*this.shy+A.shy*this.sy,dt=A.shx*this.sx+A.sy*this.shx,wt=A.shx*this.shy+A.sy*this.sy,jt=A.tx*this.sx+A.ty*this.shx+this.tx,Yt=A.tx*this.shy+A.ty*this.sy+this.ty;return new le(z,at,dt,wt,jt,Yt)},le.prototype.decompose=function(){var A=this.sx,z=this.shy,at=this.shx,dt=this.sy,wt=this.tx,jt=this.ty,Yt=Math.sqrt(A*A+z*z),ie=(A/=Yt)*at+(z/=Yt)*dt;at-=A*ie,dt-=z*ie;var m=Math.sqrt(at*at+dt*dt);return ie/=m,A*(dt/=m)<z*(at/=m)&&(A=-A,z=-z,ie=-ie,Yt=-Yt),{scale:new le(Yt,0,0,m,0,0),translate:new le(1,0,0,1,wt,jt),rotate:new le(A,z,-z,A,0,0),skew:new le(1,0,ie,1,0,0)}},le.prototype.toString=function(A){return this.join(" ")},le.prototype.inversed=function(){var A=this.sx,z=this.shy,at=this.shx,dt=this.sy,wt=this.tx,jt=this.ty,Yt=1/(A*dt-z*at),ie=dt*Yt,m=-z*Yt,x=-at*Yt,k=A*Yt;return new le(ie,m,x,k,-ie*wt-x*jt,-m*wt-k*jt)},le.prototype.applyToPoint=function(A){var z=A.x*this.sx+A.y*this.shx+this.tx,at=A.x*this.shy+A.y*this.sy+this.ty;return new uo(z,at)},le.prototype.applyToRectangle=function(A){var z=this.applyToPoint(A),at=this.applyToPoint(new uo(A.x+A.w,A.y+A.h));return new $o(z.x,z.y,at.x-z.x,at.y-z.y)},le.prototype.clone=function(){var A=this.sx,z=this.shy,at=this.shx,dt=this.sy,wt=this.tx,jt=this.ty;return new le(A,z,at,dt,wt,jt)},_.Matrix=le;var Rn=_.matrixMult=function(A,z){return z.multiply(A)},Ln=new le(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ln;var Qn=function(A,z){if(!Js[A]){var at=(z instanceof Ph?"Sh":"P")+(Object.keys(cn).length+1).toString(10);z.id=at,Js[A]=at,cn[at]=z,un.publish("addPattern",z)}};_.ShadingPattern=Ph,_.TilingPattern=Gf,_.addShadingPattern=function(A,z){return L("addShadingPattern()"),Qn(A,z),this},_.beginTilingPattern=function(A){L("beginTilingPattern()"),Oa(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},_.endTilingPattern=function(A,z){L("endTilingPattern()"),z.stream=Xt[Y].join(`
`),Qn(A,z),un.publish("endTilingPattern",z),ys.pop().restore()};var ii=_.__private__.newObject=function(){var A=hi();return Ai(A,!0),A},hi=_.__private__.newObjectDeferred=function(){return ct++,Nt[ct]=function(){return kt},ct},Ai=function(A,z){return z=typeof z=="boolean"&&z,Nt[A]=kt,z&&lt(A+" 0 obj"),A},io=_.__private__.newAdditionalObject=function(){var A={objId:hi(),content:""};return Jt.push(A),A},Rr=hi(),Xi=hi(),Mi=_.__private__.decodeColorString=function(A){var z=A.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var at=parseFloat(z[0]);z=[at,at,at,"r"]}for(var dt="#",wt=0;wt<3;wt++)dt+=("0"+Math.floor(255*parseFloat(z[wt])).toString(16)).slice(-2);return dt},Ti=_.__private__.encodeColorString=function(A){var z;typeof A=="string"&&(A={ch1:A});var at=A.ch1,dt=A.ch2,wt=A.ch3,jt=A.ch4,Yt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof at=="string"&&at.charAt(0)!=="#"){var ie=new UI(at);if(ie.ok)at=ie.toHex();else if(!/^\d*\.?\d*$/.test(at))throw new Error('Invalid color "'+at+'" passed to jsPDF.encodeColorString.')}if(typeof at=="string"&&/^#[0-9A-Fa-f]{3}$/.test(at)&&(at="#"+at[1]+at[1]+at[2]+at[2]+at[3]+at[3]),typeof at=="string"&&/^#[0-9A-Fa-f]{6}$/.test(at)){var m=parseInt(at.substr(1),16);at=m>>16&255,dt=m>>8&255,wt=255&m}if(dt===void 0||jt===void 0&&at===dt&&dt===wt)if(typeof at=="string")z=at+" "+Yt[0];else switch(A.precision){case 2:z=$(at/255)+" "+Yt[0];break;case 3:default:z=P(at/255)+" "+Yt[0]}else if(jt===void 0||qn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return z=["1.","1.","1.",Yt[1]].join(" ");if(typeof at=="string")z=[at,dt,wt,Yt[1]].join(" ");else switch(A.precision){case 2:z=[$(at/255),$(dt/255),$(wt/255),Yt[1]].join(" ");break;default:case 3:z=[P(at/255),P(dt/255),P(wt/255),Yt[1]].join(" ")}}else if(typeof at=="string")z=[at,dt,wt,jt,Yt[2]].join(" ");else switch(A.precision){case 2:z=[$(at),$(dt),$(wt),$(jt),Yt[2]].join(" ");break;case 3:default:z=[P(at),P(dt),P(wt),P(jt),Yt[2]].join(" ")}return z},ji=_.__private__.getFilters=function(){return o},Wn=_.__private__.putStream=function(A){var z=(A=A||{}).data||"",at=A.filters||ji(),dt=A.alreadyAppliedFilters||[],wt=A.addLength1||!1,jt=z.length,Yt=A.objectId,ie=function(Ce){return Ce};if(p!==null&&Yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ie=jn.encryptor(Yt,0));var m={};at===!0&&(at=["FlateEncode"]);var x=A.additionalKeyValues||[],k=(m=ke.API.processDataByFilters!==void 0?ke.API.processDataByFilters(z,at):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(m.data.length!==0&&(x.push({key:"Length",value:m.data.length}),wt===!0&&x.push({key:"Length1",value:jt})),k.length!=0)if(k.split("/").length-1==1)x.push({key:"Filter",value:k});else{x.push({key:"Filter",value:"["+k+"]"});for(var X=0;X<x.length;X+=1)if(x[X].key==="DecodeParms"){for(var bt=[],Lt=0;Lt<m.reverseChain.split("/").length-1;Lt+=1)bt.push("null");bt.push(x[X].value),x[X].value="["+bt.join(" ")+"]"}}lt("<<");for(var Kt=0;Kt<x.length;Kt++)lt("/"+x[Kt].key+" "+x[Kt].value);lt(">>"),m.data.length!==0&&(lt("stream"),lt(ie(m.data)),lt("endstream"))},Sn=_.__private__.putPage=function(A){var z=A.number,at=A.data,dt=A.objId,wt=A.contentsObjId;Ai(dt,!0),lt("<</Type /Page"),lt("/Parent "+A.rootDictionaryObjId+" 0 R"),lt("/Resources "+A.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(q(A.mediaBox.bottomLeftX))+" "+parseFloat(q(A.mediaBox.bottomLeftY))+" "+q(A.mediaBox.topRightX)+" "+q(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&lt("/CropBox ["+q(A.cropBox.bottomLeftX)+" "+q(A.cropBox.bottomLeftY)+" "+q(A.cropBox.topRightX)+" "+q(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&lt("/BleedBox ["+q(A.bleedBox.bottomLeftX)+" "+q(A.bleedBox.bottomLeftY)+" "+q(A.bleedBox.topRightX)+" "+q(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&lt("/TrimBox ["+q(A.trimBox.bottomLeftX)+" "+q(A.trimBox.bottomLeftY)+" "+q(A.trimBox.topRightX)+" "+q(A.trimBox.topRightY)+"]"),A.artBox!==null&&lt("/ArtBox ["+q(A.artBox.bottomLeftX)+" "+q(A.artBox.bottomLeftY)+" "+q(A.artBox.topRightX)+" "+q(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&lt("/UserUnit "+A.userUnit),un.publish("putPage",{objId:dt,pageContext:xe[z],pageNumber:z,page:at}),lt("/Contents "+wt+" 0 R"),lt(">>"),lt("endobj");var jt=at.join(`
`);return H===O.ADVANCED&&(jt+=`
Q`),Ai(wt,!0),Wn({data:jt,filters:ji(),objectId:wt}),lt("endobj"),dt},Zs=_.__private__.putPages=function(){var A,z,at=[];for(A=1;A<=Gn;A++)xe[A].objId=hi(),xe[A].contentsObjId=hi();for(A=1;A<=Gn;A++)at.push(Sn({number:A,data:Xt[A],objId:xe[A].objId,contentsObjId:xe[A].contentsObjId,mediaBox:xe[A].mediaBox,cropBox:xe[A].cropBox,bleedBox:xe[A].bleedBox,trimBox:xe[A].trimBox,artBox:xe[A].artBox,userUnit:xe[A].userUnit,rootDictionaryObjId:Rr,resourceDictionaryObjId:Xi}));Ai(Rr,!0),lt("<</Type /Pages");var dt="/Kids [";for(z=0;z<Gn;z++)dt+=at[z]+" 0 R ";lt(dt+"]"),lt("/Count "+Gn),lt(">>"),lt("endobj"),un.publish("postPutPages")},ta=function(A){un.publish("putFont",{font:A,out:lt,newObject:ii,putStream:Wn}),A.isAlreadyPutted!==!0&&(A.objectNumber=ii(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+qf(A.postScriptName)),lt("/Subtype /Type1"),typeof A.encoding=="string"&&lt("/Encoding /"+A.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},yr=function(){for(var A in Je)Je.hasOwnProperty(A)&&(v===!1||v===!0&&b.hasOwnProperty(A))&&ta(Je[A])},Gr=function(A){A.objectNumber=ii();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[q(A.x),q(A.y),q(A.x+A.width),q(A.y+A.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var at=A.pages[1].join(`
`);Wn({data:at,additionalKeyValues:z,objectId:A.objectNumber}),lt("endobj")},ro=function(){for(var A in ui)ui.hasOwnProperty(A)&&Gr(ui[A])},jl=function(A,z){var at,dt=[],wt=1/(z-1);for(at=0;at<1;at+=wt)dt.push(at);if(dt.push(1),A[0].offset!=0){var jt={offset:0,color:A[0].color};A.unshift(jt)}if(A[A.length-1].offset!=1){var Yt={offset:1,color:A[A.length-1].color};A.push(Yt)}for(var ie="",m=0,x=0;x<dt.length;x++){for(at=dt[x];at>A[m+1].offset;)m++;var k=A[m].offset,X=(at-k)/(A[m+1].offset-k),bt=A[m].color,Lt=A[m+1].color;ie+=ot(Math.round((1-X)*bt[0]+X*Lt[0]).toString(16))+ot(Math.round((1-X)*bt[1]+X*Lt[1]).toString(16))+ot(Math.round((1-X)*bt[2]+X*Lt[2]).toString(16))}return ie.trim()},so=function(A,z){z||(z=21);var at=ii(),dt=jl(A.colors,z),wt=[];wt.push({key:"FunctionType",value:"0"}),wt.push({key:"Domain",value:"[0.0 1.0]"}),wt.push({key:"Size",value:"["+z+"]"}),wt.push({key:"BitsPerSample",value:"8"}),wt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wn({data:dt,additionalKeyValues:wt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:at}),lt("endobj"),A.objectNumber=ii(),lt("<< /ShadingType "+A.type),lt("/ColorSpace /DeviceRGB");var jt="/Coords ["+q(parseFloat(A.coords[0]))+" "+q(parseFloat(A.coords[1]))+" ";A.type===2?jt+=q(parseFloat(A.coords[2]))+" "+q(parseFloat(A.coords[3])):jt+=q(parseFloat(A.coords[2]))+" "+q(parseFloat(A.coords[3]))+" "+q(parseFloat(A.coords[4]))+" "+q(parseFloat(A.coords[5])),lt(jt+="]"),A.matrix&&lt("/Matrix ["+A.matrix.toString()+"]"),lt("/Function "+at+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},Bc=function(A,z){var at=hi(),dt=ii();z.push({resourcesOid:at,objectOid:dt}),A.objectNumber=dt;var wt=[];wt.push({key:"Type",value:"/Pattern"}),wt.push({key:"PatternType",value:"1"}),wt.push({key:"PaintType",value:"1"}),wt.push({key:"TilingType",value:"1"}),wt.push({key:"BBox",value:"["+A.boundingBox.map(q).join(" ")+"]"}),wt.push({key:"XStep",value:q(A.xStep)}),wt.push({key:"YStep",value:q(A.yStep)}),wt.push({key:"Resources",value:at+" 0 R"}),A.matrix&&wt.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Wn({data:A.stream,additionalKeyValues:wt,objectId:A.objectNumber}),lt("endobj")},_s=function(A){var z;for(z in cn)cn.hasOwnProperty(z)&&(cn[z]instanceof Ph?so(cn[z]):cn[z]instanceof Gf&&Bc(cn[z],A))},bs=function(A){for(var z in A.objectNumber=ii(),lt("<<"),A)switch(z){case"opacity":lt("/ca "+$(A[z]));break;case"stroke-opacity":lt("/CA "+$(A[z]))}lt(">>"),lt("endobj")},Fi=function(){var A;for(A in Hn)Hn.hasOwnProperty(A)&&bs(Hn[A])},ea=function(){for(var A in lt("/XObject <<"),ui)ui.hasOwnProperty(A)&&ui[A].objectNumber>=0&&lt("/"+A+" "+ui[A].objectNumber+" 0 R");un.publish("putXobjectDict"),lt(">>")},Uc=function(){jn.oid=ii(),lt("<<"),lt("/Filter /Standard"),lt("/V "+jn.v),lt("/R "+jn.r),lt("/U <"+jn.toHexString(jn.U)+">"),lt("/O <"+jn.toHexString(jn.O)+">"),lt("/P "+jn.P),lt(">>"),lt("endobj")},Is=function(){for(var A in lt("/Font <<"),Je)Je.hasOwnProperty(A)&&(v===!1||v===!0&&b.hasOwnProperty(A))&&lt("/"+A+" "+Je[A].objectNumber+" 0 R");lt(">>")},Uo=function(){if(Object.keys(cn).length>0){for(var A in lt("/Shading <<"),cn)cn.hasOwnProperty(A)&&cn[A]instanceof Ph&&cn[A].objectNumber>=0&&lt("/"+A+" "+cn[A].objectNumber+" 0 R");un.publish("putShadingPatternDict"),lt(">>")}},na=function(A){if(Object.keys(cn).length>0){for(var z in lt("/Pattern <<"),cn)cn.hasOwnProperty(z)&&cn[z]instanceof _.TilingPattern&&cn[z].objectNumber>=0&&cn[z].objectNumber<A&&lt("/"+z+" "+cn[z].objectNumber+" 0 R");un.publish("putTilingPatternDict"),lt(">>")}},Fl=function(){if(Object.keys(Hn).length>0){var A;for(A in lt("/ExtGState <<"),Hn)Hn.hasOwnProperty(A)&&Hn[A].objectNumber>=0&&lt("/"+A+" "+Hn[A].objectNumber+" 0 R");un.publish("putGStateDict"),lt(">>")}},$n=function(A){Ai(A.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Is(),Uo(),na(A.objectOid),Fl(),ea(),lt(">>"),lt("endobj")},Qi=function(){var A=[];yr(),Fi(),ro(),_s(A),un.publish("putResources"),A.forEach($n),$n({resourcesOid:Xi,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},zo=function(){un.publish("putAdditionalObjects");for(var A=0;A<Jt.length;A++){var z=Jt[A];Ai(z.objId,!0),lt(z.content),lt("endobj")}un.publish("postPutAdditionalObjects")},zc=function(A){Cn[A.fontName]=Cn[A.fontName]||{},Cn[A.fontName][A.fontStyle]=A.id},Ea=function(A,z,at,dt,wt){var jt={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:A,fontName:z,fontStyle:at,encoding:dt,isStandardFont:wt||!1,metadata:{}};return un.publish("addFont",{font:jt,instance:this}),Je[jt.id]=jt,zc(jt),jt.id},Vl=function(A){for(var z=0,at=Qt.length;z<at;z++){var dt=Ea.call(this,A[z][0],A[z][1],A[z][2],Qt[z][3],!0);v===!1&&(b[dt]=!0);var wt=A[z][0].split("-");zc({id:dt,fontName:wt[0],fontStyle:wt[1]||""})}un.publish("addFonts",{fonts:Je,dictionary:Cn})},cr=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(dt){var z=dt.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var at="Error in function "+z.split(`
`)[0].split("<")[0]+": "+dt.message;if(!Oe.console)throw new Error(at);Oe.console.error(at,dt),Oe.alert&&alert(at)}},A.foo.bar=A,A.foo},qo=function(A,z){var at,dt,wt,jt,Yt,ie,m,x,k;if(wt=(z=z||{}).sourceEncoding||"Unicode",Yt=z.outputEncoding,(z.autoencode||Yt)&&Je[We].metadata&&Je[We].metadata[wt]&&Je[We].metadata[wt].encoding&&(jt=Je[We].metadata[wt].encoding,!Yt&&Je[We].encoding&&(Yt=Je[We].encoding),!Yt&&jt.codePages&&(Yt=jt.codePages[0]),typeof Yt=="string"&&(Yt=jt[Yt]),Yt)){for(m=!1,ie=[],at=0,dt=A.length;at<dt;at++)(x=Yt[A.charCodeAt(at)])?ie.push(String.fromCharCode(x)):ie.push(A[at]),ie[at].charCodeAt(0)>>8&&(m=!0);A=ie.join("")}for(at=A.length;m===void 0&&at!==0;)A.charCodeAt(at-1)>>8&&(m=!0),at--;if(!m)return A;for(ie=z.noBOM?[]:[254,255],at=0,dt=A.length;at<dt;at++){if((k=(x=A.charCodeAt(at))>>8)>>8)throw new Error("Character at position "+at+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(k),ie.push(x-(k<<8))}return String.fromCharCode.apply(void 0,ie)},gn=_.__private__.pdfEscape=_.pdfEscape=function(A,z){return qo(A,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ur=_.__private__.beginPage=function(A){Xt[++Gn]=[],xe[Gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Cs(Gn),Ft(Xt[Y])},Na=function(A,z){var at,dt,wt;switch(e=z||e,typeof A=="string"&&(at=C(A.toLowerCase()),Array.isArray(at)&&(dt=at[0],wt=at[1])),Array.isArray(A)&&(dt=A[0]*oe,wt=A[1]*oe),isNaN(dt)&&(dt=r[0],wt=r[1]),(dt>14400||wt>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),wt=Math.min(14400,wt)),r=[dt,wt],e.substr(0,1)){case"l":wt>dt&&(r=[wt,dt]);break;case"p":dt>wt&&(r=[wt,dt])}ur(r),ql(La),lt(hr),Hl!==0&&lt(Hl+" J"),co!==0&&lt(co+" j"),un.publish("addPage",{pageNumber:Gn})},Ia=function(A){A>0&&A<=Gn&&(Xt.splice(A,1),xe.splice(A,1),Gn--,Y>Gn&&(Y=Gn),this.setPage(Y))},Cs=function(A){A>0&&A<=Gn&&(Y=A)},An=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Xt.length-1},Ca=function(A,z,at){var dt,wt=void 0;return at=at||{},A=A!==void 0?A:Je[We].fontName,z=z!==void 0?z:Je[We].fontStyle,dt=A.toLowerCase(),Cn[dt]!==void 0&&Cn[dt][z]!==void 0?wt=Cn[dt][z]:Cn[A]!==void 0&&Cn[A][z]!==void 0?wt=Cn[A][z]:at.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+A+"', '"+z+"'. Refer to getFontList() for available fonts."),wt||at.noFallback||(wt=Cn.times[z])==null&&(wt=Cn.times.normal),wt},Wr=_.__private__.putInfo=function(){var A=ii(),z=function(dt){return dt};for(var at in p!==null&&(z=jn.encryptor(A,0)),lt("<<"),lt("/Producer ("+gn(z("jsPDF "+ke.version))+")"),de)de.hasOwnProperty(at)&&de[at]&&lt("/"+at.substr(0,1).toUpperCase()+at.substr(1)+" ("+gn(z(de[at]))+")");lt("/CreationDate ("+gn(z(pt))+")"),lt(">>"),lt("endobj")},ia=_.__private__.putCatalog=function(A){var z=(A=A||{}).rootDictionaryObjId||Rr;switch(ii(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+z+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var at=""+se;at.substr(at.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+$(se)+"]")}switch(be||(be="continuous"),be){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}Le&&lt("/PageMode /"+Le),un.publish("putCatalog"),lt(">>"),lt("endobj")},qc=_.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(ct+1)),lt("/Root "+ct+" 0 R"),lt("/Info "+(ct-1)+" 0 R"),p!==null&&lt("/Encrypt "+jn.oid+" 0 R"),lt("/ID [ <"+rt+"> <"+rt+"> ]"),lt(">>")},Bl=_.__private__.putHeader=function(){lt("%PDF-"+E),lt("%")},Ul=_.__private__.putXRef=function(){var A="0000000000";lt("xref"),lt("0 "+(ct+1)),lt("0000000000 65535 f ");for(var z=1;z<=ct;z++)typeof Nt[z]=="function"?lt((A+Nt[z]()).slice(-10)+" 00000 n "):Nt[z]!==void 0?lt((A+Nt[z]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},ra=_.__private__.buildDocument=function(){Se(),Ft(Et),un.publish("buildDocument"),Bl(),Zs(),zo(),Qi(),p!==null&&Uc(),Wr(),ia();var A=kt;return Ul(),qc(),lt("startxref"),lt(""+A),lt("%%EOF"),Ft(Xt[Y]),Et.join(`
`)},Ho=_.__private__.getBlob=function(A){return new Blob([fe(A)],{type:"application/pdf"})},sa=_.output=_.__private__.output=cr(function(A,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",A){case void 0:return ra();case"save":_.save(z.filename);break;case"arraybuffer":return fe(ra());case"blob":return Ho(ra());case"bloburi":case"bloburl":if(Oe.URL!==void 0&&typeof Oe.URL.createObjectURL=="function")return Oe.URL&&Oe.URL.createObjectURL(Ho(ra()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var at="",dt=ra();try{at=Z2(dt)}catch{at=Z2(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+z.filename+";base64,"+at;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Oe)==="[object Window]"){var wt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(wt=z.pdfObjectUrl,jt="");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+wt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ie=Oe.open();return ie!==null&&ie.document.write(Yt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Oe)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',x=Oe.open();if(x!==null){x.document.write(m);var k=this;x.document.documentElement.querySelector("#pdfViewer").onload=function(){x.document.title=z.filename,x.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return x}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Oe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',bt=Oe.open();if(bt!==null&&(bt.document.write(X),bt.document.title=z.filename),bt||typeof safari>"u")return bt;break;case"datauri":case"dataurl":return Oe.document.location.href=this.output("datauristring",z);default:return null}}),Rs=function(A){return Array.isArray(Hr)===!0&&Hr.indexOf(A)>-1};switch(i){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=Rs("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);oe=i}var jn=null;At(),ft();var aa=function(A){return p!==null?jn.encryptor(A,0):function(z){return z}},Ls=_.__private__.getPageInfo=_.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[A].objId,pageNumber:A,pageContext:xe[A]}},Ie=_.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in xe)if(xe[z].objId===A)break;return Ls(z)},Ps=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:xe[Y].objId,pageNumber:Y,pageContext:xe[Y]}};_.addPage=function(){return Na.apply(this,arguments),this},_.setPage=function(){return Cs.apply(this,arguments),Ft.call(this,Xt[Y]),this},_.insertPage=function(A){return this.addPage(),this.movePage(Y,A),this},_.movePage=function(A,z){var at,dt;if(A>z){at=Xt[A],dt=xe[A];for(var wt=A;wt>z;wt--)Xt[wt]=Xt[wt-1],xe[wt]=xe[wt-1];Xt[z]=at,xe[z]=dt,this.setPage(z)}else if(A<z){at=Xt[A],dt=xe[A];for(var jt=A;jt<z;jt++)Xt[jt]=Xt[jt+1],xe[jt]=xe[jt+1];Xt[z]=at,xe[z]=dt,this.setPage(z)}return this},_.deletePage=function(){return Ia.apply(this,arguments),this},_.__private__.text=_.text=function(A,z,at,dt,wt){var jt,Yt,ie,m,x,k,X,bt,Lt,Kt=(dt=dt||{}).scope||this;if(typeof A=="number"&&typeof z=="number"&&(typeof at=="string"||Array.isArray(at))){var Ce=at;at=z,z=A,A=Ce}if(arguments[3]instanceof le?(L("The transform parameter of text() with a Matrix value"),Lt=wt):(ie=arguments[4],m=arguments[5],qn(X=arguments[3])==="object"&&X!==null||(typeof ie=="string"&&(m=ie,ie=null),typeof X=="string"&&(m=X,X=null),typeof X=="number"&&(ie=X,X=null),dt={flags:X,angle:ie,align:m})),isNaN(z)||isNaN(at)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Kt;var rn="",Be=!1,Tn=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:nn,Pn=Kt.internal.scaleFactor;function Ms(Ze){return Ze=Ze.split("	").join(Array(dt.TabLen||9).join(" ")),gn(Ze,X)}function mi(Ze){for(var tn,Yn=Ze.concat(),vi=[],Fs=Yn.length;Fs--;)typeof(tn=Yn.shift())=="string"?vi.push(tn):Array.isArray(Ze)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?vi.push(tn[0]):vi.push([tn[0],tn[1],tn[2]]);return vi}function Xr(Ze,tn){var Yn;if(typeof Ze=="string")Yn=tn(Ze)[0];else if(Array.isArray(Ze)){for(var vi,Fs,rl=Ze.concat(),sl=[],mo=rl.length;mo--;)typeof(vi=rl.shift())=="string"?sl.push(tn(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(Fs=tn(vi[0],vi[1],vi[2]),sl.push([Fs[0],Fs[1],Fs[2]]));Yn=sl}return Yn}var ja=!1,Ko=!0;if(typeof A=="string")ja=!0;else if(Array.isArray(A)){var $c=A.concat();Yt=[];for(var Gl,Vi=$c.length;Vi--;)(typeof(Gl=$c.shift())!="string"||Array.isArray(Gl)&&typeof Gl[0]!="string")&&(Ko=!1);ja=Ko}if(ja===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Xo=Zt/Kt.internal.scaleFactor,Wl=Xo*(Tn-1);switch(dt.baseline){case"bottom":at-=Wl;break;case"top":at+=Xo-Wl;break;case"hanging":at+=Xo-2*Wl;break;case"middle":at+=Xo/2-Wl}if((k=dt.maxWidth||0)>0&&(typeof A=="string"?A=Kt.splitTextToSize(A,k):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Ze,tn){return Ze.concat(Kt.splitTextToSize(tn,k))},[]))),jt={text:A,x:z,y:at,options:dt,mutex:{pdfEscape:gn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("preProcessText",jt),A=jt.text,ie=(dt=jt.options).angle,!(Lt instanceof le)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),H===O.ADVANCED&&(ie=-ie);var $l=Math.cos(ie),Yc=Math.sin(ie);Lt=new le($l,Yc,-Yc,$l,0,0)}else ie&&ie instanceof le&&(Lt=ie);H!==O.ADVANCED||Lt||(Lt=Ln),(x=dt.charSpace||lo)!==void 0&&(rn+=q(D(x))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(bt=dt.horizontalScale)!==void 0&&(rn+=q(100*bt)+` Tz
`),dt.lang;var Qr=-1,Ed=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,ih=Kt.internal.getCurrentPageInfo().pageContext;switch(Ed){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var sf=ih.usedRenderingMode!==void 0?ih.usedRenderingMode:-1;Qr!==-1?rn+=Qr+` Tr
`:sf!==-1&&(rn+=`0 Tr
`),Qr!==-1&&(ih.usedRenderingMode=Qr),m=dt.align||"left";var js,Ji=Zt*Tn,Qo=Kt.internal.pageSize.getWidth(),rh=Je[We];x=dt.charSpace||lo,k=dt.maxWidth||0,X=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var po=[],Jo=function(Ze){return Kt.getStringUnitWidth(Ze,{font:rh,charSpace:x,fontSize:Zt,doKerning:!1})*Zt/Pn};if(Object.prototype.toString.call(A)==="[object Array]"){var Pr;Yt=mi(A),m!=="left"&&(js=Yt.map(Jo));var fr,Zo=0;if(m==="right"){z-=js[0],A=[],Vi=Yt.length;for(var Jr=0;Jr<Vi;Jr++)Jr===0?(fr=wr(z),Pr=Ei(at)):(fr=D(Zo-js[Jr]),Pr=-Ji),A.push([Yt[Jr],fr,Pr]),Zo=js[Jr]}else if(m==="center"){z-=js[0]/2,A=[],Vi=Yt.length;for(var ua=0;ua<Vi;ua++)ua===0?(fr=wr(z),Pr=Ei(at)):(fr=D((Zo-js[ua])/2),Pr=-Ji),A.push([Yt[ua],fr,Pr]),Zo=js[ua]}else if(m==="left"){A=[],Vi=Yt.length;for(var Fa=0;Fa<Vi;Fa++)A.push(Yt[Fa])}else if(m==="justify"&&rh.encoding==="Identity-H"){A=[],Vi=Yt.length,k=k!==0?k:Qo;for(var ha=0,fi=0;fi<Vi;fi++)if(Pr=fi===0?Ei(at):-Ji,fr=fi===0?wr(z):ha,fi<Vi-1){var fa=D((k-js[fi])/(Yt[fi].split(" ").length-1)),Ni=Yt[fi].split(" ");A.push([Ni[0]+" ",fr,Pr]),ha=0;for(var Zr=1;Zr<Ni.length;Zr++){var Yl=(Jo(Ni[Zr-1]+" "+Ni[Zr])-Jo(Ni[Zr]))*Pn+fa;Zr==Ni.length-1?A.push([Ni[Zr],Yl,0]):A.push([Ni[Zr]+" ",Yl,0]),ha-=Yl}}else A.push([Yt[fi],fr,Pr]);A.push(["",ha,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Vi=Yt.length,k=k!==0?k:Qo,fi=0;fi<Vi;fi++)Pr=fi===0?Ei(at):-Ji,fr=fi===0?wr(z):0,fi<Vi-1?po.push(q(D((k-js[fi])/(Yt[fi].split(" ").length-1)))):po.push(0),A.push([Yt[fi],fr,Pr])}}var Va=typeof dt.R2L=="boolean"?dt.R2L:_e;Va===!0&&(A=Xr(A,function(Ze,tn,Yn){return[Ze.split("").reverse().join(""),tn,Yn]})),jt={text:A,x:z,y:at,options:dt,mutex:{pdfEscape:gn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("postProcessText",jt),A=jt.text,Be=jt.mutex.isHex||!1;var Kc=Je[We].encoding;Kc!=="WinAnsiEncoding"&&Kc!=="StandardEncoding"||(A=Xr(A,function(Ze,tn,Yn){return[Ms(Ze),tn,Yn]})),Yt=mi(A),A=[];for(var tl,el,nl,Kl=0,Xc=1,il=Array.isArray(Yt[0])?Xc:Kl,go="",Xl=function(Ze,tn,Yn){var vi="";return Yn instanceof le?(Yn=typeof dt.angle=="number"?Rn(Yn,new le(1,0,0,1,Ze,tn)):Rn(new le(1,0,0,1,Ze,tn),Yn),H===O.ADVANCED&&(Yn=Rn(new le(1,0,0,-1,0,0),Yn)),vi=Yn.join(" ")+` Tm
`):vi=q(Ze)+" "+q(tn)+` Td
`,vi},di=0;di<Yt.length;di++){switch(go="",il){case Xc:nl=(Be?"<":"(")+Yt[di][0]+(Be?">":")"),tl=parseFloat(Yt[di][1]),el=parseFloat(Yt[di][2]);break;case Kl:nl=(Be?"<":"(")+Yt[di]+(Be?">":")"),tl=wr(z),el=Ei(at)}po!==void 0&&po[di]!==void 0&&(go=po[di]+` Tw
`),di===0?A.push(go+Xl(tl,el,Lt)+nl):il===Kl?A.push(go+nl):il===Xc&&A.push(go+Xl(tl,el,Lt)+nl)}A=il===Kl?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ss=`BT
/`;return Ss+=We+" "+Zt+` Tf
`,Ss+=q(Zt*Tn)+` TL
`,Ss+=la+`
`,Ss+=rn,Ss+=A,lt(Ss+="ET"),b[We]=!0,Kt};var Hc=_.__private__.clip=_.clip=function(A){return lt(A==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Hc("evenodd")},_.__private__.discardPath=_.discardPath=function(){return lt("n"),this};var _r=_.__private__.isValidStyle=function(A){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(z=!0),z};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(A){return _r(A)&&(f=A),this};var $r=_.__private__.getStyle=_.getStyle=function(A){var z=f;switch(A){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=A}return z},Lr=_.close=function(){return lt("h"),this};_.stroke=function(){return lt("S"),this},_.fill=function(A){return ks("f",A),this},_.fillEvenOdd=function(A){return ks("f*",A),this},_.fillStroke=function(A){return ks("B",A),this},_.fillStrokeEvenOdd=function(A){return ks("B*",A),this};var ks=function(A,z){qn(z)==="object"?oa(z,A):lt(A)},Yr=function(A){A===null||H===O.ADVANCED&&A===void 0||(A=$r(A),lt(A))};function Ra(A,z,at,dt,wt){var jt=new Gf(z||this.boundingBox,at||this.xStep,dt||this.yStep,this.gState,wt||this.matrix);jt.stream=this.stream;var Yt=A+"$$"+this.cloneIndex+++"$$";return Qn(Yt,jt),jt}var oa=function(A,z){var at=Js[A.key],dt=cn[at];if(dt instanceof Ph)lt("q"),lt(zl(z)),dt.gState&&_.setGState(dt.gState),lt(A.matrix.toString()+" cm"),lt("/"+at+" sh"),lt("Q");else if(dt instanceof Gf){var wt=new le(1,0,0,-1,0,Sr());A.matrix&&(wt=wt.multiply(A.matrix||Ln),at=Ra.call(dt,A.key,A.boundingBox,A.xStep,A.yStep,wt).id),lt("q"),lt("/Pattern cs"),lt("/"+at+" scn"),dt.gState&&_.setGState(dt.gState),lt(z),lt("Q")}},zl=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Kr=_.moveTo=function(A,z){return lt(q(D(A))+" "+q(tt(z))+" m"),this},br=_.lineTo=function(A,z){return lt(q(D(A))+" "+q(tt(z))+" l"),this},Ds=_.curveTo=function(A,z,at,dt,wt,jt){return lt([q(D(A)),q(tt(z)),q(D(at)),q(tt(dt)),q(D(wt)),q(tt(jt)),"c"].join(" ")),this};_.__private__.line=_.line=function(A,z,at,dt,wt){if(isNaN(A)||isNaN(z)||isNaN(at)||isNaN(dt)||!_r(wt))throw new Error("Invalid arguments passed to jsPDF.line");return H===O.COMPAT?this.lines([[at-A,dt-z]],A,z,[1,1],wt||"S"):this.lines([[at-A,dt-z]],A,z,[1,1]).stroke()},_.__private__.lines=_.lines=function(A,z,at,dt,wt,jt){var Yt,ie,m,x,k,X,bt,Lt,Kt,Ce,rn,Be;if(typeof A=="number"&&(Be=at,at=z,z=A,A=Be),dt=dt||[1,1],jt=jt||!1,isNaN(z)||isNaN(at)||!Array.isArray(A)||!Array.isArray(dt)||!_r(wt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kr(z,at),Yt=dt[0],ie=dt[1],x=A.length,Ce=z,rn=at,m=0;m<x;m++)(k=A[m]).length===2?(Ce=k[0]*Yt+Ce,rn=k[1]*ie+rn,br(Ce,rn)):(X=k[0]*Yt+Ce,bt=k[1]*ie+rn,Lt=k[2]*Yt+Ce,Kt=k[3]*ie+rn,Ce=k[4]*Yt+Ce,rn=k[5]*ie+rn,Ds(X,bt,Lt,Kt,Ce,rn));return jt&&Lr(),Yr(wt),this},_.path=function(A){for(var z=0;z<A.length;z++){var at=A[z],dt=at.c;switch(at.op){case"m":Kr(dt[0],dt[1]);break;case"l":br(dt[0],dt[1]);break;case"c":Ds.apply(this,dt);break;case"h":Lr()}}return this},_.__private__.rect=_.rect=function(A,z,at,dt,wt){if(isNaN(A)||isNaN(z)||isNaN(at)||isNaN(dt)||!_r(wt))throw new Error("Invalid arguments passed to jsPDF.rect");return H===O.COMPAT&&(dt=-dt),lt([q(D(A)),q(tt(z)),q(D(at)),q(D(dt)),"re"].join(" ")),Yr(wt),this},_.__private__.triangle=_.triangle=function(A,z,at,dt,wt,jt,Yt){if(isNaN(A)||isNaN(z)||isNaN(at)||isNaN(dt)||isNaN(wt)||isNaN(jt)||!_r(Yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[at-A,dt-z],[wt-at,jt-dt],[A-wt,z-jt]],A,z,[1,1],Yt,!0),this},_.__private__.roundedRect=_.roundedRect=function(A,z,at,dt,wt,jt,Yt){if(isNaN(A)||isNaN(z)||isNaN(at)||isNaN(dt)||isNaN(wt)||isNaN(jt)||!_r(Yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return wt=Math.min(wt,.5*at),jt=Math.min(jt,.5*dt),this.lines([[at-2*wt,0],[wt*ie,0,wt,jt-jt*ie,wt,jt],[0,dt-2*jt],[0,jt*ie,-wt*ie,jt,-wt,jt],[2*wt-at,0],[-wt*ie,0,-wt,-jt*ie,-wt,-jt],[0,2*jt-dt],[0,-jt*ie,wt*ie,-jt,wt,-jt]],A+wt,z,[1,1],Yt,!0),this},_.__private__.ellipse=_.ellipse=function(A,z,at,dt,wt){if(isNaN(A)||isNaN(z)||isNaN(at)||isNaN(dt)||!_r(wt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*at,Yt=4/3*(Math.SQRT2-1)*dt;return Kr(A+at,z),Ds(A+at,z-Yt,A+jt,z-dt,A,z-dt),Ds(A-jt,z-dt,A-at,z-Yt,A-at,z),Ds(A-at,z+Yt,A-jt,z+dt,A,z+dt),Ds(A+jt,z+dt,A+at,z+Yt,A+at,z),Yr(wt),this},_.__private__.circle=_.circle=function(A,z,at,dt){if(isNaN(A)||isNaN(z)||isNaN(at)||!_r(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,z,at,at,dt)},_.setFont=function(A,z,at){return at&&(z=gt(z,at)),We=Ca(A,z,{disableWarning:!1}),this};var xi=_.__private__.getFont=_.getFont=function(){return Je[Ca.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var A,z,at={};for(A in Cn)if(Cn.hasOwnProperty(A))for(z in at[A]=[],Cn[A])Cn[A].hasOwnProperty(z)&&at[A].push(z);return at},_.addFont=function(A,z,at,dt,wt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?wt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(at=gt(at,dt)),wt=wt||"Identity-H",Ea.call(this,A,z,at,wt)};var nn,La=n.lineWidth||.200025,Os=_.__private__.getLineWidth=_.getLineWidth=function(){return La},ql=_.__private__.setLineWidth=_.setLineWidth=function(A){return La=A,lt(q(D(A))+" w"),this};_.__private__.setLineDash=ke.API.setLineDash=ke.API.setLineDashPattern=function(A,z){if(A=A||[],z=z||0,isNaN(z)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(at){return q(D(at))}).join(" "),z=q(D(z)),lt("["+A+"] "+z+" d"),this};var ao=_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};var oo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(nn=A),this},ws=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return nn};oo(n.lineHeight);var wr=_.__private__.getHorizontalCoordinate=function(A){return D(A)},Ei=_.__private__.getVerticalCoordinate=function(A){return H===O.ADVANCED?A:xe[Y].mediaBox.topRightY-xe[Y].mediaBox.bottomLeftY-D(A)},Gc=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(A){return q(wr(A))},Pa=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(A){return q(Ei(A))},hr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Mi(hr)},_.__private__.setStrokeColor=_.setDrawColor=function(A,z,at,dt){return hr=Ti({ch1:A,ch2:z,ch3:at,ch4:dt,pdfColorType:"draw",precision:2}),lt(hr),this};var ka=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Mi(ka)},_.__private__.setFillColor=_.setFillColor=function(A,z,at,dt){return ka=Ti({ch1:A,ch2:z,ch3:at,ch4:dt,pdfColorType:"fill",precision:2}),lt(ka),this};var la=n.textColor||"0 g",Go=_.__private__.getTextColor=_.getTextColor=function(){return Mi(la)};_.__private__.setTextColor=_.setTextColor=function(A,z,at,dt){return la=Ti({ch1:A,ch2:z,ch3:at,ch4:dt,pdfColorType:"text",precision:3}),this};var lo=n.charSpace,Wo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(lo||0)};_.__private__.setCharSpace=_.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lo=A,this};var Hl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(A){var z=_.CapJoinStyles[A];if(z===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hl=z,lt(z+" J"),this};var co=0;_.__private__.setLineJoin=_.setLineJoin=function(A){var z=_.CapJoinStyles[A];if(z===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=z,lt(z+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(q(D(A))+" M"),this},_.GState=Y0,_.setGState=function(A){(A=typeof A=="string"?Hn[Oi[A]]:Da(null,A)).equals(or)||(lt("/"+A.id+" gs"),or=A)};var Da=function(A,z){if(!A||!Oi[A]){var at=!1;for(var dt in Hn)if(Hn.hasOwnProperty(dt)&&Hn[dt].equals(z)){at=!0;break}if(at)z=Hn[dt];else{var wt="GS"+(Object.keys(Hn).length+1).toString(10);Hn[wt]=z,z.id=wt}return A&&(Oi[A]=z.id),un.publish("addGState",z),z}};_.addGState=function(A,z){return Da(A,z),this},_.saveGraphicsState=function(){return lt("q"),vr.push({key:We,size:Zt,color:la}),this},_.restoreGraphicsState=function(){lt("Q");var A=vr.pop();return We=A.key,Zt=A.size,la=A.color,or=null,this},_.setCurrentTransformationMatrix=function(A){return lt(A.toString()+" cm"),this},_.comment=function(A){return lt("#"+A),this};var uo=function(A,z){var at=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return at},set:function(jt){isNaN(jt)||(at=parseFloat(jt))}});var dt=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(jt){isNaN(jt)||(dt=parseFloat(jt))}});var wt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return wt},set:function(jt){wt=jt.toString()}}),this},$o=function(A,z,at,dt){uo.call(this,A,z),this.type="rect";var wt=at||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return wt},set:function(Yt){isNaN(Yt)||(wt=parseFloat(Yt))}});var jt=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Yt){isNaN(Yt)||(jt=parseFloat(Yt))}}),this},ho=function(){this.page=Gn,this.currentPage=Y,this.pages=Xt.slice(0),this.pagesContext=xe.slice(0),this.x=ci,this.y=Ke,this.matrix=ar,this.width=Ma(Y),this.height=Sr(Y),this.outputDestination=te,this.id="",this.objectNumber=-1};ho.prototype.restore=function(){Gn=this.page,Y=this.currentPage,xe=this.pagesContext,Xt=this.pages,ci=this.x,Ke=this.y,ar=this.matrix,fo(Y,this.width),Yo(Y,this.height),te=this.outputDestination};var Oa=function(A,z,at,dt,wt){ys.push(new ho),Gn=Y=0,Xt=[],ci=A,Ke=z,ar=wt,ur([at,dt])},Wc=function(A){if(lr[A])ys.pop().restore();else{var z=new ho,at="Xo"+(Object.keys(ui).length+1).toString(10);z.id=at,lr[A]=at,ui[at]=z,un.publish("addFormObject",z),ys.pop().restore()}};for(var ca in _.beginFormObject=function(A,z,at,dt,wt){return Oa(A,z,at,dt,wt),this},_.endFormObject=function(A){return Wc(A),this},_.doFormObject=function(A,z){var at=ui[lr[A]];return lt("q"),lt(z.toString()+" cm"),lt("/"+at.id+" Do"),lt("Q"),this},_.getFormObject=function(A){var z=ui[lr[A]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},_.save=function(A,z){return A=A||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Ch(Ho(ra()),A),typeof Ch.unload=="function"&&Oe.setTimeout&&setTimeout(Ch.unload,911),this):new Promise(function(at,dt){try{var wt=Ch(Ho(ra()),A);typeof Ch.unload=="function"&&Oe.setTimeout&&setTimeout(Ch.unload,911),at(wt)}catch(jt){dt(jt.message)}})},ke.API)ke.API.hasOwnProperty(ca)&&(ca==="events"&&ke.API.events.length?function(A,z){var at,dt,wt;for(wt=z.length-1;wt!==-1;wt--)at=z[wt][0],dt=z[wt][1],A.subscribe.apply(A,[at].concat(typeof dt=="function"?[dt]:dt))}(un,ke.API.events):_[ca]=ke.API[ca]);var Ma=_.getPageWidth=function(A){return(xe[A=A||Y].mediaBox.topRightX-xe[A].mediaBox.bottomLeftX)/oe},fo=_.setPageWidth=function(A,z){xe[A].mediaBox.topRightX=z*oe+xe[A].mediaBox.bottomLeftX},Sr=_.getPageHeight=function(A){return(xe[A=A||Y].mediaBox.topRightY-xe[A].mediaBox.bottomLeftY)/oe},Yo=_.setPageHeight=function(A,z){xe[A].mediaBox.topRightY=z*oe+xe[A].mediaBox.bottomLeftY};return _.internal={pdfEscape:gn,getStyle:$r,getFont:xi,getFontSize:ae,getCharSpace:Wo,getTextColor:Go,getLineHeight:ao,getLineHeightFactor:ws,getLineWidth:Os,write:Te,getHorizontalCoordinate:wr,getVerticalCoordinate:Ei,getCoordinateString:Gc,getVerticalCoordinateString:Pa,collections:{},newObject:ii,newAdditionalObject:io,newObjectDeferred:hi,newObjectDeferredBegin:Ai,getFilters:ji,putStream:Wn,events:un,scaleFactor:oe,pageSize:{getWidth:function(){return Ma(Y)},setWidth:function(A){fo(Y,A)},getHeight:function(){return Sr(Y)},setHeight:function(A){Yo(Y,A)}},encryptionOptions:p,encryption:jn,getEncryptor:aa,output:sa,getNumberOfPages:An,pages:Xt,out:lt,f2:$,f3:P,getPageInfo:Ls,getPageInfoByObjId:Ie,getCurrentPageInfo:Ps,getPDFVersion:N,Point:uo,Rectangle:$o,Matrix:le,hasHotfix:Rs},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ma(Y)},set:function(A){fo(Y,A)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Sr(Y)},set:function(A){Yo(Y,A)},enumerable:!0,configurable:!0}),Vl.call(_,Qt),We="F1",Na(r,e),un.publish("initialized"),_}zf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},zf.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zf.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},zf.prototype.processOwnerPassword=function(n,t){return e_(t_(t).substr(0,5),n)},zf.prototype.encryptor=function(n,t){var e=t_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return e_(e,i)}},Y0.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||qn(n)!==qn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},ke.API={events:[]},ke.version="3.0.1";var Li=ke.API,Xb=1,nf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Df=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qe=function(n){return n.toFixed(2)},Tu=function(n){return n.toFixed(5)};Li.__acroform__={};var Qs=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},WT=function(n){return n*Xb},_l=function(n){var t=new GI,e=ge.internal.getHeight(n)||0,i=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(qe(i)),Number(qe(e))],t},zB=Li.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},qB=Li.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},HB=Li.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Wi=Li.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HB(n,t-1)},$i=Li.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zB(n,t-1)},Yi=Li.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qB(n,t-1)},GB=Li.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=i(s+c)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=i(s)||0,[Number(qe(u.lowerLeft_X)),Number(qe(u.lowerLeft_Y)),Number(qe(u.upperRight_X)),Number(qe(u.upperRight_Y))]},WB=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=n_(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+qe(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=_l(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},n_=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(P){return P.split(`
`)}):r.map(function(P){return[P]});var s=e,o=ge.internal.getHeight(n)||0;o=o<0?-o:o;var c=ge.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(P,D,j){if(P+1<r.length){var tt=D+" "+r[P+1][0];return Bm(tt,n,j).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var f,p,v=Bm("3",n,s).height,b=n.multiline?o-s:(o-v)/2,_=b+=2,E=0,N=0,I=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bm(t,n,s=12).width+", FieldWidth:"+c+`
`;break}for(var C="",O=0,H=0;H<r.length;H++)if(r.hasOwnProperty(H)){var nt=!1;if(r[H].length!==1&&I!==r[H].length-1){if((v+2)*(O+2)+2>o)continue t;C+=r[H][I],nt=!0,N=H,H--}else{C=(C+=r[H][I]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var it=parseInt(H),gt=u(it,C,s),q=H>=r.length-1;if(gt&&!q){C+=" ",I=0;continue}if(gt||q){if(q)N=it;else if(n.multiline&&(v+2)*(O+2)+2>o)continue t}else{if(!n.multiline||(v+2)*(O+2)+2>o)continue t;N=it}}for(var L="",V=E;V<=N;V++){var $=r[V];if(n.multiline){if(V===N){L+=$[I]+" ",I=(I+1)%$.length;continue}if(V===E){L+=$[$.length-1]+" ";continue}}L+=$[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,p=Bm(L,n,s).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}t+=qe(f)+" "+qe(_)+` Td
`,t+="("+nf(L)+`) Tj
`,t+=-qe(f)+` 0 Td
`,_=-(s+2),p=0,E=nt?N:N+1,O++,C=""}break}return i.text=t,i.fontSize=s,i},Bm=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},$B={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YB=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},KB=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),qn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},XB=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify($B)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new WI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&YB(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=GB(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ge.createDefaultAppearanceStream(c),qn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=WB(c);u.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var _=c.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var o in _)if(_.hasOwnProperty(o)){var E=_[o];typeof E=="function"&&(E=E.call(r,c)),v+="/"+o+" "+E+" ",r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E)}}else typeof(E=_)=="function"&&(E=E.call(r,c)),v+="/"+o+" "+E,r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}s&&KB(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},HI=Li.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),qn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+nf(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gy=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+nf(i(n))+")"},Tl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tl.prototype.toString=function(){return this.objId+" 0 R"},Tl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Tl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:HI(r,this.objId,this.scope)}):r instanceof Tl?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var GI=function(){Tl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Qs(GI,Tl);var WI=function(){Tl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+nf(e(n))+")"}},set:function(e){n=e}})};Qs(WI,Tl);var Vo=function n(){Tl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wi(t,3)},set:function(C){C?this.F=$i(t,3):this.F=Yi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');e=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof K0)return;s="FieldObject"+n.FieldNum++}var C=function(O){return O};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+nf(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Xb:f},set:function(C){f=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof K0||this instanceof Uh))return Gy(v,this.objId,this.scope)},set:function(C){C=C.toString(),v=C}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ir?b:Gy(b,this.objId,this.scope)},set:function(C){C=C.toString(),b=this instanceof Ir?C:C.substr(0,1)==="("?Df(C.substr(1,C.length-2)):Df(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Df(b.substr(1,b.length-1)):b},set:function(C){C=C.toString(),b=this instanceof Ir?"/"+C:C}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ir?_:Gy(_,this.objId,this.scope)},set:function(C){C=C.toString(),_=this instanceof Ir?C:C.substr(0,1)==="("?Df(C.substr(1,C.length-2)):Df(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Df(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof Ir?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(C){E=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,1)},set:function(C){C?this.Ff=$i(this.Ff,1):this.Ff=Yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,2)},set:function(C){C?this.Ff=$i(this.Ff,2):this.Ff=Yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,3)},set:function(C){C?this.Ff=$i(this.Ff,3):this.Ff=Yi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');I=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(I){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Qs(Vo,Tl);var Zf=function(){Vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HI(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(s,o,c){c||(c=1);for(var u,f=[];u=o.exec(s);)f.push(u[c]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,18)},set:function(e){e?this.Ff=$i(this.Ff,18):this.Ff=Yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=$i(this.Ff,19):this.Ff=Yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,20)},set:function(e){e?(this.Ff=$i(this.Ff,20),t.sort()):this.Ff=Yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,22)},set:function(e){e?this.Ff=$i(this.Ff,22):this.Ff=Yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(e){e?this.Ff=$i(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,27)},set:function(e){e?this.Ff=$i(this.Ff,27):this.Ff=Yi(this.Ff,27)}}),this.hasAppearanceStream=!1};Qs(Zf,Vo);var td=function(){Zf.call(this),this.fontName="helvetica",this.combo=!1};Qs(td,Zf);var ed=function(){td.call(this),this.combo=!0};Qs(ed,td);var g0=function(){ed.call(this),this.edit=!0};Qs(g0,ed);var Ir=function(){Vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,15)},set:function(e){e?this.Ff=$i(this.Ff,15):this.Ff=Yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,16)},set:function(e){e?this.Ff=$i(this.Ff,16):this.Ff=Yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,17)},set:function(e){e?this.Ff=$i(this.Ff,17):this.Ff=Yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(e){e?this.Ff=$i(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+nf(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Qs(Ir,Vo);var m0=function(){Ir.call(this),this.pushButton=!0};Qs(m0,Ir);var nd=function(){Ir.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Qs(nd,Ir);var K0=function(){var n,t;Vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+nf(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){qn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qs(K0,Vo),nd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},nd.prototype.createOption=function(n){var t=new K0;return t.Parent=this,t.optionName=n,this.Kids.push(t),QB.call(this.scope,t),t};var v0=function(){Ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};Qs(v0,Ir);var Uh=function(){Vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,13)},set:function(t){t?this.Ff=$i(this.Ff,13):this.Ff=Yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,21)},set:function(t){t?this.Ff=$i(this.Ff,21):this.Ff=Yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(t){t?this.Ff=$i(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,24)},set:function(t){t?this.Ff=$i(this.Ff,24):this.Ff=Yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,25)},set:function(t){t?this.Ff=$i(this.Ff,25):this.Ff=Yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(t){t?this.Ff=$i(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qs(Uh,Vo);var y0=function(){Uh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,14)},set:function(n){n?this.Ff=$i(this.Ff,14):this.Ff=Yi(this.Ff,14)}}),this.password=!0};Qs(y0,Uh);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=n_(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+qe(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=_l(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=ge.internal.getHeight(n),o=ge.internal.getWidth(n),c=n_(n,n.caption);return r.push("1 g"),r.push("0 0 "+qe(o)+" "+qe(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+qe(o-1)+" "+qe(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+qe(c.fontSize)+" Tf "+i),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=_l(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=ge.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Tu(ge.internal.getWidth(n)/2)+" "+Tu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ge.internal.Bezier_C).toFixed(5)),o=Number((i*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Tu(ge.internal.getWidth(n)/2)+" "+Tu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Tu(ge.internal.getWidth(n)/2)+" "+Tu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Tu(ge.internal.getWidth(n)/2)+" "+Tu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=_l(n);t.scope=n.scope;var e=[],i=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(qe(i.x1.x)+" "+qe(i.x1.y)+" m"),e.push(qe(i.x2.x)+" "+qe(i.x2.y)+" l"),e.push(qe(i.x4.x)+" "+qe(i.x4.y)+" m"),e.push(qe(i.x3.x)+" "+qe(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(qe(e.x1.x)+" "+qe(e.x1.y)+" m"),i.push(qe(e.x2.x)+" "+qe(e.x2.y)+" l"),i.push(qe(e.x4.x)+" "+qe(e.x4.y)+" m"),i.push(qe(e.x3.x)+" "+qe(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=_l(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ge.internal.getWidth=function(n){var t=0;return qn(n)==="object"&&(t=WT(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return qn(n)==="object"&&(t=WT(n.Rect[3])),t};var QB=Li.addField=function(n){if(XB(this,n),!(n instanceof Vo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Li.AcroFormChoiceField=Zf,Li.AcroFormListBox=td,Li.AcroFormComboBox=ed,Li.AcroFormEditBox=g0,Li.AcroFormButton=Ir,Li.AcroFormPushButton=m0,Li.AcroFormRadioButton=nd,Li.AcroFormCheckBox=v0,Li.AcroFormTextField=Uh,Li.AcroFormPasswordField=y0,Li.AcroFormAppearance=ge,Li.AcroForm={ChoiceField:Zf,ListBox:td,ComboBox:ed,EditBox:g0,Button:Ir,PushButton:m0,RadioButton:nd,CheckBox:v0,TextField:Uh,PasswordField:y0,Appearance:ge},ke.AcroForm={ChoiceField:Zf,ListBox:td,ComboBox:ed,EditBox:g0,Button:Ir,PushButton:m0,RadioButton:nd,CheckBox:v0,TextField:Uh,PasswordField:y0,Appearance:ge};ke.AcroForm;function $I(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(P,D){var j,tt,pt,rt,ht,ft=t;if((D=D||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(gt(P))for(ht in e)for(pt=e[ht],j=0;j<pt.length;j+=1){for(rt=!0,tt=0;tt<pt[j].length;tt+=1)if(pt[j][tt]!==void 0&&pt[j][tt]!==P[tt]){rt=!1;break}if(rt===!0){ft=ht;break}}else for(ht in e)for(pt=e[ht],j=0;j<pt.length;j+=1){for(rt=!0,tt=0;tt<pt[j].length;tt+=1)if(pt[j][tt]!==void 0&&pt[j][tt]!==P.charCodeAt(tt)){rt=!1;break}if(rt===!0){ft=ht;break}}return ft===t&&D!==t&&(ft=D),ft},r=function P(D){for(var j=this.internal.write,tt=this.internal.putStream,pt=(0,this.internal.getFilters)();pt.indexOf("FlateEncode")!==-1;)pt.splice(pt.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var rt=[];if(rt.push({key:"Type",value:"/XObject"}),rt.push({key:"Subtype",value:"/Image"}),rt.push({key:"Width",value:D.width}),rt.push({key:"Height",value:D.height}),D.colorSpace===I.INDEXED?rt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(rt.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===I.DEVICE_CMYK&&rt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),rt.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&rt.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ht="",ft=0,xt=D.transparency.length;ft<xt;ft++)ht+=D.transparency[ft]+" "+D.transparency[ft]+" ";rt.push({key:"Mask",value:"["+ht+"]"})}D.sMask!==void 0&&rt.push({key:"SMask",value:D.objectId+1+" 0 R"});var J=D.filter!==void 0?["/"+D.filter]:void 0;if(tt({data:D.data,additionalKeyValues:rt,alreadyAppliedFilters:J,objectId:D.objectId}),j("endobj"),"sMask"in D&&D.sMask!==void 0){var At="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,F={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:At,data:D.sMask};"filter"in D&&(F.filter=D.filter),P.call(this,F)}if(D.colorSpace===I.INDEXED){var Y=this.internal.newObject();tt({data:L(new Uint8Array(D.palette)),objectId:Y}),j("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var D in P)r.call(this,P[D])},o=function(){var P,D=this.internal.collections.addImage_images,j=this.internal.write;for(var tt in D)j("/I"+(P=D[tt]).index,P.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var P=this.internal.collections.addImage_images;return c.call(this),P},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(P){return typeof n["process"+P.toUpperCase()]=="function"},v=function(P){return qn(P)==="object"&&P.nodeType===1},b=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return Up(unescape(j).split("base64,").pop());var tt=n.loadFile(j,!0);if(tt!==void 0)return tt}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var pt;switch(D){case"PNG":pt="image/png";break;case"WEBP":pt="image/webp";break;case"JPEG":case"JPG":default:pt="image/jpeg"}return Up(P.toDataURL(pt,1).split("base64,").pop())}},_=function(P){var D=this.internal.collections.addImage_images;if(D){for(var j in D)if(P===D[j].alias)return D[j]}},E=function(P,D,j){return P||D||(P=-96,D=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*j.height*72/D/this.internal.scaleFactor),P===0&&(P=D*j.width/j.height),D===0&&(D=P*j.height/j.width),[P,D]},N=function(P,D,j,tt,pt,rt){var ht=E.call(this,j,tt,pt),ft=this.internal.getCoordinateString,xt=this.internal.getVerticalCoordinateString,J=u.call(this);if(j=ht[0],tt=ht[1],J[pt.index]=pt,rt){rt*=Math.PI/180;var At=Math.cos(rt),F=Math.sin(rt),Y=function(ot){return ot.toFixed(4)},et=[Y(At),Y(F),Y(-1*F),Y(At),0,0,"cm"]}this.internal.write("q"),rt?(this.internal.write([1,"0","0",1,ft(P),xt(D+tt),"cm"].join(" ")),this.internal.write(et.join(" ")),this.internal.write([ft(j),"0","0",ft(tt),"0","0","cm"].join(" "))):this.internal.write([ft(j),"0","0",ft(tt),ft(P),xt(D+tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pt.index+" Do"),this.internal.write("Q")},I=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=n.__addimage__.sHashCode=function(P){var D,j,tt=0;if(typeof P=="string")for(j=P.length,D=0;D<j;D++)tt=(tt<<5)-tt+P.charCodeAt(D),tt|=0;else if(gt(P))for(j=P.byteLength/2,D=0;D<j;D++)tt=(tt<<5)-tt+P[D],tt|=0;return tt},H=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},nt=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null},it=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return it()&&P instanceof ArrayBuffer};var gt=n.__addimage__.isArrayBufferView=function(P){return it()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,j=new Uint8Array(D),tt=0;tt<D;tt++)j[tt]=P.charCodeAt(tt);return j},L=n.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",j=gt(P)?P:new Uint8Array(P),tt=0;tt<j.length;tt+=8192)D+=String.fromCharCode.apply(null,j.subarray(tt,tt+8192));return D};n.addImage=function(){var P,D,j,tt,pt,rt,ht,ft,xt;if(typeof arguments[1]=="number"?(D=t,j=arguments[1],tt=arguments[2],pt=arguments[3],rt=arguments[4],ht=arguments[5],ft=arguments[6],xt=arguments[7]):(D=arguments[1],j=arguments[2],tt=arguments[3],pt=arguments[4],rt=arguments[5],ht=arguments[6],ft=arguments[7],xt=arguments[8]),qn(P=arguments[0])==="object"&&!v(P)&&"imageData"in P){var J=P;P=J.imageData,D=J.format||D||t,j=J.x||j||0,tt=J.y||tt||0,pt=J.w||J.width||pt,rt=J.h||J.height||rt,ht=J.alias||ht,ft=J.compression||ft,xt=J.rotation||J.angle||xt}var At=this.internal.getFilters();if(ft===void 0&&At.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(j)||isNaN(tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=V.call(this,P,D,ht,ft);return N.call(this,j,tt,pt,rt,F,xt),this};var V=function(P,D,j,tt){var pt,rt,ht;if(typeof P=="string"&&i(P)===t){P=unescape(P);var ft=$(P,!1);(ft!==""||(ft=n.loadFile(P,!0))!==void 0)&&(P=ft)}if(v(P)&&(P=b(P,D)),D=i(P,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ht=j)==null||ht.length===0)&&(j=function(xt){return typeof xt=="string"||gt(xt)?O(xt):gt(xt.data)?O(xt.data):null}(P)),(pt=_.call(this,j))||(it()&&(P instanceof Uint8Array||D==="RGBA"||(rt=P,P=q(P))),pt=this["process"+D.toUpperCase()](P,f.call(this),j,function(xt){return xt&&typeof xt=="string"&&(xt=xt.toUpperCase()),xt in n.image_compression?xt:C.NONE}(tt),rt)),!pt)throw new Error("An unknown error occurred whilst processing the image.");return pt},$=n.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var j,tt="";if(typeof P=="string"){var pt;j=(pt=nt(P))!==null&&pt!==void 0?pt:P;try{tt=Up(j)}catch(rt){if(D)throw H(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+rt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return tt};n.getImageProperties=function(P){var D,j,tt="";if(v(P)&&(P=b(P)),typeof P=="string"&&i(P)===t&&((tt=$(P,!1))===""&&(tt=n.loadFile(P)||""),P=tt),j=i(P),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!it()||P instanceof Uint8Array||(P=q(P)),!(D=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=j,D}})(ke.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ke.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((i=f[v]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var _=this.internal.pdfEscape,E=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),O=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+_(C(i.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+_(C(O))+") >>",N.content=s;var H=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+H,i.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(N.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var nt=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(E(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+nt+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var it=this.annotations._nameMap[i.options.name];i.options.pageNumber=it.page,i.options.top=it.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(E(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var gt=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+gt+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(e),y:f(i),w:u(e+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,c,u=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(e,c).length;o=Math.ceil(f*p)}else c=u,o=f;return this.text(e,i,r,s),r+=.2*f,s.align==="center"&&(i-=u/2),s.align==="right"&&(i-=u),this.link(i,r-f,c,o,s),u},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ke.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=n.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&r.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(N){var I=0,C=e,O="",H=0;for(I=0;I<N.length;I+=1)C[N.charCodeAt(I)]!==void 0?(H++,typeof(C=C[N.charCodeAt(I)])=="number"&&(O+=String.fromCharCode(C),C=e,H=0),I===N.length-1&&(C=e,O+=N.charAt(I-(H-1)),I-=H-1,H=0)):(C=e,O+=N.charAt(I-H),I-=H,H=0);return O};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(N,I,C){return o(N)?s(N)===!1?-1:!f(N)||!o(I)&&!o(C)||!o(C)&&c(I)||c(N)&&!o(I)||c(N)&&u(I)||c(N)&&c(I)?0:p(N)&&o(I)&&!c(I)&&o(C)&&f(C)?3:c(N)||!o(C)?1:2:-1},_=function(N){var I=0,C=0,O=0,H="",nt="",it="",gt=(N=N||"").split("\\s+"),q=[];for(I=0;I<gt.length;I+=1){for(q.push(""),C=0;C<gt[I].length;C+=1)H=gt[I][C],nt=gt[I][C-1],it=gt[I][C+1],o(H)?(O=b(H,nt,it),q[I]+=O!==-1?String.fromCharCode(t[H.charCodeAt(0)][O]):H):q[I]+=H;q[I]=v(q[I])}return q.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var N,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(I)){var O=0;for(C=[],O=0;O<I.length;O+=1)Array.isArray(I[O])?C.push([_(I[O][0]),I[O][1],I[O][2]]):C.push([_(I[O])]);N=C}else N=_(I);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",E])}(ke.API),ke.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ke.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(N){E=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,_=0,E=0,N=0,I=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=f.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(H,nt){return H.concat(I.splitTextToSize(nt,C))},[])):u=Array.isArray(u)?u:[u];for(var O=0;O<u.length;O++)_<(N=this.getStringUnitWidth(u[O],{font:v})*p)&&(_=N);return _!==0&&(E=u.length),{w:_/=b,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,_&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,p,v,b){if(i.call(this),!p)throw new Error("No data for PDF table.");var _,E,N,I,C=[],O=[],H=[],nt={},it={},gt=[],q=[],L=(b=b||{}).autoSize||!1,V=b.printHeaders!==!1,$=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,P=b.margins||Object.assign({width:this.getPageWidth()},t),D=typeof b.padding=="number"?b.padding:3,j=b.headerBackgroundColor||"#c8c8c8",tt=b.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=tt,this.setFontSize($),v==null)O=C=Object.keys(p[0]),H=C.map(function(){return"left"});else if(Array.isArray(v)&&qn(v[0])==="object")for(C=v.map(function(J){return J.name}),O=v.map(function(J){return J.prompt||J.name||""}),H=v.map(function(J){return J.align||"left"}),_=0;_<v.length;_+=1)it[v[_].name]=v[_].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(O=C=v,H=C.map(function(){return"left"}));if(L||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<C.length;_+=1){for(nt[I=C[_]]=p.map(function(J){return J[I]}),this.setFont(void 0,"bold"),gt.push(this.getTextDimensions(O[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=nt[I],this.setFont(void 0,"normal"),N=0;N<E.length;N+=1)gt.push(this.getTextDimensions(E[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);it[I]=Math.max.apply(null,gt)+D+D,gt=[]}if(V){var pt={};for(_=0;_<C.length;_+=1)pt[C[_]]={},pt[C[_]].text=O[_],pt[C[_]].align=H[_];var rt=c.call(this,pt,it);q=C.map(function(J){return new s(u,f,it[J],rt,pt[J].text,void 0,pt[J].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ht=v.reduce(function(J,At){return J[At.name]=At.align,J},{});for(_=0;_<p.length;_+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:_,data:p[_]},this);var ft=c.call(this,p[_],it);for(N=0;N<C.length;N+=1){var xt=p[_][C[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:_,col:N,data:xt},this),o.call(this,new s(u,f,it[C[N]],ft,xt,_+2,ht[C[N]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(_){var E=u[_];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/b+p+p},this).reduce(function(_,E){return Math.max(_,E)},0)};n.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),e=!1}}(ke.API);var YI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i_=$I(KI),XI=[100,200,300,400,500,600,700,800,900],JB=$I(XI);function r_(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return YI[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof i_[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function $T(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var ZB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},YT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function KT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function tU(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},ZB,e.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(r[(s=r_(t[c])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+KT(s)+"' and default family '"+i+"'.");if(o=function(u,f){if(f[u])return f[u];var p=i_[u],v=p<=i_.normal?-1:1,b=$T(f,KI,p,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(s.stretch,o),o=function(u,f){if(f[u])return f[u];for(var p=YI[u],v=0;v<p.length;++v)if(f[p[v]])return f[p[v]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var p=JB[u],v=$T(f,XI,p,u<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+u);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+KT(s)+"'.");return o}function XT(n){return n.trimLeft()}function eU(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function nU(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Um,QT,JT,Wy=["times"];(function(n){var t,e,i,r,s,o,c,u,f,p=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var v=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=F;Object.defineProperty(this,"pdf",{get:function(){return Y}});var et=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return et},set:function(Ft){et=!!Ft}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(Ft){ot=!!Ft}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(Ft){isNaN(Ft)||(ct=Ft)}});var Nt=0;Object.defineProperty(this,"posY",{get:function(){return Nt},set:function(Ft){isNaN(Ft)||(Nt=Ft)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ft){var lt;typeof Ft=="number"?lt=[Ft,Ft,Ft,Ft]:((lt=new Array(4))[0]=Ft[0],lt[1]=Ft.length>=2?Ft[1]:lt[0],lt[2]=Ft.length>=3?Ft[2]:lt[0],lt[3]=Ft.length>=4?Ft[3]:lt[1]),f.margin=lt}});var Et=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Et},set:function(Ft){Et=Ft}});var kt=0;Object.defineProperty(this,"lastBreak",{get:function(){return kt},set:function(Ft){kt=Ft}});var Jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jt},set:function(Ft){Jt=Ft}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ft){Ft instanceof p&&(f=Ft)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ft){f.path=Ft}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(Ft){Xt=Ft}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ft){var lt;lt=b(Ft),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ft){var lt=b(Ft);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ft){["butt","round","square"].indexOf(Ft)!==-1&&(this.ctx.lineCap=Ft,this.pdf.setLineCap(Ft))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ft){isNaN(Ft)||(this.ctx.lineWidth=Ft,this.pdf.setLineWidth(Ft))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ft){["bevel","round","miter"].indexOf(Ft)!==-1&&(this.ctx.lineJoin=Ft,this.pdf.setLineJoin(Ft))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ft){isNaN(Ft)||(this.ctx.miterLimit=Ft,this.pdf.setMiterLimit(Ft))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ft){this.ctx.textBaseline=Ft}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ft){["right","end","center","left","start"].indexOf(Ft)!==-1&&(this.ctx.textAlign=Ft)}});var ne=null;function te(Ft,lt){if(ne===null){var Te=function(fe){var Qt=[];return Object.keys(fe).forEach(function(Zt){fe[Zt].forEach(function(se){var ae=null;switch(se){case"bold":ae={family:Zt,weight:"bold"};break;case"italic":ae={family:Zt,style:"italic"};break;case"bolditalic":ae={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:Zt}}ae!==null&&(ae.ref={name:Zt,style:se},Qt.push(ae))})}),Qt}(Ft.getFontList());ne=function(fe){for(var Qt={},Zt=0;Zt<fe.length;++Zt){var se=r_(fe[Zt]),ae=se.family,_e=se.stretch,Le=se.style,Ve=se.weight;Qt[ae]=Qt[ae]||{},Qt[ae][_e]=Qt[ae][_e]||{},Qt[ae][_e][Le]=Qt[ae][_e][Le]||{},Qt[ae][_e][Le][Ve]=se}return Qt}(Te.concat(lt))}return ne}var Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(Ft){ne=null,Se=Ft}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ft){var lt;if(this.ctx.font=Ft,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ft))!==null){var Te=lt[1];lt[2];var fe=lt[3],Qt=lt[4];lt[5];var Zt=lt[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qt)[2];Qt=Math.floor(se==="px"?parseFloat(Qt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Qt)*this.pdf.getFontSize():parseFloat(Qt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qt);var ae=function(de){var We,oe,ci=[],Ke=de.trim();if(Ke==="")return Wy;if(Ke in YT)return[YT[Ke]];for(;Ke!=="";){switch(oe=null,We=(Ke=XT(Ke)).charAt(0)){case'"':case"'":oe=eU(Ke.substring(1),We);break;default:oe=nU(Ke)}if(oe===null||(ci.push(oe[0]),(Ke=XT(oe[1]))!==""&&Ke.charAt(0)!==","))return Wy;Ke=Ke.replace(/^,/,"")}return ci}(Zt);if(this.fontFaces){var _e=tU(te(this.pdf,this.fontFaces),ae.map(function(de){return{family:de,stretch:"normal",weight:fe,style:Te}}));this.pdf.setFont(_e.ref.name,_e.ref.style)}else{var Le="";(fe==="bold"||parseInt(fe,10)>=700||Te==="bold")&&(Le="bold"),Te==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var Ve="",be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<ae.length;me++){if(this.pdf.internal.getFont(ae[me],Le,{noFallback:!0,disableWarning:!0})!==void 0){Ve=ae[me];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(ae[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=ae[me],Le="bold";else if(this.pdf.internal.getFont(ae[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=ae[me],Le="normal";break}}if(Ve===""){for(var Ge=0;Ge<ae.length;Ge++)if(be[ae[Ge]]){Ve=be[ae[Ge]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ft){this.ctx.globalCompositeOperation=Ft}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ft){this.ctx.globalAlpha=Ft}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ft){this.ctx.lineDashOffset=Ft,At.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ft){this.ctx.lineDash=Ft,At.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ft){this.ctx.ignoreClearRect=!!Ft}})};v.prototype.setLineDash=function(F){this.lineDash=F},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){nt.call(this,"fill",!1)},v.prototype.stroke=function(){nt.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var et=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"mt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(F,Y)},v.prototype.closePath=function(){var F=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&qn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){F=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},v.prototype.lineTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var et=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"lt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(et.x,et.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),nt.call(this,null,!0)},v.prototype.quadraticCurveTo=function(F,Y,et,ot){if(isNaN(et)||isNaN(ot)||isNaN(F)||isNaN(Y))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(et,ot)),Nt=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"qct",x1:Nt.x,y1:Nt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},v.prototype.bezierCurveTo=function(F,Y,et,ot,ct,Nt){if(isNaN(ct)||isNaN(Nt)||isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Et=this.ctx.transform.applyToPoint(new o(ct,Nt)),kt=this.ctx.transform.applyToPoint(new o(F,Y)),Jt=this.ctx.transform.applyToPoint(new o(et,ot));this.path.push({type:"bct",x1:kt.x,y1:kt.y,x2:Jt.x,y2:Jt.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new o(Et.x,Et.y)},v.prototype.arc=function(F,Y,et,ot,ct,Nt){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot)||isNaN(ct))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Nt=!!Nt,!this.ctx.transform.isIdentity){var Et=this.ctx.transform.applyToPoint(new o(F,Y));F=Et.x,Y=Et.y;var kt=this.ctx.transform.applyToPoint(new o(0,et)),Jt=this.ctx.transform.applyToPoint(new o(0,0));et=Math.sqrt(Math.pow(kt.x-Jt.x,2)+Math.pow(kt.y-Jt.y,2))}Math.abs(ct-ot)>=2*Math.PI&&(ot=0,ct=2*Math.PI),this.path.push({type:"arc",x:F,y:Y,radius:et,startAngle:ot,endAngle:ct,counterclockwise:Nt})},v.prototype.arcTo=function(F,Y,et,ot,ct){throw new Error("arcTo not implemented.")},v.prototype.rect=function(F,Y,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Y),this.lineTo(F+et,Y),this.lineTo(F+et,Y+ot),this.lineTo(F,Y+ot),this.lineTo(F,Y),this.lineTo(F+et,Y),this.lineTo(F,Y)},v.prototype.fillRect=function(F,Y,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Y,et,ot),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},v.prototype.strokeRect=function(F,Y,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(F,Y,et,ot),this.stroke())},v.prototype.clearRect=function(F,Y,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Y,et,ot))},v.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},v.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(F){var Y,et,ot,ct;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Y=0,et=0,ot=0,ct=0;else{var Nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Nt!==null)Y=parseInt(Nt[1]),et=parseInt(Nt[2]),ot=parseInt(Nt[3]),ct=1;else if((Nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Y=parseInt(Nt[1]),et=parseInt(Nt[2]),ot=parseInt(Nt[3]),ct=parseFloat(Nt[4]);else{if(ct=1,typeof F=="string"&&F.charAt(0)!=="#"){var Et=new UI(F);F=Et.ok?Et.toHex():"#000000"}F.length===4?(Y=F.substring(1,2),Y+=Y,et=F.substring(2,3),et+=et,ot=F.substring(3,4),ot+=ot):(Y=F.substring(1,3),et=F.substring(3,5),ot=F.substring(5,7)),Y=parseInt(Y,16),et=parseInt(et,16),ot=parseInt(ot,16)}}return{r:Y,g:et,b:ot,a:ct,style:F}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(F,Y,et,ot){if(isNaN(Y)||isNaN(et)||typeof F!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!_.call(this)){var ct=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:F,x:Y,y:et,scale:Nt,angle:ct,align:this.textAlign,maxWidth:ot})}},v.prototype.strokeText=function(F,Y,et,ot){if(isNaN(Y)||isNaN(et)||typeof F!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ot=isNaN(ot)?void 0:ot;var ct=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:F,x:Y,y:et,scale:Nt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:ot})}},v.prototype.measureText=function(F){if(typeof F!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,et=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ct=Y.getStringUnitWidth(F)*ot/Y.internal.scaleFactor,Nt=function(Et){var kt=(Et=Et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this};return new Nt({width:ct*=Math.round(96*et/72*1e4)/1e4})},v.prototype.scale=function(F,Y){if(isNaN(F)||isNaN(Y))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var et=new u(F,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(et)},v.prototype.rotate=function(F){if(isNaN(F))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.translate=function(F,Y){if(isNaN(F)||isNaN(Y))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var et=new u(1,0,0,1,F,Y);this.ctx.transform=this.ctx.transform.multiply(et)},v.prototype.transform=function(F,Y,et,ot,ct,Nt){if(isNaN(F)||isNaN(Y)||isNaN(et)||isNaN(ot)||isNaN(ct)||isNaN(Nt))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Et=new u(F,Y,et,ot,ct,Nt);this.ctx.transform=this.ctx.transform.multiply(Et)},v.prototype.setTransform=function(F,Y,et,ot,ct,Nt){F=isNaN(F)?1:F,Y=isNaN(Y)?0:Y,et=isNaN(et)?0:et,ot=isNaN(ot)?1:ot,ct=isNaN(ct)?0:ct,Nt=isNaN(Nt)?0:Nt,this.ctx.transform=new u(F,Y,et,ot,ct,Nt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(F,Y,et,ot,ct,Nt,Et,kt,Jt){var Xt=this.pdf.getImageProperties(F),ne=1,te=1,Se=1,Ft=1;ot!==void 0&&kt!==void 0&&(Se=kt/ot,Ft=Jt/ct,ne=Xt.width/ot*kt/ot,te=Xt.height/ct*Jt/ct),Nt===void 0&&(Nt=Y,Et=et,Y=0,et=0),ot!==void 0&&kt===void 0&&(kt=ot,Jt=ct),ot===void 0&&kt===void 0&&(kt=Xt.width,Jt=Xt.height);for(var lt,Te=this.ctx.transform.decompose(),fe=ft(Te.rotate.shx),Qt=new u,Zt=(Qt=(Qt=(Qt=Qt.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new c(Nt-Y*Se,Et-et*Ft,ot*ne,ct*te)),se=I.call(this,Zt),ae=[],_e=0;_e<se.length;_e+=1)ae.indexOf(se[_e])===-1&&ae.push(se[_e]);if(H(ae),this.autoPaging)for(var Le=ae[0],Ve=ae[ae.length-1],be=Le;be<Ve+1;be++){this.pdf.setPage(be);var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=be===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=be===1?0:de+(be-2)*We;if(this.ctx.clip_path.length!==0){var ci=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(lt,this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset),it.call(this,"fill",!0),this.path=ci}var Ke=JSON.parse(JSON.stringify(Zt));Ke=O([Ke],this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset)[0];var ar=(be>Le||be<Ve)&&N.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,We,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,fe),ar&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,fe)};var I=function(F,Y,et){var ot=[];Y=Y||this.pdf.internal.pageSize.width,et=et||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ot.push(Math.floor((F.y+ct)/et)+1);break;case"arc":ot.push(Math.floor((F.y+ct-F.radius)/et)+1),ot.push(Math.floor((F.y+ct+F.radius)/et)+1);break;case"qct":var Nt=xt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ot.push(Math.floor((Nt.y+ct)/et)+1),ot.push(Math.floor((Nt.y+Nt.h+ct)/et)+1);break;case"bct":var Et=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ot.push(Math.floor((Et.y+ct)/et)+1),ot.push(Math.floor((Et.y+Et.h+ct)/et)+1);break;case"rect":ot.push(Math.floor((F.y+ct)/et)+1),ot.push(Math.floor((F.y+F.h+ct)/et)+1)}for(var kt=0;kt<ot.length;kt+=1)for(;this.pdf.internal.getNumberOfPages()<ot[kt];)C.call(this);return ot},C=function(){var F=this.fillStyle,Y=this.strokeStyle,et=this.font,ot=this.lineCap,ct=this.lineWidth,Nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Y,this.font=et,this.lineCap=ot,this.lineWidth=ct,this.lineJoin=Nt},O=function(F,Y,et){for(var ot=0;ot<F.length;ot++)switch(F[ot].type){case"bct":F[ot].x2+=Y,F[ot].y2+=et;case"qct":F[ot].x1+=Y,F[ot].y1+=et;case"mt":case"lt":case"arc":default:F[ot].x+=Y,F[ot].y+=et}return F},H=function(F){return F.sort(function(Y,et){return Y-et})},nt=function(F,Y){for(var et,ot,ct=this.fillStyle,Nt=this.strokeStyle,Et=this.lineCap,kt=this.lineWidth,Jt=Math.abs(kt*this.ctx.transform.scaleX),Xt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),Se=[],Ft=0;Ft<te.length;Ft++)if(te[Ft].x!==void 0)for(var lt=I.call(this,te[Ft]),Te=0;Te<lt.length;Te+=1)Se.indexOf(lt[Te])===-1&&Se.push(lt[Te]);for(var fe=0;fe<Se.length;fe++)for(;this.pdf.internal.getNumberOfPages()<Se[fe];)C.call(this);if(H(Se),this.autoPaging)for(var Qt=Se[0],Zt=Se[Se.length-1],se=Qt;se<Zt+1;se++){this.pdf.setPage(se),this.fillStyle=ct,this.strokeStyle=Nt,this.lineCap=Et,this.lineWidth=Jt,this.lineJoin=Xt;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=se===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=se===1?0:Le+(se-2)*Ve;if(this.ctx.clip_path.length!==0){var me=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(et,this.posX+this.margin[3],-be+_e+this.ctx.prevPageLastElemOffset),it.call(this,F,!0),this.path=me}if(ot=JSON.parse(JSON.stringify(ne)),this.path=O(ot,this.posX+this.margin[3],-be+_e+this.ctx.prevPageLastElemOffset),Y===!1||se===0){var Ge=(se>Qt||se<Zt)&&N.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Ve,null).clip().discardPath()),it.call(this,F,Y),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=kt}else this.lineWidth=Jt,it.call(this,F,Y),this.lineWidth=kt;this.path=ne},it=function(F,Y){if((F!=="stroke"||Y||!E.call(this))&&(F==="stroke"||Y||!_.call(this))){for(var et,ot,ct=[],Nt=this.path,Et=0;Et<Nt.length;Et++){var kt=Nt[Et];switch(kt.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:kt,deltas:[],abs:[]});break;case"lt":var Jt=ct.length;if(Nt[Et-1]&&!isNaN(Nt[Et-1].x)&&(et=[kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],Jt>0)){for(;Jt>=0;Jt--)if(ct[Jt-1].close!==!0&&ct[Jt-1].begin!==!0){ct[Jt-1].deltas.push(et),ct[Jt-1].abs.push(kt);break}}break;case"bct":et=[kt.x1-Nt[Et-1].x,kt.y1-Nt[Et-1].y,kt.x2-Nt[Et-1].x,kt.y2-Nt[Et-1].y,kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],ct[ct.length-1].deltas.push(et);break;case"qct":var Xt=Nt[Et-1].x+2/3*(kt.x1-Nt[Et-1].x),ne=Nt[Et-1].y+2/3*(kt.y1-Nt[Et-1].y),te=kt.x+2/3*(kt.x1-kt.x),Se=kt.y+2/3*(kt.y1-kt.y),Ft=kt.x,lt=kt.y;et=[Xt-Nt[Et-1].x,ne-Nt[Et-1].y,te-Nt[Et-1].x,Se-Nt[Et-1].y,Ft-Nt[Et-1].x,lt-Nt[Et-1].y],ct[ct.length-1].deltas.push(et);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(kt)}}ot=Y?null:F==="stroke"?"stroke":"fill";for(var Te=!1,fe=0;fe<ct.length;fe++)if(ct[fe].arc)for(var Qt=ct[fe].abs,Zt=0;Zt<Qt.length;Zt++){var se=Qt[Zt];se.type==="arc"?L.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,Y,!Te):j.call(this,se.x,se.y),Te=!0}else if(ct[fe].close===!0)this.pdf.internal.out("h"),Te=!1;else if(ct[fe].begin!==!0){var ae=ct[fe].start.x,_e=ct[fe].start.y;tt.call(this,ct[fe].deltas,ae,_e),Te=!0}ot&&V.call(this,ot),Y&&$.call(this)}},gt=function(F){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,et=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-et;case"top":return F+Y-et;case"hanging":return F+Y-2*et;case"middle":return F+Y/2-et;case"ideographic":return F;case"alphabetic":default:return F}},q=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Y,et){this.colorStops.push([Y,et])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(F,Y,et,ot,ct,Nt,Et,kt,Jt){for(var Xt=rt.call(this,et,ot,ct,Nt),ne=0;ne<Xt.length;ne++){var te=Xt[ne];ne===0&&(Jt?P.call(this,te.x1+F,te.y1+Y):j.call(this,te.x1+F,te.y1+Y)),pt.call(this,F,Y,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}kt?$.call(this):V.call(this,Et)},V=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(F,Y){this.pdf.internal.out(e(F)+" "+i(Y)+" m")},D=function(F){var Y;switch(F.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var et=this.pdf.getTextDimensions(F.text),ot=gt.call(this,F.y),ct=q.call(this,ot)-et.h,Nt=this.ctx.transform.applyToPoint(new o(F.x,ot)),Et=this.ctx.transform.decompose(),kt=new u;kt=(kt=(kt=kt.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var Jt,Xt,ne,te=this.ctx.transform.applyToRectangle(new c(F.x,ot,et.w,et.h)),Se=kt.applyToRectangle(new c(F.x,ct,et.w,et.h)),Ft=I.call(this,Se),lt=[],Te=0;Te<Ft.length;Te+=1)lt.indexOf(Ft[Te])===-1&&lt.push(Ft[Te]);if(H(lt),this.autoPaging)for(var fe=lt[0],Qt=lt[lt.length-1],Zt=fe;Zt<Qt+1;Zt++){this.pdf.setPage(Zt);var se=Zt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Le=_e-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],be=Ve-this.margin[3],me=Zt===1?0:ae+(Zt-2)*Le;if(this.ctx.clip_path.length!==0){var Ge=this.path;Jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Jt,this.posX+this.margin[3],-1*me+se),it.call(this,"fill",!0),this.path=Ge}var de=O([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-me+se+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale);var We=this.autoPaging!=="text";if(We||de.y+de.h<=_e){if(We||de.y>=se&&de.x<=Ve){var oe=We?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ve-de.x)[0],ci=O([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-me+se+this.ctx.prevPageLastElemOffset)[0],Ke=We&&(Zt>fe||Zt<Qt)&&N.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,Le,null).clip().discardPath()),this.pdf.text(oe,ci.x,ci.y,{angle:F.angle,align:Y,renderingMode:F.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else de.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-de.y);F.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)}else F.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale),this.pdf.text(F.text,Nt.x+this.posX,Nt.y+this.posY,{angle:F.angle,align:Y,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)},j=function(F,Y,et,ot){et=et||0,ot=ot||0,this.pdf.internal.out(e(F+et)+" "+i(Y+ot)+" l")},tt=function(F,Y,et){return this.pdf.lines(F,Y,et,null,null)},pt=function(F,Y,et,ot,ct,Nt,Et,kt){this.pdf.internal.out([t(r(et+F)),t(s(ot+Y)),t(r(ct+F)),t(s(Nt+Y)),t(r(Et+F)),t(s(kt+Y)),"c"].join(" "))},rt=function(F,Y,et,ot){for(var ct=2*Math.PI,Nt=Math.PI/2;Y>et;)Y-=ct;var Et=Math.abs(et-Y);Et<ct&&ot&&(Et=ct-Et);for(var kt=[],Jt=ot?-1:1,Xt=Y;Et>1e-5;){var ne=Xt+Jt*Math.min(Et,Nt);kt.push(ht.call(this,F,Xt,ne)),Et-=Math.abs(ne-Xt),Xt=ne}return kt},ht=function(F,Y,et){var ot=(et-Y)/2,ct=F*Math.cos(ot),Nt=F*Math.sin(ot),Et=ct,kt=-Nt,Jt=Et*Et+kt*kt,Xt=Jt+Et*ct+kt*Nt,ne=4/3*(Math.sqrt(2*Jt*Xt)-Xt)/(Et*Nt-kt*ct),te=Et-ne*kt,Se=kt+ne*Et,Ft=te,lt=-Se,Te=ot+Y,fe=Math.cos(Te),Qt=Math.sin(Te);return{x1:F*Math.cos(Y),y1:F*Math.sin(Y),x2:te*fe-Se*Qt,y2:te*Qt+Se*fe,x3:Ft*fe-lt*Qt,y3:Ft*Qt+lt*fe,x4:F*Math.cos(et),y4:F*Math.sin(et)}},ft=function(F){return 180*F/Math.PI},xt=function(F,Y,et,ot,ct,Nt){var Et=F+.5*(et-F),kt=Y+.5*(ot-Y),Jt=ct+.5*(et-ct),Xt=Nt+.5*(ot-Nt),ne=Math.min(F,ct,Et,Jt),te=Math.max(F,ct,Et,Jt),Se=Math.min(Y,Nt,kt,Xt),Ft=Math.max(Y,Nt,kt,Xt);return new c(ne,Se,te-ne,Ft-Se)},J=function(F,Y,et,ot,ct,Nt,Et,kt){var Jt,Xt,ne,te,Se,Ft,lt,Te,fe,Qt,Zt,se,ae,_e,Le=et-F,Ve=ot-Y,be=ct-et,me=Nt-ot,Ge=Et-ct,de=kt-Nt;for(Xt=0;Xt<41;Xt++)fe=(lt=(ne=F+(Jt=Xt/40)*Le)+Jt*((Se=et+Jt*be)-ne))+Jt*(Se+Jt*(ct+Jt*Ge-Se)-lt),Qt=(Te=(te=Y+Jt*Ve)+Jt*((Ft=ot+Jt*me)-te))+Jt*(Ft+Jt*(Nt+Jt*de-Ft)-Te),Xt==0?(Zt=fe,se=Qt,ae=fe,_e=Qt):(Zt=Math.min(Zt,fe),se=Math.min(se,Qt),ae=Math.max(ae,fe),_e=Math.max(_e,Qt));return new c(Math.round(Zt),Math.round(se),Math.round(ae-Zt),Math.round(_e-se))},At=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Y,et=(F=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Y}));this.prevLineDash!==et&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=et)}}})(ke.API),function(n){var t=function(s){var o,c,u,f,p,v,b,_,E,N;for(c=[],u=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(v=(p=((p=((p=((p=(p-(N=p%85))/85)-(E=p%85))/85)-(_=p%85))/85)-(b=p%85))/85)%85,c.push(v+33,b+33,_+33,E+33,N+33)):c.push(122);return function(I,C){for(var O=C;O>0;O--)I.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var o,c,u,f,p,v=String,b="length",_=255,E="charCodeAt",N="slice",I="replace";for(s[N](-2),s=s[N](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),u=[],f=0,p=(s+=o="uuuuu"[N](s[b]%5||5))[b];p>f;f+=5)c=52200625*(s[E](f)-33)+614125*(s[E](f+1)-33)+7225*(s[E](f+2)-33)+85*(s[E](f+3)-33)+(s[E](f+4)-33),u.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(C,O){for(var H=O;H>0;H--)C.pop()}(u,o[b]),v.fromCharCode.apply(v,u)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},r=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=J2(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(ke.API),function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,p){var v=new XMLHttpRequest,b=0,_=function(E){var N=E.length,I=[],C=String.fromCharCode;for(b=0;b<N;b+=1)I.push(C(255&E.charCodeAt(b)));return I.join("")};if(v.open("GET",u,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(_(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)}(r,s,o)}catch{}return c}(t,e,i)},n.loadImageFile=n.loadFile}(ke.API),function(n){function t(){return(Oe.html2canvas?Promise.resolve(Oe.html2canvas):$2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Oe.DOMPurify?Promise.resolve(Oe.DOMPurify):$2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=qn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,p){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)p!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(u(b,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var _=f[b],E=_.src.find(function(N){return N.format==="truetype"});E&&u.addFont(E.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||ke.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,p).then(function(v){return u.updateProgress(1),v})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=u.call(f,o,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ke.getPageSize=function(o,c,u){if(qn(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var _,E=0,N=0;if(b.hasOwnProperty(v))E=b[v][1]/p,N=b[v][0]/p;else try{E=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",N>E&&(_=N,N=E,E=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>N&&(_=N,N=E,E=_)}return{width:N,height:E,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(r_):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(ke.API),ke.API.addJS=function(n){return JT=n,this.internal.events.subscribe("postPutResources",function(){Um=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Um+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),QT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+JT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Um!==void 0&&QT!==void 0&&this.internal.out("/Names <</JavaScript "+Um+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],c=i.exec(o);if(c!=null){var u=c[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var v=e.internal.newObject();p.push(v);var b=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<p.length;s++)e.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(ke.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,c){var u,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(v){for(var b,_=256*v.charCodeAt(4)+v.charCodeAt(5),E=v.length,N={width:0,height:0,numcomponents:1},I=4;I<E;I+=2){if(I+=_,t.indexOf(v.charCodeAt(I+1))!==-1){b=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),N={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:b,numcomponents:v.charCodeAt(I+9)};break}_=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:e,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(ke.API);var Of,zm,ZT,tx,ex,iU=function(){var n,t,e;function i(s){var o,c,u,f,p,v,b,_,E,N,I,C,O,H;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),E=(function(){var nt,it;for(it=[],nt=0;nt<4;++nt)it.push(String.fromCharCode(this.data[this.pos++]));return it}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*p/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((N=u-this.transparency.indexed.length)>0)for(O=0;0<=N?O<N:O>N;0<=N?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(I=this.read(o)).indexOf(0),_=String.fromCharCode.apply(String,I.slice(0,b)),this.text[_]=String.fromCharCode.apply(String,I.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(v,b,_,E){var N,I,C,O,H,nt,it,gt,q,L,V,$,P,D,j,tt,pt,rt,ht,ft,xt,J=Math.ceil((f.width-v)/_),At=Math.ceil((f.height-b)/E),F=f.width==J&&f.height==At;for(D=o*J,$=F?c:new Uint8Array(D*At),nt=s.length,P=0,I=0;P<At&&u<nt;){switch(s[u++]){case 0:for(O=pt=0;pt<D;O=pt+=1)$[I++]=s[u++];break;case 1:for(O=rt=0;rt<D;O=rt+=1)N=s[u++],H=O<o?0:$[I-o],$[I++]=(N+H)%256;break;case 2:for(O=ht=0;ht<D;O=ht+=1)N=s[u++],C=(O-O%o)/o,j=P&&$[(P-1)*D+C*o+O%o],$[I++]=(j+N)%256;break;case 3:for(O=ft=0;ft<D;O=ft+=1)N=s[u++],C=(O-O%o)/o,H=O<o?0:$[I-o],j=P&&$[(P-1)*D+C*o+O%o],$[I++]=(N+Math.floor((H+j)/2))%256;break;case 4:for(O=xt=0;xt<D;O=xt+=1)N=s[u++],C=(O-O%o)/o,H=O<o?0:$[I-o],P===0?j=tt=0:(j=$[(P-1)*D+C*o+O%o],tt=C&&$[(P-1)*D+(C-1)*o+O%o]),it=H+j-tt,gt=Math.abs(it-H),L=Math.abs(it-j),V=Math.abs(it-tt),q=gt<=L&&gt<=V?H:L<=V?j:tt,$[I++]=(N+q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!F){var Y=((b+P*E)*f.width+v)*o,et=P*D;for(O=0;O<J;O+=1){for(var ot=0;ot<o;ot+=1)c[Y++]=$[et++];Y+=(_-1)*o}}P++}}return s=OB(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},i.prototype.decodePalette=function(){var s,o,c,u,f,p,v,b,_;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),u=0,s=0,o=v=0,b=c.length;v<b;o=v+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(_=p[s++])!=null?_:255;return f},i.prototype.copyToImageData=function(s,o){var c,u,f,p,v,b,_,E,N,I,C;if(u=this.colors,N=null,c=this.hasAlphaChannel,this.palette.length&&(N=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,c=!0),E=(f=s.data||s).length,v=N||o,p=b=0,u===1)for(;p<E;)_=N?4*o[p/4]:b,I=v[_++],f[p++]=I,f[p++]=I,f[p++]=I,f[p++]=c?v[_++]:255,b=_;else for(;p<E;)_=N?4*o[p/4]:b,f[p++]=v[_++],f[p++]=v[_++],f[p++]=v[_++],f[p++]=c?v[_++]:255,b=_},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Oe)==="[object Window]"){try{t=Oe.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,c,u,f,p,v,b,_;if(this.animation){for(_=[],c=p=0,v=(b=this.animation.frames).length;p<v;c=++p)o=b[c],u=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,_.push(o.image=n(u));return _}},i.prototype.renderFrame=function(s,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(s){var o,c,u,f,p,v,b=this;return c=0,v=this.animation,f=v.numFrames,u=v.frames,p=v.numPlays,(o=function(){var _,E;if(_=c++%f,E=u[_],b.renderFrame(s,_),f>1&&c/f<p)return b.animation._timeout=setTimeout(o,E.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rU(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<(7&r)+1;n[t++],n[t++];var c=null,u=null;s&&(c=t,u=o,t+=3*o);var f=!0,p=[],v=0,b=null,_=0,E=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,E=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[t++];v=n[t++]|n[t++]<<8,b=n[t++],(1&N)==0&&(b=null),_=N>>2&7,t++;break;case 254:for(;;){if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var I=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,O=n[t++]|n[t++]<<8,H=n[t++]|n[t++]<<8,nt=n[t++],it=nt>>6&1,gt=1<<(7&nt)+1,q=c,L=u,V=!1;nt>>7&&(V=!0,q=t,L=gt,t+=3*gt);var $=t;for(t++;;){var P;if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}p.push({x:I,y:C,width:O,height:H,has_local_palette:V,palette_offset:q,palette_size:L,data_offset:$,data_length:t-$,transparent_index:b,interlaced:!!it,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,j){var tt=this.frameInfo(D),pt=tt.width*tt.height,rt=new Uint8Array(pt);nx(n,tt.data_offset,rt,pt);var ht=tt.palette_offset,ft=tt.transparent_index;ft===null&&(ft=256);var xt=tt.width,J=e-xt,At=xt,F=4*(tt.y*e+tt.x),Y=4*((tt.y+tt.height)*e+tt.x),et=F,ot=4*J;tt.interlaced===!0&&(ot+=4*e*7);for(var ct=8,Nt=0,Et=rt.length;Nt<Et;++Nt){var kt=rt[Nt];if(At===0&&(At=xt,(et+=ot)>=Y&&(ot=4*J+4*e*(ct-1),et=F+(xt+J)*(ct<<1),ct>>=1)),kt===ft)et+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[et++]=ne,j[et++]=Xt,j[et++]=Jt,j[et++]=255}--At}},this.decodeAndBlitFrameRGBA=function(D,j){var tt=this.frameInfo(D),pt=tt.width*tt.height,rt=new Uint8Array(pt);nx(n,tt.data_offset,rt,pt);var ht=tt.palette_offset,ft=tt.transparent_index;ft===null&&(ft=256);var xt=tt.width,J=e-xt,At=xt,F=4*(tt.y*e+tt.x),Y=4*((tt.y+tt.height)*e+tt.x),et=F,ot=4*J;tt.interlaced===!0&&(ot+=4*e*7);for(var ct=8,Nt=0,Et=rt.length;Nt<Et;++Nt){var kt=rt[Nt];if(At===0&&(At=xt,(et+=ot)>=Y&&(ot=4*J+4*e*(ct-1),et=F+(xt+J)*(ct<<1),ct>>=1)),kt===ft)et+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[et++]=Jt,j[et++]=Xt,j[et++]=ne,j[et++]=255}--At}}}function nx(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,c=o+1,u=r+1,f=(1<<u)-1,p=0,v=0,b=0,_=n[t++],E=new Int32Array(4096),N=null;;){for(;p<16&&_!==0;)v|=n[t++]<<p,p+=8,_===1?_=n[t++]:--_;if(p<u)break;var I=v&f;if(v>>=u,p-=u,I!==s){if(I===o)break;for(var C=I<c?I:N,O=0,H=C;H>s;)H=E[H]>>8,++O;var nt=H;if(b+O+(C!==I?1:0)>i)return void Zn.log("Warning, gif stream longer than expected.");e[b++]=nt;var it=b+=O;for(C!==I&&(e[b++]=nt),H=C;O--;)H=E[H],e[--it]=255&H,H>>=8;N!==null&&c<4096&&(E[c++]=N<<8|nt,c>=f+1&&u<12&&(++u,f=f<<1|1)),N=I}else c=o+1,f=(1<<(u=r+1))-1,N=null}return b!==i&&Zn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $y(n){var t,e,i,r,s,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),b=new Array(65535),_=new Array(64),E=new Array(64),N=[],I=0,C=7,O=new Array(64),H=new Array(64),nt=new Array(64),it=new Array(256),gt=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function rt(F,Y){for(var et=0,ot=0,ct=new Array,Nt=1;Nt<=16;Nt++){for(var Et=1;Et<=F[Nt];Et++)ct[Y[ot]]=[],ct[Y[ot]][0]=et,ct[Y[ot]][1]=Nt,ot++,et++;et*=2}return ct}function ht(F){for(var Y=F[0],et=F[1]-1;et>=0;)Y&1<<et&&(I|=1<<C),et--,--C<0&&(I==255?(ft(255),ft(0)):ft(I),C=7,I=0)}function ft(F){N.push(F)}function xt(F){ft(F>>8&255),ft(255&F)}function J(F,Y,et,ot,ct){for(var Nt,Et=ct[0],kt=ct[240],Jt=function(Qt,Zt){var se,ae,_e,Le,Ve,be,me,Ge,de,We,oe=0;for(de=0;de<8;++de){se=Qt[oe],ae=Qt[oe+1],_e=Qt[oe+2],Le=Qt[oe+3],Ve=Qt[oe+4],be=Qt[oe+5],me=Qt[oe+6];var ci=se+(Ge=Qt[oe+7]),Ke=se-Ge,ar=ae+me,Je=ae-me,Cn=_e+be,vr=_e-be,cn=Le+Ve,Js=Le-Ve,Hn=ci+cn,Oi=ci-cn,or=ar+Cn,Gn=ar-Cn;Qt[oe]=Hn+or,Qt[oe+4]=Hn-or;var xe=.707106781*(Gn+Oi);Qt[oe+2]=Oi+xe,Qt[oe+6]=Oi-xe;var un=.382683433*((Hn=Js+vr)-(Gn=Je+Ke)),Hr=.5411961*Hn+un,ui=1.306562965*Gn+un,lr=.707106781*(or=vr+Je),ys=Ke+lr,le=Ke-lr;Qt[oe+5]=le+Hr,Qt[oe+3]=le-Hr,Qt[oe+1]=ys+ui,Qt[oe+7]=ys-ui,oe+=8}for(oe=0,de=0;de<8;++de){se=Qt[oe],ae=Qt[oe+8],_e=Qt[oe+16],Le=Qt[oe+24],Ve=Qt[oe+32],be=Qt[oe+40],me=Qt[oe+48];var Rn=se+(Ge=Qt[oe+56]),Ln=se-Ge,Qn=ae+me,ii=ae-me,hi=_e+be,Ai=_e-be,io=Le+Ve,Rr=Le-Ve,Xi=Rn+io,Mi=Rn-io,Ti=Qn+hi,ji=Qn-hi;Qt[oe]=Xi+Ti,Qt[oe+32]=Xi-Ti;var Wn=.707106781*(ji+Mi);Qt[oe+16]=Mi+Wn,Qt[oe+48]=Mi-Wn;var Sn=.382683433*((Xi=Rr+Ai)-(ji=ii+Ln)),Zs=.5411961*Xi+Sn,ta=1.306562965*ji+Sn,yr=.707106781*(Ti=Ai+ii),Gr=Ln+yr,ro=Ln-yr;Qt[oe+40]=ro+Zs,Qt[oe+24]=ro-Zs,Qt[oe+8]=Gr+ta,Qt[oe+56]=Gr-ta,oe++}for(de=0;de<64;++de)We=Qt[de]*Zt[de],_[de]=We>0?We+.5|0:We-.5|0;return _}(F,Y),Xt=0;Xt<64;++Xt)E[q[Xt]]=Jt[Xt];var ne=E[0]-et;et=E[0],ne==0?ht(ot[0]):(ht(ot[b[Nt=32767+ne]]),ht(v[Nt]));for(var te=63;te>0&&E[te]==0;)te--;if(te==0)return ht(Et),et;for(var Se,Ft=1;Ft<=te;){for(var lt=Ft;E[Ft]==0&&Ft<=te;)++Ft;var Te=Ft-lt;if(Te>=16){Se=Te>>4;for(var fe=1;fe<=Se;++fe)ht(kt);Te&=15}Nt=32767+E[Ft],ht(ct[(Te<<4)+b[Nt]]),ht(v[Nt]),Ft++}return te!=63&&ht(Et),et}function At(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(Y){for(var et=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ct=o((et[ot]*Y+50)/100);ct=Math.min(Math.max(ct,1),255),c[q[ot]]=ct}for(var Nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Et=0;Et<64;Et++){var kt=o((Nt[Et]*Y+50)/100);kt=Math.min(Math.max(kt,1),255),u[q[Et]]=kt}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ne=0;ne<8;ne++)for(var te=0;te<8;te++)f[Xt]=1/(c[q[Xt]]*Jt[ne]*Jt[te]*8),p[Xt]=1/(u[q[Xt]]*Jt[ne]*Jt[te]*8),Xt++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Y){Y&&At(Y),N=new Array,I=0,C=7,xt(65496),xt(65504),xt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),xt(1),xt(1),ft(0),ft(0),function(){xt(65499),xt(132),ft(0);for(var ae=0;ae<64;ae++)ft(c[ae]);ft(1);for(var _e=0;_e<64;_e++)ft(u[_e])}(),function(ae,_e){xt(65472),xt(17),ft(8),xt(_e),xt(ae),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)}(F.width,F.height),function(){xt(65476),xt(418),ft(0);for(var ae=0;ae<16;ae++)ft(L[ae+1]);for(var _e=0;_e<=11;_e++)ft(V[_e]);ft(16);for(var Le=0;Le<16;Le++)ft($[Le+1]);for(var Ve=0;Ve<=161;Ve++)ft(P[Ve]);ft(1);for(var be=0;be<16;be++)ft(D[be+1]);for(var me=0;me<=11;me++)ft(j[me]);ft(17);for(var Ge=0;Ge<16;Ge++)ft(tt[Ge+1]);for(var de=0;de<=161;de++)ft(pt[de])}(),xt(65498),xt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var et=0,ot=0,ct=0;I=0,C=7,this.encode.displayName="_encode_";for(var Nt,Et,kt,Jt,Xt,ne,te,Se,Ft,lt=F.data,Te=F.width,fe=F.height,Qt=4*Te,Zt=0;Zt<fe;){for(Nt=0;Nt<Qt;){for(Xt=Qt*Zt+Nt,te=-1,Se=0,Ft=0;Ft<64;Ft++)ne=Xt+(Se=Ft>>3)*Qt+(te=4*(7&Ft)),Zt+Se>=fe&&(ne-=Qt*(Zt+1+Se-fe)),Nt+te>=Qt&&(ne-=Nt+te-Qt+4),Et=lt[ne++],kt=lt[ne++],Jt=lt[ne++],O[Ft]=(gt[Et]+gt[kt+256>>0]+gt[Jt+512>>0]>>16)-128,H[Ft]=(gt[Et+768>>0]+gt[kt+1024>>0]+gt[Jt+1280>>0]>>16)-128,nt[Ft]=(gt[Et+1280>>0]+gt[kt+1536>>0]+gt[Jt+1792>>0]>>16)-128;et=J(O,f,et,t,i),ot=J(H,p,ot,e,r),ct=J(nt,p,ct,e,r),Nt+=32}Zt+=8}if(C>=0){var se=[];se[1]=C+1,se[0]=(1<<C+1)-1,ht(se)}return xt(65497),new Uint8Array(N)},n=n||50,function(){for(var F=String.fromCharCode,Y=0;Y<256;Y++)it[Y]=F(Y)}(),t=rt(L,V),e=rt(D,j),i=rt($,P),r=rt(tt,pt),function(){for(var F=1,Y=2,et=1;et<=15;et++){for(var ot=F;ot<Y;ot++)b[32767+ot]=et,v[32767+ot]=[],v[32767+ot][1]=et,v[32767+ot][0]=ot;for(var ct=-(Y-1);ct<=-F;ct++)b[32767+ct]=et,v[32767+ct]=[],v[32767+ct][1]=et,v[32767+ct][0]=Y-1+ct;F<<=1,Y<<=1}}(),function(){for(var F=0;F<256;F++)gt[F]=19595*F,gt[F+256>>0]=38470*F,gt[F+512>>0]=7471*F+32768,gt[F+768>>0]=-11059*F,gt[F+1024>>0]=-21709*F,gt[F+1280>>0]=32768*F+8421375,gt[F+1536>>0]=-27439*F,gt[F+1792>>0]=-5329*F}(),At(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Po(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ix(n){function t(L){if(!L)throw Error("assert :P")}function e(L,V,$){for(var P=0;4>P;P++)if(L[V+P]!=$.charCodeAt(P))return!0;return!1}function i(L,V,$,P,D){for(var j=0;j<D;j++)L[V+j]=$[P+j]}function r(L,V,$,P){for(var D=0;D<P;D++)L[V+D]=$}function s(L){return new Int32Array(L)}function o(L,V){for(var $=[],P=0;P<L;P++)$.push(new V);return $}function c(L,V){var $=[];return function P(D,j,tt){for(var pt=tt[j],rt=0;rt<pt&&(D.push(tt.length>j+1?[]:new V),!(tt.length<j+1));rt++)P(D[rt],j+1,tt)}($,0,L),$}var u=function(){var L=this;function V(g,w){for(var T=1<<w-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function $(g,w,T,R,U){t(!(R%T));do g[w+(R-=T)]=U;while(0<R)}function P(g,w,T,R,U){if(t(2328>=U),512>=U)var G=s(512);else if((G=s(U))==null)return 0;return function(W,K,Z,st,mt,Rt){var It,St,qt=K,Mt=1<<Z,vt=s(16),_t=s(16);for(t(mt!=0),t(st!=null),t(W!=null),t(0<Z),St=0;St<mt;++St){if(15<st[St])return 0;++vt[st[St]]}if(vt[0]==mt)return 0;for(_t[1]=0,It=1;15>It;++It){if(vt[It]>1<<It)return 0;_t[It+1]=_t[It]+vt[It]}for(St=0;St<mt;++St)It=st[St],0<st[St]&&(Rt[_t[It]++]=St);if(_t[15]==1)return(st=new D).g=0,st.value=Rt[0],$(W,qt,1,Mt,st),Mt;var Vt,Ht=-1,Ut=Mt-1,ce=0,ee=1,we=1,re=1<<Z;for(St=0,It=1,mt=2;It<=Z;++It,mt<<=1){if(ee+=we<<=1,0>(we-=vt[It]))return 0;for(;0<vt[It];--vt[It])(st=new D).g=It,st.value=Rt[St++],$(W,qt+ce,mt,re,st),ce=V(ce,It)}for(It=Z+1,mt=2;15>=It;++It,mt<<=1){if(ee+=we<<=1,0>(we-=vt[It]))return 0;for(;0<vt[It];--vt[It]){if(st=new D,(ce&Ut)!=Ht){for(qt+=re,Vt=1<<(Ht=It)-Z;15>Ht&&!(0>=(Vt-=vt[Ht]));)++Ht,Vt<<=1;Mt+=re=1<<(Vt=Ht-Z),W[K+(Ht=ce&Ut)].g=Vt+Z,W[K+Ht].value=qt-K-Ht}st.g=It-Z,st.value=Rt[St++],$(W,qt+(ce>>Z),mt,re,st),ce=V(ce,It)}}return ee!=2*_t[15]-1?0:Mt}(g,w,T,R,U,G)}function D(){this.value=this.g=0}function j(){this.value=this.g=0}function tt(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vi,j)}function pt(g,w,T,R){t(g!=null),t(w!=null),t(2147483648>R),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=T,g.Jd=w,g.Yc=T+R,g.Zc=4<=R?T+R-4+1:T,Nt(g)}function rt(g,w){for(var T=0;0<w--;)T|=kt(g,128)<<w;return T}function ht(g,w){var T=rt(g,w);return Et(g)?-T:T}function ft(g,w,T,R){var U,G=0;for(t(g!=null),t(w!=null),t(4294967288>R),g.Sb=R,g.Ra=0,g.u=0,g.h=0,4<R&&(R=4),U=0;U<R;++U)G+=w[T+U]<<8*U;g.Ra=G,g.bb=R,g.oa=w,g.pa=T}function xt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<$l-8>>>0,++g.bb,g.u-=8;et(g)&&(g.h=1,g.u=0)}function J(g,w){if(t(0<=w),!g.h&&w<=Wl){var T=Y(g)&Xo[w];return g.u+=w,xt(g),T}return g.h=1,g.u=0}function At(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&$l-1)>>>0}function et(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>$l}function ot(g,w){g.u=w,g.h=et(g)}function ct(g){g.u>=Yc&&(t(g.u>=Yc),xt(g))}function Nt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Et(g){return rt(g,1)}function kt(g,w){var T=g.Ca;0>g.b&&Nt(g);var R=g.b,U=T*w>>>8,G=(g.I>>>R>U)+0;for(G?(T-=U,g.I-=U+1<<R>>>0):T=U+1,R=T,U=0;256<=R;)U+=8,R>>=8;return R=7^U+Qr[R],g.b-=R,g.Ca=(T<<R)-1,G}function Jt(g,w,T){g[w+0]=T>>24&255,g[w+1]=T>>16&255,g[w+2]=T>>8&255,g[w+3]=T>>0&255}function Xt(g,w){return g[w+0]<<0|g[w+1]<<8}function ne(g,w){return Xt(g,w)|g[w+2]<<16}function te(g,w){return Xt(g,w)|Xt(g,w+2)<<16}function Se(g,w){var T=1<<w;return t(g!=null),t(0<w),g.X=s(T),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Ft(g,w){t(g!=null),t(w!=null),t(g.Xa==w.Xa),i(w.X,0,g.X,0,1<<w.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function Te(g,w,T,R){t(T!=null),t(R!=null);var U=T[0],G=R[0];return U==0&&(U=(g*G+w/2)/w),G==0&&(G=(w*U+g/2)/g),0>=U||0>=G?0:(T[0]=U,R[0]=G,1)}function fe(g,w){return g+(1<<w)-1>>>w}function Qt(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Zt(g,w){L[w]=function(T,R,U,G,W,K,Z){var st;for(st=0;st<W;++st){var mt=L[g](K[Z+st-1],U,G+st);K[Z+st]=Qt(T[R+st],mt)}}}function se(){this.ud=this.hd=this.jd=0}function ae(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function _e(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Le(g,w){return _e(g+(g-w+.5>>1))}function Ve(g,w,T){return Math.abs(w-T)-Math.abs(g-T)}function be(g,w,T,R,U,G,W){for(R=G[W-1],T=0;T<U;++T)G[W+T]=R=Qt(g[w+T],R)}function me(g,w,T,R,U){var G;for(G=0;G<T;++G){var W=g[w+G],K=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((K<<16)+K));R[U+G]=(4278255360&W)+Z>>>0}}function Ge(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function de(g,w,T,R,U,G){var W;for(W=0;W<R;++W){var K=w[T+W],Z=K>>>8,st=K,mt=255&(mt=(mt=K>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));st=255&(st=(st=st+((g.hd<<24>>24)*(Z<<24>>24)>>>5))+((g.ud<<24>>24)*(mt<<24>>24)>>>5)),U[G+W]=(4278255360&K)+(mt<<16)+st}}function We(g,w,T,R,U){L[w]=function(G,W,K,Z,st,mt,Rt,It,St){for(Z=Rt;Z<It;++Z)for(Rt=0;Rt<St;++Rt)st[mt++]=U(K[R(G[W++])])},L[g]=function(G,W,K,Z,st,mt,Rt){var It=8>>G.b,St=G.Ea,qt=G.K[0],Mt=G.w;if(8>It)for(G=(1<<G.b)-1,Mt=(1<<It)-1;W<K;++W){var vt,_t=0;for(vt=0;vt<St;++vt)vt&G||(_t=R(Z[st++])),mt[Rt++]=U(qt[_t&Mt]),_t>>=It}else L["VP8LMapColor"+T](Z,st,qt,Mt,mt,Rt,W,K,St)}}function oe(g,w,T,R,U){for(T=w+T;w<T;){var G=g[w++];R[U++]=G>>16&255,R[U++]=G>>8&255,R[U++]=G>>0&255}}function ci(g,w,T,R,U){for(T=w+T;w<T;){var G=g[w++];R[U++]=G>>16&255,R[U++]=G>>8&255,R[U++]=G>>0&255,R[U++]=G>>24&255}}function Ke(g,w,T,R,U){for(T=w+T;w<T;){var G=(W=g[w++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;R[U++]=G,R[U++]=W}}function ar(g,w,T,R,U){for(T=w+T;w<T;){var G=(W=g[w++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;R[U++]=G,R[U++]=W}}function Je(g,w,T,R,U){for(T=w+T;w<T;){var G=g[w++];R[U++]=G>>0&255,R[U++]=G>>8&255,R[U++]=G>>16&255}}function Cn(g,w,T,R,U,G){if(G==0)for(T=w+T;w<T;)Jt(R,((G=g[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),U+=32;else i(R,U,g,w,T)}function vr(g,w){L[w][0]=L[g+"0"],L[w][1]=L[g+"1"],L[w][2]=L[g+"2"],L[w][3]=L[g+"3"],L[w][4]=L[g+"4"],L[w][5]=L[g+"5"],L[w][6]=L[g+"6"],L[w][7]=L[g+"7"],L[w][8]=L[g+"8"],L[w][9]=L[g+"9"],L[w][10]=L[g+"10"],L[w][11]=L[g+"11"],L[w][12]=L[g+"12"],L[w][13]=L[g+"13"],L[w][14]=L[g+"0"],L[w][15]=L[g+"0"]}function cn(g){return g==ah||g==al||g==yo||g==Jc}function Js(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Js,this.f.kb=new Hn,this.sd=null}function or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function un(g,w){var T=g.T,R=w.ba.f.RGBA,U=R.eb,G=R.fb+g.ka*R.A,W=tr[w.ba.S],K=g.y,Z=g.O,st=g.f,mt=g.N,Rt=g.ea,It=g.W,St=w.cc,qt=w.dc,Mt=w.Mc,vt=w.Nc,_t=g.ka,Vt=g.ka+g.T,Ht=g.U,Ut=Ht+1>>1;for(_t==0?W(K,Z,null,null,st,mt,Rt,It,st,mt,Rt,It,U,G,null,null,Ht):(W(w.ec,w.fc,K,Z,St,qt,Mt,vt,st,mt,Rt,It,U,G-R.A,U,G,Ht),++T);_t+2<Vt;_t+=2)St=st,qt=mt,Mt=Rt,vt=It,mt+=g.Rc,It+=g.Rc,G+=2*R.A,W(K,(Z+=2*g.fa)-g.fa,K,Z,St,qt,Mt,vt,st,mt,Rt,It,U,G-R.A,U,G,Ht);return Z+=g.fa,g.j+Vt<g.o?(i(w.ec,w.fc,K,Z,Ht),i(w.cc,w.dc,st,mt,Ut),i(w.Mc,w.Nc,Rt,It,Ut),T--):1&Vt||W(K,Z,null,null,st,mt,Rt,It,st,mt,Rt,It,U,G+R.A,null,null,Ht),T}function Hr(g,w,T){var R=g.F,U=[g.J];if(R!=null){var G=g.U,W=w.ba.S,K=W==Jl||W==yo;w=w.ba.f.RGBA;var Z=[0],st=g.ka;Z[0]=g.T,g.Kb&&(st==0?--Z[0]:(--st,U[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-st));var mt=w.eb;st=w.fb+st*w.A,g=tn(R,U[0],g.width,G,Z,mt,st+(K?0:3),w.A),t(T==Z),g&&cn(W)&&Ss(mt,st,K,G,Z,w.A)}return 0}function ui(g){var w=g.ma,T=w.ba.S,R=11>T,U=T==Qc||T==sh||T==Jl||T==vo||T==12||cn(T);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Ko(w.Oa,g,U?11:12))return 0;if(U&&cn(T)&&Yt(),g.da)alert("todo:use_scaling");else{if(R){if(w.Ib=xe,g.Kb){if(T=g.U+1>>1,w.memory=s(g.U+2*T),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+T,w.Ib=un,Yt()}}else alert("todo:EmitYUV");U&&(w.Jb=Hr,R&&wt())}if(R&&!Dg){for(g=0;256>g;++g)ev[g]=89858*(g-128)+Ui>>Ha,ch[g]=-22014*(g-128)+Ui,Id[g]=-45773*(g-128),zi[g]=113618*(g-128)+Ui>>Ha;for(g=cl;g<ff;++g)w=76283*(g-16)+Ui>>Ha,uh[g-cl]=Tn(w,255),Cd[g-cl]=Tn(w+8>>4,15);Dg=1}return 1}function lr(g){var w=g.ma,T=g.U,R=g.T;return t(!(1&g.ka)),0>=T||0>=R?0:(T=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,T),w.Dc+=T,1)}function ys(g){g.ma.memory=null}function le(g,w,T,R){return J(g,8)!=47?0:(w[0]=J(g,14)+1,T[0]=J(g,14)+1,R[0]=J(g,1),J(g,3)!=0?0:!g.h)}function Rn(g,w){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+J(w,T)+1}function Ln(g,w){return 120<w?w-120:1<=(T=((T=bo[w-1])>>4)*g+(8-(15&T)))?T:1;var T}function Qn(g,w,T){var R=Y(T),U=g[w+=255&R].g-8;return 0<U&&(ot(T,T.u+8),R=Y(T),w+=g[w].value,w+=R&(1<<U)-1),ot(T,T.u+g[w].g),g[w].value}function ii(g,w,T){return T.g+=g.g,T.value+=g.value<<w>>>0,t(8>=T.g),g.g}function hi(g,w,T){var R=g.xc;return t((w=R==0?0:g.vc[g.md*(T>>R)+(w>>R)])<g.Wb),g.Ya[w]}function Ai(g,w,T,R){var U=g.ab,G=g.c*w,W=g.C;w=W+w;var K=T,Z=R;for(R=g.Ta,T=g.Ua;0<U--;){var st=g.gc[U],mt=W,Rt=w,It=K,St=Z,qt=(Z=R,K=T,st.Ea);switch(t(mt<Rt),t(Rt<=st.nc),st.hc){case 2:sf(It,St,(Rt-mt)*qt,Z,K);break;case 0:var Mt=mt,vt=Rt,_t=Z,Vt=K,Ht=(re=st).Ea;Mt==0&&(Ed(It,St,null,null,1,_t,Vt),be(It,St+1,0,0,Ht-1,_t,Vt+1),St+=Ht,Vt+=Ht,++Mt);for(var Ut=1<<re.b,ce=Ut-1,ee=fe(Ht,re.b),we=re.K,re=re.w+(Mt>>re.b)*ee;Mt<vt;){var vn=we,xn=re,Xe=1;for(ih(It,St,_t,Vt-Ht,1,_t,Vt);Xe<Ht;){var $e=(Xe&~ce)+Ut;$e>Ht&&($e=Ht),(0,po[vn[xn++]>>8&15])(It,St+ +Xe,_t,Vt+Xe-Ht,$e-Xe,_t,Vt+Xe),Xe=$e}St+=Ht,Vt+=Ht,++Mt&ce||(re+=ee)}Rt!=st.nc&&i(Z,K-qt,Z,K+(Rt-mt-1)*qt,qt);break;case 1:for(qt=It,vt=St,Ht=(It=st.Ea)-(Vt=It&~(_t=(St=1<<st.b)-1)),Mt=fe(It,st.b),Ut=st.K,st=st.w+(mt>>st.b)*Mt;mt<Rt;){for(ce=Ut,ee=st,we=new se,re=vt+Vt,vn=vt+It;vt<re;)Ge(ce[ee++],we),Jo(we,qt,vt,St,Z,K),vt+=St,K+=St;vt<vn&&(Ge(ce[ee++],we),Jo(we,qt,vt,Ht,Z,K),vt+=Ht,K+=Ht),++mt&_t||(st+=Mt)}break;case 3:if(It==Z&&St==K&&0<st.b){for(vt=Z,It=qt=K+(Rt-mt)*qt-(Vt=(Rt-mt)*fe(st.Ea,st.b)),St=Z,_t=K,Mt=[],Vt=(Ht=Vt)-1;0<=Vt;--Vt)Mt[Vt]=St[_t+Vt];for(Vt=Ht-1;0<=Vt;--Vt)vt[It+Vt]=Mt[Vt];js(st,mt,Rt,Z,qt,Z,K)}else js(st,mt,Rt,It,St,Z,K)}K=R,Z=T}Z!=T&&i(R,T,K,Z,G)}function io(g,w){var T=g.V,R=g.Ba+g.c*g.C,U=w-g.C;if(t(w<=g.l.o),t(16>=U),0<U){var G=g.l,W=g.Ta,K=g.Ua,Z=G.width;if(Ai(g,U,T,R),U=K=[K],t((T=g.C)<(R=w)),t(G.v<G.va),R>G.o&&(R=G.o),T<G.j){var st=G.j-T;T=G.j,U[0]+=st*Z}if(T>=R?T=0:(U[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=R-T,T=1),T){if(K=K[0],11>(T=g.ca).S){var mt=T.f.RGBA,Rt=(R=T.S,U=G.U,G=G.T,st=mt.eb,mt.A),It=G;for(mt=mt.fb+g.Ma*mt.A;0<It--;){var St=W,qt=K,Mt=U,vt=st,_t=mt;switch(R){case Ar:Pr(St,qt,Mt,vt,_t);break;case Qc:fr(St,qt,Mt,vt,_t);break;case ah:fr(St,qt,Mt,vt,_t),Ss(vt,_t,0,Mt,1,0);break;case Ba:ua(St,qt,Mt,vt,_t);break;case sh:Cn(St,qt,Mt,vt,_t,1);break;case al:Cn(St,qt,Mt,vt,_t,1),Ss(vt,_t,0,Mt,1,0);break;case Jl:Cn(St,qt,Mt,vt,_t,0);break;case yo:Cn(St,qt,Mt,vt,_t,0),Ss(vt,_t,1,Mt,1,0);break;case vo:Zo(St,qt,Mt,vt,_t);break;case Jc:Zo(St,qt,Mt,vt,_t),Ze(vt,_t,Mt,1,0);break;case of:Jr(St,qt,Mt,vt,_t);break;default:t(0)}K+=Z,mt+=Rt}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=T.height)}}g.C=w,t(g.C<=g.i)}function Rr(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var T=g.Ya[w].G,R=g.Ya[w].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function Xi(g,w,T,R,U,G){if(g.Z!=0){var W=g.qd,K=g.rd;for(t(za[g.Z]!=null);w<T;++w)za[g.Z](W,K,R,U,R,U,G),W=R,K=U,U+=G;g.qd=W,g.rd=K}}function Mi(g,w){var T=g.l.ma,R=T.Z==0||T.Z==1?g.l.j:g.C;if(R=g.C<R?R:g.C,t(w<=g.l.o),w>R){var U=g.l.width,G=T.ca,W=T.tb+U*R,K=g.V,Z=g.Ba+g.c*R,st=g.gc;t(g.ab==1),t(st[0].hc==3),Qo(st[0],R,w,K,Z,G,W),Xi(T,R,w,G,W,U)}g.C=g.Ma=w}function Ti(g,w,T,R,U,G,W){var K=g.$/R,Z=g.$%R,st=g.m,mt=g.s,Rt=T+g.$,It=Rt;U=T+R*U;var St=T+R*G,qt=280+mt.ua,Mt=g.Pb?K:16777216,vt=0<mt.ua?mt.Wa:null,_t=mt.wc,Vt=Rt<St?hi(mt,Z,K):null;t(g.C<G),t(St<=U);var Ht=!1;t:for(;;){for(;Ht||Rt<St;){var Ut=0;if(K>=Mt){var ce=Rt-T;t((Mt=g).Pb),Mt.wd=Mt.m,Mt.xd=ce,0<Mt.s.ua&&Ft(Mt.s.Wa,Mt.s.vb),Mt=K+Lg}if(Z&_t||(Vt=hi(mt,Z,K)),t(Vt!=null),Vt.Qb&&(w[Rt]=Vt.qb,Ht=!0),!Ht)if(ct(st),Vt.jc){Ut=st,ce=w;var ee=Rt,we=Vt.pd[Y(Ut)&Vi-1];t(Vt.jc),256>we.g?(ot(Ut,Ut.u+we.g),ce[ee]=we.value,Ut=0):(ot(Ut,Ut.u+we.g-256),t(256<=we.value),Ut=we.value),Ut==0&&(Ht=!0)}else Ut=Qn(Vt.G[0],Vt.H[0],st);if(st.h)break;if(Ht||256>Ut){if(!Ht)if(Vt.nd)w[Rt]=(Vt.qb|Ut<<8)>>>0;else{if(ct(st),Ht=Qn(Vt.G[1],Vt.H[1],st),ct(st),ce=Qn(Vt.G[2],Vt.H[2],st),ee=Qn(Vt.G[3],Vt.H[3],st),st.h)break;w[Rt]=(ee<<24|Ht<<16|Ut<<8|ce)>>>0}if(Ht=!1,++Rt,++Z>=R&&(Z=0,++K,W!=null&&K<=G&&!(K%16)&&W(g,K),vt!=null))for(;It<Rt;)Ut=w[It++],vt.X[(506832829*Ut&4294967295)>>>vt.Mb]=Ut}else if(280>Ut){if(Ut=Rn(Ut-256,st),ce=Qn(Vt.G[4],Vt.H[4],st),ct(st),ce=Ln(R,ce=Rn(ce,st)),st.h)break;if(Rt-T<ce||U-Rt<Ut)break t;for(ee=0;ee<Ut;++ee)w[Rt+ee]=w[Rt+ee-ce];for(Rt+=Ut,Z+=Ut;Z>=R;)Z-=R,++K,W!=null&&K<=G&&!(K%16)&&W(g,K);if(t(Rt<=U),Z&_t&&(Vt=hi(mt,Z,K)),vt!=null)for(;It<Rt;)Ut=w[It++],vt.X[(506832829*Ut&4294967295)>>>vt.Mb]=Ut}else{if(!(Ut<qt))break t;for(Ht=Ut-280,t(vt!=null);It<Rt;)Ut=w[It++],vt.X[(506832829*Ut&4294967295)>>>vt.Mb]=Ut;Ut=Rt,t(!(Ht>>>(ce=vt).Xa)),w[Ut]=ce.X[Ht],Ht=!0}Ht||t(st.h==et(st))}if(g.Pb&&st.h&&Rt<U)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ft(g.s.vb,g.s.Wa);else{if(st.h)break t;W!=null&&W(g,K>G?G:K),g.a=0,g.$=Rt-T}return 1}return g.a=3,0}function ji(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,t(g!=null)}function Wn(){var g=new Wc;return g==null?null:(g.a=0,g.xb=Zc,vr("Predictor","VP8LPredictors"),vr("Predictor","VP8LPredictors_C"),vr("PredictorAdd","VP8LPredictorsAdd"),vr("PredictorAdd","VP8LPredictorsAdd_C"),sf=me,Jo=de,Pr=oe,fr=ci,Zo=Ke,Jr=ar,ua=Je,L.VP8LMapColor32b=Ji,L.VP8LMapColor8b=rh,g)}function Sn(g,w,T,R,U){var G=1,W=[g],K=[w],Z=R.m,st=R.s,mt=null,Rt=0;t:for(;;){if(T)for(;G&&J(Z,1);){var It=W,St=K,qt=R,Mt=1,vt=qt.m,_t=qt.gc[qt.ab],Vt=J(vt,2);if(qt.Oc&1<<Vt)G=0;else{switch(qt.Oc|=1<<Vt,_t.hc=Vt,_t.Ea=It[0],_t.nc=St[0],_t.K=[null],++qt.ab,t(4>=qt.ab),Vt){case 0:case 1:_t.b=J(vt,3)+2,Mt=Sn(fe(_t.Ea,_t.b),fe(_t.nc,_t.b),0,qt,_t.K),_t.K=_t.K[0];break;case 3:var Ht,Ut=J(vt,8)+1,ce=16<Ut?0:4<Ut?1:2<Ut?2:3;if(It[0]=fe(_t.Ea,ce),_t.b=ce,Ht=Mt=Sn(Ut,1,0,qt,_t.K)){var ee,we=Ut,re=_t,vn=1<<(8>>re.b),xn=s(vn);if(xn==null)Ht=0;else{var Xe=re.K[0],$e=re.w;for(xn[0]=re.K[0][0],ee=1;ee<1*we;++ee)xn[ee]=Qt(Xe[$e+ee],xn[ee-1]);for(;ee<4*vn;++ee)xn[ee]=0;re.K[0]=null,re.K[0]=xn,Ht=1}}Mt=Ht;break;case 2:break;default:t(0)}G=Mt}}if(W=W[0],K=K[0],G&&J(Z,1)&&!(G=1<=(Rt=J(Z,4))&&11>=Rt)){R.a=3;break t}var kn;if(kn=G)e:{var En,Ue,Fn,Ne=R,De=W,mn=K,yn=Rt,er=T,qi=Ne.m,yi=Ne.s,_i=[null],Ii=1,Us=0,Nn=tc[yn];n:for(;;){if(er&&J(qi,1)){var Ci=J(qi,3)+2,da=fe(De,Ci),ul=fe(mn,Ci),ic=da*ul;if(!Sn(da,ul,0,Ne,_i))break n;for(_i=_i[0],yi.xc=Ci,En=0;En<ic;++En){var hl=_i[En]>>8&65535;_i[En]=hl,hl>=Ii&&(Ii=hl+1)}}if(qi.h)break n;for(Ue=0;5>Ue;++Ue){var ti=As[Ue];!Ue&&0<yn&&(ti+=1<<yn),Us<ti&&(Us=ti)}var hh=o(Ii*Nn,D),df=Ii,Dr=o(df,tt);if(Dr==null)var ri=null;else t(65536>=df),ri=Dr;var rc=s(Us);if(ri==null||rc==null||hh==null){Ne.a=1;break n}var fl=hh;for(En=Fn=0;En<Ii;++En){var ts=ri[En],dl=ts.G,es=ts.H,fh=0,eu=1,pf=0;for(Ue=0;5>Ue;++Ue){ti=As[Ue],dl[Ue]=fl,es[Ue]=Fn,!Ue&&0<yn&&(ti+=1<<yn);r:{var dh,gf=ti,ph=Ne,nu=rc,jg=fl,Fg=Fn,gh=0,To=ph.m,iv=J(To,1);if(r(nu,0,0,gf),iv){var Vg=J(To,1)+1,Bg=J(To,1),Rd=J(To,Bg==0?1:8);nu[Rd]=1,Vg==2&&(nu[Rd=J(To,8)]=1);var iu=1}else{var Ld=s(19),Pd=J(To,4)+4;if(19<Pd){ph.a=3;var mh=0;break r}for(dh=0;dh<Pd;++dh)Ld[_o[dh]]=J(To,3);var mf=void 0,ru=void 0,Ug=ph,zg=Ld,xo=gf,vh=nu,vf=0,pa=Ug.m,su=8,kd=o(128,D);i:for(;P(kd,0,7,zg,19);){if(J(pa,1)){var qg=2+2*J(pa,3);if((mf=2+J(pa,qg))>xo)break i}else mf=xo;for(ru=0;ru<xo&&mf--;){ct(pa);var Dd=kd[0+(127&Y(pa))];ot(pa,pa.u+Dd.g);var sc=Dd.value;if(16>sc)vh[ru++]=sc,sc!=0&&(su=sc);else{var Hg=sc==16,Od=sc-16,Md=Bs[Od],jd=J(pa,lf[Od])+Md;if(ru+jd>xo)break i;for(var Gg=Hg?su:0;0<jd--;)vh[ru++]=Gg}}vf=1;break i}vf||(Ug.a=3),iu=vf}(iu=iu&&!To.h)&&(gh=P(jg,Fg,8,nu,gf)),iu&&gh!=0?mh=gh:(ph.a=3,mh=0)}if(mh==0)break n;if(eu&&Zl[Ue]==1&&(eu=fl[Fn].g==0),fh+=fl[Fn].g,Fn+=mh,3>=Ue){var ac,yf=rc[0];for(ac=1;ac<ti;++ac)rc[ac]>yf&&(yf=rc[ac]);pf+=yf}}if(ts.nd=eu,ts.Qb=0,eu&&(ts.qb=(dl[3][es[3]+0].value<<24|dl[1][es[1]+0].value<<16|dl[2][es[2]+0].value)>>>0,fh==0&&256>dl[0][es[0]+0].value&&(ts.Qb=1,ts.qb+=dl[0][es[0]+0].value<<8)),ts.jc=!ts.Qb&&6>pf,ts.jc){var yh,Eo=ts;for(yh=0;yh<Vi;++yh){var Ga=yh,No=Eo.pd[Ga],_h=Eo.G[0][Eo.H[0]+Ga];256<=_h.value?(No.g=_h.g+256,No.value=_h.value):(No.g=0,No.value=0,Ga>>=ii(_h,8,No),Ga>>=ii(Eo.G[1][Eo.H[1]+Ga],16,No),Ga>>=ii(Eo.G[2][Eo.H[2]+Ga],0,No),ii(Eo.G[3][Eo.H[3]+Ga],24,No))}}}yi.vc=_i,yi.Wb=Ii,yi.Ya=ri,yi.yc=hh,kn=1;break e}kn=0}if(!(G=kn)){R.a=3;break t}if(0<Rt){if(st.ua=1<<Rt,!Se(st.Wa,Rt)){R.a=1,G=0;break t}}else st.ua=0;var bh=R,Fd=W,Wg=K,Vd=bh.s,Bd=Vd.xc;if(bh.c=Fd,bh.i=Wg,Vd.md=fe(Fd,Bd),Vd.wc=Bd==0?-1:(1<<Bd)-1,T){R.xb=kg;break t}if((mt=s(W*K))==null){R.a=1,G=0;break t}G=(G=Ti(R,mt,0,W,K,K,null))&&!Z.h;break t}return G?(U!=null?U[0]=mt:(t(mt==null),t(T)),R.$=0,T||ji(st)):ji(st),G}function Zs(g,w){var T=g.c*g.i,R=T+w+16*w;return t(g.c<=w),g.V=s(R),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+w,1)}function ta(g,w){var T=g.C,R=w-T,U=g.V,G=g.Ba+g.c*T;for(t(w<=g.l.o);0<R;){var W=16<R?16:R,K=g.l.ma,Z=g.l.width,st=Z*W,mt=K.ca,Rt=K.tb+Z*T,It=g.Ta,St=g.Ua;Ai(g,W,U,G),Yn(It,St,mt,Rt,st),Xi(K,T,T+W,mt,Rt,Z),R-=W,U+=W*g.c,T+=W}t(T==w),g.C=g.Ma=w}function yr(){this.ub=this.yd=this.td=this.Rb=0}function Gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ro(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jl(){this.Yb=function(){var g=[];return function w(T,R,U){for(var G=U[R],W=0;W<G&&(T.push(U.length>R+1?[]:0),!(U.length<R+1));W++)w(T[W],R+1,U)}(g,0,[3,11]),g}()}function so(){this.jb=s(3),this.Wc=c([4,8],jl),this.Xc=c([4,17],jl)}function Bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _s(){this.ld=this.La=this.dd=this.tc=0}function bs(){this.Na=this.la=0}function Fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ea(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uc(){this.uc=this.M=this.Nb=0,this.wa=Array(new _s),this.Y=0,this.ya=Array(new ea),this.aa=0,this.l=new na}function Is(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Uo(){this.cb=this.a=0,this.sc="",this.m=new At,this.Od=new yr,this.Kc=new Gr,this.ed=new Bc,this.Qa=new ro,this.Ic=this.$c=this.Aa=0,this.D=new Uc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,At),this.ia=0,this.pb=o(4,Fi),this.Pa=new so,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Is),this.Hd=0,this.rb=Array(new bs),this.sb=0,this.wa=Array(new _s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ea),this.L=this.aa=0,this.gd=c([4,2],_s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fl(){var g=new Uo;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Bi||(Bi=zc)),g}function $n(g,w,T){return g.a==0&&(g.a=w,g.sc=T,g.cb=0),0}function Qi(g,w,T){return 3<=T&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function zo(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return $n(g,2,"null VP8Io passed to VP8GetHeaders()");var T=w.data,R=w.w,U=w.ha;if(4>U)return $n(g,7,"Truncated header.");var G=T[R+0]|T[R+1]<<8|T[R+2]<<16,W=g.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return $n(g,3,"Incorrect keyframe parameters.");if(!W.yd)return $n(g,4,"Frame not displayable.");R+=3,U-=3;var K=g.Kc;if(W.Rb){if(7>U)return $n(g,7,"cannot parse picture header");if(!Qi(T,R,U))return $n(g,3,"Bad code word");K.c=16383&(T[R+4]<<8|T[R+3]),K.Td=T[R+4]>>6,K.i=16383&(T[R+6]<<8|T[R+5]),K.Ud=T[R+6]>>6,R+=7,U-=7,g.za=K.c+15>>4,g.Ub=K.i+15>>4,w.width=K.c,w.height=K.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,r((G=g.Pa).jb,0,255,G.jb.length),t((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,r(G.Zb,0,0,G.Zb.length),r(G.Lb,0,0,G.Lb)}if(W.ub>U)return $n(g,7,"bad partition length");pt(G=g.m,T,R,W.ub),R+=W.ub,U-=W.ub,W.Rb&&(K.Ld=Et(G),K.Kd=Et(G)),K=g.Qa;var Z,st=g.Pa;if(t(G!=null),t(K!=null),K.Cb=Et(G),K.Cb){if(K.Bb=Et(G),Et(G)){for(K.Fb=Et(G),Z=0;4>Z;++Z)K.Zb[Z]=Et(G)?ht(G,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=Et(G)?ht(G,6):0}if(K.Bb)for(Z=0;3>Z;++Z)st.jb[Z]=Et(G)?rt(G,8):255}else K.Bb=0;if(G.Ka)return $n(g,3,"cannot parse segment header");if((K=g.ed).zd=Et(G),K.Tb=rt(G,6),K.wb=rt(G,3),K.Pc=Et(G),K.Pc&&Et(G)){for(st=0;4>st;++st)Et(G)&&(K.vd[st]=ht(G,6));for(st=0;4>st;++st)Et(G)&&(K.od[st]=ht(G,6))}if(g.L=K.Tb==0?0:K.zd?1:2,G.Ka)return $n(g,3,"cannot parse filter header");var mt=U;if(U=Z=R,R=Z+mt,K=mt,g.Xb=(1<<rt(g.m,2))-1,mt<3*(st=g.Xb))T=7;else{for(Z+=3*st,K-=3*st,mt=0;mt<st;++mt){var Rt=T[U+0]|T[U+1]<<8|T[U+2]<<16;Rt>K&&(Rt=K),pt(g.Jc[+mt],T,Z,Rt),Z+=Rt,K-=Rt,U+=3}pt(g.Jc[+st],T,Z,K),T=Z<R?0:5}if(T!=0)return $n(g,T,"cannot parse partitions");for(T=rt(Z=g.m,7),U=Et(Z)?ht(Z,4):0,R=Et(Z)?ht(Z,4):0,K=Et(Z)?ht(Z,4):0,st=Et(Z)?ht(Z,4):0,Z=Et(Z)?ht(Z,4):0,mt=g.Qa,Rt=0;4>Rt;++Rt){if(mt.Cb){var It=mt.Zb[Rt];mt.Fb||(It+=T)}else{if(0<Rt){g.pb[Rt]=g.pb[0];continue}It=T}var St=g.pb[Rt];St.Sc[0]=oh[Tn(It+U,127)],St.Sc[1]=lh[Tn(It+0,127)],St.Eb[0]=2*oh[Tn(It+R,127)],St.Eb[1]=101581*lh[Tn(It+K,127)]>>16,8>St.Eb[1]&&(St.Eb[1]=8),St.Qc[0]=oh[Tn(It+st,117)],St.Qc[1]=lh[Tn(It+Z,127)],St.lc=It+Z}if(!W.Rb)return $n(g,4,"Not a key frame.");for(Et(G),W=g.Pa,T=0;4>T;++T){for(U=0;8>U;++U)for(R=0;3>R;++R)for(K=0;11>K;++K)st=kt(G,ec[T][U][R][K])?rt(G,8):Ua[T][U][R][K],W.Wc[T][U].Yb[R][K]=st;for(U=0;17>U;++U)W.Xc[T][U]=W.Wc[T][Pg[U]]}return g.kc=Et(G),g.kc&&(g.Bd=rt(G,8)),g.cb=1}function zc(g,w,T,R,U,G,W){var K=w[U].Yb[T];for(T=0;16>U;++U){if(!kt(g,K[T+0]))return U;for(;!kt(g,K[T+1]);)if(K=w[++U].Yb[0],T=0,U==16)return 16;var Z=w[U+1].Yb;if(kt(g,K[T+2])){var st=g,mt=0;if(kt(st,(It=K)[(Rt=T)+3]))if(kt(st,It[Rt+6])){for(K=0,Rt=2*(mt=kt(st,It[Rt+8]))+(It=kt(st,It[Rt+9+mt])),mt=0,It=pi[Rt];It[K];++K)mt+=mt+kt(st,It[K]);mt+=3+(8<<Rt)}else kt(st,It[Rt+7])?(mt=7+2*kt(st,165),mt+=kt(st,145)):mt=5+kt(st,159);else mt=kt(st,It[Rt+4])?3+kt(st,It[Rt+5]):2;K=Z[2]}else mt=1,K=Z[1];Z=W+wn[U],0>(st=g).b&&Nt(st);var Rt,It=st.b,St=(Rt=st.Ca>>1)-(st.I>>It)>>31;--st.b,st.Ca+=St,st.Ca|=1,st.I-=(Rt+1&St)<<It,G[Z]=((mt^St)-St)*R[(0<U)+0]}return 16}function Ea(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function Vl(g,w){if(g==null)return 0;if(w==null)return $n(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!zo(g,w))return 0;if(t(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var T=Ao[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-T>>4,g.zb=w.j-T>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+T>>4,g.Hb=w.va+15+T>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var R=g.ed;for(T=0;4>T;++T){var U;if(g.Qa.Cb){var G=g.Qa.Lb[T];g.Qa.Fb||(G+=R.Tb)}else G=R.Tb;for(U=0;1>=U;++U){var W=g.gd[T][U],K=G;if(R.Pc&&(K+=R.vd[0],U&&(K+=R.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<R.wb&&(Z=4<R.wb?Z>>2:Z>>1)>9-R.wb&&(Z=9-R.wb),1>Z&&(Z=1),W.dd=Z,W.tc=2*K+Z,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=U}}}T=0}else $n(g,6,"Frame setup failed"),T=g.a;if(T=T==0){if(T){g.$c=0,0<g.Aa||(g.Ic=Og);t:{T=g.Ic,R=4*(Z=g.za);var st=32*Z,mt=Z+1,Rt=0<g.L?Z*(0<g.Aa?2:1):0,It=(g.Aa==2?2:1)*Z;if((W=R+832+(U=3*(16*T+Ao[g.L])/2*st)+(G=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=W)T=0;else{if(W>g.Vb){if(g.Vb=0,g.Ec=s(W),g.Fc=0,g.Ec==null){T=$n(g,1,"no memory during frame initialization.");break t}g.Vb=W}W=g.Ec,K=g.Fc,g.Ac=W,g.Bc=K,K+=R,g.Gd=o(st,Is),g.Hd=0,g.rb=o(mt+1,bs),g.sb=1,g.wa=Rt?o(Rt,_s):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Z),t(!0),g.oc=W,g.pc=K,K+=832,g.ya=o(It,ea),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Z),g.R=16*Z,g.B=8*Z,Z=(st=Ao[g.L])*g.R,st=st/2*g.B,g.sa=W,g.ta=K+Z,g.qa=g.sa,g.ra=g.ta+16*T*g.R+st,g.Ha=g.qa,g.Ia=g.ra+8*T*g.B+st,g.$c=0,K+=U,g.mb=G?W:null,g.nb=G?K:null,t(K+G<=g.Fc+g.Vb),Ea(g),r(g.Ac,g.Bc,0,R),T=1}}if(T){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!mo){for(T=-255;255>=T;++T)vi[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Fs[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)rl[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)sl[255+T]=0>T?0:255<T?255:T;mo=1}Fa=Wr,ha=Ia,fa=Cs,Ni=An,Zr=Ca,fi=Na,Yl=ka,Va=la,Kc=Wo,tl=Hl,el=Go,nl=lo,Kl=co,Xc=Da,il=ws,go=wr,Xl=Ei,di=Gc,kr[0]=_r,kr[1]=qc,kr[2]=Ps,kr[3]=Hc,kr[4]=$r,kr[5]=ks,kr[6]=Lr,kr[7]=Yr,kr[8]=oa,kr[9]=Ra,wo[0]=Rs,wo[1]=Ul,wo[2]=ra,wo[3]=Ho,wo[4]=jn,wo[5]=aa,wo[6]=Ls,Ts[0]=Ds,Ts[1]=Bl,Ts[2]=zl,Ts[3]=Kr,Ts[4]=nn,Ts[5]=xi,Ts[6]=La,T=1}else T=0}T&&(T=function(St,qt){for(St.M=0;St.M<St.Va;++St.M){var Mt,vt=St.Jc[St.M&St.Xb],_t=St.m,Vt=St;for(Mt=0;Mt<Vt.za;++Mt){var Ht=_t,Ut=Vt,ce=Ut.Ac,ee=Ut.Bc+4*Mt,we=Ut.zc,re=Ut.ya[Ut.aa+Mt];if(Ut.Qa.Bb?re.$b=kt(Ht,Ut.Pa.jb[0])?2+kt(Ht,Ut.Pa.jb[2]):kt(Ht,Ut.Pa.jb[1]):re.$b=0,Ut.kc&&(re.Ad=kt(Ht,Ut.Bd)),re.Za=!kt(Ht,145)+0,re.Za){var vn=re.Ob,xn=0;for(Ut=0;4>Ut;++Ut){var Xe,$e=we[0+Ut];for(Xe=0;4>Xe;++Xe){$e=Nd[ce[ee+Xe]][$e];for(var kn=ol[kt(Ht,$e[0])];0<kn;)kn=ol[2*kn+kt(Ht,$e[kn])];$e=-kn,ce[ee+Xe]=$e}i(vn,xn,ce,ee,4),xn+=4,we[0+Ut]=$e}}else $e=kt(Ht,156)?kt(Ht,128)?1:3:kt(Ht,163)?2:0,re.Ob[0]=$e,r(ce,ee,$e,4),r(we,0,$e,4);re.Dd=kt(Ht,142)?kt(Ht,114)?kt(Ht,183)?1:3:2:0}if(Vt.m.Ka)return $n(St,7,"Premature end-of-partition0 encountered.");for(;St.ja<St.za;++St.ja){if(Vt=vt,Ht=(_t=St).rb[_t.sb-1],ce=_t.rb[_t.sb+_t.ja],Mt=_t.ya[_t.aa+_t.ja],ee=_t.kc?Mt.Ad:0)Ht.la=ce.la=0,Mt.Za||(Ht.Na=ce.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var En,Ue;if(Ht=ce,ce=Vt,ee=_t.Pa.Xc,we=_t.ya[_t.aa+_t.ja],re=_t.pb[we.$b],Ut=we.ad,vn=0,xn=_t.rb[_t.sb-1],$e=Xe=0,r(Ut,vn,0,384),we.Za)var Fn=0,Ne=ee[3];else{kn=s(16);var De=Ht.Na+xn.Na;if(De=Bi(ce,ee[1],De,re.Eb,0,kn,0),Ht.Na=xn.Na=(0<De)+0,1<De)Fa(kn,0,Ut,vn);else{var mn=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)Ut[vn+kn]=mn}Fn=1,Ne=ee[0]}var yn=15&Ht.la,er=15&xn.la;for(kn=0;4>kn;++kn){var qi=1&er;for(mn=Ue=0;4>mn;++mn)yn=yn>>1|(qi=(De=Bi(ce,Ne,De=qi+(1&yn),re.Sc,Fn,Ut,vn))>Fn)<<7,Ue=Ue<<2|(3<De?3:1<De?2:Ut[vn+0]!=0),vn+=16;yn>>=4,er=er>>1|qi<<7,Xe=(Xe<<8|Ue)>>>0}for(Ne=yn,Fn=er>>4,En=0;4>En;En+=2){for(Ue=0,yn=Ht.la>>4+En,er=xn.la>>4+En,kn=0;2>kn;++kn){for(qi=1&er,mn=0;2>mn;++mn)De=qi+(1&yn),yn=yn>>1|(qi=0<(De=Bi(ce,ee[2],De,re.Qc,0,Ut,vn)))<<3,Ue=Ue<<2|(3<De?3:1<De?2:Ut[vn+0]!=0),vn+=16;yn>>=2,er=er>>1|qi<<5}$e|=Ue<<4*En,Ne|=yn<<4<<En,Fn|=(240&er)<<En}Ht.la=Ne,xn.la=Fn,we.Hc=Xe,we.Gc=$e,we.ia=43690&$e?0:re.ia,ee=!(Xe|$e)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[Mt.$b][Mt.Za],_t.wa[_t.Y+_t.ja].La|=!ee),Vt.Ka)return $n(St,7,"Premature end-of-file encountered.")}if(Ea(St),_t=qt,Vt=1,Mt=(vt=St).D,Ht=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Mt.M=vt.M,Mt.uc=Ht,Xr(vt,Mt),Vt=1,Mt=(Ue=vt.D).Nb,Ht=($e=Ao[vt.L])*vt.R,ce=$e/2*vt.B,kn=16*Mt*vt.R,mn=8*Mt*vt.B,ee=vt.sa,we=vt.ta-Ht+kn,re=vt.qa,Ut=vt.ra-ce+mn,vn=vt.Ha,xn=vt.Ia-ce+mn,er=(yn=Ue.M)==0,Xe=yn>=vt.Va-1,vt.Aa==2&&Xr(vt,Ue),Ue.uc)for(qi=(De=vt).D.M,t(De.D.uc),Ue=De.yb;Ue<De.Hb;++Ue){Fn=Ue,Ne=qi;var yi=(_i=(ti=De).D).Nb;En=ti.R;var _i=_i.wa[_i.Y+Fn],Ii=ti.sa,Us=ti.ta+16*yi*En+16*Fn,Nn=_i.dd,Ci=_i.tc;if(Ci!=0)if(t(3<=Ci),ti.L==1)0<Fn&&go(Ii,Us,En,Ci+4),_i.La&&di(Ii,Us,En,Ci),0<Ne&&il(Ii,Us,En,Ci+4),_i.La&&Xl(Ii,Us,En,Ci);else{var da=ti.B,ul=ti.qa,ic=ti.ra+8*yi*da+8*Fn,hl=ti.Ha,ti=ti.Ia+8*yi*da+8*Fn;yi=_i.ld,0<Fn&&(Va(Ii,Us,En,Ci+4,Nn,yi),tl(ul,ic,hl,ti,da,Ci+4,Nn,yi)),_i.La&&(nl(Ii,Us,En,Ci,Nn,yi),Xc(ul,ic,hl,ti,da,Ci,Nn,yi)),0<Ne&&(Yl(Ii,Us,En,Ci+4,Nn,yi),Kc(ul,ic,hl,ti,da,Ci+4,Nn,yi)),_i.La&&(el(Ii,Us,En,Ci,Nn,yi),Kl(ul,ic,hl,ti,da,Ci,Nn,yi))}}if(vt.ia&&alert("todo:DitherRow"),_t.put!=null){if(Ue=16*yn,yn=16*(yn+1),er?(_t.y=vt.sa,_t.O=vt.ta+kn,_t.f=vt.qa,_t.N=vt.ra+mn,_t.ea=vt.Ha,_t.W=vt.Ia+mn):(Ue-=$e,_t.y=ee,_t.O=we,_t.f=re,_t.N=Ut,_t.ea=vn,_t.W=xn),Xe||(yn-=$e),yn>_t.o&&(yn=_t.o),_t.F=null,_t.J=null,vt.Fa!=null&&0<vt.Fa.length&&Ue<yn&&(_t.J=Yo(vt,_t,Ue,yn-Ue),_t.F=vt.mb,_t.F==null&&_t.F.length==0)){Vt=$n(vt,3,"Could not decode alpha data.");break t}Ue<_t.j&&($e=_t.j-Ue,Ue=_t.j,t(!(1&$e)),_t.O+=vt.R*$e,_t.N+=vt.B*($e>>1),_t.W+=vt.B*($e>>1),_t.F!=null&&(_t.J+=_t.width*$e)),Ue<yn&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=Ue-_t.j,_t.U=_t.va-_t.v,_t.T=yn-Ue,Vt=_t.put(_t))}Mt+1!=vt.Ic||Xe||(i(vt.sa,vt.ta-Ht,ee,we+16*vt.R,Ht),i(vt.qa,vt.ra-ce,re,Ut+8*vt.B,ce),i(vt.Ha,vt.Ia-ce,vn,xn+8*vt.B,ce))}if(!Vt)return $n(St,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),T&=1}return T?(g.cb=0,T):0}function cr(g,w,T,R,U){U=g[w+T+32*R]+(U>>3),g[w+T+32*R]=-256&U?0>U?0:255:U}function qo(g,w,T,R,U,G){cr(g,w,0,T,R+U),cr(g,w,1,T,R+G),cr(g,w,2,T,R-G),cr(g,w,3,T,R-U)}function gn(g){return(20091*g>>16)+g}function ur(g,w,T,R){var U,G=0,W=s(16);for(U=0;4>U;++U){var K=g[w+0]+g[w+8],Z=g[w+0]-g[w+8],st=(35468*g[w+4]>>16)-gn(g[w+12]),mt=gn(g[w+4])+(35468*g[w+12]>>16);W[G+0]=K+mt,W[G+1]=Z+st,W[G+2]=Z-st,W[G+3]=K-mt,G+=4,w++}for(U=G=0;4>U;++U)K=(g=W[G+0]+4)+W[G+8],Z=g-W[G+8],st=(35468*W[G+4]>>16)-gn(W[G+12]),cr(T,R,0,0,K+(mt=gn(W[G+4])+(35468*W[G+12]>>16))),cr(T,R,1,0,Z+st),cr(T,R,2,0,Z-st),cr(T,R,3,0,K-mt),G++,R+=32}function Na(g,w,T,R){var U=g[w+0]+4,G=35468*g[w+4]>>16,W=gn(g[w+4]),K=35468*g[w+1]>>16;qo(T,R,0,U+W,g=gn(g[w+1]),K),qo(T,R,1,U+G,g,K),qo(T,R,2,U-G,g,K),qo(T,R,3,U-W,g,K)}function Ia(g,w,T,R,U){ur(g,w,T,R),U&&ur(g,w+16,T,R+4)}function Cs(g,w,T,R){ha(g,w+0,T,R,1),ha(g,w+32,T,R+128,1)}function An(g,w,T,R){var U;for(g=g[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)cr(T,R,w,U,g)}function Ca(g,w,T,R){g[w+0]&&Ni(g,w+0,T,R),g[w+16]&&Ni(g,w+16,T,R+4),g[w+32]&&Ni(g,w+32,T,R+128),g[w+48]&&Ni(g,w+48,T,R+128+4)}function Wr(g,w,T,R){var U,G=s(16);for(U=0;4>U;++U){var W=g[w+0+U]+g[w+12+U],K=g[w+4+U]+g[w+8+U],Z=g[w+4+U]-g[w+8+U],st=g[w+0+U]-g[w+12+U];G[0+U]=W+K,G[8+U]=W-K,G[4+U]=st+Z,G[12+U]=st-Z}for(U=0;4>U;++U)W=(g=G[0+4*U]+3)+G[3+4*U],K=G[1+4*U]+G[2+4*U],Z=G[1+4*U]-G[2+4*U],st=g-G[3+4*U],T[R+0]=W+K>>3,T[R+16]=st+Z>>3,T[R+32]=W-K>>3,T[R+48]=st-Z>>3,R+=64}function ia(g,w,T){var R,U=w-32,G=Zi,W=255-g[U-1];for(R=0;R<T;++R){var K,Z=G,st=W+g[w-1];for(K=0;K<T;++K)g[w+K]=Z[st+g[U+K]];w+=32}}function qc(g,w){ia(g,w,4)}function Bl(g,w){ia(g,w,8)}function Ul(g,w){ia(g,w,16)}function ra(g,w){var T;for(T=0;16>T;++T)i(g,w+32*T,g,w-32,16)}function Ho(g,w){var T;for(T=16;0<T;--T)r(g,w,g[w-1],16),w+=32}function sa(g,w,T){var R;for(R=0;16>R;++R)r(w,T+32*R,g,16)}function Rs(g,w){var T,R=16;for(T=0;16>T;++T)R+=g[w-1+32*T]+g[w+T-32];sa(R>>5,g,w)}function jn(g,w){var T,R=8;for(T=0;16>T;++T)R+=g[w-1+32*T];sa(R>>4,g,w)}function aa(g,w){var T,R=8;for(T=0;16>T;++T)R+=g[w+T-32];sa(R>>4,g,w)}function Ls(g,w){sa(128,g,w)}function Ie(g,w,T){return g+2*w+T+2>>2}function Ps(g,w){var T,R=w-32;for(R=new Uint8Array([Ie(g[R-1],g[R+0],g[R+1]),Ie(g[R+0],g[R+1],g[R+2]),Ie(g[R+1],g[R+2],g[R+3]),Ie(g[R+2],g[R+3],g[R+4])]),T=0;4>T;++T)i(g,w+32*T,R,0,R.length)}function Hc(g,w){var T=g[w-1],R=g[w-1+32],U=g[w-1+64],G=g[w-1+96];Jt(g,w+0,16843009*Ie(g[w-1-32],T,R)),Jt(g,w+32,16843009*Ie(T,R,U)),Jt(g,w+64,16843009*Ie(R,U,G)),Jt(g,w+96,16843009*Ie(U,G,G))}function _r(g,w){var T,R=4;for(T=0;4>T;++T)R+=g[w+T-32]+g[w-1+32*T];for(R>>=3,T=0;4>T;++T)r(g,w+32*T,R,4)}function $r(g,w){var T=g[w-1+0],R=g[w-1+32],U=g[w-1+64],G=g[w-1-32],W=g[w+0-32],K=g[w+1-32],Z=g[w+2-32],st=g[w+3-32];g[w+0+96]=Ie(R,U,g[w-1+96]),g[w+1+96]=g[w+0+64]=Ie(T,R,U),g[w+2+96]=g[w+1+64]=g[w+0+32]=Ie(G,T,R),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Ie(W,G,T),g[w+3+64]=g[w+2+32]=g[w+1+0]=Ie(K,W,G),g[w+3+32]=g[w+2+0]=Ie(Z,K,W),g[w+3+0]=Ie(st,Z,K)}function Lr(g,w){var T=g[w+1-32],R=g[w+2-32],U=g[w+3-32],G=g[w+4-32],W=g[w+5-32],K=g[w+6-32],Z=g[w+7-32];g[w+0+0]=Ie(g[w+0-32],T,R),g[w+1+0]=g[w+0+32]=Ie(T,R,U),g[w+2+0]=g[w+1+32]=g[w+0+64]=Ie(R,U,G),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Ie(U,G,W),g[w+3+32]=g[w+2+64]=g[w+1+96]=Ie(G,W,K),g[w+3+64]=g[w+2+96]=Ie(W,K,Z),g[w+3+96]=Ie(K,Z,Z)}function ks(g,w){var T=g[w-1+0],R=g[w-1+32],U=g[w-1+64],G=g[w-1-32],W=g[w+0-32],K=g[w+1-32],Z=g[w+2-32],st=g[w+3-32];g[w+0+0]=g[w+1+64]=G+W+1>>1,g[w+1+0]=g[w+2+64]=W+K+1>>1,g[w+2+0]=g[w+3+64]=K+Z+1>>1,g[w+3+0]=Z+st+1>>1,g[w+0+96]=Ie(U,R,T),g[w+0+64]=Ie(R,T,G),g[w+0+32]=g[w+1+96]=Ie(T,G,W),g[w+1+32]=g[w+2+96]=Ie(G,W,K),g[w+2+32]=g[w+3+96]=Ie(W,K,Z),g[w+3+32]=Ie(K,Z,st)}function Yr(g,w){var T=g[w+0-32],R=g[w+1-32],U=g[w+2-32],G=g[w+3-32],W=g[w+4-32],K=g[w+5-32],Z=g[w+6-32],st=g[w+7-32];g[w+0+0]=T+R+1>>1,g[w+1+0]=g[w+0+64]=R+U+1>>1,g[w+2+0]=g[w+1+64]=U+G+1>>1,g[w+3+0]=g[w+2+64]=G+W+1>>1,g[w+0+32]=Ie(T,R,U),g[w+1+32]=g[w+0+96]=Ie(R,U,G),g[w+2+32]=g[w+1+96]=Ie(U,G,W),g[w+3+32]=g[w+2+96]=Ie(G,W,K),g[w+3+64]=Ie(W,K,Z),g[w+3+96]=Ie(K,Z,st)}function Ra(g,w){var T=g[w-1+0],R=g[w-1+32],U=g[w-1+64],G=g[w-1+96];g[w+0+0]=T+R+1>>1,g[w+2+0]=g[w+0+32]=R+U+1>>1,g[w+2+32]=g[w+0+64]=U+G+1>>1,g[w+1+0]=Ie(T,R,U),g[w+3+0]=g[w+1+32]=Ie(R,U,G),g[w+3+32]=g[w+1+64]=Ie(U,G,G),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=G}function oa(g,w){var T=g[w-1+0],R=g[w-1+32],U=g[w-1+64],G=g[w-1+96],W=g[w-1-32],K=g[w+0-32],Z=g[w+1-32],st=g[w+2-32];g[w+0+0]=g[w+2+32]=T+W+1>>1,g[w+0+32]=g[w+2+64]=R+T+1>>1,g[w+0+64]=g[w+2+96]=U+R+1>>1,g[w+0+96]=G+U+1>>1,g[w+3+0]=Ie(K,Z,st),g[w+2+0]=Ie(W,K,Z),g[w+1+0]=g[w+3+32]=Ie(T,W,K),g[w+1+32]=g[w+3+64]=Ie(R,T,W),g[w+1+64]=g[w+3+96]=Ie(U,R,T),g[w+1+96]=Ie(G,U,R)}function zl(g,w){var T;for(T=0;8>T;++T)i(g,w+32*T,g,w-32,8)}function Kr(g,w){var T;for(T=0;8>T;++T)r(g,w,g[w-1],8),w+=32}function br(g,w,T){var R;for(R=0;8>R;++R)r(w,T+32*R,g,8)}function Ds(g,w){var T,R=8;for(T=0;8>T;++T)R+=g[w+T-32]+g[w-1+32*T];br(R>>4,g,w)}function xi(g,w){var T,R=4;for(T=0;8>T;++T)R+=g[w+T-32];br(R>>3,g,w)}function nn(g,w){var T,R=4;for(T=0;8>T;++T)R+=g[w-1+32*T];br(R>>3,g,w)}function La(g,w){br(128,g,w)}function Os(g,w,T){var R=g[w-T],U=g[w+0],G=3*(U-R)+af[1020+g[w-2*T]-g[w+T]],W=Ql[112+(G+4>>3)];g[w-T]=Zi[255+R+Ql[112+(G+3>>3)]],g[w+0]=Zi[255+U-W]}function ql(g,w,T,R){var U=g[w+0],G=g[w+T];return Vs[255+g[w-2*T]-g[w-T]]>R||Vs[255+G-U]>R}function ao(g,w,T,R){return 4*Vs[255+g[w-T]-g[w+0]]+Vs[255+g[w-2*T]-g[w+T]]<=R}function oo(g,w,T,R,U){var G=g[w-3*T],W=g[w-2*T],K=g[w-T],Z=g[w+0],st=g[w+T],mt=g[w+2*T],Rt=g[w+3*T];return 4*Vs[255+K-Z]+Vs[255+W-st]>R?0:Vs[255+g[w-4*T]-G]<=U&&Vs[255+G-W]<=U&&Vs[255+W-K]<=U&&Vs[255+Rt-mt]<=U&&Vs[255+mt-st]<=U&&Vs[255+st-Z]<=U}function ws(g,w,T,R){var U=2*R+1;for(R=0;16>R;++R)ao(g,w+R,T,U)&&Os(g,w+R,T)}function wr(g,w,T,R){var U=2*R+1;for(R=0;16>R;++R)ao(g,w+R*T,1,U)&&Os(g,w+R*T,1)}function Ei(g,w,T,R){var U;for(U=3;0<U;--U)ws(g,w+=4*T,T,R)}function Gc(g,w,T,R){var U;for(U=3;0<U;--U)wr(g,w+=4,T,R)}function Pa(g,w,T,R,U,G,W,K){for(G=2*G+1;0<U--;){if(oo(g,w,T,G,W))if(ql(g,w,T,K))Os(g,w,T);else{var Z=g,st=w,mt=T,Rt=Z[st-2*mt],It=Z[st-mt],St=Z[st+0],qt=Z[st+mt],Mt=Z[st+2*mt],vt=27*(Vt=af[1020+3*(St-It)+af[1020+Rt-qt]])+63>>7,_t=18*Vt+63>>7,Vt=9*Vt+63>>7;Z[st-3*mt]=Zi[255+Z[st-3*mt]+Vt],Z[st-2*mt]=Zi[255+Rt+_t],Z[st-mt]=Zi[255+It+vt],Z[st+0]=Zi[255+St-vt],Z[st+mt]=Zi[255+qt-_t],Z[st+2*mt]=Zi[255+Mt-Vt]}w+=R}}function hr(g,w,T,R,U,G,W,K){for(G=2*G+1;0<U--;){if(oo(g,w,T,G,W))if(ql(g,w,T,K))Os(g,w,T);else{var Z=g,st=w,mt=T,Rt=Z[st-mt],It=Z[st+0],St=Z[st+mt],qt=Ql[112+((Mt=3*(It-Rt))+4>>3)],Mt=Ql[112+(Mt+3>>3)],vt=qt+1>>1;Z[st-2*mt]=Zi[255+Z[st-2*mt]+vt],Z[st-mt]=Zi[255+Rt+Mt],Z[st+0]=Zi[255+It-qt],Z[st+mt]=Zi[255+St-vt]}w+=R}}function ka(g,w,T,R,U,G){Pa(g,w,T,1,16,R,U,G)}function la(g,w,T,R,U,G){Pa(g,w,1,T,16,R,U,G)}function Go(g,w,T,R,U,G){var W;for(W=3;0<W;--W)hr(g,w+=4*T,T,1,16,R,U,G)}function lo(g,w,T,R,U,G){var W;for(W=3;0<W;--W)hr(g,w+=4,1,T,16,R,U,G)}function Wo(g,w,T,R,U,G,W,K){Pa(g,w,U,1,8,G,W,K),Pa(T,R,U,1,8,G,W,K)}function Hl(g,w,T,R,U,G,W,K){Pa(g,w,1,U,8,G,W,K),Pa(T,R,1,U,8,G,W,K)}function co(g,w,T,R,U,G,W,K){hr(g,w+4*U,U,1,8,G,W,K),hr(T,R+4*U,U,1,8,G,W,K)}function Da(g,w,T,R,U,G,W,K){hr(g,w+4,1,U,8,G,W,K),hr(T,R+4,1,U,8,G,W,K)}function uo(){this.ba=new Oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $o(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ho(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oa(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new tt,this.yc=new D}function Wc(){this.xb=this.a=0,this.l=new na,this.ca=new Oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oa,this.ab=0,this.gc=o(4,ho),this.Oc=0}function ca(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ma(g,w,T,R,U,G,W){for(g=g==null?0:g[w+0],w=0;w<W;++w)U[G+w]=g+T[R+w]&255,g=U[G+w]}function fo(g,w,T,R,U,G,W){var K;if(g==null)Ma(null,null,T,R,U,G,W);else for(K=0;K<W;++K)U[G+K]=g[w+K]+T[R+K]&255}function Sr(g,w,T,R,U,G,W){if(g==null)Ma(null,null,T,R,U,G,W);else{var K,Z=g[w+0],st=Z,mt=Z;for(K=0;K<W;++K)st=mt+(Z=g[w+K])-st,mt=T[R+K]+(-256&st?0>st?0:255:st)&255,st=Z,U[G+K]=mt}}function Yo(g,w,T,R){var U=w.width,G=w.o;if(t(g!=null&&w!=null),0>T||0>=R||T+R>G)return null;if(!g.Cc){if(g.ga==null){var W;if(g.ga=new ca,(W=g.ga==null)||(W=w.width*w.o,t(g.Gb.length==0),g.Gb=s(W),g.Uc=0,g.Gb==null?W=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,W=1),W=!W),!W){W=g.ga;var K=g.Fa,Z=g.P,st=g.qc,mt=g.mb,Rt=g.nb,It=Z+1,St=st-1,qt=W.l;if(t(K!=null&&mt!=null&&w!=null),za[0]=null,za[1]=Ma,za[2]=fo,za[3]=Sr,W.ca=mt,W.tb=Rt,W.c=w.width,W.i=w.height,t(0<W.c&&0<W.i),1>=st)w=0;else if(W.$a=K[Z+0]>>0&3,W.Z=K[Z+0]>>2&3,W.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)w=0;else if(qt.put=lr,qt.ac=ui,qt.bc=ys,qt.ma=W,qt.width=w.width,qt.height=w.height,qt.Da=w.Da,qt.v=w.v,qt.va=w.va,qt.j=w.j,qt.o=w.o,W.$a)t:{t(W.$a==1),w=Wn();e:for(;;){if(w==null){w=0;break t}if(t(W!=null),W.mc=w,w.c=W.c,w.i=W.i,w.l=W.l,w.l.ma=W,w.l.width=W.c,w.l.height=W.i,w.a=0,ft(w.m,K,It,St),!Sn(W.c,W.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Rr(w.s)?(W.ic=1,K=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(K),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(W.ic=0,w=Zs(w,W.c)),!w))break e;w=1;break t}W.mc=null,w=0}else w=St>=W.c*W.i;W=!w}if(W)return null;g.ga.Lc!=1?g.Ga=0:R=G-T}t(g.ga!=null),t(T+R<=G);t:{if(w=(K=g.ga).c,G=K.l.o,K.$a==0){if(It=g.rc,St=g.Vc,qt=g.Fa,Z=g.P+1+T*w,st=g.mb,mt=g.nb+T*w,t(Z<=g.P+g.qc),K.Z!=0)for(t(za[K.Z]!=null),W=0;W<R;++W)za[K.Z](It,St,qt,Z,st,mt,w),It=st,St=mt,mt+=w,Z+=w;else for(W=0;W<R;++W)i(st,mt,qt,Z,w),It=st,St=mt,mt+=w,Z+=w;g.rc=It,g.Vc=St}else{if(t(K.mc!=null),w=T+R,t((W=K.mc)!=null),t(w<=W.i),W.C>=w)w=1;else if(K.ic||wt(),K.ic){K=W.V,It=W.Ba,St=W.c;var Mt=W.i,vt=(qt=1,Z=W.$/St,st=W.$%St,mt=W.m,Rt=W.s,W.$),_t=St*Mt,Vt=St*w,Ht=Rt.wc,Ut=vt<Vt?hi(Rt,st,Z):null;t(vt<=_t),t(w<=Mt),t(Rr(Rt));e:for(;;){for(;!mt.h&&vt<Vt;){if(st&Ht||(Ut=hi(Rt,st,Z)),t(Ut!=null),ct(mt),256>(Mt=Qn(Ut.G[0],Ut.H[0],mt)))K[It+vt]=Mt,++vt,++st>=St&&(st=0,++Z<=w&&!(Z%16)&&Mi(W,Z));else{if(!(280>Mt)){qt=0;break e}Mt=Rn(Mt-256,mt);var ce,ee=Qn(Ut.G[4],Ut.H[4],mt);if(ct(mt),!(vt>=(ee=Ln(St,ee=Rn(ee,mt)))&&_t-vt>=Mt)){qt=0;break e}for(ce=0;ce<Mt;++ce)K[It+vt+ce]=K[It+vt+ce-ee];for(vt+=Mt,st+=Mt;st>=St;)st-=St,++Z<=w&&!(Z%16)&&Mi(W,Z);vt<Vt&&st&Ht&&(Ut=hi(Rt,st,Z))}t(mt.h==et(mt))}Mi(W,Z>w?w:Z);break e}!qt||mt.h&&vt<_t?(qt=0,W.a=mt.h?5:3):W.$=vt,w=qt}else w=Ti(W,W.V,W.Ba,W.c,W.i,w,ta);if(!w){R=0;break t}}T+R>=G&&(g.Cc=1),R=1}if(!R)return null;if(g.Cc&&((R=g.ga)!=null&&(R.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*U}function A(g,w,T,R,U,G){for(;0<U--;){var W,K=g,Z=w+(T?1:0),st=g,mt=w+(T?0:3);for(W=0;W<R;++W){var Rt=st[mt+4*W];Rt!=255&&(Rt*=32897,K[Z+4*W+0]=K[Z+4*W+0]*Rt>>23,K[Z+4*W+1]=K[Z+4*W+1]*Rt>>23,K[Z+4*W+2]=K[Z+4*W+2]*Rt>>23)}w+=G}}function z(g,w,T,R,U){for(;0<R--;){var G;for(G=0;G<T;++G){var W=g[w+2*G+0],K=15&(st=g[w+2*G+1]),Z=4369*K,st=(240&st|st>>4)*Z>>16;g[w+2*G+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,g[w+2*G+1]=240&st|K}w+=U}}function at(g,w,T,R,U,G,W,K){var Z,st,mt=255;for(st=0;st<U;++st){for(Z=0;Z<R;++Z){var Rt=g[w+Z];G[W+4*Z]=Rt,mt&=Rt}w+=T,W+=K}return mt!=255}function dt(g,w,T,R,U){var G;for(G=0;G<U;++G)T[R+G]=g[w+G]>>8}function wt(){Ss=A,Ze=z,tn=at,Yn=dt}function jt(g,w,T){L[g]=function(R,U,G,W,K,Z,st,mt,Rt,It,St,qt,Mt,vt,_t,Vt,Ht){var Ut,ce=Ht-1>>1,ee=K[Z+0]|st[mt+0]<<16,we=Rt[It+0]|St[qt+0]<<16;t(R!=null);var re=3*ee+we+131074>>2;for(w(R[U+0],255&re,re>>16,Mt,vt),G!=null&&(re=3*we+ee+131074>>2,w(G[W+0],255&re,re>>16,_t,Vt)),Ut=1;Ut<=ce;++Ut){var vn=K[Z+Ut]|st[mt+Ut]<<16,xn=Rt[It+Ut]|St[qt+Ut]<<16,Xe=ee+vn+we+xn+524296,$e=Xe+2*(vn+we)>>3;re=$e+ee>>1,ee=(Xe=Xe+2*(ee+xn)>>3)+vn>>1,w(R[U+2*Ut-1],255&re,re>>16,Mt,vt+(2*Ut-1)*T),w(R[U+2*Ut-0],255&ee,ee>>16,Mt,vt+(2*Ut-0)*T),G!=null&&(re=Xe+we>>1,ee=$e+xn>>1,w(G[W+2*Ut-1],255&re,re>>16,_t,Vt+(2*Ut-1)*T),w(G[W+2*Ut+0],255&ee,ee>>16,_t,Vt+(2*Ut+0)*T)),ee=vn,we=xn}1&Ht||(re=3*ee+we+131074>>2,w(R[U+Ht-1],255&re,re>>16,Mt,vt+(Ht-1)*T),G!=null&&(re=3*we+ee+131074>>2,w(G[W+Ht-1],255&re,re>>16,_t,Vt+(Ht-1)*T)))}}function Yt(){tr[Ar]=So,tr[Qc]=qa,tr[Ba]=ll,tr[sh]=cf,tr[Jl]=uf,tr[vo]=tu,tr[of]=hf,tr[ah]=qa,tr[al]=cf,tr[yo]=uf,tr[Jc]=tu}function ie(g){return g&-16384?0>g?0:255:g>>tv}function m(g,w){return ie((19077*g>>8)+(26149*w>>8)-14234)}function x(g,w,T){return ie((19077*g>>8)-(6419*w>>8)-(13320*T>>8)+8708)}function k(g,w){return ie((19077*g>>8)+(33050*w>>8)-17685)}function X(g,w,T,R,U){R[U+0]=m(g,T),R[U+1]=x(g,w,T),R[U+2]=k(g,w)}function bt(g,w,T,R,U){R[U+0]=k(g,w),R[U+1]=x(g,w,T),R[U+2]=m(g,T)}function Lt(g,w,T,R,U){var G=x(g,w,T);w=G<<3&224|k(g,w)>>3,R[U+0]=248&m(g,T)|G>>5,R[U+1]=w}function Kt(g,w,T,R,U){var G=240&k(g,w)|15;R[U+0]=240&m(g,T)|x(g,w,T)>>4,R[U+1]=G}function Ce(g,w,T,R,U){R[U+0]=255,X(g,w,T,R,U+1)}function rn(g,w,T,R,U){bt(g,w,T,R,U),R[U+3]=255}function Be(g,w,T,R,U){X(g,w,T,R,U),R[U+3]=255}function Tn(g,w){return 0>g?0:g>w?w:g}function Pn(g,w,T){L[g]=function(R,U,G,W,K,Z,st,mt,Rt){for(var It=mt+(-2&Rt)*T;mt!=It;)w(R[U+0],G[W+0],K[Z+0],st,mt),w(R[U+1],G[W+0],K[Z+0],st,mt+T),U+=2,++W,++Z,mt+=2*T;1&Rt&&w(R[U+0],G[W+0],K[Z+0],st,mt)}}function Ms(g,w,T){return T==0?g==0?w==0?6:5:w==0?4:0:T}function mi(g,w,T,R,U){switch(g>>>30){case 3:ha(w,T,R,U,0);break;case 2:fi(w,T,R,U);break;case 1:Ni(w,T,R,U)}}function Xr(g,w){var T,R,U=w.M,G=w.Nb,W=g.oc,K=g.pc+40,Z=g.oc,st=g.pc+584,mt=g.oc,Rt=g.pc+600;for(T=0;16>T;++T)W[K+32*T-1]=129;for(T=0;8>T;++T)Z[st+32*T-1]=129,mt[Rt+32*T-1]=129;for(0<U?W[K-1-32]=Z[st-1-32]=mt[Rt-1-32]=129:(r(W,K-32-1,127,21),r(Z,st-32-1,127,9),r(mt,Rt-32-1,127,9)),R=0;R<g.za;++R){var It=w.ya[w.aa+R];if(0<R){for(T=-1;16>T;++T)i(W,K+32*T-4,W,K+32*T+12,4);for(T=-1;8>T;++T)i(Z,st+32*T-4,Z,st+32*T+4,4),i(mt,Rt+32*T-4,mt,Rt+32*T+4,4)}var St=g.Gd,qt=g.Hd+R,Mt=It.ad,vt=It.Hc;if(0<U&&(i(W,K-32,St[qt].y,0,16),i(Z,st-32,St[qt].f,0,8),i(mt,Rt-32,St[qt].ea,0,8)),It.Za){var _t=W,Vt=K-32+16;for(0<U&&(R>=g.za-1?r(_t,Vt,St[qt].y[15],4):i(_t,Vt,St[qt+1].y,0,4)),T=0;4>T;T++)_t[Vt+128+T]=_t[Vt+256+T]=_t[Vt+384+T]=_t[Vt+0+T];for(T=0;16>T;++T,vt<<=2)_t=W,Vt=K+nc[T],kr[It.Ob[T]](_t,Vt),mi(vt,Mt,16*+T,_t,Vt)}else if(_t=Ms(R,U,It.Ob[0]),wo[_t](W,K),vt!=0)for(T=0;16>T;++T,vt<<=2)mi(vt,Mt,16*+T,W,K+nc[T]);for(T=It.Gc,_t=Ms(R,U,It.Dd),Ts[_t](Z,st),Ts[_t](mt,Rt),vt=Mt,_t=Z,Vt=st,255&(It=T>>0)&&(170&It?fa(vt,256,_t,Vt):Zr(vt,256,_t,Vt)),It=mt,vt=Rt,255&(T>>=8)&&(170&T?fa(Mt,320,It,vt):Zr(Mt,320,It,vt)),U<g.Ub-1&&(i(St[qt].y,0,W,K+480,16),i(St[qt].f,0,Z,st+224,8),i(St[qt].ea,0,mt,Rt+224,8)),T=8*G*g.B,St=g.sa,qt=g.ta+16*R+16*G*g.R,Mt=g.qa,It=g.ra+8*R+T,vt=g.Ha,_t=g.Ia+8*R+T,T=0;16>T;++T)i(St,qt+T*g.R,W,K+32*T,16);for(T=0;8>T;++T)i(Mt,It+T*g.B,Z,st+32*T,8),i(vt,_t+T*g.B,mt,Rt+32*T,8)}}function ja(g,w,T,R,U,G,W,K,Z){var st=[0],mt=[0],Rt=0,It=Z!=null?Z.kd:0,St=Z??new $o;if(g==null||12>T)return 7;St.data=g,St.w=w,St.ha=T,w=[w],T=[T],St.gb=[St.gb];t:{var qt=w,Mt=T,vt=St.gb;if(t(g!=null),t(Mt!=null),t(vt!=null),vt[0]=0,12<=Mt[0]&&!e(g,qt[0],"RIFF")){if(e(g,qt[0]+8,"WEBP")){vt=3;break t}var _t=te(g,qt[0]+4);if(12>_t||4294967286<_t){vt=3;break t}if(It&&_t>Mt[0]-8){vt=7;break t}vt[0]=_t,qt[0]+=12,Mt[0]-=12}vt=0}if(vt!=0)return vt;for(_t=0<St.gb[0],T=T[0];;){t:{var Vt=g;Mt=w,vt=T;var Ht=st,Ut=mt,ce=qt=[0];if((re=Rt=[Rt])[0]=0,8>vt[0])vt=7;else{if(!e(Vt,Mt[0],"VP8X")){if(te(Vt,Mt[0]+4)!=10){vt=3;break t}if(18>vt[0]){vt=7;break t}var ee=te(Vt,Mt[0]+8),we=1+ne(Vt,Mt[0]+12);if(2147483648<=we*(Vt=1+ne(Vt,Mt[0]+15))){vt=3;break t}ce!=null&&(ce[0]=ee),Ht!=null&&(Ht[0]=we),Ut!=null&&(Ut[0]=Vt),Mt[0]+=18,vt[0]-=18,re[0]=1}vt=0}}if(Rt=Rt[0],qt=qt[0],vt!=0)return vt;if(Mt=!!(2&qt),!_t&&Rt)return 3;if(G!=null&&(G[0]=!!(16&qt)),W!=null&&(W[0]=Mt),K!=null&&(K[0]=0),W=st[0],qt=mt[0],Rt&&Mt&&Z==null){vt=0;break}if(4>T){vt=7;break}if(_t&&Rt||!_t&&!Rt&&!e(g,w[0],"ALPH")){T=[T],St.na=[St.na],St.P=[St.P],St.Sa=[St.Sa];t:{ee=g,vt=w,_t=T;var re=St.gb;Ht=St.na,Ut=St.P,ce=St.Sa,we=22,t(ee!=null),t(_t!=null),Vt=vt[0];var vn=_t[0];for(t(Ht!=null),t(ce!=null),Ht[0]=null,Ut[0]=null,ce[0]=0;;){if(vt[0]=Vt,_t[0]=vn,8>vn){vt=7;break t}var xn=te(ee,Vt+4);if(4294967286<xn){vt=3;break t}var Xe=8+xn+1&-2;if(we+=Xe,0<re&&we>re){vt=3;break t}if(!e(ee,Vt,"VP8 ")||!e(ee,Vt,"VP8L")){vt=0;break t}if(vn[0]<Xe){vt=7;break t}e(ee,Vt,"ALPH")||(Ht[0]=ee,Ut[0]=Vt+8,ce[0]=xn),Vt+=Xe,vn-=Xe}}if(T=T[0],St.na=St.na[0],St.P=St.P[0],St.Sa=St.Sa[0],vt!=0)break}T=[T],St.Ja=[St.Ja],St.xa=[St.xa];t:if(re=g,vt=w,_t=T,Ht=St.gb[0],Ut=St.Ja,ce=St.xa,ee=vt[0],Vt=!e(re,ee,"VP8 "),we=!e(re,ee,"VP8L"),t(re!=null),t(_t!=null),t(Ut!=null),t(ce!=null),8>_t[0])vt=7;else{if(Vt||we){if(re=te(re,ee+4),12<=Ht&&re>Ht-12){vt=3;break t}if(It&&re>_t[0]-8){vt=7;break t}Ut[0]=re,vt[0]+=8,_t[0]-=8,ce[0]=we}else ce[0]=5<=_t[0]&&re[ee+0]==47&&!(re[ee+4]>>5),Ut[0]=_t[0];vt=0}if(T=T[0],St.Ja=St.Ja[0],St.xa=St.xa[0],w=w[0],vt!=0)break;if(4294967286<St.Ja)return 3;if(K==null||Mt||(K[0]=St.xa?2:1),W=[W],qt=[qt],St.xa){if(5>T){vt=7;break}K=W,It=qt,Mt=G,g==null||5>T?g=0:5<=T&&g[w+0]==47&&!(g[w+4]>>5)?(_t=[0],re=[0],Ht=[0],ft(Ut=new F,g,w,T),le(Ut,_t,re,Ht)?(K!=null&&(K[0]=_t[0]),It!=null&&(It[0]=re[0]),Mt!=null&&(Mt[0]=Ht[0]),g=1):g=0):g=0}else{if(10>T){vt=7;break}K=qt,g==null||10>T||!Qi(g,w+3,T-3)?g=0:(It=g[w+0]|g[w+1]<<8|g[w+2]<<16,Mt=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&It||3<(It>>1&7)||!(It>>4&1)||It>>5>=St.Ja||!Mt||!g?g=0:(W&&(W[0]=Mt),K&&(K[0]=g),g=1))}if(!g||(W=W[0],qt=qt[0],Rt&&(st[0]!=W||mt[0]!=qt)))return 3;Z!=null&&(Z[0]=St,Z.offset=w-Z.w,t(4294967286>w-Z.w),t(Z.offset==Z.ha-T));break}return vt==0||vt==7&&Rt&&Z==null?(G!=null&&(G[0]|=St.na!=null&&0<St.na.length),R!=null&&(R[0]=W),U!=null&&(U[0]=qt),0):vt}function Ko(g,w,T){var R=w.width,U=w.height,G=0,W=0,K=R,Z=U;if(w.Da=g!=null&&0<g.Da,w.Da&&(K=g.cd,Z=g.bd,G=g.v,W=g.j,11>T||(G&=-2,W&=-2),0>G||0>W||0>=K||0>=Z||G+K>R||W+Z>U))return 0;if(w.v=G,w.j=W,w.va=G+K,w.o=W+Z,w.U=K,w.T=Z,w.da=g!=null&&0<g.da,w.da){if(!Te(K,Z,T=[g.ib],G=[g.hb]))return 0;w.ib=T[0],w.hb=G[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*R/4&&w.hb<3*U/4,w.Kb=0),1}function $c(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function Gl(g,w,T,R){if(R==null||0>=g||0>=w)return 2;if(T!=null){if(T.Da){var U=T.cd,G=T.bd,W=-2&T.v,K=-2&T.j;if(0>W||0>K||0>=U||0>=G||W+U>g||K+G>w)return 2;g=U,w=G}if(T.da){if(!Te(g,w,U=[T.ib],G=[T.hb]))return 2;g=U[0],w=G[0]}}R.width=g,R.height=w;t:{var Z=R.width,st=R.height;if(g=R.S,0>=Z||0>=st||!(g>=Ar&&13>g))g=2;else{if(0>=R.Rd&&R.sd==null){W=G=U=w=0;var mt=(K=Z*Mg[g])*st;if(11>g||(G=(st+1)/2*(w=(Z+1)/2),g==12&&(W=(U=Z)*st)),(st=s(mt+2*G+W))==null){g=1;break t}R.sd=st,11>g?((Z=R.f.RGBA).eb=st,Z.fb=0,Z.A=K,Z.size=mt):((Z=R.f.kb).y=st,Z.O=0,Z.fa=K,Z.Fd=mt,Z.f=st,Z.N=0+mt,Z.Ab=w,Z.Cd=G,Z.ea=st,Z.W=0+mt+G,Z.Db=w,Z.Ed=G,g==12&&(Z.F=st,Z.J=0+mt+2*G),Z.Tc=W,Z.lb=U)}if(w=1,U=R.S,G=R.width,W=R.height,U>=Ar&&13>U)if(11>U)g=R.f.RGBA,w&=(K=Math.abs(g.A))*(W-1)+G<=g.size,w&=K>=G*Mg[U],w&=g.eb!=null;else{g=R.f.kb,K=(G+1)/2,mt=(W+1)/2,Z=Math.abs(g.fa),st=Math.abs(g.Ab);var Rt=Math.abs(g.Db),It=Math.abs(g.lb),St=It*(W-1)+G;w&=Z*(W-1)+G<=g.Fd,w&=st*(mt-1)+K<=g.Cd,w=(w&=Rt*(mt-1)+K<=g.Ed)&Z>=G&st>=K&Rt>=K,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,U==12&&(w&=It>=G,w&=St<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||T!=null&&T.fd&&(g=$c(R)),g}var Vi=64,Xo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wl=24,$l=32,Yc=8,Qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(g){return g},L.Predictor2=function(g,w,T){return w[T+0]},L.Predictor3=function(g,w,T){return w[T+1]},L.Predictor4=function(g,w,T){return w[T-1]},L.Predictor5=function(g,w,T){return ae(ae(g,w[T+1]),w[T+0])},L.Predictor6=function(g,w,T){return ae(g,w[T-1])},L.Predictor7=function(g,w,T){return ae(g,w[T+0])},L.Predictor8=function(g,w,T){return ae(w[T-1],w[T+0])},L.Predictor9=function(g,w,T){return ae(w[T+0],w[T+1])},L.Predictor10=function(g,w,T){return ae(ae(g,w[T-1]),ae(w[T+0],w[T+1]))},L.Predictor11=function(g,w,T){var R=w[T+0];return 0>=Ve(R>>24&255,g>>24&255,(w=w[T-1])>>24&255)+Ve(R>>16&255,g>>16&255,w>>16&255)+Ve(R>>8&255,g>>8&255,w>>8&255)+Ve(255&R,255&g,255&w)?R:g},L.Predictor12=function(g,w,T){var R=w[T+0];return(_e((g>>24&255)+(R>>24&255)-((w=w[T-1])>>24&255))<<24|_e((g>>16&255)+(R>>16&255)-(w>>16&255))<<16|_e((g>>8&255)+(R>>8&255)-(w>>8&255))<<8|_e((255&g)+(255&R)-(255&w)))>>>0},L.Predictor13=function(g,w,T){var R=w[T-1];return(Le((g=ae(g,w[T+0]))>>24&255,R>>24&255)<<24|Le(g>>16&255,R>>16&255)<<16|Le(g>>8&255,R>>8&255)<<8|Le(g>>0&255,R>>0&255))>>>0};var Ed=L.PredictorAdd0;L.PredictorAdd1=be,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var ih=L.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var sf,js=L.ColorIndexInverseTransform,Ji=L.MapARGB,Qo=L.VP8LColorIndexInverseTransformAlpha,rh=L.MapAlpha,po=L.VP8LPredictorsAdd=[];po.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Jo,Pr,fr,Zo,Jr,ua,Fa,ha,fi,fa,Ni,Zr,Yl,Va,Kc,tl,el,nl,Kl,Xc,il,go,Xl,di,Ss,Ze,tn,Yn,vi=s(511),Fs=s(2041),rl=s(225),sl=s(767),mo=0,af=Fs,Ql=rl,Zi=sl,Vs=vi,Ar=0,Qc=1,Ba=2,sh=3,Jl=4,vo=5,of=6,ah=7,al=8,yo=9,Jc=10,lf=[2,3,7],Bs=[3,3,11],As=[280,256,256,256,40],Zl=[0,1,1,1,0],_o=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lg=8,oh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bi=null,pi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ol=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ua=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ec=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wo=[],kr=[],Ts=[],kg=1,Zc=2,za=[],tr=[];jt("UpsampleRgbLinePair",X,3),jt("UpsampleBgrLinePair",bt,3),jt("UpsampleRgbaLinePair",Be,4),jt("UpsampleBgraLinePair",rn,4),jt("UpsampleArgbLinePair",Ce,4),jt("UpsampleRgba4444LinePair",Kt,2),jt("UpsampleRgb565LinePair",Lt,2);var So=L.UpsampleRgbLinePair,ll=L.UpsampleBgrLinePair,qa=L.UpsampleRgbaLinePair,cf=L.UpsampleBgraLinePair,uf=L.UpsampleArgbLinePair,tu=L.UpsampleRgba4444LinePair,hf=L.UpsampleRgb565LinePair,Ha=16,Ui=1<<Ha-1,cl=-227,ff=482,tv=6,Dg=0,ev=s(256),zi=s(256),Id=s(256),ch=s(256),uh=s(ff-cl),Cd=s(ff-cl);Pn("YuvToRgbRow",X,3),Pn("YuvToBgrRow",bt,3),Pn("YuvToRgbaRow",Be,4),Pn("YuvToBgraRow",rn,4),Pn("YuvToArgbRow",Ce,4),Pn("YuvToRgba4444Row",Kt,2),Pn("YuvToRgb565Row",Lt,2);var nc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ao=[0,2,8],nv=[8,7,6,4,4,2,2,2,1,1,1,1],Og=1;this.WebPDecodeRGBA=function(g,w,T,R,U){var G=Qc,W=new uo,K=new Oi;W.ba=K,K.S=G,K.width=[K.width],K.height=[K.height];var Z=K.width,st=K.height,mt=new or;if(mt==null||g==null)var Rt=2;else t(mt!=null),Rt=ja(g,w,T,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(Rt!=0?Z=0:(Z!=null&&(Z[0]=mt.width[0]),st!=null&&(st[0]=mt.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],R!=null&&(R[0]=K.width),U!=null&&(U[0]=K.height);t:{if(R=new na,(U=new $o).data=g,U.w=w,U.ha=T,U.kd=1,w=[0],t(U!=null),((g=ja(U.data,U.w,U.ha,null,null,null,w,null,U))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(t(W!=null),R.data=U.data,R.w=U.w+U.offset,R.ha=U.ha-U.offset,R.put=lr,R.ac=ui,R.bc=ys,R.ma=W,U.xa){if((g=Wn())==null){W=1;break t}if(function(It,St){var qt=[0],Mt=[0],vt=[0];e:for(;;){if(It==null)return 0;if(St==null)return It.a=2,0;if(It.l=St,It.a=0,ft(It.m,St.data,St.w,St.ha),!le(It.m,qt,Mt,vt)){It.a=3;break e}if(It.xb=Zc,St.width=qt[0],St.height=Mt[0],!Sn(qt[0],Mt[0],1,It,null))break e;return 1}return t(It.a!=0),0}(g,R)){if(R=(w=Gl(R.width,R.height,W.Oa,W.ba))==0){e:{R=g;n:for(;;){if(R==null){R=0;break e}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((T=R.l)!=null),t((U=T.ma)!=null),R.xb!=0){if(R.ca=U.ba,R.tb=U.tb,t(R.ca!=null),!Ko(U.Oa,T,sh)){R.a=2;break n}if(!Zs(R,T.width)||T.da)break n;if((T.da||cn(R.ca.S))&&wt(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&wt()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Se(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Ti(R,R.V,R.Ba,R.c,R.i,T.o,io))break n;U.Dc=R.Ma,R=1;break e}t(R.a!=0),R=0}R=!R}R&&(w=g.a)}else w=g.a}else{if((g=new Fl)==null){W=1;break t}if(g.Fa=U.na,g.P=U.P,g.qc=U.Sa,zo(g,R)){if((w=Gl(R.width,R.height,W.Oa,W.ba))==0){if(g.Aa=0,T=W.Oa,t((U=g)!=null),T!=null){if(0<(Z=0>(Z=T.Md)?0:100<Z?255:255*Z/100)){for(st=mt=0;4>st;++st)12>(Rt=U.pb[st]).lc&&(Rt.ia=Z*nv[0>Rt.lc?0:Rt.lc]>>3),mt|=Rt.ia;mt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=T.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Vl(g,R)||(w=g.a)}}else w=g.a}w==0&&W.Oa!=null&&W.Oa.fd&&(w=$c(W.ba))}W=w}G=W!=0?null:11>G?K.f.RGBA.eb:K.f.kb.y}else G=null;return G};var Mg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(L,V){for(var $="",P=0;P<4;P++)$+=String.fromCharCode(L[V++]);return $}function p(L,V){return(L[V+0]<<0|L[V+1]<<8|L[V+2]<<16)>>>0}function v(L,V){return(L[V+0]<<0|L[V+1]<<8|L[V+2]<<16|L[V+3]<<24)>>>0}new u;var b=[0],_=[0],E=[],N=new u,I=n,C=function(L,V){var $={},P=0,D=!1,j=0,tt=0;if($.frames=[],!function(Y,et,ot,ct){for(var Nt=0;Nt<ct;Nt++)if(Y[et+Nt]!=ot.charCodeAt(Nt))return!0;return!1}(L,V,"RIFF",4)){for(v(L,V+=4),V+=8;V<L.length;){var pt=f(L,V),rt=v(L,V+=4);V+=4;var ht=rt+(1&rt);switch(pt){case"VP8 ":case"VP8L":$.frames[P]===void 0&&($.frames[P]={}),(J=$.frames[P]).src_off=D?tt:V-8,J.src_size=j+rt+8,P++,D&&(D=!1,j=0,tt=0);break;case"VP8X":(J=$.header={}).feature_flags=L[V];var ft=V+4;J.canvas_width=1+p(L,ft),ft+=3,J.canvas_height=1+p(L,ft),ft+=3;break;case"ALPH":D=!0,j=ht+8,tt=V-8;break;case"ANIM":(J=$.header).bgcolor=v(L,V),ft=V+4,J.loop_count=(At=L)[(F=ft)+0]<<0|At[F+1]<<8,ft+=2;break;case"ANMF":var xt,J;(J=$.frames[P]={}).offset_x=2*p(L,V),V+=3,J.offset_y=2*p(L,V),V+=3,J.width=1+p(L,V),V+=3,J.height=1+p(L,V),V+=3,J.duration=p(L,V),V+=3,xt=L[V++],J.dispose=1&xt,J.blend=xt>>1&1}pt!="ANMF"&&(V+=ht)}var At,F;return $}}(I,0);C.response=I,C.rgbaoutput=!0,C.dataurl=!1;var O=C.header?C.header:null,H=C.frames?C.frames:null;if(O){O.loop_counter=O.loop_count,b=[O.canvas_height],_=[O.canvas_width];for(var nt=0;nt<H.length&&H[nt].blend!=0;nt++);}var it=H[0],gt=N.WebPDecodeRGBA(I,it.src_off,it.src_size,_,b);it.rgba=gt,it.imgwidth=_[0],it.imgheight=b[0];for(var q=0;q<_[0]*b[0]*4;q++)E[q]=gt[q];return this.width=_,this.height=b,this.data=E,this}(function(n){var t=function(){return typeof J2=="function"},e=function(b,_,E,N){var I=4,C=o;switch(N){case n.image_compression.FAST:I=1,C=s;break;case n.image_compression.MEDIUM:I=6,C=c;break;case n.image_compression.SLOW:I=9,C=u}b=i(b,_,E,C);var O=J2(b,{level:I});return n.__addimage__.arrayBufferToBinaryString(O)},i=function(b,_,E,N){for(var I,C,O,H=b.length/_,nt=new Uint8Array(b.length+H),it=p(),gt=0;gt<H;gt+=1){if(O=gt*_,I=b.subarray(O,O+_),N)nt.set(N(I,E,C),O+gt);else{for(var q,L=it.length,V=[];q<L;q+=1)V[q]=it[q](I,E,C);var $=v(V.concat());nt.set(V[$],O+gt)}C=I}return nt},r=function(b){var _=Array.apply([],b);return _.unshift(0),_},s=function(b,_){var E,N=[],I=b.length;N[0]=1;for(var C=0;C<I;C+=1)E=b[C-_]||0,N[C+1]=b[C]-E+256&255;return N},o=function(b,_,E){var N,I=[],C=b.length;I[0]=2;for(var O=0;O<C;O+=1)N=E&&E[O]||0,I[O+1]=b[O]-N+256&255;return I},c=function(b,_,E){var N,I,C=[],O=b.length;C[0]=3;for(var H=0;H<O;H+=1)N=b[H-_]||0,I=E&&E[H]||0,C[H+1]=b[H]+256-(N+I>>>1)&255;return C},u=function(b,_,E){var N,I,C,O,H=[],nt=b.length;H[0]=4;for(var it=0;it<nt;it+=1)N=b[it-_]||0,I=E&&E[it]||0,C=E&&E[it-_]||0,O=f(N,I,C),H[it+1]=b[it]-O+256&255;return H},f=function(b,_,E){if(b===_&&_===E)return b;var N=Math.abs(_-E),I=Math.abs(b-E),C=Math.abs(b+_-E-E);return N<=I&&N<=C?b:I<=C?_:E},p=function(){return[r,s,o,c,u]},v=function(b){var _=b.map(function(E){return E.reduce(function(N,I){return N+Math.abs(I)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(b,_,E,N){var I,C,O,H,nt,it,gt,q,L,V,$,P,D,j,tt,pt=this.decode.FLATE_DECODE,rt="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(O=new iU(b)).imgData,C=O.bits,I=O.colorSpace,nt=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){L=(q=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,$=new Uint8Array(L*O.colors),V=new Uint8Array(L);var ht,ft=O.pixelBitlength-O.bits;for(j=0,tt=0;j<L;j++){for(D=q[j],ht=0;ht<ft;)$[tt++]=D>>>ht&255,ht+=O.bits;V[j]=D>>>ht&255}}if(O.bits===16){L=(q=new Uint32Array(O.decodePixels().buffer)).length,$=new Uint8Array(L*(32/O.pixelBitlength)*O.colors),V=new Uint8Array(L*(32/O.pixelBitlength)),P=O.colors>1,j=0,tt=0;for(var xt=0;j<L;)D=q[j++],$[tt++]=D>>>0&255,P&&($[tt++]=D>>>16&255,D=q[j++],$[tt++]=D>>>0&255),V[xt++]=D>>>16&255;C=8}N!==n.image_compression.NONE&&t()?(b=e($,O.width*O.colors,O.colors,N),gt=e(V,O.width,1,N)):(b=$,gt=V,pt=void 0)}if(O.colorType===3&&(I=this.color_spaces.INDEXED,it=O.palette,O.transparency.indexed)){var J=O.transparency.indexed,At=0;for(j=0,L=J.length;j<L;++j)At+=J[j];if((At/=255)===L-1&&J.indexOf(0)!==-1)H=[J.indexOf(0)];else if(At!==L){for(q=O.decodePixels(),V=new Uint8Array(q.length),j=0,L=q.length;j<L;j++)V[j]=J[q[j]];gt=e(V,O.width,1)}}var F=function(Y){var et;switch(Y){case n.image_compression.FAST:et=11;break;case n.image_compression.MEDIUM:et=13;break;case n.image_compression.SLOW:et=14;break;default:et=12}return et}(N);return pt===this.decode.FLATE_DECODE&&(rt="/Predictor "+F+" "),rt+="/Colors "+nt+" /BitsPerComponent "+C+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(gt&&this.__addimage__.isArrayBuffer(gt)||this.__addimage__.isArrayBufferView(gt))&&(gt=this.__addimage__.arrayBufferToBinaryString(gt)),{alias:E,data:b,index:_,filter:pt,decodeParameters:rt,transparency:H,palette:it,sMask:gt,predictor:F,width:O.width,height:O.height,bitsPerComponent:C,colorSpace:I}}}})(ke.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new rU(t),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},p=new $y(100).encode(f,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A}(ke.API),Po.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Po.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Zn.log("bit decode error:"+e)}},Po.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Po.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,c=s>>4,u=15&s,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Po.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Po.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,f=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=u,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=f}this.pos+=n}},Po.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,f=(o>>11)/t*255|0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},Po.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Po.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=o}},Po.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new Po(t,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new $y(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(ke.API),ix.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new ix(t),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new $y(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(ke.API),ke.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,f=0;f<r;f+=4){var p=i[f],v=i[f+1],b=i[f+2],_=i[f+3];s[c++]=p,s[c++]=v,s[c++]=b,o[u++]=_}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ke.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Of=ke.API,zm=Of.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=t.doKerning!==!1,b=0,_=n.length,E=0,N=c[0]||u,I=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(b=v&&qn(f[i])==="object"&&!isNaN(parseInt(f[i][E],10))?f[i][E]/p:0,I.push((c[i]||N)/u+b)),E=i;return I},ZT=Of.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Of.processArabic&&(n=Of.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:zm.apply(this,arguments).reduce(function(s,o){return s+o},0)},tx=function(n,t,e,i){for(var r=[],s=0,o=n.length,c=0;s!==o&&c+t[s]<e;)c+=t[s],s++;r.push(n.slice(0,s));var u=s;for(c=0;s!==o;)c+t[s]>i&&(r.push(n.slice(u,s)),c=0,u=s),c+=t[s],s++;return u!==s&&r.push(n.slice(u,s)),r},ex=function(n,t,e){e||(e={});var i,r,s,o,c,u,f,p=[],v=[p],b=e.textIndent||0,_=0,E=0,N=n.split(" "),I=zm.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var C=Array(u).join(" "),O=[];N.map(function(nt){(nt=nt.split(/\s*\n/)).length>1?O=O.concat(nt.map(function(it,gt){return(gt&&it.length?`
`:"")+it})):O.push(nt[0])}),N=O,u=ZT.apply(this,[C,e])}for(s=0,o=N.length;s<o;s++){var H=0;if(i=N[s],u&&i[0]==`
`&&(i=i.substr(1),H=1),b+_+(E=(r=zm.apply(this,[i,e])).reduce(function(nt,it){return nt+it},0))>t||H){if(E>t){for(c=tx.apply(this,[i,r,t-(b+_),t]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);E=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(nt,it){return nt+it},0)}else p=[i];v.push(p),b=E+u,_=I}else p.push(i),b+=_+E,_=I}return f=u?function(nt,it){return(it?C:"")+nt.join(" ")}:function(nt){return nt.join(" ")},v.map(f)},Of.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var c,u,f=[];for(c=0,u=i.length;c<u;c++)f=f.concat(ex.apply(this,[i[c],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=n.__fontmetrics__.compress=function(v){var b,_,E,N,I=["{"];for(var C in v){if(b=v[C],isNaN(parseInt(C,10))?_="'"+C+"'":(C=parseInt(C,10),_=(_=s(C).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof b=="number")b<0?(E=s(b).slice(3),N="-"):(E=s(b).slice(2),N=""),E=N+E.slice(0,-1)+i[E.slice(-1)];else{if(qn(b)!=="object")throw new Error("Don't know what to do with value type "+qn(b)+".");E=o(b)}I.push(_+E)}return I.push("}"),I.join("")},c=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,_,E,N,I={},C=1,O=I,H=[],nt="",it="",gt=v.length-1,q=1;q<gt;q+=1)(N=v[q])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(N):N=="{"?(H.push([O,E]),O={},E=void 0):N=="}"?((_=H.pop())[0][_[1]]=O,E=void 0,O=_[0]):N=="-"?C=-1:E===void 0?e.hasOwnProperty(N)?(nt+=e[N],E=parseInt(nt,16)*C,C=1,nt=""):nt+=N:e.hasOwnProperty(N)?(it+=e[N],O[E]=parseInt(it,16)*C,C=1,E=void 0,it=""):it+=N;return I},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,_=p.Unicode[b.postScriptName];_&&(b.metadata.Unicode={},b.metadata.Unicode.widths=_.widths,b.metadata.Unicode.kerning=_.kerning);var E=f.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])}(ke.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Up(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(ke),function(n){function t(){return(Oe.canvg?Promise.resolve(Oe.canvg):$2(()=>import("./index.es-5HXAPMSU.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ke.API.addSvgAsImage=function(e,i,r,s,o,c,u,f){if(isNaN(i)||isNaN(r))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return t().then(function(E){return E.fromString(v,e,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(b)}).then(function(){_.addImage(p.toDataURL("image/jpeg",1),i,r,s,o,u,f)})}}(),ke.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},ke.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,p=0,v=0;function b(E,N){var I,C=!1;for(I=0;I<E.length;I+=1)E[I]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=c.length;for(v=0;v<_;v+=1)e[c[v]].value=e[c[v]].defaultValue,e[c[v]].explicitSet=!1}if(qn(n)==="object"){for(r in n)if(s=n[r],b(c,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&b(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(i=!1);i===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}e[r].value="["+u.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,N=[];for(E in e)e[E].explicitSet===!0&&(e[E].type==="name"?N.push("/"+E+" /"+e[E].value):N.push("/"+E+" "+e[E].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ke.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,b=s.length;v<b;++v){if(c=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(v),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},i=function(s){var o,c,u,f,p,v,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,b=(c=Object.keys(s).sort(function(_,E){return _-E})).length;v<b;v++)o=c[v],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",E=0;E<b.length;E++)_+=String.fromCharCode(b[E]);var N=f();p({data:_,addLength1:!0,objectId:N}),u("endobj");var I=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var C=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+qf(c.fontName)),u("/FontFile2 "+N+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var O=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+qf(c.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+n.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+I+" 0 R"),u("/BaseFont /"+qf(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+O+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);var E=f();p({data:b,addLength1:!0,objectId:E}),u("endobj");var N=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var I=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+qf(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+qf(c.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,c=s.text||"",u=s.x,f=s.y,p=s.options||{},v=s.mutex||{},b=v.pdfEscape,_=v.activeFontKey,E=v.fonts,N=_,I="",C=0,O="",H=E[N].encoding;if(E[N].encoding!=="Identity-H")return{text:c,x:u,y:f,options:p,mutex:v};for(O=c,N=_,Array.isArray(c)&&(O=c[0]),C=0;C<O.length;C+=1)E[N].metadata.hasOwnProperty("cmap")&&(o=E[N].metadata.cmap.unicode.codeMap[O[C].charCodeAt(0)]),o||O[C].charCodeAt(0)<256&&E[N].metadata.hasOwnProperty("Unicode")?I+=O[C]:I+="";var nt="";return parseInt(N.slice(1))<14||H==="WinAnsiEncoding"?nt=b(I,N).split("").map(function(it){return it.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(nt=e(I,E[N])),v.isHex=!0,{text:nt,x:u,y:f,options:p,mutex:v}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([r(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(r(Object.assign({},u,{text:o[f]})).text);s.text=c}else s.text=r(Object.assign({},u,{text:o})).text}])}(ke),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ke.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,c,u,f,p,v=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,H=0;this.__bidiEngine__={};var nt=function(P){var D=P.charCodeAt(),j=D>>8,tt=N[j];return tt!==void 0?v[256*tt+(255&D)]:j===252||j===253?"AL":C.test(j)?"L":j===8?"R":"N"},it=function(P){for(var D,j=0;j<P.length;j++){if((D=nt(P.charAt(j)))==="L")return!1;if(D==="R")return!0}return!1},gt=function(P,D,j,tt){var pt,rt,ht,ft,xt=D[tt];switch(xt){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(xt="AN");break;case"AL":O=!0,xt="R";break;case"WS":xt="N";break;case"CS":tt<1||tt+1>=D.length||(pt=j[tt-1])!=="EN"&&pt!=="AN"||(rt=D[tt+1])!=="EN"&&rt!=="AN"?xt="N":O&&(rt="AN"),xt=rt===pt?rt:"N";break;case"ES":xt=(pt=tt>0?j[tt-1]:"B")==="EN"&&tt+1<D.length&&D[tt+1]==="EN"?"EN":"N";break;case"ET":if(tt>0&&j[tt-1]==="EN"){xt="EN";break}if(O){xt="N";break}for(ht=tt+1,ft=D.length;ht<ft&&D[ht]==="ET";)ht++;xt=ht<ft&&D[ht]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ft=D.length,ht=tt+1;ht<ft&&D[ht]==="NSM";)ht++;if(ht<ft){var J=P[tt],At=J>=1425&&J<=2303||J===64286;if(pt=D[ht],At&&(pt==="R"||pt==="AL")){xt="R";break}}}xt=tt<1||(pt=D[tt-1])==="B"?"N":j[tt-1];break;case"B":O=!1,r=!0,xt=H;break;case"S":s=!0,xt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":xt="N"}return xt},q=function(P,D,j){var tt=P.split("");return j&&L(tt,j,{hiLevel:H}),tt.reverse(),D&&D.reverse(),tt.join("")},L=function(P,D,j){var tt,pt,rt,ht,ft,xt=-1,J=P.length,At=0,F=[],Y=H?_:b,et=[];for(O=!1,r=!1,s=!1,pt=0;pt<J;pt++)et[pt]=nt(P[pt]);for(rt=0;rt<J;rt++){if(ft=At,F[rt]=gt(P,et,F,rt),tt=240&(At=Y[ft][E[F[rt]]]),At&=15,D[rt]=ht=Y[At][5],tt>0)if(tt===16){for(pt=xt;pt<rt;pt++)D[pt]=1;xt=-1}else xt=-1;if(Y[At][6])xt===-1&&(xt=rt);else if(xt>-1){for(pt=xt;pt<rt;pt++)D[pt]=ht;xt=-1}et[rt]==="B"&&(D[rt]=0),j.hiLevel|=ht}s&&function(ot,ct,Nt){for(var Et=0;Et<Nt;Et++)if(ot[Et]==="S"){ct[Et]=H;for(var kt=Et-1;kt>=0&&ot[kt]==="WS";kt--)ct[kt]=H}}(et,D,J)},V=function(P,D,j,tt,pt){if(!(pt.hiLevel<P)){if(P===1&&H===1&&!r)return D.reverse(),void(j&&j.reverse());for(var rt,ht,ft,xt,J=D.length,At=0;At<J;){if(tt[At]>=P){for(ft=At+1;ft<J&&tt[ft]>=P;)ft++;for(xt=At,ht=ft-1;xt<ht;xt++,ht--)rt=D[xt],D[xt]=D[ht],D[ht]=rt,j&&(rt=j[xt],j[xt]=j[ht],j[ht]=rt);At=ft}At++}}},$=function(P,D,j){var tt=P.split(""),pt={hiLevel:H};return j||(j=[]),L(tt,j,pt),function(rt,ht,ft){if(ft.hiLevel!==0&&p)for(var xt,J=0;J<rt.length;J++)ht[J]===1&&(xt=I.indexOf(rt[J]))>=0&&(rt[J]=I[xt+1])}(tt,j,pt),V(2,tt,D,j,pt),V(1,tt,D,j,pt),tt.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,j){if(function(pt,rt){if(rt)for(var ht=0;ht<pt.length;ht++)rt[ht]=ht;c===void 0&&(c=it(pt)),f===void 0&&(f=it(pt))}(P,D),o||!u||f)if(o&&u&&c^f)H=c?1:0,P=q(P,D,j);else if(!o&&u&&f)H=c?1:0,P=$(P,D,j),P=q(P,D);else if(!o||c||u||f){if(o&&!u&&c^f)P=q(P,D),c?(H=0,P=$(P,D,j)):(H=1,P=$(P,D,j),P=q(P,D));else if(o&&c&&!u&&f)H=1,P=$(P,D,j),P=q(P,D);else if(!o&&!u&&c^f){var tt=p;c?(H=1,P=$(P,D,j),H=0,p=!1,P=$(P,D,j),p=tt):(H=0,P=$(P,D,j),P=q(P,D),H=1,p=!1,P=$(P,D,j),p=tt,P=q(P,D))}}else H=0,P=$(P,D,j);else H=c?1:0,P=$(P,D,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,u=P.isOutputVisual,c=P.isInputRtl,f=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([e.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([e.doBidiReorder(r[c])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ke),ke.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Ju(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new _U(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new sU(this.contents),this.head=new oU(this),this.name=new fU(this),this.cmap=new QI(this),this.toUnicode={},this.hhea=new lU(this),this.maxp=new dU(this),this.hmtx=new pU(this),this.post=new uU(this),this.os2=new cU(this),this.loca=new yU(this),this.glyf=new gU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var Bo,Ju=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,c,u;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*c+u},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n}(),sU=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,c,u,f,p,v,b,_,E,N;for(N in _=Object.keys(e).length,u=Math.log(2),v=16*Math.floor(Math.log(_)/u),o=Math.floor(v/u),p=16*_-v,(r=new Ju).writeInt(this.scalarType),r.writeShort(_),r.writeShort(v),r.writeShort(o),r.writeShort(p),s=16*_,f=r.pos+s,c=null,E=[],e)for(b=e[N],r.writeString(N),r.writeInt(n(b)),r.writeInt(f),r.writeInt(b.length),E=E.concat(b),N==="head"&&(c=f),f+=b.length;f%4;)E.push(0),f++;return r.write(E),i=2981146554-n(r.data),r.pos=c+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=JI.call(e);e.length%4;)e.push(0);for(s=new Ju(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),aU={}.hasOwnProperty,Ml=function(n,t){for(var e in t)aU.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};Bo=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var oU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Ju).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),rx=function(){function n(t,e){var i,r,s,o,c,u,f,p,v,b,_,E,N,I,C,O,H;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(_=t.readUInt16(),b=_/2,t.pos+=6,s=function(){var nt,it;for(it=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)it.push(t.readUInt16());return it}(),t.pos+=2,N=function(){var nt,it;for(it=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)it.push(t.readUInt16());return it}(),f=function(){var nt,it;for(it=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)it.push(t.readUInt16());return it}(),p=function(){var nt,it;for(it=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)it.push(t.readUInt16());return it}(),r=(this.length-t.pos+this.offset)/2,c=function(){var nt,it;for(it=[],u=nt=0;0<=r?nt<r:nt>r;u=0<=r?++nt:--nt)it.push(t.readUInt16());return it}(),u=C=0,H=s.length;C<H;u=++C)for(I=s[u],i=O=E=N[u];E<=I?O<=I:O>=I;i=E<=I?++O:--O)p[u]===0?o=i+f[u]:(o=c[p[u]/2+(i-E)-(b-u)]||0)!==0&&(o+=f[u]),this.codeMap[i]=65535&o}t.pos=v}return n.encode=function(t,e){var i,r,s,o,c,u,f,p,v,b,_,E,N,I,C,O,H,nt,it,gt,q,L,V,$,P,D,j,tt,pt,rt,ht,ft,xt,J,At,F,Y,et,ot,ct,Nt,Et,kt,Jt,Xt,ne;switch(tt=new Ju,o=Object.keys(t).sort(function(te,Se){return te-Se}),e){case"macroman":for(N=0,I=function(){var te=[];for(E=0;E<256;++E)te.push(0);return te}(),O={0:0},s={},pt=0,xt=o.length;pt<xt;pt++)O[kt=t[r=o[pt]]]==null&&(O[kt]=++N),s[r]={old:t[r],new:O[t[r]]},I[r]=O[t[r]];return tt.writeUInt16(1),tt.writeUInt16(0),tt.writeUInt32(12),tt.writeUInt16(0),tt.writeUInt16(262),tt.writeUInt16(0),tt.write(I),{charMap:s,subtable:tt.data,maxGlyphID:N+1};case"unicode":for(D=[],v=[],H=0,O={},i={},C=f=null,rt=0,J=o.length;rt<J;rt++)O[it=t[r=o[rt]]]==null&&(O[it]=++H),i[r]={old:it,new:O[it]},c=O[it]-r,C!=null&&c===f||(C&&v.push(C),D.push(r),f=c),C=r;for(C&&v.push(C),v.push(65535),D.push(65535),$=2*(V=D.length),L=2*Math.pow(Math.log(V)/Math.LN2,2),b=Math.log(L/2)/Math.LN2,q=2*V-L,u=[],gt=[],_=[],E=ht=0,At=D.length;ht<At;E=++ht){if(P=D[E],p=v[E],P===65535){u.push(0),gt.push(0);break}if(P-(j=i[P].new)>=32768)for(u.push(0),gt.push(2*(_.length+V-E)),r=ft=P;P<=p?ft<=p:ft>=p;r=P<=p?++ft:--ft)_.push(i[r].new);else u.push(j-P),gt.push(0)}for(tt.writeUInt16(3),tt.writeUInt16(1),tt.writeUInt32(12),tt.writeUInt16(4),tt.writeUInt16(16+8*V+2*_.length),tt.writeUInt16(0),tt.writeUInt16($),tt.writeUInt16(L),tt.writeUInt16(b),tt.writeUInt16(q),Nt=0,F=v.length;Nt<F;Nt++)r=v[Nt],tt.writeUInt16(r);for(tt.writeUInt16(0),Et=0,Y=D.length;Et<Y;Et++)r=D[Et],tt.writeUInt16(r);for(Jt=0,et=u.length;Jt<et;Jt++)c=u[Jt],tt.writeUInt16(c);for(Xt=0,ot=gt.length;Xt<ot;Xt++)nt=gt[Xt],tt.writeUInt16(nt);for(ne=0,ct=_.length;ne<ct;ne++)N=_[ne],tt.writeUInt16(N);return{charMap:i,subtable:tt.data,maxGlyphID:H+1}}},n}(),QI=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new rx(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return i==null&&(i="macroman"),r=rx.encode(e,i),(s=new Ju).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),lU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),cU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),uU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(e.readUInt32());return f}).call(this)}},t}(),hU=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},fU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,c,u,f,p,v,b,_;for(e.pos=this.offset,e.readShort(),i=e.readShort(),u=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=v=0,b=r.length;v<b;o=++v)s=r[o],e.pos=s.offset,p=e.readString(s.length),c=new hU(p,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),dU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),pU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,o,c,u,f;for(e.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)v.push(e.readInt16());return v}(),this.widths=(function(){var p,v,b,_;for(_=[],p=0,v=(b=this.metrics).length;p<v;p++)o=b[p],_.push(o.advance);return _}).call(this),r=this.widths[this.widths.length-1],f=[],i=c=0;0<=s?c<s:c>s;i=0<=s?++c:--c)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),JI=[].slice,gU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,c,u,f,p,v,b;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,c=(u=new Ju(i.read(s))).readShort(),p=u.readShort(),b=u.readShort(),f=u.readShort(),v=u.readShort(),this.cache[e]=c===-1?new vU(u,p,b,f,v):new mU(u,c,p,b,f,v),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,c,u,f;for(c=[],o=[],u=0,f=i.length;u<f;u++)s=e[i[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),mU=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),vU=function(){function n(t,e,i,r,s){var o,c;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Ju(JI.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),yU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,Bo),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<i.length&&i[o]==c){++o,r[c]=s;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(s+=f)}for(var p=new Array(4*r.length),v=0;v<r.length;++v)p[4*v+3]=255&r[v],p[4*v+2]=(65280&r[v])>>8,p[4*v+1]=(16711680&r[v])>>16,p[4*v]=(4278190080&r[v])>>24;return p},t}(),_U=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))i=u[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,c,u,f,p,v,b,_,E,N,I,C;for(r in i=QI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),_={0:0},C=i.charMap)_[(u=C[r]).old]=u.new;for(E in b=i.maxGlyphID,o)E in _||(_[E]=b++);return p=function(O){var H,nt;for(H in nt={},O)nt[O[H]]=H;return nt}(_),v=Object.keys(p).sort(function(O,H){return O-H}),N=function(){var O,H,nt;for(nt=[],O=0,H=v.length;O<H;O++)c=v[O],nt.push(p[c]);return nt}(),s=this.font.glyf.encode(o,N,_),f=this.font.loca.encode(s.offsets,N),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();ke.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+function(){var c,u,f;for(f=[],c=0,u=e.length;c<u;c++)i=e[c],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();function ZI(n,t,e,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,c=r.internal.getFontSize()/o,u=r.getLineHeightFactor?r.getLineHeightFactor():s,f=c*u,p=/\r\n|\r|\n/g,v="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(v=typeof n=="string"?n.split(p):n,b=v.length||1),e+=c*(2-s),i.valign==="middle"?e-=b/2*f:i.valign==="bottom"&&(e-=b*f),i.halign==="center"||i.halign==="right"){var _=c;if(i.halign==="center"&&(_*=.5),v&&b>=1){for(var E=0;E<v.length;E++)r.text(v[E],t-r.getStringUnitWidth(v[E])*_,e),e+=f;return r}t-=r.getStringUnitWidth(n)*_}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var sx={},id=function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:sx=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var p=n.unifyColor(t.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(t.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=n.unifyColor(t.lineColor),p&&(s=this.jsPDFDocument).setDrawColor.apply(s,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,s){return this.jsPDFDocument.rect(t,e,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return sx||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),s_=function(n,t){return s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},s_(n,t)};function t6(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s_(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var e6=function(n){t6(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t}(Array);function bU(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function wU(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function X0(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function n6(n,t,e,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=i6(r,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,o)}function i6(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function G1(n,t){var e,i,r,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function r6(n,t){var e=G1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function SU(n,t,e,i,r){var s={},o=1.3333333333333333,c=Yy(t,function(H){return r.getComputedStyle(H).backgroundColor});c!=null&&(s.fillColor=c);var u=Yy(t,function(H){return r.getComputedStyle(H).color});u!=null&&(s.textColor=u);var f=TU(i,e);f&&(s.cellPadding=f);var p="borderTopColor",v=o*e,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var _=(parseFloat(b)||0)/v;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/v,right:(parseFloat(i.borderRightWidth)||0)/v,bottom:(parseFloat(i.borderBottomWidth)||0)/v,left:(parseFloat(i.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?p="borderRightColor":s.lineWidth.bottom?p="borderBottomColor":s.lineWidth.left&&(p="borderLeftColor"));var E=Yy(t,function(H){return r.getComputedStyle(H)[p]});E!=null&&(s.lineColor=E);var N=["left","right","center","justify"];N.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),N=["middle","bottom","top"],N.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var I=parseInt(i.fontSize||"");isNaN(I)||(s.fontSize=I/o);var C=AU(i);C&&(s.fontStyle=C);var O=(i.fontFamily||"").toLowerCase();return n.indexOf(O)!==-1&&(s.font=O),s}function AU(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function Yy(n,t){var e=s6(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function s6(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:s6(n.parentElement,t):e}function TU(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(c){return parseInt(c||"0")/i}),o=G1(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function a6(n,t,e,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var c;typeof t=="string"?c=e.document.querySelector(t):c=t;var u=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],v=[],b=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:p,body:v,foot:b};for(var _=0;_<c.rows.length;_++){var E=c.rows[_],N=(o=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),I=xU(u,f,e,E,i,r);I&&(N==="thead"?p.push(I):N==="tfoot"?b.push(I):v.push(I))}return{head:p,body:v,foot:b}}function xU(n,t,e,i,r,s){for(var o=new e6(i),c=0;c<i.cells.length;c++){var u=i.cells[c],f=e.getComputedStyle(u);if(r||f.display!=="none"){var p=void 0;s&&(p=SU(n,u,t,f,e)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:EU(u)})}}var v=e.getComputedStyle(i);if(o.length>0&&(r||v.display!=="none"))return o}function EU(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function NU(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ac(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function o6(n,t){var e=new id(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();NU(r,i,t);var s=Ac({},r,i,t),o;typeof window<"u"&&(o=window);var c=IU(r,i,t),u=CU(r,i,t),f=RU(e,s),p=PU(e,s,o);return{id:t.tableId,content:p,hooks:u,styles:c,settings:f}}function IU(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(u){if(u==="columnStyles"){var f=n[u],p=t[u],v=e[u];i.columnStyles=Ac({},f,p,v)}else{var b=[n,t,e],_=b.map(function(E){return E[u]||{}});i[u]=Ac({},_[0],_[1],_[2])}},s=0,o=Object.keys(i);s<o.length;s++){var c=o[s];r(c)}return i}function CU(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var c=o[s];c.didParseCell&&r.didParseCell.push(c.didParseCell),c.willDrawCell&&r.willDrawCell.push(c.willDrawCell),c.didDrawCell&&r.didDrawCell.push(c.didDrawCell),c.willDrawPage&&r.willDrawPage.push(c.willDrawPage),c.didDrawPage&&r.didDrawPage.push(c.didDrawPage)}return r}function RU(n,t){var e,i,r,s,o,c,u,f,p,v,b,_,E=G1(t.margin,40/n.scaleFactor()),N=(e=LU(n,t.startY))!==null&&e!==void 0?e:E.top,I;t.showFoot===!0?I="everyPage":t.showFoot===!1?I="never":I=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var O=(s=t.useCss)!==null&&s!==void 0?s:!1,H=t.theme||(O?"plain":"striped"),nt=!!t.horizontalPageBreak,it=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:O,theme:H,startY:N,margin:E,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:C,showFoot:I,tableLineWidth:(v=t.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:nt,horizontalPageBreakRepeat:it,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function LU(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(e==null?void 0:e.finalY)!=null?e.finalY+20/i:null}function PU(n,t,e){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var c=a6(n,t.html,e,o,t.useCss)||{};i=c.head||i,r=c.body||i,s=c.foot||i}else console.error("Cannot parse html in non browser environment")}var u=t.columns||kU(i,r,s);return{columns:u,head:i,body:r,foot:s}}function kU(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,c;Array.isArray(i)?c=i[parseInt(s)]:c=i[s],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(u>0?"_".concat(u):"");var p={dataKey:f};r.push(p)}}),r}var a_=function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n}(),DU=function(n){t6(t,n);function t(e,i,r,s,o,c){var u=n.call(this,e,i,c)||this;return u.cell=r,u.row=s,u.column=o,u.section=s.section,u}return t}(a_),OU=function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,s,o){for(var c=0,u=e;c<u.length;c++){var f=u[c],p=new DU(t,this,i,r,s,o),v=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new a_(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new a_(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n}(),l6=function(){function n(t,e,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof e6&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=e.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var c=e.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+c;return f>r?f:r},0)},n}(),c6=function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=G1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n}(),MU=function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n}();function jU(n,t){FU(n,t);var e=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=o_(e,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=o_(e,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),BU(t),UU(t,n),VU(t)}function FU(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=r6(n,t);t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){var p=t.hooks.didParseCell;t.callCellHooks(n,p,f,s,u,null);var v=f.padding("horizontal");f.contentWidth=X0(f.text,f.styles,n)+v;var b=X0(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/e;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var p=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},v=p.cellWidth||p.minCellWidth;v&&typeof v=="number"&&(u.minWidth=v,u.wrappedWidth=v)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function o_(n,t,e){for(var i=t,r=n.reduce(function(_,E){return _+E.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],c=o.wrappedWidth/r,u=i*c,f=o.width+u,p=e(o),v=f<p?p:f;t-=v-o.width,o.width=v}if(t=Math.round(t*1e10)/1e10,t){var b=n.filter(function(_){return t<0?_.width>e(_):!0});b.length&&(t=o_(b,t,e))}return t}function VU(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=t[u.index];if(e>1)e--,delete s.cells[u.index];else if(f)f.cell.height+=s.height,e=f.cell.colSpan,delete s.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var p=s.cells[u.index];if(!p)continue;if(p.height=s.height,p.rowSpan>1){var v=i.length-r,b=p.rowSpan>v?v:p.rowSpan;t[u.index]={cell:p,left:b,row:s}}}}}function BU(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,s=0,o=0,c=0;c<n.columns.length;c++){var u=n.columns[c];if(o-=1,o>1&&n.columns[c+1])s+=u.width,delete i.cells[u.index];else if(r){var f=r;delete i.cells[u.index],r=null,f.width=u.width+s}else{var f=i.cells[u.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=u.width;continue}f.width=u.width+s}}}function UU(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){t.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,p+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=ax(f.text,p,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=ax(f.text,p,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,p);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&e.count*e.height<b*f.rowSpan?e={height:b,count:f.rowSpan}:e&&e.count>0&&e.height>b&&(b=e.height),b>s.height&&(s.height=b)}}e.count--}}function ax(n,t,e,i,r){return n.map(function(s){return zU(s,t,e,i,r)})}function zU(n,t,e,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=X0(n,e,i))return n;for(;t<X0(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function u6(n,t){var e=new id(n),i=qU(t,e.scaleFactor()),r=new OU(t,i);return jU(e,r),e.applyStyles(e.userStyles),r}function qU(n,t){var e=n.content,i=GU(e.columns);if(e.head.length===0){var r=ox(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=ox(i,"foot");r&&e.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:Ky("head",e.head,i,o,s,t),body:Ky("body",e.body,i,o,s,t),foot:Ky("foot",e.foot,i,o,s,t)}}function Ky(n,t,e,i,r,s){var o={},c=t.map(function(u,f){for(var p=0,v={},b=0,_=0,E=0,N=e;E<N.length;E++){var I=N[E];if(o[I.index]==null||o[I.index].left===0)if(_===0){var C=void 0;Array.isArray(u)?C=u[I.index-b-p]:C=u[I.dataKey];var O={};typeof C=="object"&&!Array.isArray(C)&&(O=(C==null?void 0:C.styles)||{});var H=WU(n,I,f,r,i,s,O),nt=new c6(C,H,n);v[I.dataKey]=nt,v[I.index]=nt,_=nt.colSpan-1,o[I.index]={left:nt.rowSpan-1,times:_}}else _--,b++;else o[I.index].left--,_=o[I.index].times,p++}return new l6(u,f,n,v)});return c}function ox(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=HU(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function HU(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function GU(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new MU(r,t,e)})}function WU(n,t,e,i,r,s,o){var c=wU(i),u;n==="head"?u=r.headStyles:n==="body"?u=r.bodyStyles:n==="foot"&&(u=r.footStyles);var f=Ac({},c.table,c[n],r.styles,u),p=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},v=n==="body"?p:{},b=n==="body"&&e%2===0?Ac({},c.alternateRow,r.alternateRowStyles):{},_=bU(s),E=Ac({},_,f,b,v);return Ac(E,o)}function $U(n,t,e){var i;e===void 0&&(e={});var r=r6(n,t),s=new Map,o=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var _=t.columns.find(function(E){return E.dataKey===b||E.index===b});_&&!s.has(_.index)&&(s.set(_.index,!0),o.push(_.index),c.push(t.columns[_.index]),r-=_.wrappedWidth)});for(var f=!0,p=(i=e==null?void 0:e.start)!==null&&i!==void 0?i:0;p<t.columns.length;){if(s.has(p)){p++;continue}var v=t.columns[p].wrappedWidth;if(f||r>=v)f=!1,o.push(p),c.push(t.columns[p]),r-=v;else break;p++}return{colIndexes:o,columns:c,lastIndex:p-1}}function YU(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=$U(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function h6(n,t){var e=t.settings,i=e.startY,r=e.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=i+r.bottom+o;if(e.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(b,_){return b+_.height},0);c+=f}var p=new id(n);(e.pageBreak==="always"||e.startY!=null&&c>p.pageSize().height)&&(d6(p),s.y=r.top),t.callWillDrawPageHooks(p,s);var v=Ac({},s);t.startPageNumber=p.pageNumber(),e.horizontalPageBreak?KU(p,t,v,s):(p.applyStyles(p.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(b){return Oc(p,t,b,s,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(b,_){var E=_===t.body.length-1;Q0(p,t,b,E,v,s,t.columns)}),p.applyStyles(p.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(b){return Oc(p,t,b,s,t.columns)})),n6(p,t,v,s),t.callEndPageHooks(p,s),t.finalY=s.y,n.lastAutoTable=t,p.applyStyles(p.userStyles)}function KU(n,t,e,i){var r=YU(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?zp(n,t,e,i,f.columns,!0):lx(n,t,i,f.columns),XU(n,t,e,i,f.columns),Xy(n,t,i,f.columns)});else for(var o=-1,c=r[0],u=function(){var f=o;if(c){n.applyStyles(n.userStyles);var p=c.columns;o>=0?zp(n,t,e,i,p,!0):lx(n,t,i,p),f=cx(n,t,o+1,i,p),Xy(n,t,i,p)}var v=f-o;r.slice(1).forEach(function(b){n.applyStyles(n.userStyles),zp(n,t,e,i,b.columns,!0),cx(n,t,o+1,i,b.columns,v),Xy(n,t,i,b.columns)}),o=f};o<t.body.length-1;)u()}function lx(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return Oc(n,t,s,e,i)})}function XU(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var c=o===t.body.length-1;Q0(n,t,s,c,e,i,r)})}function cx(n,t,e,i,r,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),c=-1;return t.body.slice(e,o).forEach(function(u,f){var p=e+f===t.body.length-1,v=f6(n,t,p,i);u.canEntireRowFit(v,r)&&(Oc(n,t,u,i,r),c=e+f)}),c}function Xy(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return Oc(n,t,s,e,i)})}function QU(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function JU(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,c=e.columns;o<c.length;o++){var u=c[o],f=n.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new c6(f.raw,f.styles,f.section);p=Ac(p,f),p.text=[];var v=QU(f,t,i);f.text.length>v&&(p.text=f.text.splice(v,f.text.length));var b=i.scaleFactor(),_=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,_),f.contentHeight>=t&&(f.contentHeight=t,p.styles.minCellHeight-=t),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(b,_),p.contentHeight>s&&(s=p.contentHeight),r[u.index]=p}}var E=new l6(n.raw,-1,n.section,r,!0);E.height=s;for(var N=0,I=e.columns;N<I.length;N++){var u=I[N],p=E.cells[u.index];p&&(p.height=E.height);var f=n.cells[u.index];f&&(f.height=n.height)}return E}function ZU(n,t,e,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,c=r-o;t.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=t.getMinimumRowHeight(i.columns,n),f=u<e;if(u>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=t.hasRowSpan(i.columns),v=t.getMaxCellHeight(i.columns)>c;return v?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function Q0(n,t,e,i,r,s,o){var c=f6(n,t,i,s);if(e.canEntireRowFit(c,o))Oc(n,t,e,s,o);else if(ZU(n,e,c,t)){var u=JU(e,c,t,n);Oc(n,t,e,s,o),zp(n,t,r,s,o),Q0(n,t,u,i,r,s,o)}else zp(n,t,r,s,o),Q0(n,t,e,i,r,s,o)}function Oc(n,t,e,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(!u){i.x+=c.width;continue}n.applyStyles(u.styles),u.x=i.x,u.y=i.y;var f=t.callCellHooks(n,t.hooks.willDrawCell,u,e,c,i);if(f===!1){i.x+=c.width;continue}tz(n,u,i);var p=u.getTextPos();ZI(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,u,e,c,i),i.x+=c.width}i.y+=e.height}function tz(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=i6(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),ez(n,t,e,i.lineWidth))}function ez(n,t,e,i){var r,s,o,c;i.top&&(r=e.x,s=e.y,o=e.x+t.width,c=e.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.top,r,s,o,c)),i.bottom&&(r=e.x,s=e.y+t.height,o=e.x+t.width,c=e.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.bottom,r,s,o,c)),i.left&&(r=e.x,s=e.y,o=e.x,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.left,r,s,o,c)),i.right&&(r=e.x+t.width,s=e.y,o=e.x+t.width,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.right,r,s,o,c));function u(f,p,v,b,_){n.getDocument().setLineWidth(f),n.getDocument().line(p,v,b,_,"S")}}function f6(n,t,e,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function zp(n,t,e,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(c){return Oc(n,t,c,i,r)}),t.callEndPageHooks(n,i);var o=t.settings.margin;n6(n,t,e,i),d6(n),t.pageNumber++,i.x=o.left,i.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return Oc(n,t,c,i,r)}),n.applyStyles(n.userStyles))}function d6(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function nz(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=o6(this,i),s=u6(this,r);return h6(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){ZI(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return id.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){id.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new id(this),s=a6(r,t,window,e,!1),o=s.head,c=s.body,u=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var Qy;function ux(n,t){var e=o6(n,t),i=u6(n,e);h6(n,i)}try{if(typeof window<"u"&&window){var hx=window,fx=hx.jsPDF||((Qy=hx.jspdf)===null||Qy===void 0?void 0:Qy.jsPDF);fx&&nz(fx)}}catch(n){console.error("Could not apply autoTable plugin",n)}const iz=async(n,t={})=>{if(!n){alert("No hay datos calculados para generar el PDF.");return}const{config:e,clientes:i,mariella:r,customization:s}=n,o=new ke({orientation:"p",unit:"mm",format:"a4"}),c=$b(e.locale,e.moneda);let u=15;const f=o.internal.pageSize.width,p=15;if(s.logo)try{o.addImage(s.logo,"PNG",p,u-5,25,25)}catch(C){console.error("Error al aadir el logo:",C)}o.setFontSize(18),o.setFont("helvetica","bold");const v=s.headerText||"LIQUIDACIN DE SERVICIO DE COMIDAS";o.text(v,f/2,u+5,{align:"center"}),u+=20,o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Facturador: ${e.nombreMariella}`,p,u),u+=7,o.text(`Mes del Servicio: ${e.mesServicio}`,p,u),u+=15;const b=[["#","Nombre del Cliente","Comidas","Valor a Pagar"]],_=i.map((C,O)=>[O+1,C.name,C.comidas,c.format(C.ingresoBrutoCliente)]);ux(o,{head:b,body:_,startY:u,theme:"grid",headStyles:{fillColor:[102,126,234]},didDrawPage:function(C){u=C.cursor.y}});const E=[["Concepto","Valor Aplicado","Monto Deducido"]],N=r.deducciones.map(C=>[C.name,C.displayValue,`- ${c.format(C.montoCalculado)}`]);if(ux(o,{head:E,body:N,startY:u+10,theme:"striped",didDrawPage:function(C){u=C.cursor.y}}),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(`SALDO FINAL A RECIBIR: ${c.format(r.saldoFinalNeto)}`,p,u+10),t.doughnut||t.pie||t.bar){o.addPage();let C=15;if(o.setFontSize(16),o.text("Resumen Grfico",f/2,C,{align:"center"}),C+=10,t.doughnut)try{o.addImage(t.doughnut,"PNG",p,C,80,80)}catch(O){console.error("Error aadiendo grfico doughnut:",O)}if(t.pie)try{o.addImage(t.pie,"PNG",f-80-p,C,80,80)}catch(O){console.error("Error aadiendo grfico pie:",O)}if(C+=90,t.bar)try{o.addImage(t.bar,"PNG",p,C,f-p*2,80)}catch(O){console.error("Error aadiendo grfico bar:",O)}}const I=o.internal.getNumberOfPages();for(let C=1;C<=I;C++)o.setPage(C),s.footerText&&(o.setFontSize(8),o.text(s.footerText,f/2,o.internal.pageSize.height-10,{align:"center"}));if(o.setPage(I),s.signature)try{o.addImage(s.signature,"PNG",150,250,50,25)}catch(C){console.error("Error aadiendo firma:",C)}try{const C=o.output("blob"),O=Date.now(),H=zr.currentUser.uid,nt=G7(PF,`settlements/${H}/${O}-${e.mesServicio}.pdf`),it=await q7(nt,C),gt=await H7(it.ref),q={timestamp:new Date().toLocaleString("es-CO"),status:"Pendiente",summary:{mesServicio:e.mesServicio,nombreMariella:e.nombreMariella,saldoFinalNeto:r.saldoFinalNeto,totalIngresoBruto:r.totalIngresoBruto,moneda:e.moneda,locale:e.locale},pdfDownloadURL:gt,storagePath:it.metadata.fullPath,comprobantePago:null};await OV(q),console.log("Liquidacin guardada y PDF subido a Storage.")}catch(C){console.error("Error en el proceso de guardado y subida:",C),alert("Hubo un error al guardar el reporte.")}o.save(`liquidacion-${e.nombreMariella}-${e.mesServicio}.pdf`),kV({totalPayment:r.saldoFinalNeto,mesServicio:e.mesServicio,nombreMariella:e.nombreMariella})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Rg(n){return n+.5|0}const ku=(n,t,e)=>Math.max(Math.min(n,e),t);function Ep(n){return ku(Rg(n*2.55),0,255)}function Vu(n){return ku(Rg(n*255),0,255)}function _c(n){return ku(Rg(n/2.55)/100,0,1)}function dx(n){return ku(Rg(n*100),0,100)}const Ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l_=[..."0123456789ABCDEF"],rz=n=>l_[n&15],sz=n=>l_[(n&240)>>4]+l_[n&15],qm=n=>(n&240)>>4===(n&15),az=n=>qm(n.r)&&qm(n.g)&&qm(n.b)&&qm(n.a);function oz(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ka[n[1]]*17,g:255&Ka[n[2]]*17,b:255&Ka[n[3]]*17,a:t===5?Ka[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ka[n[1]]<<4|Ka[n[2]],g:Ka[n[3]]<<4|Ka[n[4]],b:Ka[n[5]]<<4|Ka[n[6]],a:t===9?Ka[n[7]]<<4|Ka[n[8]]:255})),e}const lz=(n,t)=>n<255?t(n):"";function cz(n){var t=az(n)?rz:sz;return n?"#"+t(n.r)+t(n.g)+t(n.b)+lz(n.a,t):void 0}const uz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p6(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function hz(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function fz(n,t,e){const i=p6(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function dz(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Qb(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),c=(s+o)/2;let u,f,p;return s!==o&&(p=s-o,f=c>.5?p/(2-s-o):p/(s+o),u=dz(e,i,r,p,s),u=u*60+.5),[u|0,f||0,c]}function Jb(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Vu)}function Zb(n,t,e){return Jb(p6,n,t,e)}function pz(n,t,e){return Jb(fz,n,t,e)}function gz(n,t,e){return Jb(hz,n,t,e)}function g6(n){return(n%360+360)%360}function mz(n){const t=uz.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ep(+t[5]):Vu(+t[5]));const r=g6(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=pz(r,s,o):t[1]==="hsv"?i=gz(r,s,o):i=Zb(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function vz(n,t){var e=Qb(n);e[0]=g6(e[0]+t),e=Zb(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yz(n){if(!n)return;const t=Qb(n),e=t[0],i=dx(t[1]),r=dx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${_c(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const px={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _z(){const n={},t=Object.keys(gx),e=Object.keys(px);let i,r,s,o,c;for(i=0;i<t.length;i++){for(o=c=t[i],r=0;r<e.length;r++)s=e[r],c=c.replace(s,px[s]);s=parseInt(gx[o],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let Hm;function bz(n){Hm||(Hm=_z(),Hm.transparent=[0,0,0,0]);const t=Hm[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Sz(n){const t=wz.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Ep(o):ku(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Ep(i):ku(i,0,255)),r=255&(t[4]?Ep(r):ku(r,0,255)),s=255&(t[6]?Ep(s):ku(s,0,255)),{r:i,g:r,b:s,a:e}}}function Az(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_c(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Jy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Mf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Tz(n,t,e){const i=Mf(_c(n.r)),r=Mf(_c(n.g)),s=Mf(_c(n.b));return{r:Vu(Jy(i+e*(Mf(_c(t.r))-i))),g:Vu(Jy(r+e*(Mf(_c(t.g))-r))),b:Vu(Jy(s+e*(Mf(_c(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Gm(n,t,e){if(n){let i=Qb(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Zb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function m6(n,t){return n&&Object.assign(t||{},n)}function mx(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Vu(n[3]))):(t=m6(n,{r:0,g:0,b:0,a:1}),t.a=Vu(t.a)),t}function xz(n){return n.charAt(0)==="r"?Sz(n):mz(n)}class og{constructor(t){if(t instanceof og)return t;const e=typeof t;let i;e==="object"?i=mx(t):e==="string"&&(i=oz(t)||bz(t)||xz(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=m6(this._rgb);return t&&(t.a=_c(t.a)),t}set rgb(t){this._rgb=mx(t)}rgbString(){return this._valid?Az(this._rgb):void 0}hexString(){return this._valid?cz(this._rgb):void 0}hslString(){return this._valid?yz(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,c=2*o-1,u=i.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Tz(this._rgb,t._rgb,e)),this}clone(){return new og(this.rgb)}alpha(t){return this._rgb.a=Vu(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Rg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gm(this._rgb,2,t),this}darken(t){return Gm(this._rgb,2,-t),this}saturate(t){return Gm(this._rgb,1,t),this}desaturate(t){return Gm(this._rgb,1,-t),this}rotate(t){return vz(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function gc(){}const Ez=(()=>{let n=0;return()=>n++})();function Dn(n){return n==null}function rr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function dn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function vs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function yl(n,t){return vs(n)?n:t}function Qe(n,t){return typeof n>"u"?t:n}const Nz=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,v6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ai(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Un(n,t,e,i){let r,s,o;if(rr(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(dn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function J0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Z0(n){if(rr(n))return n.map(Z0);if(dn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Z0(n[e[r]]);return t}return n}function y6(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Iz(n,t,e,i){if(!y6(n))return;const r=t[n],s=e[n];dn(r)&&dn(s)?lg(r,s,i):t[n]=Z0(s)}function lg(n,t,e){const i=rr(t)?t:[t],r=i.length;if(!dn(n))return n;e=e||{};const s=e.merger||Iz;let o;for(let c=0;c<r;++c){if(o=i[c],!dn(o))continue;const u=Object.keys(o);for(let f=0,p=u.length;f<p;++f)s(u[f],n,o,e)}return n}function qp(n,t){return lg(n,t,{merger:Cz})}function Cz(n,t,e){if(!y6(n))return;const i=t[n],r=e[n];dn(i)&&dn(r)?qp(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Z0(r))}const vx={"":n=>n,x:n=>n.x,y:n=>n.y};function Rz(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Lz(n){const t=Rz(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Xh(n,t){return(vx[t]||(vx[t]=Lz(t)))(n)}function t5(n){return n.charAt(0).toUpperCase()+n.slice(1)}const cg=n=>typeof n<"u",Zu=n=>typeof n=="function",yx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Pz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const zn=Math.PI,wi=2*zn,kz=wi+zn,t1=Number.POSITIVE_INFINITY,Dz=zn/180,pr=zn/2,xh=zn/4,_x=zn*2/3,_6=Math.log10,Pl=Math.sign;function Hp(n,t,e){return Math.abs(n-t)<e}function bx(n){const t=Math.round(n);n=Hp(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(_6(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Oz(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function Mz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ug(n){return!Mz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function jz(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Fz(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Tc(n){return n*(zn/180)}function Vz(n){return n*(180/zn)}function wx(n){if(!vs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function b6(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*zn&&(s+=wi),{angle:s,distance:r}}function c_(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Bz(n,t){return(n-t+kz)%wi-zn}function ba(n){return(n%wi+wi)%wi}function hg(n,t,e,i){const r=ba(n),s=ba(t),o=ba(e),c=ba(s-r),u=ba(o-r),f=ba(r-s),p=ba(r-o);return r===s||r===o||i&&s===o||c>u&&f<p}function ds(n,t,e){return Math.max(t,Math.min(e,n))}function Uz(n){return ds(n,-32768,32767)}function xc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function e5(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Mh=(n,t,e,i)=>e5(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),zz=(n,t,e)=>e5(n,e,i=>n[i][t]>=e);function qz(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const w6=["push","pop","shift","splice","unshift"];function Hz(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),w6.forEach(e=>{const i="_onData"+t5(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function Sx(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(w6.forEach(s=>{delete n[s]}),delete n._chartjs)}function S6(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const A6=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function T6(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,A6.call(window,()=>{i=!1,n.apply(t,e)}))}}function Gz(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const n5=n=>n==="start"?"left":n==="end"?"right":"center",ls=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Wz=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function $z(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:u}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:v,max:b,minDefined:_,maxDefined:E}=o.getUserBounds();if(_){if(r=Math.min(Mh(u,p,v).lo,e?i:Mh(t,p,o.getPixelForValue(v)).lo),f){const N=u.slice(0,r+1).reverse().findIndex(I=>!Dn(I[c.axis]));r-=Math.max(0,N)}r=ds(r,0,i-1)}if(E){let N=Math.max(Mh(u,o.axis,b,!0).hi+1,e?0:Mh(t,p,o.getPixelForValue(b),!0).hi+1);if(f){const I=u.slice(N-1).findIndex(C=>!Dn(C[c.axis]));N+=Math.max(0,I)}s=ds(N,r,i)-r}else s=i-r}return{start:r,count:s}}function Yz(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Wm=n=>n===0||n===1,Ax=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*wi/e)),Tx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*wi/e)+1,Gp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*pr)+1,easeOutSine:n=>Math.sin(n*pr),easeInOutSine:n=>-.5*(Math.cos(zn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wm(n)?n:Ax(n,.075,.3),easeOutElastic:n=>Wm(n)?n:Tx(n,.075,.3),easeInOutElastic(n){return Wm(n)?n:n<.5?.5*Ax(n*2,.1125,.45):.5+.5*Tx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Gp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gp.easeInBounce(n*2)*.5:Gp.easeOutBounce(n*2-1)*.5+.5};function i5(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function xx(n){return i5(n)?n:new og(n)}function Zy(n){return i5(n)?n:new og(n).saturate(.5).darken(.1).hexString()}const Kz=["x","y","borderWidth","radius","tension"],Xz=["color","borderColor","backgroundColor"];function Qz(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Xz},numbers:{type:"number",properties:Kz}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Jz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ex=new Map;function Zz(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Ex.get(e);return i||(i=new Intl.NumberFormat(n,t),Ex.set(e,i)),i}function r5(n,t,e){return Zz(t,e).format(n)}const tq={values(n){return rr(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=eq(n,e)}const o=_6(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),r5(n,i,u)}};function eq(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var x6={formatters:tq};function nq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:x6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qh=Object.create(null),u_=Object.create(null);function Wp(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function t2(n,t,e){return typeof t=="string"?lg(Wp(n,t),e):lg(Wp(n,""),t)}class iq{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Zy(r.backgroundColor),this.hoverBorderColor=(i,r)=>Zy(r.borderColor),this.hoverColor=(i,r)=>Zy(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return t2(this,t,e)}get(t){return Wp(this,t)}describe(t,e){return t2(u_,t,e)}override(t,e){return t2(Qh,t,e)}route(t,e,i,r){const s=Wp(this,t),o=Wp(this,i),c="_"+e;Object.defineProperties(s,{[c]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],f=o[r];return dn(u)?Object.assign({},f,u):Qe(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var Ki=new iq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qz,Jz,nq]);function rq(n){return!n||Dn(n.size)||Dn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Nx(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Eh(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Ix(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function h_(n,t,e,i){E6(n,t,e,i,null)}function E6(n,t,e,i,r){let s,o,c,u,f,p,v,b;const _=t.pointStyle,E=t.rotation,N=t.radius;let I=(E||0)*Dz;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),_){default:r?n.ellipse(e,i,r/2,N,0,0,wi):n.arc(e,i,N,0,wi),n.closePath();break;case"triangle":p=r?r/2:N,n.moveTo(e+Math.sin(I)*p,i-Math.cos(I)*N),I+=_x,n.lineTo(e+Math.sin(I)*p,i-Math.cos(I)*N),I+=_x,n.lineTo(e+Math.sin(I)*p,i-Math.cos(I)*N),n.closePath();break;case"rectRounded":f=N*.516,u=N-f,o=Math.cos(I+xh)*u,v=Math.cos(I+xh)*(r?r/2-f:u),c=Math.sin(I+xh)*u,b=Math.sin(I+xh)*(r?r/2-f:u),n.arc(e-v,i-c,f,I-zn,I-pr),n.arc(e+b,i-o,f,I-pr,I),n.arc(e+v,i+c,f,I,I+pr),n.arc(e-b,i+o,f,I+pr,I+zn),n.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*N,p=r?r/2:u,n.rect(e-p,i-u,2*p,2*u);break}I+=xh;case"rectRot":v=Math.cos(I)*(r?r/2:N),o=Math.cos(I)*N,c=Math.sin(I)*N,b=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-c),n.lineTo(e+b,i-o),n.lineTo(e+v,i+c),n.lineTo(e-b,i+o),n.closePath();break;case"crossRot":I+=xh;case"cross":v=Math.cos(I)*(r?r/2:N),o=Math.cos(I)*N,c=Math.sin(I)*N,b=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"star":v=Math.cos(I)*(r?r/2:N),o=Math.cos(I)*N,c=Math.sin(I)*N,b=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o),I+=xh,v=Math.cos(I)*(r?r/2:N),o=Math.cos(I)*N,c=Math.sin(I)*N,b=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"line":o=r?r/2:Math.cos(I)*N,c=Math.sin(I)*N,n.moveTo(e-o,i-c),n.lineTo(e+o,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:N),i+Math.sin(I)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function fg(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function W1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function $1(n){n.restore()}function sq(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function aq(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function oq(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Dn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function lq(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,c=t+s.actualBoundingBoxRight,u=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,p=r.strikethrough?(u+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(c,p),n.stroke()}}function cq(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function dg(n,t,e,i,r,s={}){const o=rr(t)?t:[t],c=s.strokeWidth>0&&s.strokeColor!=="";let u,f;for(n.save(),n.font=r.string,oq(n,s),u=0;u<o.length;++u)f=o[u],s.backdrop&&cq(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Dn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,e,i,s.maxWidth)),n.fillText(f,e,i,s.maxWidth),lq(n,e,i,f,s),i+=Number(r.lineHeight);n.restore()}function e1(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*zn,zn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,zn,pr,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,pr,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-pr,!0),n.lineTo(e+o.topLeft,i)}const uq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fq(n,t){const e=(""+n).match(uq);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const dq=n=>+n||0;function s5(n,t){const e={},i=dn(t),r=i?Object.keys(t):t,s=dn(n)?i?o=>Qe(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=dq(s(o));return e}function N6(n){return s5(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rd(n){return s5(n,["topLeft","topRight","bottomLeft","bottomRight"])}function to(n){const t=N6(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ps(n,t){n=n||{},t=t||Ki.font;let e=Qe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qe(n.style,t.style);i&&!(""+i).match(hq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qe(n.family,t.family),lineHeight:fq(Qe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qe(n.weight,t.weight),string:""};return r.string=rq(r),r}function $m(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function pq(n,t,e){const{min:i,max:r}=n,s=v6(t,(r-i)/2),o=(c,u)=>e&&c===0?0:c+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function rf(n,t){return Object.assign(Object.create(n),t)}function a5(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=L6("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>a5([c,...n],t,s,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return C6(c,u,()=>Sq(u,t,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return Rx(c).includes(u)},ownKeys(c){return Rx(c)},set(c,u,f){const p=c._storage||(c._storage=r());return c[u]=p[u]=f,delete c._keys,!0}})}function fd(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:I6(n,i),setContext:s=>fd(n,s,e,i),override:s=>fd(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,c){return C6(s,o,()=>mq(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,c){return n[o]=c,delete s[o],!0}})}function I6(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Zu(e)?e:()=>e,isIndexable:Zu(i)?i:()=>i}}const gq=(n,t)=>n?n+t5(t):t,o5=(n,t)=>dn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function C6(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function mq(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[t];return Zu(c)&&o.isScriptable(t)&&(c=vq(t,c,n,e)),rr(c)&&c.length&&(c=yq(t,c,n,o.isIndexable)),o5(t,c)&&(c=fd(c,r,s&&s[t],o)),c}function vq(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(s,o||i);return c.delete(n),o5(n,u)&&(u=l5(r._scopes,r,n,u)),u}function yq(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(dn(t[0])){const u=t,f=r._scopes.filter(p=>p!==u);t=[];for(const p of u){const v=l5(f,r,n,p);t.push(fd(v,s,o&&o[n],c))}}return t}function R6(n,t,e){return Zu(n)?n(t,e):n}const _q=(n,t)=>n===!0?t:typeof n=="string"?Xh(t,n):void 0;function bq(n,t,e,i,r){for(const s of t){const o=_q(e,s);if(o){n.add(o);const c=R6(o._fallback,e,r);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function l5(n,t,e,i){const r=t._rootScopes,s=R6(t._fallback,e,i),o=[...n,...r],c=new Set;c.add(i);let u=Cx(c,o,e,s||e,i);return u===null||typeof s<"u"&&s!==e&&(u=Cx(c,o,s,u,i),u===null)?!1:a5(Array.from(c),[""],r,s,()=>wq(t,e,i))}function Cx(n,t,e,i,r){for(;e;)e=bq(n,t,e,i,r);return e}function wq(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return rr(r)&&dn(e)?e:r||{}}function Sq(n,t,e,i){let r;for(const s of t)if(r=L6(gq(s,n),e),typeof r<"u")return o5(n,r)?l5(e,i,n,r):r}function L6(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Rx(n){let t=n._keys;return t||(t=n._keys=Aq(n._scopes)),t}function Aq(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const Tq=Number.EPSILON||1e-14,dd=(n,t)=>t<n.length&&!n[t].skip&&n[t],P6=n=>n==="x"?"y":"x";function xq(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,c=c_(s,r),u=c_(o,s);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const v=i*f,b=i*p;return{previous:{x:s.x-v*(o.x-r.x),y:s.y-v*(o.y-r.y)},next:{x:s.x+b*(o.x-r.x),y:s.y+b*(o.y-r.y)}}}function Eq(n,t,e){const i=n.length;let r,s,o,c,u,f=dd(n,0);for(let p=0;p<i-1;++p)if(u=f,f=dd(n,p+1),!(!u||!f)){if(Hp(t[p],0,Tq)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),e[p]=r*o*t[p],e[p+1]=s*o*t[p])}}function Nq(n,t,e="x"){const i=P6(e),r=n.length;let s,o,c,u=dd(n,0);for(let f=0;f<r;++f){if(o=c,c=u,u=dd(n,f+1),!c)continue;const p=c[e],v=c[i];o&&(s=(p-o[e])/3,c[`cp1${e}`]=p-s,c[`cp1${i}`]=v-s*t[f]),u&&(s=(u[e]-p)/3,c[`cp2${e}`]=p+s,c[`cp2${i}`]=v+s*t[f])}}function Iq(n,t="x"){const e=P6(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,u,f=dd(n,0);for(o=0;o<i;++o)if(c=u,u=f,f=dd(n,o+1),!!u){if(f){const p=f[t]-u[t];r[o]=p!==0?(f[e]-u[e])/p:0}s[o]=c?f?Pl(r[o-1])!==Pl(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Eq(n,r,s),Nq(n,s,t)}function Ym(n,t,e){return Math.max(Math.min(n,e),t)}function Cq(n,t){let e,i,r,s,o,c=fg(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=c,c=e<i-1&&fg(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Ym(r.cp1x,t.left,t.right),r.cp1y=Ym(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Ym(r.cp2x,t.left,t.right),r.cp2y=Ym(r.cp2y,t.top,t.bottom)))}function Rq(n,t,e,i,r){let s,o,c,u;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Iq(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],u=xq(f,c,n[Math.min(s+1,o-(i?0:1))%o],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&Cq(n,e)}function c5(){return typeof window<"u"&&typeof document<"u"}function u5(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function n1(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Y1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Lq(n,t){return Y1(n).getPropertyValue(t)}const Pq=["top","right","bottom","left"];function zh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=Pq[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kq=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Dq(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,c,u;if(kq(r,s,n.target))c=r,u=s;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:c,y:u,box:o}}function Rh(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Y1(e),s=r.boxSizing==="border-box",o=zh(r,"padding"),c=zh(r,"border","width"),{x:u,y:f,box:p}=Dq(n,e),v=o.left+(p&&c.left),b=o.top+(p&&c.top);let{width:_,height:E}=t;return s&&(_-=o.width+c.width,E-=o.height+c.height),{x:Math.round((u-v)/_*e.width/i),y:Math.round((f-b)/E*e.height/i)}}function Oq(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&u5(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),c=Y1(s),u=zh(c,"border","width"),f=zh(c,"padding");t=o.width-f.width-u.width,e=o.height-f.height-u.height,i=n1(c.maxWidth,s,"clientWidth"),r=n1(c.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||t1,maxHeight:r||t1}}const Km=n=>Math.round(n*10)/10;function Mq(n,t,e,i){const r=Y1(n),s=zh(r,"margin"),o=n1(r.maxWidth,n,"clientWidth")||t1,c=n1(r.maxHeight,n,"clientHeight")||t1,u=Oq(n,t,e);let{width:f,height:p}=u;if(r.boxSizing==="content-box"){const b=zh(r,"border","width"),_=zh(r,"padding");f-=_.width+b.width,p-=_.height+b.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=Km(Math.min(f,o,u.maxWidth)),p=Km(Math.min(p,c,u.maxHeight)),f&&!p&&(p=Km(f/2)),(t!==void 0||e!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,f=Km(Math.floor(p*i))),{width:f,height:p}}function Lx(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const jq=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};c5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Px(n,t){const e=Lq(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Lh(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Fq(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Vq(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=Lh(n,r,e),c=Lh(r,s,e),u=Lh(s,t,e),f=Lh(o,c,e),p=Lh(c,u,e);return Lh(f,p,e)}const Bq=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Uq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function sd(n,t,e){return n?Bq(t,e):Uq()}function k6(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function D6(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function O6(n){return n==="angle"?{between:hg,compare:Bz,normalize:ba}:{between:xc,compare:(t,e)=>t-e,normalize:t=>t}}function kx({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function zq(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:c}=O6(i),u=t.length;let{start:f,end:p,loop:v}=n,b,_;if(v){for(f+=u,p+=u,b=0,_=u;b<_&&o(c(t[f%u][i]),r,s);++b)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:v,style:n.style}}function M6(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:c,between:u,normalize:f}=O6(i),{start:p,end:v,loop:b,style:_}=zq(n,t,e),E=[];let N=!1,I=null,C,O,H;const nt=()=>u(r,H,C)&&c(r,H)!==0,it=()=>c(s,C)===0||u(s,H,C),gt=()=>N||nt(),q=()=>!N||it();for(let L=p,V=p;L<=v;++L)O=t[L%o],!O.skip&&(C=f(O[i]),C!==H&&(N=u(C,r,s),I===null&&gt()&&(I=c(C,r)===0?L:V),I!==null&&q()&&(E.push(kx({start:I,end:L,loop:b,count:o,style:_})),I=null),V=L,H=C));return I!==null&&E.push(kx({start:I,end:v,loop:b,count:o,style:_})),E}function j6(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=M6(i[r],n.points,t);s.length&&e.push(...s)}return e}function qq(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Hq(n,t,e,i){const r=n.length,s=[];let o=t,c=n[t],u;for(u=t+1;u<=e;++u){const f=n[u%r];f.skip||f.stop?c.skip||(i=!1,s.push({start:t%r,end:(u-1)%r,loop:i}),t=o=f.stop?u:null):(o=u,c.skip&&(t=u)),c=f}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function Gq(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=qq(e,r,s,i);if(i===!0)return Dx(n,[{start:o,end:c,loop:s}],e,t);const u=c<o?c+r:c,f=!!n._fullLoop&&o===0&&c===r-1;return Dx(n,Hq(e,o,u,f),e,t)}function Dx(n,t,e,i){return!i||!i.setContext||!e?t:Wq(n,t,e,i)}function Wq(n,t,e,i){const r=n._chart.getContext(),s=Ox(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,u=e.length,f=[];let p=s,v=t[0].start,b=v;function _(E,N,I,C){const O=c?-1:1;if(E!==N){for(E+=u;e[E%u].skip;)E-=O;for(;e[N%u].skip;)N+=O;E%u!==N%u&&(f.push({start:E%u,end:N%u,loop:I,style:C}),p=C,v=N%u)}}for(const E of t){v=c?v:E.start;let N=e[v%u],I;for(b=v+1;b<=E.end;b++){const C=e[b%u];I=Ox(i.setContext(rf(r,{type:"segment",p0:N,p1:C,p0DataIndex:(b-1)%u,p1DataIndex:b%u,datasetIndex:o}))),$q(I,p)&&_(v,b-1,E.loop,p),N=C,p=I}v<b-1&&_(v,b-1,E.loop,p)}return f}function Ox(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function $q(n,t){if(!t)return!1;const e=[],i=function(r,s){return i5(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Xm(n,t,e){return n.options.clip?n[e]:t[e]}function Yq(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Xm(e,t,"left"),right:Xm(e,t,"right"),top:Xm(i,t,"top"),bottom:Xm(i,t,"bottom")}:t}function F6(n,t){const e=t._clip;if(e.disabled)return!1;const i=Yq(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Kq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(c=>c({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=A6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var mc=new Kq;const Mx="transparent",Xq={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=xx(n||Mx),r=i.valid&&xx(t||Mx);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Qq{constructor(t,e,i,r){const s=e[i];r=$m([t.to,r,s,t.from]);const o=$m([t.from,s,r]);this._active=!0,this._fn=t.fn||Xq[t.type||typeof o],this._easing=Gp[t.easing]||Gp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=$m([t.to,e,r,t.from]),this._from=$m([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||e<i),!this._active){this._target[r]=c,this._notify(!0);return}if(e<0){this._target[r]=s;return}u=e/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class V6{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!dn(t))return;const e=Object.keys(Ki.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!dn(s))return;const o={};for(const c of e)o[c]=s[c];(rr(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(t,e){const i=e.options,r=Zq(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Jq(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let v=s[f];const b=i.get(f);if(v)if(b&&v.active()){v.update(b,p,c);continue}else v.cancel();if(!b||!b.duration){t[f]=p;continue}s[f]=v=new Qq(b,t,f,p),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return mc.add(this._chart,i),!0}}function Jq(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function Zq(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function jx(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function tH(n,t,e){if(e===!1)return!1;const i=jx(n,e),r=jx(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function eH(n){let t,e,i,r;return dn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function B6(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function Fx(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,c,u,f;if(t===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===e){if(p=!0,i.all)continue;break}f=n.values[u],vs(f)&&(s||t===0||Pl(t)===Pl(f))&&(t+=f)}return!p&&!i.all?0:t}function nH(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let u,f,p;for(u=0,f=o.length;u<f;++u)p=o[u],c[u]={[r]:p,[s]:n[p]};return c}function e2(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function iH(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function rH(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function sH(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Vx(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function Bx(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:c}=i,u=s.axis,f=o.axis,p=iH(s,o,i),v=t.length;let b;for(let _=0;_<v;++_){const E=t[_],{[u]:N,[f]:I}=E,C=E._stacks||(E._stacks={});b=C[f]=sH(r,p,N),b[c]=I,b._top=Vx(b,o,!0,i.type),b._bottom=Vx(b,o,!1,i.type);const O=b._visualValues||(b._visualValues={});O[c]=I}}function n2(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function aH(n,t){return rf(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function oH(n,t,e){return rf(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function gp(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const i2=n=>n==="reset"||n==="none",Ux=(n,t)=>t?n:Object.assign({},n),lH=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:B6(e,!0),values:null};class qh{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=e2(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&gp(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,_,E)=>v==="x"?b:v==="r"?E:_,s=e.xAxisID=Qe(i.xAxisID,n2(t,"x")),o=e.yAxisID=Qe(i.yAxisID,n2(t,"y")),c=e.rAxisID=Qe(i.rAxisID,n2(t,"r")),u=e.indexAxis,f=e.iAxisID=r(u,s,o,c),p=e.vAxisID=r(u,o,s,c);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Sx(this._data,this),t._stacked&&gp(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(dn(e)){const r=this._cachedMeta;this._data=nH(e,r)}else if(i!==e){if(i){Sx(i,this);const r=this._cachedMeta;gp(r),r._parsed=[]}e&&Object.isExtensible(e)&&Hz(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=e2(e.vScale,e),e.stack!==i.stack&&(r=!0,gp(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(Bx(this,e._parsed),e._stacked=e2(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let u=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{rr(r[t])?b=this.parseArrayData(i,r,t,e):dn(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const _=()=>v[c]===null||f&&v[c]<f[c];for(p=0;p<e;++p)i._parsed[p+t]=v=b[p],u&&(_()&&(u=!1),f=v);i._sorted=u}o&&Bx(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,c=s.axis,u=o.axis,f=s.getLabels(),p=s===o,v=new Array(r);let b,_,E;for(b=0,_=r;b<_;++b)E=b+i,v[b]={[c]:p||s.parse(f[E],E),[u]:o.parse(e[E],E)};return v}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,c=new Array(r);let u,f,p,v;for(u=0,f=r;u<f;++u)p=u+i,v=e[p],c[u]={x:s.parse(v[0],p),y:o.parse(v[1],p)};return c}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let p,v,b,_;for(p=0,v=r;p<v;++p)b=p+i,_=e[b],f[p]={x:s.parse(Xh(_,c),b),y:o.parse(Xh(_,u),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],c={keys:B6(r,!0),values:e._stacks[t.axis]._visualValues};return Fx(c,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const c=r&&i._stacks[e.axis];r&&c&&(r.values=c,o=Fx(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,c=this._getOtherScale(t),u=lH(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=rH(c);let b,_;function E(){_=r[b];const N=_[c.axis];return!vs(_[t.axis])||p>N||v<N}for(b=0;b<o&&!(!E()&&(this.updateRangeFromParsed(f,t,_,u),s));++b);if(s){for(b=o-1;b>=0;--b)if(!E()){this.updateRangeFromParsed(f,t,_,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],vs(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=eH(Qe(this.options.clip,tH(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,s,c,u),p=c;p<c+u;++p){const v=r[p];v.hidden||(v.active&&f?o.push(v):v.draw(t,s))}for(p=0;p<o.length;++p)o[p].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=oH(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=aH(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,c=s[o],u=this.enableOptionSharing&&cg(i);if(c)return Ux(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),p),_=Object.keys(Ki.elements[t]),E=()=>this.getContext(i,r,e),N=f.resolveNamedOptions(b,_,E,v);return N.$shared&&(N.$shared=u,s[o]=Object.freeze(Ux(N,u))),N}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),v);u=p.createResolver(b,this.getContext(t,i,e))}const f=new V6(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||i2(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){i2(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!i2(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let c;const u=f=>{for(f.length+=e,c=f.length-1;c>=o;c--)f[c]=f[c-e]};for(u(s),c=t;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&gp(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(qh,"defaults",{}),ve(qh,"datasetElementType",null),ve(qh,"dataElementType",null);function cH(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=S6(i.sort((r,s)=>r-s))}return n._cache.$bar}function uH(n){const t=n.iScale,e=cH(t,n.type);let i=t._length,r,s,o,c;const u=()=>{o===32767||o===-32768||(cg(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),u();for(c=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),u();return i}function hH(n,t,e,i){const r=e.barThickness;let s,o;return Dn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function fH(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=e.categoryPercentage;o===null&&(o=s-(c===null?t.end-t.start:c-s)),c===null&&(c=s+s-o);const f=s-(s-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/i,ratio:e.barPercentage,start:f}}function dH(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let u=o,f=c;Math.abs(o)>Math.abs(c)&&(u=c,f=o),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:r,end:s,min:o,max:c}}function U6(n,t,e,i){return rr(n)?dH(n,t,e,i):t[e.axis]=e.parse(n,i),t}function zx(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,u=[];let f,p,v,b;for(f=e,p=e+i;f<p;++f)b=t[f],v={},v[r.axis]=c||r.parse(o[f],f),u.push(U6(b,v,s,f));return u}function r2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function pH(n,t,e){return n!==0?Pl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function gH(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function mH(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:f,bottom:p}=gH(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(s[qx(p,o,c,u)]=!0,r=f)),s[qx(r,o,c,u)]=!0,n.borderSkipped=s}function qx(n,t,e,i){return i?(n=vH(n,t,e),n=Hx(n,e,t)):n=Hx(n,t,e),n}function vH(n,t,e){return n===t?e:n===e?t:n}function Hx(n,t,e){return n==="start"?t:n==="end"?e:n}function yH(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class _0 extends qh{parsePrimitiveData(t,e,i,r){return zx(t,e,i,r)}parseArrayData(t,e,i,r){return zx(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=s.axis==="x"?c:u,p=o.axis==="x"?c:u,v=[];let b,_,E,N;for(b=i,_=i+r;b<_;++b)N=e[b],E={},E[s.axis]=s.parse(Xh(N,f),b),v.push(U6(Xh(N,p),E,o,b));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,c=r2(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,r);for(let _=e;_<e+i;_++){const E=this.getParsed(_),N=s||Dn(E[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(_),I=this._calculateBarIndexPixels(_,p),C=(E._stacks||{})[c.axis],O={horizontal:f,base:N.base,enableBorderRadius:!C||r2(E._custom)||o===C._top||o===C._bottom,x:f?N.head:I.center,y:f?I.center:N.head,height:f?I.size:Math.abs(N.size),width:f?Math.abs(N.size):I.size};b&&(O.options=v||this.resolveDataElementOptions(_,t[_].active?"active":r));const H=O.options||t[_].options;mH(O,H,C,o),yH(O,H,p.ratio),this.updateElement(t[_],_,O,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[i.axis],f=p=>{const v=p._parsed.find(_=>_[i.axis]===u),b=v&&v[p.vScale.axis];if(Dn(b)||isNaN(b))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Qe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=t.barThickness;return{min:c||uH(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,u=this.getParsed(t),f=u._custom,p=r2(f);let v=u[e.axis],b=0,_=i?this.applyStack(e,u,i):v,E,N;_!==v&&(b=_-v,_=v),p&&(v=f.barStart,_=f.barEnd-f.barStart,v!==0&&Pl(v)!==Pl(f.barEnd)&&(b=0),b+=v);const I=!Dn(s)&&!p?s:b;let C=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?E=e.getPixelForValue(b+_):E=C,N=E-C,Math.abs(N)<o){N=pH(N,e,c)*o,v===c&&(C-=N/2);const O=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),nt=Math.min(O,H),it=Math.max(O,H);C=Math.max(Math.min(C,it),nt),E=C+N,i&&!p&&(u._stacks[e.axis]._visualValues[r]=e.getValueForPixel(E)-e.getValueForPixel(C))}if(C===e.getPixelForValue(c)){const O=Pl(N)*e.getLineWidthForValue(c)/2;C+=O,N-=O}return{size:N,base:C,head:E,center:E+N/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Qe(r.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(e.grouped){const p=s?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?fH(t,e,r,p*f):hH(t,e,r,p*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Qe(b,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+_;c=v.start+v.chunk*E+v.chunk/2,u=Math.min(o,v.chunk*v.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(o,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ve(_0,"id","bar"),ve(_0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ve(_0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function _H(n,t,e){let i=1,r=1,s=0,o=0;if(t<wi){const c=n,u=c+t,f=Math.cos(c),p=Math.sin(c),v=Math.cos(u),b=Math.sin(u),_=(H,nt,it)=>hg(H,c,u,!0)?1:Math.max(nt,nt*e,it,it*e),E=(H,nt,it)=>hg(H,c,u,!0)?-1:Math.min(nt,nt*e,it,it*e),N=_(0,f,v),I=_(pr,p,b),C=E(zn,f,v),O=E(zn+pr,p,b);i=(N-C)/2,r=(I-O)/2,s=-(N+C)/2,o=-(I+O)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Wf extends qh{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(dn(i[t])){const{key:u="value"}=this._parsing;s=f=>+Xh(i[f],u)}let o,c;for(o=t,c=t+e;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Tc(this.options.rotation-90)}_getCircumference(){return Tc(this.options.circumference)}_getRotationExtents(){let t=wi,e=-wi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(Nz(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:E,offsetY:N}=_H(v,p,u),I=(i.width-o)/b,C=(i.height-o)/_,O=Math.max(Math.min(I,C)/2,0),H=v6(this.options.radius,O),nt=Math.max(H*u,0),it=(H-nt)/this._getVisibleDatasetWeightTotal();this.offsetX=E*H,this.offsetY=N*H,r.total=this.calculateTotal(),this.outerRadius=H-it*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-it*f,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/wi)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,p=(c.left+c.right)/2,v=(c.top+c.bottom)/2,b=s&&f.animateScale,_=b?0:this.innerRadius,E=b?0:this.outerRadius,{sharedOptions:N,includeOptions:I}=this._getSharedOptions(e,r);let C=this._getRotation(),O;for(O=0;O<e;++O)C+=this._circumference(O,s);for(O=e;O<e+i;++O){const H=this._circumference(O,s),nt=t[O],it={x:p+this.offsetX,y:v+this.offsetY,startAngle:C,endAngle:C+H,circumference:H,outerRadius:E,innerRadius:_};I&&(it.options=N||this.resolveDataElementOptions(O,nt.active?"active":r)),C+=H,this.updateElement(nt,O,it,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?wi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=r5(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,c,u;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(Wf,"id","doughnut"),ve(Wf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(Wf,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ve(Wf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class b0 extends qh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:c,count:u}=$z(e,r,o);this._drawStart=c,this._drawCount=u,Yz(e)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},t),this.updateElements(r,c,u,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,r),b=o.axis,_=c.axis,{spanGaps:E,segment:N}=this.options,I=ug(E)?E:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none",O=e+i,H=t.length;let nt=e>0&&this.getParsed(e-1);for(let it=0;it<H;++it){const gt=t[it],q=C?gt:{};if(it<e||it>=O){q.skip=!0;continue}const L=this.getParsed(it),V=Dn(L[_]),$=q[b]=o.getPixelForValue(L[b],it),P=q[_]=s||V?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,L,u):L[_],it);q.skip=isNaN($)||isNaN(P)||V,q.stop=it>0&&Math.abs(L[b]-nt[b])>I,N&&(q.parsed=L,q.raw=f.data[it]),v&&(q.options=p||this.resolveDataElementOptions(it,gt.active?"active":r)),C||this.updateElement(gt,it,q,r),nt=L}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ve(b0,"id","line"),ve(b0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ve(b0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class f_ extends Wf{}ve(f_,"id","pie"),ve(f_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Nh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class h5{constructor(t){ve(this,"options");this.options=t||{}}static override(t){Object.assign(h5.prototype,t)}init(){}formats(){return Nh()}parse(){return Nh()}format(){return Nh()}add(){return Nh()}diff(){return Nh()}startOf(){return Nh()}endOf(){return Nh()}}var bH={_date:h5};function wH(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&s.length){const f=c._reversePixels?zz:Mh;if(i){if(r._sharedOptions){const p=s[0],v=typeof p.getRange=="function"&&p.getRange(t);if(v){const b=f(s,t,e-v),_=f(s,t,e+v);return{lo:b.lo,hi:_.hi}}}}else{const p=f(s,t,e);if(u){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,_=b.slice(0,p.lo+1).reverse().findIndex(N=>!Dn(N[v.axis]));p.lo-=Math.max(0,_);const E=b.slice(p.hi).findIndex(N=>!Dn(N[v.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:s.length-1}}function K1(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let c=0,u=s.length;c<u;++c){const{index:f,data:p}=s[c],{lo:v,hi:b}=wH(s[c],t,o,r);for(let _=v;_<=b;++_){const E=p[_];E.skip||i(E,f,_)}}}function SH(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function s2(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||K1(n,e,t,function(c,u,f){!r&&!fg(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&s.push({element:c,datasetIndex:u,index:f})},!0),s}function AH(n,t,e,i){let r=[];function s(o,c,u){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:v}=b6(o,{x:t.x,y:t.y});hg(v,f,p)&&r.push({element:o,datasetIndex:c,index:u})}return K1(n,e,t,s),r}function TH(n,t,e,i,r,s){let o=[];const c=SH(e);let u=Number.POSITIVE_INFINITY;function f(p,v,b){const _=p.inRange(t.x,t.y,r);if(i&&!_)return;const E=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(E))&&!_)return;const I=c(t,E);I<u?(o=[{element:p,datasetIndex:v,index:b}],u=I):I===u&&o.push({element:p,datasetIndex:v,index:b})}return K1(n,e,t,f),o}function a2(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?AH(n,t,e,r):TH(n,t,e,i,r,s)}function Gx(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let c=!1;return K1(n,e,t,(u,f,p)=>{u[o]&&u[o](t[e],r)&&(s.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(t.x,t.y,r))}),i&&!c?[]:s}var xH={modes:{index(n,t,e,i){const r=Rh(t,n),s=e.axis||"x",o=e.includeInvisible||!1,c=e.intersect?s2(n,r,s,i,o):a2(n,r,s,!1,i,o),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,v=f.data[p];v&&!v.skip&&u.push({element:v,datasetIndex:f.index,index:p})}),u):[]},dataset(n,t,e,i){const r=Rh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let c=e.intersect?s2(n,r,s,i,o):a2(n,r,s,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point(n,t,e,i){const r=Rh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return s2(n,r,s,i,o)},nearest(n,t,e,i){const r=Rh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return a2(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=Rh(t,n);return Gx(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Rh(t,n);return Gx(n,r,"y",e.intersect,i)}}};const z6=["left","top","right","bottom"];function mp(n,t){return n.filter(e=>e.pos===t)}function Wx(n,t){return n.filter(e=>z6.indexOf(e.pos)===-1&&e.box.axis===t)}function vp(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function EH(n){const t=[];let e,i,r,s,o,c;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:c=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return t}function NH(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!z6.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function IH(n,t){const e=NH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:u}=c.box,f=e[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:u&&t.availableWidth,c.height=r):(c.width=i,c.height=p?p*r:u&&t.availableHeight)}return e}function CH(n){const t=EH(n),e=vp(t.filter(f=>f.box.fullSize),!0),i=vp(mp(t,"left"),!0),r=vp(mp(t,"right")),s=vp(mp(t,"top"),!0),o=vp(mp(t,"bottom")),c=Wx(t,"x"),u=Wx(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:mp(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function $x(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function q6(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function RH(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!dn(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?s.height:s.width),e.size=v.size/v.count,n[r]+=e.size}s.getPadding&&q6(o,s.getPadding());const c=Math.max(0,t.outerWidth-$x(o,n,"left","right")),u=Math.max(0,t.outerHeight-$x(o,n,"top","bottom")),f=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,e.horizontal?{same:f,other:p}:{same:p,other:f}}function LH(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function PH(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Np(n,t,e,i){const r=[];let s,o,c,u,f,p;for(s=0,o=n.length,f=0;s<o;++s){c=n[s],u=c.box,u.update(c.width||t.w,c.height||t.h,PH(c.horizontal,t));const{same:v,other:b}=RH(t,e,c,i);f|=v&&r.length,p=p||b,u.fullSize||r.push(c)}return f&&Np(r,t,e,i)||p}function Qm(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Yx(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const c of n){const u=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const v=t.w*p,b=f.size||u.height;cg(f.start)&&(o=f.start),u.fullSize?Qm(u,r.left,o,e.outerWidth-r.right-r.left,b):Qm(u,t.left+f.placed,o,v,b),f.start=o,f.placed+=v,o=u.bottom}else{const v=t.h*p,b=f.size||u.width;cg(f.start)&&(s=f.start),u.fullSize?Qm(u,s,r.top,b,e.outerHeight-r.bottom-r.top):Qm(u,s,t.top+f.placed,b,v),f.start=s,f.placed+=v,s=u.right}}t.x=s,t.y=o}var Qa={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=to(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),c=CH(n.boxes),u=c.vertical,f=c.horizontal;Un(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const p=u.reduce((N,I)=>I.box.options&&I.box.options.display===!1?N:N+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),b=Object.assign({},r);q6(b,to(i));const _=Object.assign({maxPadding:b,w:s,h:o,x:r.left,y:r.top},r),E=IH(u.concat(f),v);Np(c.fullSize,_,v,E),Np(u,_,v,E),Np(f,_,v,E)&&Np(u,_,v,E),LH(_),Yx(c.leftAndTop,_,v,E),_.x+=_.w,_.y+=_.h,Yx(c.rightAndBottom,_,v,E),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Un(c.chartArea,N=>{const I=N.box;Object.assign(I,n.chartArea),I.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class H6{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class kH extends H6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const w0="$chartjs",DH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kx=n=>n===null||n==="";function OH(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[w0]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Kx(r)){const s=Px(n,"width");s!==void 0&&(n.width=s)}if(Kx(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=Px(n,"height");s!==void 0&&(n.height=s)}return n}const G6=jq?{passive:!0}:!1;function MH(n,t,e){n&&n.addEventListener(t,e,G6)}function jH(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,G6)}function FH(n,t){const e=DH[n.type]||n.type,{x:i,y:r}=Rh(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function i1(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function VH(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||i1(c.addedNodes,i),o=o&&!i1(c.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function BH(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||i1(c.removedNodes,i),o=o&&!i1(c.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const pg=new Map;let Xx=0;function W6(){const n=window.devicePixelRatio;n!==Xx&&(Xx=n,pg.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function UH(n,t){pg.size||window.addEventListener("resize",W6),pg.set(n,t)}function zH(n){pg.delete(n),pg.size||window.removeEventListener("resize",W6)}function qH(n,t,e){const i=n.canvas,r=i&&u5(i);if(!r)return;const s=T6((c,u)=>{const f=r.clientWidth;e(c,u),f<r.clientWidth&&e()},window),o=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),UH(n,s),o}function o2(n,t,e){e&&e.disconnect(),t==="resize"&&zH(n)}function HH(n,t,e){const i=n.canvas,r=T6(s=>{n.ctx!==null&&e(FH(s,n))},n);return MH(i,t,r),r}class GH extends H6{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(OH(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[w0])return!1;const i=e[w0].initial;["height","width"].forEach(s=>{const o=i[s];Dn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[w0],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:VH,detach:BH,resize:qH}[e]||HH;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:o2,detach:o2,resize:o2}[e]||jH)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Mq(t,e,i,r)}isAttached(t){const e=t&&u5(t);return!!(e&&e.isConnected)}}function WH(n){return!c5()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?kH:GH}class Fo{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ug(this.x)&&ug(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ve(Fo,"defaults",{}),ve(Fo,"defaultRoutes");function $H(n,t){const e=n.options.ticks,i=YH(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?XH(t):[],o=s.length,c=s[0],u=s[o-1],f=[];if(o>r)return QH(t,f,s,o/r),f;const p=KH(s,t,r);if(o>0){let v,b;const _=o>1?Math.round((u-c)/(o-1)):null;for(Jm(t,f,p,Dn(_)?0:c-_,c),v=0,b=o-1;v<b;v++)Jm(t,f,p,s[v],s[v+1]);return Jm(t,f,p,u,Dn(_)?t.length:u+_),f}return Jm(t,f,p),f}function YH(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function KH(n,t,e){const i=JH(n),r=t.length/e;if(!i)return Math.max(r,1);const s=Oz(i);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function XH(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function QH(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function Jm(n,t,e,i,r){const s=Qe(i,0),o=Math.min(Qe(r,n.length),n.length);let c=0,u,f,p;for(e=Math.ceil(e),r&&(u=r-i,e=u/Math.floor(u/e)),p=s;p<0;)c++,p=Math.round(s+c*e);for(f=Math.max(s,0);f<o;f++)f===p&&(t.push(n[f]),c++,p=Math.round(s+c*e))}function JH(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const ZH=n=>n==="left"?"right":n==="right"?"left":n,Qx=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Jx=(n,t)=>Math.min(t||n,n);function Zx(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function tG(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(u-s,o-u):t===0?f=(n.getPixelForTick(1)-u)/2:f=(u-n.getPixelForTick(r-1))/2,u+=r<t?f:-f,u<s-c||u>o+c)))return u}function eG(n,t){Un(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function yp(n){return n.drawTicks?n.tickLength:0}function tE(n,t){if(!n.display)return 0;const e=ps(n.font,t),i=to(n.padding);return(rr(n.text)?n.text.length:1)*e.lineHeight+i.height}function nG(n,t){return rf(n,{scale:t,type:"scale"})}function iG(n,t,e){return rf(n,{tick:e,index:t,type:"tick"})}function rG(n,t,e){let i=n5(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ZH(i)),i}function sG(n,t,e,i){const{top:r,left:s,bottom:o,right:c,chart:u}=n,{chartArea:f,scales:p}=u;let v=0,b,_,E;const N=o-r,I=c-s;if(n.isHorizontal()){if(_=ls(i,s,c),dn(e)){const C=Object.keys(e)[0],O=e[C];E=p[C].getPixelForValue(O)+N-t}else e==="center"?E=(f.bottom+f.top)/2+N-t:E=Qx(n,e,t);b=c-s}else{if(dn(e)){const C=Object.keys(e)[0],O=e[C];_=p[C].getPixelForValue(O)-I+t}else e==="center"?_=(f.left+f.right)/2-I+t:_=Qx(n,e,t);E=ls(i,o,r),v=e==="left"?-pr:pr}return{titleX:_,titleY:E,maxWidth:b,rotation:v}}class xd extends Fo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=yl(t,Number.POSITIVE_INFINITY),e=yl(e,Number.NEGATIVE_INFINITY),i=yl(i,Number.POSITIVE_INFINITY),r=yl(r,Number.NEGATIVE_INFINITY),{min:yl(t,i),max:yl(e,r),minDefined:vs(t),maxDefined:vs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)o=c[u].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:yl(e,yl(i,e)),max:yl(i,yl(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ai(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pq(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Zx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$H(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ai(this.options.afterUpdate,[this])}beforeSetDimensions(){ai(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ai(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ai(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ai(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ai(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ai(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ai(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Jx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,c,u,f;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,b=p.highest.height,_=ds(this.chart.width-v,0,this.maxWidth);c=t.offset?this.maxWidth/i:_/(i-1),v+6>c&&(c=_/(i-(t.offset?.5:1)),u=this.maxHeight-yp(t.grid)-e.padding-tE(t.title,this.chart.options.font),f=Math.sqrt(v*v+b*b),o=Vz(Math.min(Math.asin(ds((p.highest.height+6)/c,-1,1)),Math.asin(ds(u/f,-1,1))-Math.asin(ds(b/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ai(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ai(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=tE(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=yp(s)+u):(t.height=this.maxHeight,t.width=yp(s)+u),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:b}=this._getLabelSizes(),_=i.padding*2,E=Tc(this.labelRotation),N=Math.cos(E),I=Math.sin(E);if(c){const C=i.mirror?0:I*v.width+N*b.height;t.height=Math.min(this.maxHeight,t.height+C+_)}else{const C=i.mirror?0:N*v.width+I*b.height;t.width=Math.min(this.maxWidth,t.width+C+_)}this._calculatePadding(f,p,I,N)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;u?f?(b=r*t.width,_=i*e.height):(b=i*t.height,_=r*e.width):s==="start"?_=e.width:s==="end"?b=t.width:s!=="inner"&&(b=t.width/2,_=e.width/2),this.paddingLeft=Math.max((b-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-v+o)*this.width/(this.width-v),0)}else{let p=e.height/2,v=t.height/2;s==="start"?(p=0,v=t.height):s==="end"&&(p=e.height,v=0),this.paddingTop=p+o,this.paddingBottom=v+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ai(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Dn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Zx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(e/Jx(e,i));let f=0,p=0,v,b,_,E,N,I,C,O,H,nt,it;for(v=0;v<e;v+=u){if(E=t[v].label,N=this._resolveTickFontOptions(v),r.font=I=N.string,C=s[I]=s[I]||{data:{},gc:[]},O=N.lineHeight,H=nt=0,!Dn(E)&&!rr(E))H=Nx(r,C.data,C.gc,H,E),nt=O;else if(rr(E))for(b=0,_=E.length;b<_;++b)it=E[b],!Dn(it)&&!rr(it)&&(H=Nx(r,C.data,C.gc,H,it),nt+=O);o.push(H),c.push(nt),f=Math.max(H,f),p=Math.max(nt,p)}eG(s,e);const gt=o.indexOf(f),q=c.indexOf(p),L=V=>({width:o[V]||0,height:c[V]||0});return{first:L(0),last:L(e-1),widest:L(gt),highest:L(q),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Uz(this._alignToPixels?Eh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=iG(this.getContext(),t,i))}return this.$context||(this.$context=nG(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Tc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,f=this.isHorizontal(),v=this.ticks.length+(u?1:0),b=yp(s),_=[],E=c.setContext(this.getContext()),N=E.display?E.width:0,I=N/2,C=function(rt){return Eh(i,rt,N)};let O,H,nt,it,gt,q,L,V,$,P,D,j;if(o==="top")O=C(this.bottom),q=this.bottom-b,V=O-I,P=C(t.top)+I,j=t.bottom;else if(o==="bottom")O=C(this.top),P=t.top,j=C(t.bottom)-I,q=O+I,V=this.top+b;else if(o==="left")O=C(this.right),gt=this.right-b,L=O-I,$=C(t.left)+I,D=t.right;else if(o==="right")O=C(this.left),$=t.left,D=C(t.right)-I,gt=O+I,L=this.left+b;else if(e==="x"){if(o==="center")O=C((t.top+t.bottom)/2+.5);else if(dn(o)){const rt=Object.keys(o)[0],ht=o[rt];O=C(this.chart.scales[rt].getPixelForValue(ht))}P=t.top,j=t.bottom,q=O+I,V=q+b}else if(e==="y"){if(o==="center")O=C((t.left+t.right)/2);else if(dn(o)){const rt=Object.keys(o)[0],ht=o[rt];O=C(this.chart.scales[rt].getPixelForValue(ht))}gt=O-I,L=gt-b,$=t.left,D=t.right}const tt=Qe(r.ticks.maxTicksLimit,v),pt=Math.max(1,Math.ceil(v/tt));for(H=0;H<v;H+=pt){const rt=this.getContext(H),ht=s.setContext(rt),ft=c.setContext(rt),xt=ht.lineWidth,J=ht.color,At=ft.dash||[],F=ft.dashOffset,Y=ht.tickWidth,et=ht.tickColor,ot=ht.tickBorderDash||[],ct=ht.tickBorderDashOffset;nt=tG(this,H,u),nt!==void 0&&(it=Eh(i,nt,xt),f?gt=L=$=D=it:q=V=P=j=it,_.push({tx1:gt,ty1:q,tx2:L,ty2:V,x1:$,y1:P,x2:D,y2:j,width:xt,color:J,borderDash:At,borderDashOffset:F,tickWidth:Y,tickColor:et,tickBorderDash:ot,tickBorderDashOffset:ct}))}return this._ticksLength=v,this._borderValue=O,_}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:v}=s,b=yp(i.grid),_=b+p,E=v?-p:_,N=-Tc(this.labelRotation),I=[];let C,O,H,nt,it,gt,q,L,V,$,P,D,j="middle";if(r==="top")gt=this.bottom-E,q=this._getXAxisLabelAlignment();else if(r==="bottom")gt=this.top+E,q=this._getXAxisLabelAlignment();else if(r==="left"){const pt=this._getYAxisLabelAlignment(b);q=pt.textAlign,it=pt.x}else if(r==="right"){const pt=this._getYAxisLabelAlignment(b);q=pt.textAlign,it=pt.x}else if(e==="x"){if(r==="center")gt=(t.top+t.bottom)/2+_;else if(dn(r)){const pt=Object.keys(r)[0],rt=r[pt];gt=this.chart.scales[pt].getPixelForValue(rt)+_}q=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")it=(t.left+t.right)/2-_;else if(dn(r)){const pt=Object.keys(r)[0],rt=r[pt];it=this.chart.scales[pt].getPixelForValue(rt)}q=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(u==="start"?j="top":u==="end"&&(j="bottom"));const tt=this._getLabelSizes();for(C=0,O=c.length;C<O;++C){H=c[C],nt=H.label;const pt=s.setContext(this.getContext(C));L=this.getPixelForTick(C)+s.labelOffset,V=this._resolveTickFontOptions(C),$=V.lineHeight,P=rr(nt)?nt.length:1;const rt=P/2,ht=pt.color,ft=pt.textStrokeColor,xt=pt.textStrokeWidth;let J=q;o?(it=L,q==="inner"&&(C===O-1?J=this.options.reverse?"left":"right":C===0?J=this.options.reverse?"right":"left":J="center"),r==="top"?f==="near"||N!==0?D=-P*$+$/2:f==="center"?D=-tt.highest.height/2-rt*$+$:D=-tt.highest.height+$/2:f==="near"||N!==0?D=$/2:f==="center"?D=tt.highest.height/2-rt*$:D=tt.highest.height-P*$,v&&(D*=-1),N!==0&&!pt.showLabelBackdrop&&(it+=$/2*Math.sin(N))):(gt=L,D=(1-P)*$/2);let At;if(pt.showLabelBackdrop){const F=to(pt.backdropPadding),Y=tt.heights[C],et=tt.widths[C];let ot=D-F.top,ct=0-F.left;switch(j){case"middle":ot-=Y/2;break;case"bottom":ot-=Y;break}switch(q){case"center":ct-=et/2;break;case"right":ct-=et;break;case"inner":C===O-1?ct-=et:C>0&&(ct-=et/2);break}At={left:ct,top:ot,width:et+F.width,height:Y+F.height,color:pt.backdropColor}}I.push({label:nt,font:V,textOffset:D,options:{rotation:N,color:ht,strokeColor:ft,strokeWidth:xt,textAlign:J,textBaseline:j,translation:[it,gt],backdrop:At}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Tc(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=t+s,u=o.widest.width;let f,p;return e==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const c=(u,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const u=r[s];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,v,b;this.isHorizontal()?(f=Eh(t,this.left,o)-o/2,p=Eh(t,this.right,c)+c/2,v=b=u):(v=Eh(t,this.top,o)-o/2,b=Eh(t,this.bottom,c)+c/2,f=p=u),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(f,v),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&W1(i,r);const s=this.getLabelItems(t);for(const o of s){const c=o.options,u=o.font,f=o.label,p=o.textOffset;dg(i,f,0,p,u,c)}r&&$1(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=ps(i.font),o=to(i.padding),c=i.align;let u=s.lineHeight/2;e==="bottom"||e==="center"||dn(e)?(u+=o.bottom,rr(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:p,maxWidth:v,rotation:b}=sG(this,u,e,c);dg(t,i.text,0,0,s,{color:i.color,maxWidth:v,rotation:b,textAlign:rG(c,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qe(t.grid&&t.grid.z,-1),r=Qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==xd.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const c=e[s];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ps(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zm{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;lG(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,aG(t,o,i),this.override&&Ki.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ki[r]&&(delete Ki[r][i],this.override&&delete Qh[i])}}function aG(n,t,e){const i=lg(Object.create(null),[e?Ki.get(e):{},Ki.get(t),n.defaults]);Ki.set(t,i),n.defaultRoutes&&oG(t,n.defaultRoutes),n.descriptors&&Ki.describe(t,n.descriptors)}function oG(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),c=o.pop(),u=o.join(".");Ki.route(s,r,u,c)})}function lG(n){return"id"in n&&"defaults"in n}class cG{constructor(){this.controllers=new Zm(qh,"datasets",!0),this.elements=new Zm(Fo,"elements"),this.plugins=new Zm(Object,"plugins"),this.scales=new Zm(xd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Un(r,o=>{const c=i||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,e,i){const r=t5(t);ai(i["before"+r],[],i),e[t](i),ai(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var wl=new cG;class uG{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,c=o[i],u=[e,r,s.options];if(ai(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Dn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qe(i.options&&i.options.plugins,{}),s=hG(i);return r===!1&&!e?[]:dG(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function hG(n){const t={},e=[],i=Object.keys(wl.plugins.items);for(let s=0;s<i.length;s++)e.push(wl.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function fG(n,t){return!t&&n===!1?null:n===!0?{}:n}function dG(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const c of t){const u=c.id,f=fG(i[u],r);f!==null&&s.push({plugin:c,options:pG(n.config,{plugin:c,local:e[u]},f,o)})}return s}function pG(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function d_(n,t){const e=Ki.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function gG(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function mG(n,t){return n===t?"_index_":"_value_"}function eE(n){if(n==="x"||n==="y"||n==="r")return n}function vG(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function p_(n,...t){if(eE(n))return n;for(const e of t){const i=e.axis||vG(e.position)||n.length>1&&eE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function nE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function yG(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return nE(n,"x",e[0])||nE(n,"y",e[0])}return{}}function _G(n,t){const e=Qh[n.type]||{scales:{}},i=t.scales||{},r=d_(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!dn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=p_(o,c,yG(o,n),Ki.scales[c.type]),f=mG(u,r),p=e.scales||{};s[o]=qp(Object.create(null),[{axis:u},c,p[u],p[f]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,u=o.indexAxis||d_(c,t),p=(Qh[c]||{}).scales||{};Object.keys(p).forEach(v=>{const b=gG(v,u),_=o[b+"AxisID"]||b;s[_]=s[_]||Object.create(null),qp(s[_],[{axis:b},i[_],p[v]])})}),Object.keys(s).forEach(o=>{const c=s[o];qp(c,[Ki.scales[c.type],Ki.scale])}),s}function $6(n){const t=n.options||(n.options={});t.plugins=Qe(t.plugins,{}),t.scales=_G(n,t)}function Y6(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function bG(n){return n=n||{},n.data=Y6(n.data),$6(n),n}const iE=new Map,K6=new Set;function t0(n,t){let e=iE.get(n);return e||(e=t(),iE.set(n,e),K6.add(e)),e}const _p=(n,t,e)=>{const i=Xh(t,e);i!==void 0&&n.add(i)};class wG{constructor(t){this._config=bG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Y6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return t0(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return t0(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return t0(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return t0(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),c=o.get(e);if(c)return c;const u=new Set;e.forEach(p=>{t&&(u.add(t),p.forEach(v=>_p(u,t,v))),p.forEach(v=>_p(u,r,v)),p.forEach(v=>_p(u,Qh[s]||{},v)),p.forEach(v=>_p(u,Ki,v)),p.forEach(v=>_p(u,u_,v))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),K6.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qh[e]||{},Ki.datasets[e]||{},{type:e},Ki,u_]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=rE(this._resolverCache,t,r);let u=o;if(AG(o,e)){s.$shared=!1,i=Zu(i)?i():i;const f=this.createResolver(t,i,c);u=fd(o,i,f)}for(const f of e)s[f]=u[f];return s}createResolver(t,e,i=[""],r){const{resolver:s}=rE(this._resolverCache,t,i);return dn(e)?fd(s,e,void 0,r):s}}function rE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:a5(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const SG=n=>dn(n)&&Object.getOwnPropertyNames(n).some(t=>Zu(n[t]));function AG(n,t){const{isScriptable:e,isIndexable:i}=I6(n);for(const r of t){const s=e(r),o=i(r),c=(o||s)&&n[r];if(s&&(Zu(c)||SG(c))||o&&rr(c))return!0}return!1}var TG="4.5.0";const xG=["top","bottom","left","right","chartArea"];function sE(n,t){return n==="top"||n==="bottom"||xG.indexOf(n)===-1&&t==="x"}function aE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function oE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ai(e&&e.onComplete,[n],t)}function EG(n){const t=n.chart,e=t.options.animation;ai(e&&e.onProgress,[n],t)}function X6(n){return c5()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const S0={},lE=n=>{const t=X6(n);return Object.values(S0).filter(e=>e.canvas===t).pop()};function NG(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function IG(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var xu;let X1=(xu=class{static register(...t){wl.add(...t),cE()}static unregister(...t){wl.remove(...t),cE()}constructor(t,e){const i=this.config=new wG(e),r=X6(t),s=lE(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||WH(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;if(this.id=Ez(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gz(v=>this.update(v),o.resizeDelay||0),this._dataChanges=[],S0[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}mc.listen(this,"complete",oE),mc.listen(this,"progress",EG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Dn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return wl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ix(this.canvas,this.ctx),this}stop(){return mc.stop(this),this}resize(t,e){mc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Lx(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),ai(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Un(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const c=e[o],u=p_(o,c),f=u==="r",p=u==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Un(s,o=>{const c=o.options,u=c.id,f=p_(u,c),p=Qe(c.type,o.dtype);(c.position===void 0||sE(c.position,f)!==sE(o.dposition))&&(c.position=o.dposition),r[u]=!0;let v=null;if(u in i&&i[u].type===p)v=i[u];else{const b=wl.getScale(p);v=new b({id:u,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(c,t)}),Un(r,(o,c)=>{o||delete i[c]}),Un(i,o=>{Qa.configure(this,o,o.options),Qa.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(aE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||d_(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=wl.getController(c),{datasetElementType:f,dataElementType:p}=Ki.datasets[c];Object.assign(u,{dataElementType:wl.getElement(p),datasetElementType:f&&wl.getElement(f)}),o.controller=new u(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Un(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),b=!r&&s.indexOf(v)===-1;v.buildOrUpdateElements(b),o=Math.max(+v.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Un(s,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(aE("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Un(this.scales,t=>{Qa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!yx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;NG(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!yx(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qa.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Un(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Zu(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(mc.has(this)?this.attached&&!mc.running(this)&&mc.start(this):(this.draw(),oE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=F6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&W1(e,r),t.controller.draw(),r&&$1(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return fg(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=xH.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=rf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);cg(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),mc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ix(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete S0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};Un(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},r=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},s=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():o()}unbindEvents(){Un(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Un(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,c,u;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){o=t[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!J0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(u,f)=>u.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),o=s(e,t),c=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,c=this._getActiveElements(t,r,i,o),u=Pz(t),f=IG(t,this._lastEvent,i,u);i&&(this._lastEvent=null,ai(s.onHover,[t,c,this],this),u&&ai(s.onClick,[t,c,this],this));const p=!J0(c,r);return(p||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},ve(xu,"defaults",Ki),ve(xu,"instances",S0),ve(xu,"overrides",Qh),ve(xu,"registry",wl),ve(xu,"version",TG),ve(xu,"getChart",lE),xu);function cE(){return Un(X1.instances,n=>n._plugins.invalidate())}function CG(n,t,e){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=t,{borderWidth:f,borderJoinStyle:p}=u,v=Math.min(f/o,ba(i-e));if(n.beginPath(),n.arc(r,s,o-f/2,i+v/2,e-v/2),c>0){const b=Math.min(f/c,ba(i-e));n.arc(r,s,c+f/2,e-b/2,i+b/2,!0)}else{const b=Math.min(f/2,o*ba(i-e));if(p==="round")n.arc(r,s,b,e-zn/2,i+zn/2,!0);else if(p==="bevel"){const _=2*b*b,E=-_*Math.cos(e+zn/2)+r,N=-_*Math.sin(e+zn/2)+s,I=_*Math.cos(i+zn/2)+r,C=_*Math.sin(i+zn/2)+s;n.lineTo(E,N),n.lineTo(I,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function RG(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=t;let f=r/c;n.beginPath(),n.arc(s,o,c,i-f,e+f),u>r?(f=r/u,n.arc(s,o,u,e+f,i-f,!0)):n.arc(s,o,r,e+pr,i-pr),n.closePath(),n.clip()}function LG(n){return s5(n,["outerStart","outerEnd","innerStart","innerEnd"])}function PG(n,t,e,i){const r=LG(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),c=u=>{const f=(e-Math.min(s,u))*i/2;return ds(u,0,Math.min(s,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:ds(r.innerStart,0,o),innerEnd:ds(r.innerEnd,0,o)}}function jf(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function r1(n,t,e,i,r,s){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:p}=t,v=Math.max(t.outerRadius+i+e-f,0),b=p>0?p+i+e+f:0;let _=0;const E=r-u;if(i){const pt=p>0?p-i:0,rt=v>0?v-i:0,ht=(pt+rt)/2,ft=ht!==0?E*ht/(ht+i):E;_=(E-ft)/2}const N=Math.max(.001,E*v-e/zn)/v,I=(E-N)/2,C=u+I+_,O=r-I-_,{outerStart:H,outerEnd:nt,innerStart:it,innerEnd:gt}=PG(t,b,v,O-C),q=v-H,L=v-nt,V=C+H/q,$=O-nt/L,P=b+it,D=b+gt,j=C+it/P,tt=O-gt/D;if(n.beginPath(),s){const pt=(V+$)/2;if(n.arc(o,c,v,V,pt),n.arc(o,c,v,pt,$),nt>0){const xt=jf(L,$,o,c);n.arc(xt.x,xt.y,nt,$,O+pr)}const rt=jf(D,O,o,c);if(n.lineTo(rt.x,rt.y),gt>0){const xt=jf(D,tt,o,c);n.arc(xt.x,xt.y,gt,O+pr,tt+Math.PI)}const ht=(O-gt/b+(C+it/b))/2;if(n.arc(o,c,b,O-gt/b,ht,!0),n.arc(o,c,b,ht,C+it/b,!0),it>0){const xt=jf(P,j,o,c);n.arc(xt.x,xt.y,it,j+Math.PI,C-pr)}const ft=jf(q,C,o,c);if(n.lineTo(ft.x,ft.y),H>0){const xt=jf(q,V,o,c);n.arc(xt.x,xt.y,H,C-pr,V)}}else{n.moveTo(o,c);const pt=Math.cos(V)*v+o,rt=Math.sin(V)*v+c;n.lineTo(pt,rt);const ht=Math.cos($)*v+o,ft=Math.sin($)*v+c;n.lineTo(ht,ft)}n.closePath()}function kG(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c}=t;let u=t.endAngle;if(s){r1(n,t,e,i,u,r);for(let f=0;f<s;++f)n.fill();isNaN(c)||(u=o+(c%wi||wi))}return r1(n,t,e,i,u,r),n.fill(),u}function DG(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=t,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:b,borderRadius:_}=u,E=u.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=b,E?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let N=t.endAngle;if(s){r1(n,t,e,i,N,r);for(let I=0;I<s;++I)n.stroke();isNaN(c)||(N=o+(c%wi||wi))}E&&RG(n,t,N),u.selfJoin&&N-o>=zn&&_===0&&p!=="miter"&&CG(n,t,N),s||(r1(n,t,e,i,N,r),n.stroke())}class Ip extends Fo{constructor(e){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:c}=b6(s,{x:e,y:i}),{startAngle:u,endAngle:f,innerRadius:p,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,E=Qe(b,f-u),N=hg(o,u,f)&&u!==f,I=E>=wi||N,C=xc(c,p+_,v+_);return I&&C}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,v=(s+o)/2,b=(c+u+p+f)/2;return{x:i+Math.cos(v)*b,y:r+Math.sin(v)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>wi?Math.floor(r/wi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*s,Math.sin(u)*s);const f=1-Math.sin(Math.min(zn,r||0)),p=s*f;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,kG(e,this,p,o,c),DG(e,this,p,o,c),e.restore()}}ve(Ip,"id","arc"),ve(Ip,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ve(Ip,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(Ip,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Q6(n,t,e=t){n.lineCap=Qe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Qe(e.borderDash,t.borderDash)),n.lineDashOffset=Qe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Qe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Qe(e.borderWidth,t.borderWidth),n.strokeStyle=Qe(e.borderColor,t.borderColor)}function OG(n,t,e){n.lineTo(e.x,e.y)}function MG(n){return n.stepped?sq:n.tension||n.cubicInterpolationMode==="monotone"?aq:OG}function J6(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:c}=t,u=Math.max(r,o),f=Math.min(s,c),p=r<o&&s<o||r>c&&s>c;return{count:i,start:u,loop:t.loop,ilen:f<u&&!p?i+f-u:f-u}}function jG(n,t,e,i){const{points:r,options:s}=t,{count:o,start:c,loop:u,ilen:f}=J6(r,e,i),p=MG(s);let{move:v=!0,reverse:b}=i||{},_,E,N;for(_=0;_<=f;++_)E=r[(c+(b?f-_:_))%o],!E.skip&&(v?(n.moveTo(E.x,E.y),v=!1):p(n,N,E,b,s.stepped),N=E);return u&&(E=r[(c+(b?f:0))%o],p(n,N,E,b,s.stepped)),!!u}function FG(n,t,e,i){const r=t.points,{count:s,start:o,ilen:c}=J6(r,e,i),{move:u=!0,reverse:f}=i||{};let p=0,v=0,b,_,E,N,I,C;const O=nt=>(o+(f?c-nt:nt))%s,H=()=>{N!==I&&(n.lineTo(p,I),n.lineTo(p,N),n.lineTo(p,C))};for(u&&(_=r[O(0)],n.moveTo(_.x,_.y)),b=0;b<=c;++b){if(_=r[O(b)],_.skip)continue;const nt=_.x,it=_.y,gt=nt|0;gt===E?(it<N?N=it:it>I&&(I=it),p=(v*p+nt)/++v):(H(),n.lineTo(nt,it),E=gt,v=0,N=I=it),C=it}H()}function g_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?FG:jG}function VG(n){return n.stepped?Fq:n.tension||n.cubicInterpolationMode==="monotone"?Vq:Lh}function BG(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Q6(n,t.options),n.stroke(r)}function UG(n,t,e,i){const{segments:r,options:s}=t,o=g_(t);for(const c of r)Q6(n,s,c.style),n.beginPath(),o(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const zG=typeof Path2D=="function";function qG(n,t,e,i){zG&&!t.options.segment?BG(n,t,e,i):UG(n,t,e,i)}class Du extends Fo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Rq(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gq(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=j6(this,{property:e,start:r,end:r});if(!o.length)return;const c=[],u=VG(i);let f,p;for(f=0,p=o.length;f<p;++f){const{start:v,end:b}=o[f],_=s[v],E=s[b];if(_===E){c.push(_);continue}const N=Math.abs((r-_[e])/(E[e]-_[e])),I=u(_,E,N,i.stepped);I[e]=t[e],c.push(I)}return c.length===1?c[0]:c}pathSegment(t,e,i){return g_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=g_(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const c of r)o&=s(t,this,c,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),qG(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ve(Du,"id","line"),ve(Du,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ve(Du,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ve(Du,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function uE(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class A0 extends Fo{constructor(e){super();ve(this,"parsed");ve(this,"skip");ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return uE(this,e,"x",i)}inYRange(e,i){return uE(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!fg(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,h_(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ve(A0,"id","point"),ve(A0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ve(A0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Z6(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let c,u,f,p,v;return n.horizontal?(v=o/2,c=Math.min(e,r),u=Math.max(e,r),f=i-v,p=i+v):(v=s/2,c=e-v,u=e+v,f=Math.min(i,r),p=Math.max(i,r)),{left:c,top:f,right:u,bottom:p}}function Ou(n,t,e,i){return n?0:ds(t,e,i)}function HG(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=N6(i);return{t:Ou(r.top,s.top,0,e),r:Ou(r.right,s.right,0,t),b:Ou(r.bottom,s.bottom,0,e),l:Ou(r.left,s.left,0,t)}}function GG(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=rd(r),o=Math.min(t,e),c=n.borderSkipped,u=i||dn(r);return{topLeft:Ou(!u||c.top||c.left,s.topLeft,0,o),topRight:Ou(!u||c.top||c.right,s.topRight,0,o),bottomLeft:Ou(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Ou(!u||c.bottom||c.right,s.bottomRight,0,o)}}function WG(n){const t=Z6(n),e=t.right-t.left,i=t.bottom-t.top,r=HG(n,e/2,i/2),s=GG(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function l2(n,t,e,i){const r=t===null,s=e===null,c=n&&!(r&&s)&&Z6(n,i);return c&&(r||xc(t,c.left,c.right))&&(s||xc(e,c.top,c.bottom))}function $G(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function YG(n,t){n.rect(t.x,t.y,t.w,t.h)}function c2(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class T0 extends Fo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=WG(this),c=$G(o.radius)?e1:YG;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),c(t,c2(o,e,s)),t.clip(),c(t,c2(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,c2(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return l2(this,t,e,i)}inXRange(t,e){return l2(this,t,null,e)}inYRange(t,e){return l2(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ve(T0,"id","bar"),ve(T0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(T0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function KG(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const c of i){let{start:u,end:f}=c;f=Q1(u,f,r);const p=m_(e,r[u],r[f],c.loop);if(!t.segments){o.push({source:c,target:p,start:r[u],end:r[f]});continue}const v=j6(t,p);for(const b of v){const _=m_(e,s[b.start],s[b.end],b.loop),E=M6(c,r,_);for(const N of E)o.push({source:N,target:b,start:{[e]:hE(p,_,"start",Math.max)},end:{[e]:hE(p,_,"end",Math.min)}})}}return o}function m_(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=ba(r),s=ba(s)),{property:n,start:r,end:s}}function XG(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:c})=>{c=Q1(o,c,r);const u=r[o],f=r[c];i!==null?(s.push({x:u.x,y:i}),s.push({x:f.x,y:i})):e!==null&&(s.push({x:e,y:u.y}),s.push({x:e,y:f.y}))}),s}function Q1(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function hE(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function tC(n,t){let e=[],i=!1;return rr(n)?(i=!0,e=n):e=XG(n,t),e.length?new Du({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function fE(n){return n&&n.fill!==!1}function QG(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!vs(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function JG(n,t,e){const i=nW(n);if(dn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return vs(r)&&Math.floor(r)===r?ZG(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ZG(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function tW(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:dn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function eW(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:dn(n)?i=n.value:i=t.getBaseValue(),i}function nW(n){const t=n.options,e=t.fill;let i=Qe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function iW(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,c=rW(t,e);c.push(tC({x:null,y:t.bottom},i));for(let u=0;u<s.length;u++){const f=s[u];for(let p=f.start;p<=f.end;p++)sW(r,o[p],c)}return new Du({points:r,options:{}})}function rW(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function sW(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:c,point:u}=aW(s,t,"x");if(!(!u||o&&c)){if(o)i.unshift(u);else if(n.push(u),!c)break}}n.push(...i)}function aW(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let c=!1,u=!1;for(let f=0;f<s.length;f++){const p=s[f],v=o[p.start][e],b=o[p.end][e];if(xc(r,v,b)){c=r===v,u=r===b;break}}return{first:c,last:u,point:i}}class eC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:wi},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function oW(n){const{chart:t,fill:e,line:i}=n;if(vs(e))return lW(t,e);if(e==="stack")return iW(n);if(e==="shape")return!0;const r=cW(n);return r instanceof eC?r:tC(r,i)}function lW(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function cW(n){return(n.scale||{}).getPointPositionForValue?hW(n):uW(n)}function uW(n){const{scale:t={},fill:e}=n,i=tW(e,t);if(vs(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function hW(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=eW(e,t,s),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,s);return new eC({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)c.push(t.getPointPositionForValue(u,o));return c}function u2(n,t,e){const i=oW(t),{chart:r,index:s,line:o,scale:c,axis:u}=t,f=o.options,p=f.fill,v=f.backgroundColor,{above:b=v,below:_=v}=p||{},E=r.getDatasetMeta(s),N=F6(r,E);i&&o.points.length&&(W1(n,e),fW(n,{line:o,target:i,above:b,below:_,area:e,scale:c,axis:u,clip:N}),$1(n))}function fW(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:c,clip:u}=t,f=e._loop?"angle":t.axis;n.save();let p=s;s!==r&&(f==="x"?(dE(n,i,o.top),h2(n,{line:e,target:i,color:r,scale:c,property:f,clip:u}),n.restore(),n.save(),dE(n,i,o.bottom)):f==="y"&&(pE(n,i,o.left),h2(n,{line:e,target:i,color:s,scale:c,property:f,clip:u}),n.restore(),n.save(),pE(n,i,o.right),p=r)),h2(n,{line:e,target:i,color:p,scale:c,property:f,clip:u}),n.restore()}function dE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],v=r[Q1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function pE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],v=r[Q1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(e,v.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function h2(n,t){const{line:e,target:i,property:r,color:s,scale:o,clip:c}=t,u=KG(e,i,r);for(const{source:f,target:p,start:v,end:b}of u){const{style:{backgroundColor:_=s}={}}=f,E=i!==!0;n.save(),n.fillStyle=_,dW(n,o,c,E&&m_(r,v,b)),n.beginPath();const N=!!e.pathSegment(n,f);let I;if(E){N?n.closePath():gE(n,i,b,r);const C=!!i.pathSegment(n,p,{move:N,reverse:!0});I=N&&C,I||gE(n,i,v,r)}n.closePath(),n.fill(I?"evenodd":"nonzero"),n.restore()}}function dW(n,t,e,i){const r=t.chart.chartArea,{property:s,start:o,end:c}=i||{};if(s==="x"||s==="y"){let u,f,p,v;s==="x"?(u=o,f=r.top,p=c,v=r.bottom):(u=r.left,f=o,p=r.right,v=c),n.beginPath(),e&&(u=Math.max(u,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),v=Math.min(v,e.bottom)),n.rect(u,f,p-u,v-f),n.clip()}}function gE(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var pW={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,c,u;for(o=0;o<i;++o)s=n.getDatasetMeta(o),c=s.dataset,u=null,c&&c.options&&c instanceof Du&&(u={visible:n.isDatasetVisible(o),index:o,fill:JG(c,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=QG(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&u2(n.ctx,c,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;fE(s)&&u2(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!fE(i)||e.drawTime!=="beforeDatasetDraw"||u2(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},gW=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class vE extends Fo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ai(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=ps(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=mE(i,s);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,c,u)+10):(p=this.maxHeight,f=this._fitCols(o,r,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+c;let v=t;s.textAlign="left",s.textBaseline="middle";let b=-1,_=-p;return this.legendItems.forEach((E,N)=>{const I=i+e/2+s.measureText(E.text).width;(N===0||f[f.length-1]+I+2*c>o)&&(v+=p,f[f.length-(N>0?0:1)]=0,_+=p,b++),u[N]={left:0,top:_,row:b,width:I,height:r},f[f.length-1]+=I+c}),v}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-t;let v=c,b=0,_=0,E=0,N=0;return this.legendItems.forEach((I,C)=>{const{itemWidth:O,itemHeight:H}=mW(i,e,s,I,r);C>0&&_+H+2*c>p&&(v+=b+c,f.push({width:b,height:_}),E+=b+c,N++,b=_=0),u[C]={left:E,top:_,col:N,width:O,height:H},b=Math.max(b,O),_+=H+c}),v+=b,f.push({width:b,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=sd(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=ls(i,this.left+r,this.right-this.lineWidths[c]);for(const f of e)c!==f.row&&(c=f.row,u=ls(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+t+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let c=0,u=ls(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const f of e)f.col!==c&&(c=f.col,u=ls(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;W1(t,this),this._draw(),$1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,c=Ki.color,u=sd(t.rtl,this.left,this.width),f=ps(o.font),{padding:p}=o,v=f.size,b=v/2;let _;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:E,boxHeight:N,itemHeight:I}=mE(o,v),C=function(gt,q,L){if(isNaN(E)||E<=0||isNaN(N)||N<0)return;r.save();const V=Qe(L.lineWidth,1);if(r.fillStyle=Qe(L.fillStyle,c),r.lineCap=Qe(L.lineCap,"butt"),r.lineDashOffset=Qe(L.lineDashOffset,0),r.lineJoin=Qe(L.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Qe(L.strokeStyle,c),r.setLineDash(Qe(L.lineDash,[])),o.usePointStyle){const $={radius:N*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:V},P=u.xPlus(gt,E/2),D=q+b;E6(r,$,P,D,o.pointStyleWidth&&E)}else{const $=q+Math.max((v-N)/2,0),P=u.leftForLtr(gt,E),D=rd(L.borderRadius);r.beginPath(),Object.values(D).some(j=>j!==0)?e1(r,{x:P,y:$,w:E,h:N,radius:D}):r.rect(P,$,E,N),r.fill(),V!==0&&r.stroke()}r.restore()},O=function(gt,q,L){dg(r,L.text,gt,q+I/2,f,{strikethrough:L.hidden,textAlign:u.textAlign(L.textAlign)})},H=this.isHorizontal(),nt=this._computeTitleHeight();H?_={x:ls(s,this.left+p,this.right-i[0]),y:this.top+p+nt,line:0}:_={x:this.left+p,y:ls(s,this.top+nt+p,this.bottom-e[0].height),line:0},k6(this.ctx,t.textDirection);const it=I+p;this.legendItems.forEach((gt,q)=>{r.strokeStyle=gt.fontColor,r.fillStyle=gt.fontColor;const L=r.measureText(gt.text).width,V=u.textAlign(gt.textAlign||(gt.textAlign=o.textAlign)),$=E+b+L;let P=_.x,D=_.y;u.setWidth(this.width),H?q>0&&P+$+p>this.right&&(D=_.y+=it,_.line++,P=_.x=ls(s,this.left+p,this.right-i[_.line])):q>0&&D+it>this.bottom&&(P=_.x=P+e[_.line].width+p,_.line++,D=_.y=ls(s,this.top+nt+p,this.bottom-e[_.line].height));const j=u.x(P);if(C(j,D,gt),P=Wz(V,P+E+b,H?P+$:this.right,t.rtl),O(u.x(P),D,gt),H)_.x+=$+p;else if(typeof gt.text!="string"){const tt=f.lineHeight;_.y+=nC(gt,tt)+p}else _.y+=it}),D6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ps(e.font),r=to(e.padding);if(!e.display)return;const s=sd(t.rtl,this.left,this.width),o=this.ctx,c=e.position,u=i.size/2,f=r.top+u;let p,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+f,v=ls(t.align,v,this.right-b);else{const E=this.columnSizes.reduce((N,I)=>Math.max(N,I.height),0);p=f+ls(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const _=ls(c,v,v+b);o.textAlign=s.textAlign(n5(c)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,dg(o,e.text,_,p,i)}_computeTitleHeight(){const t=this.options.title,e=ps(t.font),i=to(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(xc(t,this.left,this.right)&&xc(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],xc(t,r.left,r.left+r.width)&&xc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!_W(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=gW(r,i);r&&!s&&ai(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ai(e.onHover,[t,i,this],this)}else i&&ai(e.onClick,[t,i,this],this)}}function mW(n,t,e,i,r){const s=vW(i,n,t,e),o=yW(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function vW(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function yW(n,t,e){let i=n;return typeof t.text!="string"&&(i=nC(t,e)),i}function nC(n,t){const e=n.text?n.text.length:0;return t*e}function _W(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var bW={id:"legend",_element:vE,start(n,t,e){const i=n.legend=new vE({ctx:n.ctx,options:e,chart:n});Qa.configure(n,i,e),Qa.addBox(n,i)},stop(n){Qa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Qa.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),p=to(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class iC extends Fo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=rr(i.text)?i.text.length:1;this._padding=to(i.padding);const s=r*ps(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,c=o.align;let u=0,f,p,v;return this.isHorizontal()?(p=ls(c,i,s),v=e+t,f=s-i):(o.position==="left"?(p=i+t,v=ls(c,r,e),u=zn*-.5):(p=s-t,v=ls(c,e,r),u=zn*.5),f=r-e),{titleX:p,titleY:v,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ps(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(s);dg(t,e.text,0,0,i,{color:e.color,maxWidth:u,rotation:f,textAlign:n5(e.align),textBaseline:"middle",translation:[o,c]})}}function wW(n,t){const e=new iC({ctx:n.ctx,options:t,chart:n});Qa.configure(n,e,t),Qa.addBox(n,e),n.titleBlock=e}var SW={id:"title",_element:iC,start(n,t,e){wW(n,e)},stop(n){const t=n.titleBlock;Qa.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Qa.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cp={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=c_(t,f);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,i=u.y}return{x:e,y:i}}};function bl(n,t){return t&&(rr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function AW(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function yE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=t,u=ps(t.bodyFont),f=ps(t.titleFont),p=ps(t.footerFont),v=s.length,b=r.length,_=i.length,E=to(t.padding);let N=E.height,I=0,C=i.reduce((nt,it)=>nt+it.before.length+it.lines.length+it.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,v&&(N+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),C){const nt=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;N+=_*nt+(C-_)*u.lineHeight+(C-1)*t.bodySpacing}b&&(N+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let O=0;const H=function(nt){I=Math.max(I,e.measureText(nt).width+O)};return e.save(),e.font=f.string,Un(n.title,H),e.font=u.string,Un(n.beforeBody.concat(n.afterBody),H),O=t.displayColors?o+2+t.boxPadding:0,Un(i,nt=>{Un(nt.before,H),Un(nt.lines,H),Un(nt.after,H)}),O=0,e.font=p.string,Un(n.footer,H),e.restore(),I+=E.width,{width:I,height:N}}function TW(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function xW(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function EW(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:c,right:u}}=n;let f="center";return i==="center"?f=r<=(c+u)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),xW(f,n,t,e)&&(f="center"),f}function _E(n,t,e){const i=e.yAlign||t.yAlign||TW(n,e);return{xAlign:e.xAlign||t.xAlign||EW(n,t,e,i),yAlign:i}}function NW(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function IW(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function bE(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:u}=e,f=r+s,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:_}=rd(o);let E=NW(t,c);const N=IW(t,u,f);return u==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(p,b)+r:c==="right"&&(E+=Math.max(v,_)+r),{x:ds(E,0,i.width-t.width),y:ds(N,0,i.height-t.height)}}function e0(n,t,e){const i=to(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function wE(n){return bl([],vc(n))}function CW(n,t,e){return rf(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function SE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const rC={beforeTitle:gc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:gc,beforeBody:gc,beforeLabel:gc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Dn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:gc,afterBody:gc,beforeFooter:gc,footer:gc,afterFooter:gc};function Hs(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?rC[t].call(e,i):r}class v_ extends Fo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new V6(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=CW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Hs(i,"beforeTitle",this,t),s=Hs(i,"title",this,t),o=Hs(i,"afterTitle",this,t);let c=[];return c=bl(c,vc(r)),c=bl(c,vc(s)),c=bl(c,vc(o)),c}getBeforeBody(t,e){return wE(Hs(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Un(t,s=>{const o={before:[],lines:[],after:[]},c=SE(i,s);bl(o.before,vc(Hs(c,"beforeLabel",this,s))),bl(o.lines,Hs(c,"label",this,s)),bl(o.after,vc(Hs(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return wE(Hs(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Hs(i,"beforeFooter",this,t),s=Hs(i,"footer",this,t),o=Hs(i,"afterFooter",this,t);let c=[];return c=bl(c,vc(r)),c=bl(c,vc(s)),c=bl(c,vc(o)),c}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],u,f;for(u=0,f=e.length;u<f;++u)c.push(AW(this.chart,e[u]));return t.filter&&(c=c.filter((p,v,b)=>t.filter(p,v,b,i))),t.itemSort&&(c=c.sort((p,v)=>t.itemSort(p,v,i))),Un(c,p=>{const v=SE(t.callbacks,p);r.push(Hs(v,"labelColor",this,p)),s.push(Hs(v,"labelPointStyle",this,p)),o.push(Hs(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=Cp[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=yE(this,i),f=Object.assign({},c,u),p=_E(this.chart,i,f),v=bE(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:v.x,y:v.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:v}=rd(c),{x:b,y:_}=t,{width:E,height:N}=e;let I,C,O,H,nt,it;return s==="center"?(nt=_+N/2,r==="left"?(I=b,C=I-o,H=nt+o,it=nt-o):(I=b+E,C=I+o,H=nt-o,it=nt+o),O=I):(r==="left"?C=b+Math.max(u,p)+o:r==="right"?C=b+E-Math.max(f,v)-o:C=this.caretX,s==="top"?(H=_,nt=H-o,I=C-o,O=C+o):(H=_+N,nt=H+o,I=C+o,O=C-o),it=H),{x1:I,x2:C,x3:O,y1:H,y2:nt,y3:it}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,c,u;if(s){const f=sd(i.rtl,this.x,this.width);for(t.x=e0(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",o=ps(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,u=0;u<s;++u)e.fillText(r[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,u+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=s,p=ps(s.bodyFont),v=e0(this,"left",s),b=r.x(v),_=u<p.lineHeight?(p.lineHeight-u)/2:0,E=e.y+_;if(s.usePointStyle){const N={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=r.leftForLtr(b,f)+f/2,C=E+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,h_(t,N,I,C),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,h_(t,N,I,C)}else{t.lineWidth=dn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const N=r.leftForLtr(b,f),I=r.leftForLtr(r.xPlus(b,1),f-2),C=rd(o.borderRadius);Object.values(C).some(O=>O!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,e1(t,{x:N,y:E,w:f,h:u,radius:C}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),e1(t,{x:I,y:E+1,w:f-2,h:u-2,radius:C}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(N,E,f,u),t.strokeRect(N,E,f,u),t.fillStyle=o.backgroundColor,t.fillRect(I,E+1,f-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=i,v=ps(i.bodyFont);let b=v.lineHeight,_=0;const E=sd(i.rtl,this.x,this.width),N=function(L){e.fillText(L,E.x(t.x+_),t.y+b/2),t.y+=b+s},I=E.textAlign(o);let C,O,H,nt,it,gt,q;for(e.textAlign=o,e.textBaseline="middle",e.font=v.string,t.x=e0(this,I,i),e.fillStyle=i.bodyColor,Un(this.beforeBody,N),_=c&&I!=="right"?o==="center"?f/2+p:f+2+p:0,nt=0,gt=r.length;nt<gt;++nt){for(C=r[nt],O=this.labelTextColors[nt],e.fillStyle=O,Un(C.before,N),H=C.lines,c&&H.length&&(this._drawColorBox(e,t,nt,E,i),b=Math.max(v.lineHeight,u)),it=0,q=H.length;it<q;++it)N(H[it]),b=v.lineHeight;Un(C.after,N)}_=0,b=v.lineHeight,Un(this.afterBody,N),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,c;if(s){const u=sd(i.rtl,this.x,this.width);for(t.x=e0(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=u.textAlign(i.footerAlign),e.textBaseline="middle",o=ps(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,c=0;c<s;++c)e.fillText(r[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=t,{width:f,height:p}=i,{topLeft:v,topRight:b,bottomLeft:_,bottomRight:E}=rd(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(c+v,u),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(c+f-b,u),e.quadraticCurveTo(c+f,u,c+f,u+b),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(c+f,u+p-E),e.quadraticCurveTo(c+f,u+p,c+f-E,u+p),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(c+_,u+p),e.quadraticCurveTo(c,u+p,c,u+p-_),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(c,u+v),e.quadraticCurveTo(c,u,c+v,u),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Cp[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=yE(this,t),u=Object.assign({},o,this._size),f=_E(e,t,u),p=bE(t,u,f,e);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=to(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),k6(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),D6(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),s=!J0(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),c=this._positionChanged(o,t),u=e||!J0(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=Cp[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}ve(v_,"positioners",Cp);var RW={id:"tooltip",_element:v_,positioners:Cp,afterInit(n,t,e){e&&(n.tooltip=new v_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const LW=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function PW(n,t,e,i){const r=n.indexOf(t);if(r===-1)return LW(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const kW=(n,t)=>n===null?null:ds(Math.round(n),0,t);function AE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class y_ extends xd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Dn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:PW(i,t,Qe(e,t),this._addedLabels),kW(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return AE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ve(y_,"id","category"),ve(y_,"defaults",{ticks:{callback:AE}});function DW(n,t){const e=[],{bounds:r,step:s,min:o,max:c,precision:u,count:f,maxTicks:p,maxDigits:v,includeBounds:b}=n,_=s||1,E=p-1,{min:N,max:I}=t,C=!Dn(o),O=!Dn(c),H=!Dn(f),nt=(I-N)/(v+1);let it=bx((I-N)/E/_)*_,gt,q,L,V;if(it<1e-14&&!C&&!O)return[{value:N},{value:I}];V=Math.ceil(I/it)-Math.floor(N/it),V>E&&(it=bx(V*it/E/_)*_),Dn(u)||(gt=Math.pow(10,u),it=Math.ceil(it*gt)/gt),r==="ticks"?(q=Math.floor(N/it)*it,L=Math.ceil(I/it)*it):(q=N,L=I),C&&O&&s&&jz((c-o)/s,it/1e3)?(V=Math.round(Math.min((c-o)/it,p)),it=(c-o)/V,q=o,L=c):H?(q=C?o:q,L=O?c:L,V=f-1,it=(L-q)/V):(V=(L-q)/it,Hp(V,Math.round(V),it/1e3)?V=Math.round(V):V=Math.ceil(V));const $=Math.max(wx(it),wx(q));gt=Math.pow(10,Dn(u)?$:u),q=Math.round(q*gt)/gt,L=Math.round(L*gt)/gt;let P=0;for(C&&(b&&q!==o?(e.push({value:o}),q<o&&P++,Hp(Math.round((q+P*it)*gt)/gt,o,TE(o,nt,n))&&P++):q<o&&P++);P<V;++P){const D=Math.round((q+P*it)*gt)/gt;if(O&&D>c)break;e.push({value:D})}return O&&b&&L!==c?e.length&&Hp(e[e.length-1].value,c,TE(c,nt,n))?e[e.length-1].value=c:e.push({value:c}):(!O||L===c)&&e.push({value:L}),e}function TE(n,t,{horizontal:e,minRotation:i}){const r=Tc(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class OW extends xd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Dn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=e?r:u,c=u=>s=i?s:u;if(t){const u=Pl(r),f=Pl(s);u<0&&f<0?c(0):u>0&&f>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),t||o(r-u)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=DW(r,s);return t.bounds==="ticks"&&Fz(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return r5(t,this.chart.options.locale,this.options.ticks.format)}}class __ extends OW{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=vs(t)?t:0,this.max=vs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Tc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ve(__,"id","linear"),ve(__,"defaults",{ticks:{callback:x6.formatters.numeric}});const J1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$s=Object.keys(J1);function xE(n,t){return n-t}function EE(n,t){if(Dn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),vs(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(ug(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function NE(n,t,e,i){const r=$s.length;for(let s=$s.indexOf(n);s<r-1;++s){const o=J1[$s[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(c*o.size))<=i)return $s[s]}return $s[r-1]}function MW(n,t,e,i,r){for(let s=$s.length-1;s>=$s.indexOf(e);s--){const o=$s[s];if(J1[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return $s[e?$s.indexOf(e):0]}function jW(n){for(let t=$s.indexOf(n)+1,e=$s.length;t<e;++t)if(J1[$s[t]].common)return $s[t]}function IE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=e5(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function FW(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,i))u=e[c],u>=0&&(t[u].major=!0);return t}function CE(n,t,e){const i=[],r={},s=t.length;let o,c;for(o=0;o<s;++o)c=t[o],r[c]=o,i.push({value:c,major:!1});return s===0||!e?i:FW(n,i,r,e)}class s1 extends xd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new bH._date(t.adapters.date);r.init(e),qp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:EE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=vs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=vs(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=qz(r,s,o);return this._unit=e.unit||(i.autoSkip?NE(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):MW(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:jW(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),CE(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=ds(e,0,o),i=ds(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||NE(s.minUnit,e,i,this._getLabelCapacity(e)),c=Qe(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,f=ug(u)||u===!0,p={};let v=e,b,_;if(f&&(v=+t.startOf(v,"isoWeek",u)),v=+t.startOf(v,f?"day":o),t.diff(i,e,o)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+o);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,_=0;b<i;b=+t.add(b,c,o),_++)IE(p,b,E);return(b===i||r.bounds==="ticks"||_===1)&&IE(p,b,E),Object.keys(p).sort(xE).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return ai(o,[t,e,i],this);const c=s.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&c[u],v=f&&c[f],b=i[e],_=f&&v&&b&&b.major;return this._adapter.format(t,r||(_?v:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Tc(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,CE(this,[t],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(EE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return S6(t.sort(xE))}}ve(s1,"id","time"),ve(s1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function n0(n,t,e){let i=0,r=n.length-1,s,o,c,u;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Mh(n,"pos",t)),{pos:s,time:c}=n[i],{pos:o,time:u}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Mh(n,"time",t)),{time:s,pos:c}=n[i],{time:o,pos:u}=n[r]);const f=o-s;return f?c+(u-c)*(t-s)/f:c}class RE extends s1{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=n0(e,this.min),this._tableRange=n0(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,c,u,f,p;for(o=0,c=t.length;o<c;++o)f=t[o],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],u=r[o-1],f=r[o],Math.round((p+u)/2)!==f&&s.push({time:f,pos:o/(c-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(n0(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return n0(this._table,i*this._tableRange+this._minPos,!0)}}ve(RE,"id","timeseries"),ve(RE,"defaults",s1.defaults);const sC="label";function LE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function VW(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function aC(n,t){n.labels=t}function oC(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sC;const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function BW(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sC;const e={labels:[],datasets:[]};return aC(e,n.labels),oC(e,n.datasets,t),e}function UW(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:f=[],fallbackContent:p,updateMode:v,...b}=n,_=ye.useRef(null),E=ye.useRef(null),N=()=>{_.current&&(E.current=new X1(_.current,{type:o,data:BW(c,s),options:u&&{...u},plugins:f}),LE(t,E.current))},I=()=>{LE(t,null),E.current&&(E.current.destroy(),E.current=null)};return ye.useEffect(()=>{!r&&E.current&&u&&VW(E.current,u)},[r,u]),ye.useEffect(()=>{!r&&E.current&&aC(E.current.config.data,c.labels)},[r,c.labels]),ye.useEffect(()=>{!r&&E.current&&c.datasets&&oC(E.current.config.data,c.datasets,s)},[r,c.datasets]),ye.useEffect(()=>{E.current&&(r?(I(),setTimeout(N)):E.current.update(v))},[r,u,c.labels,c.datasets,v]),ye.useEffect(()=>{E.current&&(I(),setTimeout(N))},[o]),ye.useEffect(()=>(N(),()=>I()),[]),PE.createElement("canvas",{ref:_,role:"img",height:e,width:i,...b},p)}const zW=ye.forwardRef(UW);function Z1(n,t){return X1.register(t),ye.forwardRef((e,i)=>PE.createElement(zW,{...e,ref:i,type:n}))}const qW=Z1("line",b0),HW=Z1("bar",_0),GW=Z1("doughnut",Wf),WW=Z1("pie",f_);X1.register(Ip,RW,bW,y_,__,T0,SW,A0,Du,pW);const f2=ye.forwardRef(({type:n,data:t,options:e},i)=>{switch(n){case"doughnut":return B.jsx(GW,{ref:i,data:t,options:e});case"bar":return B.jsx(HW,{ref:i,data:t,options:e});case"pie":return B.jsx(WW,{ref:i,data:t,options:e});case"line":return B.jsx(qW,{ref:i,data:t,options:e});default:return B.jsx("div",{children:"Tipo de grfico no vlido"})}});function $W({results:n,onClose:t}){const e=ye.useRef(null),i=ye.useRef(null),r=ye.useRef(null);if(!n)return null;const{config:s,clientes:o,mariella:c}=n,u=$b(s.locale,s.moneda),f={labels:["Saldo Neto","Total Deducciones"],datasets:[{data:[c.saldoFinalNeto,c.totalDeducciones],backgroundColor:["#2ecc71","#e74c3c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:4}]},p=c.deducciones.reduce((O,H)=>{const nt=H.category||"Otros";return O[nt]=(O[nt]||0)+H.montoCalculado,O},{}),v={labels:Object.keys(p),datasets:[{data:Object.values(p),backgroundColor:["#e74c3c","#f39c12","#f1c40f","#3498db","#9b59b6","#1abc9c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:2}]},b=o.filter(O=>O.comidas>0),_={labels:b.map(O=>O.name),datasets:[{label:`Ingreso Bruto por Cliente (${s.moneda})`,data:b.map(O=>O.ingresoBrutoCliente),backgroundColor:"rgba(52, 152, 219, 0.7)"}]},E={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Distribucin Ingreso"}}},N={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Deducciones por Categora"}}},I={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Aporte por Cliente"}}},C=()=>{var H,nt,it;const O={doughnut:(H=e.current)==null?void 0:H.toBase64Image(),pie:(nt=i.current)==null?void 0:nt.toBase64Image(),bar:(it=r.current)==null?void 0:it.toBase64Image()};iz(n,O)};return B.jsx("div",{className:"modal",style:{display:"flex"},children:B.jsxs("div",{className:"modal-content",children:[B.jsx("span",{className:"modal-close-button",onClick:t,children:""}),B.jsx("h3",{children:" Resultados de Liquidacin"}),B.jsxs("div",{className:"summary-cards",children:[B.jsxs("div",{className:"summary-card show",children:[B.jsxs("h3",{children:[" ",s.nombreMariella," (Neto)"]}),B.jsx("div",{className:"amount",children:u.format(c.saldoFinalNeto)})]}),B.jsxs("div",{className:"summary-card show",children:[B.jsx("h3",{children:" Total Bruto Clientes"}),B.jsx("div",{className:"amount",children:u.format(c.totalIngresoBruto)})]})]}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px",height:"300px"},children:[B.jsx("div",{className:"chart-container",children:B.jsx(f2,{ref:e,type:"doughnut",data:f,options:E})}),B.jsx("div",{className:"chart-container",children:B.jsx(f2,{ref:i,type:"pie",data:v,options:N})})]}),B.jsx("div",{className:"chart-container",style:{height:"250px",marginTop:"20px"},children:B.jsx(f2,{ref:r,type:"bar",data:_,options:I})}),B.jsxs("div",{className:"detailed-results-container",children:[B.jsx("h3",{className:"section-title",children:" Detalle por Cliente"}),o.filter(O=>O.comidas>0).map(O=>B.jsxs("div",{className:"client-breakdown show",children:[B.jsxs("div",{className:"person-header",children:[" Cliente: ",O.name]}),B.jsxs("div",{className:"deduction-item",children:[B.jsx("span",{className:"label",children:"Comidas Facturadas:"}),B.jsx("span",{className:"value",children:O.comidas})]}),B.jsxs("div",{className:"deduction-item",children:[B.jsx("span",{className:"label",children:"Ingreso Bruto Generado:"}),B.jsx("span",{className:"value",children:u.format(O.ingresoBrutoCliente)})]})]},O.id))]}),B.jsxs("div",{className:"mariella-settlement-section",children:[B.jsxs("h3",{className:"section-title",children:[" Liquidacin Detallada: ",(s.nombreMariella||"").toUpperCase()]}),B.jsxs("div",{className:"person-deductions show",children:[B.jsxs("div",{className:"deduction-item",children:[B.jsx("span",{className:"label",children:"Total Ingreso Bruto:"}),B.jsx("span",{className:"value",children:u.format(c.totalIngresoBruto)})]}),c.deducciones.map((O,H)=>B.jsxs("div",{className:"deduction-item",children:[B.jsxs("span",{className:"label",children:["(-) ",O.name," (",O.displayValue,"):"]}),B.jsx("span",{className:"value",children:u.format(O.montoCalculado)})]},H)),B.jsxs("div",{className:"deduction-item",style:{borderTop:"2px solid var(--border-color)",marginTop:"5px",paddingTop:"5px"},children:[B.jsx("span",{className:"label",style:{fontWeight:"bold"},children:"(=) SALDO FINAL A RECIBIR:"}),B.jsx("span",{className:"value final-value",children:u.format(c.saldoFinalNeto)})]})]})]}),B.jsx("hr",{style:{margin:"20px 0"}}),B.jsx("button",{className:"main-button",onClick:C,children:" Descargar Reporte en PDF"})]})})}function YW({isOpen:n,onClose:t,settlementId:e,onUpdate:i}){const[r,s]=ye.useState(null),[o,c]=ye.useState(!1);if(!n)return null;const u=p=>{s(p.target.files[0])},f=()=>{if(!r){alert("Por favor, selecciona un archivo.");return}c(!0);const p=new FileReader;p.readAsDataURL(r),p.onload=async()=>{const v=p.result;await i(e,v),c(!1),t()},p.onerror=v=>{console.error("Error al leer el archivo:",v),alert("Error al procesar el archivo."),c(!1)}};return B.jsx("div",{className:"modal",style:{display:"flex"},children:B.jsxs("div",{className:"modal-content",children:[B.jsx("span",{className:"modal-close-button",onClick:t,children:""}),B.jsx("h3",{children:"Subir Comprobante de Pago"}),B.jsx("p",{children:'Para marcar esta liquidacin como "Pagada", adjunta el comprobante (PDF, JPG, PNG).'}),B.jsx("div",{className:"input-group",children:B.jsx("input",{type:"file",id:"receiptFileInput",accept:"application/pdf,image/jpeg,image/png",onChange:u})}),B.jsx("button",{className:"modal-confirm-btn confirm-upload",onClick:f,disabled:!r||o,children:o?"Subiendo...":"Subir y Marcar como Pagada"})]})})}function KW({user:n}){var c;const[t,e]=ye.useState(!1),[i,r]=ye.useState("");if(!n||n.emailVerified||n.isAnonymous||(c=n.providerData)!=null&&c.some(u=>u.providerId==="google.com"))return null;const s=async()=>{e(!0),r("");const u=await ZV();r(u.message),e(!1),setTimeout(()=>r(""),5e3)},o=()=>{window.location.reload()};return B.jsx("div",{className:"email-verification-banner",children:B.jsxs("div",{className:"verification-content",children:[B.jsx("h4",{children:" Verificacin de Email Pendiente"}),B.jsxs("p",{children:["Hemos enviado un email de verificacin a ",B.jsx("strong",{children:n.email}),". Por favor revisa tu bandeja de entrada y spam."]}),B.jsxs("div",{className:"verification-actions",children:[B.jsx("button",{className:"resend-btn",onClick:s,disabled:t,children:t?"Enviando...":"Reenviar Email"}),B.jsx("button",{className:"refresh-btn",onClick:o,children:"Ya Verifiqu"})]}),i&&B.jsx("p",{className:`verification-message ${i.includes("Error")?"error":"success"}`,children:i})]})})}function XW(){return B.jsx(HV,{children:B.jsx(QW,{})})}function QW(){const{user:n,userProfile:t,loading:e}=B1(),[i,r]=ye.useState("light"),[s,o]=ye.useState(!1),[c,u]=ye.useState(null),[f,p]=ye.useState(!1),[v,b]=ye.useState(null),_=()=>{const O=i==="light"?"dark":"light";r(O),pn.temaChanged(O)};ye.useEffect(()=>{document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add(`${i}-mode`)},[i]),ye.useEffect(()=>{AV(),SV("Forestech App")},[]),ye.useEffect(()=>{n&&t&&DV(n.uid).then(O=>{O.success&&console.log(" Notificaciones FCM inicializadas")}).catch(O=>console.warn(" FCM no disponible:",O))},[n,t]);const E=async()=>{pn.logout(),await hk(zr)},N=O=>{b(O),p(!0)},I=()=>{b(null),p(!1)},C=async(O,H)=>{try{await FV(O,H)}catch(nt){console.error("Error al actualizar el pago:",nt),alert("Error al actualizar el pago.")}};return e?B.jsx(bB,{}):B.jsxs("div",{className:`container ${s||f?"modal-open":""}`,children:[B.jsx(GV,{isAuthenticated:!!n,onLogout:E,onToggleTheme:_,userProfile:t}),!n&&B.jsx(tB,{}),n&&B.jsxs(B.Fragment,{children:[B.jsx(KW,{user:n}),B.jsx(_B,{setResults:u,setIsModalOpen:o,onOpenPaymentModal:N})]}),s&&B.jsx($W,{results:c,onClose:()=>o(!1)}),B.jsx(YW,{isOpen:f,onClose:I,settlementId:v,onUpdate:C})]})}SR.createRoot(document.getElementById("root")).render(B.jsx(ye.StrictMode,{children:B.jsx(XW,{})}));export{qn as _,ZW as c,fR as g};
