var eR=Object.defineProperty;var nR=(n,t,e)=>t in n?eR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var me=(n,t,e)=>nR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var OH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ey={exports:{}},Gd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function rR(){if(vw)return Gd;vw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Gd.Fragment=t,Gd.jsx=e,Gd.jsxs=e,Gd}var _w;function sR(){return _w||(_w=1,Ey.exports=rR()),Ey.exports}var lt=sR(),xy={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function aR(){if(bw)return Ye;bw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function R(Q,St,F){this.props=Q,this.context=St,this.refs=I,this.updater=F||_}R.prototype.isReactComponent={},R.prototype.setState=function(Q,St){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,St,"setState")},R.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function N(){}N.prototype=R.prototype;function M(Q,St,F){this.props=Q,this.context=St,this.refs=I,this.updater=F||_}var G=M.prototype=new N;G.constructor=M,x(G,R.prototype),G.isPureReactComponent=!0;var it=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function z(Q,St,F,W,Z,st){return F=st.ref,{$$typeof:n,type:Q,key:St,ref:F!==void 0?F:null,props:st}}function P(Q,St){return z(Q.type,St,void 0,void 0,void 0,Q.props)}function U(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function K(Q){var St={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(F){return St[F]})}var L=/\/+/g;function D(Q,St){return typeof Q=="object"&&Q!==null&&Q.key!=null?K(""+Q.key):St.toString(36)}function j(){}function at(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(j,j):(Q.status="pending",Q.then(function(St){Q.status==="pending"&&(Q.status="fulfilled",Q.value=St)},function(St){Q.status==="pending"&&(Q.status="rejected",Q.reason=St)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function wt(Q,St,F,W,Z){var st=typeof Q;(st==="undefined"||st==="boolean")&&(Q=null);var ct=!1;if(Q===null)ct=!0;else switch(st){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(Q.$$typeof){case n:case t:ct=!0;break;case p:return ct=Q._init,wt(ct(Q._payload),St,F,W,Z)}}if(ct)return Z=Z(Q),ct=W===""?"."+D(Q,0):W,it(Z)?(F="",ct!=null&&(F=ct.replace(L,"$&/")+"/"),wt(Z,St,F,"",function(kt){return kt})):Z!=null&&(U(Z)&&(Z=P(Z,F+(Z.key==null||Q&&Q.key===Z.key?"":(""+Z.key).replace(L,"$&/")+"/")+ct)),St.push(Z)),1;ct=0;var It=W===""?".":W+":";if(it(Q))for(var xt=0;xt<Q.length;xt++)W=Q[xt],st=It+D(W,xt),ct+=wt(W,St,F,st,Z);else if(xt=w(Q),typeof xt=="function")for(Q=xt.call(Q),xt=0;!(W=Q.next()).done;)W=W.value,st=It+D(W,xt++),ct+=wt(W,St,F,st,Z);else if(st==="object"){if(typeof Q.then=="function")return wt(at(Q),St,F,W,Z);throw St=String(Q),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.")}return ct}function et(Q,St,F){if(Q==null)return Q;var W=[],Z=0;return wt(Q,W,"","",function(st){return St.call(F,st,Z++)}),W}function ht(Q){if(Q._status===-1){var St=Q._result;St=St(),St.then(function(F){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=F)},function(F){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=F)}),Q._status===-1&&(Q._status=0,Q._result=St)}if(Q._status===1)return Q._result.default;throw Q._result}var ft=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var St=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(St))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function Et(){}return Ye.Children={map:et,forEach:function(Q,St,F){et(Q,function(){St.apply(this,arguments)},F)},count:function(Q){var St=0;return et(Q,function(){St++}),St},toArray:function(Q){return et(Q,function(St){return St})||[]},only:function(Q){if(!U(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Ye.Component=R,Ye.Fragment=e,Ye.Profiler=r,Ye.PureComponent=M,Ye.StrictMode=i,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return tt.H.useMemoCache(Q)}},Ye.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ye.cloneElement=function(Q,St,F){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var W=x({},Q.props),Z=Q.key,st=void 0;if(St!=null)for(ct in St.ref!==void 0&&(st=void 0),St.key!==void 0&&(Z=""+St.key),St)!pt.call(St,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&St.ref===void 0||(W[ct]=St[ct]);var ct=arguments.length-2;if(ct===1)W.children=F;else if(1<ct){for(var It=Array(ct),xt=0;xt<ct;xt++)It[xt]=arguments[xt+2];W.children=It}return z(Q.type,Z,void 0,void 0,st,W)},Ye.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:s,_context:Q},Q},Ye.createElement=function(Q,St,F){var W,Z={},st=null;if(St!=null)for(W in St.key!==void 0&&(st=""+St.key),St)pt.call(St,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Z[W]=St[W]);var ct=arguments.length-2;if(ct===1)Z.children=F;else if(1<ct){for(var It=Array(ct),xt=0;xt<ct;xt++)It[xt]=arguments[xt+2];Z.children=It}if(Q&&Q.defaultProps)for(W in ct=Q.defaultProps,ct)Z[W]===void 0&&(Z[W]=ct[W]);return z(Q,st,void 0,void 0,null,Z)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(Q){return{$$typeof:c,render:Q}},Ye.isValidElement=U,Ye.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:ht}},Ye.memo=function(Q,St){return{$$typeof:f,type:Q,compare:St===void 0?null:St}},Ye.startTransition=function(Q){var St=tt.T,F={};tt.T=F;try{var W=Q(),Z=tt.S;Z!==null&&Z(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Et,ft)}catch(st){ft(st)}finally{tt.T=St}},Ye.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ye.use=function(Q){return tt.H.use(Q)},Ye.useActionState=function(Q,St,F){return tt.H.useActionState(Q,St,F)},Ye.useCallback=function(Q,St){return tt.H.useCallback(Q,St)},Ye.useContext=function(Q){return tt.H.useContext(Q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(Q,St){return tt.H.useDeferredValue(Q,St)},Ye.useEffect=function(Q,St,F){var W=tt.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(Q,St)},Ye.useId=function(){return tt.H.useId()},Ye.useImperativeHandle=function(Q,St,F){return tt.H.useImperativeHandle(Q,St,F)},Ye.useInsertionEffect=function(Q,St){return tt.H.useInsertionEffect(Q,St)},Ye.useLayoutEffect=function(Q,St){return tt.H.useLayoutEffect(Q,St)},Ye.useMemo=function(Q,St){return tt.H.useMemo(Q,St)},Ye.useOptimistic=function(Q,St){return tt.H.useOptimistic(Q,St)},Ye.useReducer=function(Q,St,F){return tt.H.useReducer(Q,St,F)},Ye.useRef=function(Q){return tt.H.useRef(Q)},Ye.useState=function(Q){return tt.H.useState(Q)},Ye.useSyncExternalStore=function(Q,St,F){return tt.H.useSyncExternalStore(Q,St,F)},Ye.useTransition=function(){return tt.H.useTransition()},Ye.version="19.1.0",Ye}var ww;function Mv(){return ww||(ww=1,xy.exports=aR()),xy.exports}var qe=Mv();const LE=iR(qe);var Iy={exports:{}},Wd={},Ny={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function oR(){return Aw||(Aw=1,function(n){function t(et,ht){var ft=et.length;et.push(ht);t:for(;0<ft;){var Et=ft-1>>>1,Q=et[Et];if(0<r(Q,ht))et[Et]=ht,et[ft]=Q,ft=Et;else break t}}function e(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var ht=et[0],ft=et.pop();if(ft!==ht){et[0]=ft;t:for(var Et=0,Q=et.length,St=Q>>>1;Et<St;){var F=2*(Et+1)-1,W=et[F],Z=F+1,st=et[Z];if(0>r(W,ft))Z<Q&&0>r(st,W)?(et[Et]=st,et[Z]=ft,Et=Z):(et[Et]=W,et[F]=ft,Et=F);else if(Z<Q&&0>r(st,ft))et[Et]=st,et[Z]=ft,Et=Z;else break t}}return ht}function r(et,ht){var ft=et.sortIndex-ht.sortIndex;return ft!==0?ft:et.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,y=null,w=3,_=!1,x=!1,I=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function it(et){for(var ht=e(f);ht!==null;){if(ht.callback===null)i(f);else if(ht.startTime<=et)i(f),ht.sortIndex=ht.expirationTime,t(u,ht);else break;ht=e(f)}}function tt(et){if(I=!1,it(et),!x)if(e(u)!==null)x=!0,pt||(pt=!0,D());else{var ht=e(f);ht!==null&&wt(tt,ht.startTime-et)}}var pt=!1,z=-1,P=5,U=-1;function K(){return R?!0:!(n.unstable_now()-U<P)}function L(){if(R=!1,pt){var et=n.unstable_now();U=et;var ht=!0;try{t:{x=!1,I&&(I=!1,M(z),z=-1),_=!0;var ft=w;try{e:{for(it(et),y=e(u);y!==null&&!(y.expirationTime>et&&K());){var Et=y.callback;if(typeof Et=="function"){y.callback=null,w=y.priorityLevel;var Q=Et(y.expirationTime<=et);if(et=n.unstable_now(),typeof Q=="function"){y.callback=Q,it(et),ht=!0;break e}y===e(u)&&i(u),it(et)}else i(u);y=e(u)}if(y!==null)ht=!0;else{var St=e(f);St!==null&&wt(tt,St.startTime-et),ht=!1}}break t}finally{y=null,w=ft,_=!1}ht=void 0}}finally{ht?D():pt=!1}}}var D;if(typeof G=="function")D=function(){G(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,at=j.port2;j.port1.onmessage=L,D=function(){at.postMessage(null)}}else D=function(){N(L,0)};function wt(et,ht){z=N(function(){et(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(et){et.callback=null},n.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<et?Math.floor(1e3/et):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(et){switch(w){case 1:case 2:case 3:var ht=3;break;default:ht=w}var ft=w;w=ht;try{return et()}finally{w=ft}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(et,ht){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ft=w;w=et;try{return ht()}finally{w=ft}},n.unstable_scheduleCallback=function(et,ht,ft){var Et=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Et+ft:Et):ft=Et,et){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ft+Q,et={id:p++,callback:ht,priorityLevel:et,startTime:ft,expirationTime:Q,sortIndex:-1},ft>Et?(et.sortIndex=ft,t(f,et),e(u)===null&&et===e(f)&&(I?(M(z),z=-1):I=!0,wt(tt,ft-Et))):(et.sortIndex=Q,t(u,et),x||_||(x=!0,pt||(pt=!0,D()))),et},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(et){var ht=w;return function(){var ft=w;w=ht;try{return et.apply(this,arguments)}finally{w=ft}}}}(Ry)),Ry}var Sw;function lR(){return Sw||(Sw=1,Ny.exports=oR()),Ny.exports}var Cy={exports:{}},Yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function cR(){if(Tw)return Yr;Tw=1;var n=Mv();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:u,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yr.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,p)},Yr.flushSync=function(u){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=p,i.d.f()}},Yr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Yr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Yr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:_}):p==="script"&&i.d.X(u,{crossOrigin:y,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Yr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yr.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Yr.requestFormReset=function(u){i.d.r(u)},Yr.unstable_batchedUpdates=function(u,f){return u(f)},Yr.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Yr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Yr.version="19.1.0",Yr}var Ew;function uR(){if(Ew)return Cy.exports;Ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cy.exports=cR(),Cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function hR(){if(xw)return Wd;xw=1;var n=lR(),t=Mv(),e=uR();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,d=l;;){var v=h.return;if(v===null)break;var A=v.alternate;if(A===null){if(d=v.return,d!==null){h=d;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===h)return c(v),a;if(A===d)return c(v),l;A=A.sibling}throw Error(i(188))}if(h.return!==d.return)h=v,d=A;else{for(var O=!1,X=v.child;X;){if(X===h){O=!0,h=v,d=A;break}if(X===d){O=!0,d=v,h=A;break}X=X.sibling}if(!O){for(X=A.child;X;){if(X===h){O=!0,h=A,d=v;break}if(X===d){O=!0,d=A,h=v;break}X=X.sibling}if(!O)throw Error(i(189))}}if(h.alternate!==d)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),G=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function at(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case R:return"Profiler";case I:return"StrictMode";case tt:return"Suspense";case pt:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case G:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case it:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:at(a.type)||"Memo";case P:l=a._payload,a=a._init;try{return at(a(l))}catch{}}return null}var wt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Et=[],Q=-1;function St(a){return{current:a}}function F(a){0>Q||(a.current=Et[Q],Et[Q]=null,Q--)}function W(a,l){Q++,Et[Q]=a.current,a.current=l}var Z=St(null),st=St(null),ct=St(null),It=St(null);function xt(a,l){switch(W(ct,l),W(st,a),W(Z,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Wb(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Wb(l),a=$b(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(Z),W(Z,a)}function kt(){F(Z),F(st),F(ct)}function Jt(a){a.memoizedState!==null&&W(It,a);var l=Z.current,h=$b(l,a.type);l!==h&&(W(st,a),W(Z,h))}function Xt(a){st.current===a&&(F(Z),F(st)),It.current===a&&(F(It),Bd._currentValue=ft)}var ne=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,jt=n.unstable_shouldYield,ot=n.unstable_requestPaint,Se=n.unstable_now,he=n.unstable_getCurrentPriorityLevel,Qt=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ae=n.unstable_LowPriority,ve=n.unstable_IdlePriority,Ce=n.log,je=n.unstable_setDisableYieldValue,_e=null,ge=null;function Ge(a){if(typeof Ce=="function"&&je(a),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(_e,a)}catch{}}var fe=Math.clz32?Math.clz32:si,We=Math.log,oe=Math.LN2;function si(a){return a>>>=0,a===0?32:31-(We(a)/oe|0)|0}var Ke=256,tr=4194304;function Je(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function In(a,l,h){var d=a.pendingLanes;if(d===0)return 0;var v=0,A=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var X=d&134217727;return X!==0?(d=X&~A,d!==0?v=Je(d):(O&=X,O!==0?v=Je(O):h||(h=X&~a,h!==0&&(v=Je(h))))):(X=d&~A,X!==0?v=Je(X):O!==0?v=Je(O):h||(h=d&~a,h!==0&&(v=Je(h)))),v===0?0:l!==0&&l!==v&&(l&A)===0&&(A=v&-v,h=l&-l,A>=h||A===32&&(h&4194048)!==0)?l:v}function fr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function cn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var a=Ke;return Ke<<=1,(Ke&4194048)===0&&(Ke=256),a}function Un(){var a=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),a}function Ci(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function er(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zn(a,l,h,d,v,A){var O=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var X=a.entanglements,ut=a.expirationTimes,Pt=a.hiddenUpdates;for(h=O&~h;0<h;){var Bt=31-fe(h),Gt=1<<Bt;X[Bt]=0,ut[Bt]=-1;var Dt=Pt[Bt];if(Dt!==null)for(Pt[Bt]=null,Bt=0;Bt<Dt.length;Bt++){var Mt=Dt[Bt];Mt!==null&&(Mt.lane&=-536870913)}h&=~Gt}d!==0&&Te(a,d,0),A!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=A&~(O&~l))}function Te(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-fe(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function un(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var d=31-fe(h),v=1<<d;v&l|a[d]&l&&(a[d]|=l),h&=~v}}function Or(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ai(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nr(){var a=ht.p;return a!==0?a:(a=window.event,a===void 0?32:fw(a.type))}function hs(a,l){var h=ht.p;try{return ht.p=a,l()}finally{ht.p=h}}var le=Math.random().toString(36).slice(2),Nn="__reactFiber$"+le,Rn="__reactProps$"+le,Yn="__reactContainer$"+le,ti="__reactEvents$"+le,oi="__reactListeners$"+le,_i="__reactHandles$"+le,Ya="__reactResources$"+le,Er="__reactMarker$"+le;function Gi(a){delete a[Nn],delete a[Rn],delete a[ti],delete a[oi],delete a[_i]}function Li(a){var l=a[Nn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Yn]||h[Nn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=Qb(a);a!==null;){if(h=a[Nn])return h;a=Qb(a)}return l}a=h,h=a.parentNode}return null}function bi(a){if(a=a[Nn]||a[Yn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Pi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function qn(a){var l=a[Ya];return l||(l=a[Ya]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bn(a){a[Er]=!0}var Gs=new Set,Ws={};function dr(a,l){Fr(a,l),Fr(a+"Capture",l)}function Fr(a,l){for(Ws[a]=l,a=0;a<l.length;a++)Gs.add(l[a])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Xa={};function Sc(a){return ne.call(Xa,a)?!0:ne.call(El,a)?!1:Ka.test(a)?Xa[a]=!0:(El[a]=!0,!1)}function fs(a,l,h){if(Sc(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function ds(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function ki(a,l,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+d)}}var $s,Tc;function bs(a){if($s===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);$s=l&&l[1]||"",Tc=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+a+Tc}var ko=!1;function Ys(a,l){if(!a||ko)return"";ko=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Mt){var Dt=Mt}Reflect.construct(a,[],Gt)}else{try{Gt.call()}catch(Mt){Dt=Mt}a.call(Gt.prototype)}}else{try{throw Error()}catch(Mt){Dt=Mt}(Gt=a())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Mt){if(Mt&&Dt&&typeof Mt.stack=="string")return[Mt.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=d.DetermineComponentFrameRoot(),O=A[0],X=A[1];if(O&&X){var ut=O.split(`
`),Pt=X.split(`
`);for(v=d=0;d<ut.length&&!ut[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Pt.length&&!Pt[v].includes("DetermineComponentFrameRoot");)v++;if(d===ut.length||v===Pt.length)for(d=ut.length-1,v=Pt.length-1;1<=d&&0<=v&&ut[d]!==Pt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ut[d]!==Pt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ut[d]!==Pt[v]){var Bt=`
`+ut[d].replace(" at new "," at ");return a.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",a.displayName)),Bt}while(1<=d&&0<=v);break}}}finally{ko=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?bs(h):""}function xl(a){switch(a.tag){case 26:case 27:case 5:return bs(a.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return Ys(a.type,!1);case 11:return Ys(a.type.render,!1);case 1:return Ys(a.type,!0);case 31:return bs("Activity");default:return""}}function Hn(a){try{var l="";do l+=xl(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Wi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Do(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ec(a){var l=Do(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,A=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(O){d=""+O,A.call(this,O)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function _a(a){a._valueTracker||(a._valueTracker=Ec(a))}function Il(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),d="";return a&&(d=Do(a)?a.checked?"true":"false":a.value),a=d,a!==h?(l.setValue(a),!0):!1}function ir(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Mo=/[\n"\\]/g;function dn(a){return a.replace(Mo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function rr(a,l,h,d,v,A,O,X){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Wi(l)):a.value!==""+Wi(l)&&(a.value=""+Wi(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?wa(a,O,Wi(l)):h!=null?wa(a,O,Wi(h)):d!=null&&a.removeAttribute("value"),v==null&&A!=null&&(a.defaultChecked=!!A),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?a.name=""+Wi(X):a.removeAttribute("name")}function ba(a,l,h,d,v,A,O,X){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;h=h!=null?""+Wi(h):"",l=l!=null?""+Wi(l):h,X||l===a.value||(a.value=l),a.defaultValue=l}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=X?a.checked:!!d,a.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O)}function wa(a,l,h){l==="number"&&ir(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ws(a,l,h,d){if(a=a.options,l){l={};for(var v=0;v<h.length;v++)l["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=l.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Wi(h),l=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function wn(a,l,h){if(l!=null&&(l=""+Wi(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Wi(h):""}function Aa(a,l,h,d){if(l==null){if(d!=null){if(h!=null)throw Error(i(92));if(wt(d)){if(1<d.length)throw Error(i(93));d=d[0]}h=d}h==null&&(h=""),l=h}h=Wi(l),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function jr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(a,l,h){var d=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,h):typeof h!="number"||h===0||Ks.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function Nl(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in l)d=l[v],l.hasOwnProperty(v)&&h[v]!==d&&xc(a,v,d)}else for(var A in l)l.hasOwnProperty(A)&&xc(a,A,l[A])}function Rl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(a){return Oo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var As=null;function Dn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,Ss=null;function Ie(a){var l=bi(a);if(l&&(a=l.stateNode)){var h=a[Rn]||null;t:switch(a=l.stateNode,l.type){case"input":if(rr(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var d=h[l];if(d!==a&&d.form===a.form){var v=d[Rn]||null;if(!v)throw Error(i(90));rr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<h.length;l++)d=h[l],d.form===a.form&&Il(d)}break t;case"textarea":wn(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&ws(a,!!h.multiple,l,!1)}}}var Ts=!1;function Ic(a,l,h){if(Ts)return a(l,h);Ts=!0;try{var d=a(l);return d}finally{if(Ts=!1,(Js!==null||Ss!==null)&&(Vg(),Js&&(l=Js,a=Ss,Ss=Js=null,Ie(l),a)))for(l=0;l<a.length;l++)Ie(a[l])}}function pr(a,l){var h=a.stateNode;if(h===null)return null;var d=h[Rn]||null;if(d===null)return null;h=d[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Vr)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){xr=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{xr=!1}var Br=null,Sa=null,Zs=null;function Cl(){if(Zs)return Zs;var a,l=Sa,h=l.length,d,v="value"in Br?Br.value:Br.textContent,A=v.length;for(a=0;a<h&&l[a]===v[a];a++);var O=h-a;for(d=1;d<=O&&l[h-d]===v[A-d];d++);return Zs=v.slice(a,1<d?1-d:void 0)}function Ur(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function gr(){return!0}function xs(){return!1}function wi(a){function l(h,d,v,A,O){this._reactName=h,this._targetInst=v,this.type=d,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var X in a)a.hasOwnProperty(X)&&(h=a[X],this[X]=h?h(A):A[X]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?gr:xs,this.isPropagationStopped=xs,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),l}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=wi(nn),Is=p({},nn,{view:0,detail:0}),Ll=wi(Is),Qa,Ja,ps,mr=p({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ps&&(ps&&a.type==="mousemove"?(Qa=a.screenX-ps.screenX,Ja=a.screenY-ps.screenY):Ja=Qa=0,ps=a),Qa)},movementY:function(a){return"movementY"in a?a.movementY:Ja}}),Ai=wi(mr),Nc=p({},mr,{dataTransfer:0}),Ea=wi(Nc),sr=p({},Is,{relatedTarget:0}),xa=wi(sr),ta=p({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=wi(ta),Za=p({},nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jo=wi(Za),Pl=p({},nn,{data:0}),to=wi(Pl),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function no(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Vo[a])?!!l[a]:!1}function Na(){return no}var Rc=p({},Is,{key:function(a){if(a.key){var l=Ia[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ur(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?eo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(a){return a.type==="keypress"?Ur(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ur(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ea=wi(Rc),Ra=p({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=wi(Ra),yr=p({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Bo=wi(yr),S=p({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=wi(S),rt=p({},mr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=wi(rt),bt=p({},nn,{newState:0,oldState:0}),Ft=wi(bt),Yt=[9,13,27,32],ie=Vr&&"CompositionEvent"in window,m=null;Vr&&"documentMode"in document&&(m=document.documentMode);var E=Vr&&"TextEvent"in window&&!m,k=Vr&&(!ie||m&&8<m&&11>=m),Y=" ",_t=!1;function Lt(a,l){switch(a){case"keyup":return Yt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ne=!1;function rn(a,l){switch(a){case"compositionend":return Kt(l);case"keypress":return l.which!==32?null:(_t=!0,Y);case"textInput":return a=l.data,a===Y&&_t?null:a;default:return null}}function Ve(a,l){if(Ne)return a==="compositionend"||!ie&&Lt(a,l)?(a=Cl(),Zs=Sa=Br=null,Ne=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k&&l.locale!=="ko"?null:l.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!An[a.type]:l==="textarea"}function Ns(a,l,h,d){Js?Ss?Ss.push(d):Ss=[d]:Js=d,l=Gg(l,"onChange"),0<l.length&&(h=new Ta("onChange","change",null,h,d),a.push({event:h,listeners:l}))}var fi=null,zr=null;function Ca(a){Ub(a,0)}function Uo(a){var l=Pi(a);if(Il(l))return a}function Cc(a,l){if(a==="change")return l}var kl=!1;if(Vr){var Di;if(Vr){var zo="oninput"in document;if(!zo){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),zo=typeof Dl.oninput=="function"}Di=zo}else Di=!1;kl=Di&&(!document.documentMode||9<document.documentMode)}function Ml(){fi&&(fi.detachEvent("onpropertychange",Lc),zr=fi=null)}function Lc(a){if(a.propertyName==="value"&&Uo(zr)){var l=[];Ns(l,zr,a,Dn(a)),Ic(Ca,l)}}function qr(a,l,h){a==="focusin"?(Ml(),fi=l,zr=h,fi.attachEvent("onpropertychange",Lc)):a==="focusout"&&Ml()}function od(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Uo(zr)}function zu(a,l){if(a==="click")return Uo(l)}function Uh(a,l){if(a==="input"||a==="change")return Uo(l)}function Rs(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var $i=typeof Object.is=="function"?Object.is:Rs;function qo(a,l){if($i(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),d=Object.keys(l);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var v=h[d];if(!ne.call(l,v)||!$i(a[v],l[v]))return!1}return!0}function qu(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ro(a,l){var h=qu(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=l&&d>=l)return{node:h,offset:l-a};a=d}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=qu(h)}}function Ho(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Ho(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Ir(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ir(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=ir(a.document)}return l}function ar(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Go=Vr&&"documentMode"in document&&11>=document.documentMode,Hr=null,na=null,La=null,ia=!1;function li(a,l,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ia||Hr==null||Hr!==ir(d)||(d=Hr,"selectionStart"in d&&ar(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),La&&qo(La,d)||(La=d,d=Gg(na,"onSelect"),0<d.length&&(l=new Ta("onSelect","select",null,l,h),a.push({event:l,listeners:d}),l.target=Hr)))}function ra(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Si={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Gr={},Ol={};Vr&&(Ol=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Pa(a){if(Gr[a])return Gr[a];if(!Si[a])return a;var l=Si[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ol)return Gr[a]=l[h];return a}var Pc=Pa("animationend"),Wo=Pa("animationiteration"),$o=Pa("animationstart"),Yo=Pa("transitionrun"),Fl=Pa("transitionstart"),kc=Pa("transitioncancel"),Ko=Pa("transitionend"),so=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function ci(a,l){so.set(a,l),dr(l,[a])}var gs=new WeakMap;function Ze(a,l){if(typeof a=="object"&&a!==null){var h=gs.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Hn(l)},gs.set(a,l),l)}return{value:a,source:l,stack:Hn(l)}}var tn=[],Gn=0,di=0;function Cs(){for(var a=Gn,l=di=Gn=0;l<a;){var h=tn[l];tn[l++]=null;var d=tn[l];tn[l++]=null;var v=tn[l];tn[l++]=null;var A=tn[l];if(tn[l++]=null,d!==null&&v!==null){var O=d.pending;O===null?v.next=v:(v.next=O.next,O.next=v),d.pending=v}A!==0&&zh(h,v,A)}}function Xo(a,l,h,d){tn[Gn++]=a,tn[Gn++]=l,tn[Gn++]=h,tn[Gn++]=d,di|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Qo(a,l,h,d){return Xo(a,l,h,d),Vl(a)}function ao(a,l){return Xo(a,null,null,l),Vl(a)}function zh(a,l,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var v=!1,A=a.return;A!==null;)A.childLanes|=h,d=A.alternate,d!==null&&(d.childLanes|=h),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(v=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,v&&l!==null&&(v=31-fe(h),a=A.hiddenUpdates,d=a[v],d===null?a[v]=[l]:d.push(l),l.lane=h|536870912),A):null}function Vl(a){if(50<Pd)throw Pd=0,K1=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Yi={};function Ls(a,l,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(a,l,h,d){return new Ls(a,l,h,d)}function Dc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ka(a,l){var h=a.alternate;return h===null?(h=vr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Hu(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Bl(a,l,h,d,v,A){var O=0;if(d=a,typeof a=="function")Dc(a)&&(O=1);else if(typeof a=="string")O=zN(a,h,Z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case U:return a=vr(31,h,l,v),a.elementType=U,a.lanes=A,a;case x:return oo(h.children,v,A,l);case I:O=8,v|=24;break;case R:return a=vr(12,h,l,v|2),a.elementType=R,a.lanes=A,a;case tt:return a=vr(13,h,l,v),a.elementType=tt,a.lanes=A,a;case pt:return a=vr(19,h,l,v),a.elementType=pt,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:case G:O=10;break t;case M:O=9;break t;case it:O=11;break t;case z:O=14;break t;case P:O=16,d=null;break t}O=29,h=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=vr(O,h,l,v),l.elementType=a,l.type=d,l.lanes=A,l}function oo(a,l,h,d){return a=vr(7,a,d,l),a.lanes=h,a}function qh(a,l,h){return a=vr(6,a,null,l),a.lanes=h,a}function Gu(a,l,h){return l=vr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Jo=[],lo=0,Mc=null,Hh=0,Ps=[],ms=0,Ul=null,co=1,uo="";function zl(a,l){Jo[lo++]=Hh,Jo[lo++]=Mc,Mc=a,Hh=l}function cg(a,l,h){Ps[ms++]=co,Ps[ms++]=uo,Ps[ms++]=Ul,Ul=a;var d=co;a=uo;var v=32-fe(d)-1;d&=~(1<<v),h+=1;var A=32-fe(l)+v;if(30<A){var O=v-v%5;A=(d&(1<<O)-1).toString(32),d>>=O,v-=O,co=1<<32-fe(l)+v|h<<v|d,uo=A+a}else co=1<<A|h<<v|d,uo=a}function Wu(a){a.return!==null&&(zl(a,1),cg(a,1,0))}function $u(a){for(;a===Mc;)Mc=Jo[--lo],Jo[lo]=null,Hh=Jo[--lo],Jo[lo]=null;for(;a===Ul;)Ul=Ps[--ms],Ps[ms]=null,uo=Ps[--ms],Ps[ms]=null,co=Ps[--ms],Ps[ms]=null}var Mi=null,ui=null,_n=!1,Zo=null,Da=!1,ld=Error(i(519));function ql(a){var l=Error(i(418,""));throw Oc(Ze(l,a)),ld}function ug(a){var l=a.stateNode,h=a.type,d=a.memoizedProps;switch(l[Nn]=a,l[Rn]=d,h){case"dialog":on("cancel",l),on("close",l);break;case"iframe":case"object":case"embed":on("load",l);break;case"video":case"audio":for(h=0;h<Dd.length;h++)on(Dd[h],l);break;case"source":on("error",l);break;case"img":case"image":case"link":on("error",l),on("load",l);break;case"details":on("toggle",l);break;case"input":on("invalid",l),ba(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),_a(l);break;case"select":on("invalid",l);break;case"textarea":on("invalid",l),Aa(l,d.value,d.defaultValue,d.children),_a(l)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||d.suppressHydrationWarning===!0||Gb(l.textContent,h)?(d.popover!=null&&(on("beforetoggle",l),on("toggle",l)),d.onScroll!=null&&on("scroll",l),d.onScrollEnd!=null&&on("scrollend",l),d.onClick!=null&&(l.onclick=Wg),l=!0):l=!1,l||ql(a)}function ho(a){for(Mi=a.return;Mi;)switch(Mi.tag){case 5:case 13:Da=!1;return;case 27:case 3:Da=!0;return;default:Mi=Mi.return}}function Nr(a){if(a!==Mi)return!1;if(!_n)return ho(a),_n=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||hy(a.type,a.memoizedProps)),h=!h),h&&ui&&ql(a),ho(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){ui=bo(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}ui=null}}else l===27?(l=ui,Zc(a.type)?(a=gy,gy=null,ui=a):ui=l):ui=Mi?bo(a.stateNode.nextSibling):null;return!0}function ys(){ui=Mi=null,_n=!1}function hg(){var a=Zo;return a!==null&&(Ms===null?Ms=a:Ms.push.apply(Ms,a),Zo=null),a}function Oc(a){Zo===null?Zo=[a]:Zo.push(a)}var Ma=St(null),Ki=null,fo=null;function tl(a,l,h){W(Ma,l._currentValue),l._currentValue=h}function Oa(a){a._currentValue=Ma.current,F(Ma)}function Gh(a,l,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===h)break;a=a.return}}function Wh(a,l,h,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var A=v.dependencies;if(A!==null){var O=v.child;A=A.firstContext;t:for(;A!==null;){var X=A;A=v;for(var ut=0;ut<l.length;ut++)if(X.context===l[ut]){A.lanes|=h,X=A.alternate,X!==null&&(X.lanes|=h),Gh(A.return,h,a),d||(O=null);break t}A=X.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(i(341));O.lanes|=h,A=O.alternate,A!==null&&(A.lanes|=h),Gh(O,h,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Fc(a,l,h,d){a=null;for(var v=l,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var X=v.type;$i(v.pendingProps.value,O.value)||(a!==null?a.push(X):a=[X])}}else if(v===It.current){if(O=v.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Bd):a=[Bd])}v=v.return}a!==null&&Wh(l,a,h,d),l.flags|=262144}function $h(a){for(a=a.firstContext;a!==null;){if(!$i(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Fa(a){Ki=a,fo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Oi(a){return Yh(Ki,a)}function el(a,l){return Ki===null&&Fa(a),Yh(a,l)}function Yh(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},fo===null){if(a===null)throw Error(i(308));fo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else fo=fo.next=l;return h}var b1=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},fg=n.unstable_scheduleCallback,w1=n.unstable_NormalPriority,Fi={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new b1,data:new Map,refCount:0}}function Yu(a){a.refCount--,a.refCount===0&&fg(w1,function(){a.controller.abort()})}var Ku=null,ud=0,Hl=0,po=null;function A1(a,l){if(Ku===null){var h=Ku=[];ud=0,Hl=ny(),po={status:"pending",value:void 0,then:function(d){h.push(d)}}}return ud++,l.then(dg,dg),l}function dg(){if(--ud===0&&Ku!==null){po!==null&&(po.status="fulfilled");var a=Ku;Ku=null,Hl=0,po=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function pg(a,l){var h=[],d={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var v=0;v<h.length;v++)(0,h[v])(l)},function(v){for(d.status="rejected",d.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),d}var g=et.S;et.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&A1(a,l),g!==null&&g(a,l)};var b=St(null);function T(){var a=b.current;return a!==null?a:Zn.pooledCache}function C(a,l){l===null?W(b,b.current):W(b,l.pool)}function V(){var a=T();return a===null?null:{parent:Fi._currentValue,pool:a}}var q=Error(i(460)),H=Error(i(474)),$=Error(i(542)),J={then:function(){}};function nt(a){return a=a.status,a==="fulfilled"||a==="rejected"}function gt(){}function Ct(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(gt,gt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a;default:if(typeof l.status=="string")l.then(gt,gt);else{if(a=Zn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=d}},function(d){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a}throw Nt=l,q}}var Nt=null;function At(){if(Nt===null)throw Error(i(459));var a=Nt;return Nt=null,a}function qt(a){if(a===q||a===$)throw Error(i(483))}var Ot=!1;function mt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ht(a,l,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(On&2)!==0){var v=d.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),d.pending=l,l=Vl(a),zh(a,null,h),l}return Xo(a,d,l,h),Vl(a)}function Ut(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}function ce(a,l){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var v=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?v=A=O:A=A.next=O,h=h.next}while(h!==null);A===null?v=A=l:A=A.next=l}else v=A=l;h={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var ee=!1;function be(){if(ee){var a=po;if(a!==null)throw a}}function re(a,l,h,d){ee=!1;var v=a.updateQueue;Ot=!1;var A=v.firstBaseUpdate,O=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var ut=X,Pt=ut.next;ut.next=null,O===null?A=Pt:O.next=Pt,O=ut;var Bt=a.alternate;Bt!==null&&(Bt=Bt.updateQueue,X=Bt.lastBaseUpdate,X!==O&&(X===null?Bt.firstBaseUpdate=Pt:X.next=Pt,Bt.lastBaseUpdate=ut))}if(A!==null){var Gt=v.baseState;O=0,Bt=Pt=ut=null,X=A;do{var Dt=X.lane&-536870913,Mt=Dt!==X.lane;if(Mt?(yn&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===Hl&&(ee=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var Fe=a,Re=X;Dt=l;var $n=h;switch(Re.tag){case 1:if(Fe=Re.payload,typeof Fe=="function"){Gt=Fe.call($n,Gt,Dt);break t}Gt=Fe;break t;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Re.payload,Dt=typeof Fe=="function"?Fe.call($n,Gt,Dt):Fe,Dt==null)break t;Gt=p({},Gt,Dt);break t;case 2:Ot=!0}}Dt=X.callback,Dt!==null&&(a.flags|=64,Mt&&(a.flags|=8192),Mt=v.callbacks,Mt===null?v.callbacks=[Dt]:Mt.push(Dt))}else Mt={lane:Dt,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Bt===null?(Pt=Bt=Mt,ut=Gt):Bt=Bt.next=Mt,O|=Dt;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;Mt=X,X=Mt.next,Mt.next=null,v.lastBaseUpdate=Mt,v.shared.pending=null}}while(!0);Bt===null&&(ut=Gt),v.baseState=ut,v.firstBaseUpdate=Pt,v.lastBaseUpdate=Bt,A===null&&(v.shared.lanes=0),Kc|=O,a.lanes=O,a.memoizedState=Gt}}function gn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Sn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)gn(h[a],l)}var Xe=St(null),$e=St(0);function Ln(a,l){a=tc,W($e,a),W(Xe,l),tc=a|l.baseLanes}function Tn(){W($e,tc),W(Xe,Xe.current)}function Be(){tc=$e.current,F(Xe),F($e)}var Mn=0,Ee=null,ke=null,pn=null,mn=!1,Xi=!1,ji=!1,pi=0,gi=0,Ti=null,ks=0;function En(){throw Error(i(321))}function Ei(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!$i(a[h],l[h]))return!1;return!0}function sa(a,l,h,d,v,A){return Mn=A,Ee=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,et.H=a===null||a.memoizedState===null?E5:x5,ji=!1,A=h(d,v),ji=!1,Xi&&(A=Gl(l,h,d,v)),nl(a),A}function nl(a){et.H=xg;var l=ke!==null&&ke.next!==null;if(Mn=0,pn=ke=Ee=null,mn=!1,gi=0,Ti=null,l)throw Error(i(300));a===null||_r||(a=a.dependencies,a!==null&&$h(a)&&(_r=!0))}function Gl(a,l,h,d){Ee=a;var v=0;do{if(Xi&&(Ti=null),gi=0,Xi=!1,25<=v)throw Error(i(301));if(v+=1,pn=ke=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}et.H=ZI,A=l(h,d)}while(Xi);return A}function il(){var a=et.H,l=a.useState()[0];return l=typeof l.then=="function"?rl(l):l,a=a.useState()[0],(ke!==null?ke.memoizedState:null)!==a&&(Ee.flags|=1024),l}function Jn(){var a=pi!==0;return pi=0,a}function Xu(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Kh(a){if(mn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}mn=!1}Mn=0,pn=ke=Ee=null,Xi=!1,gi=pi=0,Ti=null}function Rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ee.memoizedState=pn=a:pn=pn.next=a,pn}function ei(){if(ke===null){var a=Ee.alternate;a=a!==null?a.memoizedState:null}else a=ke.next;var l=pn===null?Ee.memoizedState:pn.next;if(l!==null)pn=l,ke=a;else{if(a===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));ke=a,a={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},pn===null?Ee.memoizedState=pn=a:pn=pn.next=a}return pn}function Wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(a){var l=gi;return gi+=1,Ti===null&&(Ti=[]),a=Ct(Ti,a,l),l=Ee,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,et.H=l===null||l.memoizedState===null?E5:x5),a}function Wr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return rl(a);if(a.$$typeof===G)return Oi(a)}throw Error(i(438,String(a)))}function sl(a){var l=null,h=Ee.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var d=Ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Wl(),Ee.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),d=0;d<a;d++)h[d]=K;return l.index++,h}function $r(a,l){return typeof l=="function"?l(a):l}function Qu(a){var l=ei();return jc(l,ke,a)}function jc(a,l,h){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var v=a.baseQueue,A=d.pending;if(A!==null){if(v!==null){var O=v.next;v.next=A.next,A.next=O}l.baseQueue=v=A,d.pending=null}if(A=a.baseState,v===null)a.memoizedState=A;else{l=v.next;var X=O=null,ut=null,Pt=l,Bt=!1;do{var Gt=Pt.lane&-536870913;if(Gt!==Pt.lane?(yn&Gt)===Gt:(Mn&Gt)===Gt){var Dt=Pt.revertLane;if(Dt===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),Gt===Hl&&(Bt=!0);else if((Mn&Dt)===Dt){Pt=Pt.next,Dt===Hl&&(Bt=!0);continue}else Gt={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(X=ut=Gt,O=A):ut=ut.next=Gt,Ee.lanes|=Dt,Kc|=Dt;Gt=Pt.action,ji&&h(A,Gt),A=Pt.hasEagerState?Pt.eagerState:h(A,Gt)}else Dt={lane:Gt,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(X=ut=Dt,O=A):ut=ut.next=Dt,Ee.lanes|=Gt,Kc|=Gt;Pt=Pt.next}while(Pt!==null&&Pt!==l);if(ut===null?O=A:ut.next=X,!$i(A,a.memoizedState)&&(_r=!0,Bt&&(h=po,h!==null)))throw h;a.memoizedState=A,a.baseState=O,a.baseQueue=ut,d.lastRenderedState=A}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Xh(a){var l=ei(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var d=h.dispatch,v=h.pending,A=l.memoizedState;if(v!==null){h.pending=null;var O=v=v.next;do A=a(A,O.action),O=O.next;while(O!==v);$i(A,l.memoizedState)||(_r=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),h.lastRenderedState=A}return[A,d]}function Ju(a,l,h){var d=Ee,v=ei(),A=_n;if(A){if(h===void 0)throw Error(i(407));h=h()}else h=l();var O=!$i((ke||v).memoizedState,h);O&&(v.memoizedState=h,_r=!0),v=v.queue;var X=Vc.bind(null,d,v,a);if(zc(2048,8,X,[a]),v.getSnapshot!==l||O||pn!==null&&pn.memoizedState.tag&1){if(d.flags|=2048,mo(9,nh(),Zu.bind(null,d,v,h,l),null),Zn===null)throw Error(i(349));A||(Mn&124)!==0||Qh(d,l,h)}return h}function Qh(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Ee.updateQueue,l===null?(l=Wl(),Ee.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Zu(a,l,h,d){l.value=h,l.getSnapshot=d,gg(l)&&mg(a)}function Vc(a,l,h){return h(function(){gg(l)&&mg(a)})}function gg(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!$i(a,h)}catch{return!0}}function mg(a){var l=ao(a,2);l!==null&&ha(l,a,2)}function th(a){var l=Rr();if(typeof a=="function"){var h=a;if(a=h(),ji){Ge(!0);try{h()}finally{Ge(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},l}function go(a,l,h,d){return a.baseState=h,jc(a,ke,typeof d=="function"?d:$r)}function S1(a,l,h,d,v){if(Eg(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};et.T!==null?h(!0):A.isTransition=!1,d(A),h=l.pending,h===null?(A.next=l.pending=A,yg(l,A)):(A.next=h.next,l.pending=h.next=A)}}function yg(a,l){var h=l.action,d=l.payload,v=a.state;if(l.isTransition){var A=et.T,O={};et.T=O;try{var X=h(v,d),ut=et.S;ut!==null&&ut(O,X),vg(a,l,X)}catch(Pt){Bc(a,l,Pt)}finally{et.T=A}}else try{A=h(v,d),vg(a,l,A)}catch(Pt){Bc(a,l,Pt)}}function vg(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){hd(a,l,d)},function(d){return Bc(a,l,d)}):hd(a,l,h)}function hd(a,l,h){l.status="fulfilled",l.value=h,fd(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,yg(a,h)))}function Bc(a,l,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=h,fd(l),l=l.next;while(l!==d)}a.action=null}function fd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function dd(a,l){return l}function eh(a,l){if(_n){var h=Zn.formState;if(h!==null){t:{var d=Ee;if(_n){if(ui){e:{for(var v=ui,A=Da;v.nodeType!==8;){if(!A){v=null;break e}if(v=bo(v.nextSibling),v===null){v=null;break e}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){ui=bo(v.nextSibling),d=v.data==="F!";break t}}ql(d)}d=!1}d&&(l=h[0])}}return h=Rr(),h.memoizedState=h.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:l},h.queue=d,h=A5.bind(null,Ee,d),d.dispatch=h,d=th(!1),A=T1.bind(null,Ee,!1,d.queue),d=Rr(),v={state:l,dispatch:null,action:a,pending:null},d.queue=v,h=S1.bind(null,Ee,v,A,h),v.dispatch=h,d.memoizedState=a,[l,h,!1]}function Jh(a){var l=ei();return Uc(l,ke,a)}function Uc(a,l,h){if(l=jc(a,l,dd)[0],a=Qu($r)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=rl(l)}catch(O){throw O===q?$:O}else d=l;l=ei();var v=l.queue,A=v.dispatch;return h!==l.memoizedState&&(Ee.flags|=2048,mo(9,nh(),_g.bind(null,v,h),null)),[d,A,a]}function _g(a,l){a.action=l}function bg(a){var l=ei(),h=ke;if(h!==null)return Uc(l,h,a);ei(),l=l.memoizedState,h=ei();var d=h.queue.dispatch;return h.memoizedState=a,[l,d,!1]}function mo(a,l,h,d){return a={tag:a,create:h,deps:d,inst:l,next:null},l=Ee.updateQueue,l===null&&(l=Wl(),Ee.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,l.lastEffect=a),a}function nh(){return{destroy:void 0,resource:void 0}}function Zh(){return ei().memoizedState}function aa(a,l,h,d){var v=Rr();d=d===void 0?null:d,Ee.flags|=a,v.memoizedState=mo(1|l,nh(),h,d)}function zc(a,l,h,d){var v=ei();d=d===void 0?null:d;var A=v.memoizedState.inst;ke!==null&&d!==null&&Ei(d,ke.memoizedState.deps)?v.memoizedState=mo(l,A,h,d):(Ee.flags|=a,v.memoizedState=mo(1|l,A,h,d))}function pd(a,l){aa(8390656,8,a,l)}function wg(a,l){zc(2048,8,a,l)}function gd(a,l){return zc(4,2,a,l)}function $l(a,l){return zc(4,4,a,l)}function Ag(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function md(a,l,h){h=h!=null?h.concat([a]):null,zc(4,4,Ag.bind(null,l,a),h)}function yd(){}function vd(a,l){var h=ei();l=l===void 0?null:l;var d=h.memoizedState;return l!==null&&Ei(l,d[1])?d[0]:(h.memoizedState=[a,l],a)}function Sg(a,l){var h=ei();l=l===void 0?null:l;var d=h.memoizedState;if(l!==null&&Ei(l,d[1]))return d[0];if(d=a(),ji){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d}function Yl(a,l,h){return h===void 0||(Mn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=vb(),Ee.lanes|=a,Kc|=a,h)}function tf(a,l,h,d){return $i(h,l)?h:Xe.current!==null?(a=Yl(a,h,d),$i(a,l)||(_r=!0),a):(Mn&42)===0?(_r=!0,a.memoizedState=h):(a=vb(),Ee.lanes|=a,Kc|=a,l)}function ih(a,l,h,d,v){var A=ht.p;ht.p=A!==0&&8>A?A:8;var O=et.T,X={};et.T=X,T1(a,!1,l,h);try{var ut=v(),Pt=et.S;if(Pt!==null&&Pt(X,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Bt=pg(ut,d);Ad(a,l,Bt,ua(a))}else Ad(a,l,d,ua(a))}catch(Gt){Ad(a,l,{then:function(){},status:"rejected",reason:Gt},ua())}finally{ht.p=A,et.T=O}}function yo(){}function ja(a,l,h,d){if(a.tag!==5)throw Error(i(476));var v=vo(a).queue;ih(a,v,l,ft,h===null?yo:function(){return rh(a),h(d)})}function vo(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:ft},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function rh(a){var l=vo(a).next.queue;Ad(a,l,{},ua())}function sh(){return Oi(Bd)}function _d(){return ei().memoizedState}function Tg(){return ei().memoizedState}function bd(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=ua();a=Vt(h);var d=Ht(l,a,h);d!==null&&(ha(d,l,h),Ut(d,l,h)),l={cache:cd()},a.payload=l;return}l=l.return}}function wd(a,l,h){var d=ua();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Eg(a)?S5(l,h):(h=Qo(a,l,h,d),h!==null&&(ha(h,a,d),T5(h,l,d)))}function A5(a,l,h){var d=ua();Ad(a,l,h,d)}function Ad(a,l,h,d){var v={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Eg(a))S5(l,v);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var O=l.lastRenderedState,X=A(O,h);if(v.hasEagerState=!0,v.eagerState=X,$i(X,O))return Xo(a,l,v,0),Zn===null&&Cs(),!1}catch{}finally{}if(h=Qo(a,l,v,d),h!==null)return ha(h,a,d),T5(h,l,d),!0}return!1}function T1(a,l,h,d){if(d={lane:2,revertLane:ny(),action:d,hasEagerState:!1,eagerState:null,next:null},Eg(a)){if(l)throw Error(i(479))}else l=Qo(a,h,d,2),l!==null&&ha(l,a,2)}function Eg(a){var l=a.alternate;return a===Ee||l!==null&&l===Ee}function S5(a,l){Xi=mn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function T5(a,l,h){if((h&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}var xg={readContext:Oi,use:Wr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},E5={readContext:Oi,use:Wr,useCallback:function(a,l){return Rr().memoizedState=[a,l===void 0?null:l],a},useContext:Oi,useEffect:pd,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,aa(4194308,4,Ag.bind(null,l,a),h)},useLayoutEffect:function(a,l){return aa(4194308,4,a,l)},useInsertionEffect:function(a,l){aa(4,2,a,l)},useMemo:function(a,l){var h=Rr();l=l===void 0?null:l;var d=a();if(ji){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d},useReducer:function(a,l,h){var d=Rr();if(h!==void 0){var v=h(l);if(ji){Ge(!0);try{h(l)}finally{Ge(!1)}}}else v=l;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=wd.bind(null,Ee,a),[d.memoizedState,a]},useRef:function(a){var l=Rr();return a={current:a},l.memoizedState=a},useState:function(a){a=th(a);var l=a.queue,h=A5.bind(null,Ee,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:yd,useDeferredValue:function(a,l){var h=Rr();return Yl(h,a,l)},useTransition:function(){var a=th(!1);return a=ih.bind(null,Ee,a.queue,!0,!1),Rr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var d=Ee,v=Rr();if(_n){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),Zn===null)throw Error(i(349));(yn&124)!==0||Qh(d,l,h)}v.memoizedState=h;var A={value:h,getSnapshot:l};return v.queue=A,pd(Vc.bind(null,d,A,a),[a]),d.flags|=2048,mo(9,nh(),Zu.bind(null,d,A,h,l),null),h},useId:function(){var a=Rr(),l=Zn.identifierPrefix;if(_n){var h=uo,d=co;h=(d&~(1<<32-fe(d)-1)).toString(32)+h,l="«"+l+"R"+h,h=pi++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=ks++,l="«"+l+"r"+h.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:sh,useFormState:eh,useActionState:eh,useOptimistic:function(a){var l=Rr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=T1.bind(null,Ee,!0,h),h.dispatch=l,[a,l]},useMemoCache:sl,useCacheRefresh:function(){return Rr().memoizedState=bd.bind(null,Ee)}},x5={readContext:Oi,use:Wr,useCallback:vd,useContext:Oi,useEffect:wg,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:$l,useMemo:Sg,useReducer:Qu,useRef:Zh,useState:function(){return Qu($r)},useDebugValue:yd,useDeferredValue:function(a,l){var h=ei();return tf(h,ke.memoizedState,a,l)},useTransition:function(){var a=Qu($r)[0],l=ei().memoizedState;return[typeof a=="boolean"?a:rl(a),l]},useSyncExternalStore:Ju,useId:_d,useHostTransitionStatus:sh,useFormState:Jh,useActionState:Jh,useOptimistic:function(a,l){var h=ei();return go(h,ke,a,l)},useMemoCache:sl,useCacheRefresh:Tg},ZI={readContext:Oi,use:Wr,useCallback:vd,useContext:Oi,useEffect:wg,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:$l,useMemo:Sg,useReducer:Xh,useRef:Zh,useState:function(){return Xh($r)},useDebugValue:yd,useDeferredValue:function(a,l){var h=ei();return ke===null?Yl(h,a,l):tf(h,ke.memoizedState,a,l)},useTransition:function(){var a=Xh($r)[0],l=ei().memoizedState;return[typeof a=="boolean"?a:rl(a),l]},useSyncExternalStore:Ju,useId:_d,useHostTransitionStatus:sh,useFormState:bg,useActionState:bg,useOptimistic:function(a,l){var h=ei();return ke!==null?go(h,ke,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:sl,useCacheRefresh:Tg},ef=null,Sd=0;function Ig(a){var l=Sd;return Sd+=1,ef===null&&(ef=[]),Ct(ef,a,l)}function Td(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ng(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function I5(a){var l=a._init;return l(a._payload)}function N5(a){function l(Tt,yt){if(a){var Rt=Tt.deletions;Rt===null?(Tt.deletions=[yt],Tt.flags|=16):Rt.push(yt)}}function h(Tt,yt){if(!a)return null;for(;yt!==null;)l(Tt,yt),yt=yt.sibling;return null}function d(Tt){for(var yt=new Map;Tt!==null;)Tt.key!==null?yt.set(Tt.key,Tt):yt.set(Tt.index,Tt),Tt=Tt.sibling;return yt}function v(Tt,yt){return Tt=ka(Tt,yt),Tt.index=0,Tt.sibling=null,Tt}function A(Tt,yt,Rt){return Tt.index=Rt,a?(Rt=Tt.alternate,Rt!==null?(Rt=Rt.index,Rt<yt?(Tt.flags|=67108866,yt):Rt):(Tt.flags|=67108866,yt)):(Tt.flags|=1048576,yt)}function O(Tt){return a&&Tt.alternate===null&&(Tt.flags|=67108866),Tt}function X(Tt,yt,Rt,zt){return yt===null||yt.tag!==6?(yt=qh(Rt,Tt.mode,zt),yt.return=Tt,yt):(yt=v(yt,Rt),yt.return=Tt,yt)}function ut(Tt,yt,Rt,zt){var de=Rt.type;return de===x?Bt(Tt,yt,Rt.props.children,zt,Rt.key):yt!==null&&(yt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&I5(de)===yt.type)?(yt=v(yt,Rt.props),Td(yt,Rt),yt.return=Tt,yt):(yt=Bl(Rt.type,Rt.key,Rt.props,null,Tt.mode,zt),Td(yt,Rt),yt.return=Tt,yt)}function Pt(Tt,yt,Rt,zt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Rt.containerInfo||yt.stateNode.implementation!==Rt.implementation?(yt=Gu(Rt,Tt.mode,zt),yt.return=Tt,yt):(yt=v(yt,Rt.children||[]),yt.return=Tt,yt)}function Bt(Tt,yt,Rt,zt,de){return yt===null||yt.tag!==7?(yt=oo(Rt,Tt.mode,zt,de),yt.return=Tt,yt):(yt=v(yt,Rt),yt.return=Tt,yt)}function Gt(Tt,yt,Rt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=qh(""+yt,Tt.mode,Rt),yt.return=Tt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case w:return Rt=Bl(yt.type,yt.key,yt.props,null,Tt.mode,Rt),Td(Rt,yt),Rt.return=Tt,Rt;case _:return yt=Gu(yt,Tt.mode,Rt),yt.return=Tt,yt;case P:var zt=yt._init;return yt=zt(yt._payload),Gt(Tt,yt,Rt)}if(wt(yt)||D(yt))return yt=oo(yt,Tt.mode,Rt,null),yt.return=Tt,yt;if(typeof yt.then=="function")return Gt(Tt,Ig(yt),Rt);if(yt.$$typeof===G)return Gt(Tt,el(Tt,yt),Rt);Ng(Tt,yt)}return null}function Dt(Tt,yt,Rt,zt){var de=yt!==null?yt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return de!==null?null:X(Tt,yt,""+Rt,zt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case w:return Rt.key===de?ut(Tt,yt,Rt,zt):null;case _:return Rt.key===de?Pt(Tt,yt,Rt,zt):null;case P:return de=Rt._init,Rt=de(Rt._payload),Dt(Tt,yt,Rt,zt)}if(wt(Rt)||D(Rt))return de!==null?null:Bt(Tt,yt,Rt,zt,null);if(typeof Rt.then=="function")return Dt(Tt,yt,Ig(Rt),zt);if(Rt.$$typeof===G)return Dt(Tt,yt,el(Tt,Rt),zt);Ng(Tt,Rt)}return null}function Mt(Tt,yt,Rt,zt,de){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return Tt=Tt.get(Rt)||null,X(yt,Tt,""+zt,de);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case w:return Tt=Tt.get(zt.key===null?Rt:zt.key)||null,ut(yt,Tt,zt,de);case _:return Tt=Tt.get(zt.key===null?Rt:zt.key)||null,Pt(yt,Tt,zt,de);case P:var sn=zt._init;return zt=sn(zt._payload),Mt(Tt,yt,Rt,zt,de)}if(wt(zt)||D(zt))return Tt=Tt.get(Rt)||null,Bt(yt,Tt,zt,de,null);if(typeof zt.then=="function")return Mt(Tt,yt,Rt,Ig(zt),de);if(zt.$$typeof===G)return Mt(Tt,yt,Rt,el(yt,zt),de);Ng(yt,zt)}return null}function Fe(Tt,yt,Rt,zt){for(var de=null,sn=null,Ae=yt,Le=yt=0,wr=null;Ae!==null&&Le<Rt.length;Le++){Ae.index>Le?(wr=Ae,Ae=null):wr=Ae.sibling;var xn=Dt(Tt,Ae,Rt[Le],zt);if(xn===null){Ae===null&&(Ae=wr);break}a&&Ae&&xn.alternate===null&&l(Tt,Ae),yt=A(xn,yt,Le),sn===null?de=xn:sn.sibling=xn,sn=xn,Ae=wr}if(Le===Rt.length)return h(Tt,Ae),_n&&zl(Tt,Le),de;if(Ae===null){for(;Le<Rt.length;Le++)Ae=Gt(Tt,Rt[Le],zt),Ae!==null&&(yt=A(Ae,yt,Le),sn===null?de=Ae:sn.sibling=Ae,sn=Ae);return _n&&zl(Tt,Le),de}for(Ae=d(Ae);Le<Rt.length;Le++)wr=Mt(Ae,Tt,Le,Rt[Le],zt),wr!==null&&(a&&wr.alternate!==null&&Ae.delete(wr.key===null?Le:wr.key),yt=A(wr,yt,Le),sn===null?de=wr:sn.sibling=wr,sn=wr);return a&&Ae.forEach(function(ru){return l(Tt,ru)}),_n&&zl(Tt,Le),de}function Re(Tt,yt,Rt,zt){if(Rt==null)throw Error(i(151));for(var de=null,sn=null,Ae=yt,Le=yt=0,wr=null,xn=Rt.next();Ae!==null&&!xn.done;Le++,xn=Rt.next()){Ae.index>Le?(wr=Ae,Ae=null):wr=Ae.sibling;var ru=Dt(Tt,Ae,xn.value,zt);if(ru===null){Ae===null&&(Ae=wr);break}a&&Ae&&ru.alternate===null&&l(Tt,Ae),yt=A(ru,yt,Le),sn===null?de=ru:sn.sibling=ru,sn=ru,Ae=wr}if(xn.done)return h(Tt,Ae),_n&&zl(Tt,Le),de;if(Ae===null){for(;!xn.done;Le++,xn=Rt.next())xn=Gt(Tt,xn.value,zt),xn!==null&&(yt=A(xn,yt,Le),sn===null?de=xn:sn.sibling=xn,sn=xn);return _n&&zl(Tt,Le),de}for(Ae=d(Ae);!xn.done;Le++,xn=Rt.next())xn=Mt(Ae,Tt,Le,xn.value,zt),xn!==null&&(a&&xn.alternate!==null&&Ae.delete(xn.key===null?Le:xn.key),yt=A(xn,yt,Le),sn===null?de=xn:sn.sibling=xn,sn=xn);return a&&Ae.forEach(function(tR){return l(Tt,tR)}),_n&&zl(Tt,Le),de}function $n(Tt,yt,Rt,zt){if(typeof Rt=="object"&&Rt!==null&&Rt.type===x&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case w:t:{for(var de=Rt.key;yt!==null;){if(yt.key===de){if(de=Rt.type,de===x){if(yt.tag===7){h(Tt,yt.sibling),zt=v(yt,Rt.props.children),zt.return=Tt,Tt=zt;break t}}else if(yt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&I5(de)===yt.type){h(Tt,yt.sibling),zt=v(yt,Rt.props),Td(zt,Rt),zt.return=Tt,Tt=zt;break t}h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}Rt.type===x?(zt=oo(Rt.props.children,Tt.mode,zt,Rt.key),zt.return=Tt,Tt=zt):(zt=Bl(Rt.type,Rt.key,Rt.props,null,Tt.mode,zt),Td(zt,Rt),zt.return=Tt,Tt=zt)}return O(Tt);case _:t:{for(de=Rt.key;yt!==null;){if(yt.key===de)if(yt.tag===4&&yt.stateNode.containerInfo===Rt.containerInfo&&yt.stateNode.implementation===Rt.implementation){h(Tt,yt.sibling),zt=v(yt,Rt.children||[]),zt.return=Tt,Tt=zt;break t}else{h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}zt=Gu(Rt,Tt.mode,zt),zt.return=Tt,Tt=zt}return O(Tt);case P:return de=Rt._init,Rt=de(Rt._payload),$n(Tt,yt,Rt,zt)}if(wt(Rt))return Fe(Tt,yt,Rt,zt);if(D(Rt)){if(de=D(Rt),typeof de!="function")throw Error(i(150));return Rt=de.call(Rt),Re(Tt,yt,Rt,zt)}if(typeof Rt.then=="function")return $n(Tt,yt,Ig(Rt),zt);if(Rt.$$typeof===G)return $n(Tt,yt,el(Tt,Rt),zt);Ng(Tt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint"?(Rt=""+Rt,yt!==null&&yt.tag===6?(h(Tt,yt.sibling),zt=v(yt,Rt),zt.return=Tt,Tt=zt):(h(Tt,yt),zt=qh(Rt,Tt.mode,zt),zt.return=Tt,Tt=zt),O(Tt)):h(Tt,yt)}return function(Tt,yt,Rt,zt){try{Sd=0;var de=$n(Tt,yt,Rt,zt);return ef=null,de}catch(Ae){if(Ae===q||Ae===$)throw Ae;var sn=vr(29,Ae,null,Tt.mode);return sn.lanes=zt,sn.return=Tt,sn}finally{}}}var nf=N5(!0),R5=N5(!1),Va=St(null),al=null;function qc(a){var l=a.alternate;W(or,or.current&1),W(Va,a),al===null&&(l===null||Xe.current!==null||l.memoizedState!==null)&&(al=a)}function C5(a){if(a.tag===22){if(W(or,or.current),W(Va,a),al===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(al=a)}}else Hc()}function Hc(){W(or,or.current),W(Va,Va.current)}function Kl(a){F(Va),al===a&&(al=null),F(or)}var or=St(0);function Rg(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||py(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function E1(a,l,h,d){l=a.memoizedState,h=h(d,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var x1={enqueueSetState:function(a,l,h){a=a._reactInternals;var d=ua(),v=Vt(d);v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(ha(l,a,d),Ut(l,a,d))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var d=ua(),v=Vt(d);v.tag=1,v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(ha(l,a,d),Ut(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=ua(),d=Vt(h);d.tag=2,l!=null&&(d.callback=l),l=Ht(a,d,h),l!==null&&(ha(l,a,h),Ut(l,a,h))}};function L5(a,l,h,d,v,A,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,A,O):l.prototype&&l.prototype.isPureReactComponent?!qo(h,d)||!qo(v,A):!0}function P5(a,l,h,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,d),l.state!==a&&x1.enqueueReplaceState(l,l.state,null)}function ah(a,l){var h=l;if("ref"in l){h={};for(var d in l)d!=="ref"&&(h[d]=l[d])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}var Cg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function k5(a){Cg(a)}function D5(a){console.error(a)}function M5(a){Cg(a)}function Lg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function O5(a,l,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function I1(a,l,h){return h=Vt(h),h.tag=3,h.payload={element:null},h.callback=function(){Lg(a,l)},h}function F5(a){return a=Vt(a),a.tag=3,a}function j5(a,l,h,d){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var A=d.value;a.payload=function(){return v(A)},a.callback=function(){O5(l,h,d)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){O5(l,h,d),typeof v!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})})}function tN(a,l,h,d,v){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=h.alternate,l!==null&&Fc(l,h,v,!0),h=Va.current,h!==null){switch(h.tag){case 13:return al===null?Q1():h.alternate===null&&xi===0&&(xi=3),h.flags&=-257,h.flags|=65536,h.lanes=v,d===J?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([d]):l.add(d),Z1(a,d,v)),!1;case 22:return h.flags|=65536,d===J?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([d]):h.add(d)),Z1(a,d,v)),!1}throw Error(i(435,h.tag))}return Z1(a,d,v),Q1(),!1}if(_n)return l=Va.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,d!==ld&&(a=Error(i(422),{cause:d}),Oc(Ze(a,h)))):(d!==ld&&(l=Error(i(423),{cause:d}),Oc(Ze(l,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Ze(d,h),v=I1(a.stateNode,d,v),ce(a,v),xi!==4&&(xi=2)),!1;var A=Error(i(520),{cause:d});if(A=Ze(A,h),Ld===null?Ld=[A]:Ld.push(A),xi!==4&&(xi=2),l===null)return!0;d=Ze(d,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=I1(h.stateNode,d,a),ce(h,a),!1;case 1:if(l=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xc===null||!Xc.has(A))))return h.flags|=65536,v&=-v,h.lanes|=v,v=F5(v),j5(v,a,h,d),ce(h,v),!1}h=h.return}while(h!==null);return!1}var V5=Error(i(461)),_r=!1;function Cr(a,l,h,d){l.child=a===null?R5(l,null,h,d):nf(l,a.child,h,d)}function B5(a,l,h,d,v){h=h.render;var A=l.ref;if("ref"in d){var O={};for(var X in d)X!=="ref"&&(O[X]=d[X])}else O=d;return Fa(l),d=sa(a,l,h,O,A,v),X=Jn(),a!==null&&!_r?(Xu(a,l,v),Xl(a,l,v)):(_n&&X&&Wu(l),l.flags|=1,Cr(a,l,d,v),l.child)}function U5(a,l,h,d,v){if(a===null){var A=h.type;return typeof A=="function"&&!Dc(A)&&A.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=A,z5(a,l,A,d,v)):(a=Bl(h.type,null,d,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!M1(a,v)){var O=A.memoizedProps;if(h=h.compare,h=h!==null?h:qo,h(O,d)&&a.ref===l.ref)return Xl(a,l,v)}return l.flags|=1,a=ka(A,d),a.ref=l.ref,a.return=l,l.child=a}function z5(a,l,h,d,v){if(a!==null){var A=a.memoizedProps;if(qo(A,d)&&a.ref===l.ref)if(_r=!1,l.pendingProps=d=A,M1(a,v))(a.flags&131072)!==0&&(_r=!0);else return l.lanes=a.lanes,Xl(a,l,v)}return N1(a,l,h,d,v)}function q5(a,l,h){var d=l.pendingProps,v=d.children,A=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=A!==null?A.baseLanes|h:h,a!==null){for(v=l.child=a.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;l.childLanes=A&~d}else l.childLanes=0,l.child=null;return H5(a,l,d,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&C(l,A!==null?A.cachePool:null),A!==null?Ln(l,A):Tn(),C5(l);else return l.lanes=l.childLanes=536870912,H5(a,l,A!==null?A.baseLanes|h:h,h)}else A!==null?(C(l,A.cachePool),Ln(l,A),Hc(),l.memoizedState=null):(a!==null&&C(l,null),Tn(),Hc());return Cr(a,l,v,h),l.child}function H5(a,l,h,d){var v=T();return v=v===null?null:{parent:Fi._currentValue,pool:v},l.memoizedState={baseLanes:h,cachePool:v},a!==null&&C(l,null),Tn(),C5(l),a!==null&&Fc(a,l,d,!0),null}function Pg(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function N1(a,l,h,d,v){return Fa(l),h=sa(a,l,h,d,void 0,v),d=Jn(),a!==null&&!_r?(Xu(a,l,v),Xl(a,l,v)):(_n&&d&&Wu(l),l.flags|=1,Cr(a,l,h,v),l.child)}function G5(a,l,h,d,v,A){return Fa(l),l.updateQueue=null,h=Gl(l,d,h,v),nl(a),d=Jn(),a!==null&&!_r?(Xu(a,l,A),Xl(a,l,A)):(_n&&d&&Wu(l),l.flags|=1,Cr(a,l,h,A),l.child)}function W5(a,l,h,d,v){if(Fa(l),l.stateNode===null){var A=Yi,O=h.contextType;typeof O=="object"&&O!==null&&(A=Oi(O)),A=new h(d,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=x1,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=d,A.state=l.memoizedState,A.refs={},mt(l),O=h.contextType,A.context=typeof O=="object"&&O!==null?Oi(O):Yi,A.state=l.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(E1(l,h,O,d),A.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&x1.enqueueReplaceState(A,A.state,null),re(l,d,A,v),be(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){A=l.stateNode;var X=l.memoizedProps,ut=ah(h,X);A.props=ut;var Pt=A.context,Bt=h.contextType;O=Yi,typeof Bt=="object"&&Bt!==null&&(O=Oi(Bt));var Gt=h.getDerivedStateFromProps;Bt=typeof Gt=="function"||typeof A.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Bt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X||Pt!==O)&&P5(l,A,d,O),Ot=!1;var Dt=l.memoizedState;A.state=Dt,re(l,d,A,v),be(),Pt=l.memoizedState,X||Dt!==Pt||Ot?(typeof Gt=="function"&&(E1(l,h,Gt,d),Pt=l.memoizedState),(ut=Ot||L5(l,h,ut,d,Dt,Pt,O))?(Bt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Pt),A.props=d,A.state=Pt,A.context=O,d=ut):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{A=l.stateNode,vt(a,l),O=l.memoizedProps,Bt=ah(h,O),A.props=Bt,Gt=l.pendingProps,Dt=A.context,Pt=h.contextType,ut=Yi,typeof Pt=="object"&&Pt!==null&&(ut=Oi(Pt)),X=h.getDerivedStateFromProps,(Pt=typeof X=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==Gt||Dt!==ut)&&P5(l,A,d,ut),Ot=!1,Dt=l.memoizedState,A.state=Dt,re(l,d,A,v),be();var Mt=l.memoizedState;O!==Gt||Dt!==Mt||Ot||a!==null&&a.dependencies!==null&&$h(a.dependencies)?(typeof X=="function"&&(E1(l,h,X,d),Mt=l.memoizedState),(Bt=Ot||L5(l,h,Bt,d,Dt,Mt,ut)||a!==null&&a.dependencies!==null&&$h(a.dependencies))?(Pt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Mt,ut),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Mt,ut)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=Mt),A.props=d,A.state=Mt,A.context=ut,d=Bt):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),d=!1)}return A=d,Pg(a,l),d=(l.flags&128)!==0,A||d?(A=l.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&d?(l.child=nf(l,a.child,null,v),l.child=nf(l,null,h,v)):Cr(a,l,h,v),l.memoizedState=A.state,a=l.child):a=Xl(a,l,v),a}function $5(a,l,h,d){return ys(),l.flags|=256,Cr(a,l,h,d),l.child}var R1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C1(a){return{baseLanes:a,cachePool:V()}}function L1(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Ba),a}function Y5(a,l,h){var d=l.pendingProps,v=!1,A=(l.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(or.current&2)!==0),O&&(v=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(_n){if(v?qc(l):Hc(),_n){var X=ui,ut;if(ut=X){t:{for(ut=X,X=Da;ut.nodeType!==8;){if(!X){X=null;break t}if(ut=bo(ut.nextSibling),ut===null){X=null;break t}}X=ut}X!==null?(l.memoizedState={dehydrated:X,treeContext:Ul!==null?{id:co,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},ut=vr(18,null,null,0),ut.stateNode=X,ut.return=l,l.child=ut,Mi=l,ui=null,ut=!0):ut=!1}ut||ql(l)}if(X=l.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return py(X)?l.lanes=32:l.lanes=536870912,null;Kl(l)}return X=d.children,d=d.fallback,v?(Hc(),v=l.mode,X=kg({mode:"hidden",children:X},v),d=oo(d,v,h,null),X.return=l,d.return=l,X.sibling=d,l.child=X,v=l.child,v.memoizedState=C1(h),v.childLanes=L1(a,O,h),l.memoizedState=R1,d):(qc(l),P1(l,X))}if(ut=a.memoizedState,ut!==null&&(X=ut.dehydrated,X!==null)){if(A)l.flags&256?(qc(l),l.flags&=-257,l=k1(a,l,h)):l.memoizedState!==null?(Hc(),l.child=a.child,l.flags|=128,l=null):(Hc(),v=d.fallback,X=l.mode,d=kg({mode:"visible",children:d.children},X),v=oo(v,X,h,null),v.flags|=2,d.return=l,v.return=l,d.sibling=v,l.child=d,nf(l,a.child,null,h),d=l.child,d.memoizedState=C1(h),d.childLanes=L1(a,O,h),l.memoizedState=R1,l=v);else if(qc(l),py(X)){if(O=X.nextSibling&&X.nextSibling.dataset,O)var Pt=O.dgst;O=Pt,d=Error(i(419)),d.stack="",d.digest=O,Oc({value:d,source:null,stack:null}),l=k1(a,l,h)}else if(_r||Fc(a,l,h,!1),O=(h&a.childLanes)!==0,_r||O){if(O=Zn,O!==null&&(d=h&-h,d=(d&42)!==0?1:Or(d),d=(d&(O.suspendedLanes|h))!==0?0:d,d!==0&&d!==ut.retryLane))throw ut.retryLane=d,ao(a,d),ha(O,a,d),V5;X.data==="$?"||Q1(),l=k1(a,l,h)}else X.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ut.treeContext,ui=bo(X.nextSibling),Mi=l,_n=!0,Zo=null,Da=!1,a!==null&&(Ps[ms++]=co,Ps[ms++]=uo,Ps[ms++]=Ul,co=a.id,uo=a.overflow,Ul=l),l=P1(l,d.children),l.flags|=4096);return l}return v?(Hc(),v=d.fallback,X=l.mode,ut=a.child,Pt=ut.sibling,d=ka(ut,{mode:"hidden",children:d.children}),d.subtreeFlags=ut.subtreeFlags&65011712,Pt!==null?v=ka(Pt,v):(v=oo(v,X,h,null),v.flags|=2),v.return=l,d.return=l,d.sibling=v,l.child=d,d=v,v=l.child,X=a.child.memoizedState,X===null?X=C1(h):(ut=X.cachePool,ut!==null?(Pt=Fi._currentValue,ut=ut.parent!==Pt?{parent:Pt,pool:Pt}:ut):ut=V(),X={baseLanes:X.baseLanes|h,cachePool:ut}),v.memoizedState=X,v.childLanes=L1(a,O,h),l.memoizedState=R1,d):(qc(l),h=a.child,a=h.sibling,h=ka(h,{mode:"visible",children:d.children}),h.return=l,h.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=h,l.memoizedState=null,h)}function P1(a,l){return l=kg({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function kg(a,l){return a=vr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function k1(a,l,h){return nf(l,a.child,null,h),a=P1(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function K5(a,l,h){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),Gh(a.return,l,h)}function D1(a,l,h,d,v){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:v}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=h,A.tailMode=v)}function X5(a,l,h){var d=l.pendingProps,v=d.revealOrder,A=d.tail;if(Cr(a,l,d.children,h),d=or.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&K5(a,h,l);else if(a.tag===19)K5(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(W(or,d),v){case"forwards":for(h=l.child,v=null;h!==null;)a=h.alternate,a!==null&&Rg(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=l.child,l.child=null):(v=h.sibling,h.sibling=null),D1(l,!1,v,h,A);break;case"backwards":for(h=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Rg(a)===null){l.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}D1(l,!0,h,null,A);break;case"together":D1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xl(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Kc|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(Fc(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=ka(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=ka(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function M1(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&$h(a)))}function eN(a,l,h){switch(l.tag){case 3:xt(l,l.stateNode.containerInfo),tl(l,Fi,a.memoizedState.cache),ys();break;case 27:case 5:Jt(l);break;case 4:xt(l,l.stateNode.containerInfo);break;case 10:tl(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(qc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Y5(a,l,h):(qc(l),a=Xl(a,l,h),a!==null?a.sibling:null);qc(l);break;case 19:var v=(a.flags&128)!==0;if(d=(h&l.childLanes)!==0,d||(Fc(a,l,h,!1),d=(h&l.childLanes)!==0),v){if(d)return X5(a,l,h);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(or,or.current),d)break;return null;case 22:case 23:return l.lanes=0,q5(a,l,h);case 24:tl(l,Fi,a.memoizedState.cache)}return Xl(a,l,h)}function Q5(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)_r=!0;else{if(!M1(a,h)&&(l.flags&128)===0)return _r=!1,eN(a,l,h);_r=(a.flags&131072)!==0}else _r=!1,_n&&(l.flags&1048576)!==0&&cg(l,Hh,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var d=l.elementType,v=d._init;if(d=v(d._payload),l.type=d,typeof d=="function")Dc(d)?(a=ah(d,a),l.tag=1,l=W5(null,l,d,a,h)):(l.tag=0,l=N1(null,l,d,a,h));else{if(d!=null){if(v=d.$$typeof,v===it){l.tag=11,l=B5(null,l,d,a,h);break t}else if(v===z){l.tag=14,l=U5(null,l,d,a,h);break t}}throw l=at(d)||d,Error(i(306,l,""))}}return l;case 0:return N1(a,l,l.type,l.pendingProps,h);case 1:return d=l.type,v=ah(d,l.pendingProps),W5(a,l,d,v,h);case 3:t:{if(xt(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var A=l.memoizedState;v=A.element,vt(a,l),re(l,d,null,h);var O=l.memoizedState;if(d=O.cache,tl(l,Fi,d),d!==A.cache&&Wh(l,[Fi],h,!0),be(),d=O.element,A.isDehydrated)if(A={element:d,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=$5(a,l,d,h);break t}else if(d!==v){v=Ze(Error(i(424)),l),Oc(v),l=$5(a,l,d,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ui=bo(a.firstChild),Mi=l,_n=!0,Zo=null,Da=!0,h=R5(l,null,d,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ys(),d===v){l=Xl(a,l,h);break t}Cr(a,l,d,h)}l=l.child}return l;case 26:return Pg(a,l),a===null?(h=ew(l.type,null,l.pendingProps,null))?l.memoizedState=h:_n||(h=l.type,a=l.pendingProps,d=$g(ct.current).createElement(h),d[Nn]=l,d[Rn]=a,Pr(d,h,a),bn(d),l.stateNode=d):l.memoizedState=ew(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Jt(l),a===null&&_n&&(d=l.stateNode=Jb(l.type,l.pendingProps,ct.current),Mi=l,Da=!0,v=ui,Zc(l.type)?(gy=v,ui=bo(d.firstChild)):ui=v),Cr(a,l,l.pendingProps.children,h),Pg(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&_n&&((v=d=ui)&&(d=RN(d,l.type,l.pendingProps,Da),d!==null?(l.stateNode=d,Mi=l,ui=bo(d.firstChild),Da=!1,v=!0):v=!1),v||ql(l)),Jt(l),v=l.type,A=l.pendingProps,O=a!==null?a.memoizedProps:null,d=A.children,hy(v,A)?d=null:O!==null&&hy(v,O)&&(l.flags|=32),l.memoizedState!==null&&(v=sa(a,l,il,null,null,h),Bd._currentValue=v),Pg(a,l),Cr(a,l,d,h),l.child;case 6:return a===null&&_n&&((a=h=ui)&&(h=CN(h,l.pendingProps,Da),h!==null?(l.stateNode=h,Mi=l,ui=null,a=!0):a=!1),a||ql(l)),null;case 13:return Y5(a,l,h);case 4:return xt(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=nf(l,null,d,h):Cr(a,l,d,h),l.child;case 11:return B5(a,l,l.type,l.pendingProps,h);case 7:return Cr(a,l,l.pendingProps,h),l.child;case 8:return Cr(a,l,l.pendingProps.children,h),l.child;case 12:return Cr(a,l,l.pendingProps.children,h),l.child;case 10:return d=l.pendingProps,tl(l,l.type,d.value),Cr(a,l,d.children,h),l.child;case 9:return v=l.type._context,d=l.pendingProps.children,Fa(l),v=Oi(v),d=d(v),l.flags|=1,Cr(a,l,d,h),l.child;case 14:return U5(a,l,l.type,l.pendingProps,h);case 15:return z5(a,l,l.type,l.pendingProps,h);case 19:return X5(a,l,h);case 31:return d=l.pendingProps,h=l.mode,d={mode:d.mode,children:d.children},a===null?(h=kg(d,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=ka(a.child,d),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return q5(a,l,h);case 24:return Fa(l),d=Oi(Fi),a===null?(v=T(),v===null&&(v=Zn,A=cd(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=h),v=A),l.memoizedState={parent:d,cache:v},mt(l),tl(l,Fi,v)):((a.lanes&h)!==0&&(vt(a,l),re(l,null,null,h),be()),v=a.memoizedState,A=l.memoizedState,v.parent!==d?(v={parent:d,cache:d},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),tl(l,Fi,d)):(d=A.cache,tl(l,Fi,d),d!==v.cache&&Wh(l,[Fi],h,!0))),Cr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Ql(a){a.flags|=4}function J5(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!aw(l)){if(l=Va.current,l!==null&&((yn&4194048)===yn?al!==null:(yn&62914560)!==yn&&(yn&536870912)===0||l!==al))throw Nt=J,H;a.flags|=8192}}function Dg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Un():536870912,a.lanes|=l,of|=l)}function Ed(a,l){if(!_n)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function mi(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(l)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=h,l}function nN(a,l,h){var d=l.pendingProps;switch($u(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(l),null;case 1:return mi(l),null;case 3:return h=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Oa(Fi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Nr(l)?Ql(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,hg())),mi(l),null;case 26:return h=l.memoizedState,a===null?(Ql(l),h!==null?(mi(l),J5(l,h)):(mi(l),l.flags&=-16777217)):h?h!==a.memoizedState?(Ql(l),mi(l),J5(l,h)):(mi(l),l.flags&=-16777217):(a.memoizedProps!==d&&Ql(l),mi(l),l.flags&=-16777217),null;case 27:Xt(l),h=ct.current;var v=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Ql(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return mi(l),null}a=Z.current,Nr(l)?ug(l):(a=Jb(v,d,h),l.stateNode=a,Ql(l))}return mi(l),null;case 5:if(Xt(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Ql(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return mi(l),null}if(a=Z.current,Nr(l))ug(l);else{switch(v=$g(ct.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?v.createElement(h,{is:d.is}):v.createElement(h)}}a[Nn]=l,a[Rn]=d;t:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break t;for(;v.sibling===null;){if(v.return===null||v.return===l)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=a;t:switch(Pr(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ql(l)}}return mi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&Ql(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=ct.current,Nr(l)){if(a=l.stateNode,h=l.memoizedProps,d=null,v=Mi,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[Nn]=l,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||Gb(a.nodeValue,h)),a||ql(l)}else a=$g(a).createTextNode(d),a[Nn]=l,l.stateNode=a}return mi(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Nr(l),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Nn]=l}else ys(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mi(l),v=!1}else v=hg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Kl(l),l):(Kl(l),null)}if(Kl(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=l.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var A=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(A=d.memoizedState.cachePool.pool),A!==v&&(d.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),Dg(l,l.updateQueue),mi(l),null;case 4:return kt(),a===null&&ay(l.stateNode.containerInfo),mi(l),null;case 10:return Oa(l.type),mi(l),null;case 19:if(F(or),v=l.memoizedState,v===null)return mi(l),null;if(d=(l.flags&128)!==0,A=v.rendering,A===null)if(d)Ed(v,!1);else{if(xi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=Rg(a),A!==null){for(l.flags|=128,Ed(v,!1),a=A.updateQueue,l.updateQueue=a,Dg(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Hu(h,a),h=h.sibling;return W(or,or.current&1|2),l.child}a=a.sibling}v.tail!==null&&Se()>Fg&&(l.flags|=128,d=!0,Ed(v,!1),l.lanes=4194304)}else{if(!d)if(a=Rg(A),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,Dg(l,a),Ed(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!_n)return mi(l),null}else 2*Se()-v.renderingStartTime>Fg&&h!==536870912&&(l.flags|=128,d=!0,Ed(v,!1),l.lanes=4194304);v.isBackwards?(A.sibling=l.child,l.child=A):(a=v.last,a!==null?a.sibling=A:l.child=A,v.last=A)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Se(),l.sibling=null,a=or.current,W(or,d?a&1|2:a&1),l):(mi(l),null);case 22:case 23:return Kl(l),Be(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(h&536870912)!==0&&(l.flags&128)===0&&(mi(l),l.subtreeFlags&6&&(l.flags|=8192)):mi(l),h=l.updateQueue,h!==null&&Dg(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048),a!==null&&F(b),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Oa(Fi),mi(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function iN(a,l){switch($u(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Oa(Fi),kt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Xt(l),null;case 13:if(Kl(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));ys()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return F(or),null;case 4:return kt(),null;case 10:return Oa(l.type),null;case 22:case 23:return Kl(l),Be(),a!==null&&F(b),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Oa(Fi),null;case 25:return null;default:return null}}function Z5(a,l){switch($u(l),l.tag){case 3:Oa(Fi),kt();break;case 26:case 27:case 5:Xt(l);break;case 4:kt();break;case 13:Kl(l);break;case 19:F(or);break;case 10:Oa(l.type);break;case 22:case 23:Kl(l),Be(),a!==null&&F(b);break;case 24:Oa(Fi)}}function xd(a,l){try{var h=l.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var v=d.next;h=v;do{if((h.tag&a)===a){d=void 0;var A=h.create,O=h.inst;d=A(),O.destroy=d}h=h.next}while(h!==v)}}catch(X){Kn(l,l.return,X)}}function Gc(a,l,h){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var A=v.next;d=A;do{if((d.tag&a)===a){var O=d.inst,X=O.destroy;if(X!==void 0){O.destroy=void 0,v=l;var ut=h,Pt=X;try{Pt()}catch(Bt){Kn(v,ut,Bt)}}}d=d.next}while(d!==A)}}catch(Bt){Kn(l,l.return,Bt)}}function tb(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Sn(l,h)}catch(d){Kn(a,a.return,d)}}}function eb(a,l,h){h.props=ah(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){Kn(a,l,d)}}function Id(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(v){Kn(a,l,v)}}function ol(a,l){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(v){Kn(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Kn(a,l,v)}else h.current=null}function nb(a){var l=a.type,h=a.memoizedProps,d=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break t;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(v){Kn(a,a.return,v)}}function O1(a,l,h){try{var d=a.stateNode;TN(d,a.type,h,l),d[Rn]=l}catch(v){Kn(a,a.return,v)}}function ib(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Zc(a.type)||a.tag===4}function F1(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||ib(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Zc(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function j1(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Wg));else if(d!==4&&(d===27&&Zc(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(j1(a,l,h),a=a.sibling;a!==null;)j1(a,l,h),a=a.sibling}function Mg(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(d!==4&&(d===27&&Zc(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Mg(a,l,h),a=a.sibling;a!==null;)Mg(a,l,h),a=a.sibling}function rb(a){var l=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Pr(l,d,h),l[Nn]=a,l[Rn]=h}catch(A){Kn(a,a.return,A)}}var Jl=!1,Vi=!1,V1=!1,sb=typeof WeakSet=="function"?WeakSet:Set,br=null;function rN(a,l){if(a=a.containerInfo,cy=Zg,a=Ir(a),ar(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var v=d.anchorOffset,A=d.focusNode;d=d.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break t}var O=0,X=-1,ut=-1,Pt=0,Bt=0,Gt=a,Dt=null;e:for(;;){for(var Mt;Gt!==h||v!==0&&Gt.nodeType!==3||(X=O+v),Gt!==A||d!==0&&Gt.nodeType!==3||(ut=O+d),Gt.nodeType===3&&(O+=Gt.nodeValue.length),(Mt=Gt.firstChild)!==null;)Dt=Gt,Gt=Mt;for(;;){if(Gt===a)break e;if(Dt===h&&++Pt===v&&(X=O),Dt===A&&++Bt===d&&(ut=O),(Mt=Gt.nextSibling)!==null)break;Gt=Dt,Dt=Gt.parentNode}Gt=Mt}h=X===-1||ut===-1?null:{start:X,end:ut}}else h=null}h=h||{start:0,end:0}}else h=null;for(uy={focusedElem:a,selectionRange:h},Zg=!1,br=l;br!==null;)if(l=br,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,br=a;else for(;br!==null;){switch(l=br,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,h=l,v=A.memoizedProps,A=A.memoizedState,d=h.stateNode;try{var Fe=ah(h.type,v,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(Fe,A),d.__reactInternalSnapshotBeforeUpdate=a}catch(Re){Kn(h,h.return,Re)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)dy(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":dy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,br=a;break}br=l.return}}function ab(a,l,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:Wc(a,h),d&4&&xd(5,h);break;case 1:if(Wc(a,h),d&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(O){Kn(h,h.return,O)}else{var v=ah(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Kn(h,h.return,O)}}d&64&&tb(h),d&512&&Id(h,h.return);break;case 3:if(Wc(a,h),d&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Sn(a,l)}catch(O){Kn(h,h.return,O)}}break;case 27:l===null&&d&4&&rb(h);case 26:case 5:Wc(a,h),l===null&&d&4&&nb(h),d&512&&Id(h,h.return);break;case 12:Wc(a,h);break;case 13:Wc(a,h),d&4&&cb(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=dN.bind(null,h),LN(a,h))));break;case 22:if(d=h.memoizedState!==null||Jl,!d){l=l!==null&&l.memoizedState!==null||Vi,v=Jl;var A=Vi;Jl=d,(Vi=l)&&!A?$c(a,h,(h.subtreeFlags&8772)!==0):Wc(a,h),Jl=v,Vi=A}break;case 30:break;default:Wc(a,h)}}function ob(a){var l=a.alternate;l!==null&&(a.alternate=null,ob(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Gi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var hi=null,Ds=!1;function Zl(a,l,h){for(h=h.child;h!==null;)lb(a,l,h),h=h.sibling}function lb(a,l,h){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(_e,h)}catch{}switch(h.tag){case 26:Vi||ol(h,l),Zl(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vi||ol(h,l);var d=hi,v=Ds;Zc(h.type)&&(hi=h.stateNode,Ds=!1),Zl(a,l,h),Od(h.stateNode),hi=d,Ds=v;break;case 5:Vi||ol(h,l);case 6:if(d=hi,v=Ds,hi=null,Zl(a,l,h),hi=d,Ds=v,hi!==null)if(Ds)try{(hi.nodeType===9?hi.body:hi.nodeName==="HTML"?hi.ownerDocument.body:hi).removeChild(h.stateNode)}catch(A){Kn(h,l,A)}else try{hi.removeChild(h.stateNode)}catch(A){Kn(h,l,A)}break;case 18:hi!==null&&(Ds?(a=hi,Xb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Hd(a)):Xb(hi,h.stateNode));break;case 4:d=hi,v=Ds,hi=h.stateNode.containerInfo,Ds=!0,Zl(a,l,h),hi=d,Ds=v;break;case 0:case 11:case 14:case 15:Vi||Gc(2,h,l),Vi||Gc(4,h,l),Zl(a,l,h);break;case 1:Vi||(ol(h,l),d=h.stateNode,typeof d.componentWillUnmount=="function"&&eb(h,l,d)),Zl(a,l,h);break;case 21:Zl(a,l,h);break;case 22:Vi=(d=Vi)||h.memoizedState!==null,Zl(a,l,h),Vi=d;break;default:Zl(a,l,h)}}function cb(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Hd(a)}catch(h){Kn(l,l.return,h)}}function sN(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new sb),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new sb),l;default:throw Error(i(435,a.tag))}}function B1(a,l){var h=sN(a);l.forEach(function(d){var v=pN.bind(null,a,d);h.has(d)||(h.add(d),d.then(v,v))})}function oa(a,l){var h=l.deletions;if(h!==null)for(var d=0;d<h.length;d++){var v=h[d],A=a,O=l,X=O;t:for(;X!==null;){switch(X.tag){case 27:if(Zc(X.type)){hi=X.stateNode,Ds=!1;break t}break;case 5:hi=X.stateNode,Ds=!1;break t;case 3:case 4:hi=X.stateNode.containerInfo,Ds=!0;break t}X=X.return}if(hi===null)throw Error(i(160));lb(A,O,v),hi=null,Ds=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)ub(l,a),l=l.sibling}var _o=null;function ub(a,l){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:oa(l,a),la(a),d&4&&(Gc(3,a,a.return),xd(3,a),Gc(5,a,a.return));break;case 1:oa(l,a),la(a),d&512&&(Vi||h===null||ol(h,h.return)),d&64&&Jl&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var v=_o;if(oa(l,a),la(a),d&512&&(Vi||h===null||ol(h,h.return)),d&4){var A=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){t:{d=a.type,h=a.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":A=v.getElementsByTagName("title")[0],(!A||A[Er]||A[Nn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(d),v.head.insertBefore(A,v.querySelector("head > title"))),Pr(A,d,h),A[Nn]=a,bn(A),d=A;break t;case"link":var O=rw("link","href",v).get(d+(h.href||""));if(O){for(var X=0;X<O.length;X++)if(A=O[X],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(X,1);break e}}A=v.createElement(d),Pr(A,d,h),v.head.appendChild(A);break;case"meta":if(O=rw("meta","content",v).get(d+(h.content||""))){for(X=0;X<O.length;X++)if(A=O[X],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(X,1);break e}}A=v.createElement(d),Pr(A,d,h),v.head.appendChild(A);break;default:throw Error(i(468,d))}A[Nn]=a,bn(A),d=A}a.stateNode=d}else sw(v,a.type,a.stateNode);else a.stateNode=iw(v,d,a.memoizedProps);else A!==d?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,d===null?sw(v,a.type,a.stateNode):iw(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&O1(a,a.memoizedProps,h.memoizedProps)}break;case 27:oa(l,a),la(a),d&512&&(Vi||h===null||ol(h,h.return)),h!==null&&d&4&&O1(a,a.memoizedProps,h.memoizedProps);break;case 5:if(oa(l,a),la(a),d&512&&(Vi||h===null||ol(h,h.return)),a.flags&32){v=a.stateNode;try{jr(v,"")}catch(Mt){Kn(a,a.return,Mt)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,O1(a,v,h!==null?h.memoizedProps:v)),d&1024&&(V1=!0);break;case 6:if(oa(l,a),la(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(Mt){Kn(a,a.return,Mt)}}break;case 3:if(Xg=null,v=_o,_o=Yg(l.containerInfo),oa(l,a),_o=v,la(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{Hd(l.containerInfo)}catch(Mt){Kn(a,a.return,Mt)}V1&&(V1=!1,hb(a));break;case 4:d=_o,_o=Yg(a.stateNode.containerInfo),oa(l,a),la(a),_o=d;break;case 12:oa(l,a),la(a);break;case 13:oa(l,a),la(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(W1=Se()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,B1(a,d)));break;case 22:v=a.memoizedState!==null;var ut=h!==null&&h.memoizedState!==null,Pt=Jl,Bt=Vi;if(Jl=Pt||v,Vi=Bt||ut,oa(l,a),Vi=Bt,Jl=Pt,la(a),d&8192)t:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(h===null||ut||Jl||Vi||oh(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ut=h=l;try{if(A=ut.stateNode,v)O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{X=ut.stateNode;var Gt=ut.memoizedProps.style,Dt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;X.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(Mt){Kn(ut,ut.return,Mt)}}}else if(l.tag===6){if(h===null){ut=l;try{ut.stateNode.nodeValue=v?"":ut.memoizedProps}catch(Mt){Kn(ut,ut.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,B1(a,h))));break;case 19:oa(l,a),la(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,B1(a,d)));break;case 30:break;case 21:break;default:oa(l,a),la(a)}}function la(a){var l=a.flags;if(l&2){try{for(var h,d=a.return;d!==null;){if(ib(d)){h=d;break}d=d.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var v=h.stateNode,A=F1(a);Mg(a,A,v);break;case 5:var O=h.stateNode;h.flags&32&&(jr(O,""),h.flags&=-33);var X=F1(a);Mg(a,X,O);break;case 3:case 4:var ut=h.stateNode.containerInfo,Pt=F1(a);j1(a,Pt,ut);break;default:throw Error(i(161))}}catch(Bt){Kn(a,a.return,Bt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function hb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;hb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Wc(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ab(a,l.alternate,l),l=l.sibling}function oh(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Gc(4,l,l.return),oh(l);break;case 1:ol(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&eb(l,l.return,h),oh(l);break;case 27:Od(l.stateNode);case 26:case 5:ol(l,l.return),oh(l);break;case 22:l.memoizedState===null&&oh(l);break;case 30:oh(l);break;default:oh(l)}a=a.sibling}}function $c(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,v=a,A=l,O=A.flags;switch(A.tag){case 0:case 11:case 15:$c(v,A,h),xd(4,A);break;case 1:if($c(v,A,h),d=A,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Pt){Kn(d,d.return,Pt)}if(d=A,v=d.updateQueue,v!==null){var X=d.stateNode;try{var ut=v.shared.hiddenCallbacks;if(ut!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ut.length;v++)gn(ut[v],X)}catch(Pt){Kn(d,d.return,Pt)}}h&&O&64&&tb(A),Id(A,A.return);break;case 27:rb(A);case 26:case 5:$c(v,A,h),h&&d===null&&O&4&&nb(A),Id(A,A.return);break;case 12:$c(v,A,h);break;case 13:$c(v,A,h),h&&O&4&&cb(v,A);break;case 22:A.memoizedState===null&&$c(v,A,h),Id(A,A.return);break;case 30:break;default:$c(v,A,h)}l=l.sibling}}function U1(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Yu(h))}function z1(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yu(a))}function ll(a,l,h,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)fb(a,l,h,d),l=l.sibling}function fb(a,l,h,d){var v=l.flags;switch(l.tag){case 0:case 11:case 15:ll(a,l,h,d),v&2048&&xd(9,l);break;case 1:ll(a,l,h,d);break;case 3:ll(a,l,h,d),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yu(a)));break;case 12:if(v&2048){ll(a,l,h,d),a=l.stateNode;try{var A=l.memoizedProps,O=A.id,X=A.onPostCommit;typeof X=="function"&&X(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ut){Kn(l,l.return,ut)}}else ll(a,l,h,d);break;case 13:ll(a,l,h,d);break;case 23:break;case 22:A=l.stateNode,O=l.alternate,l.memoizedState!==null?A._visibility&2?ll(a,l,h,d):Nd(a,l):A._visibility&2?ll(a,l,h,d):(A._visibility|=2,rf(a,l,h,d,(l.subtreeFlags&10256)!==0)),v&2048&&U1(O,l);break;case 24:ll(a,l,h,d),v&2048&&z1(l.alternate,l);break;default:ll(a,l,h,d)}}function rf(a,l,h,d,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,O=l,X=h,ut=d,Pt=O.flags;switch(O.tag){case 0:case 11:case 15:rf(A,O,X,ut,v),xd(8,O);break;case 23:break;case 22:var Bt=O.stateNode;O.memoizedState!==null?Bt._visibility&2?rf(A,O,X,ut,v):Nd(A,O):(Bt._visibility|=2,rf(A,O,X,ut,v)),v&&Pt&2048&&U1(O.alternate,O);break;case 24:rf(A,O,X,ut,v),v&&Pt&2048&&z1(O.alternate,O);break;default:rf(A,O,X,ut,v)}l=l.sibling}}function Nd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,d=l,v=d.flags;switch(d.tag){case 22:Nd(h,d),v&2048&&U1(d.alternate,d);break;case 24:Nd(h,d),v&2048&&z1(d.alternate,d);break;default:Nd(h,d)}l=l.sibling}}var Rd=8192;function sf(a){if(a.subtreeFlags&Rd)for(a=a.child;a!==null;)db(a),a=a.sibling}function db(a){switch(a.tag){case 26:sf(a),a.flags&Rd&&a.memoizedState!==null&&HN(_o,a.memoizedState,a.memoizedProps);break;case 5:sf(a);break;case 3:case 4:var l=_o;_o=Yg(a.stateNode.containerInfo),sf(a),_o=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Rd,Rd=16777216,sf(a),Rd=l):sf(a));break;default:sf(a)}}function pb(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Cd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];br=d,mb(d,a)}pb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gb(a),a=a.sibling}function gb(a){switch(a.tag){case 0:case 11:case 15:Cd(a),a.flags&2048&&Gc(9,a,a.return);break;case 3:Cd(a);break;case 12:Cd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Og(a)):Cd(a);break;default:Cd(a)}}function Og(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];br=d,mb(d,a)}pb(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Gc(8,l,l.return),Og(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Og(l));break;default:Og(l)}a=a.sibling}}function mb(a,l){for(;br!==null;){var h=br;switch(h.tag){case 0:case 11:case 15:Gc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Yu(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,br=d;else t:for(h=a;br!==null;){d=br;var v=d.sibling,A=d.return;if(ob(d),d===h){br=null;break t}if(v!==null){v.return=A,br=v;break t}br=A}}}var aN={getCacheForType:function(a){var l=Oi(Fi),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},oN=typeof WeakMap=="function"?WeakMap:Map,On=0,Zn=null,an=null,yn=0,Fn=0,ca=null,Yc=!1,af=!1,q1=!1,tc=0,xi=0,Kc=0,lh=0,H1=0,Ba=0,of=0,Ld=null,Ms=null,G1=!1,W1=0,Fg=1/0,jg=null,Xc=null,Lr=0,Qc=null,lf=null,cf=0,$1=0,Y1=null,yb=null,Pd=0,K1=null;function ua(){if((On&2)!==0&&yn!==0)return yn&-yn;if(et.T!==null){var a=Hl;return a!==0?a:ny()}return nr()}function vb(){Ba===0&&(Ba=(yn&536870912)===0||_n?Hs():536870912);var a=Va.current;return a!==null&&(a.flags|=32),Ba}function ha(a,l,h){(a===Zn&&(Fn===2||Fn===9)||a.cancelPendingCommit!==null)&&(uf(a,0),Jc(a,yn,Ba,!1)),er(a,h),((On&2)===0||a!==Zn)&&(a===Zn&&((On&2)===0&&(lh|=h),xi===4&&Jc(a,yn,Ba,!1)),cl(a))}function _b(a,l,h){if((On&6)!==0)throw Error(i(327));var d=!h&&(l&124)===0&&(l&a.expiredLanes)===0||fr(a,l),v=d?uN(a,l):J1(a,l,!0),A=d;do{if(v===0){af&&!d&&Jc(a,l,0,!1);break}else{if(h=a.current.alternate,A&&!lN(h)){v=J1(a,l,!1),A=!1;continue}if(v===2){if(A=l,a.errorRecoveryDisabledLanes&A)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;t:{var X=a;v=Ld;var ut=X.current.memoizedState.isDehydrated;if(ut&&(uf(X,O).flags|=256),O=J1(X,O,!1),O!==2){if(q1&&!ut){X.errorRecoveryDisabledLanes|=A,lh|=A,v=4;break t}A=Ms,Ms=v,A!==null&&(Ms===null?Ms=A:Ms.push.apply(Ms,A))}v=O}if(A=!1,v!==2)continue}}if(v===1){uf(a,0),Jc(a,l,0,!0);break}t:{switch(d=a,A=v,A){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Jc(d,l,Ba,!Yc);break t;case 2:Ms=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(v=W1+300-Se(),10<v)){if(Jc(d,l,Ba,!Yc),In(d,0,!0)!==0)break t;d.timeoutHandle=Yb(bb.bind(null,d,h,Ms,jg,G1,l,Ba,lh,of,Yc,A,2,-0,0),v);break t}bb(d,h,Ms,jg,G1,l,Ba,lh,of,Yc,A,0,-0,0)}}break}while(!0);cl(a)}function bb(a,l,h,d,v,A,O,X,ut,Pt,Bt,Gt,Dt,Mt){if(a.timeoutHandle=-1,Gt=l.subtreeFlags,(Gt&8192||(Gt&16785408)===16785408)&&(Vd={stylesheets:null,count:0,unsuspend:qN},db(l),Gt=GN(),Gt!==null)){a.cancelPendingCommit=Gt(Ib.bind(null,a,l,A,h,d,v,O,X,ut,Bt,1,Dt,Mt)),Jc(a,A,O,!Pt);return}Ib(a,l,A,h,d,v,O,X,ut)}function lN(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var v=h[d],A=v.getSnapshot;v=v.value;try{if(!$i(A(),v))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Jc(a,l,h,d){l&=~H1,l&=~lh,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var v=l;0<v;){var A=31-fe(v),O=1<<A;d[A]=-1,v&=~O}h!==0&&Te(a,h,l)}function Vg(){return(On&6)===0?(kd(0),!1):!0}function X1(){if(an!==null){if(Fn===0)var a=an.return;else a=an,fo=Ki=null,Kh(a),ef=null,Sd=0,a=an;for(;a!==null;)Z5(a.alternate,a),a=a.return;an=null}}function uf(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,xN(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),X1(),Zn=a,an=h=ka(a.current,null),yn=l,Fn=0,ca=null,Yc=!1,af=fr(a,l),q1=!1,of=Ba=H1=lh=Kc=xi=0,Ms=Ld=null,G1=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var v=31-fe(d),A=1<<v;l|=a[v],d&=~A}return tc=l,Cs(),h}function wb(a,l){Ee=null,et.H=xg,l===q||l===$?(l=At(),Fn=3):l===H?(l=At(),Fn=4):Fn=l===V5?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ca=l,an===null&&(xi=1,Lg(a,Ze(l,a.current)))}function Ab(){var a=et.H;return et.H=xg,a===null?xg:a}function Sb(){var a=et.A;return et.A=aN,a}function Q1(){xi=4,Yc||(yn&4194048)!==yn&&Va.current!==null||(af=!0),(Kc&134217727)===0&&(lh&134217727)===0||Zn===null||Jc(Zn,yn,Ba,!1)}function J1(a,l,h){var d=On;On|=2;var v=Ab(),A=Sb();(Zn!==a||yn!==l)&&(jg=null,uf(a,l)),l=!1;var O=xi;t:do try{if(Fn!==0&&an!==null){var X=an,ut=ca;switch(Fn){case 8:X1(),O=6;break t;case 3:case 2:case 9:case 6:Va.current===null&&(l=!0);var Pt=Fn;if(Fn=0,ca=null,hf(a,X,ut,Pt),h&&af){O=0;break t}break;default:Pt=Fn,Fn=0,ca=null,hf(a,X,ut,Pt)}}cN(),O=xi;break}catch(Bt){wb(a,Bt)}while(!0);return l&&a.shellSuspendCounter++,fo=Ki=null,On=d,et.H=v,et.A=A,an===null&&(Zn=null,yn=0,Cs()),O}function cN(){for(;an!==null;)Tb(an)}function uN(a,l){var h=On;On|=2;var d=Ab(),v=Sb();Zn!==a||yn!==l?(jg=null,Fg=Se()+500,uf(a,l)):af=fr(a,l);t:do try{if(Fn!==0&&an!==null){l=an;var A=ca;e:switch(Fn){case 1:Fn=0,ca=null,hf(a,l,A,1);break;case 2:case 9:if(nt(A)){Fn=0,ca=null,Eb(l);break}l=function(){Fn!==2&&Fn!==9||Zn!==a||(Fn=7),cl(a)},A.then(l,l);break t;case 3:Fn=7;break t;case 4:Fn=5;break t;case 7:nt(A)?(Fn=0,ca=null,Eb(l)):(Fn=0,ca=null,hf(a,l,A,7));break;case 5:var O=null;switch(an.tag){case 26:O=an.memoizedState;case 5:case 27:var X=an;if(!O||aw(O)){Fn=0,ca=null;var ut=X.sibling;if(ut!==null)an=ut;else{var Pt=X.return;Pt!==null?(an=Pt,Bg(Pt)):an=null}break e}}Fn=0,ca=null,hf(a,l,A,5);break;case 6:Fn=0,ca=null,hf(a,l,A,6);break;case 8:X1(),xi=6;break t;default:throw Error(i(462))}}hN();break}catch(Bt){wb(a,Bt)}while(!0);return fo=Ki=null,et.H=d,et.A=v,On=h,an!==null?0:(Zn=null,yn=0,Cs(),xi)}function hN(){for(;an!==null&&!jt();)Tb(an)}function Tb(a){var l=Q5(a.alternate,a,tc);a.memoizedProps=a.pendingProps,l===null?Bg(a):an=l}function Eb(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=G5(h,l,l.pendingProps,l.type,void 0,yn);break;case 11:l=G5(h,l,l.pendingProps,l.type.render,l.ref,yn);break;case 5:Kh(l);default:Z5(h,l),l=an=Hu(l,tc),l=Q5(h,l,tc)}a.memoizedProps=a.pendingProps,l===null?Bg(a):an=l}function hf(a,l,h,d){fo=Ki=null,Kh(l),ef=null,Sd=0;var v=l.return;try{if(tN(a,v,l,h,yn)){xi=1,Lg(a,Ze(h,a.current)),an=null;return}}catch(A){if(v!==null)throw an=v,A;xi=1,Lg(a,Ze(h,a.current)),an=null;return}l.flags&32768?(_n||d===1?a=!0:af||(yn&536870912)!==0?a=!1:(Yc=a=!0,(d===2||d===9||d===3||d===6)&&(d=Va.current,d!==null&&d.tag===13&&(d.flags|=16384))),xb(l,a)):Bg(l)}function Bg(a){var l=a;do{if((l.flags&32768)!==0){xb(l,Yc);return}a=l.return;var h=nN(l.alternate,l,tc);if(h!==null){an=h;return}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);xi===0&&(xi=5)}function xb(a,l){do{var h=iN(a.alternate,a);if(h!==null){h.flags&=32767,an=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){an=a;return}an=a=h}while(a!==null);xi=6,an=null}function Ib(a,l,h,d,v,A,O,X,ut){a.cancelPendingCommit=null;do Ug();while(Lr!==0);if((On&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(A=l.lanes|l.childLanes,A|=di,zn(a,h,A,O,X,ut),a===Zn&&(an=Zn=null,yn=0),lf=l,Qc=a,cf=h,$1=A,Y1=v,yb=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,gN(se,function(){return Pb(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=et.T,et.T=null,v=ht.p,ht.p=2,O=On,On|=4;try{rN(a,l,h)}finally{On=O,ht.p=v,et.T=d}}Lr=1,Nb(),Rb(),Cb()}}function Nb(){if(Lr===1){Lr=0;var a=Qc,l=lf,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=et.T,et.T=null;var d=ht.p;ht.p=2;var v=On;On|=4;try{ub(l,a);var A=uy,O=Ir(a.containerInfo),X=A.focusedElem,ut=A.selectionRange;if(O!==X&&X&&X.ownerDocument&&Ho(X.ownerDocument.documentElement,X)){if(ut!==null&&ar(X)){var Pt=ut.start,Bt=ut.end;if(Bt===void 0&&(Bt=Pt),"selectionStart"in X)X.selectionStart=Pt,X.selectionEnd=Math.min(Bt,X.value.length);else{var Gt=X.ownerDocument||document,Dt=Gt&&Gt.defaultView||window;if(Dt.getSelection){var Mt=Dt.getSelection(),Fe=X.textContent.length,Re=Math.min(ut.start,Fe),$n=ut.end===void 0?Re:Math.min(ut.end,Fe);!Mt.extend&&Re>$n&&(O=$n,$n=Re,Re=O);var Tt=ro(X,Re),yt=ro(X,$n);if(Tt&&yt&&(Mt.rangeCount!==1||Mt.anchorNode!==Tt.node||Mt.anchorOffset!==Tt.offset||Mt.focusNode!==yt.node||Mt.focusOffset!==yt.offset)){var Rt=Gt.createRange();Rt.setStart(Tt.node,Tt.offset),Mt.removeAllRanges(),Re>$n?(Mt.addRange(Rt),Mt.extend(yt.node,yt.offset)):(Rt.setEnd(yt.node,yt.offset),Mt.addRange(Rt))}}}}for(Gt=[],Mt=X;Mt=Mt.parentNode;)Mt.nodeType===1&&Gt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Gt.length;X++){var zt=Gt[X];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}Zg=!!cy,uy=cy=null}finally{On=v,ht.p=d,et.T=h}}a.current=l,Lr=2}}function Rb(){if(Lr===2){Lr=0;var a=Qc,l=lf,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=et.T,et.T=null;var d=ht.p;ht.p=2;var v=On;On|=4;try{ab(a,l.alternate,l)}finally{On=v,ht.p=d,et.T=h}}Lr=3}}function Cb(){if(Lr===4||Lr===3){Lr=0,ot();var a=Qc,l=lf,h=cf,d=yb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Lr=5:(Lr=0,lf=Qc=null,Lb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Xc=null),ai(h),l=l.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(_e,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=et.T,v=ht.p,ht.p=2,et.T=null;try{for(var A=a.onRecoverableError,O=0;O<d.length;O++){var X=d[O];A(X.value,{componentStack:X.stack})}}finally{et.T=l,ht.p=v}}(cf&3)!==0&&Ug(),cl(a),v=a.pendingLanes,(h&4194090)!==0&&(v&42)!==0?a===K1?Pd++:(Pd=0,K1=a):Pd=0,kd(0)}}function Lb(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Yu(l)))}function Ug(a){return Nb(),Rb(),Cb(),Pb()}function Pb(){if(Lr!==5)return!1;var a=Qc,l=$1;$1=0;var h=ai(cf),d=et.T,v=ht.p;try{ht.p=32>h?32:h,et.T=null,h=Y1,Y1=null;var A=Qc,O=cf;if(Lr=0,lf=Qc=null,cf=0,(On&6)!==0)throw Error(i(331));var X=On;if(On|=4,gb(A.current),fb(A,A.current,O,h),On=X,kd(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(_e,A)}catch{}return!0}finally{ht.p=v,et.T=d,Lb(a,l)}}function kb(a,l,h){l=Ze(h,l),l=I1(a.stateNode,l,2),a=Ht(a,l,2),a!==null&&(er(a,2),cl(a))}function Kn(a,l,h){if(a.tag===3)kb(a,a,h);else for(;l!==null;){if(l.tag===3){kb(l,a,h);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xc===null||!Xc.has(d))){a=Ze(h,a),h=F5(2),d=Ht(l,h,2),d!==null&&(j5(h,d,l,a),er(d,2),cl(d));break}}l=l.return}}function Z1(a,l,h){var d=a.pingCache;if(d===null){d=a.pingCache=new oN;var v=new Set;d.set(l,v)}else v=d.get(l),v===void 0&&(v=new Set,d.set(l,v));v.has(h)||(q1=!0,v.add(h),a=fN.bind(null,a,l,h),l.then(a,a))}function fN(a,l,h){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Zn===a&&(yn&h)===h&&(xi===4||xi===3&&(yn&62914560)===yn&&300>Se()-W1?(On&2)===0&&uf(a,0):H1|=h,of===yn&&(of=0)),cl(a)}function Db(a,l){l===0&&(l=Un()),a=ao(a,l),a!==null&&(er(a,l),cl(a))}function dN(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Db(a,h)}function pN(a,l){var h=0;switch(a.tag){case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),Db(a,h)}function gN(a,l){return te(a,l)}var zg=null,ff=null,ty=!1,qg=!1,ey=!1,ch=0;function cl(a){a!==ff&&a.next===null&&(ff===null?zg=ff=a:ff=ff.next=a),qg=!0,ty||(ty=!0,yN())}function kd(a,l){if(!ey&&qg){ey=!0;do for(var h=!1,d=zg;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var A=0;else{var O=d.suspendedLanes,X=d.pingedLanes;A=(1<<31-fe(42|a)+1)-1,A&=v&~(O&~X),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,jb(d,A))}else A=yn,A=In(d,d===Zn?A:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(A&3)===0||fr(d,A)||(h=!0,jb(d,A));d=d.next}while(h);ey=!1}}function mN(){Mb()}function Mb(){qg=ty=!1;var a=0;ch!==0&&(EN()&&(a=ch),ch=0);for(var l=Se(),h=null,d=zg;d!==null;){var v=d.next,A=Ob(d,l);A===0?(d.next=null,h===null?zg=v:h.next=v,v===null&&(ff=h)):(h=d,(a!==0||(A&3)!==0)&&(qg=!0)),d=v}kd(a)}function Ob(a,l){for(var h=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var O=31-fe(A),X=1<<O,ut=v[O];ut===-1?((X&h)===0||(X&d)!==0)&&(v[O]=cn(X,l)):ut<=l&&(a.expiredLanes|=X),A&=~X}if(l=Zn,h=yn,h=In(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===l&&(Fn===2||Fn===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&we(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||fr(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(d!==null&&we(d),ai(h)){case 2:case 8:h=Zt;break;case 32:h=se;break;case 268435456:h=ve;break;default:h=se}return d=Fb.bind(null,a),h=te(h,d),a.callbackPriority=l,a.callbackNode=h,l}return d!==null&&d!==null&&we(d),a.callbackPriority=2,a.callbackNode=null,2}function Fb(a,l){if(Lr!==0&&Lr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Ug()&&a.callbackNode!==h)return null;var d=yn;return d=In(a,a===Zn?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(_b(a,d,l),Ob(a,Se()),a.callbackNode!=null&&a.callbackNode===h?Fb.bind(null,a):null)}function jb(a,l){if(Ug())return null;_b(a,l,!0)}function yN(){IN(function(){(On&6)!==0?te(Qt,mN):Mb()})}function ny(){return ch===0&&(ch=Hs()),ch}function Vb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Qs(""+a)}function Bb(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function vN(a,l,h,d,v){if(l==="submit"&&h&&h.stateNode===v){var A=Vb((v[Rn]||null).action),O=d.submitter;O&&(l=(l=O[Rn]||null)?Vb(l.formAction):O.getAttribute("formAction"),l!==null&&(A=l,O=null));var X=new Ta("action","action",null,d,v);a.push({event:X,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ch!==0){var ut=O?Bb(v,O):new FormData(v);ja(h,{pending:!0,data:ut,method:v.method,action:A},null,ut)}}else typeof A=="function"&&(X.preventDefault(),ut=O?Bb(v,O):new FormData(v),ja(h,{pending:!0,data:ut,method:v.method,action:A},A,ut))},currentTarget:v}]})}}for(var iy=0;iy<jl.length;iy++){var ry=jl[iy],_N=ry.toLowerCase(),bN=ry[0].toUpperCase()+ry.slice(1);ci(_N,"on"+bN)}ci(Pc,"onAnimationEnd"),ci(Wo,"onAnimationIteration"),ci($o,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Yo,"onTransitionRun"),ci(Fl,"onTransitionStart"),ci(kc,"onTransitionCancel"),ci(Ko,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dd));function Ub(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],v=d.event;d=d.listeners;t:{var A=void 0;if(l)for(var O=d.length-1;0<=O;O--){var X=d[O],ut=X.instance,Pt=X.currentTarget;if(X=X.listener,ut!==A&&v.isPropagationStopped())break t;A=X,v.currentTarget=Pt;try{A(v)}catch(Bt){Cg(Bt)}v.currentTarget=null,A=ut}else for(O=0;O<d.length;O++){if(X=d[O],ut=X.instance,Pt=X.currentTarget,X=X.listener,ut!==A&&v.isPropagationStopped())break t;A=X,v.currentTarget=Pt;try{A(v)}catch(Bt){Cg(Bt)}v.currentTarget=null,A=ut}}}}function on(a,l){var h=l[ti];h===void 0&&(h=l[ti]=new Set);var d=a+"__bubble";h.has(d)||(zb(l,a,2,!1),h.add(d))}function sy(a,l,h){var d=0;l&&(d|=4),zb(h,a,d,l)}var Hg="_reactListening"+Math.random().toString(36).slice(2);function ay(a){if(!a[Hg]){a[Hg]=!0,Gs.forEach(function(h){h!=="selectionchange"&&(wN.has(h)||sy(h,!1,a),sy(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Hg]||(l[Hg]=!0,sy("selectionchange",!1,l))}}function zb(a,l,h,d){switch(fw(l)){case 2:var v=YN;break;case 8:v=KN;break;default:v=by}h=v.bind(null,l,h,a),v=void 0,!xr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(l,h,{capture:!0,passive:v}):a.addEventListener(l,h,!0):v!==void 0?a.addEventListener(l,h,{passive:v}):a.addEventListener(l,h,!1)}function oy(a,l,h,d,v){var A=d;if((l&1)===0&&(l&2)===0&&d!==null)t:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var X=d.stateNode.containerInfo;if(X===v)break;if(O===4)for(O=d.return;O!==null;){var ut=O.tag;if((ut===3||ut===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;X!==null;){if(O=Li(X),O===null)return;if(ut=O.tag,ut===5||ut===6||ut===26||ut===27){d=A=O;continue t}X=X.parentNode}}d=d.return}Ic(function(){var Pt=A,Bt=Dn(h),Gt=[];t:{var Dt=so.get(a);if(Dt!==void 0){var Mt=Ta,Fe=a;switch(a){case"keypress":if(Ur(h)===0)break t;case"keydown":case"keyup":Mt=ea;break;case"focusin":Fe="focus",Mt=xa;break;case"focusout":Fe="blur",Mt=xa;break;case"beforeblur":case"afterblur":Mt=xa;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Bo;break;case Pc:case Wo:case $o:Mt=Fo;break;case Ko:Mt=B;break;case"scroll":case"scrollend":Mt=Ll;break;case"wheel":Mt=dt;break;case"copy":case"cut":case"paste":Mt=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=io;break;case"toggle":case"beforetoggle":Mt=Ft}var Re=(l&4)!==0,$n=!Re&&(a==="scroll"||a==="scrollend"),Tt=Re?Dt!==null?Dt+"Capture":null:Dt;Re=[];for(var yt=Pt,Rt;yt!==null;){var zt=yt;if(Rt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Rt===null||Tt===null||(zt=pr(yt,Tt),zt!=null&&Re.push(Md(yt,zt,Rt))),$n)break;yt=yt.return}0<Re.length&&(Dt=new Mt(Dt,Fe,null,h,Bt),Gt.push({event:Dt,listeners:Re}))}}if((l&7)===0){t:{if(Dt=a==="mouseover"||a==="pointerover",Mt=a==="mouseout"||a==="pointerout",Dt&&h!==As&&(Fe=h.relatedTarget||h.fromElement)&&(Li(Fe)||Fe[Yn]))break t;if((Mt||Dt)&&(Dt=Bt.window===Bt?Bt:(Dt=Bt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Mt?(Fe=h.relatedTarget||h.toElement,Mt=Pt,Fe=Fe?Li(Fe):null,Fe!==null&&($n=s(Fe),Re=Fe.tag,Fe!==$n||Re!==5&&Re!==27&&Re!==6)&&(Fe=null)):(Mt=null,Fe=Pt),Mt!==Fe)){if(Re=Ai,zt="onMouseLeave",Tt="onMouseEnter",yt="mouse",(a==="pointerout"||a==="pointerover")&&(Re=io,zt="onPointerLeave",Tt="onPointerEnter",yt="pointer"),$n=Mt==null?Dt:Pi(Mt),Rt=Fe==null?Dt:Pi(Fe),Dt=new Re(zt,yt+"leave",Mt,h,Bt),Dt.target=$n,Dt.relatedTarget=Rt,zt=null,Li(Bt)===Pt&&(Re=new Re(Tt,yt+"enter",Fe,h,Bt),Re.target=Rt,Re.relatedTarget=$n,zt=Re),$n=zt,Mt&&Fe)e:{for(Re=Mt,Tt=Fe,yt=0,Rt=Re;Rt;Rt=df(Rt))yt++;for(Rt=0,zt=Tt;zt;zt=df(zt))Rt++;for(;0<yt-Rt;)Re=df(Re),yt--;for(;0<Rt-yt;)Tt=df(Tt),Rt--;for(;yt--;){if(Re===Tt||Tt!==null&&Re===Tt.alternate)break e;Re=df(Re),Tt=df(Tt)}Re=null}else Re=null;Mt!==null&&qb(Gt,Dt,Mt,Re,!1),Fe!==null&&$n!==null&&qb(Gt,$n,Fe,Re,!0)}}t:{if(Dt=Pt?Pi(Pt):window,Mt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Dt.type==="file")var de=Cc;else if(Cn(Dt))if(kl)de=Uh;else{de=od;var sn=qr}else Mt=Dt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Pt&&Rl(Pt.elementType)&&(de=Cc):de=zu;if(de&&(de=de(a,Pt))){Ns(Gt,de,h,Bt);break t}sn&&sn(a,Dt,Pt),a==="focusout"&&Pt&&Dt.type==="number"&&Pt.memoizedProps.value!=null&&wa(Dt,"number",Dt.value)}switch(sn=Pt?Pi(Pt):window,a){case"focusin":(Cn(sn)||sn.contentEditable==="true")&&(Hr=sn,na=Pt,La=null);break;case"focusout":La=na=Hr=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,li(Gt,h,Bt);break;case"selectionchange":if(Go)break;case"keydown":case"keyup":li(Gt,h,Bt)}var Ae;if(ie)t:{switch(a){case"compositionstart":var Le="onCompositionStart";break t;case"compositionend":Le="onCompositionEnd";break t;case"compositionupdate":Le="onCompositionUpdate";break t}Le=void 0}else Ne?Lt(a,h)&&(Le="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(k&&h.locale!=="ko"&&(Ne||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ne&&(Ae=Cl()):(Br=Bt,Sa="value"in Br?Br.value:Br.textContent,Ne=!0)),sn=Gg(Pt,Le),0<sn.length&&(Le=new to(Le,a,null,h,Bt),Gt.push({event:Le,listeners:sn}),Ae?Le.data=Ae:(Ae=Kt(h),Ae!==null&&(Le.data=Ae)))),(Ae=E?rn(a,h):Ve(a,h))&&(Le=Gg(Pt,"onBeforeInput"),0<Le.length&&(sn=new to("onBeforeInput","beforeinput",null,h,Bt),Gt.push({event:sn,listeners:Le}),sn.data=Ae)),vN(Gt,a,Pt,h,Bt)}Ub(Gt,l)})}function Md(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Gg(a,l){for(var h=l+"Capture",d=[];a!==null;){var v=a,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=pr(a,h),v!=null&&d.unshift(Md(a,v,A)),v=pr(a,l),v!=null&&d.push(Md(a,v,A))),a.tag===3)return d;a=a.return}return[]}function df(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qb(a,l,h,d,v){for(var A=l._reactName,O=[];h!==null&&h!==d;){var X=h,ut=X.alternate,Pt=X.stateNode;if(X=X.tag,ut!==null&&ut===d)break;X!==5&&X!==26&&X!==27||Pt===null||(ut=Pt,v?(Pt=pr(h,A),Pt!=null&&O.unshift(Md(h,Pt,ut))):v||(Pt=pr(h,A),Pt!=null&&O.push(Md(h,Pt,ut)))),h=h.return}O.length!==0&&a.push({event:l,listeners:O})}var AN=/\r\n?/g,SN=/\u0000|\uFFFD/g;function Hb(a){return(typeof a=="string"?a:""+a).replace(AN,`
`).replace(SN,"")}function Gb(a,l){return l=Hb(l),Hb(a)===l}function Wg(){}function Wn(a,l,h,d,v,A){switch(h){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||jr(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&jr(a,""+d);break;case"className":ds(a,"class",d);break;case"tabIndex":ds(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(a,h,d);break;case"style":Nl(a,d,A);break;case"data":if(l!=="object"){ds(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Qs(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(l!=="input"&&Wn(a,l,"name",v.name,v,null),Wn(a,l,"formEncType",v.formEncType,v,null),Wn(a,l,"formMethod",v.formMethod,v,null),Wn(a,l,"formTarget",v.formTarget,v,null)):(Wn(a,l,"encType",v.encType,v,null),Wn(a,l,"method",v.method,v,null),Wn(a,l,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Qs(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=Wg);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=Qs(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":on("beforetoggle",a),on("toggle",a),fs(a,"popover",d);break;case"xlinkActuate":ki(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ki(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ki(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ki(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ki(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ki(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ki(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ki(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ki(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":fs(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Xs.get(h)||h,fs(a,h,d))}}function ly(a,l,h,d,v,A){switch(h){case"style":Nl(a,d,A);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof d=="string"?jr(a,d):(typeof d=="number"||typeof d=="bigint")&&jr(a,""+d);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Wg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),l=h.slice(2,v?h.length-7:void 0),A=a[Rn]||null,A=A!=null?A[h]:null,typeof A=="function"&&a.removeEventListener(l,A,v),typeof d=="function")){typeof A!="function"&&A!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,d,v);break t}h in a?a[h]=d:d===!0?a.setAttribute(h,""):fs(a,h,d)}}}function Pr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",a),on("load",a);var d=!1,v=!1,A;for(A in h)if(h.hasOwnProperty(A)){var O=h[A];if(O!=null)switch(A){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(a,l,A,O,h,null)}}v&&Wn(a,l,"srcSet",h.srcSet,h,null),d&&Wn(a,l,"src",h.src,h,null);return;case"input":on("invalid",a);var X=A=O=v=null,ut=null,Pt=null;for(d in h)if(h.hasOwnProperty(d)){var Bt=h[d];if(Bt!=null)switch(d){case"name":v=Bt;break;case"type":O=Bt;break;case"checked":ut=Bt;break;case"defaultChecked":Pt=Bt;break;case"value":A=Bt;break;case"defaultValue":X=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,l));break;default:Wn(a,l,d,Bt,h,null)}}ba(a,A,X,ut,Pt,O,v,!1),_a(a);return;case"select":on("invalid",a),d=O=A=null;for(v in h)if(h.hasOwnProperty(v)&&(X=h[v],X!=null))switch(v){case"value":A=X;break;case"defaultValue":O=X;break;case"multiple":d=X;default:Wn(a,l,v,X,h,null)}l=A,h=O,a.multiple=!!d,l!=null?ws(a,!!d,l,!1):h!=null&&ws(a,!!d,h,!0);return;case"textarea":on("invalid",a),A=v=d=null;for(O in h)if(h.hasOwnProperty(O)&&(X=h[O],X!=null))switch(O){case"value":d=X;break;case"defaultValue":v=X;break;case"children":A=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:Wn(a,l,O,X,h,null)}Aa(a,d,v,A),_a(a);return;case"option":for(ut in h)if(h.hasOwnProperty(ut)&&(d=h[ut],d!=null))switch(ut){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Wn(a,l,ut,d,h,null)}return;case"dialog":on("beforetoggle",a),on("toggle",a),on("cancel",a),on("close",a);break;case"iframe":case"object":on("load",a);break;case"video":case"audio":for(d=0;d<Dd.length;d++)on(Dd[d],a);break;case"image":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"embed":case"source":case"link":on("error",a),on("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in h)if(h.hasOwnProperty(Pt)&&(d=h[Pt],d!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(a,l,Pt,d,h,null)}return;default:if(Rl(l)){for(Bt in h)h.hasOwnProperty(Bt)&&(d=h[Bt],d!==void 0&&ly(a,l,Bt,d,h,void 0));return}}for(X in h)h.hasOwnProperty(X)&&(d=h[X],d!=null&&Wn(a,l,X,d,h,null))}function TN(a,l,h,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,O=null,X=null,ut=null,Pt=null,Bt=null;for(Mt in h){var Gt=h[Mt];if(h.hasOwnProperty(Mt)&&Gt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":ut=Gt;default:d.hasOwnProperty(Mt)||Wn(a,l,Mt,null,d,Gt)}}for(var Dt in d){var Mt=d[Dt];if(Gt=h[Dt],d.hasOwnProperty(Dt)&&(Mt!=null||Gt!=null))switch(Dt){case"type":A=Mt;break;case"name":v=Mt;break;case"checked":Pt=Mt;break;case"defaultChecked":Bt=Mt;break;case"value":O=Mt;break;case"defaultValue":X=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(137,l));break;default:Mt!==Gt&&Wn(a,l,Dt,Mt,d,Gt)}}rr(a,O,X,ut,Pt,Bt,A,v);return;case"select":Mt=O=X=Dt=null;for(A in h)if(ut=h[A],h.hasOwnProperty(A)&&ut!=null)switch(A){case"value":break;case"multiple":Mt=ut;default:d.hasOwnProperty(A)||Wn(a,l,A,null,d,ut)}for(v in d)if(A=d[v],ut=h[v],d.hasOwnProperty(v)&&(A!=null||ut!=null))switch(v){case"value":Dt=A;break;case"defaultValue":X=A;break;case"multiple":O=A;default:A!==ut&&Wn(a,l,v,A,d,ut)}l=X,h=O,d=Mt,Dt!=null?ws(a,!!h,Dt,!1):!!d!=!!h&&(l!=null?ws(a,!!h,l,!0):ws(a,!!h,h?[]:"",!1));return;case"textarea":Mt=Dt=null;for(X in h)if(v=h[X],h.hasOwnProperty(X)&&v!=null&&!d.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Wn(a,l,X,null,d,v)}for(O in d)if(v=d[O],A=h[O],d.hasOwnProperty(O)&&(v!=null||A!=null))switch(O){case"value":Dt=v;break;case"defaultValue":Mt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==A&&Wn(a,l,O,v,d,A)}wn(a,Dt,Mt);return;case"option":for(var Fe in h)if(Dt=h[Fe],h.hasOwnProperty(Fe)&&Dt!=null&&!d.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:Wn(a,l,Fe,null,d,Dt)}for(ut in d)if(Dt=d[ut],Mt=h[ut],d.hasOwnProperty(ut)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(ut){case"selected":a.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Wn(a,l,ut,Dt,d,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in h)Dt=h[Re],h.hasOwnProperty(Re)&&Dt!=null&&!d.hasOwnProperty(Re)&&Wn(a,l,Re,null,d,Dt);for(Pt in d)if(Dt=d[Pt],Mt=h[Pt],d.hasOwnProperty(Pt)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,l));break;default:Wn(a,l,Pt,Dt,d,Mt)}return;default:if(Rl(l)){for(var $n in h)Dt=h[$n],h.hasOwnProperty($n)&&Dt!==void 0&&!d.hasOwnProperty($n)&&ly(a,l,$n,void 0,d,Dt);for(Bt in d)Dt=d[Bt],Mt=h[Bt],!d.hasOwnProperty(Bt)||Dt===Mt||Dt===void 0&&Mt===void 0||ly(a,l,Bt,Dt,d,Mt);return}}for(var Tt in h)Dt=h[Tt],h.hasOwnProperty(Tt)&&Dt!=null&&!d.hasOwnProperty(Tt)&&Wn(a,l,Tt,null,d,Dt);for(Gt in d)Dt=d[Gt],Mt=h[Gt],!d.hasOwnProperty(Gt)||Dt===Mt||Dt==null&&Mt==null||Wn(a,l,Gt,Dt,d,Mt)}var cy=null,uy=null;function $g(a){return a.nodeType===9?a:a.ownerDocument}function Wb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $b(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function hy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var fy=null;function EN(){var a=window.event;return a&&a.type==="popstate"?a===fy?!1:(fy=a,!0):(fy=null,!1)}var Yb=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(a){return Kb.resolve(null).then(a).catch(NN)}:Yb;function NN(a){setTimeout(function(){throw a})}function Zc(a){return a==="head"}function Xb(a,l){var h=l,d=0,v=0;do{var A=h.nextSibling;if(a.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(0<d&&8>d){h=d;var O=a.ownerDocument;if(h&1&&Od(O.documentElement),h&2&&Od(O.body),h&4)for(h=O.head,Od(h),O=h.firstChild;O;){var X=O.nextSibling,ut=O.nodeName;O[Er]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=X}}if(v===0){a.removeChild(A),Hd(l);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:d=h.charCodeAt(0)-48;else d=0;h=A}while(h);Hd(l)}function dy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":dy(h),Gi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function RN(a,l,h,d){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Er])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=bo(a.nextSibling),a===null)break}return null}function CN(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=bo(a.nextSibling),a===null))return null;return a}function py(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function LN(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var d=function(){l(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function bo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var gy=null;function Qb(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function Jb(a,l,h){switch(l=$g(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Od(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Gi(a)}var Ua=new Map,Zb=new Set;function Yg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ec=ht.d;ht.d={f:PN,r:kN,D:DN,C:MN,L:ON,m:FN,X:VN,S:jN,M:BN};function PN(){var a=ec.f(),l=Vg();return a||l}function kN(a){var l=bi(a);l!==null&&l.tag===5&&l.type==="form"?rh(l):ec.r(a)}var pf=typeof document>"u"?null:document;function tw(a,l,h){var d=pf;if(d&&typeof l=="string"&&l){var v=dn(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),Zb.has(v)||(Zb.add(v),a={rel:a,crossOrigin:h,href:l},d.querySelector(v)===null&&(l=d.createElement("link"),Pr(l,"link",a),bn(l),d.head.appendChild(l)))}}function DN(a){ec.D(a),tw("dns-prefetch",a,null)}function MN(a,l){ec.C(a,l),tw("preconnect",a,l)}function ON(a,l,h){ec.L(a,l,h);var d=pf;if(d&&a&&l){var v='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+dn(h.imageSizes)+'"]')):v+='[href="'+dn(a)+'"]';var A=v;switch(l){case"style":A=gf(a);break;case"script":A=mf(a)}Ua.has(A)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Ua.set(A,a),d.querySelector(v)!==null||l==="style"&&d.querySelector(Fd(A))||l==="script"&&d.querySelector(jd(A))||(l=d.createElement("link"),Pr(l,"link",a),bn(l),d.head.appendChild(l)))}}function FN(a,l){ec.m(a,l);var h=pf;if(h&&a){var d=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+dn(d)+'"][href="'+dn(a)+'"]',A=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=mf(a)}if(!Ua.has(A)&&(a=p({rel:"modulepreload",href:a},l),Ua.set(A,a),h.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(jd(A)))return}d=h.createElement("link"),Pr(d,"link",a),bn(d),h.head.appendChild(d)}}}function jN(a,l,h){ec.S(a,l,h);var d=pf;if(d&&a){var v=qn(d).hoistableStyles,A=gf(a);l=l||"default";var O=v.get(A);if(!O){var X={loading:0,preload:null};if(O=d.querySelector(Fd(A)))X.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Ua.get(A))&&my(a,h);var ut=O=d.createElement("link");bn(ut),Pr(ut,"link",a),ut._p=new Promise(function(Pt,Bt){ut.onload=Pt,ut.onerror=Bt}),ut.addEventListener("load",function(){X.loading|=1}),ut.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Kg(O,l,d)}O={type:"stylesheet",instance:O,count:1,state:X},v.set(A,O)}}}function VN(a,l){ec.X(a,l);var h=pf;if(h&&a){var d=qn(h).hoistableScripts,v=mf(a),A=d.get(v);A||(A=h.querySelector(jd(v)),A||(a=p({src:a,async:!0},l),(l=Ua.get(v))&&yy(a,l),A=h.createElement("script"),bn(A),Pr(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(v,A))}}function BN(a,l){ec.M(a,l);var h=pf;if(h&&a){var d=qn(h).hoistableScripts,v=mf(a),A=d.get(v);A||(A=h.querySelector(jd(v)),A||(a=p({src:a,async:!0,type:"module"},l),(l=Ua.get(v))&&yy(a,l),A=h.createElement("script"),bn(A),Pr(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(v,A))}}function ew(a,l,h,d){var v=(v=ct.current)?Yg(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=gf(h.href),h=qn(v).hoistableStyles,d=h.get(l),d||(d={type:"style",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=gf(h.href);var A=qn(v).hoistableStyles,O=A.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,O),(A=v.querySelector(Fd(a)))&&!A._p&&(O.instance=A,O.state.loading=5),Ua.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ua.set(a,h),A||UN(v,a,h,O.state))),l&&d===null)throw Error(i(528,""));return O}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=mf(h),h=qn(v).hoistableScripts,d=h.get(l),d||(d={type:"script",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function gf(a){return'href="'+dn(a)+'"'}function Fd(a){return'link[rel="stylesheet"]['+a+"]"}function nw(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function UN(a,l,h,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Pr(l,"link",h),bn(l),a.head.appendChild(l))}function mf(a){return'[src="'+dn(a)+'"]'}function jd(a){return"script[async]"+a}function iw(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+dn(h.href)+'"]');if(d)return l.instance=d,bn(d),d;var v=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),bn(d),Pr(d,"style",v),Kg(d,h.precedence,a),l.instance=d;case"stylesheet":v=gf(h.href);var A=a.querySelector(Fd(v));if(A)return l.state.loading|=4,l.instance=A,bn(A),A;d=nw(h),(v=Ua.get(v))&&my(d,v),A=(a.ownerDocument||a).createElement("link"),bn(A);var O=A;return O._p=new Promise(function(X,ut){O.onload=X,O.onerror=ut}),Pr(A,"link",d),l.state.loading|=4,Kg(A,h.precedence,a),l.instance=A;case"script":return A=mf(h.src),(v=a.querySelector(jd(A)))?(l.instance=v,bn(v),v):(d=h,(v=Ua.get(A))&&(d=p({},h),yy(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),bn(v),Pr(v,"link",d),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Kg(d,h.precedence,a));return l.instance}function Kg(a,l,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,A=v,O=0;O<d.length;O++){var X=d[O];if(X.dataset.precedence===l)A=X;else if(A!==v)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function my(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function yy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Xg=null;function rw(a,l,h){if(Xg===null){var d=new Map,v=Xg=new Map;v.set(h,d)}else v=Xg,d=v.get(h),d||(d=new Map,v.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var A=h[v];if(!(A[Er]||A[Nn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(l)||"";O=a+O;var X=d.get(O);X?X.push(A):d.set(O,[A])}}return d}function sw(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function zN(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function aw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Vd=null;function qN(){}function HN(a,l,h){if(Vd===null)throw Error(i(475));var d=Vd;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=gf(h.href),A=a.querySelector(Fd(v));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Qg.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=A,bn(A);return}A=a.ownerDocument||a,h=nw(h),(v=Ua.get(v))&&my(h,v),A=A.createElement("link"),bn(A);var O=A;O._p=new Promise(function(X,ut){O.onload=X,O.onerror=ut}),Pr(A,"link",h),l.instance=A}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Qg.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function GN(){if(Vd===null)throw Error(i(475));var a=Vd;return a.stylesheets&&a.count===0&&vy(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&vy(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Qg(){if(this.count--,this.count===0){if(this.stylesheets)vy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jg=null;function vy(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jg=new Map,l.forEach(WN,a),Jg=null,Qg.call(a))}function WN(a,l){if(!(l.state.loading&4)){var h=Jg.get(a);if(h)var d=h.get(null);else{h=new Map,Jg.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var O=v[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),d=O)}d&&h.set(null,d)}v=l.instance,O=v.getAttribute("data-precedence"),A=h.get(O)||d,A===d&&h.set(null,v),h.set(O,v),this.count++,d=Qg.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),A?A.parentNode.insertBefore(v,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var Bd={$$typeof:G,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function $N(a,l,h,d,v,A,O,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function ow(a,l,h,d,v,A,O,X,ut,Pt,Bt,Gt){return a=new $N(a,l,h,O,X,ut,Pt,Gt),l=1,A===!0&&(l|=24),A=vr(3,null,null,l),a.current=A,A.stateNode=a,l=cd(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:d,isDehydrated:h,cache:l},mt(A),a}function lw(a){return a?(a=Yi,a):Yi}function cw(a,l,h,d,v,A){v=lw(v),d.context===null?d.context=v:d.pendingContext=v,d=Vt(l),d.payload={element:h},A=A===void 0?null:A,A!==null&&(d.callback=A),h=Ht(a,d,l),h!==null&&(ha(h,a,l),Ut(h,a,l))}function uw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function _y(a,l){uw(a,l),(a=a.alternate)&&uw(a,l)}function hw(a){if(a.tag===13){var l=ao(a,67108864);l!==null&&ha(l,a,67108864),_y(a,67108864)}}var Zg=!0;function YN(a,l,h,d){var v=et.T;et.T=null;var A=ht.p;try{ht.p=2,by(a,l,h,d)}finally{ht.p=A,et.T=v}}function KN(a,l,h,d){var v=et.T;et.T=null;var A=ht.p;try{ht.p=8,by(a,l,h,d)}finally{ht.p=A,et.T=v}}function by(a,l,h,d){if(Zg){var v=wy(d);if(v===null)oy(a,l,d,tm,h),dw(a,d);else if(QN(v,a,l,h,d))d.stopPropagation();else if(dw(a,d),l&4&&-1<XN.indexOf(a)){for(;v!==null;){var A=bi(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=Je(A.pendingLanes);if(O!==0){var X=A;for(X.pendingLanes|=2,X.entangledLanes|=2;O;){var ut=1<<31-fe(O);X.entanglements[1]|=ut,O&=~ut}cl(A),(On&6)===0&&(Fg=Se()+500,kd(0))}}break;case 13:X=ao(A,2),X!==null&&ha(X,A,2),Vg(),_y(A,2)}if(A=wy(d),A===null&&oy(a,l,d,tm,h),A===v)break;v=A}v!==null&&d.stopPropagation()}else oy(a,l,d,null,h)}}function wy(a){return a=Dn(a),Ay(a)}var tm=null;function Ay(a){if(tm=null,a=Li(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return tm=a,null}function fw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case Qt:return 2;case Zt:return 8;case se:case ae:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Sy=!1,tu=null,eu=null,nu=null,Ud=new Map,zd=new Map,iu=[],XN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dw(a,l){switch(a){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":Ud.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(l.pointerId)}}function qd(a,l,h,d,v,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:h,eventSystemFlags:d,nativeEvent:A,targetContainers:[v]},l!==null&&(l=bi(l),l!==null&&hw(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function QN(a,l,h,d,v){switch(l){case"focusin":return tu=qd(tu,a,l,h,d,v),!0;case"dragenter":return eu=qd(eu,a,l,h,d,v),!0;case"mouseover":return nu=qd(nu,a,l,h,d,v),!0;case"pointerover":var A=v.pointerId;return Ud.set(A,qd(Ud.get(A)||null,a,l,h,d,v)),!0;case"gotpointercapture":return A=v.pointerId,zd.set(A,qd(zd.get(A)||null,a,l,h,d,v)),!0}return!1}function pw(a){var l=Li(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,hs(a.priority,function(){if(h.tag===13){var d=ua();d=Or(d);var v=ao(h,d);v!==null&&ha(v,h,d),_y(h,d)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function em(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=wy(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);As=d,h.target.dispatchEvent(d),As=null}else return l=bi(h),l!==null&&hw(l),a.blockedOn=h,!1;l.shift()}return!0}function gw(a,l,h){em(a)&&h.delete(l)}function JN(){Sy=!1,tu!==null&&em(tu)&&(tu=null),eu!==null&&em(eu)&&(eu=null),nu!==null&&em(nu)&&(nu=null),Ud.forEach(gw),zd.forEach(gw)}function nm(a,l){a.blockedOn===l&&(a.blockedOn=null,Sy||(Sy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JN)))}var im=null;function mw(a){im!==a&&(im=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){im===a&&(im=null);for(var l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=a[l+2];if(typeof d!="function"){if(Ay(d||h)===null)continue;break}var A=bi(h);A!==null&&(a.splice(l,3),l-=3,ja(A,{pending:!0,data:v,method:h.method,action:d},d,v))}}))}function Hd(a){function l(ut){return nm(ut,a)}tu!==null&&nm(tu,a),eu!==null&&nm(eu,a),nu!==null&&nm(nu,a),Ud.forEach(l),zd.forEach(l);for(var h=0;h<iu.length;h++){var d=iu[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<iu.length&&(h=iu[0],h.blockedOn===null);)pw(h),h.blockedOn===null&&iu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var v=h[d],A=h[d+1],O=v[Rn]||null;if(typeof A=="function")O||mw(h);else if(O){var X=null;if(A&&A.hasAttribute("formAction")){if(v=A,O=A[Rn]||null)X=O.formAction;else if(Ay(v)!==null)continue}else X=O.action;typeof X=="function"?h[d+1]=X:(h.splice(d,3),d-=3),mw(h)}}}function Ty(a){this._internalRoot=a}rm.prototype.render=Ty.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,d=ua();cw(h,d,a,l,null,null)},rm.prototype.unmount=Ty.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;cw(a.current,2,null,a,null,null),Vg(),l[Yn]=null}};function rm(a){this._internalRoot=a}rm.prototype.unstable_scheduleHydration=function(a){if(a){var l=nr();a={blockedOn:null,target:a,priority:l};for(var h=0;h<iu.length&&l!==0&&l<iu[h].priority;h++);iu.splice(h,0,a),h===0&&pw(a)}};var yw=t.version;if(yw!=="19.1.0")throw Error(i(527,yw,"19.1.0"));ht.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var ZN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{_e=sm.inject(ZN),ge=sm}catch{}}return Wd.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,d="",v=k5,A=D5,O=M5,X=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks)),l=ow(a,1,!1,null,null,h,d,v,A,O,X,null),a[Yn]=l.current,ay(a),new Ty(l)},Wd.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var d=!1,v="",A=k5,O=D5,X=M5,ut=null,Pt=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(X=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ut=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pt=h.formState)),l=ow(a,1,!0,l,h??null,d,v,A,O,X,ut,Pt),l.context=lw(null),h=l.current,d=ua(),d=Or(d),v=Vt(d),v.callback=null,Ht(h,v,d),h=d,l.current.lanes=h,er(l,h),cl(l),a[Yn]=l.current,ay(a),new rm(l)},Wd.version="19.1.0",Wd}var Iw;function fR(){if(Iw)return Iy.exports;Iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Iy.exports=hR(),Iy.exports}var dR=fR();const pR=()=>{};var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},gR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],c=n[e++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,c=o?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let w=(c&15)<<2|f>>6,_=f&63;u||(_=64,o||(w=64)),i.push(e[p],e[y],e[w],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(PE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):gR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||f==null||y==null)throw new mR;const w=s<<2|c>>4;if(i.push(w),f!==64){const _=c<<4&240|f>>2;if(i.push(_),y!==64){const x=f<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(n){const t=PE(n);return kE.encodeByteArray(t,!0)},n0=function(n){return yR(n).replace(/\./g,"")},DE=function(n){try{return kE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>vR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof Nw>"u")return;const n=Nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&DE(n[1]);return t&&JSON.parse(t)},F0=()=>{try{return pR()||_R()||bR()||wR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ME=n=>{var t,e;return(e=(t=F0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},OE=n=>{const t=ME(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},FE=()=>{var n;return(n=F0())===null||n===void 0?void 0:n.config},jE=n=>{var t;return(t=F0())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){return n.endsWith(".cloudworkstations.dev")}async function Ov(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[n0(JSON.stringify(e)),n0(JSON.stringify(o)),""].join(".")}const hp={};function SR(){const n={prod:[],emulator:[]};for(const t of Object.keys(hp))hp[t]?n.emulator.push(t):n.prod.push(t);return n}function TR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Rw=!1;function Fv(n,t){if(typeof window>"u"||typeof document>"u"||!ju(window.location.host)||hp[n]===t||hp[n]||Rw)return;hp[n]=t;function e(w){return`__firebase__banner__${w}`}const i="__firebase__banner",s=SR().prod.length>0;function o(){const w=document.getElementById(i);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function u(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Rw=!0,o()},w}function p(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=TR(i),_=e("text"),x=document.getElementById(_)||document.createElement("span"),I=e("learnmore"),R=document.getElementById(I)||document.createElement("a"),N=e("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;c(G),p(R,I);const it=f();u(M,N),G.append(M,x,R,it),document.body.appendChild(G)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function xR(){var n;const t=(n=F0())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RR(){const n=cs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jv(){try{return typeof indexedDB=="object"}catch{return!1}}function Vv(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function UE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class $a extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=LR,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?PR(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new $a(r,c,i)}}function PR(n,t){return n.replace(kR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const kR=/\{\$([^}]+)}/g;function DR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Eu(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(Cw(s)&&Cw(o)){if(!Eu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ep(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function np(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function MR(n,t){const e=new OR(n,t);return e.subscribe.bind(e)}class OR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");FR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Ly),r.error===void 0&&(r.error=Ly),r.complete===void 0&&(r.complete=Ly);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ly(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e3,VR=2,BR=4*60*60*1e3,UR=.5;function Lw(n,t=jR,e=VR){const i=t*Math.pow(e,n),r=Math.round(UR*i*(Math.random()-.5)*2);return Math.min(BR,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(n){return n&&n._delegate?n._delegate:n}class va{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new AR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HR(t))try{this.getOrInitializeService({instanceIdentifier:dh})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=dh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dh){return this.instances.has(t)}getOptions(t=dh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=dh){return this.component?this.component.multipleInstances?t:dh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(n){return n===dh?void 0:n}function HR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new zR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ln||(ln={}));const WR={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},$R=ln.INFO,YR={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},KR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=YR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yp{constructor(t){this.name=t,this._logLevel=$R,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const XR=(n,t)=>t.some(e=>n instanceof e);let Pw,kw;function QR(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,N2=new WeakMap,qE=new WeakMap,Py=new WeakMap,Bv=new WeakMap;function ZR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(_u(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&zE.set(e,n)}).catch(()=>{}),Bv.set(t,n),t}function tC(n){if(N2.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});N2.set(n,t)}let R2={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return N2.get(n);if(t==="objectStoreNames")return n.objectStoreNames||qE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return _u(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function eC(n){R2=n(R2)}function nC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(ky(this),t,...e);return qE.set(i,t.sort?t.sort():[t]),_u(i)}:JR().includes(n)?function(...t){return n.apply(ky(this),t),_u(zE.get(this))}:function(...t){return _u(n.apply(ky(this),t))}}function iC(n){return typeof n=="function"?nC(n):(n instanceof IDBTransaction&&tC(n),XR(n,QR())?new Proxy(n,R2):n)}function _u(n){if(n instanceof IDBRequest)return ZR(n);if(Py.has(n))return Py.get(n);const t=iC(n);return t!==n&&(Py.set(n,t),Bv.set(t,n)),t}const ky=n=>Bv.get(n);function HE(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),c=_u(o);return i&&o.addEventListener("upgradeneeded",u=>{i(_u(o.result),u.oldVersion,u.newVersion,_u(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const rC=["get","getKey","getAll","getAllKeys","count"],sC=["put","add","delete","clear"],Dy=new Map;function Dw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dy.get(t))return Dy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=sC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rC.includes(e)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[e](...c),r&&u.done]))[0]};return Dy.set(t,s),s}eC(n=>({...n,get:(t,e,i)=>Dw(t,e)||n.get(t,e,i),has:(t,e)=>!!Dw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(oC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function oC(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const C2="@firebase/app",Mw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Yp("@firebase/app"),lC="@firebase/app-compat",cC="@firebase/analytics-compat",uC="@firebase/analytics",hC="@firebase/app-check-compat",fC="@firebase/app-check",dC="@firebase/auth",pC="@firebase/auth-compat",gC="@firebase/database",mC="@firebase/data-connect",yC="@firebase/database-compat",vC="@firebase/functions",_C="@firebase/functions-compat",bC="@firebase/installations",wC="@firebase/installations-compat",AC="@firebase/messaging",SC="@firebase/messaging-compat",TC="@firebase/performance",EC="@firebase/performance-compat",xC="@firebase/remote-config",IC="@firebase/remote-config-compat",NC="@firebase/storage",RC="@firebase/storage-compat",CC="@firebase/firestore",LC="@firebase/ai",PC="@firebase/firestore-compat",kC="firebase",DC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="[DEFAULT]",MC={[C2]:"fire-core",[lC]:"fire-core-compat",[uC]:"fire-analytics",[cC]:"fire-analytics-compat",[fC]:"fire-app-check",[hC]:"fire-app-check-compat",[dC]:"fire-auth",[pC]:"fire-auth-compat",[gC]:"fire-rtdb",[mC]:"fire-data-connect",[yC]:"fire-rtdb-compat",[vC]:"fire-fn",[_C]:"fire-fn-compat",[bC]:"fire-iid",[wC]:"fire-iid-compat",[AC]:"fire-fcm",[SC]:"fire-fcm-compat",[TC]:"fire-perf",[EC]:"fire-perf-compat",[xC]:"fire-rc",[IC]:"fire-rc-compat",[NC]:"fire-gcs",[RC]:"fire-gcs-compat",[CC]:"fire-fst",[PC]:"fire-fst-compat",[LC]:"fire-vertex","fire-js":"fire-js",[kC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map,OC=new Map,P2=new Map;function Ow(n,t){try{n.container.addComponent(t)}catch(e){dc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ha(n){const t=n.name;if(P2.has(t))return dc.debug(`There were multiple attempts to register component ${t}.`),!1;P2.set(t,n);for(const e of i0.values())Ow(e,n);for(const e of OC.values())Ow(e,n);return!0}function _c(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _s(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bu=new Vu("app","Firebase",FC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=DC;function GE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:L2,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw bu.create("bad-app-name",{appName:String(r)});if(e||(e=FE()),!e)throw bu.create("no-options");const s=i0.get(r);if(s){if(Eu(e,s.options)&&Eu(i,s.config))return s;throw bu.create("duplicate-app",{appName:r})}const o=new GR(r);for(const u of P2.values())o.addComponent(u);const c=new jC(e,i,o);return i0.set(r,c),c}function Kp(n=L2){const t=i0.get(n);if(!t&&n===L2&&FE())return GE();if(!t)throw bu.create("no-app",{appName:n});return t}function ls(n,t,e){var i;let r=(i=MC[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dc.warn(c.join(" "));return}Ha(new va(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebase-heartbeat-database",BC=1,Np="firebase-heartbeat-store";let My=null;function WE(){return My||(My=HE(VC,BC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Np)}catch(e){console.warn(e)}}}}).catch(n=>{throw bu.create("idb-open",{originalErrorMessage:n.message})})),My}async function UC(n){try{const e=(await WE()).transaction(Np),i=await e.objectStore(Np).get($E(n));return await e.done,i}catch(t){if(t instanceof $a)dc.warn(t.message);else{const e=bu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dc.warn(e.message)}}}async function Fw(n,t){try{const i=(await WE()).transaction(Np,"readwrite");await i.objectStore(Np).put(t,$E(n)),await i.done}catch(e){if(e instanceof $a)dc.warn(e.message);else{const i=bu.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});dc.warn(i.message)}}}function $E(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1024,qC=30;class HC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jw();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>qC){const o=$C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){dc.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jw(),{heartbeatsToSend:i,unsentEntries:r}=GC(this._heartbeatsCache.heartbeats),s=n0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return dc.warn(e),""}}}function jw(){return new Date().toISOString().substring(0,10)}function GC(n,t=zC){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Vw(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Vw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class WC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jv()?Vv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await UC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vw(n){return n0(JSON.stringify({version:2,heartbeats:n})).length}function $C(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){Ha(new va("platform-logger",t=>new aC(t),"PRIVATE")),Ha(new va("heartbeat",t=>new HC(t),"PRIVATE")),ls(C2,Mw,n),ls(C2,Mw,"esm2017"),ls("fire-js","")}YC("");var KC="firebase",XC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(KC,XC,"app");function Uv(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QC=YE,KE=new Vu("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Yp("@firebase/auth");function JC(n,...t){r0.logLevel<=ln.WARN&&r0.warn(`Auth (${Oh}): ${n}`,...t)}function Dm(n,...t){r0.logLevel<=ln.ERROR&&r0.error(`Auth (${Oh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n,...t){throw qv(n,...t)}function Io(n,...t){return qv(n,...t)}function zv(n,t,e){const i=Object.assign(Object.assign({},QC()),{[t]:e});return new Vu("auth","Firebase",i).create(t,{appName:n.name})}function yl(n){return zv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZC(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ga(n,"argument-error"),zv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return KE.create(n,...t)}function Me(n,t,...e){if(!n)throw qv(t,...e)}function lc(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Dm(t),new Error(t)}function pc(n,t){n||lc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tL(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tL()||BE()||"connection"in navigator)?navigator.onLine:!0}function nL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,e){this.shortDelay=t,this.longDelay=e,pc(e>t,"Short delay should be less than long delay!"),this.isMobile=ER()||NR()}get(){return eL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,t){pc(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sL=new Xp(3e4,6e4);function bc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function wc(n,t,e,i,r={}){return QE(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const c=$p(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:u},s);return IR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&ju(n.emulatorConfig.host)&&(f.credentials="include"),XE.fetch()(await JE(n,n.config.apiHost,e,c),f)})}async function QE(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iL),t);try{const r=new oL(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw am(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw am(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw am(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw am(n,"user-disabled",o);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw zv(n,p,f);Ga(n,p)}}catch(r){if(r instanceof $a)throw r;Ga(n,"network-request-failed",{message:String(r)})}}async function Qp(n,t,e,i,r={}){const s=await wc(n,t,e,i,r);return"mfaPendingCredential"in s&&Ga(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function JE(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?Hv(n.config,r):`${n.config.apiScheme}://${r}`;return rL.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function aL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Io(this.auth,"network-request-failed")),sL.get())})}}function am(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Io(n,t,i);return r.customData._tokenResponse=e,r}function Uw(n){return n!==void 0&&n.enterprise!==void 0}class lL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return aL(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cL(n,t){return wc(n,"GET","/v2/recaptchaConfig",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(n,t){return wc(n,"POST","/v1/accounts:delete",t)}async function s0(n,t){return wc(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hL(n,t=!1){const e=Qn(n),i=await e.getIdToken(t),r=Gv(i);Me(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fp(Oy(r.auth_time)),issuedAtTime:fp(Oy(r.iat)),expirationTime:fp(Oy(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Oy(n){return Number(n)*1e3}function Gv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Dm("JWT malformed, contained fewer than 3 sections"),null;try{const r=DE(e);return r?JSON.parse(r):(Dm("Failed to decode base64 JWT payload"),null)}catch(r){return Dm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function zw(n){const t=Gv(n);return Me(t,"internal-error"),Me(typeof t.exp<"u","internal-error"),Me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof $a&&fL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function fL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=fp(this.lastLoginAt),this.creationTime=fp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Rp(n,s0(e,{idToken:i}));Me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?ZE(s.providerUserInfo):[],c=gL(n.providerData,o),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new D2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function pL(n){const t=Qn(n);await a0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gL(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function ZE(n){return n.map(t=>{var{providerId:e}=t,i=Uv(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,t){const e=await QE(n,{},async()=>{const i=$p({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await JE(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:i};return n.emulatorConfig&&ju(n.emulatorConfig.host)&&(u.credentials="include"),XE.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function yL(n,t){return wc(n,"POST","/v2/accounts:revokeToken",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Me(t.idToken,"internal-error"),Me(typeof t.idToken<"u","internal-error"),Me(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Me(t.length!==0,"internal-error");const e=zw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await mL(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Cf;return i&&(Me(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Me(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Me(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cf,this.toJSON())}_performRefresh(){return lc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n,t){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xo{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=Uv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Rp(this,this.stsTokenManager.getToken(this.auth,t));return Me(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return hL(this,t)}reload(){return pL(this)}_assign(t){this!==t&&(Me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await a0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(yl(this.auth));const t=await this.getIdToken();return await Rp(this,uL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,c,u,f,p;const y=(i=e.displayName)!==null&&i!==void 0?i:void 0,w=(r=e.email)!==null&&r!==void 0?r:void 0,_=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=e.photoURL)!==null&&o!==void 0?o:void 0,I=(c=e.tenantId)!==null&&c!==void 0?c:void 0,R=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,N=(f=e.createdAt)!==null&&f!==void 0?f:void 0,M=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:it,isAnonymous:tt,providerData:pt,stsTokenManager:z}=e;Me(G&&z,t,"internal-error");const P=Cf.fromJSON(this.name,z);Me(typeof G=="string",t,"internal-error"),su(y,t.name),su(w,t.name),Me(typeof it=="boolean",t,"internal-error"),Me(typeof tt=="boolean",t,"internal-error"),su(_,t.name),su(x,t.name),su(I,t.name),su(R,t.name),su(N,t.name),su(M,t.name);const U=new xo({uid:G,auth:t,email:w,emailVerified:it,displayName:y,isAnonymous:tt,photoURL:x,phoneNumber:_,tenantId:I,stsTokenManager:P,createdAt:N,lastLoginAt:M});return pt&&Array.isArray(pt)&&(U.providerData=pt.map(K=>Object.assign({},K))),R&&(U._redirectEventId=R),U}static async _fromIdTokenResponse(t,e,i=!1){const r=new Cf;r.updateFromServerResponse(e);const s=new xo({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await a0(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Me(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?ZE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new Cf;c.updateFromIdToken(i);const u=new xo({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new D2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function cc(n){pc(n instanceof Function,"Expected a class definition");let t=qw.get(n);return t?(pc(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,qw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tx.type="NONE";const Hw=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,t,e){return`firebase:${n}:${t}:${e}`}class Lf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Mm(this.userKey,r.apiKey,s),this.fullPersistenceKey=Mm("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await s0(this.auth,{idToken:t}).catch(()=>{});return e?xo._fromGetAccountInfoResponse(this.auth,e,t):null}return xo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Lf(cc(Hw),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||cc(Hw);const o=Mm(i,t.config.apiKey,t.name);let c=null;for(const f of e)try{const p=await f._get(o);if(p){let y;if(typeof p=="string"){const w=await s0(t,{idToken:p}).catch(()=>{});if(!w)break;y=await xo._fromGetAccountInfoResponse(t,w,p)}else y=xo._fromJSON(t,p);f!==s&&(c=y),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Lf(s,t,i):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Lf(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ax(t))return"Blackberry";if(ox(t))return"Webos";if(nx(t))return"Safari";if((t.includes("chrome/")||ix(t))&&!t.includes("edge/"))return"Chrome";if(sx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ex(n=cs()){return/firefox\//i.test(n)}function nx(n=cs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ix(n=cs()){return/crios\//i.test(n)}function rx(n=cs()){return/iemobile/i.test(n)}function sx(n=cs()){return/android/i.test(n)}function ax(n=cs()){return/blackberry/i.test(n)}function ox(n=cs()){return/webos/i.test(n)}function Wv(n=cs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vL(n=cs()){var t;return Wv(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _L(){return RR()&&document.documentMode===10}function lx(n=cs()){return Wv(n)||sx(n)||ox(n)||ax(n)||/windows phone/i.test(n)||rx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n,t=[]){let e;switch(n){case"Browser":e=Gw(cs());break;case"Worker":e=`${Gw(cs())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Oh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,t={}){return wc(n,"GET","/v2/passwordPolicy",bc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=6;class SL{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:AL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cc(e)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Lf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await s0(this,{idToken:t}),i=await xo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(_s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await a0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_s(this.app))return Promise.reject(yl(this));const e=t?Qn(t):null;return e&&Me(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _s(this.app)?Promise.reject(yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wL(this),e=new SL(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await yL(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cc(t)||this._popupRedirectResolver;Me(e,this,"argument-error"),this.redirectPersistenceManager=await Lf.create(this,[cc(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&JC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ac(n){return Qn(n)}class Ww{constructor(t){this.auth=t,this.observer=null,this.addObserver=MR(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EL(n){j0=n}function ux(n){return j0.loadJS(n)}function xL(){return j0.recaptchaEnterpriseScript}function IL(){return j0.gapiScript}function NL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RL{constructor(){this.enterprise=new CL}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class CL{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const LL="recaptcha-enterprise",hx="NO_RECAPTCHA";class PL{constructor(t){this.type=LL,this.auth=Ac(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{cL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new lL(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function r(s,o,c){const u=window.grecaptcha;Uw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(hx)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(c=>{if(!e&&Uw(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xL();u.length!==0&&(u+=c),ux(u).then(()=>{r(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function $w(n,t,e,i=!1,r=!1){const s=new PL(n);let o;if(r)o=hx;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const c=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function M2(n,t,e,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $w(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $w(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(n,t){const e=_c(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(Eu(s,t??{}))return r;Ga(r,"already-initialized")}return e.initialize({options:t})}function DL(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(cc);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function ML(n,t,e){const i=Ac(n);Me(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=fx(t),{host:o,port:c}=OL(t),u=c===null?"":`:${c}`,f={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Eu(f,i.config.emulator)&&Eu(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ju(o)?(Ov(`${s}//${o}${u}`),Fv("Auth",!0)):FL()}function fx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function OL(n){const t=fx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Yw(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Yw(o)}}}function Yw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function FL(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return lc("not implemented")}_getIdTokenResponse(t){return lc("not implemented")}_linkToIdToken(t,e){return lc("not implemented")}_getReauthenticationResolver(t){return lc("not implemented")}}async function jL(n,t){return wc(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,t){return Qp(n,"POST","/v1/accounts:signInWithPassword",bc(n,t))}async function BL(n,t){return wc(n,"POST","/v1/accounts:sendOobCode",bc(n,t))}async function UL(n,t){return BL(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(n,t){return Qp(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}async function qL(n,t){return Qp(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends $v{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Cp(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Cp(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M2(t,e,"signInWithPassword",VL);case"emailLink":return zL(t,{email:this._email,oobCode:this._password});default:Ga(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M2(t,i,"signUpPassword",jL);case"emailLink":return qL(t,{idToken:e,email:this._email,oobCode:this._password});default:Ga(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(n,t){return Qp(n,"POST","/v1/accounts:signInWithIdp",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="http://localhost";class Nh extends $v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Nh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ga("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=Uv(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Nh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Pf(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Pf(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Pf(t,e)}buildRequest(){const t={requestUri:HL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$p(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WL(n){const t=ep(np(n)).link,e=t?ep(np(t)).deep_link_id:null,i=ep(np(n)).deep_link_id;return(i?ep(np(i)).link:null)||i||e||t||n}class Yv{constructor(t){var e,i,r,s,o,c;const u=ep(np(t)),f=(e=u.apiKey)!==null&&e!==void 0?e:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,y=GL((r=u.mode)!==null&&r!==void 0?r:null);Me(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const e=WL(t);try{return new Yv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this.providerId=Zf.PROVIDER_ID}static credential(t,e){return Cp._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Yv.parseLink(e);return Me(i,"argument-error"),Cp._fromEmailAndCode(t,i.code,i.tenantId)}}Zf.PROVIDER_ID="password";Zf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Kv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Jp{constructor(){super("facebook.com")}static credential(t){return Nh._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cu.credentialFromTaggedObject(t)}static credentialFromError(t){return cu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cu.credential(t.oauthAccessToken)}catch{return null}}}cu.FACEBOOK_SIGN_IN_METHOD="facebook.com";cu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Jp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Nh._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return oc.credentialFromTaggedObject(t)}static credentialFromError(t){return oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return oc.credential(e,i)}catch{return null}}}oc.GOOGLE_SIGN_IN_METHOD="google.com";oc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Jp{constructor(){super("github.com")}static credential(t){return Nh._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return uu.credentialFromTaggedObject(t)}static credentialFromError(t){return uu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return uu.credential(t.oauthAccessToken)}catch{return null}}}uu.GITHUB_SIGN_IN_METHOD="github.com";uu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Jp{constructor(){super("twitter.com")}static credential(t,e){return Nh._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return hu.credentialFromTaggedObject(t)}static credentialFromError(t){return hu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return hu.credential(e,i)}catch{return null}}}hu.TWITTER_SIGN_IN_METHOD="twitter.com";hu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,t){return Qp(n,"POST","/v1/accounts:signUp",bc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await xo._fromIdTokenResponse(t,i,r),o=Kw(i);return new gc({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Kw(i);return new gc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Kw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(n){var t;if(_s(n.app))return Promise.reject(yl(n));const e=Ac(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new gc({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await dx(e,{returnSecureToken:!0}),r=await gc._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends $a{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,o0.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new o0(t,e,i,r)}}function px(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?o0._fromErrorAndOperation(n,s,t,i):s})}async function YL(n,t,e=!1){const i=await Rp(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return gc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,t,e=!1){const{auth:i}=n;if(_s(i.app))return Promise.reject(yl(i));const r="reauthenticate";try{const s=await Rp(n,px(i,r,t,n),e);Me(s.idToken,i,"internal-error");const o=Gv(s.idToken);Me(o,i,"internal-error");const{sub:c}=o;return Me(n.uid===c,i,"user-mismatch"),gc._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ga(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,t,e=!1){if(_s(n.app))return Promise.reject(yl(n));const i="signIn",r=await px(n,i,t),s=await gc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}async function XL(n,t){return gx(Ac(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(n){const t=Ac(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function QL(n,t,e){if(_s(n.app))return Promise.reject(yl(n));const i=Ac(n),o=await M2(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dx).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mx(n),u}),c=await gc._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(c.user),c}function JL(n,t,e){return _s(n.app)?Promise.reject(yl(n)):XL(Qn(n),Zf.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mx(n),i})}async function yx(n,t){const e=Qn(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await UL(e.auth,r);s!==n.email&&await n.reload()}function ZL(n,t,e,i){return Qn(n).onIdTokenChanged(t,e,i)}function tP(n,t,e){return Qn(n).beforeAuthStateChanged(t,e)}function eP(n,t,e,i){return Qn(n).onAuthStateChanged(t,e,i)}function nP(n){return Qn(n).signOut()}const l0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(l0,"1"),this.storage.removeItem(l0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=1e3,rP=10;class _x extends vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);_L()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,rP):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}_x.type="LOCAL";const sP=_x;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}bx.type="SESSION";const wx=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new V0(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(o).map(async f=>f(e.origin,s)),u=await aP(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const f=Xv("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(){return window}function lP(n){vl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof vl().WorkerGlobalScope<"u"&&typeof vl().importScripts=="function"}async function cP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hP(){return Ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebaseLocalStorageDb",fP=1,c0="firebaseLocalStorage",Tx="fbase_key";class Zp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function B0(n,t){return n.transaction([c0],t?"readwrite":"readonly").objectStore(c0)}function dP(){const n=indexedDB.deleteDatabase(Sx);return new Zp(n).toPromise()}function O2(){const n=indexedDB.open(Sx,fP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(c0,{keyPath:Tx})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(c0)?t(i):(i.close(),await dP(),t(await O2()))})})}async function Xw(n,t,e){const i=B0(n,!0).put({[Tx]:t,value:e});return new Zp(i).toPromise()}async function pP(n,t){const e=B0(n,!1).get(t),i=await new Zp(e).toPromise();return i===void 0?null:i.value}function Qw(n,t){const e=B0(n,!0).delete(t);return new Zp(e).toPromise()}const gP=800,mP=3;class Ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O2(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>mP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V0._getInstance(hP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await cP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await O2();return await Xw(t,l0,"1"),await Qw(t,l0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>pP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Qw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=B0(r,!1).getAll();return new Zp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ex.type="LOCAL";const yP=Ex;new Xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n,t){return t?cc(t):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends $v{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Pf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Pf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function vP(n){return gx(n.auth,new Qv(n),n.bypassAuthState)}function _P(n){const{auth:t,user:e}=n;return Me(e,t,"internal-error"),KL(e,new Qv(n),n.bypassAuthState)}async function bP(n){const{auth:t,user:e}=n;return Me(e,t,"internal-error"),YL(e,new Qv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return _P;default:Ga(this.auth,"internal-error")}}resolve(t){pc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Xp(2e3,1e4);async function AP(n,t,e){if(_s(n.app))return Promise.reject(Io(n,"operation-not-supported-in-this-environment"));const i=Ac(n);ZC(n,t,Kv);const r=xx(i,e);return new vh(i,"signInViaPopup",t,r).executeNotNull()}class vh extends Ix{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,vh.currentPopupAction&&vh.currentPopupAction.cancel(),vh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Me(t,this.auth,"internal-error"),t}async onExecution(){pc(this.filter.length===1,"Popup operations only handle one event");const t=Xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Io(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Io(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Io(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wP.get())};t()}}vh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="pendingRedirect",Om=new Map;class TP extends Ix{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Om.get(this.auth._key());if(!t){try{const i=await EP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Om.set(this.auth._key(),t)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(n,t){const e=NP(t),i=IP(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function xP(n,t){Om.set(n._key(),t)}function IP(n){return cc(n._redirectPersistence)}function NP(n){return Mm(SP,n.config.apiKey,n.name)}async function RP(n,t,e=!1){if(_s(n.app))return Promise.reject(yl(n));const i=Ac(n),r=xx(i,t),o=await new TP(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=10*60*1e3;class LP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Nx(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Io(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(t))}saveEventToCache(t){this.cachedEventUids.add(Jw(t)),this.lastProcessedEventTime=Date.now()}}function Jw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Nx({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function PP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,t={}){return wc(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function OP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await kP(n);for(const e of t)try{if(FP(e))return}catch{}Ga(n,"unauthorized-domain")}function FP(n){const t=k2(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!MP.test(e))return!1;if(DP.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Xp(3e4,6e4);function Zw(){const n=vl().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function VP(n){return new Promise((t,e)=>{var i,r,s;function o(){Zw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zw(),e(Io(n,"network-request-failed"))},timeout:jP.get()})}if(!((r=(i=vl().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=vl().gapi)===null||s===void 0)&&s.load)o();else{const c=NL("iframefcb");return vl()[c]=()=>{gapi.load?o():e(Io(n,"network-request-failed"))},ux(`${IL()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw Fm=null,t})}let Fm=null;function BP(n){return Fm=Fm||VP(n),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new Xp(5e3,15e3),zP="__/auth/iframe",qP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WP(n){const t=n.config;Me(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hv(t,qP):`https://${n.config.authDomain}/${zP}`,i={apiKey:t.apiKey,appName:n.name,v:Oh},r=GP.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${$p(i).slice(1)}`}async function $P(n){const t=await BP(n),e=vl().gapi;return Me(e,n,"internal-error"),t.open({where:document.body,url:WP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Io(n,"network-request-failed"),c=vl().setTimeout(()=>{s(o)},UP.get());function u(){vl().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KP=500,XP=600,QP="_blank",JP="http://localhost";class tA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(n,t,e,i=KP,r=XP){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},YP),{width:i.toString(),height:r.toString(),top:s,left:o}),f=cs().toLowerCase();e&&(c=ix(f)?QP:e),ex(f)&&(t=t||JP,u.scrollbars="yes");const p=Object.entries(u).reduce((w,[_,x])=>`${w}${_}=${x},`,"");if(vL(f)&&c!=="_self")return tk(t||"",c),new tA(null);const y=window.open(t||"",c,p);Me(y,n,"popup-blocked");try{y.focus()}catch{}return new tA(y)}function tk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="__/auth/handler",nk="emulator/auth/handler",ik=encodeURIComponent("fac");async function eA(n,t,e,i,r,s){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Oh,eventId:r};if(t instanceof Kv){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",DR(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(t instanceof Jp){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),f=u?`#${ik}=${encodeURIComponent(u)}`:"";return`${rk(n)}?${$p(c).slice(1)}${f}`}function rk({config:n}){return n.emulator?Hv(n,nk):`https://${n.authDomain}/${ek}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="webStorageSupport";class sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wx,this._completeRedirectFn=RP,this._overrideRedirectResult=xP}async _openPopup(t,e,i,r){var s;pc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await eA(t,e,i,k2(),r);return ZP(t,o,Xv())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await eA(t,e,i,k2(),r);return lP(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(pc(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await $P(t),i=new LP(t);return e.register("authEvent",r=>(Me(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Fy,{type:Fy},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Fy];o!==void 0&&e(!!o),Ga(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=OP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lx()||nx()||Wv()}}const ak=sk;var nA="@firebase/auth",iA="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ck(n){Ha(new va("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(n)},f=new TL(i,r,s,u);return DL(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ha(new va("auth-internal",t=>{const e=Ac(t.getProvider("auth").getImmediate());return(i=>new ok(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(nA,iA,lk(n)),ls(nA,iA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=5*60,hk=jE("authIdTokenMaxAge")||uk;let rA=null;const fk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>hk)return;const r=e==null?void 0:e.token;rA!==r&&(rA=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function dk(n=Kp()){const t=_c(n,"auth");if(t.isInitialized())return t.getImmediate();const e=kL(n,{popupRedirectResolver:ak,persistence:[yP,sP,wx]}),i=jE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=fk(s.toString());tP(e,o,()=>o(e.currentUser)),ZL(e,c=>o(c))}}const r=ME("auth");return r&&ML(e,`http://${r}`),e}function pk(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}EL({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=Io("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",pk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ck("Browser");var sA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wu,Rx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,P){function U(){}U.prototype=P.prototype,z.D=P.prototype,z.prototype=new U,z.prototype.constructor=z,z.C=function(K,L,D){for(var j=Array(arguments.length-2),at=2;at<arguments.length;at++)j[at-2]=arguments[at];return P.prototype[L].apply(K,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(z,P,U){U||(U=0);var K=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)K[L]=P.charCodeAt(U++)|P.charCodeAt(U++)<<8|P.charCodeAt(U++)<<16|P.charCodeAt(U++)<<24;else for(L=0;16>L;++L)K[L]=P[U++]|P[U++]<<8|P[U++]<<16|P[U++]<<24;P=z.g[0],U=z.g[1],L=z.g[2];var D=z.g[3],j=P+(D^U&(L^D))+K[0]+3614090360&4294967295;P=U+(j<<7&4294967295|j>>>25),j=D+(L^P&(U^L))+K[1]+3905402710&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(U^D&(P^U))+K[2]+606105819&4294967295,L=D+(j<<17&4294967295|j>>>15),j=U+(P^L&(D^P))+K[3]+3250441966&4294967295,U=L+(j<<22&4294967295|j>>>10),j=P+(D^U&(L^D))+K[4]+4118548399&4294967295,P=U+(j<<7&4294967295|j>>>25),j=D+(L^P&(U^L))+K[5]+1200080426&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(U^D&(P^U))+K[6]+2821735955&4294967295,L=D+(j<<17&4294967295|j>>>15),j=U+(P^L&(D^P))+K[7]+4249261313&4294967295,U=L+(j<<22&4294967295|j>>>10),j=P+(D^U&(L^D))+K[8]+1770035416&4294967295,P=U+(j<<7&4294967295|j>>>25),j=D+(L^P&(U^L))+K[9]+2336552879&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(U^D&(P^U))+K[10]+4294925233&4294967295,L=D+(j<<17&4294967295|j>>>15),j=U+(P^L&(D^P))+K[11]+2304563134&4294967295,U=L+(j<<22&4294967295|j>>>10),j=P+(D^U&(L^D))+K[12]+1804603682&4294967295,P=U+(j<<7&4294967295|j>>>25),j=D+(L^P&(U^L))+K[13]+4254626195&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(U^D&(P^U))+K[14]+2792965006&4294967295,L=D+(j<<17&4294967295|j>>>15),j=U+(P^L&(D^P))+K[15]+1236535329&4294967295,U=L+(j<<22&4294967295|j>>>10),j=P+(L^D&(U^L))+K[1]+4129170786&4294967295,P=U+(j<<5&4294967295|j>>>27),j=D+(U^L&(P^U))+K[6]+3225465664&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^U&(D^P))+K[11]+643717713&4294967295,L=D+(j<<14&4294967295|j>>>18),j=U+(D^P&(L^D))+K[0]+3921069994&4294967295,U=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(U^L))+K[5]+3593408605&4294967295,P=U+(j<<5&4294967295|j>>>27),j=D+(U^L&(P^U))+K[10]+38016083&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^U&(D^P))+K[15]+3634488961&4294967295,L=D+(j<<14&4294967295|j>>>18),j=U+(D^P&(L^D))+K[4]+3889429448&4294967295,U=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(U^L))+K[9]+568446438&4294967295,P=U+(j<<5&4294967295|j>>>27),j=D+(U^L&(P^U))+K[14]+3275163606&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^U&(D^P))+K[3]+4107603335&4294967295,L=D+(j<<14&4294967295|j>>>18),j=U+(D^P&(L^D))+K[8]+1163531501&4294967295,U=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(U^L))+K[13]+2850285829&4294967295,P=U+(j<<5&4294967295|j>>>27),j=D+(U^L&(P^U))+K[2]+4243563512&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^U&(D^P))+K[7]+1735328473&4294967295,L=D+(j<<14&4294967295|j>>>18),j=U+(D^P&(L^D))+K[12]+2368359562&4294967295,U=L+(j<<20&4294967295|j>>>12),j=P+(U^L^D)+K[5]+4294588738&4294967295,P=U+(j<<4&4294967295|j>>>28),j=D+(P^U^L)+K[8]+2272392833&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^U)+K[11]+1839030562&4294967295,L=D+(j<<16&4294967295|j>>>16),j=U+(L^D^P)+K[14]+4259657740&4294967295,U=L+(j<<23&4294967295|j>>>9),j=P+(U^L^D)+K[1]+2763975236&4294967295,P=U+(j<<4&4294967295|j>>>28),j=D+(P^U^L)+K[4]+1272893353&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^U)+K[7]+4139469664&4294967295,L=D+(j<<16&4294967295|j>>>16),j=U+(L^D^P)+K[10]+3200236656&4294967295,U=L+(j<<23&4294967295|j>>>9),j=P+(U^L^D)+K[13]+681279174&4294967295,P=U+(j<<4&4294967295|j>>>28),j=D+(P^U^L)+K[0]+3936430074&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^U)+K[3]+3572445317&4294967295,L=D+(j<<16&4294967295|j>>>16),j=U+(L^D^P)+K[6]+76029189&4294967295,U=L+(j<<23&4294967295|j>>>9),j=P+(U^L^D)+K[9]+3654602809&4294967295,P=U+(j<<4&4294967295|j>>>28),j=D+(P^U^L)+K[12]+3873151461&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^U)+K[15]+530742520&4294967295,L=D+(j<<16&4294967295|j>>>16),j=U+(L^D^P)+K[2]+3299628645&4294967295,U=L+(j<<23&4294967295|j>>>9),j=P+(L^(U|~D))+K[0]+4096336452&4294967295,P=U+(j<<6&4294967295|j>>>26),j=D+(U^(P|~L))+K[7]+1126891415&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~U))+K[14]+2878612391&4294967295,L=D+(j<<15&4294967295|j>>>17),j=U+(D^(L|~P))+K[5]+4237533241&4294967295,U=L+(j<<21&4294967295|j>>>11),j=P+(L^(U|~D))+K[12]+1700485571&4294967295,P=U+(j<<6&4294967295|j>>>26),j=D+(U^(P|~L))+K[3]+2399980690&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~U))+K[10]+4293915773&4294967295,L=D+(j<<15&4294967295|j>>>17),j=U+(D^(L|~P))+K[1]+2240044497&4294967295,U=L+(j<<21&4294967295|j>>>11),j=P+(L^(U|~D))+K[8]+1873313359&4294967295,P=U+(j<<6&4294967295|j>>>26),j=D+(U^(P|~L))+K[15]+4264355552&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~U))+K[6]+2734768916&4294967295,L=D+(j<<15&4294967295|j>>>17),j=U+(D^(L|~P))+K[13]+1309151649&4294967295,U=L+(j<<21&4294967295|j>>>11),j=P+(L^(U|~D))+K[4]+4149444226&4294967295,P=U+(j<<6&4294967295|j>>>26),j=D+(U^(P|~L))+K[11]+3174756917&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~U))+K[2]+718787259&4294967295,L=D+(j<<15&4294967295|j>>>17),j=U+(D^(L|~P))+K[9]+3951481745&4294967295,z.g[0]=z.g[0]+P&4294967295,z.g[1]=z.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+D&4294967295}i.prototype.u=function(z,P){P===void 0&&(P=z.length);for(var U=P-this.blockSize,K=this.B,L=this.h,D=0;D<P;){if(L==0)for(;D<=U;)r(this,z,D),D+=this.blockSize;if(typeof z=="string"){for(;D<P;)if(K[L++]=z.charCodeAt(D++),L==this.blockSize){r(this,K),L=0;break}}else for(;D<P;)if(K[L++]=z[D++],L==this.blockSize){r(this,K),L=0;break}}this.h=L,this.o+=P},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var P=1;P<z.length-8;++P)z[P]=0;var U=8*this.o;for(P=z.length-8;P<z.length;++P)z[P]=U&255,U/=256;for(this.u(z),z=Array(16),P=U=0;4>P;++P)for(var K=0;32>K;K+=8)z[U++]=this.g[P]>>>K&255;return z};function s(z,P){var U=c;return Object.prototype.hasOwnProperty.call(U,z)?U[z]:U[z]=P(z)}function o(z,P){this.h=P;for(var U=[],K=!0,L=z.length-1;0<=L;L--){var D=z[L]|0;K&&D==P||(U[L]=D,K=!1)}this.g=U}var c={};function u(z){return-128<=z&&128>z?s(z,function(P){return new o([P|0],0>P?-1:0)}):new o([z|0],0>z?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return y;if(0>z)return R(f(-z));for(var P=[],U=1,K=0;z>=U;K++)P[K]=z/U|0,U*=4294967296;return new o(P,0)}function p(z,P){if(z.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(z.charAt(0)=="-")return R(p(z.substring(1),P));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=f(Math.pow(P,8)),K=y,L=0;L<z.length;L+=8){var D=Math.min(8,z.length-L),j=parseInt(z.substring(L,L+D),P);8>D?(D=f(Math.pow(P,D)),K=K.j(D).add(f(j))):(K=K.j(U),K=K.add(f(j)))}return K}var y=u(0),w=u(1),_=u(16777216);n=o.prototype,n.m=function(){if(I(this))return-R(this).m();for(var z=0,P=1,U=0;U<this.g.length;U++){var K=this.i(U);z+=(0<=K?K:4294967296+K)*P,P*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(x(this))return"0";if(I(this))return"-"+R(this).toString(z);for(var P=f(Math.pow(z,6)),U=this,K="";;){var L=it(U,P).g;U=N(U,L.j(P));var D=((0<U.g.length?U.g[0]:U.h)>>>0).toString(z);if(U=L,x(U))return D+K;for(;6>D.length;)D="0"+D;K=D+K}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function x(z){if(z.h!=0)return!1;for(var P=0;P<z.g.length;P++)if(z.g[P]!=0)return!1;return!0}function I(z){return z.h==-1}n.l=function(z){return z=N(this,z),I(z)?-1:x(z)?0:1};function R(z){for(var P=z.g.length,U=[],K=0;K<P;K++)U[K]=~z.g[K];return new o(U,~z.h).add(w)}n.abs=function(){return I(this)?R(this):this},n.add=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],K=0,L=0;L<=P;L++){var D=K+(this.i(L)&65535)+(z.i(L)&65535),j=(D>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);K=j>>>16,D&=65535,j&=65535,U[L]=j<<16|D}return new o(U,U[U.length-1]&-2147483648?-1:0)};function N(z,P){return z.add(R(P))}n.j=function(z){if(x(this)||x(z))return y;if(I(this))return I(z)?R(this).j(R(z)):R(R(this).j(z));if(I(z))return R(this.j(R(z)));if(0>this.l(_)&&0>z.l(_))return f(this.m()*z.m());for(var P=this.g.length+z.g.length,U=[],K=0;K<2*P;K++)U[K]=0;for(K=0;K<this.g.length;K++)for(var L=0;L<z.g.length;L++){var D=this.i(K)>>>16,j=this.i(K)&65535,at=z.i(L)>>>16,wt=z.i(L)&65535;U[2*K+2*L]+=j*wt,M(U,2*K+2*L),U[2*K+2*L+1]+=D*wt,M(U,2*K+2*L+1),U[2*K+2*L+1]+=j*at,M(U,2*K+2*L+1),U[2*K+2*L+2]+=D*at,M(U,2*K+2*L+2)}for(K=0;K<P;K++)U[K]=U[2*K+1]<<16|U[2*K];for(K=P;K<2*P;K++)U[K]=0;return new o(U,0)};function M(z,P){for(;(z[P]&65535)!=z[P];)z[P+1]+=z[P]>>>16,z[P]&=65535,P++}function G(z,P){this.g=z,this.h=P}function it(z,P){if(x(P))throw Error("division by zero");if(x(z))return new G(y,y);if(I(z))return P=it(R(z),P),new G(R(P.g),R(P.h));if(I(P))return P=it(z,R(P)),new G(R(P.g),P.h);if(30<z.g.length){if(I(z)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var U=w,K=P;0>=K.l(z);)U=tt(U),K=tt(K);var L=pt(U,1),D=pt(K,1);for(K=pt(K,2),U=pt(U,2);!x(K);){var j=D.add(K);0>=j.l(z)&&(L=L.add(U),D=j),K=pt(K,1),U=pt(U,1)}return P=N(z,L.j(P)),new G(L,P)}for(L=y;0<=z.l(P);){for(U=Math.max(1,Math.floor(z.m()/P.m())),K=Math.ceil(Math.log(U)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),D=f(U),j=D.j(P);I(j)||0<j.l(z);)U-=K,D=f(U),j=D.j(P);x(D)&&(D=w),L=L.add(D),z=N(z,j)}return new G(L,z)}n.A=function(z){return it(this,z).h},n.and=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],K=0;K<P;K++)U[K]=this.i(K)&z.i(K);return new o(U,this.h&z.h)},n.or=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],K=0;K<P;K++)U[K]=this.i(K)|z.i(K);return new o(U,this.h|z.h)},n.xor=function(z){for(var P=Math.max(this.g.length,z.g.length),U=[],K=0;K<P;K++)U[K]=this.i(K)^z.i(K);return new o(U,this.h^z.h)};function tt(z){for(var P=z.g.length+1,U=[],K=0;K<P;K++)U[K]=z.i(K)<<1|z.i(K-1)>>>31;return new o(U,z.h)}function pt(z,P){var U=P>>5;P%=32;for(var K=z.g.length-U,L=[],D=0;D<K;D++)L[D]=0<P?z.i(D+U)>>>P|z.i(D+U+1)<<32-P:z.i(D+U);return new o(L,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Rx=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,wu=o}).apply(typeof sA<"u"?sA:typeof self<"u"?self:typeof window<"u"?window:{});var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cx,ip,Lx,jm,F2,Px,kx,Dx;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof om=="object"&&om];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=e(this);function r(m,E){if(E)t:{var k=i;m=m.split(".");for(var Y=0;Y<m.length-1;Y++){var _t=m[Y];if(!(_t in k))break t;k=k[_t]}m=m[m.length-1],Y=k[m],E=E(Y),E!=Y&&E!=null&&t(k,m,{configurable:!0,writable:!0,value:E})}}function s(m,E){m instanceof String&&(m+="");var k=0,Y=!1,_t={next:function(){if(!Y&&k<m.length){var Lt=k++;return{value:E(Lt,m[Lt]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}r("Array.prototype.values",function(m){return m||function(){return s(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,k){return m.call.apply(m.bind,arguments)}function y(m,E,k){if(!m)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,Y),m.apply(E,_t)}}return function(){return m.apply(E,arguments)}}function w(m,E,k){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function _(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var Y=k.slice();return Y.push.apply(Y,arguments),m.apply(this,Y)}}function x(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(Y,_t,Lt){for(var Kt=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)Kt[Ne-2]=arguments[Ne];return E.prototype[_t].apply(Y,Kt)}}function I(m){const E=m.length;if(0<E){const k=Array(E);for(let Y=0;Y<E;Y++)k[Y]=m[Y];return k}return[]}function R(m,E){for(let k=1;k<arguments.length;k++){const Y=arguments[k];if(u(Y)){const _t=m.length||0,Lt=Y.length||0;m.length=_t+Lt;for(let Kt=0;Kt<Lt;Kt++)m[_t+Kt]=Y[Kt]}else m.push(Y)}}class N{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(m){return/^[\s\xa0]*$/.test(m)}function G(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function it(m){return it[" "](m),m}it[" "]=function(){};var tt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pt(m,E,k){for(const Y in m)E.call(k,m[Y],Y,m)}function z(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function P(m){const E={};for(const k in m)E[k]=m[k];return E}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(m,E){let k,Y;for(let _t=1;_t<arguments.length;_t++){Y=arguments[_t];for(k in Y)m[k]=Y[k];for(let Lt=0;Lt<U.length;Lt++)k=U[Lt],Object.prototype.hasOwnProperty.call(Y,k)&&(m[k]=Y[k])}}function L(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function D(m){c.setTimeout(()=>{throw m},0)}function j(){var m=Et;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class at{constructor(){this.h=this.g=null}add(E,k){const Y=wt.get();Y.set(E,k),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var wt=new N(()=>new et,m=>m.reset());class et{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ft=!1,Et=new at,Q=()=>{const m=c.Promise.resolve(void 0);ht=()=>{m.then(St)}};var St=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){D(k)}var E=wt;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ft=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};c.addEventListener("test",k,E),c.removeEventListener("test",k,E)}catch{}return m}();function st(m,E){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,Y=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(tt){t:{try{it(E.nodeName);var _t=!0;break t}catch{}_t=!1}_t||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ct[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&st.aa.h.call(this)}}x(st,W);var ct={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),xt=0;function kt(m,E,k,Y,_t){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!Y,this.ha=_t,this.key=++xt,this.da=this.fa=!1}function Jt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Xt(m){this.src=m,this.g={},this.h=0}Xt.prototype.add=function(m,E,k,Y,_t){var Lt=m.toString();m=this.g[Lt],m||(m=this.g[Lt]=[],this.h++);var Kt=te(m,E,Y,_t);return-1<Kt?(E=m[Kt],k||(E.fa=!1)):(E=new kt(E,this.src,Lt,!!Y,_t),E.fa=k,m.push(E)),E};function ne(m,E){var k=E.type;if(k in m.g){var Y=m.g[k],_t=Array.prototype.indexOf.call(Y,E,void 0),Lt;(Lt=0<=_t)&&Array.prototype.splice.call(Y,_t,1),Lt&&(Jt(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function te(m,E,k,Y){for(var _t=0;_t<m.length;++_t){var Lt=m[_t];if(!Lt.da&&Lt.listener==E&&Lt.capture==!!k&&Lt.ha==Y)return _t}return-1}var we="closure_lm_"+(1e6*Math.random()|0),jt={};function ot(m,E,k,Y,_t){if(Array.isArray(E)){for(var Lt=0;Lt<E.length;Lt++)ot(m,E[Lt],k,Y,_t);return null}return k=je(k),m&&m[It]?m.K(E,k,f(Y)?!!Y.capture:!1,_t):Se(m,E,k,!1,Y,_t)}function Se(m,E,k,Y,_t,Lt){if(!E)throw Error("Invalid event type");var Kt=f(_t)?!!_t.capture:!!_t,Ne=ve(m);if(Ne||(m[we]=Ne=new Xt(m)),k=Ne.add(E,k,Y,Kt,Lt),k.proxy)return k;if(Y=he(),k.proxy=Y,Y.src=m,Y.listener=k,m.addEventListener)Z||(_t=Kt),_t===void 0&&(_t=!1),m.addEventListener(E.toString(),Y,_t);else if(m.attachEvent)m.attachEvent(se(E.toString()),Y);else if(m.addListener&&m.removeListener)m.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return k}function he(){function m(k){return E.call(m.src,m.listener,k)}const E=ae;return m}function Qt(m,E,k,Y,_t){if(Array.isArray(E))for(var Lt=0;Lt<E.length;Lt++)Qt(m,E[Lt],k,Y,_t);else Y=f(Y)?!!Y.capture:!!Y,k=je(k),m&&m[It]?(m=m.i,E=String(E).toString(),E in m.g&&(Lt=m.g[E],k=te(Lt,k,Y,_t),-1<k&&(Jt(Lt[k]),Array.prototype.splice.call(Lt,k,1),Lt.length==0&&(delete m.g[E],m.h--)))):m&&(m=ve(m))&&(E=m.g[E.toString()],m=-1,E&&(m=te(E,k,Y,_t)),(k=-1<m?E[m]:null)&&Zt(k))}function Zt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[It])ne(E.i,m);else{var k=m.type,Y=m.proxy;E.removeEventListener?E.removeEventListener(k,Y,m.capture):E.detachEvent?E.detachEvent(se(k),Y):E.addListener&&E.removeListener&&E.removeListener(Y),(k=ve(E))?(ne(k,m),k.h==0&&(k.src=null,E[we]=null)):Jt(m)}}}function se(m){return m in jt?jt[m]:jt[m]="on"+m}function ae(m,E){if(m.da)m=!0;else{E=new st(E,this);var k=m.listener,Y=m.ha||m.src;m.fa&&Zt(m),m=k.call(Y,E)}return m}function ve(m){return m=m[we],m instanceof Xt?m:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(m){return typeof m=="function"?m:(m[Ce]||(m[Ce]=function(E){return m.handleEvent(E)}),m[Ce])}function _e(){F.call(this),this.i=new Xt(this),this.M=this,this.F=null}x(_e,F),_e.prototype[It]=!0,_e.prototype.removeEventListener=function(m,E,k,Y){Qt(this,m,E,k,Y)};function ge(m,E){var k,Y=m.F;if(Y)for(k=[];Y;Y=Y.F)k.push(Y);if(m=m.M,Y=E.type||E,typeof E=="string")E=new W(E,m);else if(E instanceof W)E.target=E.target||m;else{var _t=E;E=new W(Y,m),K(E,_t)}if(_t=!0,k)for(var Lt=k.length-1;0<=Lt;Lt--){var Kt=E.g=k[Lt];_t=Ge(Kt,Y,!0,E)&&_t}if(Kt=E.g=m,_t=Ge(Kt,Y,!0,E)&&_t,_t=Ge(Kt,Y,!1,E)&&_t,k)for(Lt=0;Lt<k.length;Lt++)Kt=E.g=k[Lt],_t=Ge(Kt,Y,!1,E)&&_t}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],Y=0;Y<k.length;Y++)Jt(k[Y]);delete m.g[E],m.h--}}this.F=null},_e.prototype.K=function(m,E,k,Y){return this.i.add(String(m),E,!1,k,Y)},_e.prototype.L=function(m,E,k,Y){return this.i.add(String(m),E,!0,k,Y)};function Ge(m,E,k,Y){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var _t=!0,Lt=0;Lt<E.length;++Lt){var Kt=E[Lt];if(Kt&&!Kt.da&&Kt.capture==k){var Ne=Kt.listener,rn=Kt.ha||Kt.src;Kt.fa&&ne(m.i,Kt),_t=Ne.call(rn,Y)!==!1&&_t}}return _t&&!Y.defaultPrevented}function fe(m,E,k){if(typeof m=="function")k&&(m=w(m,k));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function We(m){m.g=fe(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class oe extends F{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(m){F.call(this),this.h=m,this.g={}}x(si,F);var Ke=[];function tr(m){pt(m.g,function(E,k){this.g.hasOwnProperty(k)&&Zt(E)},m),m.g={}}si.prototype.N=function(){si.aa.N.call(this),tr(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=c.JSON.stringify,In=c.JSON.parse,fr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function cn(){}cn.prototype.h=null;function Hs(m){return m.h||(m.h=m.i())}function Un(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){W.call(this,"d")}x(er,W);function zn(){W.call(this,"c")}x(zn,W);var Te={},un=null;function Or(){return un=un||new _e}Te.La="serverreachability";function ai(m){W.call(this,Te.La,m)}x(ai,W);function nr(m){const E=Or();ge(E,new ai(E))}Te.STAT_EVENT="statevent";function hs(m,E){W.call(this,Te.STAT_EVENT,m),this.stat=E}x(hs,W);function le(m){const E=Or();ge(E,new hs(E,m))}Te.Ma="timingevent";function Nn(m,E){W.call(this,Te.Ma,m),this.size=E}x(Nn,W);function Rn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function ti(m,E,k,Y,_t,Lt){m.info(function(){if(m.g)if(Lt)for(var Kt="",Ne=Lt.split("&"),rn=0;rn<Ne.length;rn++){var Ve=Ne[rn].split("=");if(1<Ve.length){var An=Ve[0];Ve=Ve[1];var Cn=An.split("_");Kt=2<=Cn.length&&Cn[1]=="type"?Kt+(An+"="+Ve+"&"):Kt+(An+"=redacted&")}}else Kt=null;else Kt=Lt;return"XMLHTTP REQ ("+Y+") [attempt "+_t+"]: "+E+`
`+k+`
`+Kt})}function oi(m,E,k,Y,_t,Lt,Kt){m.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+_t+"]: "+E+`
`+k+`
`+Lt+" "+Kt})}function _i(m,E,k,Y){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Er(m,k)+(Y?" "+Y:"")})}function Ya(m,E){m.info(function(){return"TIMEOUT: "+E})}Yn.prototype.info=function(){};function Er(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var Y=k[m];if(!(2>Y.length)){var _t=Y[1];if(Array.isArray(_t)&&!(1>_t.length)){var Lt=_t[0];if(Lt!="noop"&&Lt!="stop"&&Lt!="close")for(var Kt=1;Kt<_t.length;Kt++)_t[Kt]=""}}}}return Je(k)}catch{return E}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Pi(){}x(Pi,cn),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},bi=new Pi;function qn(m,E,k,Y){this.j=m,this.i=E,this.l=k,this.R=Y||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Gs={},Ws={};function dr(m,E,k){m.L=1,m.v=Aa(rr(E)),m.m=k,m.P=!0,Fr(m,null)}function Fr(m,E){m.F=Date.now(),Xa(m),m.A=rr(m.v);var k=m.A,Y=m.R;Array.isArray(Y)||(Y=[String(Y)]),Ie(k.i,"t",Y),m.C=0,k=m.j.J,m.h=new bn,m.g=B(m.j,k?E:null,!m.m),0<m.O&&(m.M=new oe(w(m.Y,m,m.g),m.O)),E=m.U,k=m.g,Y=m.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(Ke[0]=_t.toString()),_t=Ke);for(var Lt=0;Lt<_t.length;Lt++){var Kt=ot(k,_t[Lt],Y||E.handleEvent,!1,E.h||E);if(!Kt)break;E.g[Kt.key]=Kt}E=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),nr(),ti(m.i,m.u,m.A,m.l,m.R,m.m)}qn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ai(m)==3?E.j():this.Y(m)},qn.prototype.Y=function(m){try{if(m==this.g)t:{const Cn=Ai(this.g);var E=this.g.Ba();const Ns=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Nc(this.g)))){this.J||Cn!=4||E==7||(E==8||0>=Ns?nr(3):nr(2)),fs(this);var k=this.g.Z();this.X=k;e:if(Ka(this)){var Y=Nc(this.g);m="";var _t=Y.length,Lt=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),ds(this);var Kt="";break e}this.h.i=new c.TextDecoder}for(E=0;E<_t;E++)this.h.h=!0,m+=this.h.i.decode(Y[E],{stream:!(Lt&&E==_t-1)});Y.length=0,this.h.g+=m,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=k==200,oi(this.i,this.u,this.A,this.l,this.R,Cn,k),this.o){if(this.T&&!this.K){e:{if(this.g){var Ne,rn=this.g;if((Ne=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ne)){var Ve=Ne;break e}}Ve=null}if(k=Ve)_i(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,k);else{this.o=!1,this.s=3,le(12),ki(this),ds(this);break t}}if(this.P){k=!0;let fi;for(;!this.J&&this.C<Kt.length;)if(fi=El(this,Kt),fi==Ws){Cn==4&&(this.s=4,le(14),k=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(fi==Gs){this.s=4,le(15),_i(this.i,this.l,Kt,"[Invalid Chunk]"),k=!1;break}else _i(this.i,this.l,fi,null),$s(this,fi);if(Ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||Kt.length!=0||this.h.h||(this.s=1,le(16),k=!1),this.o=this.o&&k,!k)_i(this.i,this.l,Kt,"[Invalid Chunked Response]"),ki(this),ds(this);else if(0<Kt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),Na(An),An.M=!0,le(11))}}else _i(this.i,this.l,Kt,null),$s(this,Kt);Cn==4&&ki(this),this.o&&!this.J&&(Cn==4?Ra(this.j,this):(this.o=!1,Xa(this)))}else Ea(this.g),k==400&&0<Kt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),ki(this),ds(this)}}}catch{}finally{}};function Ka(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function El(m,E){var k=m.C,Y=E.indexOf(`
`,k);return Y==-1?Ws:(k=Number(E.substring(k,Y)),isNaN(k)?Gs:(Y+=1,Y+k>E.length?Ws:(E=E.slice(Y,Y+k),m.C=Y+k,E)))}qn.prototype.cancel=function(){this.J=!0,ki(this)};function Xa(m){m.S=Date.now()+m.I,Sc(m,m.I)}function Sc(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Rn(w(m.ba,m),E)}function fs(m){m.B&&(c.clearTimeout(m.B),m.B=null)}qn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ya(this.i,this.A),this.L!=2&&(nr(),le(17)),ki(this),this.s=2,ds(this)):Sc(this,this.S-m)};function ds(m){m.j.G==0||m.J||Ra(m.j,m)}function ki(m){fs(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,tr(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function $s(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||xl(k.h,m))){if(!m.K&&xl(k.h,m)&&k.G==3){try{var Y=k.Da.g.parse(E)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var _t=Y;if(_t[0]==0){t:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)ea(k),Fo(k);else break t;no(k),le(18)}}else k.za=_t[1],0<k.za-k.T&&37500>_t[2]&&k.F&&k.v==0&&!k.C&&(k.C=Rn(w(k.Za,k),6e3));if(1>=Ys(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else yr(k,11)}else if((m.K||k.g==m)&&ea(k),!M(E))for(_t=k.Da.g.parse(E),E=0;E<_t.length;E++){let Ve=_t[E];if(k.T=Ve[0],Ve=Ve[1],k.G==2)if(Ve[0]=="c"){k.K=Ve[1],k.ia=Ve[2];const An=Ve[3];An!=null&&(k.la=An,k.j.info("VER="+k.la));const Cn=Ve[4];Cn!=null&&(k.Aa=Cn,k.j.info("SVER="+k.Aa));const Ns=Ve[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(Y=1.5*Ns,k.L=Y,k.j.info("backChannelRequestTimeoutMs_="+Y)),Y=k;const fi=m.g;if(fi){const zr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var Lt=Y.h;Lt.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Hn(Lt,Lt.h),Lt.h=null))}if(Y.D){const Ca=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(Y.ya=Ca,wn(Y.I,Y.D,Ca))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),Y=k;var Kt=m;if(Y.qa=S(Y,Y.J?Y.ia:null,Y.W),Kt.K){Wi(Y.h,Kt);var Ne=Kt,rn=Y.L;rn&&(Ne.I=rn),Ne.B&&(fs(Ne),Xa(Ne)),Y.g=Kt}else Vo(Y);0<k.i.length&&jo(k)}else Ve[0]!="stop"&&Ve[0]!="close"||yr(k,7);else k.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?yr(k,7):ta(k):Ve[0]!="noop"&&k.l&&k.l.ta(Ve),k.v=0)}}nr(4)}catch{}}var Tc=class{constructor(m,E){this.g=m,this.map=E}};function bs(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ys(m){return m.h?1:m.g?m.g.size:0}function xl(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Hn(m,E){m.g?m.g.add(E):m.h=E}function Wi(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}bs.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Do(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return I(m.i)}function Ec(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var E=[],k=m.length,Y=0;Y<k;Y++)E.push(m[Y]);return E}E=[],k=0;for(Y in m)E[k++]=m[Y];return E}function _a(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const Y in m)E[k++]=Y;return E}}}function Il(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=_a(m),Y=Ec(m),_t=Y.length,Lt=0;Lt<_t;Lt++)E.call(void 0,Y[Lt],k&&k[Lt],m)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var Y=m[k].indexOf("="),_t=null;if(0<=Y){var Lt=m[k].substring(0,Y);_t=m[k].substring(Y+1)}else Lt=m[k];E(Lt,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}function dn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof dn){this.h=m.h,ba(this,m.j),this.o=m.o,this.g=m.g,wa(this,m.s),this.l=m.l;var E=m.i,k=new As;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),ws(this,k),this.m=m.m}else m&&(E=String(m).match(ir))?(this.h=!1,ba(this,E[1]||"",!0),this.o=jr(E[2]||""),this.g=jr(E[3]||"",!0),wa(this,E[4]),this.l=jr(E[5]||"",!0),ws(this,E[6]||"",!0),this.m=jr(E[7]||"")):(this.h=!1,this.i=new As(null,this.h))}dn.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Ks(E,Nl,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ks(E,Nl,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Ks(k,k.charAt(0)=="/"?Xs:Rl,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Ks(k,Qs)),m.join("")};function rr(m){return new dn(m)}function ba(m,E,k){m.j=k?jr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function wa(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function ws(m,E,k){E instanceof As?(m.i=E,Ic(m.i,m.h)):(k||(E=Ks(E,Oo)),m.i=new As(E,m.h))}function wn(m,E,k){m.i.set(E,k)}function Aa(m){return wn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function jr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ks(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,xc),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function xc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Nl=/[#\/\?@]/g,Rl=/[#\?:]/g,Xs=/[#\?]/g,Oo=/[#\?@]/g,Qs=/#/g;function As(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Dn(m){m.g||(m.g=new Map,m.h=0,m.i&&Mo(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=As.prototype,n.add=function(m,E){Dn(this),this.i=null,m=Ts(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function Js(m,E){Dn(m),E=Ts(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Ss(m,E){return Dn(m),E=Ts(m,E),m.g.has(E)}n.forEach=function(m,E){Dn(this),this.g.forEach(function(k,Y){k.forEach(function(_t){m.call(E,_t,Y,this)},this)},this)},n.na=function(){Dn(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let Y=0;Y<E.length;Y++){const _t=m[Y];for(let Lt=0;Lt<_t.length;Lt++)k.push(E[Y])}return k},n.V=function(m){Dn(this);let E=[];if(typeof m=="string")Ss(this,m)&&(E=E.concat(this.g.get(Ts(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},n.set=function(m,E){return Dn(this),this.i=null,m=Ts(this,m),Ss(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Ie(m,E,k){Js(m,E),0<k.length&&(m.i=null,m.g.set(Ts(m,E),I(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var Y=E[k];const Lt=encodeURIComponent(String(Y)),Kt=this.V(Y);for(Y=0;Y<Kt.length;Y++){var _t=Lt;Kt[Y]!==""&&(_t+="="+encodeURIComponent(String(Kt[Y]))),m.push(_t)}}return this.i=m.join("&")};function Ts(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Ic(m,E){E&&!m.j&&(Dn(m),m.i=null,m.g.forEach(function(k,Y){var _t=Y.toLowerCase();Y!=_t&&(Js(this,Y),Ie(this,_t,k))},m)),m.j=E}function pr(m,E){const k=new Yn;if(c.Image){const Y=new Image;Y.onload=_(xr,k,"TestLoadImage: loaded",!0,E,Y),Y.onerror=_(xr,k,"TestLoadImage: error",!1,E,Y),Y.onabort=_(xr,k,"TestLoadImage: abort",!1,E,Y),Y.ontimeout=_(xr,k,"TestLoadImage: timeout",!1,E,Y),c.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=m}else E(!1)}function Vr(m,E){const k=new Yn,Y=new AbortController,_t=setTimeout(()=>{Y.abort(),xr(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:Y.signal}).then(Lt=>{clearTimeout(_t),Lt.ok?xr(k,"TestPingServer: ok",!0,E):xr(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(_t),xr(k,"TestPingServer: error",!1,E)})}function xr(m,E,k,Y,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),Y(k)}catch{}}function Es(){this.g=new fr}function Br(m,E,k){const Y=k||"";try{Il(m,function(_t,Lt){let Kt=_t;f(_t)&&(Kt=Je(_t)),E.push(Y+Lt+"="+encodeURIComponent(Kt))})}catch(_t){throw E.push(Y+"type="+encodeURIComponent("_badmap")),_t}}function Sa(m){this.l=m.Ub||null,this.j=m.eb||!1}x(Sa,cn),Sa.prototype.g=function(){return new Zs(this.l,this.j)},Sa.prototype.i=function(m){return function(){return m}}({});function Zs(m,E){_e.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Zs,_e),n=Zs.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,gr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ur(this):gr(this),this.readyState==3&&Cl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ur(this))},n.Qa=function(m){this.g&&(this.response=m,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(m){m.readyState=4,m.l=null,m.j=null,m.v=null,gr(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function gr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xs(m){let E="";return pt(m,function(k,Y){E+=Y,E+=":",E+=k,E+=`\r
`}),E}function wi(m,E,k){t:{for(Y in k){var Y=!1;break t}Y=!0}Y||(k=xs(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):wn(m,E,k))}function nn(m){_e.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(nn,_e);var Ta=/^https?$/i,Is=["POST","PUT"];n=nn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,k,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Hs(this.o):Hs(bi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Lt){Ll(this,Lt);return}if(m=k||"",k=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var _t in Y)k.set(_t,Y[_t]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Lt of Y.keys())k.set(Lt,Y.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(k.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),_t=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Is,E,void 0))||Y||_t||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Kt]of k)this.g.setRequestHeader(Lt,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mr(this),this.u=!0,this.g.send(m),this.u=!1}catch(Lt){Ll(this,Lt)}};function Ll(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Qa(m),ps(m)}function Qa(m){m.A||(m.A=!0,ge(m,"complete"),ge(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ge(this,"complete"),ge(this,"abort"),ps(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ai(m)!=4||m.Z()!=2)){if(m.u&&Ai(m)==4)fe(m.Ea,0,m);else if(ge(m,"readystatechange"),Ai(m)==4){m.h=!1;try{const Kt=m.Z();t:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var k;if(!(k=E)){var Y;if(Y=Kt===0){var _t=String(m.D).match(ir)[1]||null;!_t&&c.self&&c.self.location&&(_t=c.self.location.protocol.slice(0,-1)),Y=!Ta.test(_t?_t.toLowerCase():"")}k=Y}if(k)ge(m,"complete"),ge(m,"success");else{m.m=6;try{var Lt=2<Ai(m)?m.g.statusText:""}catch{Lt=""}m.l=Lt+" ["+m.Z()+"]",Qa(m)}}finally{ps(m)}}}}function ps(m,E){if(m.g){mr(m);const k=m.g,Y=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||ge(m,"ready");try{k.onreadystatechange=Y}catch{}}}function mr(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ai(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),In(E)}};function Nc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ea(m){const E={};m=(m.g&&2<=Ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<m.length;Y++){if(M(m[Y]))continue;var k=L(m[Y]);const _t=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Lt=E[_t]||[];E[_t]=Lt,Lt.push(k)}z(E,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function xa(m){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,m),this.cb=sr("retryDelaySeedMs",1e4,m),this.Wa=sr("forwardChannelMaxRetries",2,m),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(m&&m.concurrentRequestLimit),this.Da=new Es,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xa.prototype,n.la=8,n.G=1,n.connect=function(m,E,k,Y){le(0),this.W=m,this.H=E||{},k&&Y!==void 0&&(this.H.OSID=k,this.H.OAID=Y),this.F=this.X,this.I=S(this,null,this.W),jo(this)};function ta(m){if(Za(m),m.G==3){var E=m.U++,k=rr(m.I);if(wn(k,"SID",m.K),wn(k,"RID",E),wn(k,"TYPE","terminate"),Ia(m,k),E=new qn(m,m.j,E),E.L=2,E.v=Aa(rr(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=E.v,k=!0),k||(E.g=B(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Xa(E)}Bo(m)}function Fo(m){m.g&&(Na(m),m.g.cancel(),m.g=null)}function Za(m){Fo(m),m.u&&(c.clearTimeout(m.u),m.u=null),ea(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function jo(m){if(!ko(m.h)&&!m.s){m.s=!0;var E=m.Ga;ht||Q(),ft||(ht(),ft=!0),Et.add(E,m),m.B=0}}function Pl(m,E){return Ys(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Rn(w(m.Ga,m,E),io(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const _t=new qn(this,this.j,m);let Lt=this.o;if(this.S&&(Lt?(Lt=P(Lt),K(Lt,this.S)):Lt=this.S),this.m!==null||this.O||(_t.H=Lt,Lt=null),this.P)t:{for(var E=0,k=0;k<this.i.length;k++){e:{var Y=this.i[k];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break e}Y=void 0}if(Y===void 0)break;if(E+=Y,4096<E){E=k;break t}if(E===4096||k===this.i.length-1){E=k+1;break t}}E=1e3}else E=1e3;E=eo(this,_t,E),k=rr(this.I),wn(k,"RID",m),wn(k,"CVER",22),this.D&&wn(k,"X-HTTP-Session-Id",this.D),Ia(this,k),Lt&&(this.O?E="headers="+encodeURIComponent(String(xs(Lt)))+"&"+E:this.m&&wi(k,this.m,Lt)),Hn(this.h,_t),this.Ua&&wn(k,"TYPE","init"),this.P?(wn(k,"$req",E),wn(k,"SID","null"),_t.T=!0,dr(_t,k,null)):dr(_t,k,E),this.G=2}}else this.G==3&&(m?to(this,m):this.i.length==0||ko(this.h)||to(this))};function to(m,E){var k;E?k=E.l:k=m.U++;const Y=rr(m.I);wn(Y,"SID",m.K),wn(Y,"RID",k),wn(Y,"AID",m.T),Ia(m,Y),m.m&&m.o&&wi(Y,m.m,m.o),k=new qn(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=eo(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Hn(m.h,k),dr(k,Y,E)}function Ia(m,E){m.H&&pt(m.H,function(k,Y){wn(E,Y,k)}),m.l&&Il({},function(k,Y){wn(E,Y,k)})}function eo(m,E,k){k=Math.min(m.i.length,k);var Y=m.l?w(m.l.Na,m.l,m):null;t:{var _t=m.i;let Lt=-1;for(;;){const Kt=["count="+k];Lt==-1?0<k?(Lt=_t[0].g,Kt.push("ofs="+Lt)):Lt=0:Kt.push("ofs="+Lt);let Ne=!0;for(let rn=0;rn<k;rn++){let Ve=_t[rn].g;const An=_t[rn].map;if(Ve-=Lt,0>Ve)Lt=Math.max(0,_t[rn].g-100),Ne=!1;else try{Br(An,Kt,"req"+Ve+"_")}catch{Y&&Y(An)}}if(Ne){Y=Kt.join("&");break t}}}return m=m.i.splice(0,k),E.D=m,Y}function Vo(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;ht||Q(),ft||(ht(),ft=!0),Et.add(E,m),m.v=0}}function no(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Rn(w(m.Fa,m),io(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Rn(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Fo(this),Rc(this))};function Na(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Rc(m){m.g=new qn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=rr(m.qa);wn(E,"RID","rpc"),wn(E,"SID",m.K),wn(E,"AID",m.T),wn(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&wn(E,"TO",m.ja),wn(E,"TYPE","xmlhttp"),Ia(m,E),m.m&&m.o&&wi(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=Aa(rr(E)),k.m=null,k.P=!0,Fr(k,m)}n.Za=function(){this.C!=null&&(this.C=null,Fo(this),no(this),le(19))};function ea(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Ra(m,E){var k=null;if(m.g==E){ea(m),Na(m),m.g=null;var Y=2}else if(xl(m.h,E))k=E.D,Wi(m.h,E),Y=1;else return;if(m.G!=0){if(E.o)if(Y==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var _t=m.B;Y=Or(),ge(Y,new Nn(Y,k)),jo(m)}else Vo(m);else if(_t=E.s,_t==3||_t==0&&0<E.X||!(Y==1&&Pl(m,E)||Y==2&&no(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),_t){case 1:yr(m,5);break;case 4:yr(m,10);break;case 3:yr(m,6);break;default:yr(m,2)}}}function io(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function yr(m,E){if(m.j.info("Error code "+E),E==2){var k=w(m.fb,m),Y=m.Xa;const _t=!Y;Y=new dn(Y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ba(Y,"https"),Aa(Y),_t?pr(Y.toString(),k):Vr(Y.toString(),k)}else le(2);m.G=0,m.l&&m.l.sa(E),Bo(m),Za(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Bo(m){if(m.G=0,m.ka=[],m.l){const E=Do(m.h);(E.length!=0||m.i.length!=0)&&(R(m.ka,E),R(m.ka,m.i),m.h.i.length=0,I(m.i),m.i.length=0),m.l.ra()}}function S(m,E,k){var Y=k instanceof dn?rr(k):new dn(k);if(Y.g!="")E&&(Y.g=E+"."+Y.g),wa(Y,Y.s);else{var _t=c.location;Y=_t.protocol,E=E?E+"."+_t.hostname:_t.hostname,_t=+_t.port;var Lt=new dn(null);Y&&ba(Lt,Y),E&&(Lt.g=E),_t&&wa(Lt,_t),k&&(Lt.l=k),Y=Lt}return k=m.D,E=m.ya,k&&E&&wn(Y,k,E),wn(Y,"VER",m.la),Ia(m,Y),Y}function B(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new nn(new Sa({eb:k})):new nn(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rt(){}n=rt.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dt(){}dt.prototype.g=function(m,E){return new bt(m,E)};function bt(m,E){_e.call(this),this.g=new xa(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!M(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new ie(this)}x(bt,_e),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){ta(this.g)},bt.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Je(m),m=k);E.i.push(new Tc(E.Ya++,m)),E.G==3&&jo(E)},bt.prototype.N=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,bt.aa.N.call(this)};function Ft(m){er.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const k in E){m=k;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}x(Ft,er);function Yt(){zn.call(this),this.status=1}x(Yt,zn);function ie(m){this.g=m}x(ie,rt),ie.prototype.ua=function(){ge(this.g,"a")},ie.prototype.ta=function(m){ge(this.g,new Ft(m))},ie.prototype.sa=function(m){ge(this.g,new Yt)},ie.prototype.ra=function(){ge(this.g,"b")},dt.prototype.createWebChannel=dt.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,Dx=function(){return new dt},kx=function(){return Or()},Px=Te,F2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,jm=Gi,Li.COMPLETE="complete",Lx=Li,Un.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",_e.prototype.listen=_e.prototype.K,ip=Un,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,Cx=nn}).apply(typeof om<"u"?om:typeof self<"u"?self:typeof window<"u"?window:{});const aA="@firebase/firestore",oA="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Yp("@firebase/firestore");function wf(){return Rh.logLevel}function ue(n,...t){if(Rh.logLevel<=ln.DEBUG){const e=t.map(Jv);Rh.debug(`Firestore (${td}): ${n}`,...e)}}function mc(n,...t){if(Rh.logLevel<=ln.ERROR){const e=t.map(Jv);Rh.error(`Firestore (${td}): ${n}`,...e)}}function qf(n,...t){if(Rh.logLevel<=ln.WARN){const e=t.map(Jv);Rh.warn(`Firestore (${td}): ${n}`,...e)}}function Jv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Mx(n,i,e)}function Mx(n,t,e){let i=`FIRESTORE (${td}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw mc(i),new Error(i)}function kn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||Mx(t,r,i)}function He(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends $a{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ns.UNAUTHENTICATED))}shutdown(){}}class mk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class yk{constructor(t){this.t=t,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){kn(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,e(u)):Promise.resolve();let s=new Ah;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ah,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ah)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kn(typeof i.accessToken=="string",31837,{l:i}),new Ox(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kn(t===null||typeof t=="string",2055,{h:t}),new ns(t)}}class vk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _k{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new vk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bk{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_s(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){kn(this.o===void 0,3512);const i=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lA(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new lA(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=wk(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function en(n,t){return n<t?-1:n>t?1:0}function j2(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return en(i,r);{const s=Fx(),o=Ak(s.encode(cA(n,e)),s.encode(cA(t,e)));return o!==0?o:en(i,r)}}e+=i>65535?2:1}return en(n.length,t.length)}function cA(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Ak(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return en(n[e],t[e]);return en(n.length,t.length)}function Hf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=-62135596800,hA=1e6;class cr{static now(){return cr.fromMillis(Date.now())}static fromDate(t){return cr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*hA);return new cr(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ye($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ye($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<uA)throw new ye($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ye($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hA}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-uA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(t){return new Ue(t)}static min(){return new Ue(new cr(0,0))}static max(){return new Ue(new cr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__name__";class pl{constructor(t,e,i){e===void 0?e=0:e>t.length&&Oe(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Oe(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return pl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pl?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=pl.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return en(t.length,e.length)}static compareSegments(t,e){const i=pl.isNumericId(t),r=pl.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?pl.extractNumericId(t).compare(pl.extractNumericId(e)):j2(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wu.fromString(t.substring(4,t.length-2))}}class ii extends pl{construct(t,e,i){return new ii(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ye($t.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ii(e)}static emptyPath(){return new ii([])}}const Sk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends pl{construct(t,e,i){return new Dr(t,e,i)}static isValidIdentifier(t){return Sk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fA}static keyField(){return new Dr([fA])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ye($t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if(c==="\\"){if(r+1===t.length)throw new ye($t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ye($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new ye($t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dr(e)}static emptyPath(){return new Dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.path=t}static fromPath(t){return new xe(ii.fromString(t))}static fromName(t){return new xe(ii.fromString(t).popFirst(5))}static empty(){return new xe(ii.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ii.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ii.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xe(new ii(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function Tk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ue.fromTimestamp(i===1e9?new cr(e+1,0):new cr(e,i));return new xu(r,xe.empty(),t)}function Ek(n){return new xu(n.readTime,n.key,Lp)}class xu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new xu(Ue.min(),xe.empty(),Lp)}static max(){return new xu(Ue.max(),xe.empty(),Lp)}}function xk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=xe.comparator(n.documentKey,t.documentKey),e!==0?e:en(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(n){if(n.code!==$t.FAILED_PRECONDITION||n.message!==Ik)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Wt?e:Wt.resolve(e)}catch(e){return Wt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Wt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Wt.reject(e)}static resolve(t){return new Wt((e,i)=>{e(t)})}static reject(t){return new Wt((e,i)=>{i(t)})}static waitFor(t){return new Wt((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=Wt.resolve(!1);for(const i of t)e=e.next(r=>r?Wt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Wt((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(p=>{o[f]=p,++c,c===s&&i(o)},p=>r(p))}})}static doWhile(t,e){return new Wt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function Rk(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}U0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-1;function z0(n){return n==null}function u0(n){return n===0&&1/n==-1/0}function Ck(n){return typeof n=="number"&&Number.isInteger(n)&&!u0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="";function Lk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=dA(t)),t=Pk(n.get(e),t);return dA(t)}function Pk(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case Vx:e+="";break;default:e+=s}}return e}function dA(n){return n+Vx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Bx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e){this.comparator=t,this.root=e||kr.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lm(this.root,t,this.comparator,!1)}getReverseIterator(){return new lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lm(this.root,t,this.comparator,!0)}}class lm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??kr.RED,this.left=r??kr.EMPTY,this.right=s??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new kr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Oe(27949);return t+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new kr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gA(this.data.getIterator())}getIteratorFrom(t){return new gA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ur)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ur(this.comparator);return e.data=t,e}}class gA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t){this.fields=t,t.sort(Dr.comparator)}static empty(){return new da([])}unionWith(t){let e=new ur(Dr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new da(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ux("Invalid base64 string: "+s):s}}(t);return new Mr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Mr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const kk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(kn(!!n,39018),typeof n=="string"){let t=0;const e=kk.exec(n);if(kn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nu(n){return typeof n=="string"?Mr.fromBase64String(n):Mr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="server_timestamp",qx="__type__",Hx="__previous_value__",Gx="__local_write_time__";function t_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[qx])===null||e===void 0?void 0:e.stringValue)===zx}function q0(n){const t=n.mapValue.fields[Hx];return t_(t)?q0(t):t}function Pp(n){const t=Iu(n.mapValue.fields[Gx].timestampValue);return new cr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,e,i,r,s,o,c,u,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const h0="(default)";class kp{constructor(t,e){this.projectId=t,this.database=e||h0}static empty(){return new kp("","")}get isDefaultDatabase(){return this.database===h0}isEqual(t){return t instanceof kp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__type__",Mk="__max__",cm={mapValue:{}},$x="__vector__",f0="value";function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:Fk(n)?9007199254740991:Ok(n)?10:11:Oe(28295,{value:n})}function Sl(n,t){if(n===t)return!0;const e=Ru(n);if(e!==Ru(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pp(n).isEqual(Pp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Iu(r.timestampValue),c=Iu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return Nu(r.bytesValue).isEqual(Nu(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Bi(r.geoPointValue.latitude)===Bi(s.geoPointValue.latitude)&&Bi(r.geoPointValue.longitude)===Bi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Bi(r.integerValue)===Bi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Bi(r.doubleValue),c=Bi(s.doubleValue);return o===c?u0(o)===u0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Hf(n.arrayValue.values||[],t.arrayValue.values||[],Sl);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(pA(o)!==pA(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Sl(o[u],c[u])))return!1;return!0}(n,t);default:return Oe(52216,{left:n})}}function Dp(n,t){return(n.values||[]).find(e=>Sl(e,t))!==void 0}function Gf(n,t){if(n===t)return 0;const e=Ru(n),i=Ru(t);if(e!==i)return en(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Bi(s.integerValue||s.doubleValue),u=Bi(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return mA(n.timestampValue,t.timestampValue);case 4:return mA(Pp(n),Pp(t));case 5:return j2(n.stringValue,t.stringValue);case 6:return function(s,o){const c=Nu(s),u=Nu(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=en(c[f],u[f]);if(p!==0)return p}return en(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=en(Bi(s.latitude),Bi(o.latitude));return c!==0?c:en(Bi(s.longitude),Bi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return yA(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,u,f,p;const y=s.fields||{},w=o.fields||{},_=(c=y[f0])===null||c===void 0?void 0:c.arrayValue,x=(u=w[f0])===null||u===void 0?void 0:u.arrayValue,I=en(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:yA(_,x)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===cm.mapValue&&o===cm.mapValue)return 0;if(s===cm.mapValue)return 1;if(o===cm.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const w=j2(u[y],p[y]);if(w!==0)return w;const _=Gf(c[u[y]],f[p[y]]);if(_!==0)return _}return en(u.length,p.length)}(n.mapValue,t.mapValue);default:throw Oe(23264,{Pe:e})}}function mA(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return en(n,t);const e=Iu(n),i=Iu(t),r=en(e.seconds,i.seconds);return r!==0?r:en(e.nanos,i.nanos)}function yA(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=Gf(e[r],i[r]);if(s)return s}return en(e.length,i.length)}function Wf(n){return V2(n)}function V2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Iu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Nu(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return xe.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=V2(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${V2(e.fields[o])}`;return r+"}"}(n.mapValue):Oe(61005,{value:n})}function Vm(n){switch(Ru(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=q0(n);return t?16+Vm(t):16;case 5:return 2*n.stringValue.length;case 6:return Nu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Vm(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Bu(i.fields,(s,o)=>{r+=s.length+Vm(o)}),r}(n.mapValue);default:throw Oe(13486,{value:n})}}function vA(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function B2(n){return!!n&&"integerValue"in n}function e_(n){return!!n&&"arrayValue"in n}function _A(n){return!!n&&"nullValue"in n}function bA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bm(n){return!!n&&"mapValue"in n}function Ok(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Wx])===null||e===void 0?void 0:e.stringValue)===$x}function dp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Bu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=dp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=dp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Fk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Mk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.value=t}static empty(){return new js({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Bm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dp(e)}setAll(t){let e=Dr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=dp(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Bm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Sl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Bm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Bu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new js(dp(this.value))}}function Yx(n){const t=[];return Bu(n.fields,(e,i)=>{const r=new Dr([e]);if(Bm(i)){const s=Yx(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new da(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new rs(t,0,Ue.min(),Ue.min(),Ue.min(),js.empty(),0)}static newFoundDocument(t,e,i,r){return new rs(t,1,e,Ue.min(),i,r,0)}static newNoDocument(t,e){return new rs(t,2,e,Ue.min(),Ue.min(),js.empty(),0)}static newUnknownDocument(t,e){return new rs(t,3,e,Ue.min(),Ue.min(),js.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,e){this.position=t,this.inclusive=e}}function wA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=xe.comparator(xe.fromName(o.referenceValue),e.key):i=Gf(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function AA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Sl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,e="asc"){this.field=t,this.dir=e}}function jk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{}class Ji extends Kx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Bk(t,e,i):e==="array-contains"?new qk(t,i):e==="in"?new Hk(t,i):e==="not-in"?new Gk(t,i):e==="array-contains-any"?new Wk(t,i):new Ji(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Uk(t,i):new zk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gf(e,this.value)):e!==null&&Ru(this.value)===Ru(e)&&this.matchesComparison(Gf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ro extends Kx{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ro(t,e)}matches(t){return Xx(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function Qx(n){return Vk(n)&&Xx(n)}function Vk(n){for(const t of n.filters)if(t instanceof Ro)return!1;return!0}function U2(n){if(n instanceof Ji)return n.field.canonicalString()+n.op.toString()+Wf(n.value);if(Qx(n))return n.filters.map(t=>U2(t)).join(",");{const t=n.filters.map(e=>U2(e)).join(",");return`${n.op}(${t})`}}function Jx(n,t){return n instanceof Ji?function(i,r){return r instanceof Ji&&i.op===r.op&&i.field.isEqual(r.field)&&Sl(i.value,r.value)}(n,t):n instanceof Ro?function(i,r){return r instanceof Ro&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&Jx(o,r.filters[c]),!0):!1}(n,t):void Oe(19439)}function Zx(n){return n instanceof Ji?function(e){return`${e.field.canonicalString()} ${e.op} ${Wf(e.value)}`}(n):n instanceof Ro?function(e){return e.op.toString()+" {"+e.getFilters().map(Zx).join(" ,")+"}"}(n):"Filter"}class Bk extends Ji{constructor(t,e,i){super(t,e,i),this.key=xe.fromName(i.referenceValue)}matches(t){const e=xe.comparator(t.key,this.key);return this.matchesComparison(e)}}class Uk extends Ji{constructor(t,e){super(t,"in",e),this.keys=t4("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zk extends Ji{constructor(t,e){super(t,"not-in",e),this.keys=t4("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function t4(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>xe.fromName(i.referenceValue))}class qk extends Ji{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return e_(e)&&Dp(e.arrayValue,this.value)}}class Hk extends Ji{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Dp(this.value.arrayValue,e)}}class Gk extends Ji{constructor(t,e){super(t,"not-in",e)}matches(t){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Dp(this.value.arrayValue,e)}}class Wk extends Ji{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!e_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Dp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Ie=null}}function SA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new $k(n,t,e,i,r,s,o)}function n_(n){const t=He(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>U2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),z0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Wf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Wf(i)).join(",")),t.Ie=e}return t.Ie}function i_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!jk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Jx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!AA(n.startAt,t.startAt)&&AA(n.endAt,t.endAt)}function z2(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yk(n,t,e,i,r,s,o,c){return new tg(n,t,e,i,r,s,o,c)}function r_(n){return new tg(n)}function TA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e4(n){return n.collectionGroup!==null}function pp(n){const t=He(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ur(Dr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new p0(s,i))}),e.has(Dr.keyField().canonicalString())||t.Ee.push(new p0(Dr.keyField(),i))}return t.Ee}function _l(n){const t=He(n);return t.de||(t.de=Kk(t,pp(n))),t.de}function Kk(n,t){if(n.limitType==="F")return SA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new p0(r.field,s)});const e=n.endAt?new d0(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new d0(n.startAt.position,n.startAt.inclusive):null;return SA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function q2(n,t){const e=n.filters.concat([t]);return new tg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function H2(n,t,e){return new tg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function H0(n,t){return i_(_l(n),_l(t))&&n.limitType===t.limitType}function n4(n){return`${n_(_l(n))}|lt:${n.limitType}`}function Af(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Zx(r)).join(", ")}]`),z0(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Wf(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Wf(r)).join(",")),`Target(${i})`}(_l(n))}; limitType=${n.limitType})`}function G0(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):xe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of pp(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,c,u){const f=wA(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,pp(i),r)||i.endAt&&!function(o,c,u){const f=wA(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,pp(i),r))}(n,t)}function Xk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i4(n){return(t,e)=>{let i=!1;for(const r of pp(n)){const s=Qk(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Qk(n,t,e){const i=n.field.isKeyField()?xe.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return u!==null&&f!==null?Gf(u,f):Oe(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Bu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new vi(xe.comparator);function yc(){return Jk}const r4=new vi(xe.comparator);function rp(...n){let t=r4;for(const e of n)t=t.insert(e.key,e);return t}function s4(n){let t=r4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function _h(){return gp()}function a4(){return gp()}function gp(){return new Fh(n=>n.toString(),(n,t)=>n.isEqual(t))}const Zk=new vi(xe.comparator),tD=new ur(xe.comparator);function hn(...n){let t=tD;for(const e of n)t=t.add(e);return t}const eD=new ur(en);function nD(){return eD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u0(t)?"-0":t}}function o4(n){return{integerValue:""+n}}function iD(n,t){return Ck(t)?o4(t):s_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this._=void 0}}function rD(n,t,e){return n instanceof g0?function(r,s){const o={fields:{[qx]:{stringValue:zx},[Gx]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&t_(s)&&(s=q0(s)),s&&(o.fields[Hx]=s),{mapValue:o}}(e,t):n instanceof Mp?c4(n,t):n instanceof Op?u4(n,t):function(r,s){const o=l4(r,s),c=EA(o)+EA(r.Re);return B2(o)&&B2(r.Re)?o4(c):s_(r.serializer,c)}(n,t)}function sD(n,t,e){return n instanceof Mp?c4(n,t):n instanceof Op?u4(n,t):e}function l4(n,t){return n instanceof m0?function(i){return B2(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class g0 extends W0{}class Mp extends W0{constructor(t){super(),this.elements=t}}function c4(n,t){const e=h4(t);for(const i of n.elements)e.some(r=>Sl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Op extends W0{constructor(t){super(),this.elements=t}}function u4(n,t){let e=h4(t);for(const i of n.elements)e=e.filter(r=>!Sl(r,i));return{arrayValue:{values:e}}}class m0 extends W0{constructor(t,e){super(),this.serializer=t,this.Re=e}}function EA(n){return Bi(n.integerValue||n.doubleValue)}function h4(n){return e_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aD(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Mp&&r instanceof Mp||i instanceof Op&&r instanceof Op?Hf(i.elements,r.elements,Sl):i instanceof m0&&r instanceof m0?Sl(i.Re,r.Re):i instanceof g0&&r instanceof g0}(n.transform,t.transform)}class oD{constructor(t,e){this.version=t,this.transformResults=e}}class No{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new No}static exists(t){return new No(void 0,t)}static updateTime(t){return new No(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Um(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class $0{}function f4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new a_(n.key,No.none()):new eg(n.key,n.data,No.none());{const e=n.data,i=js.empty();let r=new ur(Dr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Uu(n.key,i,new da(r.toArray()),No.none())}}function lD(n,t,e){n instanceof eg?function(r,s,o){const c=r.value.clone(),u=IA(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Uu?function(r,s,o){if(!Um(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=IA(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(d4(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function mp(n,t,e,i){return n instanceof eg?function(s,o,c,u){if(!Um(s.precondition,o))return c;const f=s.value.clone(),p=NA(s.fieldTransforms,u,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Uu?function(s,o,c,u){if(!Um(s.precondition,o))return c;const f=NA(s.fieldTransforms,u,o),p=o.data;return p.setAll(d4(s)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(s,o,c){return Um(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function cD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=l4(i.transform,r||null);s!=null&&(e===null&&(e=js.empty()),e.set(i.field,s))}return e||null}function xA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hf(i,r,(s,o)=>aD(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class eg extends $0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uu extends $0{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function d4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function IA(n,t,e){const i=new Map;kn(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,sD(o,c,e[r]))}return i}function NA(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,rD(s,o,t))}return i}class a_ extends $0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uD extends $0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&lD(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=mp(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=mp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=a4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=f4(o,c);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&Hf(this.mutations,t.mutations,(e,i)=>xA(e,i))&&Hf(this.baseMutations,t.baseMutations,(e,i)=>xA(e,i))}}class o_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){kn(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return Zk}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new o_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi,vn;function pD(n){switch(n){case $t.OK:return Oe(64938);case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function p4(n){if(n===void 0)return mc("GRPC error has no .code"),$t.UNKNOWN;switch(n){case Qi.OK:return $t.OK;case Qi.CANCELLED:return $t.CANCELLED;case Qi.UNKNOWN:return $t.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return $t.INTERNAL;case Qi.UNAVAILABLE:return $t.UNAVAILABLE;case Qi.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case Qi.NOT_FOUND:return $t.NOT_FOUND;case Qi.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case Qi.ABORTED:return $t.ABORTED;case Qi.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case Qi.DATA_LOSS:return $t.DATA_LOSS;default:return Oe(39323,{code:n})}}(vn=Qi||(Qi={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new wu([4294967295,4294967295],0);function RA(n){const t=Fx().encode(n),e=new Rx;return e.update(t),new Uint8Array(e.digest())}function CA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new wu([e,i],0),new wu([r,s],0)]}class l_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new sp(`Invalid padding: ${e}`);if(i<0)throw new sp(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new sp(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new sp(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=wu.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(wu.fromNumber(i)));return r.compare(gD)===1&&(r=new wu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=RA(t),[i,r]=CA(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.be(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new l_(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(this.pe===0)return;const e=RA(t),[i,r]=CA(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ng.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Y0(Ue.min(),r,new vi(en),yc(),hn())}}class ng{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ng(i,e,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class g4{constructor(t,e){this.targetId=t,this.Ce=e}}class m4{constructor(t,e,i=Mr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class LA{constructor(){this.Fe=0,this.Me=PA(),this.xe=Mr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=hn(),e=hn(),i=hn();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Oe(38017,{changeType:s})}}),new ng(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=PA()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,kn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mD{constructor(t){this.ze=t,this.je=new Map,this.He=yc(),this.Je=um(),this.Ye=um(),this.Ze=new vi(en)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Oe(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const s=r.target;if(z2(s))if(i===0){const o=new xe(s.path);this.tt(e,o,rs.newNoDocument(o,Ue.min()))}else kn(i===1,20013,{expectedCount:i});else{const o=this.ut(e);if(o!==i){const c=this.ct(t),u=c?this.lt(c,t,o):1;if(u!==0){this.st(e);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,f)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=Nu(i).toUint8Array()}catch(u){if(u instanceof Ux)return qf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new l_(o,r,s)}catch(u){return qf(u instanceof sp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,s,null),r++)}),r}It(t){const e=new Map;this.je.forEach((s,o)=>{const c=this._t(o);if(c){if(s.current&&z2(c.target)){const u=new xe(c.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,rs.newNoDocument(u,t))}s.Le&&(e.set(o,s.qe()),s.Qe())}});let i=hn();this.Ye.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const r=new Y0(t,e,this.Ze,this.He,i);return this.He=yc(),this.Je=um(),this.Ye=um(),this.Ze=new vi(en),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new LA,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new ur(en),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new ur(en),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new LA),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function um(){return new vi(xe.comparator)}function PA(){return new vi(xe.comparator)}const yD={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_D={and:"AND",or:"OR"};class bD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function G2(n,t){return n.useProto3Json||z0(t)?t:{value:t}}function y0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function y4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function wD(n,t){return y0(n,t.toTimestamp())}function bl(n){return kn(!!n,49232),Ue.fromTimestamp(function(e){const i=Iu(e);return new cr(i.seconds,i.nanos)}(n))}function c_(n,t){return W2(n,t).canonicalString()}function W2(n,t){const e=function(r){return new ii(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function v4(n){const t=ii.fromString(n);return kn(S4(t),10190,{key:t.toString()}),t}function $2(n,t){return c_(n.databaseId,t.path)}function jy(n,t){const e=v4(t);if(e.get(1)!==n.databaseId.projectId)throw new ye($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ye($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xe(b4(e))}function _4(n,t){return c_(n.databaseId,t)}function AD(n){const t=v4(n);return t.length===4?ii.emptyPath():b4(t)}function Y2(n){return new ii(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b4(n){return kn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kA(n,t,e){return{name:$2(n,t),fields:e.value.mapValue.fields}}function SD(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(kn(p===void 0||typeof p=="string",58123),Mr.fromBase64String(p||"")):(kn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Mr.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const p=f.code===void 0?$t.UNKNOWN:p4(f.code);return new ye(p,f.message||"")}(o);e=new m4(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=jy(n,i.document.name),s=bl(i.document.updateTime),o=i.document.createTime?bl(i.document.createTime):Ue.min(),c=new js({mapValue:{fields:i.document.fields}}),u=rs.newFoundDocument(r,s,o,c),f=i.targetIds||[],p=i.removedTargetIds||[];e=new zm(f,p,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=jy(n,i.document),s=i.readTime?bl(i.readTime):Ue.min(),o=rs.newNoDocument(r,s),c=i.removedTargetIds||[];e=new zm([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=jy(n,i.document),s=i.removedTargetIds||[];e=new zm([],s,r,null)}else{if(!("filter"in t))return Oe(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new dD(r,s),c=i.targetId;e=new g4(c,o)}}return e}function TD(n,t){let e;if(t instanceof eg)e={update:kA(n,t.key,t.value)};else if(t instanceof a_)e={delete:$2(n,t.key)};else if(t instanceof Uu)e={update:kA(n,t.key,t.data),updateMask:kD(t.fieldMask)};else{if(!(t instanceof uD))return Oe(16599,{ft:t.type});e={verify:$2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof g0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Op)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof m0)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw Oe(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:wD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe(27497)}(n,t.precondition)),e}function ED(n,t){return n&&n.length>0?(kn(t!==void 0,14353),n.map(e=>function(r,s){let o=r.updateTime?bl(r.updateTime):bl(s);return o.isEqual(Ue.min())&&(o=bl(s)),new oD(o,r.transformResults||[])}(e,t))):[]}function xD(n,t){return{documents:[_4(n,t.path)]}}function ID(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=_4(n,r);const s=function(f){if(f.length!==0)return A4(Ro.create(f,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(p=>function(w){return{field:Sf(w.field),direction:CD(w.dir)}}(p))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=G2(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:e,parent:r}}function ND(n){let t=AD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){kn(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=function(y){const w=w4(y);return w instanceof Ro&&Qx(w)?w.getFilters():[w]}(e.where));let o=[];e.orderBy&&(o=function(y){return y.map(w=>function(x){return new p0(Tf(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(e.orderBy));let c=null;e.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,z0(w)?null:w}(e.limit));let u=null;e.startAt&&(u=function(y){const w=!!y.before,_=y.values||[];return new d0(_,w)}(e.startAt));let f=null;return e.endAt&&(f=function(y){const w=!y.before,_=y.values||[];return new d0(_,w)}(e.endAt)),Yk(t,r,o,s,c,"F",u,f)}function RD(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function w4(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Tf(e.unaryFilter.field);return Ji.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Tf(e.unaryFilter.field);return Ji.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tf(e.unaryFilter.field);return Ji.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tf(e.unaryFilter.field);return Ji.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ji.create(Tf(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ro.create(e.compositeFilter.filters.map(i=>w4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(e.compositeFilter.op))}(n):Oe(30097,{filter:n})}function CD(n){return yD[n]}function LD(n){return vD[n]}function PD(n){return _D[n]}function Sf(n){return{fieldPath:n.canonicalString()}}function Tf(n){return Dr.fromServerFormat(n.fieldPath)}function A4(n){return n instanceof Ji?function(e){if(e.op==="=="){if(bA(e.value))return{unaryFilter:{field:Sf(e.field),op:"IS_NAN"}};if(_A(e.value))return{unaryFilter:{field:Sf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bA(e.value))return{unaryFilter:{field:Sf(e.field),op:"IS_NOT_NAN"}};if(_A(e.value))return{unaryFilter:{field:Sf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sf(e.field),op:LD(e.op),value:e.value}}}(n):n instanceof Ro?function(e){const i=e.getFilters().map(r=>A4(r));return i.length===1?i[0]:{compositeFilter:{op:PD(e.op),filters:i}}}(n):Oe(54877,{filter:n})}function kD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function S4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,e,i,r,s=Ue.min(),o=Ue.min(),c=Mr.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new pu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.wt=t}}function MD(n){const t=ND({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?H2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Cn=new FD}addToCollectionParentIndex(t,e){return this.Cn.add(e),Wt.resolve()}getCollectionParents(t,e){return Wt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Wt.resolve()}deleteFieldIndex(t,e){return Wt.resolve()}deleteAllFieldIndexes(t){return Wt.resolve()}createTargetIndexes(t,e){return Wt.resolve()}getDocumentsMatchingTarget(t,e){return Wt.resolve(null)}getIndexType(t,e){return Wt.resolve(0)}getFieldIndexes(t,e){return Wt.resolve([])}getNextCollectionGroupToUpdate(t){return Wt.resolve(null)}getMinOffset(t,e){return Wt.resolve(xu.min())}getMinOffsetFromCollectionGroup(t,e){return Wt.resolve(xu.min())}updateCollectionGroup(t,e,i){return Wt.resolve()}updateIndexEntries(t,e){return Wt.resolve()}}class FD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ur(ii.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ur(ii.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T4=41943040;class Fs{static withCacheSize(t){return new Fs(t,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(T4,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new $f(0)}static lr(){return new $f(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="LruGarbageCollector",jD=1048576;function OA([n,t],[e,i]){const r=en(n,e);return r===0?en(t,i):r}class VD{constructor(t){this.Er=t,this.buffer=new ur(OA),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();OA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class BD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ue(MA,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nd(e)?ue(MA,"Ignoring IndexedDB error during garbage collection: ",e):await ed(e)}await this.mr(3e5)})}}class UD{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Wt.resolve(U0.le);const i=new VD(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(DA)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DA):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,s,o,c,u,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,o=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,e))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),wf()<=ln.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${y} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})))}}function zD(n,t){return new UD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.changes=new Fh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Wt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&mp(i.mutation,r,da.empty(),cr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=_h();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=rp();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=_h();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=yc();const o=gp(),c=function(){return gp()}();return e.forEach((u,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Uu)?s=s.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),mp(p.mutation,f,p.mutation.getFieldMask(),cr.now())):o.set(f.key,da.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,p)=>o.set(f,p)),e.forEach((f,p)=>{var y;return c.set(f,new HD(p,(y=o.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,e){const i=gp();let r=new vi((o,c)=>o-c),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(f===null)return;let p=i.get(u)||da.empty();p=c.applyToLocalView(f,p),i.set(u,p);const y=(r.get(c.batchId)||hn()).add(u);r=r.insert(c.batchId,y)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,y=a4();p.forEach(w=>{if(!s.has(w)){const _=f4(e.get(w),i.get(w));_!==null&&y.set(w,_),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,y))}return Wt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):e4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Wt.resolve(_h());let c=Lp,u=s;return o.next(f=>Wt.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?Wt.resolve():this.remoteDocumentCache.getEntry(t,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,hn())).next(p=>({batchId:c,changes:s4(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xe(e)).next(i=>{let r=rp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=rp();return this.indexManager.getCollectionParents(t,s).next(c=>Wt.forEach(c,u=>{const f=function(y,w){return new tg(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(p=>{p.forEach((y,w)=>{o=o.insert(y,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,rs.newInvalidDocument(p)))});let c=rp();return o.forEach((u,f)=>{const p=s.get(u);p!==void 0&&mp(p.mutation,f,da.empty(),cr.now()),G0(e,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return Wt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:bl(r.createTime)}}(e)),Wt.resolve()}getNamedQuery(t,e){return Wt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:MD(r.bundledQuery),readTime:bl(r.readTime)}}(e)),Wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new vi(xe.comparator),this.Qr=new Map}getOverlay(t,e){return Wt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=_h();return Wt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.St(t,e,s)}),Wt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),Wt.resolve()}getOverlaysForCollection(t,e,i){const r=_h(),s=e.length+1,o=new xe(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Wt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new vi((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=_h(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=_h(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=r)););return Wt.resolve(c)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new fD(e,i));let s=this.Qr.get(e);s===void 0&&(s=hn(),this.Qr.set(e,s)),this.Qr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(t){return Wt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.$r=new ur(Ar.Ur),this.Kr=new ur(Ar.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new Ar(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new xe(new ii([])),i=new Ar(e,t),r=new Ar(e,t+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new xe(new ii([])),i=new Ar(e,t),r=new Ar(e,t+1);let s=hn();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Ar(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return xe.comparator(t.key,e.key)||en(t.Zr,e.Zr)}static Wr(t,e){return en(t.Zr,e.Zr)||xe.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new ur(Ar.Ur)}checkEmpty(t){return Wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hD(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.Xr=this.Xr.add(new Ar(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Wt.resolve(o)}lookupMutationBatch(t,e){return Wt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),s=r<0?0:r;return Wt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(this.mutationQueue.length===0?Zv:this.nr-1)}getAllMutationBatches(t){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const c=this.ei(o.Zr);s.push(c)}),Wt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ur(en);return e.forEach(r=>{const s=new Ar(r,0),o=new Ar(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],c=>{i=i.add(c.Zr)})}),Wt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;xe.isDocumentKey(s)||(s=s.child(""));const o=new Ar(new xe(s),0);let c=new ur(en);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.Zr)),!0)},o),Wt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){kn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Wt.forEach(e.mutations,r=>{const s=new Ar(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new Ar(e,0),r=this.Xr.firstAfterOrEqual(i);return Wt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.ii=t,this.docs=function(){return new vi(xe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Wt.resolve(i?i.document.mutableCopy():rs.newInvalidDocument(e))}getEntries(t,e){let i=yc();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rs.newInvalidDocument(r))}),Wt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=yc();const o=e.path,c=new xe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||xk(Ek(p),i)<=0||(r.has(p.key)||G0(e,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Wt.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Oe(9500)}si(t,e){return Wt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new QD(this)}getSize(t){return Wt.resolve(this.size)}}class QD extends qD{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),Wt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.persistence=t,this.oi=new Fh(e=>n_(e),i_),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this._i=0,this.ai=new u_,this.targetCount=0,this.ui=$f.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),Wt.resolve()}getLastRemoteSnapshotVersion(t){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),Wt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new $f(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,Wt.resolve()}updateTargetData(t,e){return this.Tr(e),Wt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Wt.waitFor(s).next(()=>r)}getTargetCount(t){return Wt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return Wt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),Wt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Wt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),Wt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return Wt.resolve(i)}containsKey(t,e){return Wt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,e){this.ci={},this.overlays={},this.li=new U0(0),this.hi=!1,this.hi=!0,this.Pi=new YD,this.referenceDelegate=t(this),this.Ti=new JD(this),this.indexManager=new OD,this.remoteDocumentCache=function(r){return new XD(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new DD(e),this.Ei=new WD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $D,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new KD(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){ue("MemoryPersistence","Starting transaction:",t);const r=new ZD(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,e){return Wt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class ZD extends Nk{constructor(t){super(),this.currentSequenceNumber=t}}class h_{constructor(t){this.persistence=t,this.Vi=new u_,this.mi=null}static fi(t){return new h_(t)}get gi(){if(this.mi)return this.mi;throw Oe(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),Wt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),Wt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),Wt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.gi,i=>{const r=xe.fromPath(i);return this.pi(t,r).next(s=>{s||e.removeEntry(r,Ue.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return Wt.or([()=>Wt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class v0{constructor(t,e){this.persistence=t,this.yi=new Fh(i=>Lk(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=zD(this,e)}static fi(t,e){return new v0(t,e)}di(){}Ai(t){return Wt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return Wt.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?Wt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,o=>this.Dr(t,o,e).next(c=>{c||(i++,s.removeEntry(o,Ue.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),Wt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Wt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Wt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),Wt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Vm(t.data.value)),e}Dr(t,e,i){return Wt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return Wt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=hn(),r=hn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new f_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return CR()?8:Rk(cs())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ws(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tM;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.fs)return this.Ds(t,e,o,c.size)})}).next(()=>s.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(wf()<=ln.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Af(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Wt.resolve()):(wf()<=ln.DEBUG&&ue("QueryEngine","Query:",Af(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(wf()<=ln.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Af(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_l(e))):Wt.resolve())}ws(t,e){if(TA(e))return Wt.resolve(null);let i=_l(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=H2(e,null,"F"),i=_l(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=hn(...s);return this.ys.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.vs(e,c);return this.Cs(e,f,o,u.readTime)?this.ws(t,H2(e,null,"F")):this.Fs(t,f,e,u)}))})))}bs(t,e,i,r){return TA(e)||r.isEqual(Ue.min())?Wt.resolve(null):this.ys.getDocuments(t,i).next(s=>{const o=this.vs(e,s);return this.Cs(e,o,i,r)?Wt.resolve(null):(wf()<=ln.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Af(e)),this.Fs(t,o,e,Tk(r,Lp)).next(c=>c))})}vs(t,e){let i=new ur(i4(t));return e.forEach((r,s)=>{G0(t,s)&&(i=i.add(s))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,e,i){return wf()<=ln.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Af(e)),this.ys.getDocumentsMatchingQuery(t,e,xu.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LocalStore",nM=3e8;class iM{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new vi(en),this.Os=new Fh(s=>n_(s),i_),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function rM(n,t,e,i){return new iM(n,t,e,i)}async function x4(n,t){const e=He(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=hn();for(const f of r){o.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return e.localDocuments.getDocuments(i,u).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:c}))})})}function sM(n,t){const e=He(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const y=f.batch,w=y.keys();let _=Wt.resolve();return w.forEach(x=>{_=_.next(()=>p.getEntry(u,x)).next(I=>{const R=f.docVersions.get(x);kn(R!==null,48541),I.version.compareTo(R)<0&&(y.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),p.addEntry(I)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,y))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=hn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function I4(n){const t=He(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function aM(n,t){const e=He(n),i=t.snapshotVersion;let r=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Bs.newChangeBuffer({trackRemovals:!0});r=e.xs;const c=[];t.targetChanges.forEach((p,y)=>{const w=r.get(y);if(!w)return;c.push(e.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(s,p.addedDocuments,y)));let _=w.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(y)!==null?_=_.withResumeToken(Mr.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),r=r.insert(y,_),function(I,R,N){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=nM?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,_,p)&&c.push(e.Ti.updateTargetData(s,_))});let u=yc(),f=hn();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(oM(s,o,t.documentUpdates).next(p=>{u=p.qs,f=p.Qs})),!i.isEqual(Ue.min())){const p=e.Ti.getLastRemoteSnapshotVersion(s).next(y=>e.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(p)}return Wt.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.xs=r,s))}function oM(n,t,e){let i=hn(),r=hn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=yc();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Ue.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):ue(d_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{qs:o,Qs:r}})}function lM(n,t){const e=He(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Zv),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function cM(n,t){const e=He(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ti.getTargetData(i,t).next(s=>s?(r=s,Wt.resolve(r)):e.Ti.allocateTargetId(i).next(o=>(r=new pu(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function K2(n,t,e){const i=He(n),r=i.xs.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!nd(o))throw o;ue(d_,`Failed to update sequence numbers for target ${t}: ${o}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function FA(n,t,e){const i=He(n);let r=Ue.min(),s=hn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,p){const y=He(u),w=y.Os.get(p);return w!==void 0?Wt.resolve(y.xs.get(w)):y.Ti.getTargetData(f,p)}(i,o,_l(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,t,e?r:Ue.min(),e?s:hn())).next(c=>(uM(i,Xk(t),c),{documents:c,$s:s})))}function uM(n,t,e){let i=n.Ns.get(t)||Ue.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(t,i)}class jA{constructor(){this.activeTargetIds=nD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hM{constructor(){this.xo=new jA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="ConnectivityMonitor";class BA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(VA,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ue(VA,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm=null;function X2(){return hm===null?hm=function(){return 268435456+Math.round(2147483648*Math.random())}():hm++,"0x"+hm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="RestConnection",dM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===h0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,s){const o=X2(),c=this.jo(t,e.toUriEncodedString());ue(Vy,`Sending RPC '${t}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:f}=new URL(c),p=ju(f);return this.Jo(t,c,u,i,p).then(y=>(ue(Vy,`Received RPC '${t}' ${o}: `,y),y),y=>{throw qf(Vy,`RPC '${t}' ${o} failed with error: `,y,"url: ",c,"request:",i),y})}Yo(t,e,i,r,s,o){return this.zo(t,e,i,r,s)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+td}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,e){const i=dM[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class mM extends pM{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,s){const o=X2();return new Promise((c,u)=>{const f=new Cx;f.setWithCredentials(!0),f.listenOnce(Lx.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jm.NO_ERROR:const y=f.getResponseJson();ue(Kr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),c(y);break;case jm.TIMEOUT:ue(Kr,`RPC '${t}' ${o} timed out`),u(new ye($t.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const w=f.getStatus();if(ue(Kr,`RPC '${t}' ${o} failed with status:`,w,"response text:",f.getResponseText()),w>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const I=function(N){const M=N.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(M)>=0?M:$t.UNKNOWN}(x.status);u(new ye(I,x.message))}else u(new ye($t.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ye($t.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{h_:t,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{ue(Kr,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(r);ue(Kr,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",p,i,15)})}I_(t,e,i){const r=X2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Dx(),c=kx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const p=s.join("");ue(Kr,`Creating RPC '${t}' stream ${r}: ${p}`,u);const y=o.createWebChannel(p,u);this.E_(y);let w=!1,_=!1;const x=new gM({Zo:R=>{_?ue(Kr,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(w||(ue(Kr,`Opening RPC '${t}' stream ${r} transport.`),y.open(),w=!0),ue(Kr,`RPC '${t}' stream ${r} sending:`,R),y.send(R))},Xo:()=>y.close()}),I=(R,N,M)=>{R.listen(N,G=>{try{M(G)}catch(it){setTimeout(()=>{throw it},0)}})};return I(y,ip.EventType.OPEN,()=>{_||(ue(Kr,`RPC '${t}' stream ${r} transport opened.`),x.__())}),I(y,ip.EventType.CLOSE,()=>{_||(_=!0,ue(Kr,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(y))}),I(y,ip.EventType.ERROR,R=>{_||(_=!0,qf(Kr,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),x.u_(new ye($t.UNAVAILABLE,"The operation could not be completed")))}),I(y,ip.EventType.MESSAGE,R=>{var N;if(!_){const M=R.data[0];kn(!!M,16349);const G=M,it=(G==null?void 0:G.error)||((N=G[0])===null||N===void 0?void 0:N.error);if(it){ue(Kr,`RPC '${t}' stream ${r} received error:`,it);const tt=it.status;let pt=function(U){const K=Qi[U];if(K!==void 0)return p4(K)}(tt),z=it.message;pt===void 0&&(pt=$t.INTERNAL,z="Unknown error status: "+tt+" with message "+it.message),_=!0,x.u_(new ye(pt,z)),y.close()}else ue(Kr,`RPC '${t}' stream ${r} received:`,M),x.c_(M)}}),I(c,Px.STAT_EVENT,R=>{R.stat===F2.PROXY?ue(Kr,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===F2.NOPROXY&&ue(Kr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function By(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n){return new bD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t,e,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,e-i);r>0&&ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="PersistentStream";class R4{constructor(t,e,i,r,s,o,c,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new N4(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===$t.RESOURCE_EXHAUSTED?(mc(e.toString()),mc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===$t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===e&&this.z_(i,r)},i=>{t(()=>{const r=new ye($t.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ue(UA,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(ue(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yM extends R4{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=SD(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ue.min():o.readTime?bl(o.readTime):Ue.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=Y2(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=z2(u)?{documents:xD(s,u)}:{query:ID(s,u).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=y4(s,o.resumeToken);const f=G2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ue.min())>0){c.readTime=y0(s,o.snapshotVersion.toTimestamp());const f=G2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=RD(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=Y2(this.serializer),e.removeTarget=t,this.Q_(e)}}class vM extends R4{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return kn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,kn(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){kn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=ED(t.writeResults,t.commitTime),i=bl(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=Y2(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>TD(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{}class bM extends _M{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ye($t.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(t,W2(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye($t.UNKNOWN,s.toString())})}Yo(t,e,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(t,W2(e,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye($t.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class wM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mc(e),this.ua=!1):ue("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="RemoteStore";class AM{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{i.enqueueAndForget(async()=>{jh(this)&&(ue(Ch,"Restarting streams for network reachability change."),await async function(u){const f=He(u);f.da.add(4),await ig(f),f.Va.set("Unknown"),f.da.delete(4),await X0(f)}(this))})}),this.Va=new wM(i,r)}}async function X0(n){if(jh(n))for(const t of n.Aa)await t(!0)}async function ig(n){for(const t of n.Aa)await t(!1)}function C4(n,t){const e=He(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),y_(e)?m_(e):id(e).N_()&&g_(e,t))}function p_(n,t){const e=He(n),i=id(e);e.Ea.delete(t),i.N_()&&L4(e,t),e.Ea.size===0&&(i.N_()?i.k_():jh(e)&&e.Va.set("Unknown"))}function g_(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ue.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}id(n).Z_(t)}function L4(n,t){n.ma.Ke(t),id(n).X_(t)}function m_(n){n.ma=new mD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),id(n).start(),n.Va.ca()}function y_(n){return jh(n)&&!id(n).O_()&&n.Ea.size>0}function jh(n){return He(n).da.size===0}function P4(n){n.ma=void 0}async function SM(n){n.Va.set("Online")}async function TM(n){n.Ea.forEach((t,e)=>{g_(n,t)})}async function EM(n,t){P4(n),y_(n)?(n.Va.Pa(t),m_(n)):n.Va.set("Unknown")}async function xM(n,t,e){if(n.Va.set("Online"),t instanceof m4&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ea.delete(c),r.ma.removeTarget(c))}(n,t)}catch(i){ue(Ch,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _0(n,i)}else if(t instanceof zm?n.ma.Xe(t):t instanceof g4?n.ma.ot(t):n.ma.nt(t),!e.isEqual(Ue.min()))try{const i=await I4(n.localStore);e.compareTo(i)>=0&&await function(s,o){const c=s.ma.It(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ea.get(f);p&&s.Ea.set(f,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const p=s.Ea.get(u);if(!p)return;s.Ea.set(u,p.withResumeToken(Mr.EMPTY_BYTE_STRING,p.snapshotVersion)),L4(s,u);const y=new pu(p.target,u,f,p.sequenceNumber);g_(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){ue(Ch,"Failed to raise snapshot:",i),await _0(n,i)}}async function _0(n,t,e){if(!nd(t))throw t;n.da.add(1),await ig(n),n.Va.set("Offline"),e||(e=()=>I4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Ch,"Retrying IndexedDB access"),await e(),n.da.delete(1),await X0(n)})}function k4(n,t){return t().catch(e=>_0(n,e,t))}async function Q0(n){const t=He(n),e=Cu(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Zv;for(;IM(t);)try{const r=await lM(t.localStore,i);if(r===null){t.Ia.length===0&&e.k_();break}i=r.batchId,NM(t,r)}catch(r){await _0(t,r)}D4(t)&&M4(t)}function IM(n){return jh(n)&&n.Ia.length<10}function NM(n,t){n.Ia.push(t);const e=Cu(n);e.N_()&&e.ea&&e.ta(t.mutations)}function D4(n){return jh(n)&&!Cu(n).O_()&&n.Ia.length>0}function M4(n){Cu(n).start()}async function RM(n){Cu(n).ia()}async function CM(n){const t=Cu(n);for(const e of n.Ia)t.ta(e.mutations)}async function LM(n,t,e){const i=n.Ia.shift(),r=o_.from(i,t,e);await k4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Q0(n)}async function PM(n,t){t&&Cu(n).ea&&await async function(i,r){if(function(o){return pD(o)&&o!==$t.ABORTED}(r.code)){const s=i.Ia.shift();Cu(i).L_(),await k4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Q0(i)}}(n,t),D4(n)&&M4(n)}async function zA(n,t){const e=He(n);e.asyncQueue.verifyOperationInProgress(),ue(Ch,"RemoteStore received new credentials");const i=jh(e);e.da.add(3),await ig(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await X0(e)}async function kM(n,t){const e=He(n);t?(e.da.delete(2),await X0(e)):t||(e.da.add(2),await ig(e),e.Va.set("Unknown"))}function id(n){return n.fa||(n.fa=function(e,i,r){const s=He(e);return s.oa(),new yM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:SM.bind(null,n),n_:TM.bind(null,n),i_:EM.bind(null,n),Y_:xM.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),y_(n)?m_(n):n.Va.set("Unknown")):(await n.fa.stop(),P4(n))})),n.fa}function Cu(n){return n.ga||(n.ga=function(e,i,r){const s=He(e);return s.oa(),new vM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:RM.bind(null,n),i_:PM.bind(null,n),na:CM.bind(null,n),ra:LM.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await Q0(n)):(await n.ga.stop(),n.Ia.length>0&&(ue(Ch,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ah,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new v_(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye($t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __(n,t){if(mc("AsyncQueue",`${t}: ${n}`),nd(n))return new ye($t.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{static emptySet(t){return new kf(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||xe.comparator(e.key,i.key):(e,i)=>xe.comparator(e.key,i.key),this.keyedMap=rp(),this.sortedSet=new vi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof kf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new kf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.pa=new vi(xe.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Oe(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Yf{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Yf(t,e,kf.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&H0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class MM{constructor(){this.queries=HA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=He(e),s=r.queries;r.queries=HA(),s.forEach((o,c)=>{for(const u of c.Sa)u.onError(i)})})(this,new ye($t.ABORTED,"Firestore shutting down"))}}function HA(){return new Fh(n=>n4(n),H0)}async function OM(n,t){const e=He(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new DM,i=t.va()?0:1);try{switch(i){case 0:s.ba=await e.onListen(r,!0);break;case 1:s.ba=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const c=__(o,`Initialization of query '${Af(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.Sa.push(t),t.Fa(e.onlineState),s.ba&&t.Ma(s.ba)&&b_(e)}async function FM(n,t){const e=He(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function jM(n,t){const e=He(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const c of o.Sa)c.Ma(r)&&(i=!0);o.ba=r}}i&&b_(e)}function VM(n,t,e){const i=He(n),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(e);i.queries.delete(t)}function b_(n){n.Ca.forEach(t=>{t.next()})}var Q2,GA;(GA=Q2||(Q2={})).xa="default",GA.Cache="cache";class BM{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Yf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Yf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Q2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.key=t}}class F4{constructor(t){this.key=t}}class UM{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=hn(),this.mutatedKeys=hn(),this.Za=i4(t),this.Xa=new kf(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new qA,r=e?e.Xa:this.Xa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,y)=>{const w=r.get(p),_=G0(this.query,y)?y:null,x=!!w&&this.mutatedKeys.has(w.key),I=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;w&&_?w.data.isEqual(_.data)?x!==I&&(i.track({type:3,doc:_}),R=!0):this.ru(w,_)||(i.track({type:2,doc:_}),R=!0,(u&&this.Za(_,u)>0||f&&this.Za(_,f)<0)&&(c=!0)):!w&&_?(i.track({type:0,doc:_}),R=!0):w&&!_&&(i.track({type:1,doc:w}),R=!0,(u||f)&&(c=!0)),R&&(_?(o=o.add(_),s=I?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Xa:o,nu:i,Cs:c,mutatedKeys:s}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((p,y)=>function(_,x){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return I(_)-I(x)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(i),r=r!=null&&r;const c=e&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,f=u!==this.Ja;return this.Ja=u,o.length!==0||f?{snapshot:new Yf(this.query,t.Xa,s,o,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new qA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=hn(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new F4(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new O4(i))}),e}au(t){this.Ha=t.$s,this.Ya=hn();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Yf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const w_="SyncEngine";class zM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class qM{constructor(t){this.key=t,this.cu=!1}}class HM{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Fh(c=>n4(c),H0),this.Pu=new Map,this.Tu=new Set,this.Iu=new vi(xe.comparator),this.Eu=new Map,this.du=new u_,this.Au={},this.Ru=new Map,this.Vu=$f.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GM(n,t,e=!0){const i=q4(n);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await j4(i,t,e,!0),r}async function WM(n,t){const e=q4(n);await j4(e,t,!0,!1)}async function j4(n,t,e,i){const r=await cM(n.localStore,_l(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let c;return i&&(c=await $M(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&C4(n.remoteStore,r),c}async function $M(n,t,e,i,r){n.fu=(y,w,_)=>async function(I,R,N,M){let G=R.view.tu(N);G.Cs&&(G=await FA(I.localStore,R.query,!1).then(({documents:z})=>R.view.tu(z,G)));const it=M&&M.targetChanges.get(R.targetId),tt=M&&M.targetMismatches.get(R.targetId)!=null,pt=R.view.applyChanges(G,I.isPrimaryClient,it,tt);return $A(I,R.targetId,pt.ou),pt.snapshot}(n,y,w,_);const s=await FA(n.localStore,t,!0),o=new UM(t,s.$s),c=o.tu(s.documents),u=ng.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=o.applyChanges(c,n.isPrimaryClient,u);$A(n,e,f.ou);const p=new zM(t,e,o);return n.hu.set(t,p),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),f.snapshot}async function YM(n,t,e){const i=He(n),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(o=>!H0(o,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await K2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&p_(i.remoteStore,r.targetId),J2(i,r.targetId)}).catch(ed)):(J2(i,r.targetId),await K2(i.localStore,r.targetId,!0))}async function KM(n,t){const e=He(n),i=e.hu.get(t),r=e.Pu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),p_(e.remoteStore,i.targetId))}async function XM(n,t,e){const i=iO(n);try{const r=await function(o,c){const u=He(o),f=cr.now(),p=c.reduce((_,x)=>_.add(x.key),hn());let y,w;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=yc(),I=hn();return u.Bs.getEntries(_,p).next(R=>{x=R,x.forEach((N,M)=>{M.isValidDocument()||(I=I.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(R=>{y=R;const N=[];for(const M of c){const G=cD(M,y.get(M.key).overlayedDocument);G!=null&&N.push(new Uu(M.key,G,Yx(G.value.mapValue),No.exists(!0)))}return u.mutationQueue.addMutationBatch(_,f,N,c)}).next(R=>{w=R;const N=R.applyToLocalDocumentSet(y,I);return u.documentOverlayCache.saveOverlays(_,R.batchId,N)})}).then(()=>({batchId:w.batchId,changes:s4(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Au[o.currentUser.toKey()];f||(f=new vi(en)),f=f.insert(c,u),o.Au[o.currentUser.toKey()]=f}(i,r.batchId,e),await rg(i,r.changes),await Q0(i.remoteStore)}catch(r){const s=__(r,"Failed to persist write");e.reject(s)}}async function V4(n,t){const e=He(n);try{const i=await aM(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Eu.get(s);o&&(kn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?kn(o.cu,14607):r.removedDocuments.size>0&&(kn(o.cu,42227),o.cu=!1))}),await rg(e,i,t)}catch(i){await ed(i)}}function WA(n,t,e){const i=He(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.hu.forEach((s,o)=>{const c=o.view.Fa(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=He(o);u.onlineState=c;let f=!1;u.queries.forEach((p,y)=>{for(const w of y.Sa)w.Fa(c)&&(f=!0)}),f&&b_(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function QM(n,t,e){const i=He(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),s=r&&r.key;if(s){let o=new vi(xe.comparator);o=o.insert(s,rs.newNoDocument(s,Ue.min()));const c=hn().add(s),u=new Y0(Ue.min(),new Map,new vi(en),o,c);await V4(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),A_(i)}else await K2(i.localStore,t,!1).then(()=>J2(i,t,e)).catch(ed)}async function JM(n,t){const e=He(n),i=t.batch.batchId;try{const r=await sM(e.localStore,t);U4(e,i,null),B4(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await rg(e,r)}catch(r){await ed(r)}}async function ZM(n,t,e){const i=He(n);try{const r=await function(o,c){const u=He(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(y=>(kn(y!==null,37113),p=y.keys(),u.mutationQueue.removeMutationBatch(f,y))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,t);U4(i,t,e),B4(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await rg(i,r)}catch(r){await ed(r)}}function B4(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function U4(n,t,e){const i=He(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function J2(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||z4(n,i)})}function z4(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(p_(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),A_(n))}function $A(n,t,e){for(const i of e)i instanceof O4?(n.du.addReference(i.key,t),tO(n,i)):i instanceof F4?(ue(w_,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||z4(n,i.key)):Oe(19791,{pu:i})}function tO(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(ue(w_,"New document in limbo: "+e),n.Tu.add(i),A_(n))}function A_(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new xe(ii.fromString(t)),i=n.Vu.next();n.Eu.set(i,new qM(e)),n.Iu=n.Iu.insert(e,i),C4(n.remoteStore,new pu(_l(r_(e.path)),i,"TargetPurposeLimboResolution",U0.le))}}async function rg(n,t,e){const i=He(n),r=[],s=[],o=[];i.hu.isEmpty()||(i.hu.forEach((c,u)=>{o.push(i.fu(u,t,e).then(f=>{var p;if((f||e)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(f){r.push(f);const y=f_.Rs(u.targetId,f);s.push(y)}}))}),await Promise.all(o),i.lu.Y_(r),await async function(u,f){const p=He(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Wt.forEach(f,w=>Wt.forEach(w.ds,_=>p.persistence.referenceDelegate.addReference(y,w.targetId,_)).next(()=>Wt.forEach(w.As,_=>p.persistence.referenceDelegate.removeReference(y,w.targetId,_)))))}catch(y){if(!nd(y))throw y;ue(d_,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const _=p.xs.get(w),x=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(x);p.xs=p.xs.insert(w,I)}}}(i.localStore,s))}async function eO(n,t){const e=He(n);if(!e.currentUser.isEqual(t)){ue(w_,"User change. New user:",t.toKey());const i=await x4(e.localStore,t);e.currentUser=t,function(s,o){s.Ru.forEach(c=>{c.forEach(u=>{u.reject(new ye($t.CANCELLED,o))})}),s.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await rg(e,i.ks)}}function nO(n,t){const e=He(n),i=e.Eu.get(t);if(i&&i.cu)return hn().add(i.key);{let r=hn();const s=e.Pu.get(t);if(!s)return r;for(const o of s){const c=e.hu.get(o);r=r.unionWith(c.view.eu)}return r}}function q4(n){const t=He(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=V4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QM.bind(null,t),t.lu.Y_=jM.bind(null,t.eventManager),t.lu.gu=VM.bind(null,t.eventManager),t}function iO(n){const t=He(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,t),t}class b0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=K0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return rM(this.persistence,new eM,t.initialUser,this.serializer)}Su(t){return new E4(h_.fi,this.serializer)}bu(t){return new hM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}b0.provider={build:()=>new b0};class rO extends b0{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){kn(this.persistence.referenceDelegate instanceof v0,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BD(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new E4(i=>v0.fi(i,e),this.serializer)}}class Z2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await kM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MM}()}createDatastore(t){const e=K0(t.databaseInfo.databaseId),i=function(s){return new mM(s)}(t.databaseInfo);return function(s,o,c,u){return new bM(s,o,c,u)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,c){return new AM(i,r,s,o,c)}(this.localStore,this.datastore,t.asyncQueue,e=>WA(this.syncEngine,e,0),function(){return BA.C()?new BA:new fM}())}createSyncEngine(t,e){return function(r,s,o,c,u,f,p){const y=new HM(r,s,o,c,u,f);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=He(r);ue(Ch,"RemoteStore shutting down."),s.da.add(5),await ig(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Z2.provider={build:()=>new Z2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):mc("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="FirestoreClient";class aO{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ue(Lu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ue(Lu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ah;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=__(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Uy(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Lu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await x4(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function YA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await oO(n);ue(Lu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>zA(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>zA(t.remoteStore,r)),n._onlineComponents=t}async function oO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Lu,"Using user provided OfflineComponentProvider");try{await Uy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===$t.FAILED_PRECONDITION||r.code===$t.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;qf("Error using user provided cache. Falling back to memory cache: "+e),await Uy(n,new b0)}}else ue(Lu,"Using default OfflineComponentProvider"),await Uy(n,new rO(void 0));return n._offlineComponents}async function H4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Lu,"Using user provided OnlineComponentProvider"),await YA(n,n._uninitializedComponentsProvider._online)):(ue(Lu,"Using default OnlineComponentProvider"),await YA(n,new Z2))),n._onlineComponents}function lO(n){return H4(n).then(t=>t.syncEngine)}async function KA(n){const t=await H4(n),e=t.eventManager;return e.onListen=GM.bind(null,t.syncEngine),e.onUnlisten=YM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=KM.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,t,e){if(!e)throw new ye($t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function cO(n,t,e,i){if(t===!0&&i===!0)throw new ye($t.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function QA(n){if(!xe.isDocumentKey(n))throw new ye($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JA(n){if(xe.isDocumentKey(n))throw new ye($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function J0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Au(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ye($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=J0(n);throw new ye($t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firestore.googleapis.com",ZA=!0;class tS{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ye($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$4,this.ssl=ZA}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:ZA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jD)throw new ye($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G4((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Z0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ye($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gk;switch(i.type){case"firstParty":return new _k(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=XA.get(e);i&&(ue("ComponentProvider","Removing Datastore"),XA.delete(e),i.terminate())}(this),Promise.resolve()}}function uO(n,t,e,i={}){var r;n=Au(n,Z0);const s=ju(t),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;s&&(Ov(`https://${u}`),Fv("Firestore",!0)),o.host!==$4&&o.host!==u&&qf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:i});if(!Eu(f,c)&&(n._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=ns.MOCK_USER;else{p=VE(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ye($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ns(w)}n._authCredentials=new mk(new Ox(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rd(this.firestore,t,this._query)}}class Bs{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bs(this.firestore,t,this._key)}}class Su extends rd{constructor(t,e,i){super(t,e,r_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bs(this.firestore,null,new xe(t))}withConverter(t){return new Su(this.firestore,t,this._path)}}function Y4(n,t,...e){if(n=Qn(n),W4("collection","path",t),n instanceof Z0){const i=ii.fromString(t,...e);return JA(i),new Su(n,null,i)}{if(!(n instanceof Bs||n instanceof Su))throw new ye($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ii.fromString(t,...e));return JA(i),new Su(n.firestore,null,i)}}function S_(n,t,...e){if(n=Qn(n),arguments.length===1&&(t=jx.newId()),W4("doc","path",t),n instanceof Z0){const i=ii.fromString(t,...e);return QA(i),new Bs(n,null,new xe(i))}{if(!(n instanceof Bs||n instanceof Su))throw new ye($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ii.fromString(t,...e));return QA(i),new Bs(n.firestore,n instanceof Su?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="AsyncQueue";class nS{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new N4(this,"async_queue_retry"),this.rc=()=>{const i=By();i&&ue(eS,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=By();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=By();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Ah;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!nd(t))throw t;ue(eS,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,mc("INTERNAL UNHANDLED ERROR: ",iS(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const r=v_.createAndSchedule(this,t,e,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Oe(47125,{cc:iS(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function iS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Kf extends Z0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new nS,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nS(t),this._firestoreClient=void 0,await t}}}function hO(n,t){const e=typeof n=="object"?n:Kp(),i=typeof n=="string"?n:h0,r=_c(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=OE("firestore");s&&uO(r,...s)}return r}function K4(n){if(n._terminated)throw new ye($t.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fO(n),n._firestoreClient}function fO(n){var t,e,i;const r=n._freezeSettings(),s=function(c,u,f,p){return new Dk(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,G4(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new aO(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xf(Mr.fromBase64String(t))}catch(e){throw new ye($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Xf(Mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ye($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ye($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ye($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^__.*__$/;class pO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms):new eg(t,this.data,e,this.fieldTransforms)}}class X4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Q4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ic:n})}}class I_{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new I_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return w0(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Q4(this.Ic)&&dO.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class gO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||K0(t)}bc(t,e,i,r=!1){return new I_({Ic:t,methodName:e,wc:i,path:Dr.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N_(n){const t=n._freezeSettings(),e=K0(n._databaseId);return new gO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mO(n,t,e,i,r,s={}){const o=n.bc(s.merge||s.mergeFields?2:0,t,e,r);R_("Data must be an object, but it was:",o,i);const c=J4(i,o);let u,f;if(s.merge)u=new da(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const w=tv(t,y,e);if(!o.contains(w))throw new ye($t.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);t3(p,w)||p.push(w)}u=new da(p),f=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,f=o.fieldTransforms;return new pO(new js(c),u,f)}class e1 extends T_{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof e1}}function yO(n,t,e,i){const r=n.bc(1,t,e);R_("Data must be an object, but it was:",r,i);const s=[],o=js.empty();Bu(i,(u,f)=>{const p=C_(t,u,e);f=Qn(f);const y=r.mc(p);if(f instanceof e1)s.push(p);else{const w=sg(f,y);w!=null&&(s.push(p),o.set(p,w))}});const c=new da(s);return new X4(o,c,r.fieldTransforms)}function vO(n,t,e,i,r,s){const o=n.bc(1,t,e),c=[tv(t,i,e)],u=[r];if(s.length%2!=0)throw new ye($t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)c.push(tv(t,s[w])),u.push(s[w+1]);const f=[],p=js.empty();for(let w=c.length-1;w>=0;--w)if(!t3(f,c[w])){const _=c[w];let x=u[w];x=Qn(x);const I=o.mc(_);if(x instanceof e1)f.push(_);else{const R=sg(x,I);R!=null&&(f.push(_),p.set(_,R))}}const y=new da(f);return new X4(p,y,o.fieldTransforms)}function _O(n,t,e,i=!1){return sg(e,n.bc(i?4:3,t))}function sg(n,t){if(Z4(n=Qn(n)))return R_("Unsupported field value:",t,n),J4(n,t);if(n instanceof T_)return function(i,r){if(!Q4(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=sg(c,r.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=Qn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=cr.fromDate(i);return{timestampValue:y0(r.serializer,s)}}if(i instanceof cr){const s=new cr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:y0(r.serializer,s)}}if(i instanceof E_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xf)return{bytesValue:y4(r.serializer,i._byteString)};if(i instanceof Bs){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof x_)return function(o,c){return{mapValue:{fields:{[Wx]:{stringValue:$x},[f0]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return s_(c.serializer,f)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${J0(i)}`)}(n,t)}function J4(n,t){const e={};return Bx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bu(n,(i,r)=>{const s=sg(r,t.Ac(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function Z4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cr||n instanceof E_||n instanceof Xf||n instanceof Bs||n instanceof T_||n instanceof x_)}function R_(n,t,e){if(!Z4(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=J0(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function tv(n,t,e){if((t=Qn(t))instanceof t1)return t._internalPath;if(typeof t=="string")return C_(n,t);throw w0("Field path arguments must be of type string or ",n,!1,void 0,e)}const bO=new RegExp("[~\\*/\\[\\]]");function C_(n,t,e){if(t.search(bO)>=0)throw w0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new t1(...t.split("."))._internalPath}catch{throw w0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function w0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new ye($t.INVALID_ARGUMENT,c+n+u)}function t3(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(n3("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wO extends e3{data(){return super.data()}}function n3(n,t){return typeof t=="string"?C_(n,t):t instanceof t1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class SO extends L_{}function TO(n,t,...e){let i=[];t instanceof L_&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof k_).length,c=s.filter(u=>u instanceof P_).length;if(o>1||o>0&&c>0)throw new ye($t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class P_ extends SO{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new P_(t,e,i)}_apply(t){const e=this._parse(t);return i3(t._query,e),new rd(t.firestore,t.converter,q2(t._query,e))}_parse(t){const e=N_(t.firestore);return function(s,o,c,u,f,p,y){let w;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ye($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){aS(y,p);const x=[];for(const I of y)x.push(sS(u,s,I));w={arrayValue:{values:x}}}else w=sS(u,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||aS(y,p),w=_O(c,o,y,p==="in"||p==="not-in");return Ji.create(f,p,w)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class k_ extends L_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new k_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Ro.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)i3(o,u),o=q2(o,u)}(t._query,e),new rd(t.firestore,t.converter,q2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sS(n,t,e){if(typeof(e=Qn(e))=="string"){if(e==="")throw new ye($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e4(t)&&e.indexOf("/")!==-1)throw new ye($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ii.fromString(e));if(!xe.isDocumentKey(i))throw new ye($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vA(n,new xe(i))}if(e instanceof Bs)return vA(n,e._key);throw new ye($t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J0(e)}.`)}function aS(n,t){if(!Array.isArray(n)||n.length===0)throw new ye($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function i3(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ye($t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ye($t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class EO{convertValue(t,e="none"){switch(Ru(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Oe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Bu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[f0].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Bi(o.doubleValue));return new x_(s)}convertGeoPoint(t){return new E_(Bi(t.latitude),Bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=q0(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Pp(t));default:return null}}convertTimestamp(t){const e=Iu(t);return new cr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ii.fromString(t);kn(S4(i),9688,{name:t});const r=new kp(i.get(1),i.get(3)),s=new xe(i.popFirst(5));return r.isEqual(e)||mc(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class r3 extends e3{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(n3("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qm extends r3{data(t={}){return super.data(t)}}class IO{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ap(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qm(this._firestore,this._userDataWriter,i.key,i,new ap(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ye($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const u=new qm(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ap(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new qm(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ap(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:NO(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function NO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}class s3 extends EO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bs(this.firestore,null,e)}}function RO(n,t,e,...i){n=Au(n,Bs);const r=Au(n.firestore,Kf),s=N_(r);let o;return o=typeof(t=Qn(t))=="string"||t instanceof t1?vO(s,"updateDoc",n._key,t,e,i):yO(s,"updateDoc",n._key,t),D_(r,[o.toMutation(n._key,No.exists(!0))])}function CO(n){return D_(Au(n.firestore,Kf),[new a_(n._key,No.none())])}function LO(n,t){const e=Au(n.firestore,Kf),i=S_(n),r=xO(n.converter,t);return D_(e,[mO(N_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,No.exists(!1))]).then(()=>i)}function PO(n,...t){var e,i,r;n=Qn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||rS(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rS(t[o])){const y=t[o];t[o]=(e=y.next)===null||e===void 0?void 0:e.bind(y),t[o+1]=(i=y.error)===null||i===void 0?void 0:i.bind(y),t[o+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}let u,f,p;if(n instanceof Bs)f=Au(n.firestore,Kf),p=r_(n._key.path),u={next:y=>{t[o]&&t[o](kO(f,n,y))},error:t[o+1],complete:t[o+2]};else{const y=Au(n,rd);f=Au(y.firestore,Kf),p=y._query;const w=new s3(f);u={next:_=>{t[o]&&t[o](new IO(f,w,y,_))},error:t[o+1],complete:t[o+2]},AO(n._query)}return function(w,_,x,I){const R=new sO(I),N=new BM(_,R,x);return w.asyncQueue.enqueueAndForget(async()=>OM(await KA(w),N)),()=>{R.xu(),w.asyncQueue.enqueueAndForget(async()=>FM(await KA(w),N))}}(K4(f),p,c,u)}function D_(n,t){return function(i,r){const s=new Ah;return i.asyncQueue.enqueueAndForget(async()=>XM(await lO(i),r,s)),s.promise}(K4(n),t)}function kO(n,t,e){const i=e.docs.get(t._key),r=new s3(n);return new r3(n,r,t._key,i,new ap(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){td=r})(Oh),Ha(new va("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new Kf(new yk(i.getProvider("auth-internal")),new bk(o,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kp(f.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ls(aA,oA,t),ls(aA,oA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="firebasestorage.googleapis.com",o3="storageBucket",DO=2*60*1e3,MO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends $a{constructor(t,e,i=0){super(zy(t),`Firebase Storage: ${e} (${zy(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ri.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return zy(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ni;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ni||(Ni={}));function zy(n){return"storage/"+n}function M_(){const n="An unknown error occurred, please check the error payload for server response.";return new Ri(Ni.UNKNOWN,n)}function OO(n){return new Ri(Ni.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function FO(n){return new Ri(Ni.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ri(Ni.UNAUTHENTICATED,n)}function VO(){return new Ri(Ni.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BO(n){return new Ri(Ni.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function UO(){return new Ri(Ni.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zO(){return new Ri(Ni.CANCELED,"User canceled the upload/download.")}function qO(n){return new Ri(Ni.INVALID_URL,"Invalid URL '"+n+"'.")}function HO(n){return new Ri(Ni.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function GO(){return new Ri(Ni.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o3+"' property when initializing the app?")}function WO(){return new Ri(Ni.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $O(){return new Ri(Ni.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YO(n){return new Ri(Ni.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ev(n){return new Ri(Ni.INVALID_ARGUMENT,n)}function l3(){return new Ri(Ni.APP_DELETED,"The Firebase app was deleted.")}function KO(n){return new Ri(Ni.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yp(n,t){return new Ri(Ni.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function $d(n){throw new Ri(Ni.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=pa.makeFromUrl(t,e)}catch{return new pa(t,"")}if(i.path==="")return i;throw HO(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function f(it){it.path_=decodeURIComponent(it.path)}const p="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${p}/b/${r}/o${w}`,"i"),x={bucket:1,path:3},I=e===a3?"(?:storage.googleapis.com|storage.cloud.google.com)":e,R="([^?#]*)",N=new RegExp(`^https?://${I}/${r}/${R}`,"i"),G=[{regex:c,indices:u,postModify:s},{regex:_,indices:x,postModify:f},{regex:N,indices:{bucket:1,path:2},postModify:f}];for(let it=0;it<G.length;it++){const tt=G[it],pt=tt.regex.exec(t);if(pt){const z=pt[tt.indices.bucket];let P=pt[tt.indices.path];P||(P=""),i=new pa(z,P),tt.postModify(i);break}}if(i==null)throw qO(t);return i}}class XO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return c===2}let f=!1;function p(...R){f||(f=!0,t.apply(null,R))}function y(R){r=setTimeout(()=>{r=null,n(_,u())},R)}function w(){s&&clearTimeout(s)}function _(R,...N){if(f){w();return}if(R){w(),p.call(null,R,...N);return}if(u()||o){w(),p.call(null,R,...N);return}i<64&&(i*=2);let G;c===1?(c=2,G=0):G=(i+Math.random())*1e3,y(G)}let x=!1;function I(R){x||(x=!0,w(),!f&&(r!==null?(R||(c=2),clearTimeout(r),y(0)):R||(c=1)))}return y(0),s=setTimeout(()=>{o=!0,I(!0)},e),I}function JO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){return n!==void 0}function t8(n){return typeof n=="object"&&!Array.isArray(n)}function O_(n){return typeof n=="string"||n instanceof String}function oS(n){return F_()&&n instanceof Blob}function F_(){return typeof Blob<"u"}function lS(n,t,e,i){if(i<t)throw ev(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ev(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function c3(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Sh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sh||(Sh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=t.indexOf(n)!==-1;return e||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(t,e,i,r,s,o,c,u,f,p,y,w=!0,_=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,I)=>{this.resolve_=x,this.reject_=I,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new fm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Sh.NO_ERROR,u=s.getStatus();if(!c||e8(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Sh.ABORT;i(!1,new fm(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;i(!0,new fm(f,s))})},e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());ZO(u)?s(u):s()}catch(u){o(u)}else if(c!==null){const u=M_();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(r.canceled){const u=this.appDelete_?l3():zO();o(u)}else{const u=UO();o(u)}};this.canceled_?e(!1,new fm(!1,null,!0)):this.backoffId_=QO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&JO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fm{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function i8(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function r8(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function s8(n,t){t&&(n["X-Firebase-GMPID"]=t)}function a8(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function o8(n,t,e,i,r,s,o=!0,c=!1){const u=c3(n.urlParams),f=n.url+u,p=Object.assign({},n.headers);return s8(p,t),i8(p,e),r8(p,s),a8(p,i),new n8(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function c8(...n){const t=l8();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(F_())return new Blob(n);throw new Ri(Ni.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function u8(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(n){if(typeof atob>"u")throw YO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qy{constructor(t,e){this.data=t,this.contentType=e||null}}function f8(n,t){switch(n){case gl.RAW:return new qy(u3(t));case gl.BASE64:case gl.BASE64URL:return new qy(h3(n,t));case gl.DATA_URL:return new qy(p8(t),g8(t))}throw M_()}function u3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=n.charCodeAt(++e);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function d8(n){let t;try{t=decodeURIComponent(n)}catch{throw yp(gl.DATA_URL,"Malformed data URL.")}return u3(t)}function h3(n,t){switch(n){case gl.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw yp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case gl.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw yp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=h8(t)}catch(r){throw r.message.includes("polyfill")?r:yp(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class f3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw yp(gl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=m8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function p8(n){const t=new f3(n);return t.base64?h3(gl.BASE64,t.rest):d8(t.rest)}function g8(n){return new f3(n).contentType}function m8(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e){let i=0,r="";oS(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(oS(this.data_)){const i=this.data_,r=u8(i,t,e);return r===null?null:new fu(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new fu(i,!0)}}static getBlob(...t){if(F_()){const e=t.map(i=>i instanceof fu?i.data_:i);return new fu(c8.apply(null,e))}else{const e=t.map(o=>O_(o)?f8(gl.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new fu(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n){let t;try{t=JSON.parse(n)}catch{return null}return t8(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function v8(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function p3(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(n,t){return t}class vs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||_8}}let dm=null;function b8(n){return!O_(n)||n.length<2?n:p3(n)}function g3(){if(dm)return dm;const n=[];n.push(new vs("bucket")),n.push(new vs("generation")),n.push(new vs("metageneration")),n.push(new vs("name","fullPath",!0));function t(s,o){return b8(o)}const e=new vs("name");e.xform=t,n.push(e);function i(s,o){return o!==void 0?Number(o):o}const r=new vs("size");return r.xform=i,n.push(r),n.push(new vs("timeCreated")),n.push(new vs("updated")),n.push(new vs("md5Hash",null,!0)),n.push(new vs("cacheControl",null,!0)),n.push(new vs("contentDisposition",null,!0)),n.push(new vs("contentEncoding",null,!0)),n.push(new vs("contentLanguage",null,!0)),n.push(new vs("contentType",null,!0)),n.push(new vs("metadata","customMetadata",!0)),dm=n,dm}function w8(n,t){function e(){const i=n.bucket,r=n.fullPath,s=new pa(i,r);return t._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:e})}function A8(n,t,e){const i={};i.type="file";const r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return w8(i,n),i}function m3(n,t,e){const i=d3(t);return i===null?null:A8(n,i,e)}function S8(n,t,e,i){const r=d3(t);if(r===null||!O_(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const p=n.bucket,y=n.fullPath,w="/b/"+o(p)+"/o/"+o(y),_=j_(w,e,i),x=c3({alt:"media",token:f});return _+x})[0]}function T8(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}class y3{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){if(!n)throw M_()}function E8(n,t){function e(i,r){const s=m3(n,r,t);return v3(s!==null),s}return e}function x8(n,t){function e(i,r){const s=m3(n,r,t);return v3(s!==null),S8(s,r,n.host,n._protocol)}return e}function _3(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=VO():r=jO():e.getStatus()===402?r=FO(n.bucket):e.getStatus()===403?r=BO(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function I8(n){const t=_3(n);function e(i,r){let s=t(i,r);return i.getStatus()===404&&(s=OO(n.path)),s.serverResponse=r.serverResponse,s}return e}function N8(n,t,e){const i=t.fullServerUrl(),r=j_(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,c=new y3(r,s,x8(n,e),o);return c.errorHandler=I8(t),c}function R8(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function C8(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=R8(null,t)),i}function L8(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let G="";for(let it=0;it<2;it++)G=G+Math.random().toString().slice(2);return G}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const f=C8(t,i,r),p=T8(f,e),y="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+u+"--",_=fu.getBlob(y,i,w);if(_===null)throw WO();const x={name:f.fullPath},I=j_(s,n.host,n._protocol),R="POST",N=n.maxUploadRetryTime,M=new y3(I,R,E8(n,e),N);return M.urlParams=x,M.headers=o,M.body=_.uploadData(),M.errorHandler=_3(t),M}class P8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,s){if(this.sent_)throw $d("cannot .send() more than once");if(ju(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $d("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $d("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $d("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $d("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class k8 extends P8{initXhr(){this.xhr_.responseType="text"}}function b3(){return new k8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this._service=t,e instanceof pa?this._location=e:this._location=pa.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Lh(t,e)}get root(){const t=new pa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p3(this._location.path)}get storage(){return this._service}get parent(){const t=y8(this._location.path);if(t===null)return null;const e=new pa(this._location.bucket,t);return new Lh(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw KO(t)}}function D8(n,t,e){n._throwIfRoot("uploadBytes");const i=L8(n.storage,n._location,g3(),new fu(t,!0),e);return n.storage.makeRequestWithTokens(i,b3).then(r=>({metadata:r,ref:n}))}function M8(n){n._throwIfRoot("getDownloadURL");const t=N8(n.storage,n._location,g3());return n.storage.makeRequestWithTokens(t,b3).then(e=>{if(e===null)throw $O();return e})}function O8(n,t){const e=v8(n._location.path,t),i=new pa(n._location.bucket,e);return new Lh(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(n){return/^[A-Za-z]+:\/\//.test(n)}function j8(n,t){return new Lh(n,t)}function w3(n,t){if(n instanceof V_){const e=n;if(e._bucket==null)throw GO();const i=new Lh(e,e._bucket);return t!=null?w3(i,t):i}else return t!==void 0?O8(n,t):n}function V8(n,t){if(t&&F8(t)){if(n instanceof V_)return j8(n,t);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}else return w3(n,t)}function cS(n,t){const e=t==null?void 0:t[o3];return e==null?null:pa.makeFromBucketSpec(e,n)}function B8(n,t,e,i={}){n.host=`${t}:${e}`;const r=ju(t);r&&(Ov(`https://${n.host}/b`),Fv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:VE(s,n.app.options.projectId))}class V_{constructor(t,e,i,r,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=a3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DO,this._maxUploadRetryTime=MO,this._requests=new Set,r!=null?this._bucket=pa.makeFromBucketSpec(r,this._host):this._bucket=cS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=pa.makeFromBucketSpec(this._url,t):this._bucket=cS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Lh(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new XO(l3());{const o=o8(t,this._appId,i,r,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const uS="@firebase/storage",hS="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="storage";function U8(n,t,e){return n=Qn(n),D8(n,t,e)}function z8(n){return n=Qn(n),M8(n)}function q8(n,t){return n=Qn(n),V8(n,t)}function H8(n=Kp(),t){n=Qn(n);const i=_c(n,A3).getImmediate({identifier:t}),r=OE("storage");return r&&G8(i,...r),i}function G8(n,t,e,i={}){B8(n,t,e,i)}function W8(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new V_(e,i,r,t,Oh)}function $8(){Ha(new va(A3,W8,"PUBLIC").setMultipleInstances(!0)),ls(uS,hS,""),ls(uS,hS,"esm2017")}$8();const S3="@firebase/installations",B_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1e4,E3=`w:${B_}`,x3="FIS_v2",Y8="https://firebaseinstallations.googleapis.com/v1",K8=60*60*1e3,X8="installations",Q8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ph=new Vu(X8,Q8,J8);function I3(n){return n instanceof $a&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3({projectId:n}){return`${Y8}/projects/${n}/installations`}function R3(n){return{token:n.token,requestStatus:2,expiresIn:t7(n.expiresIn),creationTime:Date.now()}}async function C3(n,t){const i=(await t.json()).error;return Ph.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function L3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Z8(n,{refreshToken:t}){const e=L3(n);return e.append("Authorization",e7(t)),e}async function P3(n){const t=await n();return t.status>=500&&t.status<600?n():t}function t7(n){return Number(n.replace("s","000"))}function e7(n){return`${x3} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=N3(n),r=L3(n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={fid:e,authVersion:x3,appId:n.appId,sdkVersion:E3},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await P3(()=>fetch(i,c));if(u.ok){const f=await u.json();return{fid:f.fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:R3(f.authToken)}}else throw await C3("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^[cdef][\w-]{21}$/,nv="";function s7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=a7(n);return r7.test(e)?e:nv}catch{return nv}}function a7(n){return i7(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Map;function M3(n,t){const e=n1(n);O3(e,t),o7(e,t)}function O3(n,t){const e=D3.get(n);if(e)for(const i of e)i(t)}function o7(n,t){const e=l7();e&&e.postMessage({key:n,fid:t}),c7()}let bh=null;function l7(){return!bh&&"BroadcastChannel"in self&&(bh=new BroadcastChannel("[Firebase] FID Change"),bh.onmessage=n=>{O3(n.data.key,n.data.fid)}),bh}function c7(){D3.size===0&&bh&&(bh.close(),bh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="firebase-installations-database",h7=1,kh="firebase-installations-store";let Hy=null;function U_(){return Hy||(Hy=HE(u7,h7,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(kh)}}})),Hy}async function A0(n,t){const e=n1(n),r=(await U_()).transaction(kh,"readwrite"),s=r.objectStore(kh),o=await s.get(e);return await s.put(t,e),await r.done,(!o||o.fid!==t.fid)&&M3(n,t.fid),t}async function F3(n){const t=n1(n),i=(await U_()).transaction(kh,"readwrite");await i.objectStore(kh).delete(t),await i.done}async function i1(n,t){const e=n1(n),r=(await U_()).transaction(kh,"readwrite"),s=r.objectStore(kh),o=await s.get(e),c=t(o);return c===void 0?await s.delete(e):await s.put(c,e),await r.done,c&&(!o||o.fid!==c.fid)&&M3(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(n){let t;const e=await i1(n.appConfig,i=>{const r=f7(i),s=d7(n,r);return t=s.registrationPromise,s.installationEntry});return e.fid===nv?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function f7(n){const t=n||{fid:s7(),registrationStatus:0};return j3(t)}function d7(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Ph.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=p7(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:g7(n)}:{installationEntry:t}}async function p7(n,t){try{const e=await n7(n,t);return A0(n.appConfig,e)}catch(e){throw I3(e)&&e.customData.serverCode===409?await F3(n.appConfig):await A0(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function g7(n){let t=await fS(n.appConfig);for(;t.registrationStatus===1;)await k3(100),t=await fS(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await z_(n);return i||e}return t}function fS(n){return i1(n,t=>{if(!t)throw Ph.create("installation-not-found");return j3(t)})}function j3(n){return m7(n)?{fid:n.fid,registrationStatus:0}:n}function m7(n){return n.registrationStatus===1&&n.registrationTime+T3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7({appConfig:n,heartbeatServiceProvider:t},e){const i=v7(n,e),r=Z8(n,e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={installation:{sdkVersion:E3,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await P3(()=>fetch(i,c));if(u.ok){const f=await u.json();return R3(f)}else throw await C3("Generate Auth Token",u)}function v7(n,{fid:t}){return`${N3(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(n,t=!1){let e;const i=await i1(n.appConfig,s=>{if(!V3(s))throw Ph.create("not-registered");const o=s.authToken;if(!t&&w7(o))return s;if(o.requestStatus===1)return e=_7(n,t),s;{if(!navigator.onLine)throw Ph.create("app-offline");const c=S7(s);return e=b7(n,c),c}});return e?await e:i.authToken}async function _7(n,t){let e=await dS(n.appConfig);for(;e.authToken.requestStatus===1;)await k3(100),e=await dS(n.appConfig);const i=e.authToken;return i.requestStatus===0?q_(n,t):i}function dS(n){return i1(n,t=>{if(!V3(t))throw Ph.create("not-registered");const e=t.authToken;return T7(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function b7(n,t){try{const e=await y7(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return await A0(n.appConfig,i),e}catch(e){if(I3(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await F3(n.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await A0(n.appConfig,i)}throw e}}function V3(n){return n!==void 0&&n.registrationStatus===2}function w7(n){return n.requestStatus===2&&!A7(n)}function A7(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+K8}function S7(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function T7(n){return n.requestStatus===1&&n.requestTime+T3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(n){const t=n,{installationEntry:e,registrationPromise:i}=await z_(t);return i?i.catch(console.error):q_(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(n,t=!1){const e=n;return await I7(e),(await q_(e,t)).token}async function I7(n){const{registrationPromise:t}=await z_(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(n){if(!n||!n.options)throw Gy("App Configuration");if(!n.name)throw Gy("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Gy(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Gy(n){return Ph.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="installations",R7="installations-internal",C7=n=>{const t=n.getProvider("app").getImmediate(),e=N7(t),i=_c(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},L7=n=>{const t=n.getProvider("app").getImmediate(),e=_c(t,B3).getImmediate();return{getId:()=>E7(e),getToken:r=>x7(e,r)}};function P7(){Ha(new va(B3,C7,"PUBLIC")),Ha(new va(R7,L7,"PRIVATE"))}P7();ls(S3,B_);ls(S3,B_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="analytics",k7="firebase_id",D7="origin",M7=60*1e3,O7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ya=new Vu("analytics","Analytics",F7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(n){if(!n.startsWith(H_)){const t=ya.create("invalid-gtag-resource",{gtagURL:n});return Us.warn(t.message),""}return n}function U3(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function V7(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function B7(n,t){const e=V7("firebase-js-sdk-policy",{createScriptURL:j7}),i=document.createElement("script"),r=`${H_}?l=${n}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function U7(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function z7(n,t,e,i,r,s){const o=i[r];try{if(o)await t[o];else{const u=(await U3(e)).find(f=>f.measurementId===r);u&&await t[u.appId]}}catch(c){Us.error(c)}n("config",r,s)}async function q7(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=await U3(e);for(const u of o){const f=c.find(y=>y.measurementId===u),p=f&&t[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),n("event",i,r||{})}catch(s){Us.error(s)}}function H7(n,t,e,i){async function r(s,...o){try{if(s==="event"){const[c,u]=o;await q7(n,t,e,c,u)}else if(s==="config"){const[c,u]=o;await z7(n,t,e,i,c,u)}else if(s==="consent"){const[c,u]=o;n("consent",c,u)}else if(s==="get"){const[c,u,f]=o;n("get",c,u,f)}else if(s==="set"){const[c]=o;n("set",c)}else n(s,...o)}catch(c){Us.error(c)}}return r}function G7(n,t,e,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=H7(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}function W7(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(H_)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=30,Y7=1e3;class K7{constructor(t={},e=Y7){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const z3=new K7;function X7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Q7(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:X7(i)},s=O7.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();!((t=u.error)===null||t===void 0)&&t.message&&(c=u.error.message)}catch{}throw ya.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function J7(n,t=z3,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw ya.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ya.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new e9;return setTimeout(async()=>{c.abort()},M7),q3({appId:i,apiKey:r,measurementId:s},o,c,t)}async function q3(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=z3){var s;const{appId:o,measurementId:c}=n;try{await Z7(i,t)}catch(u){if(c)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:c};throw u}try{const u=await Q7(n);return r.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!t9(f)){if(r.deleteThrottleMetadata(o),c)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw u}const p=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?Lw(e,r.intervalMillis,$7):Lw(e,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:e+1};return r.setThrottleMetadata(o,y),Us.debug(`Calling attemptFetch again in ${p} millis`),q3(n,y,i,r)}}function Z7(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(ya.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function t9(n){if(!(n instanceof $a)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class e9{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function n9(n,t,e,i,r){if(r&&r.global){n("event",e,i);return}else{const s=await t,o=Object.assign(Object.assign({},i),{send_to:s});n("event",e,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(){if(jv())try{await Vv()}catch(n){return Us.warn(ya.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Us.warn(ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function r9(n,t,e,i,r,s,o){var c;const u=J7(n);u.then(_=>{e[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Us.error(_)),t.push(u);const f=i9().then(_=>{if(_)return i.getId()}),[p,y]=await Promise.all([u,f]);W7(s)||B7(s,p.measurementId),r("js",new Date);const w=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return w[D7]="firebase",w.update=!0,y!=null&&(w[k7]=y),r("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(t){this.app=t}_delete(){return delete vp[this.app.options.appId],Promise.resolve()}}let vp={},pS=[];const gS={};let Wy="dataLayer",a9="gtag",mS,H3,yS=!1;function o9(){const n=[];if(BE()&&n.push("This is a browser extension environment."),UE()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=ya.create("invalid-analytics-context",{errorInfo:t});Us.warn(e.message)}}function l9(n,t,e){o9();const i=n.options.appId;if(!i)throw ya.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ya.create("no-api-key");if(vp[i]!=null)throw ya.create("already-exists",{id:i});if(!yS){U7(Wy);const{wrappedGtag:s,gtagCore:o}=G7(vp,pS,gS,Wy,a9);H3=s,mS=o,yS=!0}return vp[i]=r9(n,pS,gS,t,mS,Wy,e),new s9(n)}function c9(n=Kp()){n=Qn(n);const t=_c(n,S0);return t.isInitialized()?t.getImmediate():u9(n)}function u9(n,t={}){const e=_c(n,S0);if(e.isInitialized()){const r=e.getImmediate();if(Eu(t,e.getOptions()))return r;throw ya.create("already-initialized")}return e.initialize({options:t})}function G3(n,t,e,i){n=Qn(n),n9(H3,vp[n.app.options.appId],t,e,i).catch(r=>Us.error(r))}const vS="@firebase/analytics",_S="0.10.16";function h9(){Ha(new va(S0,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return l9(i,r,e)},"PUBLIC")),Ha(new va("analytics-internal",n,"PRIVATE")),ls(vS,_S),ls(vS,_S,"esm2017");function n(t){try{const e=t.getProvider(S0).getImmediate();return{logEvent:(i,r,s)=>G3(e,i,r,s)}}catch(e){throw ya.create("interop-component-reg-failed",{reason:e})}}}h9();var iv,bS,r1=function(){var n=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(n&&n.responseStart>0&&n.responseStart<performance.now())return n},W3=function(n){if(document.readyState==="loading")return"loading";var t=r1();if(t){if(n<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||n<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||n<t.domComplete)return"dom-content-loaded"}return"complete"},f9=function(n){var t=n.nodeName;return n.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},G_=function(n,t){var e="";try{for(;n&&n.nodeType!==9;){var i=n,r=i.id?"#"+i.id:f9(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(e.length+r.length>(t||100)-1)return e||r;if(e=e?r+">"+e:r,i.id)break;n=i.parentNode}}catch{}return e},$3=-1,d9=function(){return $3},ag=function(n){addEventListener("pageshow",function(t){t.persisted&&($3=t.timeStamp,n(t))},!0)},W_=function(){var n=r1();return n&&n.activationStart||0},Pu=function(n,t){var e=r1(),i="navigate";return d9()>=0?i="back-forward-cache":e&&(document.prerendering||W_()>0?i="prerender":document.wasDiscarded?i="restore":e.type&&(i=e.type.replace(/_/g,"-"))),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},sd=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch{}},ku=function(n,t,e,i){var r,s;return function(o){t.value>=0&&(o||i)&&((s=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=s,t.rating=function(c,u){return c>u[1]?"poor":c>u[0]?"needs-improvement":"good"}(t.value,e),n(t))}},$_=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},s1=function(n){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&n()})},Y_=function(n){var t=!1;return function(){t||(n(),t=!0)}},If=-1,wS=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},T0=function(n){document.visibilityState==="hidden"&&If>-1&&(If=n.type==="visibilitychange"?n.timeStamp:0,p9())},AS=function(){addEventListener("visibilitychange",T0,!0),addEventListener("prerenderingchange",T0,!0)},p9=function(){removeEventListener("visibilitychange",T0,!0),removeEventListener("prerenderingchange",T0,!0)},Y3=function(){return If<0&&(If=wS(),AS(),ag(function(){setTimeout(function(){If=wS(),AS()},0)})),{get firstHiddenTime(){return If}}},K_=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},SS=[1800,3e3],g9=function(n,t){t=t||{},K_(function(){var e,i=Y3(),r=Pu("FCP"),s=sd("paint",function(o){o.forEach(function(c){c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<i.firstHiddenTime&&(r.value=Math.max(c.startTime-W_(),0),r.entries.push(c),e(!0)))})});s&&(e=ku(n,r,SS,t.reportAllChanges),ag(function(o){r=Pu("FCP"),e=ku(n,r,SS,t.reportAllChanges),$_(function(){r.value=performance.now()-o.timeStamp,e(!0)})}))})},TS=[.1,.25],m9=function(n,t){(function(e,i){i=i||{},g9(Y_(function(){var r,s=Pu("CLS",0),o=0,c=[],u=function(p){p.forEach(function(y){if(!y.hadRecentInput){var w=c[0],_=c[c.length-1];o&&y.startTime-_.startTime<1e3&&y.startTime-w.startTime<5e3?(o+=y.value,c.push(y)):(o=y.value,c=[y])}}),o>s.value&&(s.value=o,s.entries=c,r())},f=sd("layout-shift",u);f&&(r=ku(e,s,TS,i.reportAllChanges),s1(function(){u(f.takeRecords()),r(!0)}),ag(function(){o=0,s=Pu("CLS",0),r=ku(e,s,TS,i.reportAllChanges),$_(function(){return r()})}),setTimeout(r,0))}))})(function(e){var i=function(r){var s,o={};if(r.entries.length){var c=r.entries.reduce(function(f,p){return f&&f.value>p.value?f:p});if(c&&c.sources&&c.sources.length){var u=(s=c.sources).find(function(f){return f.node&&f.node.nodeType===1})||s[0];u&&(o={largestShiftTarget:G_(u.node),largestShiftTime:c.startTime,largestShiftValue:c.value,largestShiftSource:u,largestShiftEntry:c,loadState:W3(c.startTime)})}}return Object.assign(r,{attribution:o})}(e);n(i)},t)},K3=0,$y=1/0,pm=0,y9=function(n){n.forEach(function(t){t.interactionId&&($y=Math.min($y,t.interactionId),pm=Math.max(pm,t.interactionId),K3=pm?(pm-$y)/7+1:0)})},X3=function(){return iv?K3:performance.interactionCount||0},v9=function(){"interactionCount"in performance||iv||(iv=sd("event",y9,{type:"event",buffered:!0,durationThreshold:0}))},Eo=[],_p=new Map,Q3=0,_9=function(){var n=Math.min(Eo.length-1,Math.floor((X3()-Q3)/50));return Eo[n]},J3=[],b9=function(n){if(J3.forEach(function(r){return r(n)}),n.interactionId||n.entryType==="first-input"){var t=Eo[Eo.length-1],e=_p.get(n.interactionId);if(e||Eo.length<10||n.duration>t.latency){if(e)n.duration>e.latency?(e.entries=[n],e.latency=n.duration):n.duration===e.latency&&n.startTime===e.entries[0].startTime&&e.entries.push(n);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};_p.set(i.id,i),Eo.push(i)}Eo.sort(function(r,s){return s.latency-r.latency}),Eo.length>10&&Eo.splice(10).forEach(function(r){return _p.delete(r.id)})}}},X_=function(n){var t=self.requestIdleCallback||self.setTimeout,e=-1;return n=Y_(n),document.visibilityState==="hidden"?n():(e=t(n),s1(n)),e},ES=[200,500],w9=function(n,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},K_(function(){var e;v9();var i,r=Pu("INP"),s=function(c){X_(function(){c.forEach(b9);var u=_9();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,i())})},o=sd("event",s,{durationThreshold:(e=t.durationThreshold)!==null&&e!==void 0?e:40});i=ku(n,r,ES,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),s1(function(){s(o.takeRecords()),i(!0)}),ag(function(){Q3=X3(),Eo.length=0,_p.clear(),r=Pu("INP"),i=ku(n,r,ES,t.reportAllChanges)}))}))},Df=[],du=[],rv=0,Q_=new WeakMap,Mf=new Map,sv=-1,A9=function(n){Df=Df.concat(n),Z3()},Z3=function(){sv<0&&(sv=X_(S9))},S9=function(){Mf.size>10&&Mf.forEach(function(o,c){_p.has(c)||Mf.delete(c)});var n=Eo.map(function(o){return Q_.get(o.entries[0])}),t=du.length-50;du=du.filter(function(o,c){return c>=t||n.includes(o)});for(var e=new Set,i=0;i<du.length;i++){var r=du[i];t6(r.startTime,r.processingEnd).forEach(function(o){e.add(o)})}var s=Df.length-1-50;Df=Df.filter(function(o,c){return o.startTime>rv&&c>s||e.has(o)}),sv=-1};J3.push(function(n){n.interactionId&&n.target&&!Mf.has(n.interactionId)&&Mf.set(n.interactionId,n.target)},function(n){var t,e=n.startTime+n.duration;rv=Math.max(rv,n.processingEnd);for(var i=du.length-1;i>=0;i--){var r=du[i];if(Math.abs(e-r.renderTime)<=8){(t=r).startTime=Math.min(n.startTime,t.startTime),t.processingStart=Math.min(n.processingStart,t.processingStart),t.processingEnd=Math.max(n.processingEnd,t.processingEnd),t.entries.push(n);break}}t||(t={startTime:n.startTime,processingStart:n.processingStart,processingEnd:n.processingEnd,renderTime:e,entries:[n]},du.push(t)),(n.interactionId||n.entryType==="first-input")&&Q_.set(n,t),Z3()});var t6=function(n,t){for(var e,i=[],r=0;e=Df[r];r++)if(!(e.startTime+e.duration<n)){if(e.startTime>t)break;i.push(e)}return i},T9=function(n,t){bS||(bS=sd("long-animation-frame",A9)),w9(function(e){var i=function(r){var s=r.entries[0],o=Q_.get(s),c=s.processingStart,u=o.processingEnd,f=o.entries.sort(function(R,N){return R.processingStart-N.processingStart}),p=t6(s.startTime,u),y=r.entries.find(function(R){return R.target}),w=y&&y.target||Mf.get(s.interactionId),_=[s.startTime+s.duration,u].concat(p.map(function(R){return R.startTime+R.duration})),x=Math.max.apply(Math,_),I={interactionTarget:G_(w),interactionTargetElement:w,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:x,processedEventEntries:f,longAnimationFrameEntries:p,inputDelay:c-s.startTime,processingDuration:u-c,presentationDelay:Math.max(x-u,0),loadState:W3(s.startTime)};return Object.assign(r,{attribution:I})}(e);n(i)},t)},xS=[2500,4e3],Yy={},E9=function(n,t){(function(e,i){i=i||{},K_(function(){var r,s=Y3(),o=Pu("LCP"),c=function(p){i.reportAllChanges||(p=p.slice(-1)),p.forEach(function(y){y.startTime<s.firstHiddenTime&&(o.value=Math.max(y.startTime-W_(),0),o.entries=[y],r())})},u=sd("largest-contentful-paint",c);if(u){r=ku(e,o,xS,i.reportAllChanges);var f=Y_(function(){Yy[o.id]||(c(u.takeRecords()),u.disconnect(),Yy[o.id]=!0,r(!0))});["keydown","click"].forEach(function(p){addEventListener(p,function(){return X_(f)},{once:!0,capture:!0})}),s1(f),ag(function(p){o=Pu("LCP"),r=ku(e,o,xS,i.reportAllChanges),$_(function(){o.value=performance.now()-p.timeStamp,Yy[o.id]=!0,r(!0)})})}})})(function(e){var i=function(r){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:r.value};if(r.entries.length){var o=r1();if(o){var c=o.activationStart||0,u=r.entries[r.entries.length-1],f=u.url&&performance.getEntriesByType("resource").filter(function(x){return x.name===u.url})[0],p=Math.max(0,o.responseStart-c),y=Math.max(p,f?(f.requestStart||f.startTime)-c:0),w=Math.max(y,f?f.responseEnd-c:0),_=Math.max(w,u.startTime-c);s={element:G_(u.element),timeToFirstByte:p,resourceLoadDelay:y-p,resourceLoadDuration:w-y,elementRenderDelay:_-w,navigationEntry:o,lcpEntry:u},u.url&&(s.url=u.url),f&&(s.lcpResourceEntry=f)}}return Object.assign(r,{attribution:s})}(e);n(i)},t)};const IS="@firebase/performance",av="0.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=av,x9="FB-PERF-TRACE-START",I9="FB-PERF-TRACE-STOP",ov="FB-PERF-TRACE-MEASURE",n6="_wt_",i6="_fp",r6="_fcp",s6="_fid",a6="_lcp",N9="lcp_element",o6="_inp",R9="inp_interactionTarget",l6="_cls",C9="cls_largestShiftTarget",c6="@firebase/performance/config",u6="@firebase/performance/configexpire",L9="performance",h6="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},is=new Vu(L9,h6,P9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Yp(h6);Du.logLevel=ln.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky,f6;class hr{constructor(t){if(this.window=t,!t)throw is.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=E9,this.onINP=T9,this.onCLS=m9}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,i){!this.performance||!this.performance.measure||this.performance.measure(t,e,i)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!UE()?(Du.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):jv()?!0:(Du.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,e){if(!this.PerformanceObserver)return;new this.PerformanceObserver(r=>{for(const s of r.getEntries())e(s)}).observe({entryTypes:[t]})}static getInstance(){return Ky===void 0&&(Ky=new hr(f6)),Ky}}function k9(n){f6=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d6;function D9(n){const t=n.getId();return t.then(e=>{d6=e}),t}function J_(){return d6}function M9(n){const t=n.getToken();return t.then(e=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n,t){const e=n.length-t.length;if(e<0||e>1)throw is.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;class ga{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=NS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=NS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return Xy===void 0&&(Xy=new ga),Xy}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bp;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"})(bp||(bp={}));const O9=["firebase_","google_","ga_"],F9=new RegExp("^[a-zA-Z]\\w*$"),j9=40,V9=100;function B9(){const n=hr.getInstance().navigator;return n!=null&&n.serviceWorker?n.serviceWorker.controller?2:3:1}function U9(){switch(hr.getInstance().document.visibilityState){case"visible":return bp.VISIBLE;case"hidden":return bp.HIDDEN;default:return bp.UNKNOWN}}function z9(){const t=hr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function q9(n){return n.length===0||n.length>j9?!1:!O9.some(e=>n.startsWith(e))&&!!n.match(F9)}function H9(n){return n.length!==0&&n.length<=V9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.appId;if(!e)throw is.create("no app id");return e}function G9(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.projectId;if(!e)throw is.create("no project id");return e}function W9(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.apiKey;if(!e)throw is.create("no api key");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="0.0.1",wo={loggingEnabled:!0},Y9="FIREBASE_INSTALLATIONS_AUTH";function K9(n,t){const e=X9();return e?(RS(e),Promise.resolve()):Z9(n,t).then(RS).then(i=>Q9(i),()=>{})}function X9(){const n=hr.getInstance().localStorage;if(!n)return;const t=n.getItem(u6);if(!t||!tF(t))return;const e=n.getItem(c6);if(e)try{return JSON.parse(e)}catch{return}}function Q9(n){const t=hr.getInstance().localStorage;!n||!t||(t.setItem(c6,JSON.stringify(n)),t.setItem(u6,String(Date.now()+ga.getInstance().configTimeToLive*60*60*1e3)))}const J9="Could not fetch config, will use default configs";function Z9(n,t){return M9(n.installations).then(e=>{const i=G9(n.app),r=W9(n.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,o=new Request(s,{method:"POST",headers:{Authorization:`${Y9} ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:p6(n.app),app_version:e6,sdk_version:$9})});return fetch(o).then(c=>{if(c.ok)return c.json();throw is.create("RC response not ok")})}).catch(()=>{Du.info(J9)})}function RS(n){if(!n)return n;const t=ga.getInstance(),e=n.entries||{};return e.fpr_enabled!==void 0?t.loggingEnabled=String(e.fpr_enabled)==="true":t.loggingEnabled=wo.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):wo.logSource&&(t.logSource=wo.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:wo.logEndPointUrl&&(t.logEndPointUrl=wo.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:wo.transportKey&&(t.transportKey=wo.transportKey),e.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):wo.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=wo.networkRequestsSamplingRate),e.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):wo.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=wo.tracesSamplingRate),t.logTraceAfterSampling=CS(t.tracesSamplingRate),t.logNetworkAfterSampling=CS(t.networkRequestsSamplingRate),n}function tF(n){return Number(n)>Date.now()}function CS(n){return Math.random()<=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_=1,Qy;function g6(n){return Z_=2,Qy=Qy||nF(n),Qy}function eF(){return Z_===3}function nF(n){return iF().then(()=>D9(n.installations)).then(t=>K9(n,t)).then(()=>LS(),()=>LS())}function iF(){const n=hr.getInstance().document;return new Promise(t=>{if(n&&n.readyState!=="complete"){const e=()=>{n.readyState==="complete"&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}function LS(){Z_=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=10*1e3,rF=5.5*1e3,sF=1e3,y6=3;let Hm=y6,Th=[],PS=!1;function aF(){PS||(t5(rF),PS=!0)}function t5(n){setTimeout(()=>{Hm<=0||(Th.length>0&&v6(),t5(m6))},n)}function v6(){const n=Th.splice(0,sF),t=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)})),e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ga.getInstance().logSource,log_event:t};oF(e).then(()=>{Hm=y6}).catch(()=>{Th=[...n,...Th],Hm--,Du.info(`Tries left: ${Hm}.`),t5(m6)})}function oF(n){const t=ga.getInstance().getFlTransportFullUrl(),e=JSON.stringify(n);return navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e,keepalive:!0}).then()}function lF(n){if(!n.eventTime||!n.message)throw is.create("invalid cc log");Th=[...Th,n]}function cF(n){return(...t)=>{const e=n(...t);lF({message:e,eventTime:Date.now()})}}function uF(){for(;Th.length>0;)v6()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function _6(n,t){wp||(wp={send:cF(dF),flush:uF}),wp.send(n,t)}function gm(n){const t=ga.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||hr.getInstance().requiredApisAvailable()&&(eF()?Jy(n):g6(n.performanceController).then(()=>Jy(n),()=>Jy(n)))}function hF(){wp&&wp.flush()}function Jy(n){if(!J_())return;const t=ga.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||_6(n,1)}function fF(n){const t=ga.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];e===i||e===r||!t.loggingEnabled||!t.logNetworkAfterSampling||_6(n,0)}function dF(n,t){return t===0?pF(n):gF(n)}function pF(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:b6(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}function gF(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(t.counters=n.counters);const e=n.getAttributes();Object.keys(e).length!==0&&(t.custom_attributes=e);const i={application_info:b6(n.performanceController.app),trace_metric:t};return JSON.stringify(i)}function b6(n){return{google_app_id:p6(n),app_instance_id:J_(),web_app_info:{sdk_version:e6,page_url:hr.getInstance().getUrl(),service_worker_status:B9(),visibility_state:U9(),effective_connection_type:z9()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n,t){const e=t;if(!e||e.responseStart===void 0)return;const i=hr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+i)*1e3),s=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),c=e.name&&e.name.split("?")[0],u={performanceController:n,url:c,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};fF(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=100,yF="_",vF=[i6,r6,s6,a6,l6,o6];function _F(n,t){return n.length===0||n.length>mF?!1:t&&t.startsWith(n6)&&vF.indexOf(n)>-1||!n.startsWith(yF)}function bF(n){const t=Math.floor(n);return t<n&&Du.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,e,i=!1,r){this.performanceController=t,this.name=e,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=hr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${x9}-${this.randomId}-${this.name}`,this.traceStopMark=`${I9}-${this.randomId}-${this.name}`,this.traceMeasure=r||`${ov}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw is.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw is.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),gm(this)}record(t,e,i){if(t<=0)throw is.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw is.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(e*1e3),this.startTimeUs=Math.floor(t*1e3),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));gm(this)}incrementMetric(t,e=1){this.counters[t]===void 0?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)}putMetric(t,e){if(_F(t,this.name))this.counters[t]=bF(e??0);else throw is.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const i=q9(t),r=H9(e);if(i&&r){this.customAttributes[t]=e;return}if(!i)throw is.create("invalid attribute name",{attributeName:t});if(!r)throw is.create("invalid attribute value",{attributeValue:e})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(e.duration*1e3),this.startTimeUs=Math.floor((e.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,e,i,r,s){const o=hr.getInstance().getUrl();if(!o)return;const c=new Fp(t,n6+o,!0),u=Math.floor(hr.getInstance().getTimeOrigin()*1e3);c.setStartTime(u),e&&e[0]&&(c.setDuration(Math.floor(e[0].duration*1e3)),c.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),c.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),c.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));const f="first-paint",p="first-contentful-paint";if(i){const y=i.find(_=>_.name===f);y&&y.startTime&&c.putMetric(i6,Math.floor(y.startTime*1e3));const w=i.find(_=>_.name===p);w&&w.startTime&&c.putMetric(r6,Math.floor(w.startTime*1e3)),s&&c.putMetric(s6,Math.floor(s*1e3))}this.addWebVitalMetric(c,a6,N9,r.lcp),this.addWebVitalMetric(c,l6,C9,r.cls),this.addWebVitalMetric(c,o6,R9,r.inp),gm(c),hF()}static addWebVitalMetric(t,e,i,r){r&&(t.putMetric(e,Math.floor(r.value*1e3)),r.elementAttribution&&t.putAttribute(i,r.elementAttribution))}static createUserTimingTrace(t,e){const i=new Fp(t,e,!1,e);gm(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={},DS=!1,w6;function MS(n){J_()&&(setTimeout(()=>AF(n),0),setTimeout(()=>wF(n),0),setTimeout(()=>SF(n),0))}function wF(n){const t=hr.getInstance(),e=t.getEntriesByType("resource");for(const i of e)kS(n,i);t.setupObserver("resource",i=>kS(n,i))}function AF(n){const t=hr.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>Zy(n)):t.document.addEventListener("unload",()=>Zy(n)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&Zy(n)}),t.onFirstInputDelay&&t.onFirstInputDelay(e=>{w6=e}),t.onLCP(e=>{var i;Gm.lcp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.element}}),t.onCLS(e=>{var i;Gm.cls={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.largestShiftTarget}}),t.onINP(e=>{var i;Gm.inp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.interactionTarget}})}function SF(n){const t=hr.getInstance(),e=t.getEntriesByType("measure");for(const i of e)OS(n,i);t.setupObserver("measure",i=>OS(n,i))}function OS(n,t){const e=t.name;e.substring(0,ov.length)!==ov&&Fp.createUserTimingTrace(n,e)}function Zy(n){if(!DS){DS=!0;const t=hr.getInstance(),e=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");setTimeout(()=>{Fp.createOobTrace(n,e,i,Gm,w6)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),hr.getInstance().requiredApisAvailable()?Vv().then(e=>{e&&(aF(),g6(this).then(()=>MS(this),()=>MS(this)),this.initialized=!0)}).catch(e=>{Du.info(`Environment doesn't support IndexedDB: ${e}`)}):Du.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){ga.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return ga.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){ga.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return ga.getInstance().dataCollectionEnabled}}const EF="[DEFAULT]";function xF(n=Kp()){return n=Qn(n),_c(n,"performance").getImmediate()}const IF=(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if(e.name!==EF)throw is.create("FB not default");if(typeof window>"u")throw is.create("no window");k9(window);const r=new TF(e,i);return r._init(t),r};function NF(){Ha(new va("performance",IF,"PUBLIC")),ls(IS,av),ls(IS,av,"esm2017")}NF();const RF={apiKey:"AIzaSyCbU834quCY8hjSffRwljJLgZrcxK8i2F4",authDomain:"liquidacionapp-62962.firebaseapp.com",projectId:"liquidacionapp-62962",storageBucket:"liquidacionapp-62962.firebasestorage.app",messagingSenderId:"851382130132",appId:"1:851382130132:web:eaba38fab449f14fb5b241"},og=GE(RF),A6=typeof window<"u"?c9(og):null;typeof window<"u"&&xF(og);const Tr=dk(og),a1=hO(og),CF=H8(og),LF=n=>{if(!Tr.currentUser)return Promise.reject("Usuario no autenticado.");const t=Tr.currentUser.uid,e=Y4(a1,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`);return LO(e,n)},PF=n=>{if(!Tr.currentUser)return()=>{};const t=Tr.currentUser.uid,e=TO(Y4(a1,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`));return PO(e,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));s.sort((o,c)=>new Date(c.timestamp)-new Date(o.timestamp)),n(s)})},kF=n=>{if(!Tr.currentUser)return Promise.reject("Usuario no autenticado.");const t=Tr.currentUser.uid,e=S_(a1,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`,n);return CO(e)},DF=(n,t)=>{if(!Tr.currentUser)return Promise.reject("Usuario no autenticado.");const e=Tr.currentUser.uid,i=S_(a1,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${e}/settlements`,n);return RO(i,{status:"Pagada",comprobantePagoBase64:t})},e5=()=>A6!==null&&typeof window<"u",ts=(n,t={})=>{if(!e5()){console.log(`Analytics no disponible - Evento: ${n}`,t);return}try{G3(A6,n,t),console.log(`✅ Evento tracked: ${n}`,t)}catch(e){console.error("Error tracking event:",e)}},zs={login:(n="email")=>{ts("login",{method:n,timestamp:new Date().toISOString()})},logout:()=>{ts("logout",{timestamp:new Date().toISOString()})},signup:(n="email")=>{ts("sign_up",{method:n,timestamp:new Date().toISOString()})},liquidacionCreada:(n,t,e)=>{ts("liquidacion_creada",{clientes_count:n,deducciones_count:t,total_amount:e,timestamp:new Date().toISOString()})},liquidacionCalculada:(n,t)=>{ts("liquidacion_calculada",{total_amount:n,clientes_count:t,timestamp:new Date().toISOString()})},pdfGenerado:(n="general")=>{ts("pdf_generado",{tipo:n,timestamp:new Date().toISOString()})},pdfDescargado:(n="general")=>{ts("pdf_descargado",{tipo:n,timestamp:new Date().toISOString()})},seccionVisitada:n=>{ts("seccion_visitada",{seccion:n,timestamp:new Date().toISOString()})},liquidacionEliminada:()=>{ts("liquidacion_eliminada",{timestamp:new Date().toISOString()})},liquidacionRestaurada:()=>{ts("liquidacion_restaurada",{timestamp:new Date().toISOString()})},temaChanged:n=>{ts("tema_changed",{tema:n,timestamp:new Date().toISOString()})},error:(n,t)=>{ts("app_error",{error_type:n,error_message:t,timestamp:new Date().toISOString()})},formularioResetado:()=>{ts("formulario_reseteado",{timestamp:new Date().toISOString()})},clienteAñadido:()=>{ts("cliente_añadido",{timestamp:new Date().toISOString()})},deduccionAñadida:()=>{ts("deduccion_añadida",{timestamp:new Date().toISOString()})}},MF=n=>{e5()&&ts("page_view",{page_title:n,page_location:window.location.href,timestamp:new Date().toISOString()})},OF=()=>{e5()&&(window.addEventListener("error",n=>{zs.error("javascript_error",n.message)}),window.addEventListener("unhandledrejection",n=>{var t;zs.error("promise_rejection",((t=n.reason)==null?void 0:t.message)||"Promise rejected")}))};function FF({isAuthenticated:n,onLogout:t,onToggleTheme:e}){return lt.jsxs("div",{className:"header",children:[lt.jsxs("div",{className:"theme-switcher",onClick:e,children:[lt.jsx("span",{className:"light-icon",children:"☀️"}),lt.jsx("span",{className:"dark-icon",children:"🌙"})]}),lt.jsx("div",{style:{position:"absolute",top:"15px",left:"20px"}}),n&&lt.jsx("div",{style:{position:"absolute",top:"15px",right:"80px"},children:lt.jsx("button",{className:"logout",onClick:t,style:{padding:"8px 12px",borderRadius:"8px"},children:"Cerrar Sesión"})}),lt.jsx("h1",{id:"appTitle",children:"🍽️ Liquidación de Comidas Multi-Cliente 💰"}),lt.jsx("p",{id:"headerSubtitle",children:"Sistema interactivo para facturación a múltiples clientes"})]})}const n5=new oc;n5.addScope("email");n5.addScope("profile");const jF=async(n,t)=>{try{const e=await JL(Tr,n,t);return zs.login("email"),{success:!0,user:e.user,message:"Inicio de sesión exitoso"}}catch(e){return zs.error("login_email_error",e.message),{success:!1,error:e.code,message:o1(e.code)}}},VF=async()=>{var n;try{const t=await AP(Tr,n5),e=t.user,i=((n=t._tokenResponse)==null?void 0:n.isNewUser)||!1;return i?zs.signup("google"):zs.login("google"),{success:!0,user:e,isNewUser:i,message:i?"Cuenta creada exitosamente con Google":"Inicio de sesión exitoso con Google"}}catch(t){return zs.error("login_google_error",t.message),{success:!1,error:t.code,message:o1(t.code)}}},BF=async(n,t)=>{try{const i=(await QL(Tr,n,t)).user;return await yx(i),zs.signup("email"),{success:!0,user:i,message:"Cuenta creada exitosamente. Revisa tu email para verificar tu cuenta."}}catch(e){return zs.error("register_email_error",e.message),{success:!1,error:e.code,message:o1(e.code)}}},UF=async()=>{try{return Tr.currentUser?(await yx(Tr.currentUser),{success:!0,message:"Email de verificación enviado"}):{success:!1,message:"No hay usuario autenticado"}}catch(n){return zs.error("resend_verification_error",n.message),{success:!1,error:n.code,message:o1(n.code)}}},o1=n=>({"auth/user-not-found":"No se encontró una cuenta con este email","auth/wrong-password":"Contraseña incorrecta","auth/email-already-in-use":"Ya existe una cuenta con este email","auth/weak-password":"La contraseña debe tener al menos 6 caracteres","auth/invalid-email":"El email no es válido","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos. Intenta más tarde","auth/network-request-failed":"Error de conexión. Verifica tu internet","auth/popup-closed-by-user":"Inicio de sesión cancelado","auth/popup-blocked":"El popup fue bloqueado por el navegador","auth/cancelled-popup-request":"Solo una ventana de login puede estar abierta a la vez","auth/account-exists-with-different-credential":"Ya existe una cuenta con este email usando un método diferente","auth/invalid-credential":"Credenciales inválidas","auth/operation-not-allowed":"Operación no permitida","auth/invalid-verification-code":"Código de verificación inválido","auth/invalid-verification-id":"ID de verificación inválido"})[n]||"Ocurrió un error inesperado. Intenta nuevamente.";function zF(){const[n,t]=qe.useState("welcome"),[e,i]=qe.useState(""),[r,s]=qe.useState(""),[o,c]=qe.useState(""),[u,f]=qe.useState(!1),p=()=>{t("email"),i("")},y=()=>{t("welcome"),i("")},w=N=>{console.error("Error de autenticación:",N.code,N.message);let M="Ocurrió un error. Inténtalo de nuevo.";N.code==="auth/email-already-in-use"?M="El email ya está en uso. Intenta iniciar sesión.":N.code==="auth/invalid-email"?M="El formato del email es inválido.":N.code==="auth/weak-password"?M="La contraseña es muy débil (mínimo 6 caracteres).":N.code==="auth/invalid-credential"&&(M="Email o contraseña incorrectos."),i(M)},_=async()=>{f(!0),i("Iniciando como invitado...");try{await $L(Tr),zs.login("anonymous")}catch(N){w(N)}finally{f(!1)}},x=async()=>{f(!0),i("Iniciando sesión con Google...");try{const N=await VF();N.success,i(N.message)}catch{i("Error al iniciar sesión con Google")}finally{f(!1)}},I=async()=>{if(!r||!o){i("Por favor, introduce email y contraseña.");return}f(!0),i("Iniciando sesión...");const N=await jF(r,o);N.success,i(N.message),f(!1)},R=async()=>{if(!r||!o||o.length<6){i("Verifica los datos (contraseña de 6+ caracteres).");return}f(!0),i("Registrando...");const N=await BF(r,o);N.success,i(N.message),f(!1)};return lt.jsxs("div",{children:[n==="welcome"&&lt.jsxs("div",{className:"welcome-screen",children:[lt.jsx("h2",{children:"¡Bienvenido a Liquidación de Comidas!"}),lt.jsx("p",{children:"Elige cómo quieres acceder a la aplicación."}),lt.jsxs("div",{className:"welcome-buttons",children:[lt.jsx("button",{className:"google-auth-btn",onClick:x,disabled:u,children:u?"Cargando...":"🔑 Continuar con Google"}),lt.jsx("button",{className:"email-auth-btn",onClick:p,disabled:u,children:u?"Cargando...":"📧 Email y Contraseña"}),lt.jsx("button",{className:"guest-auth-btn",onClick:_,disabled:u,children:u?"Cargando...":"👤 Continuar como Invitado"})]}),lt.jsx("p",{className:"auth-message",children:e})]}),n==="email"&&lt.jsxs("div",{className:"auth-section",children:[lt.jsx("h3",{children:"Acceso con Email y Contraseña"}),lt.jsx("p",{children:"Inicia sesión o regístrate para guardar tus datos en la nube."}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"authEmail",children:"Email:"}),lt.jsx("input",{type:"email",id:"authEmail",placeholder:"tu@ejemplo.com",value:r,onChange:N=>s(N.target.value),required:!0})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"authPassword",children:"Contraseña:"}),lt.jsx("input",{type:"password",id:"authPassword",placeholder:"min. 6 caracteres",value:o,onChange:N=>c(N.target.value),required:!0})]}),lt.jsxs("div",{className:"auth-buttons",children:[lt.jsx("button",{className:"login",onClick:I,disabled:u,children:u?"Verificando...":"Iniciar Sesión"}),lt.jsx("button",{className:"register",onClick:R,disabled:u,children:u?"Registrando...":"Registrarse"})]}),lt.jsx("button",{className:"secondary-button",onClick:y,disabled:u,style:{width:"auto",marginTop:"15px"},children:"⬅️ Volver"}),lt.jsx("p",{className:"auth-message",children:e})]})]})}const i5=(n="es-CO",t="COP")=>{try{return new Intl.NumberFormat(n,{style:"currency",currency:t})}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},qF=(n,t,e)=>{const{valorComida:i,moneda:r}=n,s="es-CO",o=parseFloat(i)||0,c=t.map(_=>{const x=parseInt(_.meals,10)||0,I=x*o;return{..._,comidas:x,ingresoBrutoCliente:I}}),u=c.reduce((_,x)=>_+x.comidas,0),f=u*o,p=e.map(_=>{const x=parseFloat(_.value)||0,I=_.type==="fixed"?x:f*(x/100),R=_.type==="percent"?`${x}%`:i5(s,r).format(x);return{..._,montoCalculado:I,displayValue:R}}),y=p.reduce((_,x)=>_+x.montoCalculado,0),w=f-y;return{config:{...n,locale:s,moneda:r},clientes:c,mariella:{totalComidasGestionadas:u,totalIngresoBruto:f,deducciones:p,totalDeducciones:y,saldoFinalNeto:w}}};function HF({data:n,setData:t}){const e=i=>{const{id:r,value:s}=i.target;t(o=>({...o,[r]:s}))};return lt.jsxs(lt.Fragment,{children:[lt.jsx("h2",{children:"📊 Datos Generales"}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"nombreMariella",children:"👩‍🍳 Nombre del Facturador:"}),lt.jsx("input",{type:"text",id:"nombreMariella",value:n.nombreMariella,onChange:e,required:!0})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"facturadorDireccion",children:"📍 Campamento del Facturador:"}),lt.jsxs("select",{id:"facturadorDireccion",value:n.campamento,onChange:e,required:!0,children:[lt.jsx("option",{value:"",children:"Selecciona un campamento"}),lt.jsx("option",{value:"AUSTRIA",children:"AUSTRIA"}),lt.jsx("option",{value:"BARQUEREÑA",children:"BARQUEREÑA"}),lt.jsx("option",{value:"TERQUEDAD",children:"TERQUEDAD"}),lt.jsx("option",{value:"ATABAPO",children:"ATABAPO"})]})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"facturadorContacto",children:"📞 Contacto:"}),lt.jsx("input",{type:"text",id:"facturadorContacto",value:n.contacto,onChange:e,placeholder:"Email/Teléfono"})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"invoiceNumber",children:"#️⃣ Número de Factura:"}),lt.jsx("input",{type:"text",id:"invoiceNumber",value:n.facturaNum,onChange:e,placeholder:"Opcional"})]}),lt.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"mesServicio",children:"📅 Mes del Servicio:"}),lt.jsx("input",{type:"month",id:"mesServicio",name:"mesServicio",value:n.mes,onChange:e})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"moneda",children:"💵 Moneda:"}),lt.jsxs("select",{id:"moneda",value:n.moneda,onChange:e,children:[lt.jsx("option",{value:"COP",children:"Peso Colombiano (COP)"}),lt.jsx("option",{value:"USD",children:"Dólar Americano (USD)"}),lt.jsx("option",{value:"EUR",children:"Euro (EUR)"}),lt.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"})]})]})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"valorComida",children:"💰 Valor por Comida:"}),lt.jsx("input",{type:"number",id:"valorComida",value:n.valorComida,onChange:e,min:"0",step:"100",required:!0})]}),lt.jsx("hr",{style:{margin:"20px 0"}})]})}function GF({client:n,onRemove:t,onUpdate:e}){const{id:i,name:r,meals:s}=n;return lt.jsxs("div",{className:"client-input-group",children:[lt.jsxs("div",{className:"client-header",children:[lt.jsx("h4",{children:"Cliente"}),lt.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:`nombre_${i}`,children:"Nombre del Cliente:"}),lt.jsx("input",{type:"text",id:`nombre_${i}`,value:r,onChange:o=>e(i,"name",o.target.value),placeholder:"Ej: Jaider",required:!0})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:`comidas_${i}`,children:"Comidas Facturadas:"}),lt.jsx("div",{className:"input-wrapper",children:lt.jsx("input",{type:"number",id:`comidas_${i}`,value:s,onChange:o=>e(i,"meals",parseInt(o.target.value)||0),min:"0"})})]})]})}function WF({clients:n,setClients:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",meals:0}])},i=s=>{n.length<=1||t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return lt.jsxs(lt.Fragment,{children:[lt.jsx("h3",{children:"👤 Clientes"}),lt.jsx("div",{id:"clientesContainer",children:n.map(s=>lt.jsx(GF,{client:s,onRemove:i,onUpdate:r},s.id))}),lt.jsx("button",{className:"secondary-button",onClick:e,children:"➕ Añadir Cliente"}),lt.jsx("hr",{style:{margin:"20px 0"}})]})}function $F({deduction:n,onRemove:t,onUpdate:e}){const{id:i,name:r,type:s,value:o,category:c}=n;return lt.jsxs("div",{className:"deduction-input-group",children:[lt.jsxs("div",{className:"deduction-header",children:[lt.jsx("h4",{children:"Deducción"}),lt.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),lt.jsxs("div",{className:"deduction-input-row",children:[lt.jsx("input",{type:"text",className:"deduction-name",value:r,onChange:u=>e(i,"name",u.target.value),placeholder:"Concepto",required:!0}),lt.jsxs("select",{className:"deduction-type",value:s,onChange:u=>e(i,"type",u.target.value),children:[lt.jsx("option",{value:"fixed",children:"Fijo ($)"}),lt.jsx("option",{value:"percent",children:"Porcentaje (%)"})]}),lt.jsx("input",{type:"number",className:"deduction-value",value:o,onChange:u=>e(i,"value",parseFloat(u.target.value)||0),min:"0",step:"0.1",required:!0}),lt.jsxs("select",{className:"deduction-category",value:c,onChange:u=>e(i,"category",u.target.value),children:[lt.jsx("option",{value:"",children:"Seleccionar..."}),lt.jsx("option",{value:"Impuesto",children:"Impuesto"}),lt.jsx("option",{value:"Servicio",children:"Servicio"}),lt.jsx("option",{value:"Personal",children:"Personal"}),lt.jsx("option",{value:"Transporte",children:"Transporte"}),lt.jsx("option",{value:"Otros",children:"Otros"})]})]})]})}function YF({deductions:n,setDeductions:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",type:"fixed",value:0,category:""}])},i=s=>{t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return lt.jsxs(lt.Fragment,{children:[lt.jsx("h3",{children:"💸 Deducciones del Facturador"}),lt.jsx("div",{id:"deduccionesContainer",children:n.map(s=>lt.jsx($F,{deduction:s,onRemove:i,onUpdate:r},s.id))}),lt.jsx("button",{className:"secondary-button",onClick:e,children:"➕ Añadir Deducción"}),lt.jsx("hr",{style:{margin:"20px 0"}})]})}function KF({customData:n,setCustomData:t}){const e=r=>{const{id:s,value:o}=r.target;t(c=>({...c,[s]:o}))},i=r=>{const{id:s,files:o}=r.target,c=o[0];if(!c)return;const u=new FileReader;u.readAsDataURL(c),u.onload=()=>{t(f=>({...f,[s]:u.result}))},u.onerror=f=>{console.error("Error al leer el archivo:",f),alert("No se pudo cargar el archivo.")}};return lt.jsxs(lt.Fragment,{children:[lt.jsx("hr",{style:{margin:"20px 0"}}),lt.jsx("h3",{children:"📄 Personalización de PDF"}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"logo",children:"🖼️ Subir Logo (opcional):"}),lt.jsx("input",{type:"file",id:"logo",accept:"image/png, image/jpeg",onChange:i})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"signature",children:"✍️ Subir Firma/Sello (opcional):"}),lt.jsx("input",{type:"file",id:"signature",accept:"image/png, image/jpeg",onChange:i})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"headerText",children:"⬆️ Texto de Encabezado Personalizado:"}),lt.jsx("input",{type:"text",id:"headerText",value:n.headerText,onChange:e,placeholder:"Ej: Reporte Confidencial"})]}),lt.jsxs("div",{className:"input-group",children:[lt.jsx("label",{htmlFor:"footerText",children:"⬇️ Texto de Pie de Página Personalizado:"}),lt.jsx("input",{type:"text",id:"footerText",value:n.footerText,onChange:e,placeholder:"Ej: Gracias por su confianza"})]})]})}function XF({onCalculate:n,results:t,onNewSettlement:e}){const i=()=>{window.confirm("¿Estás seguro de que quieres reiniciar TODA la aplicación? Se borrará el historial y las configuraciones guardadas.")&&console.log("Reiniciando app...")};return lt.jsxs(lt.Fragment,{children:[!t&&lt.jsx("button",{id:"procesarBtn",className:"main-button",onClick:n,children:"🚀 Calcular Liquidación"}),t&&lt.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"10px",flexWrap:"wrap"},children:lt.jsx("button",{className:"start-new-btn",onClick:e,children:"✨ Nueva Liquidación"})}),lt.jsx("div",{style:{marginTop:"20px",borderTop:"1px solid var(--border-color)",paddingTop:"20px"},children:lt.jsx("button",{className:"reset-btn",onClick:i,children:"🔄 Reiniciar Toda la App"})})]})}function QF({item:n,onDelete:t,onOpenPaymentModal:e}){const{id:i,summary:r,timestamp:s,status:o,pdfDownloadURL:c,comprobantePagoBase64:u}=n,f=()=>{window.confirm(`¿Estás seguro de que quieres eliminar la liquidación de ${r.mesServicio}?`)&&t(i)},p=()=>{c?window.open(c,"_blank"):alert("No se encontró el enlace del PDF para esta liquidación.")},y=()=>{if(u){const w=window.open();w?(w.document.write('<html><head><title>Visor de Comprobante</title></head><body style="margin:0;">'),w.document.write(`<img src='${u}' style='max-width:100%;'>`),w.document.write("</body></html>")):alert("No se pudo abrir la nueva pestaña. Por favor, revisa los permisos de tu navegador.")}else alert("No se encontró el comprobante de pago para esta liquidación.")};return lt.jsxs("div",{className:"history-item",children:[lt.jsxs("div",{className:"history-item-info",children:[lt.jsxs("div",{children:[lt.jsx("strong",{children:r.nombreMariella||"N/A"})," - ",r.mesServicio||"N/A",lt.jsx("br",{}),lt.jsxs("small",{children:["Guardado: ",s||"N/A"]})]}),lt.jsx("span",{className:`status-label status-${(o||"pendiente").toLowerCase()}`,children:o||"Pendiente"})]}),lt.jsxs("div",{className:"history-item-actions",children:[lt.jsx("button",{className:"view-pdf-btn",onClick:p,children:"Ver PDF"}),o==="Pagada"?lt.jsx("button",{className:"view-receipt-btn",onClick:y,children:"Ver Comprobante"}):lt.jsx("button",{className:"register-payment-btn",onClick:()=>e(i),children:"Registrar Pago"}),lt.jsx("button",{className:"history-delete-btn",onClick:f,children:"Eliminar"})]})]})}function JF({history:n,searchTerm:t,setSearchTerm:e,onDeleteItem:i,onOpenPaymentModal:r}){const s=n.filter(o=>{if(!o.summary)return!1;const c=t.toLowerCase(),u=(o.summary.nombreMariella||"").toLowerCase().includes(c),f=(o.summary.mesServicio||"").toLowerCase().includes(c),p=(o.status||"").toLowerCase().includes(c);return u||f||p});return lt.jsxs(lt.Fragment,{children:[lt.jsx("hr",{style:{margin:"20px 0"}}),lt.jsxs("div",{className:"history-section-header",children:[lt.jsx("h3",{children:"⏳ Historial de Liquidaciones"}),lt.jsx("div",{className:"history-search-filter",children:lt.jsx("input",{type:"text",id:"historySearch",value:t,onChange:o=>e(o.target.value),placeholder:"Buscar por nombre, mes o estado..."})})]}),lt.jsx("div",{id:"historyContainer",children:s.length>0?s.map(o=>lt.jsx(QF,{item:o,onDelete:i,onOpenPaymentModal:r},o.id)):lt.jsx("p",{style:{textAlign:"center",color:"var(--text-muted-color)"},children:"No hay liquidaciones guardadas."})})]})}const ZF={nombreMariella:"Doña Mariella",facturadorDireccion:"",facturadorContacto:"",invoiceNumber:"",mesServicio:new Date().toISOString().slice(0,7),moneda:"COP",valorComida:9e3},tj=[{id:1,name:"",meals:0}],ej=[{id:1,name:"Retención en la Fuente",type:"percent",value:3.5,category:"Impuesto"},{id:2,name:"Aporte Seguro Social",type:"fixed",value:185500,category:"Personal"}],nj={logo:null,signature:null,headerText:"",footerText:""};function ij({setResults:n,setIsModalOpen:t,onOpenPaymentModal:e}){const[i,r]=qe.useState(ZF),[s,o]=qe.useState(tj),[c,u]=qe.useState(ej),[f,p]=qe.useState(nj),[y,w]=qe.useState(null),[_,x]=qe.useState(0),[I,R]=qe.useState([]),[N,M]=qe.useState("");qe.useEffect(()=>{const pt=PF(z=>{R(z)});return()=>pt()},[]);const G=()=>{const pt={...qF(i,s,c),customization:f};w(pt),n(pt),t(!0)},it=()=>{x(pt=>pt+1),w(null)},tt=async pt=>{try{await kF(pt),console.log("Liquidación eliminada con éxito")}catch(z){console.error("Error al eliminar la liquidación:",z),alert("No se pudo eliminar la liquidación.")}};return lt.jsx("div",{className:"content",children:lt.jsxs("div",{className:"input-section",children:[lt.jsx(HF,{data:i,setData:r}),lt.jsx(YF,{deductions:c,setDeductions:u}),lt.jsx(WF,{clients:s,setClients:o}),lt.jsx(KF,{customData:f,setCustomData:p}),lt.jsx(XF,{onCalculate:G,results:y,onNewSettlement:it}),lt.jsx(JF,{history:I,searchTerm:N,setSearchTerm:M,onDeleteItem:tt,onOpenPaymentModal:e})]},_)})}function rj(){return lt.jsx("div",{id:"loader",style:{display:"flex"}})}const sj="modulepreload",aj=function(n){return"/alimentacion/"+n},FS={},lv=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(e.map(f=>{if(f=aj(f),f in FS)return;FS[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":sj,p||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),p)return new Promise((_,x)=>{w.addEventListener("load",_),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function Bn(n){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(n)}var ss=Uint8Array,ma=Uint16Array,r5=Int32Array,l1=new ss([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c1=new ss([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cv=new ss([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S6=function(n,t){for(var e=new ma(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new r5(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},T6=S6(l1,2),E6=T6.b,uv=T6.r;E6[28]=258,uv[258]=28;var x6=S6(c1,0),oj=x6.b,jS=x6.r,hv=new ma(32768);for(var ri=0;ri<32768;++ri){var au=(ri&43690)>>1|(ri&21845)<<1;au=(au&52428)>>2|(au&13107)<<2,au=(au&61680)>>4|(au&3855)<<4,hv[ri]=((au&65280)>>8|(au&255)<<8)>>1}var wl=function(n,t,e){for(var i=n.length,r=0,s=new ma(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new ma(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var c;if(e){c=new ma(1<<t);var u=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=t-n[r],y=o[n[r]-1]++<<p,w=y|(1<<p)-1;y<=w;++y)c[hv[y]>>u]=f}else for(c=new ma(i),r=0;r<i;++r)n[r]&&(c[r]=hv[o[n[r]-1]++]>>15-n[r]);return c},Mu=new ss(288);for(var ri=0;ri<144;++ri)Mu[ri]=8;for(var ri=144;ri<256;++ri)Mu[ri]=9;for(var ri=256;ri<280;++ri)Mu[ri]=7;for(var ri=280;ri<288;++ri)Mu[ri]=8;var jp=new ss(32);for(var ri=0;ri<32;++ri)jp[ri]=5;var lj=wl(Mu,9,0),cj=wl(Mu,9,1),uj=wl(jp,5,0),hj=wl(jp,5,1),t2=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Ao=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},e2=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},s5=function(n){return(n+7)/8|0},I6=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new ss(n.subarray(t,e))},fj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],To=function(n,t,e){var i=new Error(t||fj[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,To),!e)throw i;return i},dj=function(n,t,e,i){var r=n.length,s=0;if(!r||t.f&&!t.l)return e||new ss(0);var o=!e,c=o||t.i!=2,u=t.i;o&&(e=new ss(r*3));var f=function(Xt){var ne=e.length;if(Xt>ne){var te=new ss(Math.max(ne*2,Xt));te.set(e),e=te}},p=t.f||0,y=t.p||0,w=t.b||0,_=t.l,x=t.d,I=t.m,R=t.n,N=r*8;do{if(!_){p=Ao(n,y,1);var M=Ao(n,y+1,3);if(y+=3,M)if(M==1)_=cj,x=hj,I=9,R=5;else if(M==2){var pt=Ao(n,y,31)+257,z=Ao(n,y+10,15)+4,P=pt+Ao(n,y+5,31)+1;y+=14;for(var U=new ss(P),K=new ss(19),L=0;L<z;++L)K[cv[L]]=Ao(n,y+L*3,7);y+=z*3;for(var D=t2(K),j=(1<<D)-1,at=wl(K,D,1),L=0;L<P;){var wt=at[Ao(n,y,j)];y+=wt&15;var G=wt>>4;if(G<16)U[L++]=G;else{var et=0,ht=0;for(G==16?(ht=3+Ao(n,y,3),y+=2,et=U[L-1]):G==17?(ht=3+Ao(n,y,7),y+=3):G==18&&(ht=11+Ao(n,y,127),y+=7);ht--;)U[L++]=et}}var ft=U.subarray(0,pt),Et=U.subarray(pt);I=t2(ft),R=t2(Et),_=wl(ft,I,1),x=wl(Et,R,1)}else To(1);else{var G=s5(y)+4,it=n[G-4]|n[G-3]<<8,tt=G+it;if(tt>r){u&&To(0);break}c&&f(w+it),e.set(n.subarray(G,tt),w),t.b=w+=it,t.p=y=tt*8,t.f=p;continue}if(y>N){u&&To(0);break}}c&&f(w+131072);for(var Q=(1<<I)-1,St=(1<<R)-1,F=y;;F=y){var et=_[e2(n,y)&Q],W=et>>4;if(y+=et&15,y>N){u&&To(0);break}if(et||To(2),W<256)e[w++]=W;else if(W==256){F=y,_=null;break}else{var Z=W-254;if(W>264){var L=W-257,st=l1[L];Z=Ao(n,y,(1<<st)-1)+E6[L],y+=st}var ct=x[e2(n,y)&St],It=ct>>4;ct||To(3),y+=ct&15;var Et=oj[It];if(It>3){var st=c1[It];Et+=e2(n,y)&(1<<st)-1,y+=st}if(y>N){u&&To(0);break}c&&f(w+131072);var xt=w+Z;if(w<Et){var kt=s-Et,Jt=Math.min(Et,xt);for(kt+w<0&&To(3);w<Jt;++w)e[w]=i[kt+w]}for(;w<xt;++w)e[w]=e[w-Et]}}t.l=_,t.p=F,t.b=w,t.f=p,_&&(p=1,t.m=I,t.d=x,t.n=R)}while(!p);return w!=e.length&&o?I6(e,0,w):e.subarray(0,w)},nc=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Yd=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},n2=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:R6,l:0};if(r==1){var o=new ss(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(tt,pt){return tt.f-pt.f}),e.push({s:-1,f:25001});var c=e[0],u=e[1],f=0,p=1,y=2;for(e[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=r-1;)c=e[e[f].f<e[y].f?f++:y++],u=e[f!=p&&e[f].f<e[y].f?f++:y++],e[p++]={s:-1,f:c.f+u.f,l:c,r:u};for(var w=s[0].s,i=1;i<r;++i)s[i].s>w&&(w=s[i].s);var _=new ma(w+1),x=fv(e[p-1],_,0);if(x>t){var i=0,I=0,R=x-t,N=1<<R;for(s.sort(function(pt,z){return _[z.s]-_[pt.s]||pt.f-z.f});i<r;++i){var M=s[i].s;if(_[M]>t)I+=N-(1<<x-_[M]),_[M]=t;else break}for(I>>=R;I>0;){var G=s[i].s;_[G]<t?I-=1<<t-_[G]++-1:++i}for(;i>=0&&I;--i){var it=s[i].s;_[it]==t&&(--_[it],++I)}x=t}return{t:new ss(_),l:x}},fv=function(n,t,e){return n.s==-1?Math.max(fv(n.l,t,e+1),fv(n.r,t,e+1)):t[n.s]=e},VS=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ma(++t),i=0,r=n[0],s=1,o=function(u){e[i++]=u},c=1;c<=t;++c)if(n[c]==r&&c!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[c]}return{c:e.subarray(0,i),n:t}},Kd=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},N6=function(n,t,e){var i=e.length,r=s5(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},BS=function(n,t,e,i,r,s,o,c,u,f,p){nc(t,p++,e),++r[256];for(var y=n2(r,15),w=y.t,_=y.l,x=n2(s,15),I=x.t,R=x.l,N=VS(w),M=N.c,G=N.n,it=VS(I),tt=it.c,pt=it.n,z=new ma(19),P=0;P<M.length;++P)++z[M[P]&31];for(var P=0;P<tt.length;++P)++z[tt[P]&31];for(var U=n2(z,7),K=U.t,L=U.l,D=19;D>4&&!K[cv[D-1]];--D);var j=f+5<<3,at=Kd(r,Mu)+Kd(s,jp)+o,wt=Kd(r,w)+Kd(s,I)+o+14+3*D+Kd(z,K)+2*z[16]+3*z[17]+7*z[18];if(u>=0&&j<=at&&j<=wt)return N6(t,p,n.subarray(u,u+f));var et,ht,ft,Et;if(nc(t,p,1+(wt<at)),p+=2,wt<at){et=wl(w,_,0),ht=w,ft=wl(I,R,0),Et=I;var Q=wl(K,L,0);nc(t,p,G-257),nc(t,p+5,pt-1),nc(t,p+10,D-4),p+=14;for(var P=0;P<D;++P)nc(t,p+3*P,K[cv[P]]);p+=3*D;for(var St=[M,tt],F=0;F<2;++F)for(var W=St[F],P=0;P<W.length;++P){var Z=W[P]&31;nc(t,p,Q[Z]),p+=K[Z],Z>15&&(nc(t,p,W[P]>>5&127),p+=W[P]>>12)}}else et=lj,ht=Mu,ft=uj,Et=jp;for(var P=0;P<c;++P){var st=i[P];if(st>255){var Z=st>>18&31;Yd(t,p,et[Z+257]),p+=ht[Z+257],Z>7&&(nc(t,p,st>>23&31),p+=l1[Z]);var ct=st&31;Yd(t,p,ft[ct]),p+=Et[ct],ct>3&&(Yd(t,p,st>>5&8191),p+=c1[ct])}else Yd(t,p,et[st]),p+=ht[st]}return Yd(t,p,et[256]),p+ht[256]},pj=new r5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R6=new ss(0),gj=function(n,t,e,i,r,s){var o=s.z||n.length,c=new ss(i+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(i,c.length-r),f=s.l,p=(s.r||0)&7;if(t){p&&(u[0]=s.r>>3);for(var y=pj[t-1],w=y>>13,_=y&8191,x=(1<<e)-1,I=s.p||new ma(32768),R=s.h||new ma(x+1),N=Math.ceil(e/3),M=2*N,G=function(we){return(n[we]^n[we+1]<<N^n[we+2]<<M)&x},it=new r5(25e3),tt=new ma(288),pt=new ma(32),z=0,P=0,U=s.i||0,K=0,L=s.w||0,D=0;U+2<o;++U){var j=G(U),at=U&32767,wt=R[j];if(I[at]=wt,R[j]=at,L<=U){var et=o-U;if((z>7e3||K>24576)&&(et>423||!f)){p=BS(n,u,0,it,tt,pt,P,K,D,U-D,p),K=z=P=0,D=U;for(var ht=0;ht<286;++ht)tt[ht]=0;for(var ht=0;ht<30;++ht)pt[ht]=0}var ft=2,Et=0,Q=_,St=at-wt&32767;if(et>2&&j==G(U-St))for(var F=Math.min(w,et)-1,W=Math.min(32767,U),Z=Math.min(258,et);St<=W&&--Q&&at!=wt;){if(n[U+ft]==n[U+ft-St]){for(var st=0;st<Z&&n[U+st]==n[U+st-St];++st);if(st>ft){if(ft=st,Et=St,st>F)break;for(var ct=Math.min(St,st-2),It=0,ht=0;ht<ct;++ht){var xt=U-St+ht&32767,kt=I[xt],Jt=xt-kt&32767;Jt>It&&(It=Jt,wt=xt)}}}at=wt,wt=I[at],St+=at-wt&32767}if(Et){it[K++]=268435456|uv[ft]<<18|jS[Et];var Xt=uv[ft]&31,ne=jS[Et]&31;P+=l1[Xt]+c1[ne],++tt[257+Xt],++pt[ne],L=U+ft,++z}else it[K++]=n[U],++tt[n[U]]}}for(U=Math.max(U,L);U<o;++U)it[K++]=n[U],++tt[n[U]];p=BS(n,u,f,it,tt,pt,P,K,D,U-D,p),f||(s.r=p&7|u[p/8|0]<<3,p-=7,s.h=R,s.p=I,s.i=U,s.w=L)}else{for(var U=s.w||0;U<o+f;U+=65535){var te=U+65535;te>=o&&(u[p/8|0]=f,te=o),p=N6(u,p+1,n.subarray(U,te))}s.i=o}return I6(c,0,i+s5(p)+r)},C6=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},mj=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new ss(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return gj(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},L6=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},yj=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=C6();r.p(t.dictionary),L6(n,2,r.d())}},vj=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&To(6,"invalid zlib data"),(n[1]>>5&1)==1&&To(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function dv(n,t){t||(t={});var e=C6();e.p(n);var i=mj(n,t,t.dictionary?6:2,4);return yj(i,t),L6(i,i.length-4,e.d()),i}function _j(n,t){return dj(n.subarray(vj(n),-4),{i:2},t,t)}var bj=typeof TextDecoder<"u"&&new TextDecoder,wj=0;try{bj.decode(R6,{stream:!0}),wj=1}catch{}var De=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i2(){De.console&&typeof De.console.log=="function"&&De.console.log.apply(De.console,arguments)}var Xn={log:i2,warn:function(n){De.console&&(typeof De.console.warn=="function"?De.console.warn.apply(De.console,arguments):i2.call(null,arguments))},error:function(n){De.console&&(typeof De.console.error=="function"?De.console.error.apply(De.console,arguments):i2(n))}};function r2(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){ph(i.response,t,e)},i.onerror=function(){Xn.error("could not download file")},i.send()}function US(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function mm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Ap,pv,ph=De.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==De?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=De.URL||De.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?US(r.href)?r2(n,t,e):mm(r,r.target="_blank"):mm(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){mm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(US(n))r2(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){mm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Bn(s)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return r2(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(De.HTMLElement)||De.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(n)}else{var u=De.URL||De.webkitURL,f=u.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P6(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s2(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=Xr(e,i,r,s,t[0],7,-680876936),s=Xr(s,e,i,r,t[1],12,-389564586),r=Xr(r,s,e,i,t[2],17,606105819),i=Xr(i,r,s,e,t[3],22,-1044525330),e=Xr(e,i,r,s,t[4],7,-176418897),s=Xr(s,e,i,r,t[5],12,1200080426),r=Xr(r,s,e,i,t[6],17,-1473231341),i=Xr(i,r,s,e,t[7],22,-45705983),e=Xr(e,i,r,s,t[8],7,1770035416),s=Xr(s,e,i,r,t[9],12,-1958414417),r=Xr(r,s,e,i,t[10],17,-42063),i=Xr(i,r,s,e,t[11],22,-1990404162),e=Xr(e,i,r,s,t[12],7,1804603682),s=Xr(s,e,i,r,t[13],12,-40341101),r=Xr(r,s,e,i,t[14],17,-1502002290),e=Qr(e,i=Xr(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Qr(s,e,i,r,t[6],9,-1069501632),r=Qr(r,s,e,i,t[11],14,643717713),i=Qr(i,r,s,e,t[0],20,-373897302),e=Qr(e,i,r,s,t[5],5,-701558691),s=Qr(s,e,i,r,t[10],9,38016083),r=Qr(r,s,e,i,t[15],14,-660478335),i=Qr(i,r,s,e,t[4],20,-405537848),e=Qr(e,i,r,s,t[9],5,568446438),s=Qr(s,e,i,r,t[14],9,-1019803690),r=Qr(r,s,e,i,t[3],14,-187363961),i=Qr(i,r,s,e,t[8],20,1163531501),e=Qr(e,i,r,s,t[13],5,-1444681467),s=Qr(s,e,i,r,t[2],9,-51403784),r=Qr(r,s,e,i,t[7],14,1735328473),e=Jr(e,i=Qr(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Jr(s,e,i,r,t[8],11,-2022574463),r=Jr(r,s,e,i,t[11],16,1839030562),i=Jr(i,r,s,e,t[14],23,-35309556),e=Jr(e,i,r,s,t[1],4,-1530992060),s=Jr(s,e,i,r,t[4],11,1272893353),r=Jr(r,s,e,i,t[7],16,-155497632),i=Jr(i,r,s,e,t[10],23,-1094730640),e=Jr(e,i,r,s,t[13],4,681279174),s=Jr(s,e,i,r,t[0],11,-358537222),r=Jr(r,s,e,i,t[3],16,-722521979),i=Jr(i,r,s,e,t[6],23,76029189),e=Jr(e,i,r,s,t[9],4,-640364487),s=Jr(s,e,i,r,t[12],11,-421815835),r=Jr(r,s,e,i,t[15],16,530742520),e=Zr(e,i=Jr(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Zr(s,e,i,r,t[7],10,1126891415),r=Zr(r,s,e,i,t[14],15,-1416354905),i=Zr(i,r,s,e,t[5],21,-57434055),e=Zr(e,i,r,s,t[12],6,1700485571),s=Zr(s,e,i,r,t[3],10,-1894986606),r=Zr(r,s,e,i,t[10],15,-1051523),i=Zr(i,r,s,e,t[1],21,-2054922799),e=Zr(e,i,r,s,t[8],6,1873313359),s=Zr(s,e,i,r,t[15],10,-30611744),r=Zr(r,s,e,i,t[6],15,-1560198380),i=Zr(i,r,s,e,t[13],21,1309151649),e=Zr(e,i,r,s,t[4],6,-145523070),s=Zr(s,e,i,r,t[11],10,-1120210379),r=Zr(r,s,e,i,t[2],15,718787259),i=Zr(i,r,s,e,t[9],21,-343485551),n[0]=gu(e,n[0]),n[1]=gu(i,n[1]),n[2]=gu(r,n[2]),n[3]=gu(s,n[3])}function u1(n,t,e,i,r,s){return t=gu(gu(t,n),gu(i,s)),gu(t<<r|t>>>32-r,e)}function Xr(n,t,e,i,r,s,o){return u1(t&e|~t&i,n,t,r,s,o)}function Qr(n,t,e,i,r,s,o){return u1(t&i|e&~i,n,t,r,s,o)}function Jr(n,t,e,i,r,s,o){return u1(t^e^i,n,t,r,s,o)}function Zr(n,t,e,i,r,s,o){return u1(e^(t|~i),n,t,r,s,o)}function k6(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)s2(i,Aj(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s2(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,s2(i,r),i}function Aj(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Ap=De.atob.bind(De),pv=De.btoa.bind(De);var zS="0123456789abcdef".split("");function Sj(n){for(var t="",e=0;e<4;e++)t+=zS[n>>8*e+4&15]+zS[n>>8*e&15];return t}function Tj(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function gv(n){return k6(n).map(Tj).join("")}var Ej=function(n){for(var t=0;t<n.length;t++)n[t]=Sj(n[t]);return n.join("")}(k6("hello"))!="5d41402abc4b2a76b9719d911017c592";function gu(n,t){if(Ej){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mv(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var p=c[u];f=(f+p+o.charCodeAt(u))%256,c[u]=c[f],c[f]=p}e=n,i=c}else c=i;var y=t.length,w=0,_=0,x="";for(u=0;u<y;u++)_=(_+(p=c[w=(w+1)%256]))%256,c[w]=c[_],c[_]=p,o=c[(c[w]+c[_])%256],x+=String.fromCharCode(t.charCodeAt(u)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qS={print:4,modify:8,copy:16,"annot-forms":32};function Ef(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(c){if(qS.perm!==void 0)throw new Error("Invalid permission: "+c);r+=qS[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=gv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=mv(this.encryptionKey,this.padding)}function xf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function HS(n){if(Bn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(c){De.console&&Xn.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function E0(n){if(!(this instanceof E0))return new E0(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function D6(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function yh(n,t,e,i,r){if(!(this instanceof yh))return new yh(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,D6.call(this,i,r)}function Nf(n,t,e,i,r){if(!(this instanceof Nf))return new Nf(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,D6.call(this,i,r)}function Pe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],c=1,u=16,f="S",p=null;Bn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,w={},_={internal:{},__private__:{}};_.__private__.PubSub=HS;var x="1.3",I=_.__private__.getPdfVersion=function(){return x};_.__private__.setPdfVersion=function(S){x=S};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return R};var N=_.__private__.getPageFormat=function(S){return R[S]};r=r||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},G=M.COMPAT;function it(){this.saveGraphicsState(),ot(new le(oe,0,0,-oe,0,yr()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),f="n",G=M.ADVANCED}function tt(){this.restoreGraphicsState(),f="S",G=M.COMPAT}var pt=_.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};_.advancedAPI=function(S){var B=G===M.COMPAT;return B&&it.call(this),typeof S!="function"||(S(this),B&&tt.call(this)),this},_.compatAPI=function(S){var B=G===M.ADVANCED;return B&&tt.call(this),typeof S!="function"||(S(this),B&&it.call(this)),this},_.isAdvancedAPI=function(){return G===M.ADVANCED};var z,P=function(S){if(G!==M.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=_.roundToPrecision=_.__private__.roundToPrecision=function(S,B){var rt=t||B;if(isNaN(S)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(rt).replace(/0+$/,"")};z=_.hpf=_.__private__.hpf=typeof u=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,u)}:u==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,16)};var K=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return U(S,2)},L=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return U(S,3)},D=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return G===M.COMPAT?S*oe:G===M.ADVANCED?S:void 0},j=function(S){return G===M.COMPAT?yr()-S:G===M.ADVANCED?S:void 0},at=function(S){return D(j(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var wt,et="00000000000000000000000000000000",ht=_.__private__.getFileId=function(){return et},ft=_.__private__.setFileId=function(S){return et=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():et.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Dn=new Ef(p.userPermissions,p.userPassword,p.ownerPassword,et)),et};_.setFileId=function(S){return ft(S),this},_.getFileId=function(){return ht()};var Et=_.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),rt=B<0?"+":"-",dt=Math.floor(Math.abs(B/60)),bt=Math.abs(B%60),Ft=[rt,Z(dt),"'",Z(bt),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),Ft].join("")},Q=_.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),rt=parseInt(S.substr(6,2),10)-1,dt=parseInt(S.substr(8,2),10),bt=parseInt(S.substr(10,2),10),Ft=parseInt(S.substr(12,2),10),Yt=parseInt(S.substr(14,2),10);return new Date(B,rt,dt,bt,Ft,Yt,0)},St=_.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=Et(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return wt=B},F=_.__private__.getCreationDate=function(S){var B=wt;return S==="jsDate"&&(B=Q(wt)),B};_.setCreationDate=function(S){return St(S),this},_.getCreationDate=function(S){return F(S)};var W,Z=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},st=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ct=0,It=[],xt=[],kt=0,Jt=[],Xt=[],ne=!1,te=xt,we=function(){ct=0,kt=0,xt=[],It=[],Jt=[],Er=oi(),Gi=oi()};_.__private__.setCustomOutputDestination=function(S){ne=!0,te=S};var jt=function(S){ne||(te=S)};_.__private__.resetCustomOutputDestination=function(){ne=!1,te=xt};var ot=_.__private__.out=function(S){return S=S.toString(),kt+=S.length+1,te.push(S),te},Se=_.__private__.write=function(S){return ot(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},he=_.__private__.getArrayBuffer=function(S){for(var B=S.length,rt=new ArrayBuffer(B),dt=new Uint8Array(rt);B--;)dt[B]=S.charCodeAt(B);return rt},Qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Qt};var Zt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return Zt=G===M.ADVANCED?S/oe:S,this};var se,ae=_.__private__.getFontSize=_.getFontSize=function(){return G===M.COMPAT?Zt:Zt*oe},ve=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return ve=S,this},_.__private__.getR2L=_.getR2L=function(){return ve};var Ce,je=_.__private__.setZoomMode=function(S){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))se=S;else if(isNaN(S)){if(B.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');se=S}else se=parseInt(S,10)};_.__private__.getZoomMode=function(){return se};var _e,ge=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ce=S};_.__private__.getPageMode=function(){return Ce};var Ge=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');_e=S};_.__private__.getLayoutMode=function(){return _e},_.__private__.setDisplayMode=_.setDisplayMode=function(S,B,rt){return je(S),Ge(B),ge(rt),this};var fe={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fe[S]},_.__private__.getDocumentProperties=function(){return fe},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var B in fe)fe.hasOwnProperty(B)&&S[B]&&(fe[B]=S[B]);return this},_.__private__.setDocumentProperty=function(S,B){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fe[S]=B};var We,oe,si,Ke,tr,Je={},In={},fr=[],cn={},Hs={},Un={},Ci={},er=null,zn=0,Te=[],un=new HS(_),Or=n.hotfixes||[],ai={},nr={},hs=[],le=function S(B,rt,dt,bt,Ft,Yt){if(!(this instanceof S))return new S(B,rt,dt,bt,Ft,Yt);isNaN(B)&&(B=1),isNaN(rt)&&(rt=0),isNaN(dt)&&(dt=0),isNaN(bt)&&(bt=1),isNaN(Ft)&&(Ft=0),isNaN(Yt)&&(Yt=0),this._matrix=[B,rt,dt,bt,Ft,Yt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(S)},le.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,rt=S.sx*this.shy+S.shy*this.sy,dt=S.shx*this.sx+S.sy*this.shx,bt=S.shx*this.shy+S.sy*this.sy,Ft=S.tx*this.sx+S.ty*this.shx+this.tx,Yt=S.tx*this.shy+S.ty*this.sy+this.ty;return new le(B,rt,dt,bt,Ft,Yt)},le.prototype.decompose=function(){var S=this.sx,B=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,Ft=this.ty,Yt=Math.sqrt(S*S+B*B),ie=(S/=Yt)*rt+(B/=Yt)*dt;rt-=S*ie,dt-=B*ie;var m=Math.sqrt(rt*rt+dt*dt);return ie/=m,S*(dt/=m)<B*(rt/=m)&&(S=-S,B=-B,ie=-ie,Yt=-Yt),{scale:new le(Yt,0,0,m,0,0),translate:new le(1,0,0,1,bt,Ft),rotate:new le(S,B,-B,S,0,0),skew:new le(1,0,ie,1,0,0)}},le.prototype.toString=function(S){return this.join(" ")},le.prototype.inversed=function(){var S=this.sx,B=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,Ft=this.ty,Yt=1/(S*dt-B*rt),ie=dt*Yt,m=-B*Yt,E=-rt*Yt,k=S*Yt;return new le(ie,m,E,k,-ie*bt-E*Ft,-m*bt-k*Ft)},le.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,rt=S.x*this.shy+S.y*this.sy+this.ty;return new eo(B,rt)},le.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),rt=this.applyToPoint(new eo(S.x+S.w,S.y+S.h));return new Vo(B.x,B.y,rt.x-B.x,rt.y-B.y)},le.prototype.clone=function(){var S=this.sx,B=this.shy,rt=this.shx,dt=this.sy,bt=this.tx,Ft=this.ty;return new le(S,B,rt,dt,bt,Ft)},_.Matrix=le;var Nn=_.matrixMult=function(S,B){return B.multiply(S)},Rn=new le(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Rn;var Yn=function(S,B){if(!Hs[S]){var rt=(B instanceof yh?"Sh":"P")+(Object.keys(cn).length+1).toString(10);B.id=rt,Hs[S]=rt,cn[rt]=B,un.publish("addPattern",B)}};_.ShadingPattern=yh,_.TilingPattern=Nf,_.addShadingPattern=function(S,B){return P("addShadingPattern()"),Yn(S,B),this},_.beginTilingPattern=function(S){P("beginTilingPattern()"),Na(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,B){P("endTilingPattern()"),B.stream=Xt[W].join(`
`),Yn(S,B),un.publish("endTilingPattern",B),hs.pop().restore()};var ti=_.__private__.newObject=function(){var S=oi();return _i(S,!0),S},oi=_.__private__.newObjectDeferred=function(){return ct++,It[ct]=function(){return kt},ct},_i=function(S,B){return B=typeof B=="boolean"&&B,It[S]=kt,B&&ot(S+" 0 obj"),S},Ya=_.__private__.newAdditionalObject=function(){var S={objId:oi(),content:""};return Jt.push(S),S},Er=oi(),Gi=oi(),Li=_.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var rt=parseFloat(B[0]);B=[rt,rt,rt,"r"]}for(var dt="#",bt=0;bt<3;bt++)dt+=("0"+Math.floor(255*parseFloat(B[bt])).toString(16)).slice(-2);return dt},bi=_.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var rt=S.ch1,dt=S.ch2,bt=S.ch3,Ft=S.ch4,Yt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var ie=new P6(rt);if(ie.ok)rt=ie.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var m=parseInt(rt.substr(1),16);rt=m>>16&255,dt=m>>8&255,bt=255&m}if(dt===void 0||Ft===void 0&&rt===dt&&dt===bt)if(typeof rt=="string")B=rt+" "+Yt[0];else switch(S.precision){case 2:B=K(rt/255)+" "+Yt[0];break;case 3:default:B=L(rt/255)+" "+Yt[0]}else if(Ft===void 0||Bn(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return B=["1.","1.","1.",Yt[1]].join(" ");if(typeof rt=="string")B=[rt,dt,bt,Yt[1]].join(" ");else switch(S.precision){case 2:B=[K(rt/255),K(dt/255),K(bt/255),Yt[1]].join(" ");break;default:case 3:B=[L(rt/255),L(dt/255),L(bt/255),Yt[1]].join(" ")}}else if(typeof rt=="string")B=[rt,dt,bt,Ft,Yt[2]].join(" ");else switch(S.precision){case 2:B=[K(rt),K(dt),K(bt),K(Ft),Yt[2]].join(" ");break;case 3:default:B=[L(rt),L(dt),L(bt),L(Ft),Yt[2]].join(" ")}return B},Pi=_.__private__.getFilters=function(){return o},qn=_.__private__.putStream=function(S){var B=(S=S||{}).data||"",rt=S.filters||Pi(),dt=S.alreadyAppliedFilters||[],bt=S.addLength1||!1,Ft=B.length,Yt=S.objectId,ie=function(Ne){return Ne};if(p!==null&&Yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ie=Dn.encryptor(Yt,0));var m={};rt===!0&&(rt=["FlateEncode"]);var E=S.additionalKeyValues||[],k=(m=Pe.API.processDataByFilters!==void 0?Pe.API.processDataByFilters(B,rt):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(m.data.length!==0&&(E.push({key:"Length",value:m.data.length}),bt===!0&&E.push({key:"Length1",value:Ft})),k.length!=0)if(k.split("/").length-1==1)E.push({key:"Filter",value:k});else{E.push({key:"Filter",value:"["+k+"]"});for(var Y=0;Y<E.length;Y+=1)if(E[Y].key==="DecodeParms"){for(var _t=[],Lt=0;Lt<m.reverseChain.split("/").length-1;Lt+=1)_t.push("null");_t.push(E[Y].value),E[Y].value="["+_t.join(" ")+"]"}}ot("<<");for(var Kt=0;Kt<E.length;Kt++)ot("/"+E[Kt].key+" "+E[Kt].value);ot(">>"),m.data.length!==0&&(ot("stream"),ot(ie(m.data)),ot("endstream"))},bn=_.__private__.putPage=function(S){var B=S.number,rt=S.data,dt=S.objId,bt=S.contentsObjId;_i(dt,!0),ot("<</Type /Page"),ot("/Parent "+S.rootDictionaryObjId+" 0 R"),ot("/Resources "+S.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(z(S.mediaBox.bottomLeftX))+" "+parseFloat(z(S.mediaBox.bottomLeftY))+" "+z(S.mediaBox.topRightX)+" "+z(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ot("/CropBox ["+z(S.cropBox.bottomLeftX)+" "+z(S.cropBox.bottomLeftY)+" "+z(S.cropBox.topRightX)+" "+z(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ot("/BleedBox ["+z(S.bleedBox.bottomLeftX)+" "+z(S.bleedBox.bottomLeftY)+" "+z(S.bleedBox.topRightX)+" "+z(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ot("/TrimBox ["+z(S.trimBox.bottomLeftX)+" "+z(S.trimBox.bottomLeftY)+" "+z(S.trimBox.topRightX)+" "+z(S.trimBox.topRightY)+"]"),S.artBox!==null&&ot("/ArtBox ["+z(S.artBox.bottomLeftX)+" "+z(S.artBox.bottomLeftY)+" "+z(S.artBox.topRightX)+" "+z(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ot("/UserUnit "+S.userUnit),un.publish("putPage",{objId:dt,pageContext:Te[B],pageNumber:B,page:rt}),ot("/Contents "+bt+" 0 R"),ot(">>"),ot("endobj");var Ft=rt.join(`
`);return G===M.ADVANCED&&(Ft+=`
Q`),_i(bt,!0),qn({data:Ft,filters:Pi(),objectId:bt}),ot("endobj"),dt},Gs=_.__private__.putPages=function(){var S,B,rt=[];for(S=1;S<=zn;S++)Te[S].objId=oi(),Te[S].contentsObjId=oi();for(S=1;S<=zn;S++)rt.push(bn({number:S,data:Xt[S],objId:Te[S].objId,contentsObjId:Te[S].contentsObjId,mediaBox:Te[S].mediaBox,cropBox:Te[S].cropBox,bleedBox:Te[S].bleedBox,trimBox:Te[S].trimBox,artBox:Te[S].artBox,userUnit:Te[S].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:Gi}));_i(Er,!0),ot("<</Type /Pages");var dt="/Kids [";for(B=0;B<zn;B++)dt+=rt[B]+" 0 R ";ot(dt+"]"),ot("/Count "+zn),ot(">>"),ot("endobj"),un.publish("postPutPages")},Ws=function(S){un.publish("putFont",{font:S,out:ot,newObject:ti,putStream:qn}),S.isAlreadyPutted!==!0&&(S.objectNumber=ti(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+xf(S.postScriptName)),ot("/Subtype /Type1"),typeof S.encoding=="string"&&ot("/Encoding /"+S.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},dr=function(){for(var S in Je)Je.hasOwnProperty(S)&&(y===!1||y===!0&&w.hasOwnProperty(S))&&Ws(Je[S])},Fr=function(S){S.objectNumber=ti();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[z(S.x),z(S.y),z(S.x+S.width),z(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var rt=S.pages[1].join(`
`);qn({data:rt,additionalKeyValues:B,objectId:S.objectNumber}),ot("endobj")},Ka=function(){for(var S in ai)ai.hasOwnProperty(S)&&Fr(ai[S])},El=function(S,B){var rt,dt=[],bt=1/(B-1);for(rt=0;rt<1;rt+=bt)dt.push(rt);if(dt.push(1),S[0].offset!=0){var Ft={offset:0,color:S[0].color};S.unshift(Ft)}if(S[S.length-1].offset!=1){var Yt={offset:1,color:S[S.length-1].color};S.push(Yt)}for(var ie="",m=0,E=0;E<dt.length;E++){for(rt=dt[E];rt>S[m+1].offset;)m++;var k=S[m].offset,Y=(rt-k)/(S[m+1].offset-k),_t=S[m].color,Lt=S[m+1].color;ie+=st(Math.round((1-Y)*_t[0]+Y*Lt[0]).toString(16))+st(Math.round((1-Y)*_t[1]+Y*Lt[1]).toString(16))+st(Math.round((1-Y)*_t[2]+Y*Lt[2]).toString(16))}return ie.trim()},Xa=function(S,B){B||(B=21);var rt=ti(),dt=El(S.colors,B),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+B+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:dt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),ot("endobj"),S.objectNumber=ti(),ot("<< /ShadingType "+S.type),ot("/ColorSpace /DeviceRGB");var Ft="/Coords ["+z(parseFloat(S.coords[0]))+" "+z(parseFloat(S.coords[1]))+" ";S.type===2?Ft+=z(parseFloat(S.coords[2]))+" "+z(parseFloat(S.coords[3])):Ft+=z(parseFloat(S.coords[2]))+" "+z(parseFloat(S.coords[3]))+" "+z(parseFloat(S.coords[4]))+" "+z(parseFloat(S.coords[5])),ot(Ft+="]"),S.matrix&&ot("/Matrix ["+S.matrix.toString()+"]"),ot("/Function "+rt+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},Sc=function(S,B){var rt=oi(),dt=ti();B.push({resourcesOid:rt,objectOid:dt}),S.objectNumber=dt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+S.boundingBox.map(z).join(" ")+"]"}),bt.push({key:"XStep",value:z(S.xStep)}),bt.push({key:"YStep",value:z(S.yStep)}),bt.push({key:"Resources",value:rt+" 0 R"}),S.matrix&&bt.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qn({data:S.stream,additionalKeyValues:bt,objectId:S.objectNumber}),ot("endobj")},fs=function(S){var B;for(B in cn)cn.hasOwnProperty(B)&&(cn[B]instanceof yh?Xa(cn[B]):cn[B]instanceof Nf&&Sc(cn[B],S))},ds=function(S){for(var B in S.objectNumber=ti(),ot("<<"),S)switch(B){case"opacity":ot("/ca "+K(S[B]));break;case"stroke-opacity":ot("/CA "+K(S[B]))}ot(">>"),ot("endobj")},ki=function(){var S;for(S in Un)Un.hasOwnProperty(S)&&ds(Un[S])},$s=function(){for(var S in ot("/XObject <<"),ai)ai.hasOwnProperty(S)&&ai[S].objectNumber>=0&&ot("/"+S+" "+ai[S].objectNumber+" 0 R");un.publish("putXobjectDict"),ot(">>")},Tc=function(){Dn.oid=ti(),ot("<<"),ot("/Filter /Standard"),ot("/V "+Dn.v),ot("/R "+Dn.r),ot("/U <"+Dn.toHexString(Dn.U)+">"),ot("/O <"+Dn.toHexString(Dn.O)+">"),ot("/P "+Dn.P),ot(">>"),ot("endobj")},bs=function(){for(var S in ot("/Font <<"),Je)Je.hasOwnProperty(S)&&(y===!1||y===!0&&w.hasOwnProperty(S))&&ot("/"+S+" "+Je[S].objectNumber+" 0 R");ot(">>")},ko=function(){if(Object.keys(cn).length>0){for(var S in ot("/Shading <<"),cn)cn.hasOwnProperty(S)&&cn[S]instanceof yh&&cn[S].objectNumber>=0&&ot("/"+S+" "+cn[S].objectNumber+" 0 R");un.publish("putShadingPatternDict"),ot(">>")}},Ys=function(S){if(Object.keys(cn).length>0){for(var B in ot("/Pattern <<"),cn)cn.hasOwnProperty(B)&&cn[B]instanceof _.TilingPattern&&cn[B].objectNumber>=0&&cn[B].objectNumber<S&&ot("/"+B+" "+cn[B].objectNumber+" 0 R");un.publish("putTilingPatternDict"),ot(">>")}},xl=function(){if(Object.keys(Un).length>0){var S;for(S in ot("/ExtGState <<"),Un)Un.hasOwnProperty(S)&&Un[S].objectNumber>=0&&ot("/"+S+" "+Un[S].objectNumber+" 0 R");un.publish("putGStateDict"),ot(">>")}},Hn=function(S){_i(S.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bs(),ko(),Ys(S.objectOid),xl(),$s(),ot(">>"),ot("endobj")},Wi=function(){var S=[];dr(),ki(),Ka(),fs(S),un.publish("putResources"),S.forEach(Hn),Hn({resourcesOid:Gi,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},Do=function(){un.publish("putAdditionalObjects");for(var S=0;S<Jt.length;S++){var B=Jt[S];_i(B.objId,!0),ot(B.content),ot("endobj")}un.publish("postPutAdditionalObjects")},Ec=function(S){In[S.fontName]=In[S.fontName]||{},In[S.fontName][S.fontStyle]=S.id},_a=function(S,B,rt,dt,bt){var Ft={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:rt,encoding:dt,isStandardFont:bt||!1,metadata:{}};return un.publish("addFont",{font:Ft,instance:this}),Je[Ft.id]=Ft,Ec(Ft),Ft.id},Il=function(S){for(var B=0,rt=Qt.length;B<rt;B++){var dt=_a.call(this,S[B][0],S[B][1],S[B][2],Qt[B][3],!0);y===!1&&(w[dt]=!0);var bt=S[B][0].split("-");Ec({id:dt,fontName:bt[0],fontStyle:bt[1]||""})}un.publish("addFonts",{fonts:Je,dictionary:In})},ir=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(dt){var B=dt.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var rt="Error in function "+B.split(`
`)[0].split("<")[0]+": "+dt.message;if(!De.console)throw new Error(rt);De.console.error(rt,dt),De.alert&&alert(rt)}},S.foo.bar=S,S.foo},Mo=function(S,B){var rt,dt,bt,Ft,Yt,ie,m,E,k;if(bt=(B=B||{}).sourceEncoding||"Unicode",Yt=B.outputEncoding,(B.autoencode||Yt)&&Je[We].metadata&&Je[We].metadata[bt]&&Je[We].metadata[bt].encoding&&(Ft=Je[We].metadata[bt].encoding,!Yt&&Je[We].encoding&&(Yt=Je[We].encoding),!Yt&&Ft.codePages&&(Yt=Ft.codePages[0]),typeof Yt=="string"&&(Yt=Ft[Yt]),Yt)){for(m=!1,ie=[],rt=0,dt=S.length;rt<dt;rt++)(E=Yt[S.charCodeAt(rt)])?ie.push(String.fromCharCode(E)):ie.push(S[rt]),ie[rt].charCodeAt(0)>>8&&(m=!0);S=ie.join("")}for(rt=S.length;m===void 0&&rt!==0;)S.charCodeAt(rt-1)>>8&&(m=!0),rt--;if(!m)return S;for(ie=B.noBOM?[]:[254,255],rt=0,dt=S.length;rt<dt;rt++){if((k=(E=S.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(k),ie.push(E-(k<<8))}return String.fromCharCode.apply(void 0,ie)},dn=_.__private__.pdfEscape=_.pdfEscape=function(S,B){return Mo(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rr=_.__private__.beginPage=function(S){Xt[++zn]=[],Te[zn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ws(zn),jt(Xt[W])},ba=function(S,B){var rt,dt,bt;switch(e=B||e,typeof S=="string"&&(rt=N(S.toLowerCase()),Array.isArray(rt)&&(dt=rt[0],bt=rt[1])),Array.isArray(S)&&(dt=S[0]*oe,bt=S[1]*oe),isNaN(dt)&&(dt=r[0],bt=r[1]),(dt>14400||bt>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),bt=Math.min(14400,bt)),r=[dt,bt],e.substr(0,1)){case"l":bt>dt&&(r=[bt,dt]);break;case"p":dt>bt&&(r=[bt,dt])}rr(r),Ll(Ta),ot(sr),Pl!==0&&ot(Pl+" J"),to!==0&&ot(to+" j"),un.publish("addPage",{pageNumber:zn})},wa=function(S){S>0&&S<=zn&&(Xt.splice(S,1),Te.splice(S,1),zn--,W>zn&&(W=zn),this.setPage(W))},ws=function(S){S>0&&S<=zn&&(W=S)},wn=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Xt.length-1},Aa=function(S,B,rt){var dt,bt=void 0;return rt=rt||{},S=S!==void 0?S:Je[We].fontName,B=B!==void 0?B:Je[We].fontStyle,dt=S.toLowerCase(),In[dt]!==void 0&&In[dt][B]!==void 0?bt=In[dt][B]:In[S]!==void 0&&In[S][B]!==void 0?bt=In[S][B]:rt.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),bt||rt.noFallback||(bt=In.times[B])==null&&(bt=In.times.normal),bt},jr=_.__private__.putInfo=function(){var S=ti(),B=function(dt){return dt};for(var rt in p!==null&&(B=Dn.encryptor(S,0)),ot("<<"),ot("/Producer ("+dn(B("jsPDF "+Pe.version))+")"),fe)fe.hasOwnProperty(rt)&&fe[rt]&&ot("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+dn(B(fe[rt]))+")");ot("/CreationDate ("+dn(B(wt))+")"),ot(">>"),ot("endobj")},Ks=_.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||Er;switch(ti(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+B+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+se;rt.substr(rt.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+K(se)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}Ce&&ot("/PageMode /"+Ce),un.publish("putCatalog"),ot(">>"),ot("endobj")},xc=_.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(ct+1)),ot("/Root "+ct+" 0 R"),ot("/Info "+(ct-1)+" 0 R"),p!==null&&ot("/Encrypt "+Dn.oid+" 0 R"),ot("/ID [ <"+et+"> <"+et+"> ]"),ot(">>")},Nl=_.__private__.putHeader=function(){ot("%PDF-"+x),ot("%ºß¬à")},Rl=_.__private__.putXRef=function(){var S="0000000000";ot("xref"),ot("0 "+(ct+1)),ot("0000000000 65535 f ");for(var B=1;B<=ct;B++)typeof It[B]=="function"?ot((S+It[B]()).slice(-10)+" 00000 n "):It[B]!==void 0?ot((S+It[B]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},Xs=_.__private__.buildDocument=function(){we(),jt(xt),un.publish("buildDocument"),Nl(),Gs(),Do(),Wi(),p!==null&&Tc(),jr(),Ks();var S=kt;return Rl(),xc(),ot("startxref"),ot(""+S),ot("%%EOF"),jt(Xt[W]),xt.join(`
`)},Oo=_.__private__.getBlob=function(S){return new Blob([he(S)],{type:"application/pdf"})},Qs=_.output=_.__private__.output=ir(function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return Xs();case"save":_.save(B.filename);break;case"arraybuffer":return he(Xs());case"blob":return Oo(Xs());case"bloburi":case"bloburl":if(De.URL!==void 0&&typeof De.URL.createObjectURL=="function")return De.URL&&De.URL.createObjectURL(Oo(Xs()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",dt=Xs();try{rt=pv(dt)}catch{rt=pv(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+B.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(De)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(bt=B.pdfObjectUrl,Ft="");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",ie=De.open();return ie!==null&&ie.document.write(Yt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(De)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',E=De.open();if(E!==null){E.document.write(m);var k=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=B.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(De)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',_t=De.open();if(_t!==null&&(_t.document.write(Y),_t.document.title=B.filename),_t||typeof safari>"u")return _t;break;case"datauri":case"dataurl":return De.document.location.href=this.output("datauristring",B);default:return null}}),As=function(S){return Array.isArray(Or)===!0&&Or.indexOf(S)>-1};switch(i){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=As("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);oe=i}var Dn=null;St(),ft();var Js=function(S){return p!==null?Dn.encryptor(S,0):function(B){return B}},Ss=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Te[S].objId,pageNumber:S,pageContext:Te[S]}},Ie=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Te)if(Te[B].objId===S)break;return Ss(B)},Ts=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Te[W].objId,pageNumber:W,pageContext:Te[W]}};_.addPage=function(){return ba.apply(this,arguments),this},_.setPage=function(){return ws.apply(this,arguments),jt.call(this,Xt[W]),this},_.insertPage=function(S){return this.addPage(),this.movePage(W,S),this},_.movePage=function(S,B){var rt,dt;if(S>B){rt=Xt[S],dt=Te[S];for(var bt=S;bt>B;bt--)Xt[bt]=Xt[bt-1],Te[bt]=Te[bt-1];Xt[B]=rt,Te[B]=dt,this.setPage(B)}else if(S<B){rt=Xt[S],dt=Te[S];for(var Ft=S;Ft<B;Ft++)Xt[Ft]=Xt[Ft+1],Te[Ft]=Te[Ft+1];Xt[B]=rt,Te[B]=dt,this.setPage(B)}return this},_.deletePage=function(){return wa.apply(this,arguments),this},_.__private__.text=_.text=function(S,B,rt,dt,bt){var Ft,Yt,ie,m,E,k,Y,_t,Lt,Kt=(dt=dt||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof rt=="string"||Array.isArray(rt))){var Ne=rt;rt=B,B=S,S=Ne}if(arguments[3]instanceof le?(P("The transform parameter of text() with a Matrix value"),Lt=bt):(ie=arguments[4],m=arguments[5],Bn(Y=arguments[3])==="object"&&Y!==null||(typeof ie=="string"&&(m=ie,ie=null),typeof Y=="string"&&(m=Y,Y=null),typeof Y=="number"&&(ie=Y,Y=null),dt={flags:Y,angle:ie,align:m})),isNaN(B)||isNaN(rt)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Kt;var rn="",Ve=!1,An=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:nn,Cn=Kt.internal.scaleFactor;function Ns(Ze){return Ze=Ze.split("	").join(Array(dt.TabLen||9).join(" ")),dn(Ze,Y)}function fi(Ze){for(var tn,Gn=Ze.concat(),di=[],Cs=Gn.length;Cs--;)typeof(tn=Gn.shift())=="string"?di.push(tn):Array.isArray(Ze)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?di.push(tn[0]):di.push([tn[0],tn[1],tn[2]]);return di}function zr(Ze,tn){var Gn;if(typeof Ze=="string")Gn=tn(Ze)[0];else if(Array.isArray(Ze)){for(var di,Cs,Xo=Ze.concat(),Qo=[],ao=Xo.length;ao--;)typeof(di=Xo.shift())=="string"?Qo.push(tn(di)[0]):Array.isArray(di)&&typeof di[0]=="string"&&(Cs=tn(di[0],di[1],di[2]),Qo.push([Cs[0],Cs[1],Cs[2]]));Gn=Qo}return Gn}var Ca=!1,Uo=!0;if(typeof S=="string")Ca=!0;else if(Array.isArray(S)){var Cc=S.concat();Yt=[];for(var kl,Di=Cc.length;Di--;)(typeof(kl=Cc.shift())!="string"||Array.isArray(kl)&&typeof kl[0]!="string")&&(Uo=!1);Ca=Uo}if(Ca===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var zo=Zt/Kt.internal.scaleFactor,Dl=zo*(An-1);switch(dt.baseline){case"bottom":rt-=Dl;break;case"top":rt+=zo-Dl;break;case"hanging":rt+=zo-2*Dl;break;case"middle":rt+=zo/2-Dl}if((k=dt.maxWidth||0)>0&&(typeof S=="string"?S=Kt.splitTextToSize(S,k):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Ze,tn){return Ze.concat(Kt.splitTextToSize(tn,k))},[]))),Ft={text:S,x:B,y:rt,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("preProcessText",Ft),S=Ft.text,ie=(dt=Ft.options).angle,!(Lt instanceof le)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),G===M.ADVANCED&&(ie=-ie);var Ml=Math.cos(ie),Lc=Math.sin(ie);Lt=new le(Ml,Lc,-Lc,Ml,0,0)}else ie&&ie instanceof le&&(Lt=ie);G!==M.ADVANCED||Lt||(Lt=Rn),(E=dt.charSpace||Za)!==void 0&&(rn+=z(D(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_t=dt.horizontalScale)!==void 0&&(rn+=z(100*_t)+` Tz
`),dt.lang;var qr=-1,od=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,zu=Kt.internal.getCurrentPageInfo().pageContext;switch(od){case 0:case!1:case"fill":qr=0;break;case 1:case!0:case"stroke":qr=1;break;case 2:case"fillThenStroke":qr=2;break;case 3:case"invisible":qr=3;break;case 4:case"fillAndAddForClipping":qr=4;break;case 5:case"strokeAndAddPathForClipping":qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qr=6;break;case 7:case"addToPathForClipping":qr=7}var Uh=zu.usedRenderingMode!==void 0?zu.usedRenderingMode:-1;qr!==-1?rn+=qr+` Tr
`:Uh!==-1&&(rn+=`0 Tr
`),qr!==-1&&(zu.usedRenderingMode=qr),m=dt.align||"left";var Rs,$i=Zt*An,qo=Kt.internal.pageSize.getWidth(),qu=Je[We];E=dt.charSpace||Za,k=dt.maxWidth||0,Y=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var ro=[],Ho=function(Ze){return Kt.getStringUnitWidth(Ze,{font:qu,charSpace:E,fontSize:Zt,doKerning:!1})*Zt/Cn};if(Object.prototype.toString.call(S)==="[object Array]"){var Ir;Yt=fi(S),m!=="left"&&(Rs=Yt.map(Ho));var ar,Go=0;if(m==="right"){B-=Rs[0],S=[],Di=Yt.length;for(var Hr=0;Hr<Di;Hr++)Hr===0?(ar=mr(B),Ir=Ai(rt)):(ar=D(Go-Rs[Hr]),Ir=-$i),S.push([Yt[Hr],ar,Ir]),Go=Rs[Hr]}else if(m==="center"){B-=Rs[0]/2,S=[],Di=Yt.length;for(var na=0;na<Di;na++)na===0?(ar=mr(B),Ir=Ai(rt)):(ar=D((Go-Rs[na])/2),Ir=-$i),S.push([Yt[na],ar,Ir]),Go=Rs[na]}else if(m==="left"){S=[],Di=Yt.length;for(var La=0;La<Di;La++)S.push(Yt[La])}else if(m==="justify"&&qu.encoding==="Identity-H"){S=[],Di=Yt.length,k=k!==0?k:qo;for(var ia=0,li=0;li<Di;li++)if(Ir=li===0?Ai(rt):-$i,ar=li===0?mr(B):ia,li<Di-1){var ra=D((k-Rs[li])/(Yt[li].split(" ").length-1)),Si=Yt[li].split(" ");S.push([Si[0]+" ",ar,Ir]),ia=0;for(var Gr=1;Gr<Si.length;Gr++){var Ol=(Ho(Si[Gr-1]+" "+Si[Gr])-Ho(Si[Gr]))*Cn+ra;Gr==Si.length-1?S.push([Si[Gr],Ol,0]):S.push([Si[Gr]+" ",Ol,0]),ia-=Ol}}else S.push([Yt[li],ar,Ir]);S.push(["",ia,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Di=Yt.length,k=k!==0?k:qo,li=0;li<Di;li++)Ir=li===0?Ai(rt):-$i,ar=li===0?mr(B):0,li<Di-1?ro.push(z(D((k-Rs[li])/(Yt[li].split(" ").length-1)))):ro.push(0),S.push([Yt[li],ar,Ir])}}var Pa=typeof dt.R2L=="boolean"?dt.R2L:ve;Pa===!0&&(S=zr(S,function(Ze,tn,Gn){return[Ze.split("").reverse().join(""),tn,Gn]})),Ft={text:S,x:B,y:rt,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("postProcessText",Ft),S=Ft.text,Ve=Ft.mutex.isHex||!1;var Pc=Je[We].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(S=zr(S,function(Ze,tn,Gn){return[Ns(Ze),tn,Gn]})),Yt=fi(S),S=[];for(var Wo,$o,Yo,Fl=0,kc=1,Ko=Array.isArray(Yt[0])?kc:Fl,so="",jl=function(Ze,tn,Gn){var di="";return Gn instanceof le?(Gn=typeof dt.angle=="number"?Nn(Gn,new le(1,0,0,1,Ze,tn)):Nn(new le(1,0,0,1,Ze,tn),Gn),G===M.ADVANCED&&(Gn=Nn(new le(1,0,0,-1,0,0),Gn)),di=Gn.join(" ")+` Tm
`):di=z(Ze)+" "+z(tn)+` Td
`,di},ci=0;ci<Yt.length;ci++){switch(so="",Ko){case kc:Yo=(Ve?"<":"(")+Yt[ci][0]+(Ve?">":")"),Wo=parseFloat(Yt[ci][1]),$o=parseFloat(Yt[ci][2]);break;case Fl:Yo=(Ve?"<":"(")+Yt[ci]+(Ve?">":")"),Wo=mr(B),$o=Ai(rt)}ro!==void 0&&ro[ci]!==void 0&&(so=ro[ci]+` Tw
`),ci===0?S.push(so+jl(Wo,$o,Lt)+Yo):Ko===Fl?S.push(so+Yo):Ko===kc&&S.push(so+jl(Wo,$o,Lt)+Yo)}S=Ko===Fl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var gs=`BT
/`;return gs+=We+" "+Zt+` Tf
`,gs+=z(Zt*An)+` TL
`,gs+=ta+`
`,gs+=rn,gs+=S,ot(gs+="ET"),w[We]=!0,Kt};var Ic=_.__private__.clip=_.clip=function(S){return ot(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Ic("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ot("n"),this};var pr=_.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return pr(S)&&(f=S),this};var Vr=_.__private__.getStyle=_.getStyle=function(S){var B=f;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},xr=_.close=function(){return ot("h"),this};_.stroke=function(){return ot("S"),this},_.fill=function(S){return Es("f",S),this},_.fillEvenOdd=function(S){return Es("f*",S),this},_.fillStroke=function(S){return Es("B",S),this},_.fillStrokeEvenOdd=function(S){return Es("B*",S),this};var Es=function(S,B){Bn(B)==="object"?Zs(B,S):ot(S)},Br=function(S){S===null||G===M.ADVANCED&&S===void 0||(S=Vr(S),ot(S))};function Sa(S,B,rt,dt,bt){var Ft=new Nf(B||this.boundingBox,rt||this.xStep,dt||this.yStep,this.gState,bt||this.matrix);Ft.stream=this.stream;var Yt=S+"$$"+this.cloneIndex+++"$$";return Yn(Yt,Ft),Ft}var Zs=function(S,B){var rt=Hs[S.key],dt=cn[rt];if(dt instanceof yh)ot("q"),ot(Cl(B)),dt.gState&&_.setGState(dt.gState),ot(S.matrix.toString()+" cm"),ot("/"+rt+" sh"),ot("Q");else if(dt instanceof Nf){var bt=new le(1,0,0,-1,0,yr());S.matrix&&(bt=bt.multiply(S.matrix||Rn),rt=Sa.call(dt,S.key,S.boundingBox,S.xStep,S.yStep,bt).id),ot("q"),ot("/Pattern cs"),ot("/"+rt+" scn"),dt.gState&&_.setGState(dt.gState),ot(B),ot("Q")}},Cl=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ur=_.moveTo=function(S,B){return ot(z(D(S))+" "+z(at(B))+" m"),this},gr=_.lineTo=function(S,B){return ot(z(D(S))+" "+z(at(B))+" l"),this},xs=_.curveTo=function(S,B,rt,dt,bt,Ft){return ot([z(D(S)),z(at(B)),z(D(rt)),z(at(dt)),z(D(bt)),z(at(Ft)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,B,rt,dt,bt){if(isNaN(S)||isNaN(B)||isNaN(rt)||isNaN(dt)||!pr(bt))throw new Error("Invalid arguments passed to jsPDF.line");return G===M.COMPAT?this.lines([[rt-S,dt-B]],S,B,[1,1],bt||"S"):this.lines([[rt-S,dt-B]],S,B,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,B,rt,dt,bt,Ft){var Yt,ie,m,E,k,Y,_t,Lt,Kt,Ne,rn,Ve;if(typeof S=="number"&&(Ve=rt,rt=B,B=S,S=Ve),dt=dt||[1,1],Ft=Ft||!1,isNaN(B)||isNaN(rt)||!Array.isArray(S)||!Array.isArray(dt)||!pr(bt)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ur(B,rt),Yt=dt[0],ie=dt[1],E=S.length,Ne=B,rn=rt,m=0;m<E;m++)(k=S[m]).length===2?(Ne=k[0]*Yt+Ne,rn=k[1]*ie+rn,gr(Ne,rn)):(Y=k[0]*Yt+Ne,_t=k[1]*ie+rn,Lt=k[2]*Yt+Ne,Kt=k[3]*ie+rn,Ne=k[4]*Yt+Ne,rn=k[5]*ie+rn,xs(Y,_t,Lt,Kt,Ne,rn));return Ft&&xr(),Br(bt),this},_.path=function(S){for(var B=0;B<S.length;B++){var rt=S[B],dt=rt.c;switch(rt.op){case"m":Ur(dt[0],dt[1]);break;case"l":gr(dt[0],dt[1]);break;case"c":xs.apply(this,dt);break;case"h":xr()}}return this},_.__private__.rect=_.rect=function(S,B,rt,dt,bt){if(isNaN(S)||isNaN(B)||isNaN(rt)||isNaN(dt)||!pr(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return G===M.COMPAT&&(dt=-dt),ot([z(D(S)),z(at(B)),z(D(rt)),z(D(dt)),"re"].join(" ")),Br(bt),this},_.__private__.triangle=_.triangle=function(S,B,rt,dt,bt,Ft,Yt){if(isNaN(S)||isNaN(B)||isNaN(rt)||isNaN(dt)||isNaN(bt)||isNaN(Ft)||!pr(Yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-S,dt-B],[bt-rt,Ft-dt],[S-bt,B-Ft]],S,B,[1,1],Yt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,B,rt,dt,bt,Ft,Yt){if(isNaN(S)||isNaN(B)||isNaN(rt)||isNaN(dt)||isNaN(bt)||isNaN(Ft)||!pr(Yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*rt),Ft=Math.min(Ft,.5*dt),this.lines([[rt-2*bt,0],[bt*ie,0,bt,Ft-Ft*ie,bt,Ft],[0,dt-2*Ft],[0,Ft*ie,-bt*ie,Ft,-bt,Ft],[2*bt-rt,0],[-bt*ie,0,-bt,-Ft*ie,-bt,-Ft],[0,2*Ft-dt],[0,-Ft*ie,bt*ie,-Ft,bt,-Ft]],S+bt,B,[1,1],Yt,!0),this},_.__private__.ellipse=_.ellipse=function(S,B,rt,dt,bt){if(isNaN(S)||isNaN(B)||isNaN(rt)||isNaN(dt)||!pr(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*rt,Yt=4/3*(Math.SQRT2-1)*dt;return Ur(S+rt,B),xs(S+rt,B-Yt,S+Ft,B-dt,S,B-dt),xs(S-Ft,B-dt,S-rt,B-Yt,S-rt,B),xs(S-rt,B+Yt,S-Ft,B+dt,S,B+dt),xs(S+Ft,B+dt,S+rt,B+Yt,S+rt,B),Br(bt),this},_.__private__.circle=_.circle=function(S,B,rt,dt){if(isNaN(S)||isNaN(B)||isNaN(rt)||!pr(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,rt,rt,dt)},_.setFont=function(S,B,rt){return rt&&(B=pt(B,rt)),We=Aa(S,B,{disableWarning:!1}),this};var wi=_.__private__.getFont=_.getFont=function(){return Je[Aa.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,B,rt={};for(S in In)if(In.hasOwnProperty(S))for(B in rt[S]=[],In[S])In[S].hasOwnProperty(B)&&rt[S].push(B);return rt},_.addFont=function(S,B,rt,dt,bt){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(rt=pt(rt,dt)),bt=bt||"Identity-H",_a.call(this,S,B,rt,bt)};var nn,Ta=n.lineWidth||.200025,Is=_.__private__.getLineWidth=_.getLineWidth=function(){return Ta},Ll=_.__private__.setLineWidth=_.setLineWidth=function(S){return Ta=S,ot(z(D(S))+" w"),this};_.__private__.setLineDash=Pe.API.setLineDash=Pe.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(rt){return z(D(rt))}).join(" "),B=z(D(B)),ot("["+S+"] "+B+" d"),this};var Qa=_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};var Ja=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(nn=S),this},ps=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return nn};Ja(n.lineHeight);var mr=_.__private__.getHorizontalCoordinate=function(S){return D(S)},Ai=_.__private__.getVerticalCoordinate=function(S){return G===M.ADVANCED?S:Te[W].mediaBox.topRightY-Te[W].mediaBox.bottomLeftY-D(S)},Nc=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return z(mr(S))},Ea=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return z(Ai(S))},sr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Li(sr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,B,rt,dt){return sr=bi({ch1:S,ch2:B,ch3:rt,ch4:dt,pdfColorType:"draw",precision:2}),ot(sr),this};var xa=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Li(xa)},_.__private__.setFillColor=_.setFillColor=function(S,B,rt,dt){return xa=bi({ch1:S,ch2:B,ch3:rt,ch4:dt,pdfColorType:"fill",precision:2}),ot(xa),this};var ta=n.textColor||"0 g",Fo=_.__private__.getTextColor=_.getTextColor=function(){return Li(ta)};_.__private__.setTextColor=_.setTextColor=function(S,B,rt,dt){return ta=bi({ch1:S,ch2:B,ch3:rt,ch4:dt,pdfColorType:"text",precision:3}),this};var Za=n.charSpace,jo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Za||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Za=S,this};var Pl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=B,ot(B+" J"),this};var to=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return to=B,ot(B+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(z(D(S))+" M"),this},_.GState=E0,_.setGState=function(S){(S=typeof S=="string"?Un[Ci[S]]:Ia(null,S)).equals(er)||(ot("/"+S.id+" gs"),er=S)};var Ia=function(S,B){if(!S||!Ci[S]){var rt=!1;for(var dt in Un)if(Un.hasOwnProperty(dt)&&Un[dt].equals(B)){rt=!0;break}if(rt)B=Un[dt];else{var bt="GS"+(Object.keys(Un).length+1).toString(10);Un[bt]=B,B.id=bt}return S&&(Ci[S]=B.id),un.publish("addGState",B),B}};_.addGState=function(S,B){return Ia(S,B),this},_.saveGraphicsState=function(){return ot("q"),fr.push({key:We,size:Zt,color:ta}),this},_.restoreGraphicsState=function(){ot("Q");var S=fr.pop();return We=S.key,Zt=S.size,ta=S.color,er=null,this},_.setCurrentTransformationMatrix=function(S){return ot(S.toString()+" cm"),this},_.comment=function(S){return ot("#"+S),this};var eo=function(S,B){var rt=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(Ft){isNaN(Ft)||(rt=parseFloat(Ft))}});var dt=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(Ft){isNaN(Ft)||(dt=parseFloat(Ft))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Ft){bt=Ft.toString()}}),this},Vo=function(S,B,rt,dt){eo.call(this,S,B),this.type="rect";var bt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Yt){isNaN(Yt)||(bt=parseFloat(Yt))}});var Ft=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Yt){isNaN(Yt)||(Ft=parseFloat(Yt))}}),this},no=function(){this.page=zn,this.currentPage=W,this.pages=Xt.slice(0),this.pagesContext=Te.slice(0),this.x=si,this.y=Ke,this.matrix=tr,this.width=Ra(W),this.height=yr(W),this.outputDestination=te,this.id="",this.objectNumber=-1};no.prototype.restore=function(){zn=this.page,W=this.currentPage,Te=this.pagesContext,Xt=this.pages,si=this.x,Ke=this.y,tr=this.matrix,io(W,this.width),Bo(W,this.height),te=this.outputDestination};var Na=function(S,B,rt,dt,bt){hs.push(new no),zn=W=0,Xt=[],si=S,Ke=B,tr=bt,rr([rt,dt])},Rc=function(S){if(nr[S])hs.pop().restore();else{var B=new no,rt="Xo"+(Object.keys(ai).length+1).toString(10);B.id=rt,nr[S]=rt,ai[rt]=B,un.publish("addFormObject",B),hs.pop().restore()}};for(var ea in _.beginFormObject=function(S,B,rt,dt,bt){return Na(S,B,rt,dt,bt),this},_.endFormObject=function(S){return Rc(S),this},_.doFormObject=function(S,B){var rt=ai[nr[S]];return ot("q"),ot(B.toString()+" cm"),ot("/"+rt.id+" Do"),ot("Q"),this},_.getFormObject=function(S){var B=ai[nr[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},_.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(ph(Oo(Xs()),S),typeof ph.unload=="function"&&De.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(rt,dt){try{var bt=ph(Oo(Xs()),S);typeof ph.unload=="function"&&De.setTimeout&&setTimeout(ph.unload,911),rt(bt)}catch(Ft){dt(Ft.message)}})},Pe.API)Pe.API.hasOwnProperty(ea)&&(ea==="events"&&Pe.API.events.length?function(S,B){var rt,dt,bt;for(bt=B.length-1;bt!==-1;bt--)rt=B[bt][0],dt=B[bt][1],S.subscribe.apply(S,[rt].concat(typeof dt=="function"?[dt]:dt))}(un,Pe.API.events):_[ea]=Pe.API[ea]);var Ra=_.getPageWidth=function(S){return(Te[S=S||W].mediaBox.topRightX-Te[S].mediaBox.bottomLeftX)/oe},io=_.setPageWidth=function(S,B){Te[S].mediaBox.topRightX=B*oe+Te[S].mediaBox.bottomLeftX},yr=_.getPageHeight=function(S){return(Te[S=S||W].mediaBox.topRightY-Te[S].mediaBox.bottomLeftY)/oe},Bo=_.setPageHeight=function(S,B){Te[S].mediaBox.topRightY=B*oe+Te[S].mediaBox.bottomLeftY};return _.internal={pdfEscape:dn,getStyle:Vr,getFont:wi,getFontSize:ae,getCharSpace:jo,getTextColor:Fo,getLineHeight:Qa,getLineHeightFactor:ps,getLineWidth:Is,write:Se,getHorizontalCoordinate:mr,getVerticalCoordinate:Ai,getCoordinateString:Nc,getVerticalCoordinateString:Ea,collections:{},newObject:ti,newAdditionalObject:Ya,newObjectDeferred:oi,newObjectDeferredBegin:_i,getFilters:Pi,putStream:qn,events:un,scaleFactor:oe,pageSize:{getWidth:function(){return Ra(W)},setWidth:function(S){io(W,S)},getHeight:function(){return yr(W)},setHeight:function(S){Bo(W,S)}},encryptionOptions:p,encryption:Dn,getEncryptor:Js,output:Qs,getNumberOfPages:wn,pages:Xt,out:ot,f2:K,f3:L,getPageInfo:Ss,getPageInfoByObjId:Ie,getCurrentPageInfo:Ts,getPDFVersion:I,Point:eo,Rectangle:Vo,Matrix:le,hasHotfix:As},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ra(W)},set:function(S){io(W,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return yr(W)},set:function(S){Bo(W,S)},enumerable:!0,configurable:!0}),Il.call(_,Qt),We="F1",ba(r,e),un.publish("initialized"),_}Ef.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ef.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ef.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Ef.prototype.processOwnerPassword=function(n,t){return mv(gv(t).substr(0,5),n)},Ef.prototype.encryptor=function(n,t){var e=gv(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return mv(e,i)}},E0.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Bn(n)!==Bn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Pe.API={events:[]},Pe.version="3.0.1";var Ii=Pe.API,a5=1,Vh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ze=function(n){return n.toFixed(2)},ou=function(n){return n.toFixed(5)};Ii.__acroform__={};var qs=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},GS=function(n){return n*a5},hl=function(n){var t=new O6,e=pe.internal.getHeight(n)||0,i=pe.internal.getWidth(n)||0;return t.BBox=[0,0,Number(ze(i)),Number(ze(e))],t},xj=Ii.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},Ij=Ii.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},Nj=Ii.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Ui=Ii.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nj(n,t-1)},zi=Ii.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xj(n,t-1)},qi=Ii.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ij(n,t-1)},Rj=Ii.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=i(s+c)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=i(s)||0,[Number(ze(u.lowerLeft_X)),Number(ze(u.lowerLeft_Y)),Number(ze(u.upperRight_X)),Number(ze(u.upperRight_Y))]},Cj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=yv(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+ze(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=hl(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},yv=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(L){return L.split(`
`)}):r.map(function(L){return[L]});var s=e,o=pe.internal.getHeight(n)||0;o=o<0?-o:o;var c=pe.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(L,D,j){if(L+1<r.length){var at=D+" "+r[L+1][0];return ym(at,n,j).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var f,p,y=ym("3",n,s).height,w=n.multiline?o-s:(o-y)/2,_=w+=2,x=0,I=0,R=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+ym(t,n,s=12).width+", FieldWidth:"+c+`
`;break}for(var N="",M=0,G=0;G<r.length;G++)if(r.hasOwnProperty(G)){var it=!1;if(r[G].length!==1&&R!==r[G].length-1){if((y+2)*(M+2)+2>o)continue t;N+=r[G][R],it=!0,I=G,G--}else{N=(N+=r[G][R]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var tt=parseInt(G),pt=u(tt,N,s),z=G>=r.length-1;if(pt&&!z){N+=" ",R=0;continue}if(pt||z){if(z)I=tt;else if(n.multiline&&(y+2)*(M+2)+2>o)continue t}else{if(!n.multiline||(y+2)*(M+2)+2>o)continue t;I=tt}}for(var P="",U=x;U<=I;U++){var K=r[U];if(n.multiline){if(U===I){P+=K[R]+" ",R=(R+1)%K.length;continue}if(U===x){P+=K[K.length-1]+" ";continue}}P+=K[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,p=ym(P,n,s).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}t+=ze(f)+" "+ze(_)+` Td
`,t+="("+Vh(P)+`) Tj
`,t+=-ze(f)+` 0 Td
`,_=-(s+2),p=0,x=it?I:I+1,M++,N=""}break}return i.text=t,i.fontSize=s,i},ym=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},Lj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pj=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},kj=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),Bn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},Dj=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Lo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Lj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new F6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Pj(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=Rj(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=pe.createDefaultAppearanceStream(c),Bn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Cj(c);u.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var _=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var o in _)if(_.hasOwnProperty(o)){var x=_[o];typeof x=="function"&&(x=x.call(r,c)),y+="/"+o+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=_)=="function"&&(x=x.call(r,c)),y+="/"+o+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}s&&kj(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},M6=Ii.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),Bn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+Vh(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a2=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Vh(i(n))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:M6(r,this.objId,this.scope)}):r instanceof ml?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var O6=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};qs(O6,ml);var F6=function(){ml.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Vh(e(n))+")"}},set:function(e){n=e}})};qs(F6,ml);var Lo=function n(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ui(t,3)},set:function(N){N?this.F=zi(t,3):this.F=qi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');e=N}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(N){i=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(N){i[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(N){i[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(N){i[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(N){i[3]=N}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof x0)return;s="FieldObject"+n.FieldNum++}var N=function(M){return M};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Vh(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/a5:f},set:function(N){f=N}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(N){p=N}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof x0||this instanceof Eh))return a2(y,this.objId,this.scope)},set:function(N){N=N.toString(),y=N}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Sr?w:a2(w,this.objId,this.scope)},set:function(N){N=N.toString(),w=this instanceof Sr?N:N.substr(0,1)==="("?yf(N.substr(1,N.length-2)):yf(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr?yf(w.substr(1,w.length-1)):w},set:function(N){N=N.toString(),w=this instanceof Sr?"/"+N:N}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Sr?_:a2(_,this.objId,this.scope)},set:function(N){N=N.toString(),_=this instanceof Sr?N:N.substr(0,1)==="("?yf(N.substr(1,N.length-2)):yf(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr?yf(_.substr(1,_.length-1)):_},set:function(N){N=N.toString(),_=this instanceof Sr?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(N){N=!!N,I=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(N){x=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,1)},set:function(N){N?this.Ff=zi(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,2)},set:function(N){N?this.Ff=zi(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,3)},set:function(N){N?this.Ff=zi(this.Ff,3):this.Ff=qi(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');R=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(R){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};qs(Lo,ml);var Of=function(){Lo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M6(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(s,o,c){c||(c=1);for(var u,f=[];u=o.exec(s);)f.push(u[c]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,18)},set:function(e){e?this.Ff=zi(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=zi(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,20)},set:function(e){e?(this.Ff=zi(this.Ff,20),t.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,22)},set:function(e){e?this.Ff=zi(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,27)},set:function(e){e?this.Ff=zi(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};qs(Of,Lo);var Ff=function(){Of.call(this),this.fontName="helvetica",this.combo=!1};qs(Ff,Of);var jf=function(){Ff.call(this),this.combo=!0};qs(jf,Ff);var Wm=function(){jf.call(this),this.edit=!0};qs(Wm,jf);var Sr=function(){Lo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,15)},set:function(e){e?this.Ff=zi(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,16)},set:function(e){e?this.Ff=zi(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,17)},set:function(e){e?this.Ff=zi(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Vh(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Bn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};qs(Sr,Lo);var $m=function(){Sr.call(this),this.pushButton=!0};qs($m,Sr);var Vf=function(){Sr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};qs(Vf,Sr);var x0=function(){var n,t;Lo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Vh(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Bn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qs(x0,Lo),Vf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Vf.prototype.createOption=function(n){var t=new x0;return t.Parent=this,t.optionName=n,this.Kids.push(t),Mj.call(this.scope,t),t};var Ym=function(){Sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};qs(Ym,Sr);var Eh=function(){Lo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,13)},set:function(t){t?this.Ff=zi(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,21)},set:function(t){t?this.Ff=zi(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(t){t?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,24)},set:function(t){t?this.Ff=zi(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,25)},set:function(t){t?this.Ff=zi(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(t){t?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qs(Eh,Lo);var Km=function(){Eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,14)},set:function(n){n?this.Ff=zi(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};qs(Km,Eh);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=yv(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+ze(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=hl(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=pe.internal.getHeight(n),o=pe.internal.getWidth(n),c=yv(n,n.caption);return r.push("1 g"),r.push("0 0 "+ze(o)+" "+ze(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ze(o-1)+" "+ze(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ze(c.fontSize)+" Tf "+i),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Circle.YesNormal,t.D[n]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=hl(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=pe.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+ou(pe.internal.getWidth(n)/2)+" "+ou(pe.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5)),o=Number((i*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ou(pe.internal.getWidth(n)/2)+" "+ou(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+ou(pe.internal.getWidth(n)/2)+" "+ou(pe.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=[],i=pe.internal.getWidth(n)<=pe.internal.getHeight(n)?pe.internal.getWidth(n)/4:pe.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ou(pe.internal.getWidth(n)/2)+" "+ou(pe.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=pe.RadioButton.Cross.YesNormal,t.D[n]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=hl(n);t.scope=n.scope;var e=[],i=pe.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+ze(pe.internal.getWidth(n)-2)+" "+ze(pe.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(ze(i.x1.x)+" "+ze(i.x1.y)+" m"),e.push(ze(i.x2.x)+" "+ze(i.x2.y)+" l"),e.push(ze(i.x4.x)+" "+ze(i.x4.y)+" m"),e.push(ze(i.x3.x)+" "+ze(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=pe.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+ze(pe.internal.getWidth(n)-2)+" "+ze(pe.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(ze(e.x1.x)+" "+ze(e.x1.y)+" m"),i.push(ze(e.x2.x)+" "+ze(e.x2.y)+" l"),i.push(ze(e.x4.x)+" "+ze(e.x4.y)+" m"),i.push(ze(e.x3.x)+" "+ze(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=hl(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(n))+" "+ze(pe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=pe.internal.getWidth(n),e=pe.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},pe.internal.getWidth=function(n){var t=0;return Bn(n)==="object"&&(t=GS(n.Rect[2])),t},pe.internal.getHeight=function(n){var t=0;return Bn(n)==="object"&&(t=GS(n.Rect[3])),t};var Mj=Ii.addField=function(n){if(Dj(this,n),!(n instanceof Lo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=Of,Ii.AcroFormListBox=Ff,Ii.AcroFormComboBox=jf,Ii.AcroFormEditBox=Wm,Ii.AcroFormButton=Sr,Ii.AcroFormPushButton=$m,Ii.AcroFormRadioButton=Vf,Ii.AcroFormCheckBox=Ym,Ii.AcroFormTextField=Eh,Ii.AcroFormPasswordField=Km,Ii.AcroFormAppearance=pe,Ii.AcroForm={ChoiceField:Of,ListBox:Ff,ComboBox:jf,EditBox:Wm,Button:Sr,PushButton:$m,RadioButton:Vf,CheckBox:Ym,TextField:Eh,PasswordField:Km,Appearance:pe},Pe.AcroForm={ChoiceField:Of,ListBox:Ff,ComboBox:jf,EditBox:Wm,Button:Sr,PushButton:$m,RadioButton:Vf,CheckBox:Ym,TextField:Eh,PasswordField:Km,Appearance:pe};Pe.AcroForm;function j6(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,D){var j,at,wt,et,ht,ft=t;if((D=D||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(pt(L))for(ht in e)for(wt=e[ht],j=0;j<wt.length;j+=1){for(et=!0,at=0;at<wt[j].length;at+=1)if(wt[j][at]!==void 0&&wt[j][at]!==L[at]){et=!1;break}if(et===!0){ft=ht;break}}else for(ht in e)for(wt=e[ht],j=0;j<wt.length;j+=1){for(et=!0,at=0;at<wt[j].length;at+=1)if(wt[j][at]!==void 0&&wt[j][at]!==L.charCodeAt(at)){et=!1;break}if(et===!0){ft=ht;break}}return ft===t&&D!==t&&(ft=D),ft},r=function L(D){for(var j=this.internal.write,at=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var et=[];if(et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Image"}),et.push({key:"Width",value:D.width}),et.push({key:"Height",value:D.height}),D.colorSpace===R.INDEXED?et.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(et.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===R.DEVICE_CMYK&&et.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),et.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&et.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ht="",ft=0,Et=D.transparency.length;ft<Et;ft++)ht+=D.transparency[ft]+" "+D.transparency[ft]+" ";et.push({key:"Mask",value:"["+ht+"]"})}D.sMask!==void 0&&et.push({key:"SMask",value:D.objectId+1+" 0 R"});var Q=D.filter!==void 0?["/"+D.filter]:void 0;if(at({data:D.data,additionalKeyValues:et,alreadyAppliedFilters:Q,objectId:D.objectId}),j("endobj"),"sMask"in D&&D.sMask!==void 0){var St="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,F={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:St,data:D.sMask};"filter"in D&&(F.filter=D.filter),L.call(this,F)}if(D.colorSpace===R.INDEXED){var W=this.internal.newObject();at({data:P(new Uint8Array(D.palette)),objectId:W}),j("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var D in L)r.call(this,L[D])},o=function(){var L,D=this.internal.collections.addImage_images,j=this.internal.write;for(var at in D)j("/I"+(L=D[at]).index,L.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var L=this.internal.collections.addImage_images;return c.call(this),L},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(L){return typeof n["process"+L.toUpperCase()]=="function"},y=function(L){return Bn(L)==="object"&&L.nodeType===1},w=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var j=""+L.getAttribute("src");if(j.indexOf("data:image/")===0)return Ap(unescape(j).split("base64,").pop());var at=n.loadFile(j,!0);if(at!==void 0)return at}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var wt;switch(D){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;case"JPEG":case"JPG":default:wt="image/jpeg"}return Ap(L.toDataURL(wt,1).split("base64,").pop())}},_=function(L){var D=this.internal.collections.addImage_images;if(D){for(var j in D)if(L===D[j].alias)return D[j]}},x=function(L,D,j){return L||D||(L=-96,D=-96),L<0&&(L=-1*j.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*j.height*72/D/this.internal.scaleFactor),L===0&&(L=D*j.width/j.height),D===0&&(D=L*j.height/j.width),[L,D]},I=function(L,D,j,at,wt,et){var ht=x.call(this,j,at,wt),ft=this.internal.getCoordinateString,Et=this.internal.getVerticalCoordinateString,Q=u.call(this);if(j=ht[0],at=ht[1],Q[wt.index]=wt,et){et*=Math.PI/180;var St=Math.cos(et),F=Math.sin(et),W=function(st){return st.toFixed(4)},Z=[W(St),W(F),W(-1*F),W(St),0,0,"cm"]}this.internal.write("q"),et?(this.internal.write([1,"0","0",1,ft(L),Et(D+at),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ft(j),"0","0",ft(at),"0","0","cm"].join(" "))):this.internal.write([ft(j),"0","0",ft(at),ft(L),Et(D+at),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(L){var D,j,at=0;if(typeof L=="string")for(j=L.length,D=0;D<j;D++)at=(at<<5)-at+L.charCodeAt(D),at|=0;else if(pt(L))for(j=L.byteLength/2,D=0;D<j;D++)at=(at<<5)-at+L[D],at|=0;return at},G=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},it=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},tt=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return tt()&&L instanceof ArrayBuffer};var pt=n.__addimage__.isArrayBufferView=function(L){return tt()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,j=new Uint8Array(D),at=0;at<D;at++)j[at]=L.charCodeAt(at);return j},P=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",j=pt(L)?L:new Uint8Array(L),at=0;at<j.length;at+=8192)D+=String.fromCharCode.apply(null,j.subarray(at,at+8192));return D};n.addImage=function(){var L,D,j,at,wt,et,ht,ft,Et;if(typeof arguments[1]=="number"?(D=t,j=arguments[1],at=arguments[2],wt=arguments[3],et=arguments[4],ht=arguments[5],ft=arguments[6],Et=arguments[7]):(D=arguments[1],j=arguments[2],at=arguments[3],wt=arguments[4],et=arguments[5],ht=arguments[6],ft=arguments[7],Et=arguments[8]),Bn(L=arguments[0])==="object"&&!y(L)&&"imageData"in L){var Q=L;L=Q.imageData,D=Q.format||D||t,j=Q.x||j||0,at=Q.y||at||0,wt=Q.w||Q.width||wt,et=Q.h||Q.height||et,ht=Q.alias||ht,ft=Q.compression||ft,Et=Q.rotation||Q.angle||Et}var St=this.internal.getFilters();if(ft===void 0&&St.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(j)||isNaN(at))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=U.call(this,L,D,ht,ft);return I.call(this,j,at,wt,et,F,Et),this};var U=function(L,D,j,at){var wt,et,ht;if(typeof L=="string"&&i(L)===t){L=unescape(L);var ft=K(L,!1);(ft!==""||(ft=n.loadFile(L,!0))!==void 0)&&(L=ft)}if(y(L)&&(L=w(L,D)),D=i(L,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ht=j)==null||ht.length===0)&&(j=function(Et){return typeof Et=="string"||pt(Et)?M(Et):pt(Et.data)?M(Et.data):null}(L)),(wt=_.call(this,j))||(tt()&&(L instanceof Uint8Array||D==="RGBA"||(et=L,L=z(L))),wt=this["process"+D.toUpperCase()](L,f.call(this),j,function(Et){return Et&&typeof Et=="string"&&(Et=Et.toUpperCase()),Et in n.image_compression?Et:N.NONE}(at),et)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},K=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var j,at="";if(typeof L=="string"){var wt;j=(wt=it(L))!==null&&wt!==void 0?wt:L;try{at=Ap(j)}catch(et){if(D)throw G(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+et.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return at};n.getImageProperties=function(L){var D,j,at="";if(y(L)&&(L=w(L)),typeof L=="string"&&i(L)===t&&((at=K(L,!1))===""&&(at=n.loadFile(L)||""),L=at),j=i(L),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!tt()||L instanceof Uint8Array||(L=z(L)),!(D=this["process"+j.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=j,D}})(Pe.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Pe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,y=0;y<f.length&&!p;y++)switch((i=f[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){i=f[w];var _=this.internal.pdfEscape,x=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(I.objId),M=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+_(N(i.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+_(N(M))+") >>",I.content=s;var G=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+G,i.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(I.objId,"0 R",R.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var it=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(x(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+it+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var tt=this.annotations._nameMap[i.options.name];i.options.pageNumber=tt.page,i.options.top=tt.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(x(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var pt=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+pt+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(e),y:f(i),w:u(e+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,c,u=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(e,c).length;o=Math.ceil(f*p)}else c=u,o=f;return this.text(e,i,r,s),r+=.2*f,s.align==="center"&&(i-=u/2),s.align==="right"&&(i-=u),this.link(i,r-f,c,o,s),u},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Pe.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=n.__arabicParser__.isArabicEndLetter=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(I){return o(I)&&r.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(I){var R=0,N=e,M="",G=0;for(R=0;R<I.length;R+=1)N[I.charCodeAt(R)]!==void 0?(G++,typeof(N=N[I.charCodeAt(R)])=="number"&&(M+=String.fromCharCode(N),N=e,G=0),R===I.length-1&&(N=e,M+=I.charAt(R-(G-1)),R-=G-1,G=0)):(N=e,M+=I.charAt(R-G),R-=G,G=0);return M};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&i[I.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(I,R,N){return o(I)?s(I)===!1?-1:!f(I)||!o(R)&&!o(N)||!o(N)&&c(R)||c(I)&&!o(R)||c(I)&&u(R)||c(I)&&c(R)?0:p(I)&&o(R)&&!c(R)&&o(N)&&f(N)?3:c(I)||!o(N)?1:2:-1},_=function(I){var R=0,N=0,M=0,G="",it="",tt="",pt=(I=I||"").split("\\s+"),z=[];for(R=0;R<pt.length;R+=1){for(z.push(""),N=0;N<pt[R].length;N+=1)G=pt[R][N],it=pt[R][N-1],tt=pt[R][N+1],o(G)?(M=w(G,it,tt),z[R]+=M!==-1?String.fromCharCode(t[G.charCodeAt(0)][M]):G):z[R]+=G;z[R]=y(z[R])}return z.join(" ")},x=n.__arabicParser__.processArabic=n.processArabic=function(){var I,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(R)){var M=0;for(N=[],M=0;M<R.length;M+=1)Array.isArray(R[M])?N.push([_(R[M][0]),R[M][1],R[M][2]]):N.push([_(R[M])]);I=N}else I=_(R);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",x])}(Pe.API),Pe.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pe.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(I){y=I}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(I){x=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,_=0,x=0,I=0,R=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=f.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(G,it){return G.concat(R.splitTextToSize(it,N))},[])):u=Array.isArray(u)?u:[u];for(var M=0;M<u.length;M++)_<(I=this.getStringUnitWidth(u[M],{font:y})*p)&&(_=I);return _!==0&&(x=u.length),{w:_/=w,h:Math.max((x*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,_&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,p,y,w){if(i.call(this),!p)throw new Error("No data for PDF table.");var _,x,I,R,N=[],M=[],G=[],it={},tt={},pt=[],z=[],P=(w=w||{}).autoSize||!1,U=w.printHeaders!==!1,K=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},t),D=typeof w.padding=="number"?w.padding:3,j=w.headerBackgroundColor||"#c8c8c8",at=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=at,this.setFontSize(K),y==null)M=N=Object.keys(p[0]),G=N.map(function(){return"left"});else if(Array.isArray(y)&&Bn(y[0])==="object")for(N=y.map(function(Q){return Q.name}),M=y.map(function(Q){return Q.prompt||Q.name||""}),G=y.map(function(Q){return Q.align||"left"}),_=0;_<y.length;_+=1)tt[y[_].name]=y[_].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(M=N=y,G=N.map(function(){return"left"}));if(P||Array.isArray(y)&&typeof y[0]=="string")for(_=0;_<N.length;_+=1){for(it[R=N[_]]=p.map(function(Q){return Q[R]}),this.setFont(void 0,"bold"),pt.push(this.getTextDimensions(M[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=it[R],this.setFont(void 0,"normal"),I=0;I<x.length;I+=1)pt.push(this.getTextDimensions(x[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[R]=Math.max.apply(null,pt)+D+D,pt=[]}if(U){var wt={};for(_=0;_<N.length;_+=1)wt[N[_]]={},wt[N[_]].text=M[_],wt[N[_]].align=G[_];var et=c.call(this,wt,tt);z=N.map(function(Q){return new s(u,f,tt[Q],et,wt[Q].text,void 0,wt[Q].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ht=y.reduce(function(Q,St){return Q[St.name]=St.align,Q},{});for(_=0;_<p.length;_+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:_,data:p[_]},this);var ft=c.call(this,p[_],tt);for(I=0;I<N.length;I+=1){var Et=p[_][N[I]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:_,col:I,data:Et},this),o.call(this,new s(u,f,tt[N[I]],ft,Et,_+2,ht[N[I]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(_){var x=u[_];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*y/w+p+p},this).reduce(function(_,x){return Math.max(_,x)},0)};n.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(x)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(Pe.API);var V6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},B6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vv=j6(B6),U6=[100,200,300,400,500,600,700,800,900],Oj=j6(U6);function _v(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return V6[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof vv[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function WS(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var Fj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$S={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function jj(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},Fj,e.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(r[(s=_v(t[c])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+YS(s)+"' and default family '"+i+"'.");if(o=function(u,f){if(f[u])return f[u];var p=vv[u],y=p<=vv.normal?-1:1,w=WS(f,B6,p,y);if(!w)throw new Error("Could not find a matching font-stretch value for "+u);return w}(s.stretch,o),o=function(u,f){if(f[u])return f[u];for(var p=V6[u],y=0;y<p.length;++y)if(f[p[y]])return f[p[y]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var p=Oj[u],y=WS(f,U6,p,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+YS(s)+"'.");return o}function KS(n){return n.trimLeft()}function Vj(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Bj(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var vm,XS,QS,o2=["times"];(function(n){var t,e,i,r,s,o,c,u,f,p=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var y=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=F;Object.defineProperty(this,"pdf",{get:function(){return W}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(jt){Z=!!jt}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(jt){st=!!jt}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(jt){isNaN(jt)||(ct=jt)}});var It=0;Object.defineProperty(this,"posY",{get:function(){return It},set:function(jt){isNaN(jt)||(It=jt)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(jt){var ot;typeof jt=="number"?ot=[jt,jt,jt,jt]:((ot=new Array(4))[0]=jt[0],ot[1]=jt.length>=2?jt[1]:ot[0],ot[2]=jt.length>=3?jt[2]:ot[0],ot[3]=jt.length>=4?jt[3]:ot[1]),f.margin=ot}});var xt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xt},set:function(jt){xt=jt}});var kt=0;Object.defineProperty(this,"lastBreak",{get:function(){return kt},set:function(jt){kt=jt}});var Jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jt},set:function(jt){Jt=jt}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(jt){jt instanceof p&&(f=jt)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(jt){f.path=jt}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(jt){Xt=jt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(jt){var ot;ot=w(jt),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(jt){var ot=w(jt);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(jt){["butt","round","square"].indexOf(jt)!==-1&&(this.ctx.lineCap=jt,this.pdf.setLineCap(jt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(jt){isNaN(jt)||(this.ctx.lineWidth=jt,this.pdf.setLineWidth(jt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(jt){["bevel","round","miter"].indexOf(jt)!==-1&&(this.ctx.lineJoin=jt,this.pdf.setLineJoin(jt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(jt){isNaN(jt)||(this.ctx.miterLimit=jt,this.pdf.setMiterLimit(jt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(jt){this.ctx.textBaseline=jt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(jt){["right","end","center","left","start"].indexOf(jt)!==-1&&(this.ctx.textAlign=jt)}});var ne=null;function te(jt,ot){if(ne===null){var Se=function(he){var Qt=[];return Object.keys(he).forEach(function(Zt){he[Zt].forEach(function(se){var ae=null;switch(se){case"bold":ae={family:Zt,weight:"bold"};break;case"italic":ae={family:Zt,style:"italic"};break;case"bolditalic":ae={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:Zt}}ae!==null&&(ae.ref={name:Zt,style:se},Qt.push(ae))})}),Qt}(jt.getFontList());ne=function(he){for(var Qt={},Zt=0;Zt<he.length;++Zt){var se=_v(he[Zt]),ae=se.family,ve=se.stretch,Ce=se.style,je=se.weight;Qt[ae]=Qt[ae]||{},Qt[ae][ve]=Qt[ae][ve]||{},Qt[ae][ve][Ce]=Qt[ae][ve][Ce]||{},Qt[ae][ve][Ce][je]=se}return Qt}(Se.concat(ot))}return ne}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(jt){ne=null,we=jt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(jt){var ot;if(this.ctx.font=jt,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(jt))!==null){var Se=ot[1];ot[2];var he=ot[3],Qt=ot[4];ot[5];var Zt=ot[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qt)[2];Qt=Math.floor(se==="px"?parseFloat(Qt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Qt)*this.pdf.getFontSize():parseFloat(Qt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qt);var ae=function(fe){var We,oe,si=[],Ke=fe.trim();if(Ke==="")return o2;if(Ke in $S)return[$S[Ke]];for(;Ke!=="";){switch(oe=null,We=(Ke=KS(Ke)).charAt(0)){case'"':case"'":oe=Vj(Ke.substring(1),We);break;default:oe=Bj(Ke)}if(oe===null||(si.push(oe[0]),(Ke=KS(oe[1]))!==""&&Ke.charAt(0)!==","))return o2;Ke=Ke.replace(/^,/,"")}return si}(Zt);if(this.fontFaces){var ve=jj(te(this.pdf,this.fontFaces),ae.map(function(fe){return{family:fe,stretch:"normal",weight:he,style:Se}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var Ce="";(he==="bold"||parseInt(he,10)>=700||Se==="bold")&&(Ce="bold"),Se==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var je="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<ae.length;ge++){if(this.pdf.internal.getFont(ae[ge],Ce,{noFallback:!0,disableWarning:!0})!==void 0){je=ae[ge];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(ae[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=ae[ge],Ce="bold";else if(this.pdf.internal.getFont(ae[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=ae[ge],Ce="normal";break}}if(je===""){for(var Ge=0;Ge<ae.length;Ge++)if(_e[ae[Ge]]){je=_e[ae[Ge]];break}}je=je===""?"Times":je,this.pdf.setFont(je,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(jt){this.ctx.globalCompositeOperation=jt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(jt){this.ctx.globalAlpha=jt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(jt){this.ctx.lineDashOffset=jt,St.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(jt){this.ctx.lineDash=jt,St.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(jt){this.ctx.ignoreClearRect=!!jt}})};y.prototype.setLineDash=function(F){this.lineDash=F},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){it.call(this,"fill",!1)},y.prototype.stroke=function(){it.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(F,W){if(isNaN(F)||isNaN(W))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(F,W)},y.prototype.closePath=function(){var F=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Bn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){F=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},y.prototype.lineTo=function(F,W){if(isNaN(F)||isNaN(W))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),it.call(this,null,!0)},y.prototype.quadraticCurveTo=function(F,W,Z,st){if(isNaN(Z)||isNaN(st)||isNaN(F)||isNaN(W))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(Z,st)),It=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"qct",x1:It.x,y1:It.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},y.prototype.bezierCurveTo=function(F,W,Z,st,ct,It){if(isNaN(ct)||isNaN(It)||isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xt=this.ctx.transform.applyToPoint(new o(ct,It)),kt=this.ctx.transform.applyToPoint(new o(F,W)),Jt=this.ctx.transform.applyToPoint(new o(Z,st));this.path.push({type:"bct",x1:kt.x,y1:kt.y,x2:Jt.x,y2:Jt.y,x:xt.x,y:xt.y}),this.ctx.lastPoint=new o(xt.x,xt.y)},y.prototype.arc=function(F,W,Z,st,ct,It){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st)||isNaN(ct))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(It=!!It,!this.ctx.transform.isIdentity){var xt=this.ctx.transform.applyToPoint(new o(F,W));F=xt.x,W=xt.y;var kt=this.ctx.transform.applyToPoint(new o(0,Z)),Jt=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(kt.x-Jt.x,2)+Math.pow(kt.y-Jt.y,2))}Math.abs(ct-st)>=2*Math.PI&&(st=0,ct=2*Math.PI),this.path.push({type:"arc",x:F,y:W,radius:Z,startAngle:st,endAngle:ct,counterclockwise:It})},y.prototype.arcTo=function(F,W,Z,st,ct){throw new Error("arcTo not implemented.")},y.prototype.rect=function(F,W,Z,st){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,W),this.lineTo(F+Z,W),this.lineTo(F+Z,W+st),this.lineTo(F,W+st),this.lineTo(F,W),this.lineTo(F+Z,W),this.lineTo(F,W)},y.prototype.fillRect=function(F,W,Z,st){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,W,Z,st),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},y.prototype.strokeRect=function(F,W,Z,st){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(F,W,Z,st),this.stroke())},y.prototype.clearRect=function(F,W,Z,st){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,W,Z,st))},y.prototype.save=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},y.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(F){var W,Z,st,ct;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))W=0,Z=0,st=0,ct=0;else{var It=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(It!==null)W=parseInt(It[1]),Z=parseInt(It[2]),st=parseInt(It[3]),ct=1;else if((It=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)W=parseInt(It[1]),Z=parseInt(It[2]),st=parseInt(It[3]),ct=parseFloat(It[4]);else{if(ct=1,typeof F=="string"&&F.charAt(0)!=="#"){var xt=new P6(F);F=xt.ok?xt.toHex():"#000000"}F.length===4?(W=F.substring(1,2),W+=W,Z=F.substring(2,3),Z+=Z,st=F.substring(3,4),st+=st):(W=F.substring(1,3),Z=F.substring(3,5),st=F.substring(5,7)),W=parseInt(W,16),Z=parseInt(Z,16),st=parseInt(st,16)}}return{r:W,g:Z,b:st,a:ct,style:F}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(F,W,Z,st){if(isNaN(W)||isNaN(Z)||typeof F!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!_.call(this)){var ct=ft(this.ctx.transform.rotation),It=this.ctx.transform.scaleX;D.call(this,{text:F,x:W,y:Z,scale:It,angle:ct,align:this.textAlign,maxWidth:st})}},y.prototype.strokeText=function(F,W,Z,st){if(isNaN(W)||isNaN(Z)||typeof F!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){st=isNaN(st)?void 0:st;var ct=ft(this.ctx.transform.rotation),It=this.ctx.transform.scaleX;D.call(this,{text:F,x:W,y:Z,scale:It,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:st})}},y.prototype.measureText=function(F){if(typeof F!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Z=this.pdf.internal.scaleFactor,st=W.internal.getFontSize(),ct=W.getStringUnitWidth(F)*st/W.internal.scaleFactor,It=function(xt){var kt=(xt=xt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this};return new It({width:ct*=Math.round(96*Z/72*1e4)/1e4})},y.prototype.scale=function(F,W){if(isNaN(F)||isNaN(W))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(F,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.rotate=function(F){if(isNaN(F))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},y.prototype.translate=function(F,W){if(isNaN(F)||isNaN(W))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,F,W);this.ctx.transform=this.ctx.transform.multiply(Z)},y.prototype.transform=function(F,W,Z,st,ct,It){if(isNaN(F)||isNaN(W)||isNaN(Z)||isNaN(st)||isNaN(ct)||isNaN(It))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xt=new u(F,W,Z,st,ct,It);this.ctx.transform=this.ctx.transform.multiply(xt)},y.prototype.setTransform=function(F,W,Z,st,ct,It){F=isNaN(F)?1:F,W=isNaN(W)?0:W,Z=isNaN(Z)?0:Z,st=isNaN(st)?1:st,ct=isNaN(ct)?0:ct,It=isNaN(It)?0:It,this.ctx.transform=new u(F,W,Z,st,ct,It)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(F,W,Z,st,ct,It,xt,kt,Jt){var Xt=this.pdf.getImageProperties(F),ne=1,te=1,we=1,jt=1;st!==void 0&&kt!==void 0&&(we=kt/st,jt=Jt/ct,ne=Xt.width/st*kt/st,te=Xt.height/ct*Jt/ct),It===void 0&&(It=W,xt=Z,W=0,Z=0),st!==void 0&&kt===void 0&&(kt=st,Jt=ct),st===void 0&&kt===void 0&&(kt=Xt.width,Jt=Xt.height);for(var ot,Se=this.ctx.transform.decompose(),he=ft(Se.rotate.shx),Qt=new u,Zt=(Qt=(Qt=(Qt=Qt.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new c(It-W*we,xt-Z*jt,st*ne,ct*te)),se=R.call(this,Zt),ae=[],ve=0;ve<se.length;ve+=1)ae.indexOf(se[ve])===-1&&ae.push(se[ve]);if(G(ae),this.autoPaging)for(var Ce=ae[0],je=ae[ae.length-1],_e=Ce;_e<je+1;_e++){this.pdf.setPage(_e);var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=_e===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=_e===1?0:fe+(_e-2)*We;if(this.ctx.clip_path.length!==0){var si=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ot,this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=si}var Ke=JSON.parse(JSON.stringify(Zt));Ke=M([Ke],this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset)[0];var tr=(_e>Ce||_e<je)&&I.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,We,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,he),tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,he)};var R=function(F,W,Z){var st=[];W=W||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":st.push(Math.floor((F.y+ct)/Z)+1);break;case"arc":st.push(Math.floor((F.y+ct-F.radius)/Z)+1),st.push(Math.floor((F.y+ct+F.radius)/Z)+1);break;case"qct":var It=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);st.push(Math.floor((It.y+ct)/Z)+1),st.push(Math.floor((It.y+It.h+ct)/Z)+1);break;case"bct":var xt=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);st.push(Math.floor((xt.y+ct)/Z)+1),st.push(Math.floor((xt.y+xt.h+ct)/Z)+1);break;case"rect":st.push(Math.floor((F.y+ct)/Z)+1),st.push(Math.floor((F.y+F.h+ct)/Z)+1)}for(var kt=0;kt<st.length;kt+=1)for(;this.pdf.internal.getNumberOfPages()<st[kt];)N.call(this);return st},N=function(){var F=this.fillStyle,W=this.strokeStyle,Z=this.font,st=this.lineCap,ct=this.lineWidth,It=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=W,this.font=Z,this.lineCap=st,this.lineWidth=ct,this.lineJoin=It},M=function(F,W,Z){for(var st=0;st<F.length;st++)switch(F[st].type){case"bct":F[st].x2+=W,F[st].y2+=Z;case"qct":F[st].x1+=W,F[st].y1+=Z;case"mt":case"lt":case"arc":default:F[st].x+=W,F[st].y+=Z}return F},G=function(F){return F.sort(function(W,Z){return W-Z})},it=function(F,W){for(var Z,st,ct=this.fillStyle,It=this.strokeStyle,xt=this.lineCap,kt=this.lineWidth,Jt=Math.abs(kt*this.ctx.transform.scaleX),Xt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),we=[],jt=0;jt<te.length;jt++)if(te[jt].x!==void 0)for(var ot=R.call(this,te[jt]),Se=0;Se<ot.length;Se+=1)we.indexOf(ot[Se])===-1&&we.push(ot[Se]);for(var he=0;he<we.length;he++)for(;this.pdf.internal.getNumberOfPages()<we[he];)N.call(this);if(G(we),this.autoPaging)for(var Qt=we[0],Zt=we[we.length-1],se=Qt;se<Zt+1;se++){this.pdf.setPage(se),this.fillStyle=ct,this.strokeStyle=It,this.lineCap=xt,this.lineWidth=Jt,this.lineJoin=Xt;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=se===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=se===1?0:Ce+(se-2)*je;if(this.ctx.clip_path.length!==0){var ge=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Z,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),tt.call(this,F,!0),this.path=ge}if(st=JSON.parse(JSON.stringify(ne)),this.path=M(st,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),W===!1||se===0){var Ge=(se>Qt||se<Zt)&&I.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,je,null).clip().discardPath()),tt.call(this,F,W),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=kt}else this.lineWidth=Jt,tt.call(this,F,W),this.lineWidth=kt;this.path=ne},tt=function(F,W){if((F!=="stroke"||W||!x.call(this))&&(F==="stroke"||W||!_.call(this))){for(var Z,st,ct=[],It=this.path,xt=0;xt<It.length;xt++){var kt=It[xt];switch(kt.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:kt,deltas:[],abs:[]});break;case"lt":var Jt=ct.length;if(It[xt-1]&&!isNaN(It[xt-1].x)&&(Z=[kt.x-It[xt-1].x,kt.y-It[xt-1].y],Jt>0)){for(;Jt>=0;Jt--)if(ct[Jt-1].close!==!0&&ct[Jt-1].begin!==!0){ct[Jt-1].deltas.push(Z),ct[Jt-1].abs.push(kt);break}}break;case"bct":Z=[kt.x1-It[xt-1].x,kt.y1-It[xt-1].y,kt.x2-It[xt-1].x,kt.y2-It[xt-1].y,kt.x-It[xt-1].x,kt.y-It[xt-1].y],ct[ct.length-1].deltas.push(Z);break;case"qct":var Xt=It[xt-1].x+2/3*(kt.x1-It[xt-1].x),ne=It[xt-1].y+2/3*(kt.y1-It[xt-1].y),te=kt.x+2/3*(kt.x1-kt.x),we=kt.y+2/3*(kt.y1-kt.y),jt=kt.x,ot=kt.y;Z=[Xt-It[xt-1].x,ne-It[xt-1].y,te-It[xt-1].x,we-It[xt-1].y,jt-It[xt-1].x,ot-It[xt-1].y],ct[ct.length-1].deltas.push(Z);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(kt)}}st=W?null:F==="stroke"?"stroke":"fill";for(var Se=!1,he=0;he<ct.length;he++)if(ct[he].arc)for(var Qt=ct[he].abs,Zt=0;Zt<Qt.length;Zt++){var se=Qt[Zt];se.type==="arc"?P.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,W,!Se):j.call(this,se.x,se.y),Se=!0}else if(ct[he].close===!0)this.pdf.internal.out("h"),Se=!1;else if(ct[he].begin!==!0){var ae=ct[he].start.x,ve=ct[he].start.y;at.call(this,ct[he].deltas,ae,ve),Se=!0}st&&U.call(this,st),W&&K.call(this)}},pt=function(F){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Z;case"top":return F+W-Z;case"hanging":return F+W-2*Z;case"middle":return F+W/2-Z;case"ideographic":return F;case"alphabetic":default:return F}},z=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(W,Z){this.colorStops.push([W,Z])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(F,W,Z,st,ct,It,xt,kt,Jt){for(var Xt=et.call(this,Z,st,ct,It),ne=0;ne<Xt.length;ne++){var te=Xt[ne];ne===0&&(Jt?L.call(this,te.x1+F,te.y1+W):j.call(this,te.x1+F,te.y1+W)),wt.call(this,F,W,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}kt?K.call(this):U.call(this,xt)},U=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(F,W){this.pdf.internal.out(e(F)+" "+i(W)+" m")},D=function(F){var W;switch(F.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Z=this.pdf.getTextDimensions(F.text),st=pt.call(this,F.y),ct=z.call(this,st)-Z.h,It=this.ctx.transform.applyToPoint(new o(F.x,st)),xt=this.ctx.transform.decompose(),kt=new u;kt=(kt=(kt=kt.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale);for(var Jt,Xt,ne,te=this.ctx.transform.applyToRectangle(new c(F.x,st,Z.w,Z.h)),we=kt.applyToRectangle(new c(F.x,ct,Z.w,Z.h)),jt=R.call(this,we),ot=[],Se=0;Se<jt.length;Se+=1)ot.indexOf(jt[Se])===-1&&ot.push(jt[Se]);if(G(ot),this.autoPaging)for(var he=ot[0],Qt=ot[ot.length-1],Zt=he;Zt<Qt+1;Zt++){this.pdf.setPage(Zt);var se=Zt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Ce=ve-this.margin[0],je=this.pdf.internal.pageSize.width-this.margin[1],_e=je-this.margin[3],ge=Zt===1?0:ae+(Zt-2)*Ce;if(this.ctx.clip_path.length!==0){var Ge=this.path;Jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Jt,this.posX+this.margin[3],-1*ge+se),tt.call(this,"fill",!0),this.path=Ge}var fe=M([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale);var We=this.autoPaging!=="text";if(We||fe.y+fe.h<=ve){if(We||fe.y>=se&&fe.x<=je){var oe=We?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||je-fe.x)[0],si=M([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0],Ke=We&&(Zt>he||Zt<Qt)&&I.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Ce,null).clip().discardPath()),this.pdf.text(oe,si.x,si.y,{angle:F.angle,align:W,renderingMode:F.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else fe.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-fe.y);F.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)}else F.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale),this.pdf.text(F.text,It.x+this.posX,It.y+this.posY,{angle:F.angle,align:W,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)},j=function(F,W,Z,st){Z=Z||0,st=st||0,this.pdf.internal.out(e(F+Z)+" "+i(W+st)+" l")},at=function(F,W,Z){return this.pdf.lines(F,W,Z,null,null)},wt=function(F,W,Z,st,ct,It,xt,kt){this.pdf.internal.out([t(r(Z+F)),t(s(st+W)),t(r(ct+F)),t(s(It+W)),t(r(xt+F)),t(s(kt+W)),"c"].join(" "))},et=function(F,W,Z,st){for(var ct=2*Math.PI,It=Math.PI/2;W>Z;)W-=ct;var xt=Math.abs(Z-W);xt<ct&&st&&(xt=ct-xt);for(var kt=[],Jt=st?-1:1,Xt=W;xt>1e-5;){var ne=Xt+Jt*Math.min(xt,It);kt.push(ht.call(this,F,Xt,ne)),xt-=Math.abs(ne-Xt),Xt=ne}return kt},ht=function(F,W,Z){var st=(Z-W)/2,ct=F*Math.cos(st),It=F*Math.sin(st),xt=ct,kt=-It,Jt=xt*xt+kt*kt,Xt=Jt+xt*ct+kt*It,ne=4/3*(Math.sqrt(2*Jt*Xt)-Xt)/(xt*It-kt*ct),te=xt-ne*kt,we=kt+ne*xt,jt=te,ot=-we,Se=st+W,he=Math.cos(Se),Qt=Math.sin(Se);return{x1:F*Math.cos(W),y1:F*Math.sin(W),x2:te*he-we*Qt,y2:te*Qt+we*he,x3:jt*he-ot*Qt,y3:jt*Qt+ot*he,x4:F*Math.cos(Z),y4:F*Math.sin(Z)}},ft=function(F){return 180*F/Math.PI},Et=function(F,W,Z,st,ct,It){var xt=F+.5*(Z-F),kt=W+.5*(st-W),Jt=ct+.5*(Z-ct),Xt=It+.5*(st-It),ne=Math.min(F,ct,xt,Jt),te=Math.max(F,ct,xt,Jt),we=Math.min(W,It,kt,Xt),jt=Math.max(W,It,kt,Xt);return new c(ne,we,te-ne,jt-we)},Q=function(F,W,Z,st,ct,It,xt,kt){var Jt,Xt,ne,te,we,jt,ot,Se,he,Qt,Zt,se,ae,ve,Ce=Z-F,je=st-W,_e=ct-Z,ge=It-st,Ge=xt-ct,fe=kt-It;for(Xt=0;Xt<41;Xt++)he=(ot=(ne=F+(Jt=Xt/40)*Ce)+Jt*((we=Z+Jt*_e)-ne))+Jt*(we+Jt*(ct+Jt*Ge-we)-ot),Qt=(Se=(te=W+Jt*je)+Jt*((jt=st+Jt*ge)-te))+Jt*(jt+Jt*(It+Jt*fe-jt)-Se),Xt==0?(Zt=he,se=Qt,ae=he,ve=Qt):(Zt=Math.min(Zt,he),se=Math.min(se,Qt),ae=Math.max(ae,he),ve=Math.max(ve,Qt));return new c(Math.round(Zt),Math.round(se),Math.round(ae-Zt),Math.round(ve-se))},St=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,W,Z=(F=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:W}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Pe.API),function(n){var t=function(s){var o,c,u,f,p,y,w,_,x,I;for(c=[],u=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(p=((p=((p=((p=(p-(I=p%85))/85)-(x=p%85))/85)-(_=p%85))/85)-(w=p%85))/85)%85,c.push(y+33,w+33,_+33,x+33,I+33)):c.push(122);return function(R,N){for(var M=N;M>0;M--)R.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var o,c,u,f,p,y=String,w="length",_=255,x="charCodeAt",I="slice",R="replace";for(s[I](-2),s=s[I](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),u=[],f=0,p=(s+=o="uuuuu"[I](s[w]%5||5))[w];p>f;f+=5)c=52200625*(s[x](f)-33)+614125*(s[x](f+1)-33)+7225*(s[x](f+2)-33)+85*(s[x](f+3)-33)+(s[x](f+4)-33),u.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(N,M){for(var G=M;G>0;G--)N.pop()}(u,o[w]),y.fromCharCode.apply(y,u)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},r=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=dv(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Pe.API),function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,p){var y=new XMLHttpRequest,w=0,_=function(x){var I=x.length,R=[],N=String.fromCharCode;for(w=0;w<I;w+=1)R.push(N(255&x.charCodeAt(w)));return R.join("")};if(y.open("GET",u,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?p(_(this.responseText)):p(void 0)}),y.send(null),f&&y.status===200)return _(y.responseText)}(r,s,o)}catch{}return c}(t,e,i)},n.loadImageFile=n.loadFile}(Pe.API),function(n){function t(){return(De.html2canvas?Promise.resolve(De.html2canvas):lv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(De.DOMPurify?Promise.resolve(De.DOMPurify):lv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=Bn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,p){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(u(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var _=f[w],x=_.src.find(function(I){return I.format==="truetype"});x&&u.addFont(x.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||Pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,f),y}).then(f,p).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=u.call(f,o,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Pe.getPageSize=function(o,c,u){if(Bn(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,y=(""+u).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var _,x=0,I=0;if(w.hasOwnProperty(y))x=w[y][1]/p,I=w[y][0]/p;else try{x=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",I>x&&(_=I,I=x,x=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>I&&(_=I,I=x,x=_)}return{width:I,height:x,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(_v):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(Pe.API),Pe.API.addJS=function(n){return QS=n,this.internal.events.subscribe("postPutResources",function(){vm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vm!==void 0&&XS!==void 0&&this.internal.out("/Names <</JavaScript "+vm+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],c=i.exec(o);if(c!=null){var u=c[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var y=e.internal.newObject();p.push(y);var w=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<p.length;s++)e.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Pe.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,c){var u,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(y){for(var w,_=256*y.charCodeAt(4)+y.charCodeAt(5),x=y.length,I={width:0,height:0,numcomponents:1},R=4;R<x;R+=2){if(R+=_,t.indexOf(y.charCodeAt(R+1))!==-1){w=256*y.charCodeAt(R+5)+y.charCodeAt(R+6),I={width:256*y.charCodeAt(R+7)+y.charCodeAt(R+8),height:w,numcomponents:y.charCodeAt(R+9)};break}_=256*y.charCodeAt(R+2)+y.charCodeAt(R+3)}return I}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:e,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(Pe.API);var vf,_m,JS,ZS,tT,Uj=function(){var n,t,e;function i(s){var o,c,u,f,p,y,w,_,x,I,R,N,M,G;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),x=(function(){var it,tt;for(tt=[],it=0;it<4;++it)tt.push(String.fromCharCode(this.data[this.pos++]));return tt}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,y.delay=1e3*p/f,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,N=0;0<=o?N<o:N>o;0<=o?++N:--N)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((I=u-this.transparency.indexed.length)>0)for(M=0;0<=I?M<I:M>I;0<=I?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(R=this.read(o)).indexOf(0),_=String.fromCharCode.apply(String,R.slice(0,w)),this.text[_]=String.fromCharCode.apply(String,R.slice(w+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(G=this.colorType)===4||G===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,w,_,x){var I,R,N,M,G,it,tt,pt,z,P,U,K,L,D,j,at,wt,et,ht,ft,Et,Q=Math.ceil((f.width-y)/_),St=Math.ceil((f.height-w)/x),F=f.width==Q&&f.height==St;for(D=o*Q,K=F?c:new Uint8Array(D*St),it=s.length,L=0,R=0;L<St&&u<it;){switch(s[u++]){case 0:for(M=wt=0;wt<D;M=wt+=1)K[R++]=s[u++];break;case 1:for(M=et=0;et<D;M=et+=1)I=s[u++],G=M<o?0:K[R-o],K[R++]=(I+G)%256;break;case 2:for(M=ht=0;ht<D;M=ht+=1)I=s[u++],N=(M-M%o)/o,j=L&&K[(L-1)*D+N*o+M%o],K[R++]=(j+I)%256;break;case 3:for(M=ft=0;ft<D;M=ft+=1)I=s[u++],N=(M-M%o)/o,G=M<o?0:K[R-o],j=L&&K[(L-1)*D+N*o+M%o],K[R++]=(I+Math.floor((G+j)/2))%256;break;case 4:for(M=Et=0;Et<D;M=Et+=1)I=s[u++],N=(M-M%o)/o,G=M<o?0:K[R-o],L===0?j=at=0:(j=K[(L-1)*D+N*o+M%o],at=N&&K[(L-1)*D+(N-1)*o+M%o]),tt=G+j-at,pt=Math.abs(tt-G),P=Math.abs(tt-j),U=Math.abs(tt-at),z=pt<=P&&pt<=U?G:P<=U?j:at,K[R++]=(I+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!F){var W=((w+L*x)*f.width+y)*o,Z=L*D;for(M=0;M<Q;M+=1){for(var st=0;st<o;st+=1)c[W++]=K[Z++];W+=(_-1)*o}}L++}}return s=_j(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},i.prototype.decodePalette=function(){var s,o,c,u,f,p,y,w,_;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),u=0,s=0,o=y=0,w=c.length;y<w;o=y+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(_=p[s++])!=null?_:255;return f},i.prototype.copyToImageData=function(s,o){var c,u,f,p,y,w,_,x,I,R,N;if(u=this.colors,I=null,c=this.hasAlphaChannel,this.palette.length&&(I=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),u=4,c=!0),x=(f=s.data||s).length,y=I||o,p=w=0,u===1)for(;p<x;)_=I?4*o[p/4]:w,R=y[_++],f[p++]=R,f[p++]=R,f[p++]=R,f[p++]=c?y[_++]:255,w=_;else for(;p<x;)_=I?4*o[p/4]:w,f[p++]=y[_++],f[p++]=y[_++],f[p++]=y[_++],f[p++]=c?y[_++]:255,w=_},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(De)==="[object Window]"){try{t=De.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,c,u,f,p,y,w,_;if(this.animation){for(_=[],c=p=0,y=(w=this.animation.frames).length;p<y;c=++p)o=w[c],u=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,_.push(o.image=n(u));return _}},i.prototype.renderFrame=function(s,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(s){var o,c,u,f,p,y,w=this;return c=0,y=this.animation,f=y.numFrames,u=y.frames,p=y.numPlays,(o=function(){var _,x;if(_=c++%f,x=u[_],w.renderFrame(s,_),f>1&&c/f<p)return w.animation._timeout=setTimeout(o,x.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function zj(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<(7&r)+1;n[t++],n[t++];var c=null,u=null;s&&(c=t,u=o,t+=3*o);var f=!0,p=[],y=0,w=null,_=0,x=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,x=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[t++];y=n[t++]|n[t++]<<8,w=n[t++],(1&I)==0&&(w=null),_=I>>2&7,t++;break;case 254:for(;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var R=n[t++]|n[t++]<<8,N=n[t++]|n[t++]<<8,M=n[t++]|n[t++]<<8,G=n[t++]|n[t++]<<8,it=n[t++],tt=it>>6&1,pt=1<<(7&it)+1,z=c,P=u,U=!1;it>>7&&(U=!0,z=t,P=pt,t+=3*pt);var K=t;for(t++;;){var L;if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}p.push({x:R,y:N,width:M,height:G,has_local_palette:U,palette_offset:z,palette_size:P,data_offset:K,data_length:t-K,transparent_index:w,interlaced:!!tt,delay:y,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return x},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,j){var at=this.frameInfo(D),wt=at.width*at.height,et=new Uint8Array(wt);eT(n,at.data_offset,et,wt);var ht=at.palette_offset,ft=at.transparent_index;ft===null&&(ft=256);var Et=at.width,Q=e-Et,St=Et,F=4*(at.y*e+at.x),W=4*((at.y+at.height)*e+at.x),Z=F,st=4*Q;at.interlaced===!0&&(st+=4*e*7);for(var ct=8,It=0,xt=et.length;It<xt;++It){var kt=et[It];if(St===0&&(St=Et,(Z+=st)>=W&&(st=4*Q+4*e*(ct-1),Z=F+(Et+Q)*(ct<<1),ct>>=1)),kt===ft)Z+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[Z++]=ne,j[Z++]=Xt,j[Z++]=Jt,j[Z++]=255}--St}},this.decodeAndBlitFrameRGBA=function(D,j){var at=this.frameInfo(D),wt=at.width*at.height,et=new Uint8Array(wt);eT(n,at.data_offset,et,wt);var ht=at.palette_offset,ft=at.transparent_index;ft===null&&(ft=256);var Et=at.width,Q=e-Et,St=Et,F=4*(at.y*e+at.x),W=4*((at.y+at.height)*e+at.x),Z=F,st=4*Q;at.interlaced===!0&&(st+=4*e*7);for(var ct=8,It=0,xt=et.length;It<xt;++It){var kt=et[It];if(St===0&&(St=Et,(Z+=st)>=W&&(st=4*Q+4*e*(ct-1),Z=F+(Et+Q)*(ct<<1),ct>>=1)),kt===ft)Z+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[Z++]=Jt,j[Z++]=Xt,j[Z++]=ne,j[Z++]=255}--St}}}function eT(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,c=o+1,u=r+1,f=(1<<u)-1,p=0,y=0,w=0,_=n[t++],x=new Int32Array(4096),I=null;;){for(;p<16&&_!==0;)y|=n[t++]<<p,p+=8,_===1?_=n[t++]:--_;if(p<u)break;var R=y&f;if(y>>=u,p-=u,R!==s){if(R===o)break;for(var N=R<c?R:I,M=0,G=N;G>s;)G=x[G]>>8,++M;var it=G;if(w+M+(N!==R?1:0)>i)return void Xn.log("Warning, gif stream longer than expected.");e[w++]=it;var tt=w+=M;for(N!==R&&(e[w++]=it),G=N;M--;)G=x[G],e[--tt]=255&G,G>>=8;I!==null&&c<4096&&(x[c++]=I<<8|it,c>=f+1&&u<12&&(++u,f=f<<1|1)),I=R}else c=o+1,f=(1<<(u=r+1))-1,I=null}return w!==i&&Xn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function l2(n){var t,e,i,r,s,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),y=new Array(65535),w=new Array(65535),_=new Array(64),x=new Array(64),I=[],R=0,N=7,M=new Array(64),G=new Array(64),it=new Array(64),tt=new Array(256),pt=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],at=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function et(F,W){for(var Z=0,st=0,ct=new Array,It=1;It<=16;It++){for(var xt=1;xt<=F[It];xt++)ct[W[st]]=[],ct[W[st]][0]=Z,ct[W[st]][1]=It,st++,Z++;Z*=2}return ct}function ht(F){for(var W=F[0],Z=F[1]-1;Z>=0;)W&1<<Z&&(R|=1<<N),Z--,--N<0&&(R==255?(ft(255),ft(0)):ft(R),N=7,R=0)}function ft(F){I.push(F)}function Et(F){ft(F>>8&255),ft(255&F)}function Q(F,W,Z,st,ct){for(var It,xt=ct[0],kt=ct[240],Jt=function(Qt,Zt){var se,ae,ve,Ce,je,_e,ge,Ge,fe,We,oe=0;for(fe=0;fe<8;++fe){se=Qt[oe],ae=Qt[oe+1],ve=Qt[oe+2],Ce=Qt[oe+3],je=Qt[oe+4],_e=Qt[oe+5],ge=Qt[oe+6];var si=se+(Ge=Qt[oe+7]),Ke=se-Ge,tr=ae+ge,Je=ae-ge,In=ve+_e,fr=ve-_e,cn=Ce+je,Hs=Ce-je,Un=si+cn,Ci=si-cn,er=tr+In,zn=tr-In;Qt[oe]=Un+er,Qt[oe+4]=Un-er;var Te=.707106781*(zn+Ci);Qt[oe+2]=Ci+Te,Qt[oe+6]=Ci-Te;var un=.382683433*((Un=Hs+fr)-(zn=Je+Ke)),Or=.5411961*Un+un,ai=1.306562965*zn+un,nr=.707106781*(er=fr+Je),hs=Ke+nr,le=Ke-nr;Qt[oe+5]=le+Or,Qt[oe+3]=le-Or,Qt[oe+1]=hs+ai,Qt[oe+7]=hs-ai,oe+=8}for(oe=0,fe=0;fe<8;++fe){se=Qt[oe],ae=Qt[oe+8],ve=Qt[oe+16],Ce=Qt[oe+24],je=Qt[oe+32],_e=Qt[oe+40],ge=Qt[oe+48];var Nn=se+(Ge=Qt[oe+56]),Rn=se-Ge,Yn=ae+ge,ti=ae-ge,oi=ve+_e,_i=ve-_e,Ya=Ce+je,Er=Ce-je,Gi=Nn+Ya,Li=Nn-Ya,bi=Yn+oi,Pi=Yn-oi;Qt[oe]=Gi+bi,Qt[oe+32]=Gi-bi;var qn=.707106781*(Pi+Li);Qt[oe+16]=Li+qn,Qt[oe+48]=Li-qn;var bn=.382683433*((Gi=Er+_i)-(Pi=ti+Rn)),Gs=.5411961*Gi+bn,Ws=1.306562965*Pi+bn,dr=.707106781*(bi=_i+ti),Fr=Rn+dr,Ka=Rn-dr;Qt[oe+40]=Ka+Gs,Qt[oe+24]=Ka-Gs,Qt[oe+8]=Fr+Ws,Qt[oe+56]=Fr-Ws,oe++}for(fe=0;fe<64;++fe)We=Qt[fe]*Zt[fe],_[fe]=We>0?We+.5|0:We-.5|0;return _}(F,W),Xt=0;Xt<64;++Xt)x[z[Xt]]=Jt[Xt];var ne=x[0]-Z;Z=x[0],ne==0?ht(st[0]):(ht(st[w[It=32767+ne]]),ht(y[It]));for(var te=63;te>0&&x[te]==0;)te--;if(te==0)return ht(xt),Z;for(var we,jt=1;jt<=te;){for(var ot=jt;x[jt]==0&&jt<=te;)++jt;var Se=jt-ot;if(Se>=16){we=Se>>4;for(var he=1;he<=we;++he)ht(kt);Se&=15}It=32767+x[jt],ht(ct[(Se<<4)+w[It]]),ht(y[It]),jt++}return te!=63&&ht(xt),Z}function St(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(W){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var ct=o((Z[st]*W+50)/100);ct=Math.min(Math.max(ct,1),255),c[z[st]]=ct}for(var It=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xt=0;xt<64;xt++){var kt=o((It[xt]*W+50)/100);kt=Math.min(Math.max(kt,1),255),u[z[xt]]=kt}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ne=0;ne<8;ne++)for(var te=0;te<8;te++)f[Xt]=1/(c[z[Xt]]*Jt[ne]*Jt[te]*8),p[Xt]=1/(u[z[Xt]]*Jt[ne]*Jt[te]*8),Xt++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,W){W&&St(W),I=new Array,R=0,N=7,Et(65496),Et(65504),Et(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Et(1),Et(1),ft(0),ft(0),function(){Et(65499),Et(132),ft(0);for(var ae=0;ae<64;ae++)ft(c[ae]);ft(1);for(var ve=0;ve<64;ve++)ft(u[ve])}(),function(ae,ve){Et(65472),Et(17),ft(8),Et(ve),Et(ae),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)}(F.width,F.height),function(){Et(65476),Et(418),ft(0);for(var ae=0;ae<16;ae++)ft(P[ae+1]);for(var ve=0;ve<=11;ve++)ft(U[ve]);ft(16);for(var Ce=0;Ce<16;Ce++)ft(K[Ce+1]);for(var je=0;je<=161;je++)ft(L[je]);ft(1);for(var _e=0;_e<16;_e++)ft(D[_e+1]);for(var ge=0;ge<=11;ge++)ft(j[ge]);ft(17);for(var Ge=0;Ge<16;Ge++)ft(at[Ge+1]);for(var fe=0;fe<=161;fe++)ft(wt[fe])}(),Et(65498),Et(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var Z=0,st=0,ct=0;R=0,N=7,this.encode.displayName="_encode_";for(var It,xt,kt,Jt,Xt,ne,te,we,jt,ot=F.data,Se=F.width,he=F.height,Qt=4*Se,Zt=0;Zt<he;){for(It=0;It<Qt;){for(Xt=Qt*Zt+It,te=-1,we=0,jt=0;jt<64;jt++)ne=Xt+(we=jt>>3)*Qt+(te=4*(7&jt)),Zt+we>=he&&(ne-=Qt*(Zt+1+we-he)),It+te>=Qt&&(ne-=It+te-Qt+4),xt=ot[ne++],kt=ot[ne++],Jt=ot[ne++],M[jt]=(pt[xt]+pt[kt+256>>0]+pt[Jt+512>>0]>>16)-128,G[jt]=(pt[xt+768>>0]+pt[kt+1024>>0]+pt[Jt+1280>>0]>>16)-128,it[jt]=(pt[xt+1280>>0]+pt[kt+1536>>0]+pt[Jt+1792>>0]>>16)-128;Z=Q(M,f,Z,t,i),st=Q(G,p,st,e,r),ct=Q(it,p,ct,e,r),It+=32}Zt+=8}if(N>=0){var se=[];se[1]=N+1,se[0]=(1<<N+1)-1,ht(se)}return Et(65497),new Uint8Array(I)},n=n||50,function(){for(var F=String.fromCharCode,W=0;W<256;W++)tt[W]=F(W)}(),t=et(P,U),e=et(D,j),i=et(K,L),r=et(at,wt),function(){for(var F=1,W=2,Z=1;Z<=15;Z++){for(var st=F;st<W;st++)w[32767+st]=Z,y[32767+st]=[],y[32767+st][1]=Z,y[32767+st][0]=st;for(var ct=-(W-1);ct<=-F;ct++)w[32767+ct]=Z,y[32767+ct]=[],y[32767+ct][1]=Z,y[32767+ct][0]=W-1+ct;F<<=1,W<<=1}}(),function(){for(var F=0;F<256;F++)pt[F]=19595*F,pt[F+256>>0]=38470*F,pt[F+512>>0]=7471*F+32768,pt[F+768>>0]=-11059*F,pt[F+1024>>0]=-21709*F,pt[F+1280>>0]=32768*F+8421375,pt[F+1536>>0]=-27439*F,pt[F+1792>>0]=-5329*F}(),St(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nT(n){function t(P){if(!P)throw Error("assert :P")}function e(P,U,K){for(var L=0;4>L;L++)if(P[U+L]!=K.charCodeAt(L))return!0;return!1}function i(P,U,K,L,D){for(var j=0;j<D;j++)P[U+j]=K[L+j]}function r(P,U,K,L){for(var D=0;D<L;D++)P[U+D]=K}function s(P){return new Int32Array(P)}function o(P,U){for(var K=[],L=0;L<P;L++)K.push(new U);return K}function c(P,U){var K=[];return function L(D,j,at){for(var wt=at[j],et=0;et<wt&&(D.push(at.length>j+1?[]:new U),!(at.length<j+1));et++)L(D[et],j+1,at)}(K,0,P),K}var u=function(){var P=this;function U(g,b){for(var T=1<<b-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function K(g,b,T,C,V){t(!(C%T));do g[b+(C-=T)]=V;while(0<C)}function L(g,b,T,C,V){if(t(2328>=V),512>=V)var q=s(512);else if((q=s(V))==null)return 0;return function(H,$,J,nt,gt,Ct){var Nt,At,qt=$,Ot=1<<J,mt=s(16),vt=s(16);for(t(gt!=0),t(nt!=null),t(H!=null),t(0<J),At=0;At<gt;++At){if(15<nt[At])return 0;++mt[nt[At]]}if(mt[0]==gt)return 0;for(vt[1]=0,Nt=1;15>Nt;++Nt){if(mt[Nt]>1<<Nt)return 0;vt[Nt+1]=vt[Nt]+mt[Nt]}for(At=0;At<gt;++At)Nt=nt[At],0<nt[At]&&(Ct[vt[Nt]++]=At);if(vt[15]==1)return(nt=new D).g=0,nt.value=Ct[0],K(H,qt,1,Ot,nt),Ot;var Vt,Ht=-1,Ut=Ot-1,ce=0,ee=1,be=1,re=1<<J;for(At=0,Nt=1,gt=2;Nt<=J;++Nt,gt<<=1){if(ee+=be<<=1,0>(be-=mt[Nt]))return 0;for(;0<mt[Nt];--mt[Nt])(nt=new D).g=Nt,nt.value=Ct[At++],K(H,qt+ce,gt,re,nt),ce=U(ce,Nt)}for(Nt=J+1,gt=2;15>=Nt;++Nt,gt<<=1){if(ee+=be<<=1,0>(be-=mt[Nt]))return 0;for(;0<mt[Nt];--mt[Nt]){if(nt=new D,(ce&Ut)!=Ht){for(qt+=re,Vt=1<<(Ht=Nt)-J;15>Ht&&!(0>=(Vt-=mt[Ht]));)++Ht,Vt<<=1;Ot+=re=1<<(Vt=Ht-J),H[$+(Ht=ce&Ut)].g=Vt+J,H[$+Ht].value=qt-$-Ht}nt.g=Nt-J,nt.value=Ct[At++],K(H,qt+(ce>>J),gt,re,nt),ce=U(ce,Nt)}}return ee!=2*vt[15]-1?0:Ot}(g,b,T,C,V,q)}function D(){this.value=this.g=0}function j(){this.value=this.g=0}function at(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Di,j)}function wt(g,b,T,C){t(g!=null),t(b!=null),t(2147483648>C),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=T,g.Jd=b,g.Yc=T+C,g.Zc=4<=C?T+C-4+1:T,It(g)}function et(g,b){for(var T=0;0<b--;)T|=kt(g,128)<<b;return T}function ht(g,b){var T=et(g,b);return xt(g)?-T:T}function ft(g,b,T,C){var V,q=0;for(t(g!=null),t(b!=null),t(4294967288>C),g.Sb=C,g.Ra=0,g.u=0,g.h=0,4<C&&(C=4),V=0;V<C;++V)q+=b[T+V]<<8*V;g.Ra=q,g.bb=C,g.oa=b,g.pa=T}function Et(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Ml-8>>>0,++g.bb,g.u-=8;Z(g)&&(g.h=1,g.u=0)}function Q(g,b){if(t(0<=b),!g.h&&b<=Dl){var T=W(g)&zo[b];return g.u+=b,Et(g),T}return g.h=1,g.u=0}function St(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(g){return g.Ra>>>(g.u&Ml-1)>>>0}function Z(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Ml}function st(g,b){g.u=b,g.h=Z(g)}function ct(g){g.u>=Lc&&(t(g.u>=Lc),Et(g))}function It(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function xt(g){return et(g,1)}function kt(g,b){var T=g.Ca;0>g.b&&It(g);var C=g.b,V=T*b>>>8,q=(g.I>>>C>V)+0;for(q?(T-=V,g.I-=V+1<<C>>>0):T=V+1,C=T,V=0;256<=C;)V+=8,C>>=8;return C=7^V+qr[C],g.b-=C,g.Ca=(T<<C)-1,q}function Jt(g,b,T){g[b+0]=T>>24&255,g[b+1]=T>>16&255,g[b+2]=T>>8&255,g[b+3]=T>>0&255}function Xt(g,b){return g[b+0]<<0|g[b+1]<<8}function ne(g,b){return Xt(g,b)|g[b+2]<<16}function te(g,b){return Xt(g,b)|Xt(g,b+2)<<16}function we(g,b){var T=1<<b;return t(g!=null),t(0<b),g.X=s(T),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function jt(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),i(b.X,0,g.X,0,1<<b.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function Se(g,b,T,C){t(T!=null),t(C!=null);var V=T[0],q=C[0];return V==0&&(V=(g*q+b/2)/b),q==0&&(q=(b*V+g/2)/g),0>=V||0>=q?0:(T[0]=V,C[0]=q,1)}function he(g,b){return g+(1<<b)-1>>>b}function Qt(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Zt(g,b){P[b]=function(T,C,V,q,H,$,J){var nt;for(nt=0;nt<H;++nt){var gt=P[g]($[J+nt-1],V,q+nt);$[J+nt]=Qt(T[C+nt],gt)}}}function se(){this.ud=this.hd=this.jd=0}function ae(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function ve(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ce(g,b){return ve(g+(g-b+.5>>1))}function je(g,b,T){return Math.abs(b-T)-Math.abs(g-T)}function _e(g,b,T,C,V,q,H){for(C=q[H-1],T=0;T<V;++T)q[H+T]=C=Qt(g[b+T],C)}function ge(g,b,T,C,V){var q;for(q=0;q<T;++q){var H=g[b+q],$=H>>8&255,J=16711935&(J=(J=16711935&H)+(($<<16)+$));C[V+q]=(4278255360&H)+J>>>0}}function Ge(g,b){b.jd=g>>0&255,b.hd=g>>8&255,b.ud=g>>16&255}function fe(g,b,T,C,V,q){var H;for(H=0;H<C;++H){var $=b[T+H],J=$>>>8,nt=$,gt=255&(gt=(gt=$>>>16)+((g.jd<<24>>24)*(J<<24>>24)>>>5));nt=255&(nt=(nt=nt+((g.hd<<24>>24)*(J<<24>>24)>>>5))+((g.ud<<24>>24)*(gt<<24>>24)>>>5)),V[q+H]=(4278255360&$)+(gt<<16)+nt}}function We(g,b,T,C,V){P[b]=function(q,H,$,J,nt,gt,Ct,Nt,At){for(J=Ct;J<Nt;++J)for(Ct=0;Ct<At;++Ct)nt[gt++]=V($[C(q[H++])])},P[g]=function(q,H,$,J,nt,gt,Ct){var Nt=8>>q.b,At=q.Ea,qt=q.K[0],Ot=q.w;if(8>Nt)for(q=(1<<q.b)-1,Ot=(1<<Nt)-1;H<$;++H){var mt,vt=0;for(mt=0;mt<At;++mt)mt&q||(vt=C(J[nt++])),gt[Ct++]=V(qt[vt&Ot]),vt>>=Nt}else P["VP8LMapColor"+T](J,nt,qt,Ot,gt,Ct,H,$,At)}}function oe(g,b,T,C,V){for(T=b+T;b<T;){var q=g[b++];C[V++]=q>>16&255,C[V++]=q>>8&255,C[V++]=q>>0&255}}function si(g,b,T,C,V){for(T=b+T;b<T;){var q=g[b++];C[V++]=q>>16&255,C[V++]=q>>8&255,C[V++]=q>>0&255,C[V++]=q>>24&255}}function Ke(g,b,T,C,V){for(T=b+T;b<T;){var q=(H=g[b++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;C[V++]=q,C[V++]=H}}function tr(g,b,T,C,V){for(T=b+T;b<T;){var q=(H=g[b++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;C[V++]=q,C[V++]=H}}function Je(g,b,T,C,V){for(T=b+T;b<T;){var q=g[b++];C[V++]=q>>0&255,C[V++]=q>>8&255,C[V++]=q>>16&255}}function In(g,b,T,C,V,q){if(q==0)for(T=b+T;b<T;)Jt(C,((q=g[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else i(C,V,g,b,T)}function fr(g,b){P[b][0]=P[g+"0"],P[b][1]=P[g+"1"],P[b][2]=P[g+"2"],P[b][3]=P[g+"3"],P[b][4]=P[g+"4"],P[b][5]=P[g+"5"],P[b][6]=P[g+"6"],P[b][7]=P[g+"7"],P[b][8]=P[g+"8"],P[b][9]=P[g+"9"],P[b][10]=P[g+"10"],P[b][11]=P[g+"11"],P[b][12]=P[g+"12"],P[b][13]=P[g+"13"],P[b][14]=P[g+"0"],P[b][15]=P[g+"0"]}function cn(g){return g==Gu||g==Jo||g==lo||g==Mc}function Hs(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ci(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hs,this.f.kb=new Un,this.sd=null}function er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Te(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function un(g,b){var T=g.T,C=b.ba.f.RGBA,V=C.eb,q=C.fb+g.ka*C.A,H=Ki[b.ba.S],$=g.y,J=g.O,nt=g.f,gt=g.N,Ct=g.ea,Nt=g.W,At=b.cc,qt=b.dc,Ot=b.Mc,mt=b.Nc,vt=g.ka,Vt=g.ka+g.T,Ht=g.U,Ut=Ht+1>>1;for(vt==0?H($,J,null,null,nt,gt,Ct,Nt,nt,gt,Ct,Nt,V,q,null,null,Ht):(H(b.ec,b.fc,$,J,At,qt,Ot,mt,nt,gt,Ct,Nt,V,q-C.A,V,q,Ht),++T);vt+2<Vt;vt+=2)At=nt,qt=gt,Ot=Ct,mt=Nt,gt+=g.Rc,Nt+=g.Rc,q+=2*C.A,H($,(J+=2*g.fa)-g.fa,$,J,At,qt,Ot,mt,nt,gt,Ct,Nt,V,q-C.A,V,q,Ht);return J+=g.fa,g.j+Vt<g.o?(i(b.ec,b.fc,$,J,Ht),i(b.cc,b.dc,nt,gt,Ut),i(b.Mc,b.Nc,Ct,Nt,Ut),T--):1&Vt||H($,J,null,null,nt,gt,Ct,Nt,nt,gt,Ct,Nt,V,q+C.A,null,null,Ht),T}function Or(g,b,T){var C=g.F,V=[g.J];if(C!=null){var q=g.U,H=b.ba.S,$=H==Bl||H==lo;b=b.ba.f.RGBA;var J=[0],nt=g.ka;J[0]=g.T,g.Kb&&(nt==0?--J[0]:(--nt,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(J[0]=g.o-g.j-nt));var gt=b.eb;nt=b.fb+nt*b.A,g=tn(C,V[0],g.width,q,J,gt,nt+($?0:3),b.A),t(T==J),g&&cn(H)&&gs(gt,nt,$,q,J,b.A)}return 0}function ai(g){var b=g.ma,T=b.ba.S,C=11>T,V=T==Dc||T==Hu||T==Bl||T==oo||T==12||cn(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Uo(b.Oa,g,V?11:12))return 0;if(V&&cn(T)&&Yt(),g.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Te,g.Kb){if(T=g.U+1>>1,b.memory=s(g.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=un,Yt()}}else alert("todo:EmitYUV");V&&(b.Jb=Or,C&&bt())}if(C&&!fg){for(g=0;256>g;++g)w1[g]=89858*(g-128)+Oi>>Fa,Yu[g]=-22014*(g-128)+Oi,cd[g]=-45773*(g-128),Fi[g]=113618*(g-128)+Oi>>Fa;for(g=el;g<Yh;++g)b=76283*(g-16)+Oi>>Fa,Ku[g-el]=An(b,255),ud[g-el]=An(b+8>>4,15);fg=1}return 1}function nr(g){var b=g.ma,T=g.U,C=g.T;return t(!(1&g.ka)),0>=T||0>=C?0:(T=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,T),b.Dc+=T,1)}function hs(g){g.ma.memory=null}function le(g,b,T,C){return Q(g,8)!=47?0:(b[0]=Q(g,14)+1,T[0]=Q(g,14)+1,C[0]=Q(g,1),Q(g,3)!=0?0:!g.h)}function Nn(g,b){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+Q(b,T)+1}function Rn(g,b){return 120<b?b-120:1<=(T=((T=uo[b-1])>>4)*g+(8-(15&T)))?T:1;var T}function Yn(g,b,T){var C=W(T),V=g[b+=255&C].g-8;return 0<V&&(st(T,T.u+8),C=W(T),b+=g[b].value,b+=C&(1<<V)-1),st(T,T.u+g[b].g),g[b].value}function ti(g,b,T){return T.g+=g.g,T.value+=g.value<<b>>>0,t(8>=T.g),g.g}function oi(g,b,T){var C=g.xc;return t((b=C==0?0:g.vc[g.md*(T>>C)+(b>>C)])<g.Wb),g.Ya[b]}function _i(g,b,T,C){var V=g.ab,q=g.c*b,H=g.C;b=H+b;var $=T,J=C;for(C=g.Ta,T=g.Ua;0<V--;){var nt=g.gc[V],gt=H,Ct=b,Nt=$,At=J,qt=(J=C,$=T,nt.Ea);switch(t(gt<Ct),t(Ct<=nt.nc),nt.hc){case 2:Uh(Nt,At,(Ct-gt)*qt,J,$);break;case 0:var Ot=gt,mt=Ct,vt=J,Vt=$,Ht=(re=nt).Ea;Ot==0&&(od(Nt,At,null,null,1,vt,Vt),_e(Nt,At+1,0,0,Ht-1,vt,Vt+1),At+=Ht,Vt+=Ht,++Ot);for(var Ut=1<<re.b,ce=Ut-1,ee=he(Ht,re.b),be=re.K,re=re.w+(Ot>>re.b)*ee;Ot<mt;){var gn=be,Sn=re,Xe=1;for(zu(Nt,At,vt,Vt-Ht,1,vt,Vt);Xe<Ht;){var $e=(Xe&~ce)+Ut;$e>Ht&&($e=Ht),(0,ro[gn[Sn++]>>8&15])(Nt,At+ +Xe,vt,Vt+Xe-Ht,$e-Xe,vt,Vt+Xe),Xe=$e}At+=Ht,Vt+=Ht,++Ot&ce||(re+=ee)}Ct!=nt.nc&&i(J,$-qt,J,$+(Ct-gt-1)*qt,qt);break;case 1:for(qt=Nt,mt=At,Ht=(Nt=nt.Ea)-(Vt=Nt&~(vt=(At=1<<nt.b)-1)),Ot=he(Nt,nt.b),Ut=nt.K,nt=nt.w+(gt>>nt.b)*Ot;gt<Ct;){for(ce=Ut,ee=nt,be=new se,re=mt+Vt,gn=mt+Nt;mt<re;)Ge(ce[ee++],be),Ho(be,qt,mt,At,J,$),mt+=At,$+=At;mt<gn&&(Ge(ce[ee++],be),Ho(be,qt,mt,Ht,J,$),mt+=Ht,$+=Ht),++gt&vt||(nt+=Ot)}break;case 3:if(Nt==J&&At==$&&0<nt.b){for(mt=J,Nt=qt=$+(Ct-gt)*qt-(Vt=(Ct-gt)*he(nt.Ea,nt.b)),At=J,vt=$,Ot=[],Vt=(Ht=Vt)-1;0<=Vt;--Vt)Ot[Vt]=At[vt+Vt];for(Vt=Ht-1;0<=Vt;--Vt)mt[Nt+Vt]=Ot[Vt];Rs(nt,gt,Ct,J,qt,J,$)}else Rs(nt,gt,Ct,Nt,At,J,$)}$=C,J=T}J!=T&&i(C,T,$,J,q)}function Ya(g,b){var T=g.V,C=g.Ba+g.c*g.C,V=b-g.C;if(t(b<=g.l.o),t(16>=V),0<V){var q=g.l,H=g.Ta,$=g.Ua,J=q.width;if(_i(g,V,T,C),V=$=[$],t((T=g.C)<(C=b)),t(q.v<q.va),C>q.o&&(C=q.o),T<q.j){var nt=q.j-T;T=q.j,V[0]+=nt*J}if(T>=C?T=0:(V[0]+=4*q.v,q.ka=T-q.j,q.U=q.va-q.v,q.T=C-T,T=1),T){if($=$[0],11>(T=g.ca).S){var gt=T.f.RGBA,Ct=(C=T.S,V=q.U,q=q.T,nt=gt.eb,gt.A),Nt=q;for(gt=gt.fb+g.Ma*gt.A;0<Nt--;){var At=H,qt=$,Ot=V,mt=nt,vt=gt;switch(C){case vr:Ir(At,qt,Ot,mt,vt);break;case Dc:ar(At,qt,Ot,mt,vt);break;case Gu:ar(At,qt,Ot,mt,vt),gs(mt,vt,0,Ot,1,0);break;case ka:na(At,qt,Ot,mt,vt);break;case Hu:In(At,qt,Ot,mt,vt,1);break;case Jo:In(At,qt,Ot,mt,vt,1),gs(mt,vt,0,Ot,1,0);break;case Bl:In(At,qt,Ot,mt,vt,0);break;case lo:In(At,qt,Ot,mt,vt,0),gs(mt,vt,1,Ot,1,0);break;case oo:Go(At,qt,Ot,mt,vt);break;case Mc:Go(At,qt,Ot,mt,vt),Ze(mt,vt,Ot,1,0);break;case qh:Hr(At,qt,Ot,mt,vt);break;default:t(0)}$+=J,gt+=Ct}g.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=T.height)}}g.C=b,t(g.C<=g.i)}function Er(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var T=g.Ya[b].G,C=g.Ya[b].H;if(0<T[1][C[1]+0].g||0<T[2][C[2]+0].g||0<T[3][C[3]+0].g)return 0}return 1}function Gi(g,b,T,C,V,q){if(g.Z!=0){var H=g.qd,$=g.rd;for(t(Ma[g.Z]!=null);b<T;++b)Ma[g.Z](H,$,C,V,C,V,q),H=C,$=V,V+=q;g.qd=H,g.rd=$}}function Li(g,b){var T=g.l.ma,C=T.Z==0||T.Z==1?g.l.j:g.C;if(C=g.C<C?C:g.C,t(b<=g.l.o),b>C){var V=g.l.width,q=T.ca,H=T.tb+V*C,$=g.V,J=g.Ba+g.c*C,nt=g.gc;t(g.ab==1),t(nt[0].hc==3),qo(nt[0],C,b,$,J,q,H),Gi(T,C,b,q,H,V)}g.C=g.Ma=b}function bi(g,b,T,C,V,q,H){var $=g.$/C,J=g.$%C,nt=g.m,gt=g.s,Ct=T+g.$,Nt=Ct;V=T+C*V;var At=T+C*q,qt=280+gt.ua,Ot=g.Pb?$:16777216,mt=0<gt.ua?gt.Wa:null,vt=gt.wc,Vt=Ct<At?oi(gt,J,$):null;t(g.C<q),t(At<=V);var Ht=!1;t:for(;;){for(;Ht||Ct<At;){var Ut=0;if($>=Ot){var ce=Ct-T;t((Ot=g).Pb),Ot.wd=Ot.m,Ot.xd=ce,0<Ot.s.ua&&jt(Ot.s.Wa,Ot.s.vb),Ot=$+cg}if(J&vt||(Vt=oi(gt,J,$)),t(Vt!=null),Vt.Qb&&(b[Ct]=Vt.qb,Ht=!0),!Ht)if(ct(nt),Vt.jc){Ut=nt,ce=b;var ee=Ct,be=Vt.pd[W(Ut)&Di-1];t(Vt.jc),256>be.g?(st(Ut,Ut.u+be.g),ce[ee]=be.value,Ut=0):(st(Ut,Ut.u+be.g-256),t(256<=be.value),Ut=be.value),Ut==0&&(Ht=!0)}else Ut=Yn(Vt.G[0],Vt.H[0],nt);if(nt.h)break;if(Ht||256>Ut){if(!Ht)if(Vt.nd)b[Ct]=(Vt.qb|Ut<<8)>>>0;else{if(ct(nt),Ht=Yn(Vt.G[1],Vt.H[1],nt),ct(nt),ce=Yn(Vt.G[2],Vt.H[2],nt),ee=Yn(Vt.G[3],Vt.H[3],nt),nt.h)break;b[Ct]=(ee<<24|Ht<<16|Ut<<8|ce)>>>0}if(Ht=!1,++Ct,++J>=C&&(J=0,++$,H!=null&&$<=q&&!($%16)&&H(g,$),mt!=null))for(;Nt<Ct;)Ut=b[Nt++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut}else if(280>Ut){if(Ut=Nn(Ut-256,nt),ce=Yn(Vt.G[4],Vt.H[4],nt),ct(nt),ce=Rn(C,ce=Nn(ce,nt)),nt.h)break;if(Ct-T<ce||V-Ct<Ut)break t;for(ee=0;ee<Ut;++ee)b[Ct+ee]=b[Ct+ee-ce];for(Ct+=Ut,J+=Ut;J>=C;)J-=C,++$,H!=null&&$<=q&&!($%16)&&H(g,$);if(t(Ct<=V),J&vt&&(Vt=oi(gt,J,$)),mt!=null)for(;Nt<Ct;)Ut=b[Nt++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut}else{if(!(Ut<qt))break t;for(Ht=Ut-280,t(mt!=null);Nt<Ct;)Ut=b[Nt++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut;Ut=Ct,t(!(Ht>>>(ce=mt).Xa)),b[Ut]=ce.X[Ht],Ht=!0}Ht||t(nt.h==Z(nt))}if(g.Pb&&nt.h&&Ct<V)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&jt(g.s.vb,g.s.Wa);else{if(nt.h)break t;H!=null&&H(g,$>q?q:$),g.a=0,g.$=Ct-T}return 1}return g.a=3,0}function Pi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function qn(){var g=new Rc;return g==null?null:(g.a=0,g.xb=Oc,fr("Predictor","VP8LPredictors"),fr("Predictor","VP8LPredictors_C"),fr("PredictorAdd","VP8LPredictorsAdd"),fr("PredictorAdd","VP8LPredictorsAdd_C"),Uh=ge,Ho=fe,Ir=oe,ar=si,Go=Ke,Hr=tr,na=Je,P.VP8LMapColor32b=$i,P.VP8LMapColor8b=qu,g)}function bn(g,b,T,C,V){var q=1,H=[g],$=[b],J=C.m,nt=C.s,gt=null,Ct=0;t:for(;;){if(T)for(;q&&Q(J,1);){var Nt=H,At=$,qt=C,Ot=1,mt=qt.m,vt=qt.gc[qt.ab],Vt=Q(mt,2);if(qt.Oc&1<<Vt)q=0;else{switch(qt.Oc|=1<<Vt,vt.hc=Vt,vt.Ea=Nt[0],vt.nc=At[0],vt.K=[null],++qt.ab,t(4>=qt.ab),Vt){case 0:case 1:vt.b=Q(mt,3)+2,Ot=bn(he(vt.Ea,vt.b),he(vt.nc,vt.b),0,qt,vt.K),vt.K=vt.K[0];break;case 3:var Ht,Ut=Q(mt,8)+1,ce=16<Ut?0:4<Ut?1:2<Ut?2:3;if(Nt[0]=he(vt.Ea,ce),vt.b=ce,Ht=Ot=bn(Ut,1,0,qt,vt.K)){var ee,be=Ut,re=vt,gn=1<<(8>>re.b),Sn=s(gn);if(Sn==null)Ht=0;else{var Xe=re.K[0],$e=re.w;for(Sn[0]=re.K[0][0],ee=1;ee<1*be;++ee)Sn[ee]=Qt(Xe[$e+ee],Sn[ee-1]);for(;ee<4*gn;++ee)Sn[ee]=0;re.K[0]=null,re.K[0]=Sn,Ht=1}}Ot=Ht;break;case 2:break;default:t(0)}q=Ot}}if(H=H[0],$=$[0],q&&Q(J,1)&&!(q=1<=(Ct=Q(J,4))&&11>=Ct)){C.a=3;break t}var Ln;if(Ln=q)e:{var Tn,Be,Mn,Ee=C,ke=H,pn=$,mn=Ct,Xi=T,ji=Ee.m,pi=Ee.s,gi=[null],Ti=1,ks=0,En=zl[mn];n:for(;;){if(Xi&&Q(ji,1)){var Ei=Q(ji,3)+2,sa=he(ke,Ei),nl=he(pn,Ei),Gl=sa*nl;if(!bn(sa,nl,0,Ee,gi))break n;for(gi=gi[0],pi.xc=Ei,Tn=0;Tn<Gl;++Tn){var il=gi[Tn]>>8&65535;gi[Tn]=il,il>=Ti&&(Ti=il+1)}}if(ji.h)break n;for(Be=0;5>Be;++Be){var Jn=ms[Be];!Be&&0<mn&&(Jn+=1<<mn),ks<Jn&&(ks=Jn)}var Xu=o(Ti*En,D),Kh=Ti,Rr=o(Kh,at);if(Rr==null)var ei=null;else t(65536>=Kh),ei=Rr;var Wl=s(ks);if(ei==null||Wl==null||Xu==null){Ee.a=1;break n}var rl=Xu;for(Tn=Mn=0;Tn<Ti;++Tn){var Wr=ei[Tn],sl=Wr.G,$r=Wr.H,Qu=0,jc=1,Xh=0;for(Be=0;5>Be;++Be){Jn=ms[Be],sl[Be]=rl,$r[Be]=Mn,!Be&&0<mn&&(Jn+=1<<mn);r:{var Ju,Qh=Jn,Zu=Ee,Vc=Wl,gg=rl,mg=Mn,th=0,go=Zu.m,S1=Q(go,1);if(r(Vc,0,0,Qh),S1){var yg=Q(go,1)+1,vg=Q(go,1),hd=Q(go,vg==0?1:8);Vc[hd]=1,yg==2&&(Vc[hd=Q(go,8)]=1);var Bc=1}else{var fd=s(19),dd=Q(go,4)+4;if(19<dd){Zu.a=3;var eh=0;break r}for(Ju=0;Ju<dd;++Ju)fd[co[Ju]]=Q(go,3);var Jh=void 0,Uc=void 0,_g=Zu,bg=fd,mo=Qh,nh=Vc,Zh=0,aa=_g.m,zc=8,pd=o(128,D);i:for(;L(pd,0,7,bg,19);){if(Q(aa,1)){var wg=2+2*Q(aa,3);if((Jh=2+Q(aa,wg))>mo)break i}else Jh=mo;for(Uc=0;Uc<mo&&Jh--;){ct(aa);var gd=pd[0+(127&W(aa))];st(aa,aa.u+gd.g);var $l=gd.value;if(16>$l)nh[Uc++]=$l,$l!=0&&(zc=$l);else{var Ag=$l==16,md=$l-16,yd=Ps[md],vd=Q(aa,Hh[md])+yd;if(Uc+vd>mo)break i;for(var Sg=Ag?zc:0;0<vd--;)nh[Uc++]=Sg}}Zh=1;break i}Zh||(_g.a=3),Bc=Zh}(Bc=Bc&&!go.h)&&(th=L(gg,mg,8,Vc,Qh)),Bc&&th!=0?eh=th:(Zu.a=3,eh=0)}if(eh==0)break n;if(jc&&Ul[Be]==1&&(jc=rl[Mn].g==0),Qu+=rl[Mn].g,Mn+=eh,3>=Be){var Yl,tf=Wl[0];for(Yl=1;Yl<Jn;++Yl)Wl[Yl]>tf&&(tf=Wl[Yl]);Xh+=tf}}if(Wr.nd=jc,Wr.Qb=0,jc&&(Wr.qb=(sl[3][$r[3]+0].value<<24|sl[1][$r[1]+0].value<<16|sl[2][$r[2]+0].value)>>>0,Qu==0&&256>sl[0][$r[0]+0].value&&(Wr.Qb=1,Wr.qb+=sl[0][$r[0]+0].value<<8)),Wr.jc=!Wr.Qb&&6>Xh,Wr.jc){var ih,yo=Wr;for(ih=0;ih<Di;++ih){var ja=ih,vo=yo.pd[ja],rh=yo.G[0][yo.H[0]+ja];256<=rh.value?(vo.g=rh.g+256,vo.value=rh.value):(vo.g=0,vo.value=0,ja>>=ti(rh,8,vo),ja>>=ti(yo.G[1][yo.H[1]+ja],16,vo),ja>>=ti(yo.G[2][yo.H[2]+ja],0,vo),ti(yo.G[3][yo.H[3]+ja],24,vo))}}}pi.vc=gi,pi.Wb=Ti,pi.Ya=ei,pi.yc=Xu,Ln=1;break e}Ln=0}if(!(q=Ln)){C.a=3;break t}if(0<Ct){if(nt.ua=1<<Ct,!we(nt.Wa,Ct)){C.a=1,q=0;break t}}else nt.ua=0;var sh=C,_d=H,Tg=$,bd=sh.s,wd=bd.xc;if(sh.c=_d,sh.i=Tg,bd.md=he(_d,wd),bd.wc=wd==0?-1:(1<<wd)-1,T){C.xb=hg;break t}if((gt=s(H*$))==null){C.a=1,q=0;break t}q=(q=bi(C,gt,0,H,$,$,null))&&!J.h;break t}return q?(V!=null?V[0]=gt:(t(gt==null),t(T)),C.$=0,T||Pi(nt)):Pi(nt),q}function Gs(g,b){var T=g.c*g.i,C=T+b+16*b;return t(g.c<=b),g.V=s(C),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+b,1)}function Ws(g,b){var T=g.C,C=b-T,V=g.V,q=g.Ba+g.c*T;for(t(b<=g.l.o);0<C;){var H=16<C?16:C,$=g.l.ma,J=g.l.width,nt=J*H,gt=$.ca,Ct=$.tb+J*T,Nt=g.Ta,At=g.Ua;_i(g,H,V,q),Gn(Nt,At,gt,Ct,nt),Gi($,T,T+H,gt,Ct,J),C-=H,V+=H*g.c,T+=H}t(T==b),g.C=g.Ma=b}function dr(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function El(){this.Yb=function(){var g=[];return function b(T,C,V){for(var q=V[C],H=0;H<q&&(T.push(V.length>C+1?[]:0),!(V.length<C+1));H++)b(T[H],C+1,V)}(g,0,[3,11]),g}()}function Xa(){this.jb=s(3),this.Wc=c([4,8],El),this.Xc=c([4,17],El)}function Sc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function ds(){this.Na=this.la=0}function ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $s(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Tc(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new $s),this.aa=0,this.l=new Ys}function bs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ko(){this.cb=this.a=0,this.sc="",this.m=new St,this.Od=new dr,this.Kc=new Fr,this.ed=new Sc,this.Qa=new Ka,this.Ic=this.$c=this.Aa=0,this.D=new Tc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,St),this.ia=0,this.pb=o(4,ki),this.Pa=new Xa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bs),this.Hd=0,this.rb=Array(new ds),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $s),this.L=this.aa=0,this.gd=c([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xl(){var g=new ko;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Mi||(Mi=Ec)),g}function Hn(g,b,T){return g.a==0&&(g.a=b,g.sc=T,g.cb=0),0}function Wi(g,b,T){return 3<=T&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Do(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Hn(g,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,C=b.w,V=b.ha;if(4>V)return Hn(g,7,"Truncated header.");var q=T[C+0]|T[C+1]<<8|T[C+2]<<16,H=g.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return Hn(g,3,"Incorrect keyframe parameters.");if(!H.yd)return Hn(g,4,"Frame not displayable.");C+=3,V-=3;var $=g.Kc;if(H.Rb){if(7>V)return Hn(g,7,"cannot parse picture header");if(!Wi(T,C,V))return Hn(g,3,"Bad code word");$.c=16383&(T[C+4]<<8|T[C+3]),$.Td=T[C+4]>>6,$.i=16383&(T[C+6]<<8|T[C+5]),$.Ud=T[C+6]>>6,C+=7,V-=7,g.za=$.c+15>>4,g.Ub=$.i+15>>4,b.width=$.c,b.height=$.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,r((q=g.Pa).jb,0,255,q.jb.length),t((q=g.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,r(q.Zb,0,0,q.Zb.length),r(q.Lb,0,0,q.Lb)}if(H.ub>V)return Hn(g,7,"bad partition length");wt(q=g.m,T,C,H.ub),C+=H.ub,V-=H.ub,H.Rb&&($.Ld=xt(q),$.Kd=xt(q)),$=g.Qa;var J,nt=g.Pa;if(t(q!=null),t($!=null),$.Cb=xt(q),$.Cb){if($.Bb=xt(q),xt(q)){for($.Fb=xt(q),J=0;4>J;++J)$.Zb[J]=xt(q)?ht(q,7):0;for(J=0;4>J;++J)$.Lb[J]=xt(q)?ht(q,6):0}if($.Bb)for(J=0;3>J;++J)nt.jb[J]=xt(q)?et(q,8):255}else $.Bb=0;if(q.Ka)return Hn(g,3,"cannot parse segment header");if(($=g.ed).zd=xt(q),$.Tb=et(q,6),$.wb=et(q,3),$.Pc=xt(q),$.Pc&&xt(q)){for(nt=0;4>nt;++nt)xt(q)&&($.vd[nt]=ht(q,6));for(nt=0;4>nt;++nt)xt(q)&&($.od[nt]=ht(q,6))}if(g.L=$.Tb==0?0:$.zd?1:2,q.Ka)return Hn(g,3,"cannot parse filter header");var gt=V;if(V=J=C,C=J+gt,$=gt,g.Xb=(1<<et(g.m,2))-1,gt<3*(nt=g.Xb))T=7;else{for(J+=3*nt,$-=3*nt,gt=0;gt<nt;++gt){var Ct=T[V+0]|T[V+1]<<8|T[V+2]<<16;Ct>$&&(Ct=$),wt(g.Jc[+gt],T,J,Ct),J+=Ct,$-=Ct,V+=3}wt(g.Jc[+nt],T,J,$),T=J<C?0:5}if(T!=0)return Hn(g,T,"cannot parse partitions");for(T=et(J=g.m,7),V=xt(J)?ht(J,4):0,C=xt(J)?ht(J,4):0,$=xt(J)?ht(J,4):0,nt=xt(J)?ht(J,4):0,J=xt(J)?ht(J,4):0,gt=g.Qa,Ct=0;4>Ct;++Ct){if(gt.Cb){var Nt=gt.Zb[Ct];gt.Fb||(Nt+=T)}else{if(0<Ct){g.pb[Ct]=g.pb[0];continue}Nt=T}var At=g.pb[Ct];At.Sc[0]=Wu[An(Nt+V,127)],At.Sc[1]=$u[An(Nt+0,127)],At.Eb[0]=2*Wu[An(Nt+C,127)],At.Eb[1]=101581*$u[An(Nt+$,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=Wu[An(Nt+nt,117)],At.Qc[1]=$u[An(Nt+J,127)],At.lc=Nt+J}if(!H.Rb)return Hn(g,4,"Not a key frame.");for(xt(q),H=g.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(C=0;3>C;++C)for($=0;11>$;++$)nt=kt(q,ql[T][V][C][$])?et(q,8):Da[T][V][C][$],H.Wc[T][V].Yb[C][$]=nt;for(V=0;17>V;++V)H.Xc[T][V]=H.Wc[T][ug[V]]}return g.kc=xt(q),g.kc&&(g.Bd=et(q,8)),g.cb=1}function Ec(g,b,T,C,V,q,H){var $=b[V].Yb[T];for(T=0;16>V;++V){if(!kt(g,$[T+0]))return V;for(;!kt(g,$[T+1]);)if($=b[++V].Yb[0],T=0,V==16)return 16;var J=b[V+1].Yb;if(kt(g,$[T+2])){var nt=g,gt=0;if(kt(nt,(Nt=$)[(Ct=T)+3]))if(kt(nt,Nt[Ct+6])){for($=0,Ct=2*(gt=kt(nt,Nt[Ct+8]))+(Nt=kt(nt,Nt[Ct+9+gt])),gt=0,Nt=ui[Ct];Nt[$];++$)gt+=gt+kt(nt,Nt[$]);gt+=3+(8<<Ct)}else kt(nt,Nt[Ct+7])?(gt=7+2*kt(nt,165),gt+=kt(nt,145)):gt=5+kt(nt,159);else gt=kt(nt,Nt[Ct+4])?3+kt(nt,Nt[Ct+5]):2;$=J[2]}else gt=1,$=J[1];J=H+_n[V],0>(nt=g).b&&It(nt);var Ct,Nt=nt.b,At=(Ct=nt.Ca>>1)-(nt.I>>Nt)>>31;--nt.b,nt.Ca+=At,nt.Ca|=1,nt.I-=(Ct+1&At)<<Nt,q[J]=((gt^At)-At)*C[(0<V)+0]}return 16}function _a(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function Il(g,b){if(g==null)return 0;if(b==null)return Hn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Do(g,b))return 0;if(t(g.cb),b.ac==null||b.ac(b)){b.ob&&(g.L=0);var T=po[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=b.v-T>>4,g.zb=b.j-T>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=b.o+15+T>>4,g.Hb=b.va+15+T>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var C=g.ed;for(T=0;4>T;++T){var V;if(g.Qa.Cb){var q=g.Qa.Lb[T];g.Qa.Fb||(q+=C.Tb)}else q=C.Tb;for(V=0;1>=V;++V){var H=g.gd[T][V],$=q;if(C.Pc&&($+=C.vd[0],V&&($+=C.od[0])),0<($=0>$?0:63<$?63:$)){var J=$;0<C.wb&&(J=4<C.wb?J>>2:J>>1)>9-C.wb&&(J=9-C.wb),1>J&&(J=1),H.dd=J,H.tc=2*$+J,H.ld=40<=$?2:15<=$?1:0}else H.tc=0;H.La=V}}}T=0}else Hn(g,6,"Frame setup failed"),T=g.a;if(T=T==0){if(T){g.$c=0,0<g.Aa||(g.Ic=dg);t:{T=g.Ic,C=4*(J=g.za);var nt=32*J,gt=J+1,Ct=0<g.L?J*(0<g.Aa?2:1):0,Nt=(g.Aa==2?2:1)*J;if((H=C+832+(V=3*(16*T+po[g.L])/2*nt)+(q=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=H)T=0;else{if(H>g.Vb){if(g.Vb=0,g.Ec=s(H),g.Fc=0,g.Ec==null){T=Hn(g,1,"no memory during frame initialization.");break t}g.Vb=H}H=g.Ec,$=g.Fc,g.Ac=H,g.Bc=$,$+=C,g.Gd=o(nt,bs),g.Hd=0,g.rb=o(gt+1,ds),g.sb=1,g.wa=Ct?o(Ct,fs):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=J),t(!0),g.oc=H,g.pc=$,$+=832,g.ya=o(Nt,$s),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=J),g.R=16*J,g.B=8*J,J=(nt=po[g.L])*g.R,nt=nt/2*g.B,g.sa=H,g.ta=$+J,g.qa=g.sa,g.ra=g.ta+16*T*g.R+nt,g.Ha=g.qa,g.Ia=g.ra+8*T*g.B+nt,g.$c=0,$+=V,g.mb=q?H:null,g.nb=q?$:null,t($+q<=g.Fc+g.Vb),_a(g),r(g.Ac,g.Bc,0,C),T=1}}if(T){if(b.ka=0,b.y=g.sa,b.O=g.ta,b.f=g.qa,b.N=g.ra,b.ea=g.Ha,b.Vd=g.Ia,b.fa=g.R,b.Rc=g.B,b.F=null,b.J=0,!ao){for(T=-255;255>=T;++T)di[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Cs[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Xo[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Qo[255+T]=0>T?0:255<T?255:T;ao=1}La=jr,ia=wa,ra=ws,Si=wn,Gr=Aa,li=ba,Ol=xa,Pa=ta,Pc=jo,Wo=Pl,$o=Fo,Yo=Za,Fl=to,kc=Ia,Ko=ps,so=mr,jl=Ai,ci=Nc,Nr[0]=pr,Nr[1]=xc,Nr[2]=Ts,Nr[3]=Ic,Nr[4]=Vr,Nr[5]=Es,Nr[6]=xr,Nr[7]=Br,Nr[8]=Zs,Nr[9]=Sa,ho[0]=As,ho[1]=Rl,ho[2]=Xs,ho[3]=Oo,ho[4]=Dn,ho[5]=Js,ho[6]=Ss,ys[0]=xs,ys[1]=Nl,ys[2]=Cl,ys[3]=Ur,ys[4]=nn,ys[5]=wi,ys[6]=Ta,T=1}else T=0}T&&(T=function(At,qt){for(At.M=0;At.M<At.Va;++At.M){var Ot,mt=At.Jc[At.M&At.Xb],vt=At.m,Vt=At;for(Ot=0;Ot<Vt.za;++Ot){var Ht=vt,Ut=Vt,ce=Ut.Ac,ee=Ut.Bc+4*Ot,be=Ut.zc,re=Ut.ya[Ut.aa+Ot];if(Ut.Qa.Bb?re.$b=kt(Ht,Ut.Pa.jb[0])?2+kt(Ht,Ut.Pa.jb[2]):kt(Ht,Ut.Pa.jb[1]):re.$b=0,Ut.kc&&(re.Ad=kt(Ht,Ut.Bd)),re.Za=!kt(Ht,145)+0,re.Za){var gn=re.Ob,Sn=0;for(Ut=0;4>Ut;++Ut){var Xe,$e=be[0+Ut];for(Xe=0;4>Xe;++Xe){$e=ld[ce[ee+Xe]][$e];for(var Ln=Zo[kt(Ht,$e[0])];0<Ln;)Ln=Zo[2*Ln+kt(Ht,$e[Ln])];$e=-Ln,ce[ee+Xe]=$e}i(gn,Sn,ce,ee,4),Sn+=4,be[0+Ut]=$e}}else $e=kt(Ht,156)?kt(Ht,128)?1:3:kt(Ht,163)?2:0,re.Ob[0]=$e,r(ce,ee,$e,4),r(be,0,$e,4);re.Dd=kt(Ht,142)?kt(Ht,114)?kt(Ht,183)?1:3:2:0}if(Vt.m.Ka)return Hn(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(Vt=mt,Ht=(vt=At).rb[vt.sb-1],ce=vt.rb[vt.sb+vt.ja],Ot=vt.ya[vt.aa+vt.ja],ee=vt.kc?Ot.Ad:0)Ht.la=ce.la=0,Ot.Za||(Ht.Na=ce.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var Tn,Be;if(Ht=ce,ce=Vt,ee=vt.Pa.Xc,be=vt.ya[vt.aa+vt.ja],re=vt.pb[be.$b],Ut=be.ad,gn=0,Sn=vt.rb[vt.sb-1],$e=Xe=0,r(Ut,gn,0,384),be.Za)var Mn=0,Ee=ee[3];else{Ln=s(16);var ke=Ht.Na+Sn.Na;if(ke=Mi(ce,ee[1],ke,re.Eb,0,Ln,0),Ht.Na=Sn.Na=(0<ke)+0,1<ke)La(Ln,0,Ut,gn);else{var pn=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)Ut[gn+Ln]=pn}Mn=1,Ee=ee[0]}var mn=15&Ht.la,Xi=15&Sn.la;for(Ln=0;4>Ln;++Ln){var ji=1&Xi;for(pn=Be=0;4>pn;++pn)mn=mn>>1|(ji=(ke=Mi(ce,Ee,ke=ji+(1&mn),re.Sc,Mn,Ut,gn))>Mn)<<7,Be=Be<<2|(3<ke?3:1<ke?2:Ut[gn+0]!=0),gn+=16;mn>>=4,Xi=Xi>>1|ji<<7,Xe=(Xe<<8|Be)>>>0}for(Ee=mn,Mn=Xi>>4,Tn=0;4>Tn;Tn+=2){for(Be=0,mn=Ht.la>>4+Tn,Xi=Sn.la>>4+Tn,Ln=0;2>Ln;++Ln){for(ji=1&Xi,pn=0;2>pn;++pn)ke=ji+(1&mn),mn=mn>>1|(ji=0<(ke=Mi(ce,ee[2],ke,re.Qc,0,Ut,gn)))<<3,Be=Be<<2|(3<ke?3:1<ke?2:Ut[gn+0]!=0),gn+=16;mn>>=2,Xi=Xi>>1|ji<<5}$e|=Be<<4*Tn,Ee|=mn<<4<<Tn,Mn|=(240&Xi)<<Tn}Ht.la=Ee,Sn.la=Mn,be.Hc=Xe,be.Gc=$e,be.ia=43690&$e?0:re.ia,ee=!(Xe|$e)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[Ot.$b][Ot.Za],vt.wa[vt.Y+vt.ja].La|=!ee),Vt.Ka)return Hn(At,7,"Premature end-of-file encountered.")}if(_a(At),vt=qt,Vt=1,Ot=(mt=At).D,Ht=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Ot.M=mt.M,Ot.uc=Ht,zr(mt,Ot),Vt=1,Ot=(Be=mt.D).Nb,Ht=($e=po[mt.L])*mt.R,ce=$e/2*mt.B,Ln=16*Ot*mt.R,pn=8*Ot*mt.B,ee=mt.sa,be=mt.ta-Ht+Ln,re=mt.qa,Ut=mt.ra-ce+pn,gn=mt.Ha,Sn=mt.Ia-ce+pn,Xi=(mn=Be.M)==0,Xe=mn>=mt.Va-1,mt.Aa==2&&zr(mt,Be),Be.uc)for(ji=(ke=mt).D.M,t(ke.D.uc),Be=ke.yb;Be<ke.Hb;++Be){Mn=Be,Ee=ji;var pi=(gi=(Jn=ke).D).Nb;Tn=Jn.R;var gi=gi.wa[gi.Y+Mn],Ti=Jn.sa,ks=Jn.ta+16*pi*Tn+16*Mn,En=gi.dd,Ei=gi.tc;if(Ei!=0)if(t(3<=Ei),Jn.L==1)0<Mn&&so(Ti,ks,Tn,Ei+4),gi.La&&ci(Ti,ks,Tn,Ei),0<Ee&&Ko(Ti,ks,Tn,Ei+4),gi.La&&jl(Ti,ks,Tn,Ei);else{var sa=Jn.B,nl=Jn.qa,Gl=Jn.ra+8*pi*sa+8*Mn,il=Jn.Ha,Jn=Jn.Ia+8*pi*sa+8*Mn;pi=gi.ld,0<Mn&&(Pa(Ti,ks,Tn,Ei+4,En,pi),Wo(nl,Gl,il,Jn,sa,Ei+4,En,pi)),gi.La&&(Yo(Ti,ks,Tn,Ei,En,pi),kc(nl,Gl,il,Jn,sa,Ei,En,pi)),0<Ee&&(Ol(Ti,ks,Tn,Ei+4,En,pi),Pc(nl,Gl,il,Jn,sa,Ei+4,En,pi)),gi.La&&($o(Ti,ks,Tn,Ei,En,pi),Fl(nl,Gl,il,Jn,sa,Ei,En,pi))}}if(mt.ia&&alert("todo:DitherRow"),vt.put!=null){if(Be=16*mn,mn=16*(mn+1),Xi?(vt.y=mt.sa,vt.O=mt.ta+Ln,vt.f=mt.qa,vt.N=mt.ra+pn,vt.ea=mt.Ha,vt.W=mt.Ia+pn):(Be-=$e,vt.y=ee,vt.O=be,vt.f=re,vt.N=Ut,vt.ea=gn,vt.W=Sn),Xe||(mn-=$e),mn>vt.o&&(mn=vt.o),vt.F=null,vt.J=null,mt.Fa!=null&&0<mt.Fa.length&&Be<mn&&(vt.J=Bo(mt,vt,Be,mn-Be),vt.F=mt.mb,vt.F==null&&vt.F.length==0)){Vt=Hn(mt,3,"Could not decode alpha data.");break t}Be<vt.j&&($e=vt.j-Be,Be=vt.j,t(!(1&$e)),vt.O+=mt.R*$e,vt.N+=mt.B*($e>>1),vt.W+=mt.B*($e>>1),vt.F!=null&&(vt.J+=vt.width*$e)),Be<mn&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=Be-vt.j,vt.U=vt.va-vt.v,vt.T=mn-Be,Vt=vt.put(vt))}Ot+1!=mt.Ic||Xe||(i(mt.sa,mt.ta-Ht,ee,be+16*mt.R,Ht),i(mt.qa,mt.ra-ce,re,Ut+8*mt.B,ce),i(mt.Ha,mt.Ia-ce,gn,Sn+8*mt.B,ce))}if(!Vt)return Hn(At,6,"Output aborted.")}return 1}(g,b)),b.bc!=null&&b.bc(b),T&=1}return T?(g.cb=0,T):0}function ir(g,b,T,C,V){V=g[b+T+32*C]+(V>>3),g[b+T+32*C]=-256&V?0>V?0:255:V}function Mo(g,b,T,C,V,q){ir(g,b,0,T,C+V),ir(g,b,1,T,C+q),ir(g,b,2,T,C-q),ir(g,b,3,T,C-V)}function dn(g){return(20091*g>>16)+g}function rr(g,b,T,C){var V,q=0,H=s(16);for(V=0;4>V;++V){var $=g[b+0]+g[b+8],J=g[b+0]-g[b+8],nt=(35468*g[b+4]>>16)-dn(g[b+12]),gt=dn(g[b+4])+(35468*g[b+12]>>16);H[q+0]=$+gt,H[q+1]=J+nt,H[q+2]=J-nt,H[q+3]=$-gt,q+=4,b++}for(V=q=0;4>V;++V)$=(g=H[q+0]+4)+H[q+8],J=g-H[q+8],nt=(35468*H[q+4]>>16)-dn(H[q+12]),ir(T,C,0,0,$+(gt=dn(H[q+4])+(35468*H[q+12]>>16))),ir(T,C,1,0,J+nt),ir(T,C,2,0,J-nt),ir(T,C,3,0,$-gt),q++,C+=32}function ba(g,b,T,C){var V=g[b+0]+4,q=35468*g[b+4]>>16,H=dn(g[b+4]),$=35468*g[b+1]>>16;Mo(T,C,0,V+H,g=dn(g[b+1]),$),Mo(T,C,1,V+q,g,$),Mo(T,C,2,V-q,g,$),Mo(T,C,3,V-H,g,$)}function wa(g,b,T,C,V){rr(g,b,T,C),V&&rr(g,b+16,T,C+4)}function ws(g,b,T,C){ia(g,b+0,T,C,1),ia(g,b+32,T,C+128,1)}function wn(g,b,T,C){var V;for(g=g[b+0]+4,V=0;4>V;++V)for(b=0;4>b;++b)ir(T,C,b,V,g)}function Aa(g,b,T,C){g[b+0]&&Si(g,b+0,T,C),g[b+16]&&Si(g,b+16,T,C+4),g[b+32]&&Si(g,b+32,T,C+128),g[b+48]&&Si(g,b+48,T,C+128+4)}function jr(g,b,T,C){var V,q=s(16);for(V=0;4>V;++V){var H=g[b+0+V]+g[b+12+V],$=g[b+4+V]+g[b+8+V],J=g[b+4+V]-g[b+8+V],nt=g[b+0+V]-g[b+12+V];q[0+V]=H+$,q[8+V]=H-$,q[4+V]=nt+J,q[12+V]=nt-J}for(V=0;4>V;++V)H=(g=q[0+4*V]+3)+q[3+4*V],$=q[1+4*V]+q[2+4*V],J=q[1+4*V]-q[2+4*V],nt=g-q[3+4*V],T[C+0]=H+$>>3,T[C+16]=nt+J>>3,T[C+32]=H-$>>3,T[C+48]=nt-J>>3,C+=64}function Ks(g,b,T){var C,V=b-32,q=Yi,H=255-g[V-1];for(C=0;C<T;++C){var $,J=q,nt=H+g[b-1];for($=0;$<T;++$)g[b+$]=J[nt+g[V+$]];b+=32}}function xc(g,b){Ks(g,b,4)}function Nl(g,b){Ks(g,b,8)}function Rl(g,b){Ks(g,b,16)}function Xs(g,b){var T;for(T=0;16>T;++T)i(g,b+32*T,g,b-32,16)}function Oo(g,b){var T;for(T=16;0<T;--T)r(g,b,g[b-1],16),b+=32}function Qs(g,b,T){var C;for(C=0;16>C;++C)r(b,T+32*C,g,16)}function As(g,b){var T,C=16;for(T=0;16>T;++T)C+=g[b-1+32*T]+g[b+T-32];Qs(C>>5,g,b)}function Dn(g,b){var T,C=8;for(T=0;16>T;++T)C+=g[b-1+32*T];Qs(C>>4,g,b)}function Js(g,b){var T,C=8;for(T=0;16>T;++T)C+=g[b+T-32];Qs(C>>4,g,b)}function Ss(g,b){Qs(128,g,b)}function Ie(g,b,T){return g+2*b+T+2>>2}function Ts(g,b){var T,C=b-32;for(C=new Uint8Array([Ie(g[C-1],g[C+0],g[C+1]),Ie(g[C+0],g[C+1],g[C+2]),Ie(g[C+1],g[C+2],g[C+3]),Ie(g[C+2],g[C+3],g[C+4])]),T=0;4>T;++T)i(g,b+32*T,C,0,C.length)}function Ic(g,b){var T=g[b-1],C=g[b-1+32],V=g[b-1+64],q=g[b-1+96];Jt(g,b+0,16843009*Ie(g[b-1-32],T,C)),Jt(g,b+32,16843009*Ie(T,C,V)),Jt(g,b+64,16843009*Ie(C,V,q)),Jt(g,b+96,16843009*Ie(V,q,q))}function pr(g,b){var T,C=4;for(T=0;4>T;++T)C+=g[b+T-32]+g[b-1+32*T];for(C>>=3,T=0;4>T;++T)r(g,b+32*T,C,4)}function Vr(g,b){var T=g[b-1+0],C=g[b-1+32],V=g[b-1+64],q=g[b-1-32],H=g[b+0-32],$=g[b+1-32],J=g[b+2-32],nt=g[b+3-32];g[b+0+96]=Ie(C,V,g[b-1+96]),g[b+1+96]=g[b+0+64]=Ie(T,C,V),g[b+2+96]=g[b+1+64]=g[b+0+32]=Ie(q,T,C),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=Ie(H,q,T),g[b+3+64]=g[b+2+32]=g[b+1+0]=Ie($,H,q),g[b+3+32]=g[b+2+0]=Ie(J,$,H),g[b+3+0]=Ie(nt,J,$)}function xr(g,b){var T=g[b+1-32],C=g[b+2-32],V=g[b+3-32],q=g[b+4-32],H=g[b+5-32],$=g[b+6-32],J=g[b+7-32];g[b+0+0]=Ie(g[b+0-32],T,C),g[b+1+0]=g[b+0+32]=Ie(T,C,V),g[b+2+0]=g[b+1+32]=g[b+0+64]=Ie(C,V,q),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=Ie(V,q,H),g[b+3+32]=g[b+2+64]=g[b+1+96]=Ie(q,H,$),g[b+3+64]=g[b+2+96]=Ie(H,$,J),g[b+3+96]=Ie($,J,J)}function Es(g,b){var T=g[b-1+0],C=g[b-1+32],V=g[b-1+64],q=g[b-1-32],H=g[b+0-32],$=g[b+1-32],J=g[b+2-32],nt=g[b+3-32];g[b+0+0]=g[b+1+64]=q+H+1>>1,g[b+1+0]=g[b+2+64]=H+$+1>>1,g[b+2+0]=g[b+3+64]=$+J+1>>1,g[b+3+0]=J+nt+1>>1,g[b+0+96]=Ie(V,C,T),g[b+0+64]=Ie(C,T,q),g[b+0+32]=g[b+1+96]=Ie(T,q,H),g[b+1+32]=g[b+2+96]=Ie(q,H,$),g[b+2+32]=g[b+3+96]=Ie(H,$,J),g[b+3+32]=Ie($,J,nt)}function Br(g,b){var T=g[b+0-32],C=g[b+1-32],V=g[b+2-32],q=g[b+3-32],H=g[b+4-32],$=g[b+5-32],J=g[b+6-32],nt=g[b+7-32];g[b+0+0]=T+C+1>>1,g[b+1+0]=g[b+0+64]=C+V+1>>1,g[b+2+0]=g[b+1+64]=V+q+1>>1,g[b+3+0]=g[b+2+64]=q+H+1>>1,g[b+0+32]=Ie(T,C,V),g[b+1+32]=g[b+0+96]=Ie(C,V,q),g[b+2+32]=g[b+1+96]=Ie(V,q,H),g[b+3+32]=g[b+2+96]=Ie(q,H,$),g[b+3+64]=Ie(H,$,J),g[b+3+96]=Ie($,J,nt)}function Sa(g,b){var T=g[b-1+0],C=g[b-1+32],V=g[b-1+64],q=g[b-1+96];g[b+0+0]=T+C+1>>1,g[b+2+0]=g[b+0+32]=C+V+1>>1,g[b+2+32]=g[b+0+64]=V+q+1>>1,g[b+1+0]=Ie(T,C,V),g[b+3+0]=g[b+1+32]=Ie(C,V,q),g[b+3+32]=g[b+1+64]=Ie(V,q,q),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=q}function Zs(g,b){var T=g[b-1+0],C=g[b-1+32],V=g[b-1+64],q=g[b-1+96],H=g[b-1-32],$=g[b+0-32],J=g[b+1-32],nt=g[b+2-32];g[b+0+0]=g[b+2+32]=T+H+1>>1,g[b+0+32]=g[b+2+64]=C+T+1>>1,g[b+0+64]=g[b+2+96]=V+C+1>>1,g[b+0+96]=q+V+1>>1,g[b+3+0]=Ie($,J,nt),g[b+2+0]=Ie(H,$,J),g[b+1+0]=g[b+3+32]=Ie(T,H,$),g[b+1+32]=g[b+3+64]=Ie(C,T,H),g[b+1+64]=g[b+3+96]=Ie(V,C,T),g[b+1+96]=Ie(q,V,C)}function Cl(g,b){var T;for(T=0;8>T;++T)i(g,b+32*T,g,b-32,8)}function Ur(g,b){var T;for(T=0;8>T;++T)r(g,b,g[b-1],8),b+=32}function gr(g,b,T){var C;for(C=0;8>C;++C)r(b,T+32*C,g,8)}function xs(g,b){var T,C=8;for(T=0;8>T;++T)C+=g[b+T-32]+g[b-1+32*T];gr(C>>4,g,b)}function wi(g,b){var T,C=4;for(T=0;8>T;++T)C+=g[b+T-32];gr(C>>3,g,b)}function nn(g,b){var T,C=4;for(T=0;8>T;++T)C+=g[b-1+32*T];gr(C>>3,g,b)}function Ta(g,b){gr(128,g,b)}function Is(g,b,T){var C=g[b-T],V=g[b+0],q=3*(V-C)+zh[1020+g[b-2*T]-g[b+T]],H=Vl[112+(q+4>>3)];g[b-T]=Yi[255+C+Vl[112+(q+3>>3)]],g[b+0]=Yi[255+V-H]}function Ll(g,b,T,C){var V=g[b+0],q=g[b+T];return Ls[255+g[b-2*T]-g[b-T]]>C||Ls[255+q-V]>C}function Qa(g,b,T,C){return 4*Ls[255+g[b-T]-g[b+0]]+Ls[255+g[b-2*T]-g[b+T]]<=C}function Ja(g,b,T,C,V){var q=g[b-3*T],H=g[b-2*T],$=g[b-T],J=g[b+0],nt=g[b+T],gt=g[b+2*T],Ct=g[b+3*T];return 4*Ls[255+$-J]+Ls[255+H-nt]>C?0:Ls[255+g[b-4*T]-q]<=V&&Ls[255+q-H]<=V&&Ls[255+H-$]<=V&&Ls[255+Ct-gt]<=V&&Ls[255+gt-nt]<=V&&Ls[255+nt-J]<=V}function ps(g,b,T,C){var V=2*C+1;for(C=0;16>C;++C)Qa(g,b+C,T,V)&&Is(g,b+C,T)}function mr(g,b,T,C){var V=2*C+1;for(C=0;16>C;++C)Qa(g,b+C*T,1,V)&&Is(g,b+C*T,1)}function Ai(g,b,T,C){var V;for(V=3;0<V;--V)ps(g,b+=4*T,T,C)}function Nc(g,b,T,C){var V;for(V=3;0<V;--V)mr(g,b+=4,T,C)}function Ea(g,b,T,C,V,q,H,$){for(q=2*q+1;0<V--;){if(Ja(g,b,T,q,H))if(Ll(g,b,T,$))Is(g,b,T);else{var J=g,nt=b,gt=T,Ct=J[nt-2*gt],Nt=J[nt-gt],At=J[nt+0],qt=J[nt+gt],Ot=J[nt+2*gt],mt=27*(Vt=zh[1020+3*(At-Nt)+zh[1020+Ct-qt]])+63>>7,vt=18*Vt+63>>7,Vt=9*Vt+63>>7;J[nt-3*gt]=Yi[255+J[nt-3*gt]+Vt],J[nt-2*gt]=Yi[255+Ct+vt],J[nt-gt]=Yi[255+Nt+mt],J[nt+0]=Yi[255+At-mt],J[nt+gt]=Yi[255+qt-vt],J[nt+2*gt]=Yi[255+Ot-Vt]}b+=C}}function sr(g,b,T,C,V,q,H,$){for(q=2*q+1;0<V--;){if(Ja(g,b,T,q,H))if(Ll(g,b,T,$))Is(g,b,T);else{var J=g,nt=b,gt=T,Ct=J[nt-gt],Nt=J[nt+0],At=J[nt+gt],qt=Vl[112+((Ot=3*(Nt-Ct))+4>>3)],Ot=Vl[112+(Ot+3>>3)],mt=qt+1>>1;J[nt-2*gt]=Yi[255+J[nt-2*gt]+mt],J[nt-gt]=Yi[255+Ct+Ot],J[nt+0]=Yi[255+Nt-qt],J[nt+gt]=Yi[255+At-mt]}b+=C}}function xa(g,b,T,C,V,q){Ea(g,b,T,1,16,C,V,q)}function ta(g,b,T,C,V,q){Ea(g,b,1,T,16,C,V,q)}function Fo(g,b,T,C,V,q){var H;for(H=3;0<H;--H)sr(g,b+=4*T,T,1,16,C,V,q)}function Za(g,b,T,C,V,q){var H;for(H=3;0<H;--H)sr(g,b+=4,1,T,16,C,V,q)}function jo(g,b,T,C,V,q,H,$){Ea(g,b,V,1,8,q,H,$),Ea(T,C,V,1,8,q,H,$)}function Pl(g,b,T,C,V,q,H,$){Ea(g,b,1,V,8,q,H,$),Ea(T,C,1,V,8,q,H,$)}function to(g,b,T,C,V,q,H,$){sr(g,b+4*V,V,1,8,q,H,$),sr(T,C+4*V,V,1,8,q,H,$)}function Ia(g,b,T,C,V,q,H,$){sr(g,b+4,1,V,8,q,H,$),sr(T,C+4,1,V,8,q,H,$)}function eo(){this.ba=new Ci,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function no(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Na(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new at,this.yc=new D}function Rc(){this.xb=this.a=0,this.l=new Ys,this.ca=new Ci,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Na,this.ab=0,this.gc=o(4,no),this.Oc=0}function ea(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ra(g,b,T,C,V,q,H){for(g=g==null?0:g[b+0],b=0;b<H;++b)V[q+b]=g+T[C+b]&255,g=V[q+b]}function io(g,b,T,C,V,q,H){var $;if(g==null)Ra(null,null,T,C,V,q,H);else for($=0;$<H;++$)V[q+$]=g[b+$]+T[C+$]&255}function yr(g,b,T,C,V,q,H){if(g==null)Ra(null,null,T,C,V,q,H);else{var $,J=g[b+0],nt=J,gt=J;for($=0;$<H;++$)nt=gt+(J=g[b+$])-nt,gt=T[C+$]+(-256&nt?0>nt?0:255:nt)&255,nt=J,V[q+$]=gt}}function Bo(g,b,T,C){var V=b.width,q=b.o;if(t(g!=null&&b!=null),0>T||0>=C||T+C>q)return null;if(!g.Cc){if(g.ga==null){var H;if(g.ga=new ea,(H=g.ga==null)||(H=b.width*b.o,t(g.Gb.length==0),g.Gb=s(H),g.Uc=0,g.Gb==null?H=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,H=1),H=!H),!H){H=g.ga;var $=g.Fa,J=g.P,nt=g.qc,gt=g.mb,Ct=g.nb,Nt=J+1,At=nt-1,qt=H.l;if(t($!=null&&gt!=null&&b!=null),Ma[0]=null,Ma[1]=Ra,Ma[2]=io,Ma[3]=yr,H.ca=gt,H.tb=Ct,H.c=b.width,H.i=b.height,t(0<H.c&&0<H.i),1>=nt)b=0;else if(H.$a=$[J+0]>>0&3,H.Z=$[J+0]>>2&3,H.Lc=$[J+0]>>4&3,J=$[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)b=0;else if(qt.put=nr,qt.ac=ai,qt.bc=hs,qt.ma=H,qt.width=b.width,qt.height=b.height,qt.Da=b.Da,qt.v=b.v,qt.va=b.va,qt.j=b.j,qt.o=b.o,H.$a)t:{t(H.$a==1),b=qn();e:for(;;){if(b==null){b=0;break t}if(t(H!=null),H.mc=b,b.c=H.c,b.i=H.i,b.l=H.l,b.l.ma=H,b.l.width=H.c,b.l.height=H.i,b.a=0,ft(b.m,$,Nt,At),!bn(H.c,H.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Er(b.s)?(H.ic=1,$=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s($),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(H.ic=0,b=Gs(b,H.c)),!b))break e;b=1;break t}H.mc=null,b=0}else b=At>=H.c*H.i;H=!b}if(H)return null;g.ga.Lc!=1?g.Ga=0:C=q-T}t(g.ga!=null),t(T+C<=q);t:{if(b=($=g.ga).c,q=$.l.o,$.$a==0){if(Nt=g.rc,At=g.Vc,qt=g.Fa,J=g.P+1+T*b,nt=g.mb,gt=g.nb+T*b,t(J<=g.P+g.qc),$.Z!=0)for(t(Ma[$.Z]!=null),H=0;H<C;++H)Ma[$.Z](Nt,At,qt,J,nt,gt,b),Nt=nt,At=gt,gt+=b,J+=b;else for(H=0;H<C;++H)i(nt,gt,qt,J,b),Nt=nt,At=gt,gt+=b,J+=b;g.rc=Nt,g.Vc=At}else{if(t($.mc!=null),b=T+C,t((H=$.mc)!=null),t(b<=H.i),H.C>=b)b=1;else if($.ic||bt(),$.ic){$=H.V,Nt=H.Ba,At=H.c;var Ot=H.i,mt=(qt=1,J=H.$/At,nt=H.$%At,gt=H.m,Ct=H.s,H.$),vt=At*Ot,Vt=At*b,Ht=Ct.wc,Ut=mt<Vt?oi(Ct,nt,J):null;t(mt<=vt),t(b<=Ot),t(Er(Ct));e:for(;;){for(;!gt.h&&mt<Vt;){if(nt&Ht||(Ut=oi(Ct,nt,J)),t(Ut!=null),ct(gt),256>(Ot=Yn(Ut.G[0],Ut.H[0],gt)))$[Nt+mt]=Ot,++mt,++nt>=At&&(nt=0,++J<=b&&!(J%16)&&Li(H,J));else{if(!(280>Ot)){qt=0;break e}Ot=Nn(Ot-256,gt);var ce,ee=Yn(Ut.G[4],Ut.H[4],gt);if(ct(gt),!(mt>=(ee=Rn(At,ee=Nn(ee,gt)))&&vt-mt>=Ot)){qt=0;break e}for(ce=0;ce<Ot;++ce)$[Nt+mt+ce]=$[Nt+mt+ce-ee];for(mt+=Ot,nt+=Ot;nt>=At;)nt-=At,++J<=b&&!(J%16)&&Li(H,J);mt<Vt&&nt&Ht&&(Ut=oi(Ct,nt,J))}t(gt.h==Z(gt))}Li(H,J>b?b:J);break e}!qt||gt.h&&mt<vt?(qt=0,H.a=gt.h?5:3):H.$=mt,b=qt}else b=bi(H,H.V,H.Ba,H.c,H.i,b,Ws);if(!b){C=0;break t}}T+C>=q&&(g.Cc=1),C=1}if(!C)return null;if(g.Cc&&((C=g.ga)!=null&&(C.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*V}function S(g,b,T,C,V,q){for(;0<V--;){var H,$=g,J=b+(T?1:0),nt=g,gt=b+(T?0:3);for(H=0;H<C;++H){var Ct=nt[gt+4*H];Ct!=255&&(Ct*=32897,$[J+4*H+0]=$[J+4*H+0]*Ct>>23,$[J+4*H+1]=$[J+4*H+1]*Ct>>23,$[J+4*H+2]=$[J+4*H+2]*Ct>>23)}b+=q}}function B(g,b,T,C,V){for(;0<C--;){var q;for(q=0;q<T;++q){var H=g[b+2*q+0],$=15&(nt=g[b+2*q+1]),J=4369*$,nt=(240&nt|nt>>4)*J>>16;g[b+2*q+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,g[b+2*q+1]=240&nt|$}b+=V}}function rt(g,b,T,C,V,q,H,$){var J,nt,gt=255;for(nt=0;nt<V;++nt){for(J=0;J<C;++J){var Ct=g[b+J];q[H+4*J]=Ct,gt&=Ct}b+=T,H+=$}return gt!=255}function dt(g,b,T,C,V){var q;for(q=0;q<V;++q)T[C+q]=g[b+q]>>8}function bt(){gs=S,Ze=B,tn=rt,Gn=dt}function Ft(g,b,T){P[g]=function(C,V,q,H,$,J,nt,gt,Ct,Nt,At,qt,Ot,mt,vt,Vt,Ht){var Ut,ce=Ht-1>>1,ee=$[J+0]|nt[gt+0]<<16,be=Ct[Nt+0]|At[qt+0]<<16;t(C!=null);var re=3*ee+be+131074>>2;for(b(C[V+0],255&re,re>>16,Ot,mt),q!=null&&(re=3*be+ee+131074>>2,b(q[H+0],255&re,re>>16,vt,Vt)),Ut=1;Ut<=ce;++Ut){var gn=$[J+Ut]|nt[gt+Ut]<<16,Sn=Ct[Nt+Ut]|At[qt+Ut]<<16,Xe=ee+gn+be+Sn+524296,$e=Xe+2*(gn+be)>>3;re=$e+ee>>1,ee=(Xe=Xe+2*(ee+Sn)>>3)+gn>>1,b(C[V+2*Ut-1],255&re,re>>16,Ot,mt+(2*Ut-1)*T),b(C[V+2*Ut-0],255&ee,ee>>16,Ot,mt+(2*Ut-0)*T),q!=null&&(re=Xe+be>>1,ee=$e+Sn>>1,b(q[H+2*Ut-1],255&re,re>>16,vt,Vt+(2*Ut-1)*T),b(q[H+2*Ut+0],255&ee,ee>>16,vt,Vt+(2*Ut+0)*T)),ee=gn,be=Sn}1&Ht||(re=3*ee+be+131074>>2,b(C[V+Ht-1],255&re,re>>16,Ot,mt+(Ht-1)*T),q!=null&&(re=3*be+ee+131074>>2,b(q[H+Ht-1],255&re,re>>16,vt,Vt+(Ht-1)*T)))}}function Yt(){Ki[vr]=fo,Ki[Dc]=Oa,Ki[ka]=tl,Ki[Hu]=Gh,Ki[Bl]=Wh,Ki[oo]=Fc,Ki[qh]=$h,Ki[Gu]=Oa,Ki[Jo]=Gh,Ki[lo]=Wh,Ki[Mc]=Fc}function ie(g){return g&-16384?0>g?0:255:g>>b1}function m(g,b){return ie((19077*g>>8)+(26149*b>>8)-14234)}function E(g,b,T){return ie((19077*g>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function k(g,b){return ie((19077*g>>8)+(33050*b>>8)-17685)}function Y(g,b,T,C,V){C[V+0]=m(g,T),C[V+1]=E(g,b,T),C[V+2]=k(g,b)}function _t(g,b,T,C,V){C[V+0]=k(g,b),C[V+1]=E(g,b,T),C[V+2]=m(g,T)}function Lt(g,b,T,C,V){var q=E(g,b,T);b=q<<3&224|k(g,b)>>3,C[V+0]=248&m(g,T)|q>>5,C[V+1]=b}function Kt(g,b,T,C,V){var q=240&k(g,b)|15;C[V+0]=240&m(g,T)|E(g,b,T)>>4,C[V+1]=q}function Ne(g,b,T,C,V){C[V+0]=255,Y(g,b,T,C,V+1)}function rn(g,b,T,C,V){_t(g,b,T,C,V),C[V+3]=255}function Ve(g,b,T,C,V){Y(g,b,T,C,V),C[V+3]=255}function An(g,b){return 0>g?0:g>b?b:g}function Cn(g,b,T){P[g]=function(C,V,q,H,$,J,nt,gt,Ct){for(var Nt=gt+(-2&Ct)*T;gt!=Nt;)b(C[V+0],q[H+0],$[J+0],nt,gt),b(C[V+1],q[H+0],$[J+0],nt,gt+T),V+=2,++H,++J,gt+=2*T;1&Ct&&b(C[V+0],q[H+0],$[J+0],nt,gt)}}function Ns(g,b,T){return T==0?g==0?b==0?6:5:b==0?4:0:T}function fi(g,b,T,C,V){switch(g>>>30){case 3:ia(b,T,C,V,0);break;case 2:li(b,T,C,V);break;case 1:Si(b,T,C,V)}}function zr(g,b){var T,C,V=b.M,q=b.Nb,H=g.oc,$=g.pc+40,J=g.oc,nt=g.pc+584,gt=g.oc,Ct=g.pc+600;for(T=0;16>T;++T)H[$+32*T-1]=129;for(T=0;8>T;++T)J[nt+32*T-1]=129,gt[Ct+32*T-1]=129;for(0<V?H[$-1-32]=J[nt-1-32]=gt[Ct-1-32]=129:(r(H,$-32-1,127,21),r(J,nt-32-1,127,9),r(gt,Ct-32-1,127,9)),C=0;C<g.za;++C){var Nt=b.ya[b.aa+C];if(0<C){for(T=-1;16>T;++T)i(H,$+32*T-4,H,$+32*T+12,4);for(T=-1;8>T;++T)i(J,nt+32*T-4,J,nt+32*T+4,4),i(gt,Ct+32*T-4,gt,Ct+32*T+4,4)}var At=g.Gd,qt=g.Hd+C,Ot=Nt.ad,mt=Nt.Hc;if(0<V&&(i(H,$-32,At[qt].y,0,16),i(J,nt-32,At[qt].f,0,8),i(gt,Ct-32,At[qt].ea,0,8)),Nt.Za){var vt=H,Vt=$-32+16;for(0<V&&(C>=g.za-1?r(vt,Vt,At[qt].y[15],4):i(vt,Vt,At[qt+1].y,0,4)),T=0;4>T;T++)vt[Vt+128+T]=vt[Vt+256+T]=vt[Vt+384+T]=vt[Vt+0+T];for(T=0;16>T;++T,mt<<=2)vt=H,Vt=$+Hl[T],Nr[Nt.Ob[T]](vt,Vt),fi(mt,Ot,16*+T,vt,Vt)}else if(vt=Ns(C,V,Nt.Ob[0]),ho[vt](H,$),mt!=0)for(T=0;16>T;++T,mt<<=2)fi(mt,Ot,16*+T,H,$+Hl[T]);for(T=Nt.Gc,vt=Ns(C,V,Nt.Dd),ys[vt](J,nt),ys[vt](gt,Ct),mt=Ot,vt=J,Vt=nt,255&(Nt=T>>0)&&(170&Nt?ra(mt,256,vt,Vt):Gr(mt,256,vt,Vt)),Nt=gt,mt=Ct,255&(T>>=8)&&(170&T?ra(Ot,320,Nt,mt):Gr(Ot,320,Nt,mt)),V<g.Ub-1&&(i(At[qt].y,0,H,$+480,16),i(At[qt].f,0,J,nt+224,8),i(At[qt].ea,0,gt,Ct+224,8)),T=8*q*g.B,At=g.sa,qt=g.ta+16*C+16*q*g.R,Ot=g.qa,Nt=g.ra+8*C+T,mt=g.Ha,vt=g.Ia+8*C+T,T=0;16>T;++T)i(At,qt+T*g.R,H,$+32*T,16);for(T=0;8>T;++T)i(Ot,Nt+T*g.B,J,nt+32*T,8),i(mt,vt+T*g.B,gt,Ct+32*T,8)}}function Ca(g,b,T,C,V,q,H,$,J){var nt=[0],gt=[0],Ct=0,Nt=J!=null?J.kd:0,At=J??new Vo;if(g==null||12>T)return 7;At.data=g,At.w=b,At.ha=T,b=[b],T=[T],At.gb=[At.gb];t:{var qt=b,Ot=T,mt=At.gb;if(t(g!=null),t(Ot!=null),t(mt!=null),mt[0]=0,12<=Ot[0]&&!e(g,qt[0],"RIFF")){if(e(g,qt[0]+8,"WEBP")){mt=3;break t}var vt=te(g,qt[0]+4);if(12>vt||4294967286<vt){mt=3;break t}if(Nt&&vt>Ot[0]-8){mt=7;break t}mt[0]=vt,qt[0]+=12,Ot[0]-=12}mt=0}if(mt!=0)return mt;for(vt=0<At.gb[0],T=T[0];;){t:{var Vt=g;Ot=b,mt=T;var Ht=nt,Ut=gt,ce=qt=[0];if((re=Ct=[Ct])[0]=0,8>mt[0])mt=7;else{if(!e(Vt,Ot[0],"VP8X")){if(te(Vt,Ot[0]+4)!=10){mt=3;break t}if(18>mt[0]){mt=7;break t}var ee=te(Vt,Ot[0]+8),be=1+ne(Vt,Ot[0]+12);if(2147483648<=be*(Vt=1+ne(Vt,Ot[0]+15))){mt=3;break t}ce!=null&&(ce[0]=ee),Ht!=null&&(Ht[0]=be),Ut!=null&&(Ut[0]=Vt),Ot[0]+=18,mt[0]-=18,re[0]=1}mt=0}}if(Ct=Ct[0],qt=qt[0],mt!=0)return mt;if(Ot=!!(2&qt),!vt&&Ct)return 3;if(q!=null&&(q[0]=!!(16&qt)),H!=null&&(H[0]=Ot),$!=null&&($[0]=0),H=nt[0],qt=gt[0],Ct&&Ot&&J==null){mt=0;break}if(4>T){mt=7;break}if(vt&&Ct||!vt&&!Ct&&!e(g,b[0],"ALPH")){T=[T],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{ee=g,mt=b,vt=T;var re=At.gb;Ht=At.na,Ut=At.P,ce=At.Sa,be=22,t(ee!=null),t(vt!=null),Vt=mt[0];var gn=vt[0];for(t(Ht!=null),t(ce!=null),Ht[0]=null,Ut[0]=null,ce[0]=0;;){if(mt[0]=Vt,vt[0]=gn,8>gn){mt=7;break t}var Sn=te(ee,Vt+4);if(4294967286<Sn){mt=3;break t}var Xe=8+Sn+1&-2;if(be+=Xe,0<re&&be>re){mt=3;break t}if(!e(ee,Vt,"VP8 ")||!e(ee,Vt,"VP8L")){mt=0;break t}if(gn[0]<Xe){mt=7;break t}e(ee,Vt,"ALPH")||(Ht[0]=ee,Ut[0]=Vt+8,ce[0]=Sn),Vt+=Xe,gn-=Xe}}if(T=T[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],mt!=0)break}T=[T],At.Ja=[At.Ja],At.xa=[At.xa];t:if(re=g,mt=b,vt=T,Ht=At.gb[0],Ut=At.Ja,ce=At.xa,ee=mt[0],Vt=!e(re,ee,"VP8 "),be=!e(re,ee,"VP8L"),t(re!=null),t(vt!=null),t(Ut!=null),t(ce!=null),8>vt[0])mt=7;else{if(Vt||be){if(re=te(re,ee+4),12<=Ht&&re>Ht-12){mt=3;break t}if(Nt&&re>vt[0]-8){mt=7;break t}Ut[0]=re,mt[0]+=8,vt[0]-=8,ce[0]=be}else ce[0]=5<=vt[0]&&re[ee+0]==47&&!(re[ee+4]>>5),Ut[0]=vt[0];mt=0}if(T=T[0],At.Ja=At.Ja[0],At.xa=At.xa[0],b=b[0],mt!=0)break;if(4294967286<At.Ja)return 3;if($==null||Ot||($[0]=At.xa?2:1),H=[H],qt=[qt],At.xa){if(5>T){mt=7;break}$=H,Nt=qt,Ot=q,g==null||5>T?g=0:5<=T&&g[b+0]==47&&!(g[b+4]>>5)?(vt=[0],re=[0],Ht=[0],ft(Ut=new F,g,b,T),le(Ut,vt,re,Ht)?($!=null&&($[0]=vt[0]),Nt!=null&&(Nt[0]=re[0]),Ot!=null&&(Ot[0]=Ht[0]),g=1):g=0):g=0}else{if(10>T){mt=7;break}$=qt,g==null||10>T||!Wi(g,b+3,T-3)?g=0:(Nt=g[b+0]|g[b+1]<<8|g[b+2]<<16,Ot=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&Nt||3<(Nt>>1&7)||!(Nt>>4&1)||Nt>>5>=At.Ja||!Ot||!g?g=0:(H&&(H[0]=Ot),$&&($[0]=g),g=1))}if(!g||(H=H[0],qt=qt[0],Ct&&(nt[0]!=H||gt[0]!=qt)))return 3;J!=null&&(J[0]=At,J.offset=b-J.w,t(4294967286>b-J.w),t(J.offset==J.ha-T));break}return mt==0||mt==7&&Ct&&J==null?(q!=null&&(q[0]|=At.na!=null&&0<At.na.length),C!=null&&(C[0]=H),V!=null&&(V[0]=qt),0):mt}function Uo(g,b,T){var C=b.width,V=b.height,q=0,H=0,$=C,J=V;if(b.Da=g!=null&&0<g.Da,b.Da&&($=g.cd,J=g.bd,q=g.v,H=g.j,11>T||(q&=-2,H&=-2),0>q||0>H||0>=$||0>=J||q+$>C||H+J>V))return 0;if(b.v=q,b.j=H,b.va=q+$,b.o=H+J,b.U=$,b.T=J,b.da=g!=null&&0<g.da,b.da){if(!Se($,J,T=[g.ib],q=[g.hb]))return 0;b.ib=T[0],b.hb=q[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*V/4,b.Kb=0),1}function Cc(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function kl(g,b,T,C){if(C==null||0>=g||0>=b)return 2;if(T!=null){if(T.Da){var V=T.cd,q=T.bd,H=-2&T.v,$=-2&T.j;if(0>H||0>$||0>=V||0>=q||H+V>g||$+q>b)return 2;g=V,b=q}if(T.da){if(!Se(g,b,V=[T.ib],q=[T.hb]))return 2;g=V[0],b=q[0]}}C.width=g,C.height=b;t:{var J=C.width,nt=C.height;if(g=C.S,0>=J||0>=nt||!(g>=vr&&13>g))g=2;else{if(0>=C.Rd&&C.sd==null){H=q=V=b=0;var gt=($=J*pg[g])*nt;if(11>g||(q=(nt+1)/2*(b=(J+1)/2),g==12&&(H=(V=J)*nt)),(nt=s(gt+2*q+H))==null){g=1;break t}C.sd=nt,11>g?((J=C.f.RGBA).eb=nt,J.fb=0,J.A=$,J.size=gt):((J=C.f.kb).y=nt,J.O=0,J.fa=$,J.Fd=gt,J.f=nt,J.N=0+gt,J.Ab=b,J.Cd=q,J.ea=nt,J.W=0+gt+q,J.Db=b,J.Ed=q,g==12&&(J.F=nt,J.J=0+gt+2*q),J.Tc=H,J.lb=V)}if(b=1,V=C.S,q=C.width,H=C.height,V>=vr&&13>V)if(11>V)g=C.f.RGBA,b&=($=Math.abs(g.A))*(H-1)+q<=g.size,b&=$>=q*pg[V],b&=g.eb!=null;else{g=C.f.kb,$=(q+1)/2,gt=(H+1)/2,J=Math.abs(g.fa),nt=Math.abs(g.Ab);var Ct=Math.abs(g.Db),Nt=Math.abs(g.lb),At=Nt*(H-1)+q;b&=J*(H-1)+q<=g.Fd,b&=nt*(gt-1)+$<=g.Cd,b=(b&=Ct*(gt-1)+$<=g.Ed)&J>=q&nt>=$&Ct>=$,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,V==12&&(b&=Nt>=q,b&=At<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||T!=null&&T.fd&&(g=Cc(C)),g}var Di=64,zo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Dl=24,Ml=32,Lc=8,qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,b,T){return b[T+0]},P.Predictor3=function(g,b,T){return b[T+1]},P.Predictor4=function(g,b,T){return b[T-1]},P.Predictor5=function(g,b,T){return ae(ae(g,b[T+1]),b[T+0])},P.Predictor6=function(g,b,T){return ae(g,b[T-1])},P.Predictor7=function(g,b,T){return ae(g,b[T+0])},P.Predictor8=function(g,b,T){return ae(b[T-1],b[T+0])},P.Predictor9=function(g,b,T){return ae(b[T+0],b[T+1])},P.Predictor10=function(g,b,T){return ae(ae(g,b[T-1]),ae(b[T+0],b[T+1]))},P.Predictor11=function(g,b,T){var C=b[T+0];return 0>=je(C>>24&255,g>>24&255,(b=b[T-1])>>24&255)+je(C>>16&255,g>>16&255,b>>16&255)+je(C>>8&255,g>>8&255,b>>8&255)+je(255&C,255&g,255&b)?C:g},P.Predictor12=function(g,b,T){var C=b[T+0];return(ve((g>>24&255)+(C>>24&255)-((b=b[T-1])>>24&255))<<24|ve((g>>16&255)+(C>>16&255)-(b>>16&255))<<16|ve((g>>8&255)+(C>>8&255)-(b>>8&255))<<8|ve((255&g)+(255&C)-(255&b)))>>>0},P.Predictor13=function(g,b,T){var C=b[T-1];return(Ce((g=ae(g,b[T+0]))>>24&255,C>>24&255)<<24|Ce(g>>16&255,C>>16&255)<<16|Ce(g>>8&255,C>>8&255)<<8|Ce(g>>0&255,C>>0&255))>>>0};var od=P.PredictorAdd0;P.PredictorAdd1=_e,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var zu=P.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Uh,Rs=P.ColorIndexInverseTransform,$i=P.MapARGB,qo=P.VP8LColorIndexInverseTransformAlpha,qu=P.MapAlpha,ro=P.VP8LPredictorsAdd=[];ro.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ho,Ir,ar,Go,Hr,na,La,ia,li,ra,Si,Gr,Ol,Pa,Pc,Wo,$o,Yo,Fl,kc,Ko,so,jl,ci,gs,Ze,tn,Gn,di=s(511),Cs=s(2041),Xo=s(225),Qo=s(767),ao=0,zh=Cs,Vl=Xo,Yi=Qo,Ls=di,vr=0,Dc=1,ka=2,Hu=3,Bl=4,oo=5,qh=6,Gu=7,Jo=8,lo=9,Mc=10,Hh=[2,3,7],Ps=[3,3,11],ms=[280,256,256,256,40],Ul=[0,1,1,1,0],co=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cg=8,Wu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$u=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mi=null,ui=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_n=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Da=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ld=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ql=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ug=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ho=[],Nr=[],ys=[],hg=1,Oc=2,Ma=[],Ki=[];Ft("UpsampleRgbLinePair",Y,3),Ft("UpsampleBgrLinePair",_t,3),Ft("UpsampleRgbaLinePair",Ve,4),Ft("UpsampleBgraLinePair",rn,4),Ft("UpsampleArgbLinePair",Ne,4),Ft("UpsampleRgba4444LinePair",Kt,2),Ft("UpsampleRgb565LinePair",Lt,2);var fo=P.UpsampleRgbLinePair,tl=P.UpsampleBgrLinePair,Oa=P.UpsampleRgbaLinePair,Gh=P.UpsampleBgraLinePair,Wh=P.UpsampleArgbLinePair,Fc=P.UpsampleRgba4444LinePair,$h=P.UpsampleRgb565LinePair,Fa=16,Oi=1<<Fa-1,el=-227,Yh=482,b1=6,fg=0,w1=s(256),Fi=s(256),cd=s(256),Yu=s(256),Ku=s(Yh-el),ud=s(Yh-el);Cn("YuvToRgbRow",Y,3),Cn("YuvToBgrRow",_t,3),Cn("YuvToRgbaRow",Ve,4),Cn("YuvToBgraRow",rn,4),Cn("YuvToArgbRow",Ne,4),Cn("YuvToRgba4444Row",Kt,2),Cn("YuvToRgb565Row",Lt,2);var Hl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],po=[0,2,8],A1=[8,7,6,4,4,2,2,2,1,1,1,1],dg=1;this.WebPDecodeRGBA=function(g,b,T,C,V){var q=Dc,H=new eo,$=new Ci;H.ba=$,$.S=q,$.width=[$.width],$.height=[$.height];var J=$.width,nt=$.height,gt=new er;if(gt==null||g==null)var Ct=2;else t(gt!=null),Ct=Ca(g,b,T,gt.width,gt.height,gt.Pd,gt.Qd,gt.format,null);if(Ct!=0?J=0:(J!=null&&(J[0]=gt.width[0]),nt!=null&&(nt[0]=gt.height[0]),J=1),J){$.width=$.width[0],$.height=$.height[0],C!=null&&(C[0]=$.width),V!=null&&(V[0]=$.height);t:{if(C=new Ys,(V=new Vo).data=g,V.w=b,V.ha=T,V.kd=1,b=[0],t(V!=null),((g=Ca(V.data,V.w,V.ha,null,null,null,b,null,V))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(H!=null),C.data=V.data,C.w=V.w+V.offset,C.ha=V.ha-V.offset,C.put=nr,C.ac=ai,C.bc=hs,C.ma=H,V.xa){if((g=qn())==null){H=1;break t}if(function(Nt,At){var qt=[0],Ot=[0],mt=[0];e:for(;;){if(Nt==null)return 0;if(At==null)return Nt.a=2,0;if(Nt.l=At,Nt.a=0,ft(Nt.m,At.data,At.w,At.ha),!le(Nt.m,qt,Ot,mt)){Nt.a=3;break e}if(Nt.xb=Oc,At.width=qt[0],At.height=Ot[0],!bn(qt[0],Ot[0],1,Nt,null))break e;return 1}return t(Nt.a!=0),0}(g,C)){if(C=(b=kl(C.width,C.height,H.Oa,H.ba))==0){e:{C=g;n:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((T=C.l)!=null),t((V=T.ma)!=null),C.xb!=0){if(C.ca=V.ba,C.tb=V.tb,t(C.ca!=null),!Uo(V.Oa,T,Hu)){C.a=2;break n}if(!Gs(C,T.width)||T.da)break n;if((T.da||cn(C.ca.S))&&bt(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&bt()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!we(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!bi(C,C.V,C.Ba,C.c,C.i,T.o,Ya))break n;V.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(b=g.a)}else b=g.a}else{if((g=new xl)==null){H=1;break t}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Do(g,C)){if((b=kl(C.width,C.height,H.Oa,H.ba))==0){if(g.Aa=0,T=H.Oa,t((V=g)!=null),T!=null){if(0<(J=0>(J=T.Md)?0:100<J?255:255*J/100)){for(nt=gt=0;4>nt;++nt)12>(Ct=V.pb[nt]).lc&&(Ct.ia=J*A1[0>Ct.lc?0:Ct.lc]>>3),gt|=Ct.ia;gt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Il(g,C)||(b=g.a)}}else b=g.a}b==0&&H.Oa!=null&&H.Oa.fd&&(b=Cc(H.ba))}H=b}q=H!=0?null:11>q?$.f.RGBA.eb:$.f.kb.y}else q=null;return q};var pg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,U){for(var K="",L=0;L<4;L++)K+=String.fromCharCode(P[U++]);return K}function p(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16)>>>0}function y(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16|P[U+3]<<24)>>>0}new u;var w=[0],_=[0],x=[],I=new u,R=n,N=function(P,U){var K={},L=0,D=!1,j=0,at=0;if(K.frames=[],!function(W,Z,st,ct){for(var It=0;It<ct;It++)if(W[Z+It]!=st.charCodeAt(It))return!0;return!1}(P,U,"RIFF",4)){for(y(P,U+=4),U+=8;U<P.length;){var wt=f(P,U),et=y(P,U+=4);U+=4;var ht=et+(1&et);switch(wt){case"VP8 ":case"VP8L":K.frames[L]===void 0&&(K.frames[L]={}),(Q=K.frames[L]).src_off=D?at:U-8,Q.src_size=j+et+8,L++,D&&(D=!1,j=0,at=0);break;case"VP8X":(Q=K.header={}).feature_flags=P[U];var ft=U+4;Q.canvas_width=1+p(P,ft),ft+=3,Q.canvas_height=1+p(P,ft),ft+=3;break;case"ALPH":D=!0,j=ht+8,at=U-8;break;case"ANIM":(Q=K.header).bgcolor=y(P,U),ft=U+4,Q.loop_count=(St=P)[(F=ft)+0]<<0|St[F+1]<<8,ft+=2;break;case"ANMF":var Et,Q;(Q=K.frames[L]={}).offset_x=2*p(P,U),U+=3,Q.offset_y=2*p(P,U),U+=3,Q.width=1+p(P,U),U+=3,Q.height=1+p(P,U),U+=3,Q.duration=p(P,U),U+=3,Et=P[U++],Q.dispose=1&Et,Q.blend=Et>>1&1}wt!="ANMF"&&(U+=ht)}var St,F;return K}}(R,0);N.response=R,N.rgbaoutput=!0,N.dataurl=!1;var M=N.header?N.header:null,G=N.frames?N.frames:null;if(M){M.loop_counter=M.loop_count,w=[M.canvas_height],_=[M.canvas_width];for(var it=0;it<G.length&&G[it].blend!=0;it++);}var tt=G[0],pt=I.WebPDecodeRGBA(R,tt.src_off,tt.src_size,_,w);tt.rgba=pt,tt.imgwidth=_[0],tt.imgheight=w[0];for(var z=0;z<_[0]*w[0]*4;z++)x[z]=pt[z];return this.width=_,this.height=w,this.data=x,this}(function(n){var t=function(){return typeof dv=="function"},e=function(w,_,x,I){var R=4,N=o;switch(I){case n.image_compression.FAST:R=1,N=s;break;case n.image_compression.MEDIUM:R=6,N=c;break;case n.image_compression.SLOW:R=9,N=u}w=i(w,_,x,N);var M=dv(w,{level:R});return n.__addimage__.arrayBufferToBinaryString(M)},i=function(w,_,x,I){for(var R,N,M,G=w.length/_,it=new Uint8Array(w.length+G),tt=p(),pt=0;pt<G;pt+=1){if(M=pt*_,R=w.subarray(M,M+_),I)it.set(I(R,x,N),M+pt);else{for(var z,P=tt.length,U=[];z<P;z+=1)U[z]=tt[z](R,x,N);var K=y(U.concat());it.set(U[K],M+pt)}N=R}return it},r=function(w){var _=Array.apply([],w);return _.unshift(0),_},s=function(w,_){var x,I=[],R=w.length;I[0]=1;for(var N=0;N<R;N+=1)x=w[N-_]||0,I[N+1]=w[N]-x+256&255;return I},o=function(w,_,x){var I,R=[],N=w.length;R[0]=2;for(var M=0;M<N;M+=1)I=x&&x[M]||0,R[M+1]=w[M]-I+256&255;return R},c=function(w,_,x){var I,R,N=[],M=w.length;N[0]=3;for(var G=0;G<M;G+=1)I=w[G-_]||0,R=x&&x[G]||0,N[G+1]=w[G]+256-(I+R>>>1)&255;return N},u=function(w,_,x){var I,R,N,M,G=[],it=w.length;G[0]=4;for(var tt=0;tt<it;tt+=1)I=w[tt-_]||0,R=x&&x[tt]||0,N=x&&x[tt-_]||0,M=f(I,R,N),G[tt+1]=w[tt]-M+256&255;return G},f=function(w,_,x){if(w===_&&_===x)return w;var I=Math.abs(_-x),R=Math.abs(w-x),N=Math.abs(w+_-x-x);return I<=R&&I<=N?w:R<=N?_:x},p=function(){return[r,s,o,c,u]},y=function(w){var _=w.map(function(x){return x.reduce(function(I,R){return I+Math.abs(R)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(w,_,x,I){var R,N,M,G,it,tt,pt,z,P,U,K,L,D,j,at,wt=this.decode.FLATE_DECODE,et="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(M=new Uj(w)).imgData,N=M.bits,R=M.colorSpace,it=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){P=(z=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,K=new Uint8Array(P*M.colors),U=new Uint8Array(P);var ht,ft=M.pixelBitlength-M.bits;for(j=0,at=0;j<P;j++){for(D=z[j],ht=0;ht<ft;)K[at++]=D>>>ht&255,ht+=M.bits;U[j]=D>>>ht&255}}if(M.bits===16){P=(z=new Uint32Array(M.decodePixels().buffer)).length,K=new Uint8Array(P*(32/M.pixelBitlength)*M.colors),U=new Uint8Array(P*(32/M.pixelBitlength)),L=M.colors>1,j=0,at=0;for(var Et=0;j<P;)D=z[j++],K[at++]=D>>>0&255,L&&(K[at++]=D>>>16&255,D=z[j++],K[at++]=D>>>0&255),U[Et++]=D>>>16&255;N=8}I!==n.image_compression.NONE&&t()?(w=e(K,M.width*M.colors,M.colors,I),pt=e(U,M.width,1,I)):(w=K,pt=U,wt=void 0)}if(M.colorType===3&&(R=this.color_spaces.INDEXED,tt=M.palette,M.transparency.indexed)){var Q=M.transparency.indexed,St=0;for(j=0,P=Q.length;j<P;++j)St+=Q[j];if((St/=255)===P-1&&Q.indexOf(0)!==-1)G=[Q.indexOf(0)];else if(St!==P){for(z=M.decodePixels(),U=new Uint8Array(z.length),j=0,P=z.length;j<P;j++)U[j]=Q[z[j]];pt=e(U,M.width,1)}}var F=function(W){var Z;switch(W){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(I);return wt===this.decode.FLATE_DECODE&&(et="/Predictor "+F+" "),et+="/Colors "+it+" /BitsPerComponent "+N+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(pt&&this.__addimage__.isArrayBuffer(pt)||this.__addimage__.isArrayBufferView(pt))&&(pt=this.__addimage__.arrayBufferToBinaryString(pt)),{alias:x,data:w,index:_,filter:wt,decodeParameters:et,transparency:G,palette:tt,sMask:pt,predictor:F,width:M.width,height:M.height,bitsPerComponent:N,colorSpace:R}}}})(Pe.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new zj(t),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},p=new l2(100).encode(f,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A}(Pe.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Xn.log("bit decode error:"+e)}},So.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,c=s>>4,u=15&s,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},So.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,f=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=u,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=f}this.pos+=n}},So.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,f=(o>>11)/t*255|0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},So.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=o}},So.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new So(t,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new l2(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(Pe.API),nT.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new nT(t),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new l2(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(Pe.API),Pe.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,f=0;f<r;f+=4){var p=i[f],y=i[f+1],w=i[f+2],_=i[f+3];s[c++]=p,s[c++]=y,s[c++]=w,o[u++]=_}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Pe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vf=Pe.API,_m=vf.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,y=t.doKerning!==!1,w=0,_=n.length,x=0,I=c[0]||u,R=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?R.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(w=y&&Bn(f[i])==="object"&&!isNaN(parseInt(f[i][x],10))?f[i][x]/p:0,R.push((c[i]||I)/u+w)),x=i;return R},JS=vf.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return vf.processArabic&&(n=vf.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:_m.apply(this,arguments).reduce(function(s,o){return s+o},0)},ZS=function(n,t,e,i){for(var r=[],s=0,o=n.length,c=0;s!==o&&c+t[s]<e;)c+=t[s],s++;r.push(n.slice(0,s));var u=s;for(c=0;s!==o;)c+t[s]>i&&(r.push(n.slice(u,s)),c=0,u=s),c+=t[s],s++;return u!==s&&r.push(n.slice(u,s)),r},tT=function(n,t,e){e||(e={});var i,r,s,o,c,u,f,p=[],y=[p],w=e.textIndent||0,_=0,x=0,I=n.split(" "),R=_m.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?I[0].length+2:e.lineIndent||0){var N=Array(u).join(" "),M=[];I.map(function(it){(it=it.split(/\s*\n/)).length>1?M=M.concat(it.map(function(tt,pt){return(pt&&tt.length?`
`:"")+tt})):M.push(it[0])}),I=M,u=JS.apply(this,[N,e])}for(s=0,o=I.length;s<o;s++){var G=0;if(i=I[s],u&&i[0]==`
`&&(i=i.substr(1),G=1),w+_+(x=(r=_m.apply(this,[i,e])).reduce(function(it,tt){return it+tt},0))>t||G){if(x>t){for(c=ZS.apply(this,[i,r,t-(w+_),t]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);x=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(it,tt){return it+tt},0)}else p=[i];y.push(p),w=x+u,_=R}else p.push(i),w+=_+x,_=R}return f=u?function(it,tt){return(tt?N:"")+it.join(" ")}:function(it){return it.join(" ")},y.map(f)},vf.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var c,u,f=[];for(c=0,u=i.length;c<u;c++)f=f.concat(tT.apply(this,[i[c],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var w,_,x,I,R=["{"];for(var N in y){if(w=y[N],isNaN(parseInt(N,10))?_="'"+N+"'":(N=parseInt(N,10),_=(_=s(N).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof w=="number")w<0?(x=s(w).slice(3),I="-"):(x=s(w).slice(2),I=""),x=I+x.slice(0,-1)+i[x.slice(-1)];else{if(Bn(w)!=="object")throw new Error("Don't know what to do with value type "+Bn(w)+".");x=o(w)}R.push(_+x)}return R.push("}"),R.join("")},c=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,_,x,I,R={},N=1,M=R,G=[],it="",tt="",pt=y.length-1,z=1;z<pt;z+=1)(I=y[z])=="'"?w?(x=w.join(""),w=void 0):w=[]:w?w.push(I):I=="{"?(G.push([M,x]),M={},x=void 0):I=="}"?((_=G.pop())[0][_[1]]=M,x=void 0,M=_[0]):I=="-"?N=-1:x===void 0?e.hasOwnProperty(I)?(it+=e[I],x=parseInt(it,16)*N,N=1,it=""):it+=I:e.hasOwnProperty(I)?(tt+=e[I],M[x]=parseInt(tt,16)*N,N=1,x=void 0,tt=""):tt+=I;return R},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var w=y.font,_=p.Unicode[w.postScriptName];_&&(w.metadata.Unicode={},w.metadata.Unicode.widths=_.widths,w.metadata.Unicode.kerning=_.kerning);var x=f.Unicode[w.postScriptName];x&&(w.metadata.Unicode.encoding=x,w.encoding=x.codePages[0])}])}(Pe.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Ap(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Pe),function(n){function t(){return(De.canvg?Promise.resolve(De.canvg):lv(()=>import("./index.es-CMee_4nF.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Pe.API.addSvgAsImage=function(e,i,r,s,o,c,u,f){if(isNaN(i)||isNaN(r))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return t().then(function(x){return x.fromString(y,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(w)}).then(function(){_.addImage(p.toDataURL("image/jpeg",1),i,r,s,o,u,f)})}}(),Pe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Pe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,p=0,y=0;function w(x,I){var R,N=!1;for(R=0;R<x.length;R+=1)x[R]===I&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=c.length;for(y=0;y<_;y+=1)e[c[y]].value=e[c[y]].defaultValue,e[c[y]].explicitSet=!1}if(Bn(n)==="object"){for(r in n)if(s=n[r],w(c,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&w(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(i=!1);i===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}e[r].value="["+u.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,I=[];for(x in e)e[x].explicitSet===!0&&(e[x].type==="name"?I.push("/"+x+" /"+e[x].value):I.push("/"+x+" "+e[x].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Pe.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],y=0,w=s.length;y<w;++y){if(c=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(y),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},i=function(s){var o,c,u,f,p,y,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,w=(c=Object.keys(s).sort(function(_,x){return _-x})).length;y<w;y++)o=c[y],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",x=0;x<w.length;x++)_+=String.fromCharCode(w[x]);var I=f();p({data:_,addLength1:!0,objectId:I}),u("endobj");var R=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:R}),u("endobj");var N=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+xf(c.fontName)),u("/FontFile2 "+I+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var M=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+xf(c.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+n.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+R+" 0 R"),u("/BaseFont /"+xf(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+M+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",_=0;_<y.length;_++)w+=String.fromCharCode(y[_]);var x=f();p({data:w,addLength1:!0,objectId:x}),u("endobj");var I=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var R=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+xf(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var N=0;N<c.metadata.hmtx.widths.length;N++)c.metadata.hmtx.widths[N]=parseInt(c.metadata.hmtx.widths[N]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+xf(c.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,c=s.text||"",u=s.x,f=s.y,p=s.options||{},y=s.mutex||{},w=y.pdfEscape,_=y.activeFontKey,x=y.fonts,I=_,R="",N=0,M="",G=x[I].encoding;if(x[I].encoding!=="Identity-H")return{text:c,x:u,y:f,options:p,mutex:y};for(M=c,I=_,Array.isArray(c)&&(M=c[0]),N=0;N<M.length;N+=1)x[I].metadata.hasOwnProperty("cmap")&&(o=x[I].metadata.cmap.unicode.codeMap[M[N].charCodeAt(0)]),o||M[N].charCodeAt(0)<256&&x[I].metadata.hasOwnProperty("Unicode")?R+=M[N]:R+="";var it="";return parseInt(I.slice(1))<14||G==="WinAnsiEncoding"?it=w(R,I).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(it=e(R,x[I])),y.isHex=!0,{text:it,x:u,y:f,options:p,mutex:y}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([r(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(r(Object.assign({},u,{text:o[f]})).text);s.text=c}else s.text=r(Object.assign({},u,{text:o})).text}])}(Pe),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Pe.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,c,u,f,p,y=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,G=0;this.__bidiEngine__={};var it=function(L){var D=L.charCodeAt(),j=D>>8,at=I[j];return at!==void 0?y[256*at+(255&D)]:j===252||j===253?"AL":N.test(j)?"L":j===8?"R":"N"},tt=function(L){for(var D,j=0;j<L.length;j++){if((D=it(L.charAt(j)))==="L")return!1;if(D==="R")return!0}return!1},pt=function(L,D,j,at){var wt,et,ht,ft,Et=D[at];switch(Et){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(Et="AN");break;case"AL":M=!0,Et="R";break;case"WS":Et="N";break;case"CS":at<1||at+1>=D.length||(wt=j[at-1])!=="EN"&&wt!=="AN"||(et=D[at+1])!=="EN"&&et!=="AN"?Et="N":M&&(et="AN"),Et=et===wt?et:"N";break;case"ES":Et=(wt=at>0?j[at-1]:"B")==="EN"&&at+1<D.length&&D[at+1]==="EN"?"EN":"N";break;case"ET":if(at>0&&j[at-1]==="EN"){Et="EN";break}if(M){Et="N";break}for(ht=at+1,ft=D.length;ht<ft&&D[ht]==="ET";)ht++;Et=ht<ft&&D[ht]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ft=D.length,ht=at+1;ht<ft&&D[ht]==="NSM";)ht++;if(ht<ft){var Q=L[at],St=Q>=1425&&Q<=2303||Q===64286;if(wt=D[ht],St&&(wt==="R"||wt==="AL")){Et="R";break}}}Et=at<1||(wt=D[at-1])==="B"?"N":j[at-1];break;case"B":M=!1,r=!0,Et=G;break;case"S":s=!0,Et="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":Et="N"}return Et},z=function(L,D,j){var at=L.split("");return j&&P(at,j,{hiLevel:G}),at.reverse(),D&&D.reverse(),at.join("")},P=function(L,D,j){var at,wt,et,ht,ft,Et=-1,Q=L.length,St=0,F=[],W=G?_:w,Z=[];for(M=!1,r=!1,s=!1,wt=0;wt<Q;wt++)Z[wt]=it(L[wt]);for(et=0;et<Q;et++){if(ft=St,F[et]=pt(L,Z,F,et),at=240&(St=W[ft][x[F[et]]]),St&=15,D[et]=ht=W[St][5],at>0)if(at===16){for(wt=Et;wt<et;wt++)D[wt]=1;Et=-1}else Et=-1;if(W[St][6])Et===-1&&(Et=et);else if(Et>-1){for(wt=Et;wt<et;wt++)D[wt]=ht;Et=-1}Z[et]==="B"&&(D[et]=0),j.hiLevel|=ht}s&&function(st,ct,It){for(var xt=0;xt<It;xt++)if(st[xt]==="S"){ct[xt]=G;for(var kt=xt-1;kt>=0&&st[kt]==="WS";kt--)ct[kt]=G}}(Z,D,Q)},U=function(L,D,j,at,wt){if(!(wt.hiLevel<L)){if(L===1&&G===1&&!r)return D.reverse(),void(j&&j.reverse());for(var et,ht,ft,Et,Q=D.length,St=0;St<Q;){if(at[St]>=L){for(ft=St+1;ft<Q&&at[ft]>=L;)ft++;for(Et=St,ht=ft-1;Et<ht;Et++,ht--)et=D[Et],D[Et]=D[ht],D[ht]=et,j&&(et=j[Et],j[Et]=j[ht],j[ht]=et);St=ft}St++}}},K=function(L,D,j){var at=L.split(""),wt={hiLevel:G};return j||(j=[]),P(at,j,wt),function(et,ht,ft){if(ft.hiLevel!==0&&p)for(var Et,Q=0;Q<et.length;Q++)ht[Q]===1&&(Et=R.indexOf(et[Q]))>=0&&(et[Q]=R[Et+1])}(at,j,wt),U(2,at,D,j,wt),U(1,at,D,j,wt),at.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,j){if(function(wt,et){if(et)for(var ht=0;ht<wt.length;ht++)et[ht]=ht;c===void 0&&(c=tt(wt)),f===void 0&&(f=tt(wt))}(L,D),o||!u||f)if(o&&u&&c^f)G=c?1:0,L=z(L,D,j);else if(!o&&u&&f)G=c?1:0,L=K(L,D,j),L=z(L,D);else if(!o||c||u||f){if(o&&!u&&c^f)L=z(L,D),c?(G=0,L=K(L,D,j)):(G=1,L=K(L,D,j),L=z(L,D));else if(o&&c&&!u&&f)G=1,L=K(L,D,j),L=z(L,D);else if(!o&&!u&&c^f){var at=p;c?(G=1,L=K(L,D,j),G=0,p=!1,L=K(L,D,j),p=at):(G=0,L=K(L,D,j),L=z(L,D),G=1,p=!1,L=K(L,D,j),p=at,L=z(L,D))}}else G=0,L=K(L,D,j);else G=c?1:0,L=K(L,D,j);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,u=L.isOutputVisual,c=L.isInputRtl,f=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([e.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([e.doBidiReorder(r[c])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Pe),Pe.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Ou(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new iV(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new qj(this.contents),this.head=new Gj(this),this.name=new Xj(this),this.cmap=new z6(this),this.toUnicode={},this.hhea=new Wj(this),this.maxp=new Qj(this),this.hmtx=new Jj(this),this.post=new Yj(this),this.os2=new $j(this),this.loca=new nV(this),this.glyf=new Zj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var Po,Ou=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,c,u;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*c+u},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n}(),qj=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,c,u,f,p,y,w,_,x,I;for(I in _=Object.keys(e).length,u=Math.log(2),y=16*Math.floor(Math.log(_)/u),o=Math.floor(y/u),p=16*_-y,(r=new Ou).writeInt(this.scalarType),r.writeShort(_),r.writeShort(y),r.writeShort(o),r.writeShort(p),s=16*_,f=r.pos+s,c=null,x=[],e)for(w=e[I],r.writeString(I),r.writeInt(n(w)),r.writeInt(f),r.writeInt(w.length),x=x.concat(w),I==="head"&&(c=f),f+=w.length;f%4;)x.push(0),f++;return r.write(x),i=2981146554-n(r.data),r.pos=c+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=q6.call(e);e.length%4;)e.push(0);for(s=new Ou(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),Hj={}.hasOwnProperty,Tl=function(n,t){for(var e in t)Hj.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};Po=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Gj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Ou).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),iT=function(){function n(t,e){var i,r,s,o,c,u,f,p,y,w,_,x,I,R,N,M,G;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(_=t.readUInt16(),w=_/2,t.pos+=6,s=function(){var it,tt;for(tt=[],u=it=0;0<=w?it<w:it>w;u=0<=w?++it:--it)tt.push(t.readUInt16());return tt}(),t.pos+=2,I=function(){var it,tt;for(tt=[],u=it=0;0<=w?it<w:it>w;u=0<=w?++it:--it)tt.push(t.readUInt16());return tt}(),f=function(){var it,tt;for(tt=[],u=it=0;0<=w?it<w:it>w;u=0<=w?++it:--it)tt.push(t.readUInt16());return tt}(),p=function(){var it,tt;for(tt=[],u=it=0;0<=w?it<w:it>w;u=0<=w?++it:--it)tt.push(t.readUInt16());return tt}(),r=(this.length-t.pos+this.offset)/2,c=function(){var it,tt;for(tt=[],u=it=0;0<=r?it<r:it>r;u=0<=r?++it:--it)tt.push(t.readUInt16());return tt}(),u=N=0,G=s.length;N<G;u=++N)for(R=s[u],i=M=x=I[u];x<=R?M<=R:M>=R;i=x<=R?++M:--M)p[u]===0?o=i+f[u]:(o=c[p[u]/2+(i-x)-(w-u)]||0)!==0&&(o+=f[u]),this.codeMap[i]=65535&o}t.pos=y}return n.encode=function(t,e){var i,r,s,o,c,u,f,p,y,w,_,x,I,R,N,M,G,it,tt,pt,z,P,U,K,L,D,j,at,wt,et,ht,ft,Et,Q,St,F,W,Z,st,ct,It,xt,kt,Jt,Xt,ne;switch(at=new Ou,o=Object.keys(t).sort(function(te,we){return te-we}),e){case"macroman":for(I=0,R=function(){var te=[];for(x=0;x<256;++x)te.push(0);return te}(),M={0:0},s={},wt=0,Et=o.length;wt<Et;wt++)M[kt=t[r=o[wt]]]==null&&(M[kt]=++I),s[r]={old:t[r],new:M[t[r]]},R[r]=M[t[r]];return at.writeUInt16(1),at.writeUInt16(0),at.writeUInt32(12),at.writeUInt16(0),at.writeUInt16(262),at.writeUInt16(0),at.write(R),{charMap:s,subtable:at.data,maxGlyphID:I+1};case"unicode":for(D=[],y=[],G=0,M={},i={},N=f=null,et=0,Q=o.length;et<Q;et++)M[tt=t[r=o[et]]]==null&&(M[tt]=++G),i[r]={old:tt,new:M[tt]},c=M[tt]-r,N!=null&&c===f||(N&&y.push(N),D.push(r),f=c),N=r;for(N&&y.push(N),y.push(65535),D.push(65535),K=2*(U=D.length),P=2*Math.pow(Math.log(U)/Math.LN2,2),w=Math.log(P/2)/Math.LN2,z=2*U-P,u=[],pt=[],_=[],x=ht=0,St=D.length;ht<St;x=++ht){if(L=D[x],p=y[x],L===65535){u.push(0),pt.push(0);break}if(L-(j=i[L].new)>=32768)for(u.push(0),pt.push(2*(_.length+U-x)),r=ft=L;L<=p?ft<=p:ft>=p;r=L<=p?++ft:--ft)_.push(i[r].new);else u.push(j-L),pt.push(0)}for(at.writeUInt16(3),at.writeUInt16(1),at.writeUInt32(12),at.writeUInt16(4),at.writeUInt16(16+8*U+2*_.length),at.writeUInt16(0),at.writeUInt16(K),at.writeUInt16(P),at.writeUInt16(w),at.writeUInt16(z),It=0,F=y.length;It<F;It++)r=y[It],at.writeUInt16(r);for(at.writeUInt16(0),xt=0,W=D.length;xt<W;xt++)r=D[xt],at.writeUInt16(r);for(Jt=0,Z=u.length;Jt<Z;Jt++)c=u[Jt],at.writeUInt16(c);for(Xt=0,st=pt.length;Xt<st;Xt++)it=pt[Xt],at.writeUInt16(it);for(ne=0,ct=_.length;ne<ct;ne++)I=_[ne],at.writeUInt16(I);return{charMap:i,subtable:at.data,maxGlyphID:G+1}}},n}(),z6=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new iT(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return i==null&&(i="macroman"),r=iT.encode(e,i),(s=new Ou).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Wj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),$j=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Yj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(e.readUInt32());return f}).call(this)}},t}(),Kj=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Xj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,c,u,f,p,y,w,_;for(e.pos=this.offset,e.readShort(),i=e.readShort(),u=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=y=0,w=r.length;y<w;o=++y)s=r[o],e.pos=s.offset,p=e.readString(s.length),c=new Kj(p,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),Qj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Jj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,o,c,u,f;for(e.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)y.push(e.readInt16());return y}(),this.widths=(function(){var p,y,w,_;for(_=[],p=0,y=(w=this.metrics).length;p<y;p++)o=w[p],_.push(o.advance);return _}).call(this),r=this.widths[this.widths.length-1],f=[],i=c=0;0<=s?c<s:c>s;i=0<=s?++c:--c)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),q6=[].slice,Zj=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,c,u,f,p,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,c=(u=new Ou(i.read(s))).readShort(),p=u.readShort(),w=u.readShort(),f=u.readShort(),y=u.readShort(),this.cache[e]=c===-1?new eV(u,p,w,f,y):new tV(u,c,p,w,f,y),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,c,u,f;for(c=[],o=[],u=0,f=i.length;u<f;u++)s=e[i[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),tV=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),eV=function(){function n(t,e,i,r,s){var o,c;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Ou(q6.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),nV=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Po),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<i.length&&i[o]==c){++o,r[c]=s;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(s+=f)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},t}(),iV=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))i=u[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,c,u,f,p,y,w,_,x,I,R,N;for(r in i=z6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),_={0:0},N=i.charMap)_[(u=N[r]).old]=u.new;for(x in w=i.maxGlyphID,o)x in _||(_[x]=w++);return p=function(M){var G,it;for(G in it={},M)it[M[G]]=G;return it}(_),y=Object.keys(p).sort(function(M,G){return M-G}),I=function(){var M,G,it;for(it=[],M=0,G=y.length;M<G;M++)c=y[M],it.push(p[c]);return it}(),s=this.font.glyf.encode(o,I,_),f=this.font.loca.encode(s.offsets,I),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n}();Pe.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+function(){var c,u,f;for(f=[],c=0,u=e.length;c<u;c++)i=e[c],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();function H6(n,t,e,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,c=r.internal.getFontSize()/o,u=r.getLineHeightFactor?r.getLineHeightFactor():s,f=c*u,p=/\r\n|\r|\n/g,y="",w=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(y=typeof n=="string"?n.split(p):n,w=y.length||1),e+=c*(2-s),i.valign==="middle"?e-=w/2*f:i.valign==="bottom"&&(e-=w*f),i.halign==="center"||i.halign==="right"){var _=c;if(i.halign==="center"&&(_*=.5),y&&w>=1){for(var x=0;x<y.length;x++)r.text(y[x],t-r.getStringUnitWidth(y[x])*_,e),e+=f;return r}t-=r.getStringUnitWidth(n)*_}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var rT={},Bf=function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:rT=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var p=n.unifyColor(t.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(t.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=n.unifyColor(t.lineColor),p&&(s=this.jsPDFDocument).setDrawColor.apply(s,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,s){return this.jsPDFDocument.rect(t,e,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return rT||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),bv=function(n,t){return bv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},bv(n,t)};function G6(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bv(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var W6=function(n){G6(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t}(Array);function rV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function sV(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function I0(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function $6(n,t,e,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=Y6(r,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,o)}function Y6(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function h1(n,t){var e,i,r,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function K6(n,t){var e=h1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function aV(n,t,e,i,r){var s={},o=1.3333333333333333,c=c2(t,function(G){return r.getComputedStyle(G).backgroundColor});c!=null&&(s.fillColor=c);var u=c2(t,function(G){return r.getComputedStyle(G).color});u!=null&&(s.textColor=u);var f=lV(i,e);f&&(s.cellPadding=f);var p="borderTopColor",y=o*e,w=i.borderTopWidth;if(i.borderBottomWidth===w&&i.borderRightWidth===w&&i.borderLeftWidth===w){var _=(parseFloat(w)||0)/y;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/y,right:(parseFloat(i.borderRightWidth)||0)/y,bottom:(parseFloat(i.borderBottomWidth)||0)/y,left:(parseFloat(i.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?p="borderRightColor":s.lineWidth.bottom?p="borderBottomColor":s.lineWidth.left&&(p="borderLeftColor"));var x=c2(t,function(G){return r.getComputedStyle(G)[p]});x!=null&&(s.lineColor=x);var I=["left","right","center","justify"];I.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),I=["middle","bottom","top"],I.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var R=parseInt(i.fontSize||"");isNaN(R)||(s.fontSize=R/o);var N=oV(i);N&&(s.fontStyle=N);var M=(i.fontFamily||"").toLowerCase();return n.indexOf(M)!==-1&&(s.font=M),s}function oV(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function c2(n,t){var e=X6(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function X6(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:X6(n.parentElement,t):e}function lV(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(c){return parseInt(c||"0")/i}),o=h1(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function Q6(n,t,e,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var c;typeof t=="string"?c=e.document.querySelector(t):c=t;var u=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],y=[],w=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:p,body:y,foot:w};for(var _=0;_<c.rows.length;_++){var x=c.rows[_],I=(o=(s=x==null?void 0:x.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),R=cV(u,f,e,x,i,r);R&&(I==="thead"?p.push(R):I==="tfoot"?w.push(R):y.push(R))}return{head:p,body:y,foot:w}}function cV(n,t,e,i,r,s){for(var o=new W6(i),c=0;c<i.cells.length;c++){var u=i.cells[c],f=e.getComputedStyle(u);if(r||f.display!=="none"){var p=void 0;s&&(p=aV(n,u,t,f,e)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:uV(u)})}}var y=e.getComputedStyle(i);if(o.length>0&&(r||y.display!=="none"))return o}function uV(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function hV(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function uc(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function J6(n,t){var e=new Bf(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();hV(r,i,t);var s=uc({},r,i,t),o;typeof window<"u"&&(o=window);var c=fV(r,i,t),u=dV(r,i,t),f=pV(e,s),p=mV(e,s,o);return{id:t.tableId,content:p,hooks:u,styles:c,settings:f}}function fV(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(u){if(u==="columnStyles"){var f=n[u],p=t[u],y=e[u];i.columnStyles=uc({},f,p,y)}else{var w=[n,t,e],_=w.map(function(x){return x[u]||{}});i[u]=uc({},_[0],_[1],_[2])}},s=0,o=Object.keys(i);s<o.length;s++){var c=o[s];r(c)}return i}function dV(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var c=o[s];c.didParseCell&&r.didParseCell.push(c.didParseCell),c.willDrawCell&&r.willDrawCell.push(c.willDrawCell),c.didDrawCell&&r.didDrawCell.push(c.didDrawCell),c.willDrawPage&&r.willDrawPage.push(c.willDrawPage),c.didDrawPage&&r.didDrawPage.push(c.didDrawPage)}return r}function pV(n,t){var e,i,r,s,o,c,u,f,p,y,w,_,x=h1(t.margin,40/n.scaleFactor()),I=(e=gV(n,t.startY))!==null&&e!==void 0?e:x.top,R;t.showFoot===!0?R="everyPage":t.showFoot===!1?R="never":R=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var M=(s=t.useCss)!==null&&s!==void 0?s:!1,G=t.theme||(M?"plain":"striped"),it=!!t.horizontalPageBreak,tt=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:M,theme:G,startY:I,margin:x,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:N,showFoot:R,tableLineWidth:(y=t.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:it,horizontalPageBreakRepeat:tt,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function gV(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(e==null?void 0:e.finalY)!=null?e.finalY+20/i:null}function mV(n,t,e){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var c=Q6(n,t.html,e,o,t.useCss)||{};i=c.head||i,r=c.body||i,s=c.foot||i}else console.error("Cannot parse html in non browser environment")}var u=t.columns||yV(i,r,s);return{columns:u,head:i,body:r,foot:s}}function yV(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,c;Array.isArray(i)?c=i[parseInt(s)]:c=i[s],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(u>0?"_".concat(u):"");var p={dataKey:f};r.push(p)}}),r}var wv=function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n}(),vV=function(n){G6(t,n);function t(e,i,r,s,o,c){var u=n.call(this,e,i,c)||this;return u.cell=r,u.row=s,u.column=o,u.section=s.section,u}return t}(wv),_V=function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,s,o){for(var c=0,u=e;c<u.length;c++){var f=u[c],p=new vV(t,this,i,r,s,o),y=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new wv(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new wv(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n}(),Z6=function(){function n(t,e,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof W6&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=e.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var c=e.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+c;return f>r?f:r},0)},n}(),tI=function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=h1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n}(),bV=function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n}();function wV(n,t){AV(n,t);var e=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=Av(e,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=Av(e,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),TV(t),EV(t,n),SV(t)}function AV(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=K6(n,t);t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){var p=t.hooks.didParseCell;t.callCellHooks(n,p,f,s,u,null);var y=f.padding("horizontal");f.contentWidth=I0(f.text,f.styles,n)+y;var w=I0(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=w+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/e;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var p=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},y=p.cellWidth||p.minCellWidth;y&&typeof y=="number"&&(u.minWidth=y,u.wrappedWidth=y)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function Av(n,t,e){for(var i=t,r=n.reduce(function(_,x){return _+x.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],c=o.wrappedWidth/r,u=i*c,f=o.width+u,p=e(o),y=f<p?p:f;t-=y-o.width,o.width=y}if(t=Math.round(t*1e10)/1e10,t){var w=n.filter(function(_){return t<0?_.width>e(_):!0});w.length&&(t=Av(w,t,e))}return t}function SV(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=t[u.index];if(e>1)e--,delete s.cells[u.index];else if(f)f.cell.height+=s.height,e=f.cell.colSpan,delete s.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var p=s.cells[u.index];if(!p)continue;if(p.height=s.height,p.rowSpan>1){var y=i.length-r,w=p.rowSpan>y?y:p.rowSpan;t[u.index]={cell:p,left:w,row:s}}}}}function TV(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,s=0,o=0,c=0;c<n.columns.length;c++){var u=n.columns[c];if(o-=1,o>1&&n.columns[c+1])s+=u.width,delete i.cells[u.index];else if(r){var f=r;delete i.cells[u.index],r=null,f.width=u.width+s}else{var f=i.cells[u.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=u.width;continue}f.width=u.width+s}}}function EV(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){t.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,p+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=sT(f.text,p,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=sT(f.text,p,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var y=f.styles.overflow(f.text,p);typeof y=="string"?f.text=[y]:f.text=y}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=f.contentHeight/f.rowSpan;f.rowSpan>1&&e.count*e.height<w*f.rowSpan?e={height:w,count:f.rowSpan}:e&&e.count>0&&e.height>w&&(w=e.height),w>s.height&&(s.height=w)}}e.count--}}function sT(n,t,e,i,r){return n.map(function(s){return xV(s,t,e,i,r)})}function xV(n,t,e,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=I0(n,e,i))return n;for(;t<I0(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function eI(n,t){var e=new Bf(n),i=IV(t,e.scaleFactor()),r=new _V(t,i);return wV(e,r),e.applyStyles(e.userStyles),r}function IV(n,t){var e=n.content,i=RV(e.columns);if(e.head.length===0){var r=aT(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=aT(i,"foot");r&&e.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:u2("head",e.head,i,o,s,t),body:u2("body",e.body,i,o,s,t),foot:u2("foot",e.foot,i,o,s,t)}}function u2(n,t,e,i,r,s){var o={},c=t.map(function(u,f){for(var p=0,y={},w=0,_=0,x=0,I=e;x<I.length;x++){var R=I[x];if(o[R.index]==null||o[R.index].left===0)if(_===0){var N=void 0;Array.isArray(u)?N=u[R.index-w-p]:N=u[R.dataKey];var M={};typeof N=="object"&&!Array.isArray(N)&&(M=(N==null?void 0:N.styles)||{});var G=CV(n,R,f,r,i,s,M),it=new tI(N,G,n);y[R.dataKey]=it,y[R.index]=it,_=it.colSpan-1,o[R.index]={left:it.rowSpan-1,times:_}}else _--,w++;else o[R.index].left--,_=o[R.index].times,p++}return new Z6(u,f,n,y)});return c}function aT(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=NV(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function NV(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function RV(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new bV(r,t,e)})}function CV(n,t,e,i,r,s,o){var c=sV(i),u;n==="head"?u=r.headStyles:n==="body"?u=r.bodyStyles:n==="foot"&&(u=r.footStyles);var f=uc({},c.table,c[n],r.styles,u),p=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},y=n==="body"?p:{},w=n==="body"&&e%2===0?uc({},c.alternateRow,r.alternateRowStyles):{},_=rV(s),x=uc({},_,f,w,y);return uc(x,o)}function LV(n,t,e){var i;e===void 0&&(e={});var r=K6(n,t),s=new Map,o=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(w){var _=t.columns.find(function(x){return x.dataKey===w||x.index===w});_&&!s.has(_.index)&&(s.set(_.index,!0),o.push(_.index),c.push(t.columns[_.index]),r-=_.wrappedWidth)});for(var f=!0,p=(i=e==null?void 0:e.start)!==null&&i!==void 0?i:0;p<t.columns.length;){if(s.has(p)){p++;continue}var y=t.columns[p].wrappedWidth;if(f||r>=y)f=!1,o.push(p),c.push(t.columns[p]),r-=y;else break;p++}return{colIndexes:o,columns:c,lastIndex:p-1}}function PV(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=LV(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function nI(n,t){var e=t.settings,i=e.startY,r=e.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=i+r.bottom+o;if(e.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(w,_){return w+_.height},0);c+=f}var p=new Bf(n);(e.pageBreak==="always"||e.startY!=null&&c>p.pageSize().height)&&(rI(p),s.y=r.top),t.callWillDrawPageHooks(p,s);var y=uc({},s);t.startPageNumber=p.pageNumber(),e.horizontalPageBreak?kV(p,t,y,s):(p.applyStyles(p.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(w){return vc(p,t,w,s,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(w,_){var x=_===t.body.length-1;N0(p,t,w,x,y,s,t.columns)}),p.applyStyles(p.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(w){return vc(p,t,w,s,t.columns)})),$6(p,t,y,s),t.callEndPageHooks(p,s),t.finalY=s.y,n.lastAutoTable=t,p.applyStyles(p.userStyles)}function kV(n,t,e,i){var r=PV(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?Sp(n,t,e,i,f.columns,!0):oT(n,t,i,f.columns),DV(n,t,e,i,f.columns),h2(n,t,i,f.columns)});else for(var o=-1,c=r[0],u=function(){var f=o;if(c){n.applyStyles(n.userStyles);var p=c.columns;o>=0?Sp(n,t,e,i,p,!0):oT(n,t,i,p),f=lT(n,t,o+1,i,p),h2(n,t,i,p)}var y=f-o;r.slice(1).forEach(function(w){n.applyStyles(n.userStyles),Sp(n,t,e,i,w.columns,!0),lT(n,t,o+1,i,w.columns,y),h2(n,t,i,w.columns)}),o=f};o<t.body.length-1;)u()}function oT(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return vc(n,t,s,e,i)})}function DV(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var c=o===t.body.length-1;N0(n,t,s,c,e,i,r)})}function lT(n,t,e,i,r,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),c=-1;return t.body.slice(e,o).forEach(function(u,f){var p=e+f===t.body.length-1,y=iI(n,t,p,i);u.canEntireRowFit(y,r)&&(vc(n,t,u,i,r),c=e+f)}),c}function h2(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return vc(n,t,s,e,i)})}function MV(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function OV(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,c=e.columns;o<c.length;o++){var u=c[o],f=n.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new tI(f.raw,f.styles,f.section);p=uc(p,f),p.text=[];var y=MV(f,t,i);f.text.length>y&&(p.text=f.text.splice(y,f.text.length));var w=i.scaleFactor(),_=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(w,_),f.contentHeight>=t&&(f.contentHeight=t,p.styles.minCellHeight-=t),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(w,_),p.contentHeight>s&&(s=p.contentHeight),r[u.index]=p}}var x=new Z6(n.raw,-1,n.section,r,!0);x.height=s;for(var I=0,R=e.columns;I<R.length;I++){var u=R[I],p=x.cells[u.index];p&&(p.height=x.height);var f=n.cells[u.index];f&&(f.height=n.height)}return x}function FV(n,t,e,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,c=r-o;t.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=t.getMinimumRowHeight(i.columns,n),f=u<e;if(u>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=t.hasRowSpan(i.columns),y=t.getMaxCellHeight(i.columns)>c;return y?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function N0(n,t,e,i,r,s,o){var c=iI(n,t,i,s);if(e.canEntireRowFit(c,o))vc(n,t,e,s,o);else if(FV(n,e,c,t)){var u=OV(e,c,t,n);vc(n,t,e,s,o),Sp(n,t,r,s,o),N0(n,t,u,i,r,s,o)}else Sp(n,t,r,s,o),N0(n,t,e,i,r,s,o)}function vc(n,t,e,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(!u){i.x+=c.width;continue}n.applyStyles(u.styles),u.x=i.x,u.y=i.y;var f=t.callCellHooks(n,t.hooks.willDrawCell,u,e,c,i);if(f===!1){i.x+=c.width;continue}jV(n,u,i);var p=u.getTextPos();H6(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,u,e,c,i),i.x+=c.width}i.y+=e.height}function jV(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=Y6(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),VV(n,t,e,i.lineWidth))}function VV(n,t,e,i){var r,s,o,c;i.top&&(r=e.x,s=e.y,o=e.x+t.width,c=e.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.top,r,s,o,c)),i.bottom&&(r=e.x,s=e.y+t.height,o=e.x+t.width,c=e.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.bottom,r,s,o,c)),i.left&&(r=e.x,s=e.y,o=e.x,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.left,r,s,o,c)),i.right&&(r=e.x+t.width,s=e.y,o=e.x+t.width,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.right,r,s,o,c));function u(f,p,y,w,_){n.getDocument().setLineWidth(f),n.getDocument().line(p,y,w,_,"S")}}function iI(n,t,e,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function Sp(n,t,e,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(c){return vc(n,t,c,i,r)}),t.callEndPageHooks(n,i);var o=t.settings.margin;$6(n,t,e,i),rI(n),t.pageNumber++,i.x=o.left,i.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return vc(n,t,c,i,r)}),n.applyStyles(n.userStyles))}function rI(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function BV(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=J6(this,i),s=eI(this,r);return nI(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){H6(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return Bf.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Bf.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Bf(this),s=Q6(r,t,window,e,!1),o=s.head,c=s.body,u=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var f2;function cT(n,t){var e=J6(n,t),i=eI(n,e);nI(n,i)}try{if(typeof window<"u"&&window){var uT=window,hT=uT.jsPDF||((f2=uT.jspdf)===null||f2===void 0?void 0:f2.jsPDF);hT&&BV(hT)}}catch(n){console.error("Could not apply autoTable plugin",n)}const UV=async(n,t={})=>{if(!n){alert("No hay datos calculados para generar el PDF.");return}const{config:e,clientes:i,mariella:r,customization:s}=n,o=new Pe({orientation:"p",unit:"mm",format:"a4"}),c=i5(e.locale,e.moneda);let u=15;const f=o.internal.pageSize.width,p=15;if(s.logo)try{o.addImage(s.logo,"PNG",p,u-5,25,25)}catch(N){console.error("Error al añadir el logo:",N)}o.setFontSize(18),o.setFont("helvetica","bold");const y=s.headerText||"LIQUIDACIÓN DE SERVICIO DE COMIDAS";o.text(y,f/2,u+5,{align:"center"}),u+=20,o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Facturador: ${e.nombreMariella}`,p,u),u+=7,o.text(`Mes del Servicio: ${e.mesServicio}`,p,u),u+=15;const w=[["#","Nombre del Cliente","Comidas","Valor a Pagar"]],_=i.map((N,M)=>[M+1,N.name,N.comidas,c.format(N.ingresoBrutoCliente)]);cT(o,{head:w,body:_,startY:u,theme:"grid",headStyles:{fillColor:[102,126,234]},didDrawPage:function(N){u=N.cursor.y}});const x=[["Concepto","Valor Aplicado","Monto Deducido"]],I=r.deducciones.map(N=>[N.name,N.displayValue,`- ${c.format(N.montoCalculado)}`]);if(cT(o,{head:x,body:I,startY:u+10,theme:"striped",didDrawPage:function(N){u=N.cursor.y}}),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(`SALDO FINAL A RECIBIR: ${c.format(r.saldoFinalNeto)}`,p,u+10),t.doughnut||t.pie||t.bar){o.addPage();let N=15;if(o.setFontSize(16),o.text("Resumen Gráfico",f/2,N,{align:"center"}),N+=10,t.doughnut)try{o.addImage(t.doughnut,"PNG",p,N,80,80)}catch(M){console.error("Error añadiendo gráfico doughnut:",M)}if(t.pie)try{o.addImage(t.pie,"PNG",f-80-p,N,80,80)}catch(M){console.error("Error añadiendo gráfico pie:",M)}if(N+=90,t.bar)try{o.addImage(t.bar,"PNG",p,N,f-p*2,80)}catch(M){console.error("Error añadiendo gráfico bar:",M)}}const R=o.internal.getNumberOfPages();for(let N=1;N<=R;N++)o.setPage(N),s.footerText&&(o.setFontSize(8),o.text(s.footerText,f/2,o.internal.pageSize.height-10,{align:"center"}));if(o.setPage(R),s.signature)try{o.addImage(s.signature,"PNG",150,250,50,25)}catch(N){console.error("Error añadiendo firma:",N)}try{const N=o.output("blob"),M=Date.now(),G=Tr.currentUser.uid,it=q8(CF,`settlements/${G}/${M}-${e.mesServicio}.pdf`),tt=await U8(it,N),pt=await z8(tt.ref),z={timestamp:new Date().toLocaleString("es-CO"),status:"Pendiente",summary:{mesServicio:e.mesServicio,nombreMariella:e.nombreMariella,saldoFinalNeto:r.saldoFinalNeto,totalIngresoBruto:r.totalIngresoBruto,moneda:e.moneda,locale:e.locale},pdfDownloadURL:pt,storagePath:tt.metadata.fullPath,comprobantePago:null};await LF(z),console.log("Liquidación guardada y PDF subido a Storage.")}catch(N){console.error("Error en el proceso de guardado y subida:",N),alert("Hubo un error al guardar el reporte.")}o.save(`liquidacion-${e.nombreMariella}-${e.mesServicio}.pdf`)};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function lg(n){return n+.5|0}const mu=(n,t,e)=>Math.max(Math.min(n,e),t);function op(n){return mu(lg(n*2.55),0,255)}function Tu(n){return mu(lg(n*255),0,255)}function ac(n){return mu(lg(n/2.55)/100,0,1)}function fT(n){return mu(lg(n*100),0,100)}const za={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sv=[..."0123456789ABCDEF"],zV=n=>Sv[n&15],qV=n=>Sv[(n&240)>>4]+Sv[n&15],bm=n=>(n&240)>>4===(n&15),HV=n=>bm(n.r)&&bm(n.g)&&bm(n.b)&&bm(n.a);function GV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&za[n[1]]*17,g:255&za[n[2]]*17,b:255&za[n[3]]*17,a:t===5?za[n[4]]*17:255}:(t===7||t===9)&&(e={r:za[n[1]]<<4|za[n[2]],g:za[n[3]]<<4|za[n[4]],b:za[n[5]]<<4|za[n[6]],a:t===9?za[n[7]]<<4|za[n[8]]:255})),e}const WV=(n,t)=>n<255?t(n):"";function $V(n){var t=HV(n)?zV:qV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+WV(n.a,t):void 0}const YV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sI(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function KV(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function XV(n,t,e){const i=sI(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function QV(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function o5(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),c=(s+o)/2;let u,f,p;return s!==o&&(p=s-o,f=c>.5?p/(2-s-o):p/(s+o),u=QV(e,i,r,p,s),u=u*60+.5),[u|0,f||0,c]}function l5(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Tu)}function c5(n,t,e){return l5(sI,n,t,e)}function JV(n,t,e){return l5(XV,n,t,e)}function ZV(n,t,e){return l5(KV,n,t,e)}function aI(n){return(n%360+360)%360}function tB(n){const t=YV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?op(+t[5]):Tu(+t[5]));const r=aI(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=JV(r,s,o):t[1]==="hsv"?i=ZV(r,s,o):i=c5(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function eB(n,t){var e=o5(n);e[0]=aI(e[0]+t),e=c5(e),n.r=e[0],n.g=e[1],n.b=e[2]}function nB(n){if(!n)return;const t=o5(n),e=t[0],i=fT(t[1]),r=fT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ac(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const dT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iB(){const n={},t=Object.keys(pT),e=Object.keys(dT);let i,r,s,o,c;for(i=0;i<t.length;i++){for(o=c=t[i],r=0;r<e.length;r++)s=e[r],c=c.replace(s,dT[s]);s=parseInt(pT[o],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let wm;function rB(n){wm||(wm=iB(),wm.transparent=[0,0,0,0]);const t=wm[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aB(n){const t=sB.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?op(o):mu(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?op(i):mu(i,0,255)),r=255&(t[4]?op(r):mu(r,0,255)),s=255&(t[6]?op(s):mu(s,0,255)),{r:i,g:r,b:s,a:e}}}function oB(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ac(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const d2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,_f=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function lB(n,t,e){const i=_f(ac(n.r)),r=_f(ac(n.g)),s=_f(ac(n.b));return{r:Tu(d2(i+e*(_f(ac(t.r))-i))),g:Tu(d2(r+e*(_f(ac(t.g))-r))),b:Tu(d2(s+e*(_f(ac(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Am(n,t,e){if(n){let i=o5(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=c5(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function oI(n,t){return n&&Object.assign(t||{},n)}function gT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Tu(n[3]))):(t=oI(n,{r:0,g:0,b:0,a:1}),t.a=Tu(t.a)),t}function cB(n){return n.charAt(0)==="r"?aB(n):tB(n)}class Vp{constructor(t){if(t instanceof Vp)return t;const e=typeof t;let i;e==="object"?i=gT(t):e==="string"&&(i=GV(t)||rB(t)||cB(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=oI(this._rgb);return t&&(t.a=ac(t.a)),t}set rgb(t){this._rgb=gT(t)}rgbString(){return this._valid?oB(this._rgb):void 0}hexString(){return this._valid?$V(this._rgb):void 0}hslString(){return this._valid?nB(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,c=2*o-1,u=i.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=lB(this._rgb,t._rgb,e)),this}clone(){return new Vp(this.rgb)}alpha(t){return this._rgb.a=Tu(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=lg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Am(this._rgb,2,t),this}darken(t){return Am(this._rgb,2,-t),this}saturate(t){return Am(this._rgb,1,t),this}desaturate(t){return Am(this._rgb,1,-t),this}rotate(t){return eB(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ic(){}const uB=(()=>{let n=0;return()=>n++})();function Pn(n){return n==null}function Zi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function fn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function us(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ul(n,t){return us(n)?n:t}function Qe(n,t){return typeof n>"u"?t:n}const hB=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,lI=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ni(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function jn(n,t,e,i){let r,s,o;if(Zi(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(fn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function R0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function C0(n){if(Zi(n))return n.map(C0);if(fn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=C0(n[e[r]]);return t}return n}function cI(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function fB(n,t,e,i){if(!cI(n))return;const r=t[n],s=e[n];fn(r)&&fn(s)?Bp(r,s,i):t[n]=C0(s)}function Bp(n,t,e){const i=Zi(t)?t:[t],r=i.length;if(!fn(n))return n;e=e||{};const s=e.merger||fB;let o;for(let c=0;c<r;++c){if(o=i[c],!fn(o))continue;const u=Object.keys(o);for(let f=0,p=u.length;f<p;++f)s(u[f],n,o,e)}return n}function Tp(n,t){return Bp(n,t,{merger:dB})}function dB(n,t,e){if(!cI(n))return;const i=t[n],r=e[n];fn(i)&&fn(r)?Tp(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=C0(r))}const mT={"":n=>n,x:n=>n.x,y:n=>n.y};function pB(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function gB(n){const t=pB(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Dh(n,t){return(mT[t]||(mT[t]=gB(t)))(n)}function u5(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Up=n=>typeof n<"u",Fu=n=>typeof n=="function",yT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function mB(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Vn=Math.PI,yi=2*Vn,yB=yi+Vn,L0=Number.POSITIVE_INFINITY,vB=Vn/180,lr=Vn/2,uh=Vn/4,vT=Vn*2/3,uI=Math.log10,Al=Math.sign;function Ep(n,t,e){return Math.abs(n-t)<e}function _T(n){const t=Math.round(n);n=Ep(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(uI(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function _B(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function bB(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function zp(n){return!bB(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function wB(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function AB(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function hc(n){return n*(Vn/180)}function SB(n){return n*(180/Vn)}function bT(n){if(!us(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function hI(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*Vn&&(s+=yi),{angle:s,distance:r}}function Tv(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function TB(n,t){return(n-t+yB)%yi-Vn}function fa(n){return(n%yi+yi)%yi}function qp(n,t,e,i){const r=fa(n),s=fa(t),o=fa(e),c=fa(s-r),u=fa(o-r),f=fa(r-s),p=fa(r-o);return r===s||r===o||i&&s===o||c>u&&f<p}function as(n,t,e){return Math.max(t,Math.min(e,n))}function EB(n){return as(n,-32768,32767)}function fc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function h5(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const wh=(n,t,e,i)=>h5(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),xB=(n,t,e)=>h5(n,e,i=>n[i][t]>=e);function IB(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const fI=["push","pop","shift","splice","unshift"];function NB(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fI.forEach(e=>{const i="_onData"+u5(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function wT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(fI.forEach(s=>{delete n[s]}),delete n._chartjs)}function dI(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const pI=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function gI(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,pI.call(window,()=>{i=!1,n.apply(t,e)}))}}function RB(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const f5=n=>n==="start"?"left":n==="end"?"right":"center",es=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,CB=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function LB(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:u}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:y,max:w,minDefined:_,maxDefined:x}=o.getUserBounds();if(_){if(r=Math.min(wh(u,p,y).lo,e?i:wh(t,p,o.getPixelForValue(y)).lo),f){const I=u.slice(0,r+1).reverse().findIndex(R=>!Pn(R[c.axis]));r-=Math.max(0,I)}r=as(r,0,i-1)}if(x){let I=Math.max(wh(u,o.axis,w,!0).hi+1,e?0:wh(t,p,o.getPixelForValue(w),!0).hi+1);if(f){const R=u.slice(I-1).findIndex(N=>!Pn(N[c.axis]));I+=Math.max(0,R)}s=as(I,r,i)-r}else s=i-r}return{start:r,count:s}}function PB(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Sm=n=>n===0||n===1,AT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*yi/e)),ST=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*yi/e)+1,xp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*lr)+1,easeOutSine:n=>Math.sin(n*lr),easeInOutSine:n=>-.5*(Math.cos(Vn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Sm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Sm(n)?n:AT(n,.075,.3),easeOutElastic:n=>Sm(n)?n:ST(n,.075,.3),easeInOutElastic(n){return Sm(n)?n:n<.5?.5*AT(n*2,.1125,.45):.5+.5*ST(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-xp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?xp.easeInBounce(n*2)*.5:xp.easeOutBounce(n*2-1)*.5+.5};function d5(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function TT(n){return d5(n)?n:new Vp(n)}function p2(n){return d5(n)?n:new Vp(n).saturate(.5).darken(.1).hexString()}const kB=["x","y","borderWidth","radius","tension"],DB=["color","borderColor","backgroundColor"];function MB(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:DB},numbers:{type:"number",properties:kB}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function OB(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ET=new Map;function FB(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ET.get(e);return i||(i=new Intl.NumberFormat(n,t),ET.set(e,i)),i}function p5(n,t,e){return FB(t,e).format(n)}const jB={values(n){return Zi(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=VB(n,e)}const o=uI(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),p5(n,i,u)}};function VB(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var mI={formatters:jB};function BB(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Mh=Object.create(null),Ev=Object.create(null);function Ip(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function g2(n,t,e){return typeof t=="string"?Bp(Ip(n,t),e):Bp(Ip(n,""),t)}class UB{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>p2(r.backgroundColor),this.hoverBorderColor=(i,r)=>p2(r.borderColor),this.hoverColor=(i,r)=>p2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return g2(this,t,e)}get(t){return Ip(this,t)}describe(t,e){return g2(Ev,t,e)}override(t,e){return g2(Mh,t,e)}route(t,e,i,r){const s=Ip(this,t),o=Ip(this,i),c="_"+e;Object.defineProperties(s,{[c]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],f=o[r];return fn(u)?Object.assign({},f,u):Qe(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var Hi=new UB({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[MB,OB,BB]);function zB(n){return!n||Pn(n.size)||Pn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function xT(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function hh(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function IT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function xv(n,t,e,i){yI(n,t,e,i,null)}function yI(n,t,e,i,r){let s,o,c,u,f,p,y,w;const _=t.pointStyle,x=t.rotation,I=t.radius;let R=(x||0)*vB;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),_){default:r?n.ellipse(e,i,r/2,I,0,0,yi):n.arc(e,i,I,0,yi),n.closePath();break;case"triangle":p=r?r/2:I,n.moveTo(e+Math.sin(R)*p,i-Math.cos(R)*I),R+=vT,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*I),R+=vT,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*I),n.closePath();break;case"rectRounded":f=I*.516,u=I-f,o=Math.cos(R+uh)*u,y=Math.cos(R+uh)*(r?r/2-f:u),c=Math.sin(R+uh)*u,w=Math.sin(R+uh)*(r?r/2-f:u),n.arc(e-y,i-c,f,R-Vn,R-lr),n.arc(e+w,i-o,f,R-lr,R),n.arc(e+y,i+c,f,R,R+lr),n.arc(e-w,i+o,f,R+lr,R+Vn),n.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*I,p=r?r/2:u,n.rect(e-p,i-u,2*p,2*u);break}R+=uh;case"rectRot":y=Math.cos(R)*(r?r/2:I),o=Math.cos(R)*I,c=Math.sin(R)*I,w=Math.sin(R)*(r?r/2:I),n.moveTo(e-y,i-c),n.lineTo(e+w,i-o),n.lineTo(e+y,i+c),n.lineTo(e-w,i+o),n.closePath();break;case"crossRot":R+=uh;case"cross":y=Math.cos(R)*(r?r/2:I),o=Math.cos(R)*I,c=Math.sin(R)*I,w=Math.sin(R)*(r?r/2:I),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o);break;case"star":y=Math.cos(R)*(r?r/2:I),o=Math.cos(R)*I,c=Math.sin(R)*I,w=Math.sin(R)*(r?r/2:I),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o),R+=uh,y=Math.cos(R)*(r?r/2:I),o=Math.cos(R)*I,c=Math.sin(R)*I,w=Math.sin(R)*(r?r/2:I),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-o),n.lineTo(e-w,i+o);break;case"line":o=r?r/2:Math.cos(R)*I,c=Math.sin(R)*I,n.moveTo(e-o,i-c),n.lineTo(e+o,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:I),i+Math.sin(R)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Hp(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function f1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function d1(n){n.restore()}function qB(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function HB(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function GB(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function WB(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,c=t+s.actualBoundingBoxRight,u=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,p=r.strikethrough?(u+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(c,p),n.stroke()}}function $B(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Gp(n,t,e,i,r,s={}){const o=Zi(t)?t:[t],c=s.strokeWidth>0&&s.strokeColor!=="";let u,f;for(n.save(),n.font=r.string,GB(n,s),u=0;u<o.length;++u)f=o[u],s.backdrop&&$B(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Pn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,e,i,s.maxWidth)),n.fillText(f,e,i,s.maxWidth),WB(n,e,i,f,s),i+=Number(r.lineHeight);n.restore()}function P0(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*Vn,Vn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Vn,lr,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,lr,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-lr,!0),n.lineTo(e+o.topLeft,i)}const YB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XB(n,t){const e=(""+n).match(YB);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const QB=n=>+n||0;function g5(n,t){const e={},i=fn(t),r=i?Object.keys(t):t,s=fn(n)?i?o=>Qe(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=QB(s(o));return e}function vI(n){return g5(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Uf(n){return g5(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Wa(n){const t=vI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function os(n,t){n=n||{},t=t||Hi.font;let e=Qe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qe(n.style,t.style);i&&!(""+i).match(KB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qe(n.family,t.family),lineHeight:XB(Qe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qe(n.weight,t.weight),string:""};return r.string=zB(r),r}function Tm(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function JB(n,t,e){const{min:i,max:r}=n,s=lI(t,(r-i)/2),o=(c,u)=>e&&c===0?0:c+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Bh(n,t){return Object.assign(Object.create(n),t)}function m5(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=AI("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>m5([c,...n],t,s,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return bI(c,u,()=>aU(u,t,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return RT(c).includes(u)},ownKeys(c){return RT(c)},set(c,u,f){const p=c._storage||(c._storage=r());return c[u]=p[u]=f,delete c._keys,!0}})}function Qf(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:_I(n,i),setContext:s=>Qf(n,s,e,i),override:s=>Qf(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,c){return bI(s,o,()=>tU(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,c){return n[o]=c,delete s[o],!0}})}function _I(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Fu(e)?e:()=>e,isIndexable:Fu(i)?i:()=>i}}const ZB=(n,t)=>n?n+u5(t):t,y5=(n,t)=>fn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function tU(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[t];return Fu(c)&&o.isScriptable(t)&&(c=eU(t,c,n,e)),Zi(c)&&c.length&&(c=nU(t,c,n,o.isIndexable)),y5(t,c)&&(c=Qf(c,r,s&&s[t],o)),c}function eU(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(s,o||i);return c.delete(n),y5(n,u)&&(u=v5(r._scopes,r,n,u)),u}function nU(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(fn(t[0])){const u=t,f=r._scopes.filter(p=>p!==u);t=[];for(const p of u){const y=v5(f,r,n,p);t.push(Qf(y,s,o&&o[n],c))}}return t}function wI(n,t,e){return Fu(n)?n(t,e):n}const iU=(n,t)=>n===!0?t:typeof n=="string"?Dh(t,n):void 0;function rU(n,t,e,i,r){for(const s of t){const o=iU(e,s);if(o){n.add(o);const c=wI(o._fallback,e,r);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function v5(n,t,e,i){const r=t._rootScopes,s=wI(t._fallback,e,i),o=[...n,...r],c=new Set;c.add(i);let u=NT(c,o,e,s||e,i);return u===null||typeof s<"u"&&s!==e&&(u=NT(c,o,s,u,i),u===null)?!1:m5(Array.from(c),[""],r,s,()=>sU(t,e,i))}function NT(n,t,e,i,r){for(;e;)e=rU(n,t,e,i,r);return e}function sU(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Zi(r)&&fn(e)?e:r||{}}function aU(n,t,e,i){let r;for(const s of t)if(r=AI(ZB(s,n),e),typeof r<"u")return y5(n,r)?v5(e,i,n,r):r}function AI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function RT(n){let t=n._keys;return t||(t=n._keys=oU(n._scopes)),t}function oU(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const lU=Number.EPSILON||1e-14,Jf=(n,t)=>t<n.length&&!n[t].skip&&n[t],SI=n=>n==="x"?"y":"x";function cU(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,c=Tv(s,r),u=Tv(o,s);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,w=i*p;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+w*(o.x-r.x),y:s.y+w*(o.y-r.y)}}}function uU(n,t,e){const i=n.length;let r,s,o,c,u,f=Jf(n,0);for(let p=0;p<i-1;++p)if(u=f,f=Jf(n,p+1),!(!u||!f)){if(Ep(t[p],0,lU)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),e[p]=r*o*t[p],e[p+1]=s*o*t[p])}}function hU(n,t,e="x"){const i=SI(e),r=n.length;let s,o,c,u=Jf(n,0);for(let f=0;f<r;++f){if(o=c,c=u,u=Jf(n,f+1),!c)continue;const p=c[e],y=c[i];o&&(s=(p-o[e])/3,c[`cp1${e}`]=p-s,c[`cp1${i}`]=y-s*t[f]),u&&(s=(u[e]-p)/3,c[`cp2${e}`]=p+s,c[`cp2${i}`]=y+s*t[f])}}function fU(n,t="x"){const e=SI(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,u,f=Jf(n,0);for(o=0;o<i;++o)if(c=u,u=f,f=Jf(n,o+1),!!u){if(f){const p=f[t]-u[t];r[o]=p!==0?(f[e]-u[e])/p:0}s[o]=c?f?Al(r[o-1])!==Al(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}uU(n,r,s),hU(n,s,t)}function Em(n,t,e){return Math.max(Math.min(n,e),t)}function dU(n,t){let e,i,r,s,o,c=Hp(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=c,c=e<i-1&&Hp(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Em(r.cp1x,t.left,t.right),r.cp1y=Em(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Em(r.cp2x,t.left,t.right),r.cp2y=Em(r.cp2y,t.top,t.bottom)))}function pU(n,t,e,i,r){let s,o,c,u;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")fU(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],u=cU(f,c,n[Math.min(s+1,o-(i?0:1))%o],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&dU(n,e)}function _5(){return typeof window<"u"&&typeof document<"u"}function b5(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function k0(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const p1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function gU(n,t){return p1(n).getPropertyValue(t)}const mU=["top","right","bottom","left"];function xh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=mU[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const yU=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function vU(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,c,u;if(yU(r,s,n.target))c=r,u=s;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:c,y:u,box:o}}function gh(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=p1(e),s=r.boxSizing==="border-box",o=xh(r,"padding"),c=xh(r,"border","width"),{x:u,y:f,box:p}=vU(n,e),y=o.left+(p&&c.left),w=o.top+(p&&c.top);let{width:_,height:x}=t;return s&&(_-=o.width+c.width,x-=o.height+c.height),{x:Math.round((u-y)/_*e.width/i),y:Math.round((f-w)/x*e.height/i)}}function _U(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&b5(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),c=p1(s),u=xh(c,"border","width"),f=xh(c,"padding");t=o.width-f.width-u.width,e=o.height-f.height-u.height,i=k0(c.maxWidth,s,"clientWidth"),r=k0(c.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||L0,maxHeight:r||L0}}const xm=n=>Math.round(n*10)/10;function bU(n,t,e,i){const r=p1(n),s=xh(r,"margin"),o=k0(r.maxWidth,n,"clientWidth")||L0,c=k0(r.maxHeight,n,"clientHeight")||L0,u=_U(n,t,e);let{width:f,height:p}=u;if(r.boxSizing==="content-box"){const w=xh(r,"border","width"),_=xh(r,"padding");f-=_.width+w.width,p-=_.height+w.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=xm(Math.min(f,o,u.maxWidth)),p=xm(Math.min(p,c,u.maxHeight)),f&&!p&&(p=xm(f/2)),(t!==void 0||e!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,f=xm(Math.floor(p*i))),{width:f,height:p}}function CT(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const wU=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};_5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function LT(n,t){const e=gU(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function mh(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function AU(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function SU(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=mh(n,r,e),c=mh(r,s,e),u=mh(s,t,e),f=mh(o,c,e),p=mh(c,u,e);return mh(f,p,e)}const TU=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},EU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function zf(n,t,e){return n?TU(t,e):EU()}function TI(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function EI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function xI(n){return n==="angle"?{between:qp,compare:TB,normalize:fa}:{between:fc,compare:(t,e)=>t-e,normalize:t=>t}}function PT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function xU(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:c}=xI(i),u=t.length;let{start:f,end:p,loop:y}=n,w,_;if(y){for(f+=u,p+=u,w=0,_=u;w<_&&o(c(t[f%u][i]),r,s);++w)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:y,style:n.style}}function II(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:c,between:u,normalize:f}=xI(i),{start:p,end:y,loop:w,style:_}=xU(n,t,e),x=[];let I=!1,R=null,N,M,G;const it=()=>u(r,G,N)&&c(r,G)!==0,tt=()=>c(s,N)===0||u(s,G,N),pt=()=>I||it(),z=()=>!I||tt();for(let P=p,U=p;P<=y;++P)M=t[P%o],!M.skip&&(N=f(M[i]),N!==G&&(I=u(N,r,s),R===null&&pt()&&(R=c(N,r)===0?P:U),R!==null&&z()&&(x.push(PT({start:R,end:P,loop:w,count:o,style:_})),R=null),U=P,G=N));return R!==null&&x.push(PT({start:R,end:y,loop:w,count:o,style:_})),x}function NI(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=II(i[r],n.points,t);s.length&&e.push(...s)}return e}function IU(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function NU(n,t,e,i){const r=n.length,s=[];let o=t,c=n[t],u;for(u=t+1;u<=e;++u){const f=n[u%r];f.skip||f.stop?c.skip||(i=!1,s.push({start:t%r,end:(u-1)%r,loop:i}),t=o=f.stop?u:null):(o=u,c.skip&&(t=u)),c=f}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function RU(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=IU(e,r,s,i);if(i===!0)return kT(n,[{start:o,end:c,loop:s}],e,t);const u=c<o?c+r:c,f=!!n._fullLoop&&o===0&&c===r-1;return kT(n,NU(e,o,u,f),e,t)}function kT(n,t,e,i){return!i||!i.setContext||!e?t:CU(n,t,e,i)}function CU(n,t,e,i){const r=n._chart.getContext(),s=DT(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,u=e.length,f=[];let p=s,y=t[0].start,w=y;function _(x,I,R,N){const M=c?-1:1;if(x!==I){for(x+=u;e[x%u].skip;)x-=M;for(;e[I%u].skip;)I+=M;x%u!==I%u&&(f.push({start:x%u,end:I%u,loop:R,style:N}),p=N,y=I%u)}}for(const x of t){y=c?y:x.start;let I=e[y%u],R;for(w=y+1;w<=x.end;w++){const N=e[w%u];R=DT(i.setContext(Bh(r,{type:"segment",p0:I,p1:N,p0DataIndex:(w-1)%u,p1DataIndex:w%u,datasetIndex:o}))),LU(R,p)&&_(y,w-1,x.loop,p),I=N,p=R}y<w-1&&_(y,w-1,x.loop,p)}return f}function DT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function LU(n,t){if(!t)return!1;const e=[],i=function(r,s){return d5(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Im(n,t,e){return n.options.clip?n[e]:t[e]}function PU(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Im(e,t,"left"),right:Im(e,t,"right"),top:Im(i,t,"top"),bottom:Im(i,t,"bottom")}:t}function RI(n,t){const e=t._clip;if(e.disabled)return!1;const i=PU(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(c=>c({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=pI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rc=new kU;const MT="transparent",DU={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=TT(n||MT),r=i.valid&&TT(t||MT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class MU{constructor(t,e,i,r){const s=e[i];r=Tm([t.to,r,s,t.from]);const o=Tm([t.from,s,r]);this._active=!0,this._fn=t.fn||DU[t.type||typeof o],this._easing=xp[t.easing]||xp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Tm([t.to,e,r,t.from]),this._from=Tm([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||e<i),!this._active){this._target[r]=c,this._notify(!0);return}if(e<0){this._target[r]=s;return}u=e/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class CI{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!fn(t))return;const e=Object.keys(Hi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!fn(s))return;const o={};for(const c of e)o[c]=s[c];(Zi(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(t,e){const i=e.options,r=FU(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&OU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=s[f];const w=i.get(f);if(y)if(w&&y.active()){y.update(w,p,c);continue}else y.cancel();if(!w||!w.duration){t[f]=p;continue}s[f]=y=new MU(w,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return rc.add(this._chart,i),!0}}function OU(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function FU(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function OT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function jU(n,t,e){if(e===!1)return!1;const i=OT(n,e),r=OT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function VU(n){let t,e,i,r;return fn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function LI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function FT(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,c,u,f;if(t===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===e){if(p=!0,i.all)continue;break}f=n.values[u],us(f)&&(s||t===0||Al(t)===Al(f))&&(t+=f)}return!p&&!i.all?0:t}function BU(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let u,f,p;for(u=0,f=o.length;u<f;++u)p=o[u],c[u]={[r]:p,[s]:n[p]};return c}function m2(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function UU(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function zU(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function qU(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function jT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function VT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:c}=i,u=s.axis,f=o.axis,p=UU(s,o,i),y=t.length;let w;for(let _=0;_<y;++_){const x=t[_],{[u]:I,[f]:R}=x,N=x._stacks||(x._stacks={});w=N[f]=qU(r,p,I),w[c]=R,w._top=jT(w,o,!0,i.type),w._bottom=jT(w,o,!1,i.type);const M=w._visualValues||(w._visualValues={});M[c]=R}}function y2(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function HU(n,t){return Bh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function GU(n,t,e){return Bh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Xd(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const v2=n=>n==="reset"||n==="none",BT=(n,t)=>t?n:Object.assign({},n),WU=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:LI(e,!0),values:null};class Ih{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=m2(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,w,_,x)=>y==="x"?w:y==="r"?x:_,s=e.xAxisID=Qe(i.xAxisID,y2(t,"x")),o=e.yAxisID=Qe(i.yAxisID,y2(t,"y")),c=e.rAxisID=Qe(i.rAxisID,y2(t,"r")),u=e.indexAxis,f=e.iAxisID=r(u,s,o,c),p=e.vAxisID=r(u,o,s,c);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wT(this._data,this),t._stacked&&Xd(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(fn(e)){const r=this._cachedMeta;this._data=BU(e,r)}else if(i!==e){if(i){wT(i,this);const r=this._cachedMeta;Xd(r),r._parsed=[]}e&&Object.isExtensible(e)&&NB(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=m2(e.vScale,e),e.stack!==i.stack&&(r=!0,Xd(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(VT(this,e._parsed),e._stacked=m2(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let u=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{Zi(r[t])?w=this.parseArrayData(i,r,t,e):fn(r[t])?w=this.parseObjectData(i,r,t,e):w=this.parsePrimitiveData(i,r,t,e);const _=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<e;++p)i._parsed[p+t]=y=w[p],u&&(_()&&(u=!1),f=y);i._sorted=u}o&&VT(this,w)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,c=s.axis,u=o.axis,f=s.getLabels(),p=s===o,y=new Array(r);let w,_,x;for(w=0,_=r;w<_;++w)x=w+i,y[w]={[c]:p||s.parse(f[x],x),[u]:o.parse(e[x],x)};return y}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,c=new Array(r);let u,f,p,y;for(u=0,f=r;u<f;++u)p=u+i,y=e[p],c[u]={x:s.parse(y[0],p),y:o.parse(y[1],p)};return c}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let p,y,w,_;for(p=0,y=r;p<y;++p)w=p+i,_=e[w],f[p]={x:s.parse(Dh(_,c),w),y:o.parse(Dh(_,u),w)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],c={keys:LI(r,!0),values:e._stacks[t.axis]._visualValues};return FT(c,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const c=r&&i._stacks[e.axis];r&&c&&(r.values=c,o=FT(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,c=this._getOtherScale(t),u=WU(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=zU(c);let w,_;function x(){_=r[w];const I=_[c.axis];return!us(_[t.axis])||p>I||y<I}for(w=0;w<o&&!(!x()&&(this.updateRangeFromParsed(f,t,_,u),s));++w);if(s){for(w=o-1;w>=0;--w)if(!x()){this.updateRangeFromParsed(f,t,_,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],us(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=VU(Qe(this.options.clip,jU(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,s,c,u),p=c;p<c+u;++p){const y=r[p];y.hidden||(y.active&&f?o.push(y):y.draw(t,s))}for(p=0;p<o.length;++p)o[p].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=GU(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=HU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,c=s[o],u=this.enableOptionSharing&&Up(i);if(c)return BT(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],w=f.getOptionScopes(this.getDataset(),p),_=Object.keys(Hi.elements[t]),x=()=>this.getContext(i,r,e),I=f.resolveNamedOptions(w,_,x,y);return I.$shared&&(I.$shared=u,s[o]=Object.freeze(BT(I,u))),I}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),w=p.getOptionScopes(this.getDataset(),y);u=p.createResolver(w,this.getContext(t,i,e))}const f=new CI(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||v2(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){v2(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!v2(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let c;const u=f=>{for(f.length+=e,c=f.length-1;c>=o;c--)f[c]=f[c-e]};for(u(s),c=t;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Xd(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}me(Ih,"defaults",{}),me(Ih,"datasetElementType",null),me(Ih,"dataElementType",null);function $U(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=dI(i.sort((r,s)=>r-s))}return n._cache.$bar}function YU(n){const t=n.iScale,e=$U(t,n.type);let i=t._length,r,s,o,c;const u=()=>{o===32767||o===-32768||(Up(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),u();for(c=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),u();return i}function KU(n,t,e,i){const r=e.barThickness;let s,o;return Pn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function XU(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=e.categoryPercentage;o===null&&(o=s-(c===null?t.end-t.start:c-s)),c===null&&(c=s+s-o);const f=s-(s-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/i,ratio:e.barPercentage,start:f}}function QU(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let u=o,f=c;Math.abs(o)>Math.abs(c)&&(u=c,f=o),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:r,end:s,min:o,max:c}}function PI(n,t,e,i){return Zi(n)?QU(n,t,e,i):t[e.axis]=e.parse(n,i),t}function UT(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,u=[];let f,p,y,w;for(f=e,p=e+i;f<p;++f)w=t[f],y={},y[r.axis]=c||r.parse(o[f],f),u.push(PI(w,y,s,f));return u}function _2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function JU(n,t,e){return n!==0?Al(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ZU(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function tz(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:f,bottom:p}=ZU(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(s[zT(p,o,c,u)]=!0,r=f)),s[zT(r,o,c,u)]=!0,n.borderSkipped=s}function zT(n,t,e,i){return i?(n=ez(n,t,e),n=qT(n,e,t)):n=qT(n,t,e),n}function ez(n,t,e){return n===t?e:n===e?t:n}function qT(n,t,e){return n==="start"?t:n==="end"?e:n}function nz(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Xm extends Ih{parsePrimitiveData(t,e,i,r){return UT(t,e,i,r)}parseArrayData(t,e,i,r){return UT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=s.axis==="x"?c:u,p=o.axis==="x"?c:u,y=[];let w,_,x,I;for(w=i,_=i+r;w<_;++w)I=e[w],x={},x[s.axis]=s.parse(Dh(I,f),w),y.push(PI(Dh(I,p),x,o,w));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,c=_2(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(e,r);for(let _=e;_<e+i;_++){const x=this.getParsed(_),I=s||Pn(x[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(_),R=this._calculateBarIndexPixels(_,p),N=(x._stacks||{})[c.axis],M={horizontal:f,base:I.base,enableBorderRadius:!N||_2(x._custom)||o===N._top||o===N._bottom,x:f?I.head:R.center,y:f?R.center:I.head,height:f?R.size:Math.abs(I.size),width:f?Math.abs(I.size):R.size};w&&(M.options=y||this.resolveDataElementOptions(_,t[_].active?"active":r));const G=M.options||t[_].options;tz(M,G,N,o),nz(M,G,p.ratio),this.updateElement(t[_],_,M,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[i.axis],f=p=>{const y=p._parsed.find(_=>_[i.axis]===u),w=y&&y[p.vScale.axis];if(Pn(w)||isNaN(w))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Qe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=t.barThickness;return{min:c||YU(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,u=this.getParsed(t),f=u._custom,p=_2(f);let y=u[e.axis],w=0,_=i?this.applyStack(e,u,i):y,x,I;_!==y&&(w=_-y,_=y),p&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&Al(y)!==Al(f.barEnd)&&(w=0),w+=y);const R=!Pn(s)&&!p?s:w;let N=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(w+_):x=N,I=x-N,Math.abs(I)<o){I=JU(I,e,c)*o,y===c&&(N-=I/2);const M=e.getPixelForDecimal(0),G=e.getPixelForDecimal(1),it=Math.min(M,G),tt=Math.max(M,G);N=Math.max(Math.min(N,tt),it),x=N+I,i&&!p&&(u._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(N))}if(N===e.getPixelForValue(c)){const M=Al(I)*e.getLineWidthForValue(c)/2;N+=M,I-=M}return{size:I,base:N,head:x,center:x+I/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Qe(r.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(e.grouped){const p=s?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?XU(t,e,r,p*f):KU(t,e,r,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Qe(w,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+_;c=y.start+y.chunk*x+y.chunk/2,u=Math.min(o,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(o,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}me(Xm,"id","bar"),me(Xm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),me(Xm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function iz(n,t,e){let i=1,r=1,s=0,o=0;if(t<yi){const c=n,u=c+t,f=Math.cos(c),p=Math.sin(c),y=Math.cos(u),w=Math.sin(u),_=(G,it,tt)=>qp(G,c,u,!0)?1:Math.max(it,it*e,tt,tt*e),x=(G,it,tt)=>qp(G,c,u,!0)?-1:Math.min(it,it*e,tt,tt*e),I=_(0,f,y),R=_(lr,p,w),N=x(Vn,f,y),M=x(Vn+lr,p,w);i=(I-N)/2,r=(R-M)/2,s=-(I+N)/2,o=-(R+M)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Rf extends Ih{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(fn(i[t])){const{key:u="value"}=this._parsing;s=f=>+Dh(i[f],u)}let o,c;for(o=t,c=t+e;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return hc(this.options.rotation-90)}_getCircumference(){return hc(this.options.circumference)}_getRotationExtents(){let t=yi,e=-yi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(hB(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:w,ratioY:_,offsetX:x,offsetY:I}=iz(y,p,u),R=(i.width-o)/w,N=(i.height-o)/_,M=Math.max(Math.min(R,N)/2,0),G=lI(this.options.radius,M),it=Math.max(G*u,0),tt=(G-it)/this._getVisibleDatasetWeightTotal();this.offsetX=x*G,this.offsetY=I*G,r.total=this.calculateTotal(),this.outerRadius=G-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*f,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/yi)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,w=s&&f.animateScale,_=w?0:this.innerRadius,x=w?0:this.outerRadius,{sharedOptions:I,includeOptions:R}=this._getSharedOptions(e,r);let N=this._getRotation(),M;for(M=0;M<e;++M)N+=this._circumference(M,s);for(M=e;M<e+i;++M){const G=this._circumference(M,s),it=t[M],tt={x:p+this.offsetX,y:y+this.offsetY,startAngle:N,endAngle:N+G,circumference:G,outerRadius:x,innerRadius:_};R&&(tt.options=I||this.resolveDataElementOptions(M,it.active?"active":r)),N+=G,this.updateElement(it,M,tt,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?yi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=p5(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,c,u;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}me(Rf,"id","doughnut"),me(Rf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),me(Rf,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),me(Rf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Qm extends Ih{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:c,count:u}=LB(e,r,o);this._drawStart=c,this._drawCount=u,PB(e)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},t),this.updateElements(r,c,u,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),w=o.axis,_=c.axis,{spanGaps:x,segment:I}=this.options,R=zp(x)?x:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||s||r==="none",M=e+i,G=t.length;let it=e>0&&this.getParsed(e-1);for(let tt=0;tt<G;++tt){const pt=t[tt],z=N?pt:{};if(tt<e||tt>=M){z.skip=!0;continue}const P=this.getParsed(tt),U=Pn(P[_]),K=z[w]=o.getPixelForValue(P[w],tt),L=z[_]=s||U?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,P,u):P[_],tt);z.skip=isNaN(K)||isNaN(L)||U,z.stop=tt>0&&Math.abs(P[w]-it[w])>R,I&&(z.parsed=P,z.raw=f.data[tt]),y&&(z.options=p||this.resolveDataElementOptions(tt,pt.active?"active":r)),N||this.updateElement(pt,tt,z,r),it=P}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}me(Qm,"id","line"),me(Qm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),me(Qm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Iv extends Rf{}me(Iv,"id","pie"),me(Iv,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function fh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class w5{constructor(t){me(this,"options");this.options=t||{}}static override(t){Object.assign(w5.prototype,t)}init(){}formats(){return fh()}parse(){return fh()}format(){return fh()}add(){return fh()}diff(){return fh()}startOf(){return fh()}endOf(){return fh()}}var rz={_date:w5};function sz(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&s.length){const f=c._reversePixels?xB:wh;if(i){if(r._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const w=f(s,t,e-y),_=f(s,t,e+y);return{lo:w.lo,hi:_.hi}}}}else{const p=f(s,t,e);if(u){const{vScale:y}=r._cachedMeta,{_parsed:w}=n,_=w.slice(0,p.lo+1).reverse().findIndex(I=>!Pn(I[y.axis]));p.lo-=Math.max(0,_);const x=w.slice(p.hi).findIndex(I=>!Pn(I[y.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:s.length-1}}function g1(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let c=0,u=s.length;c<u;++c){const{index:f,data:p}=s[c],{lo:y,hi:w}=sz(s[c],t,o,r);for(let _=y;_<=w;++_){const x=p[_];x.skip||i(x,f,_)}}}function az(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function b2(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||g1(n,e,t,function(c,u,f){!r&&!Hp(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&s.push({element:c,datasetIndex:u,index:f})},!0),s}function oz(n,t,e,i){let r=[];function s(o,c,u){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:y}=hI(o,{x:t.x,y:t.y});qp(y,f,p)&&r.push({element:o,datasetIndex:c,index:u})}return g1(n,e,t,s),r}function lz(n,t,e,i,r,s){let o=[];const c=az(e);let u=Number.POSITIVE_INFINITY;function f(p,y,w){const _=p.inRange(t.x,t.y,r);if(i&&!_)return;const x=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(x))&&!_)return;const R=c(t,x);R<u?(o=[{element:p,datasetIndex:y,index:w}],u=R):R===u&&o.push({element:p,datasetIndex:y,index:w})}return g1(n,e,t,f),o}function w2(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?oz(n,t,e,r):lz(n,t,e,i,r,s)}function HT(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let c=!1;return g1(n,e,t,(u,f,p)=>{u[o]&&u[o](t[e],r)&&(s.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(t.x,t.y,r))}),i&&!c?[]:s}var cz={modes:{index(n,t,e,i){const r=gh(t,n),s=e.axis||"x",o=e.includeInvisible||!1,c=e.intersect?b2(n,r,s,i,o):w2(n,r,s,!1,i,o),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&u.push({element:y,datasetIndex:f.index,index:p})}),u):[]},dataset(n,t,e,i){const r=gh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let c=e.intersect?b2(n,r,s,i,o):w2(n,r,s,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point(n,t,e,i){const r=gh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return b2(n,r,s,i,o)},nearest(n,t,e,i){const r=gh(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return w2(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=gh(t,n);return HT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=gh(t,n);return HT(n,r,"y",e.intersect,i)}}};const kI=["left","top","right","bottom"];function Qd(n,t){return n.filter(e=>e.pos===t)}function GT(n,t){return n.filter(e=>kI.indexOf(e.pos)===-1&&e.box.axis===t)}function Jd(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function uz(n){const t=[];let e,i,r,s,o,c;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:c=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return t}function hz(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!kI.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function fz(n,t){const e=hz(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:u}=c.box,f=e[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:u&&t.availableWidth,c.height=r):(c.width=i,c.height=p?p*r:u&&t.availableHeight)}return e}function dz(n){const t=uz(n),e=Jd(t.filter(f=>f.box.fullSize),!0),i=Jd(Qd(t,"left"),!0),r=Jd(Qd(t,"right")),s=Jd(Qd(t,"top"),!0),o=Jd(Qd(t,"bottom")),c=GT(t,"x"),u=GT(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:Qd(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function WT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function DI(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function pz(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!fn(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?s.height:s.width),e.size=y.size/y.count,n[r]+=e.size}s.getPadding&&DI(o,s.getPadding());const c=Math.max(0,t.outerWidth-WT(o,n,"left","right")),u=Math.max(0,t.outerHeight-WT(o,n,"top","bottom")),f=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,e.horizontal?{same:f,other:p}:{same:p,other:f}}function gz(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function mz(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function lp(n,t,e,i){const r=[];let s,o,c,u,f,p;for(s=0,o=n.length,f=0;s<o;++s){c=n[s],u=c.box,u.update(c.width||t.w,c.height||t.h,mz(c.horizontal,t));const{same:y,other:w}=pz(t,e,c,i);f|=y&&r.length,p=p||w,u.fullSize||r.push(c)}return f&&lp(r,t,e,i)||p}function Nm(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function $T(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const c of n){const u=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,w=f.size||u.height;Up(f.start)&&(o=f.start),u.fullSize?Nm(u,r.left,o,e.outerWidth-r.right-r.left,w):Nm(u,t.left+f.placed,o,y,w),f.start=o,f.placed+=y,o=u.bottom}else{const y=t.h*p,w=f.size||u.width;Up(f.start)&&(s=f.start),u.fullSize?Nm(u,s,r.top,w,e.outerHeight-r.bottom-r.top):Nm(u,s,t.top+f.placed,w,y),f.start=s,f.placed+=y,s=u.right}}t.x=s,t.y=o}var qa={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Wa(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),c=dz(n.boxes),u=c.vertical,f=c.horizontal;jn(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const p=u.reduce((I,R)=>R.box.options&&R.box.options.display===!1?I:I+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),w=Object.assign({},r);DI(w,Wa(i));const _=Object.assign({maxPadding:w,w:s,h:o,x:r.left,y:r.top},r),x=fz(u.concat(f),y);lp(c.fullSize,_,y,x),lp(u,_,y,x),lp(f,_,y,x)&&lp(u,_,y,x),gz(_),$T(c.leftAndTop,_,y,x),_.x+=_.w,_.y+=_.h,$T(c.rightAndBottom,_,y,x),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},jn(c.chartArea,I=>{const R=I.box;Object.assign(R,n.chartArea),R.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class MI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class yz extends MI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jm="$chartjs",vz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YT=n=>n===null||n==="";function _z(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jm]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",YT(r)){const s=LT(n,"width");s!==void 0&&(n.width=s)}if(YT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=LT(n,"height");s!==void 0&&(n.height=s)}return n}const OI=wU?{passive:!0}:!1;function bz(n,t,e){n&&n.addEventListener(t,e,OI)}function wz(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,OI)}function Az(n,t){const e=vz[n.type]||n.type,{x:i,y:r}=gh(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function D0(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Sz(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||D0(c.addedNodes,i),o=o&&!D0(c.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Tz(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||D0(c.removedNodes,i),o=o&&!D0(c.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wp=new Map;let KT=0;function FI(){const n=window.devicePixelRatio;n!==KT&&(KT=n,Wp.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Ez(n,t){Wp.size||window.addEventListener("resize",FI),Wp.set(n,t)}function xz(n){Wp.delete(n),Wp.size||window.removeEventListener("resize",FI)}function Iz(n,t,e){const i=n.canvas,r=i&&b5(i);if(!r)return;const s=gI((c,u)=>{const f=r.clientWidth;e(c,u),f<r.clientWidth&&e()},window),o=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),Ez(n,s),o}function A2(n,t,e){e&&e.disconnect(),t==="resize"&&xz(n)}function Nz(n,t,e){const i=n.canvas,r=gI(s=>{n.ctx!==null&&e(Az(s,n))},n);return bz(i,t,r),r}class Rz extends MI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(_z(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Jm])return!1;const i=e[Jm].initial;["height","width"].forEach(s=>{const o=i[s];Pn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[Jm],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:Sz,detach:Tz,resize:Iz}[e]||Nz;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:A2,detach:A2,resize:A2}[e]||wz)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return bU(t,e,i,r)}isAttached(t){const e=t&&b5(t);return!!(e&&e.isConnected)}}function Cz(n){return!_5()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?yz:Rz}class Co{constructor(){me(this,"x");me(this,"y");me(this,"active",!1);me(this,"options");me(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return zp(this.x)&&zp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}me(Co,"defaults",{}),me(Co,"defaultRoutes");function Lz(n,t){const e=n.options.ticks,i=Pz(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?Dz(t):[],o=s.length,c=s[0],u=s[o-1],f=[];if(o>r)return Mz(t,f,s,o/r),f;const p=kz(s,t,r);if(o>0){let y,w;const _=o>1?Math.round((u-c)/(o-1)):null;for(Rm(t,f,p,Pn(_)?0:c-_,c),y=0,w=o-1;y<w;y++)Rm(t,f,p,s[y],s[y+1]);return Rm(t,f,p,u,Pn(_)?t.length:u+_),f}return Rm(t,f,p),f}function Pz(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function kz(n,t,e){const i=Oz(n),r=t.length/e;if(!i)return Math.max(r,1);const s=_B(i);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function Dz(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Mz(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function Rm(n,t,e,i,r){const s=Qe(i,0),o=Math.min(Qe(r,n.length),n.length);let c=0,u,f,p;for(e=Math.ceil(e),r&&(u=r-i,e=u/Math.floor(u/e)),p=s;p<0;)c++,p=Math.round(s+c*e);for(f=Math.max(s,0);f<o;f++)f===p&&(t.push(n[f]),c++,p=Math.round(s+c*e))}function Oz(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Fz=n=>n==="left"?"right":n==="right"?"left":n,XT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,QT=(n,t)=>Math.min(t||n,n);function JT(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function jz(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(u-s,o-u):t===0?f=(n.getPixelForTick(1)-u)/2:f=(u-n.getPixelForTick(r-1))/2,u+=r<t?f:-f,u<s-c||u>o+c)))return u}function Vz(n,t){jn(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Zd(n){return n.drawTicks?n.tickLength:0}function ZT(n,t){if(!n.display)return 0;const e=os(n.font,t),i=Wa(n.padding);return(Zi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Bz(n,t){return Bh(n,{scale:t,type:"scale"})}function Uz(n,t,e){return Bh(n,{tick:e,index:t,type:"tick"})}function zz(n,t,e){let i=f5(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Fz(i)),i}function qz(n,t,e,i){const{top:r,left:s,bottom:o,right:c,chart:u}=n,{chartArea:f,scales:p}=u;let y=0,w,_,x;const I=o-r,R=c-s;if(n.isHorizontal()){if(_=es(i,s,c),fn(e)){const N=Object.keys(e)[0],M=e[N];x=p[N].getPixelForValue(M)+I-t}else e==="center"?x=(f.bottom+f.top)/2+I-t:x=XT(n,e,t);w=c-s}else{if(fn(e)){const N=Object.keys(e)[0],M=e[N];_=p[N].getPixelForValue(M)-R+t}else e==="center"?_=(f.left+f.right)/2-R+t:_=XT(n,e,t);x=es(i,o,r),y=e==="left"?-lr:lr}return{titleX:_,titleY:x,maxWidth:w,rotation:y}}class ad extends Co{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ul(t,Number.POSITIVE_INFINITY),e=ul(e,Number.NEGATIVE_INFINITY),i=ul(i,Number.POSITIVE_INFINITY),r=ul(r,Number.NEGATIVE_INFINITY),{min:ul(t,i),max:ul(e,r),minDefined:us(t),maxDefined:us(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)o=c[u].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:ul(e,ul(i,e)),max:ul(i,ul(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ni(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JB(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?JT(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Lz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ni(this.options.afterUpdate,[this])}beforeSetDimensions(){ni(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ni(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ni(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ni(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=ni(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){ni(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ni(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=QT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,c,u,f;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,w=p.highest.height,_=as(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:_/(i-1),y+6>c&&(c=_/(i-(t.offset?.5:1)),u=this.maxHeight-Zd(t.grid)-e.padding-ZT(t.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),o=SB(Math.min(Math.asin(as((p.highest.height+6)/c,-1,1)),Math.asin(as(u/f,-1,1))-Math.asin(as(w/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ni(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ni(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=ZT(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=Zd(s)+u):(t.height=this.maxHeight,t.width=Zd(s)+u),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:w}=this._getLabelSizes(),_=i.padding*2,x=hc(this.labelRotation),I=Math.cos(x),R=Math.sin(x);if(c){const N=i.mirror?0:R*y.width+I*w.height;t.height=Math.min(this.maxHeight,t.height+N+_)}else{const N=i.mirror?0:I*y.width+R*w.height;t.width=Math.min(this.maxWidth,t.width+N+_)}this._calculatePadding(f,p,R,I)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,_=0;u?f?(w=r*t.width,_=i*e.height):(w=i*t.height,_=r*e.width):s==="start"?_=e.width:s==="end"?w=t.width:s!=="inner"&&(w=t.width/2,_=e.width/2),this.paddingLeft=Math.max((w-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+o)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;s==="start"?(p=0,y=t.height):s==="end"&&(p=e.height,y=0),this.paddingTop=p+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ni(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Pn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=JT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(e/QT(e,i));let f=0,p=0,y,w,_,x,I,R,N,M,G,it,tt;for(y=0;y<e;y+=u){if(x=t[y].label,I=this._resolveTickFontOptions(y),r.font=R=I.string,N=s[R]=s[R]||{data:{},gc:[]},M=I.lineHeight,G=it=0,!Pn(x)&&!Zi(x))G=xT(r,N.data,N.gc,G,x),it=M;else if(Zi(x))for(w=0,_=x.length;w<_;++w)tt=x[w],!Pn(tt)&&!Zi(tt)&&(G=xT(r,N.data,N.gc,G,tt),it+=M);o.push(G),c.push(it),f=Math.max(G,f),p=Math.max(it,p)}Vz(s,e);const pt=o.indexOf(f),z=c.indexOf(p),P=U=>({width:o[U]||0,height:c[U]||0});return{first:P(0),last:P(e-1),widest:P(pt),highest:P(z),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return EB(this._alignToPixels?hh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Uz(this.getContext(),t,i))}return this.$context||(this.$context=Bz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=hc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,f=this.isHorizontal(),y=this.ticks.length+(u?1:0),w=Zd(s),_=[],x=c.setContext(this.getContext()),I=x.display?x.width:0,R=I/2,N=function(et){return hh(i,et,I)};let M,G,it,tt,pt,z,P,U,K,L,D,j;if(o==="top")M=N(this.bottom),z=this.bottom-w,U=M-R,L=N(t.top)+R,j=t.bottom;else if(o==="bottom")M=N(this.top),L=t.top,j=N(t.bottom)-R,z=M+R,U=this.top+w;else if(o==="left")M=N(this.right),pt=this.right-w,P=M-R,K=N(t.left)+R,D=t.right;else if(o==="right")M=N(this.left),K=t.left,D=N(t.right)-R,pt=M+R,P=this.left+w;else if(e==="x"){if(o==="center")M=N((t.top+t.bottom)/2+.5);else if(fn(o)){const et=Object.keys(o)[0],ht=o[et];M=N(this.chart.scales[et].getPixelForValue(ht))}L=t.top,j=t.bottom,z=M+R,U=z+w}else if(e==="y"){if(o==="center")M=N((t.left+t.right)/2);else if(fn(o)){const et=Object.keys(o)[0],ht=o[et];M=N(this.chart.scales[et].getPixelForValue(ht))}pt=M-R,P=pt-w,K=t.left,D=t.right}const at=Qe(r.ticks.maxTicksLimit,y),wt=Math.max(1,Math.ceil(y/at));for(G=0;G<y;G+=wt){const et=this.getContext(G),ht=s.setContext(et),ft=c.setContext(et),Et=ht.lineWidth,Q=ht.color,St=ft.dash||[],F=ft.dashOffset,W=ht.tickWidth,Z=ht.tickColor,st=ht.tickBorderDash||[],ct=ht.tickBorderDashOffset;it=jz(this,G,u),it!==void 0&&(tt=hh(i,it,Et),f?pt=P=K=D=tt:z=U=L=j=tt,_.push({tx1:pt,ty1:z,tx2:P,ty2:U,x1:K,y1:L,x2:D,y2:j,width:Et,color:Q,borderDash:St,borderDashOffset:F,tickWidth:W,tickColor:Z,tickBorderDash:st,tickBorderDashOffset:ct}))}return this._ticksLength=y,this._borderValue=M,_}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:y}=s,w=Zd(i.grid),_=w+p,x=y?-p:_,I=-hc(this.labelRotation),R=[];let N,M,G,it,tt,pt,z,P,U,K,L,D,j="middle";if(r==="top")pt=this.bottom-x,z=this._getXAxisLabelAlignment();else if(r==="bottom")pt=this.top+x,z=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(w);z=wt.textAlign,tt=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(w);z=wt.textAlign,tt=wt.x}else if(e==="x"){if(r==="center")pt=(t.top+t.bottom)/2+_;else if(fn(r)){const wt=Object.keys(r)[0],et=r[wt];pt=this.chart.scales[wt].getPixelForValue(et)+_}z=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")tt=(t.left+t.right)/2-_;else if(fn(r)){const wt=Object.keys(r)[0],et=r[wt];tt=this.chart.scales[wt].getPixelForValue(et)}z=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(u==="start"?j="top":u==="end"&&(j="bottom"));const at=this._getLabelSizes();for(N=0,M=c.length;N<M;++N){G=c[N],it=G.label;const wt=s.setContext(this.getContext(N));P=this.getPixelForTick(N)+s.labelOffset,U=this._resolveTickFontOptions(N),K=U.lineHeight,L=Zi(it)?it.length:1;const et=L/2,ht=wt.color,ft=wt.textStrokeColor,Et=wt.textStrokeWidth;let Q=z;o?(tt=P,z==="inner"&&(N===M-1?Q=this.options.reverse?"left":"right":N===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?f==="near"||I!==0?D=-L*K+K/2:f==="center"?D=-at.highest.height/2-et*K+K:D=-at.highest.height+K/2:f==="near"||I!==0?D=K/2:f==="center"?D=at.highest.height/2-et*K:D=at.highest.height-L*K,y&&(D*=-1),I!==0&&!wt.showLabelBackdrop&&(tt+=K/2*Math.sin(I))):(pt=P,D=(1-L)*K/2);let St;if(wt.showLabelBackdrop){const F=Wa(wt.backdropPadding),W=at.heights[N],Z=at.widths[N];let st=D-F.top,ct=0-F.left;switch(j){case"middle":st-=W/2;break;case"bottom":st-=W;break}switch(z){case"center":ct-=Z/2;break;case"right":ct-=Z;break;case"inner":N===M-1?ct-=Z:N>0&&(ct-=Z/2);break}St={left:ct,top:st,width:Z+F.width,height:W+F.height,color:wt.backdropColor}}R.push({label:it,font:U,textOffset:D,options:{rotation:I,color:ht,strokeColor:ft,strokeWidth:Et,textAlign:Q,textBaseline:j,translation:[tt,pt],backdrop:St}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-hc(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=t+s,u=o.widest.width;let f,p;return e==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const c=(u,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const u=r[s];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,y,w;this.isHorizontal()?(f=hh(t,this.left,o)-o/2,p=hh(t,this.right,c)+c/2,y=w=u):(y=hh(t,this.top,o)-o/2,w=hh(t,this.bottom,c)+c/2,f=p=u),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&f1(i,r);const s=this.getLabelItems(t);for(const o of s){const c=o.options,u=o.font,f=o.label,p=o.textOffset;Gp(i,f,0,p,u,c)}r&&d1(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=os(i.font),o=Wa(i.padding),c=i.align;let u=s.lineHeight/2;e==="bottom"||e==="center"||fn(e)?(u+=o.bottom,Zi(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:p,maxWidth:y,rotation:w}=qz(this,u,e,c);Gp(t,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:w,textAlign:zz(c,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qe(t.grid&&t.grid.z,-1),r=Qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ad.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const c=e[s];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return os(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Cm{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Wz(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,Hz(t,o,i),this.override&&Hi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Hi[r]&&(delete Hi[r][i],this.override&&delete Mh[i])}}function Hz(n,t,e){const i=Bp(Object.create(null),[e?Hi.get(e):{},Hi.get(t),n.defaults]);Hi.set(t,i),n.defaultRoutes&&Gz(t,n.defaultRoutes),n.descriptors&&Hi.describe(t,n.descriptors)}function Gz(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),c=o.pop(),u=o.join(".");Hi.route(s,r,u,c)})}function Wz(n){return"id"in n&&"defaults"in n}class $z{constructor(){this.controllers=new Cm(Ih,"datasets",!0),this.elements=new Cm(Co,"elements"),this.plugins=new Cm(Object,"plugins"),this.scales=new Cm(ad,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):jn(r,o=>{const c=i||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,e,i){const r=u5(t);ni(i["before"+r],[],i),e[t](i),ni(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var dl=new $z;class Yz{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,c=o[i],u=[e,r,s.options];if(ni(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qe(i.options&&i.options.plugins,{}),s=Kz(i);return r===!1&&!e?[]:Qz(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Kz(n){const t={},e=[],i=Object.keys(dl.plugins.items);for(let s=0;s<i.length;s++)e.push(dl.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Xz(n,t){return!t&&n===!1?null:n===!0?{}:n}function Qz(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const c of t){const u=c.id,f=Xz(i[u],r);f!==null&&s.push({plugin:c,options:Jz(n.config,{plugin:c,local:e[u]},f,o)})}return s}function Jz(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nv(n,t){const e=Hi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Zz(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function tq(n,t){return n===t?"_index_":"_value_"}function tE(n){if(n==="x"||n==="y"||n==="r")return n}function eq(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Rv(n,...t){if(tE(n))return n;for(const e of t){const i=e.axis||eq(e.position)||n.length>1&&tE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function eE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function nq(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return eE(n,"x",e[0])||eE(n,"y",e[0])}return{}}function iq(n,t){const e=Mh[n.type]||{scales:{}},i=t.scales||{},r=Nv(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!fn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Rv(o,c,nq(o,n),Hi.scales[c.type]),f=tq(u,r),p=e.scales||{};s[o]=Tp(Object.create(null),[{axis:u},c,p[u],p[f]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,u=o.indexAxis||Nv(c,t),p=(Mh[c]||{}).scales||{};Object.keys(p).forEach(y=>{const w=Zz(y,u),_=o[w+"AxisID"]||w;s[_]=s[_]||Object.create(null),Tp(s[_],[{axis:w},i[_],p[y]])})}),Object.keys(s).forEach(o=>{const c=s[o];Tp(c,[Hi.scales[c.type],Hi.scale])}),s}function jI(n){const t=n.options||(n.options={});t.plugins=Qe(t.plugins,{}),t.scales=iq(n,t)}function VI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function rq(n){return n=n||{},n.data=VI(n.data),jI(n),n}const nE=new Map,BI=new Set;function Lm(n,t){let e=nE.get(n);return e||(e=t(),nE.set(n,e),BI.add(e)),e}const tp=(n,t,e)=>{const i=Dh(t,e);i!==void 0&&n.add(i)};class sq{constructor(t){this._config=rq(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=VI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Lm(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Lm(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Lm(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Lm(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),c=o.get(e);if(c)return c;const u=new Set;e.forEach(p=>{t&&(u.add(t),p.forEach(y=>tp(u,t,y))),p.forEach(y=>tp(u,r,y)),p.forEach(y=>tp(u,Mh[s]||{},y)),p.forEach(y=>tp(u,Hi,y)),p.forEach(y=>tp(u,Ev,y))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),BI.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Mh[e]||{},Hi.datasets[e]||{},{type:e},Hi,Ev]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=iE(this._resolverCache,t,r);let u=o;if(oq(o,e)){s.$shared=!1,i=Fu(i)?i():i;const f=this.createResolver(t,i,c);u=Qf(o,i,f)}for(const f of e)s[f]=u[f];return s}createResolver(t,e,i=[""],r){const{resolver:s}=iE(this._resolverCache,t,i);return fn(e)?Qf(s,e,void 0,r):s}}function iE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:m5(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const aq=n=>fn(n)&&Object.getOwnPropertyNames(n).some(t=>Fu(n[t]));function oq(n,t){const{isScriptable:e,isIndexable:i}=_I(n);for(const r of t){const s=e(r),o=i(r),c=(o||s)&&n[r];if(s&&(Fu(c)||aq(c))||o&&Zi(c))return!0}return!1}var lq="4.5.0";const cq=["top","bottom","left","right","chartArea"];function rE(n,t){return n==="top"||n==="bottom"||cq.indexOf(n)===-1&&t==="x"}function sE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function aE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ni(e&&e.onComplete,[n],t)}function uq(n){const t=n.chart,e=t.options.animation;ni(e&&e.onProgress,[n],t)}function UI(n){return _5()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Zm={},oE=n=>{const t=UI(n);return Object.values(Zm).filter(e=>e.canvas===t).pop()};function hq(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function fq(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var lu;let m1=(lu=class{static register(...t){dl.add(...t),lE()}static unregister(...t){dl.remove(...t),lE()}constructor(t,e){const i=this.config=new sq(e),r=UI(t),s=oE(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Cz(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;if(this.id=uB(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RB(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Zm[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}rc.listen(this,"complete",aE),rc.listen(this,"progress",uq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Pn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return dl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return IT(this.canvas,this.ctx),this}stop(){return rc.stop(this),this}resize(t,e){rc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,CT(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),ni(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};jn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const c=e[o],u=Rv(o,c),f=u==="r",p=u==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),jn(s,o=>{const c=o.options,u=c.id,f=Rv(u,c),p=Qe(c.type,o.dtype);(c.position===void 0||rE(c.position,f)!==rE(o.dposition))&&(c.position=o.dposition),r[u]=!0;let y=null;if(u in i&&i[u].type===p)y=i[u];else{const w=dl.getScale(p);y=new w({id:u,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),jn(r,(o,c)=>{o||delete i[c]}),jn(i,o=>{qa.configure(this,o,o.options),qa.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(sE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||Nv(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=dl.getController(c),{datasetElementType:f,dataElementType:p}=Hi.datasets[c];Object.assign(u,{dataElementType:dl.getElement(p),datasetElementType:f&&dl.getElement(f)}),o.controller=new u(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){jn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),w=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(w),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||jn(s,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sE("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){jn(this.scales,t=>{qa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!yT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;hq(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!yT(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qa.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],jn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fu(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rc.has(this)?this.attached&&!rc.running(this)&&rc.start(this):(this.draw(),aE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=RI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&f1(e,r),t.controller.draw(),r&&d1(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Hp(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=cz.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Bh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Up(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),rc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),IT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Zm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};jn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},r=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},s=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():o()}unbindEvents(){jn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},jn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,c,u;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){o=t[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!R0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(u,f)=>u.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),o=s(e,t),c=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,c=this._getActiveElements(t,r,i,o),u=mB(t),f=fq(t,this._lastEvent,i,u);i&&(this._lastEvent=null,ni(s.onHover,[t,c,this],this),u&&ni(s.onClick,[t,c,this],this));const p=!R0(c,r);return(p||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},me(lu,"defaults",Hi),me(lu,"instances",Zm),me(lu,"overrides",Mh),me(lu,"registry",dl),me(lu,"version",lq),me(lu,"getChart",oE),lu);function lE(){return jn(m1.instances,n=>n._plugins.invalidate())}function dq(n,t,e){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=t,{borderWidth:f,borderJoinStyle:p}=u,y=Math.min(f/o,fa(i-e));if(n.beginPath(),n.arc(r,s,o-f/2,i+y/2,e-y/2),c>0){const w=Math.min(f/c,fa(i-e));n.arc(r,s,c+f/2,e-w/2,i+w/2,!0)}else{const w=Math.min(f/2,o*fa(i-e));if(p==="round")n.arc(r,s,w,e-Vn/2,i+Vn/2,!0);else if(p==="bevel"){const _=2*w*w,x=-_*Math.cos(e+Vn/2)+r,I=-_*Math.sin(e+Vn/2)+s,R=_*Math.cos(i+Vn/2)+r,N=_*Math.sin(i+Vn/2)+s;n.lineTo(x,I),n.lineTo(R,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function pq(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=t;let f=r/c;n.beginPath(),n.arc(s,o,c,i-f,e+f),u>r?(f=r/u,n.arc(s,o,u,e+f,i-f,!0)):n.arc(s,o,r,e+lr,i-lr),n.closePath(),n.clip()}function gq(n){return g5(n,["outerStart","outerEnd","innerStart","innerEnd"])}function mq(n,t,e,i){const r=gq(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),c=u=>{const f=(e-Math.min(s,u))*i/2;return as(u,0,Math.min(s,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:as(r.innerStart,0,o),innerEnd:as(r.innerEnd,0,o)}}function bf(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function M0(n,t,e,i,r,s){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+e-f,0),w=p>0?p+i+e+f:0;let _=0;const x=r-u;if(i){const wt=p>0?p-i:0,et=y>0?y-i:0,ht=(wt+et)/2,ft=ht!==0?x*ht/(ht+i):x;_=(x-ft)/2}const I=Math.max(.001,x*y-e/Vn)/y,R=(x-I)/2,N=u+R+_,M=r-R-_,{outerStart:G,outerEnd:it,innerStart:tt,innerEnd:pt}=mq(t,w,y,M-N),z=y-G,P=y-it,U=N+G/z,K=M-it/P,L=w+tt,D=w+pt,j=N+tt/L,at=M-pt/D;if(n.beginPath(),s){const wt=(U+K)/2;if(n.arc(o,c,y,U,wt),n.arc(o,c,y,wt,K),it>0){const Et=bf(P,K,o,c);n.arc(Et.x,Et.y,it,K,M+lr)}const et=bf(D,M,o,c);if(n.lineTo(et.x,et.y),pt>0){const Et=bf(D,at,o,c);n.arc(Et.x,Et.y,pt,M+lr,at+Math.PI)}const ht=(M-pt/w+(N+tt/w))/2;if(n.arc(o,c,w,M-pt/w,ht,!0),n.arc(o,c,w,ht,N+tt/w,!0),tt>0){const Et=bf(L,j,o,c);n.arc(Et.x,Et.y,tt,j+Math.PI,N-lr)}const ft=bf(z,N,o,c);if(n.lineTo(ft.x,ft.y),G>0){const Et=bf(z,U,o,c);n.arc(Et.x,Et.y,G,N-lr,U)}}else{n.moveTo(o,c);const wt=Math.cos(U)*y+o,et=Math.sin(U)*y+c;n.lineTo(wt,et);const ht=Math.cos(K)*y+o,ft=Math.sin(K)*y+c;n.lineTo(ht,ft)}n.closePath()}function yq(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c}=t;let u=t.endAngle;if(s){M0(n,t,e,i,u,r);for(let f=0;f<s;++f)n.fill();isNaN(c)||(u=o+(c%yi||yi))}return M0(n,t,e,i,u,r),n.fill(),u}function vq(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:w,borderRadius:_}=u,x=u.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=w,x?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let I=t.endAngle;if(s){M0(n,t,e,i,I,r);for(let R=0;R<s;++R)n.stroke();isNaN(c)||(I=o+(c%yi||yi))}x&&pq(n,t,I),u.selfJoin&&I-o>=Vn&&_===0&&p!=="miter"&&dq(n,t,I),s||(M0(n,t,e,i,I,r),n.stroke())}class cp extends Co{constructor(e){super();me(this,"circumference");me(this,"endAngle");me(this,"fullCircles");me(this,"innerRadius");me(this,"outerRadius");me(this,"pixelMargin");me(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:c}=hI(s,{x:e,y:i}),{startAngle:u,endAngle:f,innerRadius:p,outerRadius:y,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,x=Qe(w,f-u),I=qp(o,u,f)&&u!==f,R=x>=yi||I,N=fc(c,p+_,y+_);return R&&N}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,y=(s+o)/2,w=(c+u+p+f)/2;return{x:i+Math.cos(y)*w,y:r+Math.sin(y)*w}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>yi?Math.floor(r/yi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*s,Math.sin(u)*s);const f=1-Math.sin(Math.min(Vn,r||0)),p=s*f;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,yq(e,this,p,o,c),vq(e,this,p,o,c),e.restore()}}me(cp,"id","arc"),me(cp,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),me(cp,"defaultRoutes",{backgroundColor:"backgroundColor"}),me(cp,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function zI(n,t,e=t){n.lineCap=Qe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Qe(e.borderDash,t.borderDash)),n.lineDashOffset=Qe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Qe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Qe(e.borderWidth,t.borderWidth),n.strokeStyle=Qe(e.borderColor,t.borderColor)}function _q(n,t,e){n.lineTo(e.x,e.y)}function bq(n){return n.stepped?qB:n.tension||n.cubicInterpolationMode==="monotone"?HB:_q}function qI(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:c}=t,u=Math.max(r,o),f=Math.min(s,c),p=r<o&&s<o||r>c&&s>c;return{count:i,start:u,loop:t.loop,ilen:f<u&&!p?i+f-u:f-u}}function wq(n,t,e,i){const{points:r,options:s}=t,{count:o,start:c,loop:u,ilen:f}=qI(r,e,i),p=bq(s);let{move:y=!0,reverse:w}=i||{},_,x,I;for(_=0;_<=f;++_)x=r[(c+(w?f-_:_))%o],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):p(n,I,x,w,s.stepped),I=x);return u&&(x=r[(c+(w?f:0))%o],p(n,I,x,w,s.stepped)),!!u}function Aq(n,t,e,i){const r=t.points,{count:s,start:o,ilen:c}=qI(r,e,i),{move:u=!0,reverse:f}=i||{};let p=0,y=0,w,_,x,I,R,N;const M=it=>(o+(f?c-it:it))%s,G=()=>{I!==R&&(n.lineTo(p,R),n.lineTo(p,I),n.lineTo(p,N))};for(u&&(_=r[M(0)],n.moveTo(_.x,_.y)),w=0;w<=c;++w){if(_=r[M(w)],_.skip)continue;const it=_.x,tt=_.y,pt=it|0;pt===x?(tt<I?I=tt:tt>R&&(R=tt),p=(y*p+it)/++y):(G(),n.lineTo(it,tt),x=pt,y=0,I=R=tt),N=tt}G()}function Cv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Aq:wq}function Sq(n){return n.stepped?AU:n.tension||n.cubicInterpolationMode==="monotone"?SU:mh}function Tq(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),zI(n,t.options),n.stroke(r)}function Eq(n,t,e,i){const{segments:r,options:s}=t,o=Cv(t);for(const c of r)zI(n,s,c.style),n.beginPath(),o(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const xq=typeof Path2D=="function";function Iq(n,t,e,i){xq&&!t.options.segment?Tq(n,t,e,i):Eq(n,t,e,i)}class yu extends Co{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;pU(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RU(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=NI(this,{property:e,start:r,end:r});if(!o.length)return;const c=[],u=Sq(i);let f,p;for(f=0,p=o.length;f<p;++f){const{start:y,end:w}=o[f],_=s[y],x=s[w];if(_===x){c.push(_);continue}const I=Math.abs((r-_[e])/(x[e]-_[e])),R=u(_,x,I,i.stepped);R[e]=t[e],c.push(R)}return c.length===1?c[0]:c}pathSegment(t,e,i){return Cv(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=Cv(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const c of r)o&=s(t,this,c,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Iq(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}me(yu,"id","line"),me(yu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),me(yu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),me(yu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function cE(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class t0 extends Co{constructor(e){super();me(this,"parsed");me(this,"skip");me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return cE(this,e,"x",i)}inYRange(e,i){return cE(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Hp(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,xv(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}me(t0,"id","point"),me(t0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),me(t0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function HI(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let c,u,f,p,y;return n.horizontal?(y=o/2,c=Math.min(e,r),u=Math.max(e,r),f=i-y,p=i+y):(y=s/2,c=e-y,u=e+y,f=Math.min(i,r),p=Math.max(i,r)),{left:c,top:f,right:u,bottom:p}}function vu(n,t,e,i){return n?0:as(t,e,i)}function Nq(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=vI(i);return{t:vu(r.top,s.top,0,e),r:vu(r.right,s.right,0,t),b:vu(r.bottom,s.bottom,0,e),l:vu(r.left,s.left,0,t)}}function Rq(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Uf(r),o=Math.min(t,e),c=n.borderSkipped,u=i||fn(r);return{topLeft:vu(!u||c.top||c.left,s.topLeft,0,o),topRight:vu(!u||c.top||c.right,s.topRight,0,o),bottomLeft:vu(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:vu(!u||c.bottom||c.right,s.bottomRight,0,o)}}function Cq(n){const t=HI(n),e=t.right-t.left,i=t.bottom-t.top,r=Nq(n,e/2,i/2),s=Rq(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function S2(n,t,e,i){const r=t===null,s=e===null,c=n&&!(r&&s)&&HI(n,i);return c&&(r||fc(t,c.left,c.right))&&(s||fc(e,c.top,c.bottom))}function Lq(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Pq(n,t){n.rect(t.x,t.y,t.w,t.h)}function T2(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class e0 extends Co{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=Cq(this),c=Lq(o.radius)?P0:Pq;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),c(t,T2(o,e,s)),t.clip(),c(t,T2(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,T2(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return S2(this,t,e,i)}inXRange(t,e){return S2(this,t,null,e)}inYRange(t,e){return S2(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}me(e0,"id","bar"),me(e0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),me(e0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kq(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const c of i){let{start:u,end:f}=c;f=y1(u,f,r);const p=Lv(e,r[u],r[f],c.loop);if(!t.segments){o.push({source:c,target:p,start:r[u],end:r[f]});continue}const y=NI(t,p);for(const w of y){const _=Lv(e,s[w.start],s[w.end],w.loop),x=II(c,r,_);for(const I of x)o.push({source:I,target:w,start:{[e]:uE(p,_,"start",Math.max)},end:{[e]:uE(p,_,"end",Math.min)}})}}return o}function Lv(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=fa(r),s=fa(s)),{property:n,start:r,end:s}}function Dq(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:c})=>{c=y1(o,c,r);const u=r[o],f=r[c];i!==null?(s.push({x:u.x,y:i}),s.push({x:f.x,y:i})):e!==null&&(s.push({x:e,y:u.y}),s.push({x:e,y:f.y}))}),s}function y1(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function uE(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function GI(n,t){let e=[],i=!1;return Zi(n)?(i=!0,e=n):e=Dq(n,t),e.length?new yu({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function hE(n){return n&&n.fill!==!1}function Mq(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!us(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Oq(n,t,e){const i=Bq(n);if(fn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return us(r)&&Math.floor(r)===r?Fq(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Fq(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function jq(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:fn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Vq(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:fn(n)?i=n.value:i=t.getBaseValue(),i}function Bq(n){const t=n.options,e=t.fill;let i=Qe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Uq(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,c=zq(t,e);c.push(GI({x:null,y:t.bottom},i));for(let u=0;u<s.length;u++){const f=s[u];for(let p=f.start;p<=f.end;p++)qq(r,o[p],c)}return new yu({points:r,options:{}})}function zq(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function qq(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:c,point:u}=Hq(s,t,"x");if(!(!u||o&&c)){if(o)i.unshift(u);else if(n.push(u),!c)break}}n.push(...i)}function Hq(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let c=!1,u=!1;for(let f=0;f<s.length;f++){const p=s[f],y=o[p.start][e],w=o[p.end][e];if(fc(r,y,w)){c=r===y,u=r===w;break}}return{first:c,last:u,point:i}}class WI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:yi},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function Gq(n){const{chart:t,fill:e,line:i}=n;if(us(e))return Wq(t,e);if(e==="stack")return Uq(n);if(e==="shape")return!0;const r=$q(n);return r instanceof WI?r:GI(r,i)}function Wq(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function $q(n){return(n.scale||{}).getPointPositionForValue?Kq(n):Yq(n)}function Yq(n){const{scale:t={},fill:e}=n,i=jq(e,t);if(us(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Kq(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=Vq(e,t,s),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,s);return new WI({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)c.push(t.getPointPositionForValue(u,o));return c}function E2(n,t,e){const i=Gq(t),{chart:r,index:s,line:o,scale:c,axis:u}=t,f=o.options,p=f.fill,y=f.backgroundColor,{above:w=y,below:_=y}=p||{},x=r.getDatasetMeta(s),I=RI(r,x);i&&o.points.length&&(f1(n,e),Xq(n,{line:o,target:i,above:w,below:_,area:e,scale:c,axis:u,clip:I}),d1(n))}function Xq(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:c,clip:u}=t,f=e._loop?"angle":t.axis;n.save();let p=s;s!==r&&(f==="x"?(fE(n,i,o.top),x2(n,{line:e,target:i,color:r,scale:c,property:f,clip:u}),n.restore(),n.save(),fE(n,i,o.bottom)):f==="y"&&(dE(n,i,o.left),x2(n,{line:e,target:i,color:s,scale:c,property:f,clip:u}),n.restore(),n.save(),dE(n,i,o.right),p=r)),x2(n,{line:e,target:i,color:p,scale:c,property:f,clip:u}),n.restore()}function fE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],y=r[y1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function dE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],y=r[y1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function x2(n,t){const{line:e,target:i,property:r,color:s,scale:o,clip:c}=t,u=kq(e,i,r);for(const{source:f,target:p,start:y,end:w}of u){const{style:{backgroundColor:_=s}={}}=f,x=i!==!0;n.save(),n.fillStyle=_,Qq(n,o,c,x&&Lv(r,y,w)),n.beginPath();const I=!!e.pathSegment(n,f);let R;if(x){I?n.closePath():pE(n,i,w,r);const N=!!i.pathSegment(n,p,{move:I,reverse:!0});R=I&&N,R||pE(n,i,y,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function Qq(n,t,e,i){const r=t.chart.chartArea,{property:s,start:o,end:c}=i||{};if(s==="x"||s==="y"){let u,f,p,y;s==="x"?(u=o,f=r.top,p=c,y=r.bottom):(u=r.left,f=o,p=r.right,y=c),n.beginPath(),e&&(u=Math.max(u,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(u,f,p-u,y-f),n.clip()}}function pE(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Jq={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,c,u;for(o=0;o<i;++o)s=n.getDatasetMeta(o),c=s.dataset,u=null,c&&c.options&&c instanceof yu&&(u={visible:n.isDatasetVisible(o),index:o,fill:Oq(c,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=Mq(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&E2(n.ctx,c,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;hE(s)&&E2(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!hE(i)||e.drawTime!=="beforeDatasetDraw"||E2(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},Zq=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class mE extends Co{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ni(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=os(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=gE(i,s);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,c,u)+10):(p=this.maxHeight,f=this._fitCols(o,r,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+c;let y=t;s.textAlign="left",s.textBaseline="middle";let w=-1,_=-p;return this.legendItems.forEach((x,I)=>{const R=i+e/2+s.measureText(x.text).width;(I===0||f[f.length-1]+R+2*c>o)&&(y+=p,f[f.length-(I>0?0:1)]=0,_+=p,w++),u[I]={left:0,top:_,row:w,width:R,height:r},f[f.length-1]+=R+c}),y}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-t;let y=c,w=0,_=0,x=0,I=0;return this.legendItems.forEach((R,N)=>{const{itemWidth:M,itemHeight:G}=tH(i,e,s,R,r);N>0&&_+G+2*c>p&&(y+=w+c,f.push({width:w,height:_}),x+=w+c,I++,w=_=0),u[N]={left:x,top:_,col:I,width:M,height:G},w=Math.max(w,M),_+=G+c}),y+=w,f.push({width:w,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=zf(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=es(i,this.left+r,this.right-this.lineWidths[c]);for(const f of e)c!==f.row&&(c=f.row,u=es(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+t+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let c=0,u=es(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const f of e)f.col!==c&&(c=f.col,u=es(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;f1(t,this),this._draw(),d1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,c=Hi.color,u=zf(t.rtl,this.left,this.width),f=os(o.font),{padding:p}=o,y=f.size,w=y/2;let _;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:x,boxHeight:I,itemHeight:R}=gE(o,y),N=function(pt,z,P){if(isNaN(x)||x<=0||isNaN(I)||I<0)return;r.save();const U=Qe(P.lineWidth,1);if(r.fillStyle=Qe(P.fillStyle,c),r.lineCap=Qe(P.lineCap,"butt"),r.lineDashOffset=Qe(P.lineDashOffset,0),r.lineJoin=Qe(P.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=Qe(P.strokeStyle,c),r.setLineDash(Qe(P.lineDash,[])),o.usePointStyle){const K={radius:I*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:U},L=u.xPlus(pt,x/2),D=z+w;yI(r,K,L,D,o.pointStyleWidth&&x)}else{const K=z+Math.max((y-I)/2,0),L=u.leftForLtr(pt,x),D=Uf(P.borderRadius);r.beginPath(),Object.values(D).some(j=>j!==0)?P0(r,{x:L,y:K,w:x,h:I,radius:D}):r.rect(L,K,x,I),r.fill(),U!==0&&r.stroke()}r.restore()},M=function(pt,z,P){Gp(r,P.text,pt,z+R/2,f,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},G=this.isHorizontal(),it=this._computeTitleHeight();G?_={x:es(s,this.left+p,this.right-i[0]),y:this.top+p+it,line:0}:_={x:this.left+p,y:es(s,this.top+it+p,this.bottom-e[0].height),line:0},TI(this.ctx,t.textDirection);const tt=R+p;this.legendItems.forEach((pt,z)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const P=r.measureText(pt.text).width,U=u.textAlign(pt.textAlign||(pt.textAlign=o.textAlign)),K=x+w+P;let L=_.x,D=_.y;u.setWidth(this.width),G?z>0&&L+K+p>this.right&&(D=_.y+=tt,_.line++,L=_.x=es(s,this.left+p,this.right-i[_.line])):z>0&&D+tt>this.bottom&&(L=_.x=L+e[_.line].width+p,_.line++,D=_.y=es(s,this.top+it+p,this.bottom-e[_.line].height));const j=u.x(L);if(N(j,D,pt),L=CB(U,L+x+w,G?L+K:this.right,t.rtl),M(u.x(L),D,pt),G)_.x+=K+p;else if(typeof pt.text!="string"){const at=f.lineHeight;_.y+=$I(pt,at)+p}else _.y+=tt}),EI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=os(e.font),r=Wa(e.padding);if(!e.display)return;const s=zf(t.rtl,this.left,this.width),o=this.ctx,c=e.position,u=i.size/2,f=r.top+u;let p,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,y=es(t.align,y,this.right-w);else{const x=this.columnSizes.reduce((I,R)=>Math.max(I,R.height),0);p=f+es(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const _=es(c,y,y+w);o.textAlign=s.textAlign(f5(c)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Gp(o,e.text,_,p,i)}_computeTitleHeight(){const t=this.options.title,e=os(t.font),i=Wa(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(fc(t,this.left,this.right)&&fc(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],fc(t,r.left,r.left+r.width)&&fc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!iH(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=Zq(r,i);r&&!s&&ni(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&ni(e.onHover,[t,i,this],this)}else i&&ni(e.onClick,[t,i,this],this)}}function tH(n,t,e,i,r){const s=eH(i,n,t,e),o=nH(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function eH(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function nH(n,t,e){let i=n;return typeof t.text!="string"&&(i=$I(t,e)),i}function $I(n,t){const e=n.text?n.text.length:0;return t*e}function iH(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var rH={id:"legend",_element:mE,start(n,t,e){const i=n.legend=new mE({ctx:n.ctx,options:e,chart:n});qa.configure(n,i,e),qa.addBox(n,i)},stop(n){qa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;qa.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),p=Wa(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class YI extends Co{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Zi(i.text)?i.text.length:1;this._padding=Wa(i.padding);const s=r*os(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,c=o.align;let u=0,f,p,y;return this.isHorizontal()?(p=es(c,i,s),y=e+t,f=s-i):(o.position==="left"?(p=i+t,y=es(c,r,e),u=Vn*-.5):(p=s-t,y=es(c,e,r),u=Vn*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=os(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(s);Gp(t,e.text,0,0,i,{color:e.color,maxWidth:u,rotation:f,textAlign:f5(e.align),textBaseline:"middle",translation:[o,c]})}}function sH(n,t){const e=new YI({ctx:n.ctx,options:t,chart:n});qa.configure(n,e,t),qa.addBox(n,e),n.titleBlock=e}var aH={id:"title",_element:YI,start(n,t,e){sH(n,e)},stop(n){const t=n.titleBlock;qa.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;qa.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const up={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=Tv(t,f);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,i=u.y}return{x:e,y:i}}};function fl(n,t){return t&&(Zi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function sc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function oH(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function yE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=t,u=os(t.bodyFont),f=os(t.titleFont),p=os(t.footerFont),y=s.length,w=r.length,_=i.length,x=Wa(t.padding);let I=x.height,R=0,N=i.reduce((it,tt)=>it+tt.before.length+tt.lines.length+tt.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,y&&(I+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),N){const it=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;I+=_*it+(N-_)*u.lineHeight+(N-1)*t.bodySpacing}w&&(I+=t.footerMarginTop+w*p.lineHeight+(w-1)*t.footerSpacing);let M=0;const G=function(it){R=Math.max(R,e.measureText(it).width+M)};return e.save(),e.font=f.string,jn(n.title,G),e.font=u.string,jn(n.beforeBody.concat(n.afterBody),G),M=t.displayColors?o+2+t.boxPadding:0,jn(i,it=>{jn(it.before,G),jn(it.lines,G),jn(it.after,G)}),M=0,e.font=p.string,jn(n.footer,G),e.restore(),R+=x.width,{width:R,height:I}}function lH(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function cH(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function uH(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:c,right:u}}=n;let f="center";return i==="center"?f=r<=(c+u)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),cH(f,n,t,e)&&(f="center"),f}function vE(n,t,e){const i=e.yAlign||t.yAlign||lH(n,e);return{xAlign:e.xAlign||t.xAlign||uH(n,t,e,i),yAlign:i}}function hH(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function fH(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function _E(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:u}=e,f=r+s,{topLeft:p,topRight:y,bottomLeft:w,bottomRight:_}=Uf(o);let x=hH(t,c);const I=fH(t,u,f);return u==="center"?c==="left"?x+=f:c==="right"&&(x-=f):c==="left"?x-=Math.max(p,w)+r:c==="right"&&(x+=Math.max(y,_)+r),{x:as(x,0,i.width-t.width),y:as(I,0,i.height-t.height)}}function Pm(n,t,e){const i=Wa(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function bE(n){return fl([],sc(n))}function dH(n,t,e){return Bh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function wE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const KI={beforeTitle:ic,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ic,beforeBody:ic,beforeLabel:ic,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ic,afterBody:ic,beforeFooter:ic,footer:ic,afterFooter:ic};function Os(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?KI[t].call(e,i):r}class Pv extends Co{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new CI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=dH(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Os(i,"beforeTitle",this,t),s=Os(i,"title",this,t),o=Os(i,"afterTitle",this,t);let c=[];return c=fl(c,sc(r)),c=fl(c,sc(s)),c=fl(c,sc(o)),c}getBeforeBody(t,e){return bE(Os(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return jn(t,s=>{const o={before:[],lines:[],after:[]},c=wE(i,s);fl(o.before,sc(Os(c,"beforeLabel",this,s))),fl(o.lines,Os(c,"label",this,s)),fl(o.after,sc(Os(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return bE(Os(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Os(i,"beforeFooter",this,t),s=Os(i,"footer",this,t),o=Os(i,"afterFooter",this,t);let c=[];return c=fl(c,sc(r)),c=fl(c,sc(s)),c=fl(c,sc(o)),c}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],u,f;for(u=0,f=e.length;u<f;++u)c.push(oH(this.chart,e[u]));return t.filter&&(c=c.filter((p,y,w)=>t.filter(p,y,w,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),jn(c,p=>{const y=wE(t.callbacks,p);r.push(Os(y,"labelColor",this,p)),s.push(Os(y,"labelPointStyle",this,p)),o.push(Os(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=up[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=yE(this,i),f=Object.assign({},c,u),p=vE(this.chart,i,f),y=_E(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:y}=Uf(c),{x:w,y:_}=t,{width:x,height:I}=e;let R,N,M,G,it,tt;return s==="center"?(it=_+I/2,r==="left"?(R=w,N=R-o,G=it+o,tt=it-o):(R=w+x,N=R+o,G=it-o,tt=it+o),M=R):(r==="left"?N=w+Math.max(u,p)+o:r==="right"?N=w+x-Math.max(f,y)-o:N=this.caretX,s==="top"?(G=_,it=G-o,R=N-o,M=N+o):(G=_+I,it=G+o,R=N+o,M=N-o),tt=G),{x1:R,x2:N,x3:M,y1:G,y2:it,y3:tt}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,c,u;if(s){const f=zf(i.rtl,this.x,this.width);for(t.x=Pm(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",o=os(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,u=0;u<s;++u)e.fillText(r[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,u+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=s,p=os(s.bodyFont),y=Pm(this,"left",s),w=r.x(y),_=u<p.lineHeight?(p.lineHeight-u)/2:0,x=e.y+_;if(s.usePointStyle){const I={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},R=r.leftForLtr(w,f)+f/2,N=x+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,xv(t,I,R,N),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,xv(t,I,R,N)}else{t.lineWidth=fn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const I=r.leftForLtr(w,f),R=r.leftForLtr(r.xPlus(w,1),f-2),N=Uf(o.borderRadius);Object.values(N).some(M=>M!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,P0(t,{x:I,y:x,w:f,h:u,radius:N}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),P0(t,{x:R,y:x+1,w:f-2,h:u-2,radius:N}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(I,x,f,u),t.strokeRect(I,x,f,u),t.fillStyle=o.backgroundColor,t.fillRect(R,x+1,f-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=i,y=os(i.bodyFont);let w=y.lineHeight,_=0;const x=zf(i.rtl,this.x,this.width),I=function(P){e.fillText(P,x.x(t.x+_),t.y+w/2),t.y+=w+s},R=x.textAlign(o);let N,M,G,it,tt,pt,z;for(e.textAlign=o,e.textBaseline="middle",e.font=y.string,t.x=Pm(this,R,i),e.fillStyle=i.bodyColor,jn(this.beforeBody,I),_=c&&R!=="right"?o==="center"?f/2+p:f+2+p:0,it=0,pt=r.length;it<pt;++it){for(N=r[it],M=this.labelTextColors[it],e.fillStyle=M,jn(N.before,I),G=N.lines,c&&G.length&&(this._drawColorBox(e,t,it,x,i),w=Math.max(y.lineHeight,u)),tt=0,z=G.length;tt<z;++tt)I(G[tt]),w=y.lineHeight;jn(N.after,I)}_=0,w=y.lineHeight,jn(this.afterBody,I),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,c;if(s){const u=zf(i.rtl,this.x,this.width);for(t.x=Pm(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=u.textAlign(i.footerAlign),e.textBaseline="middle",o=os(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,c=0;c<s;++c)e.fillText(r[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=t,{width:f,height:p}=i,{topLeft:y,topRight:w,bottomLeft:_,bottomRight:x}=Uf(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(c+y,u),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(c+f-w,u),e.quadraticCurveTo(c+f,u,c+f,u+w),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(c+f,u+p-x),e.quadraticCurveTo(c+f,u+p,c+f-x,u+p),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(c+_,u+p),e.quadraticCurveTo(c,u+p,c,u+p-_),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(c,u+y),e.quadraticCurveTo(c,u,c+y,u),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=up[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=yE(this,t),u=Object.assign({},o,this._size),f=vE(e,t,u),p=_E(t,u,f,e);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Wa(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),TI(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),EI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),s=!R0(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),c=this._positionChanged(o,t),u=e||!R0(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=up[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}me(Pv,"positioners",up);var pH={id:"tooltip",_element:Pv,positioners:up,afterInit(n,t,e){e&&(n.tooltip=new Pv({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gH=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function mH(n,t,e,i){const r=n.indexOf(t);if(r===-1)return gH(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const yH=(n,t)=>n===null?null:as(Math.round(n),0,t);function AE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class kv extends ad{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:mH(i,t,Qe(e,t),this._addedLabels),yH(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return AE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}me(kv,"id","category"),me(kv,"defaults",{ticks:{callback:AE}});function vH(n,t){const e=[],{bounds:r,step:s,min:o,max:c,precision:u,count:f,maxTicks:p,maxDigits:y,includeBounds:w}=n,_=s||1,x=p-1,{min:I,max:R}=t,N=!Pn(o),M=!Pn(c),G=!Pn(f),it=(R-I)/(y+1);let tt=_T((R-I)/x/_)*_,pt,z,P,U;if(tt<1e-14&&!N&&!M)return[{value:I},{value:R}];U=Math.ceil(R/tt)-Math.floor(I/tt),U>x&&(tt=_T(U*tt/x/_)*_),Pn(u)||(pt=Math.pow(10,u),tt=Math.ceil(tt*pt)/pt),r==="ticks"?(z=Math.floor(I/tt)*tt,P=Math.ceil(R/tt)*tt):(z=I,P=R),N&&M&&s&&wB((c-o)/s,tt/1e3)?(U=Math.round(Math.min((c-o)/tt,p)),tt=(c-o)/U,z=o,P=c):G?(z=N?o:z,P=M?c:P,U=f-1,tt=(P-z)/U):(U=(P-z)/tt,Ep(U,Math.round(U),tt/1e3)?U=Math.round(U):U=Math.ceil(U));const K=Math.max(bT(tt),bT(z));pt=Math.pow(10,Pn(u)?K:u),z=Math.round(z*pt)/pt,P=Math.round(P*pt)/pt;let L=0;for(N&&(w&&z!==o?(e.push({value:o}),z<o&&L++,Ep(Math.round((z+L*tt)*pt)/pt,o,SE(o,it,n))&&L++):z<o&&L++);L<U;++L){const D=Math.round((z+L*tt)*pt)/pt;if(M&&D>c)break;e.push({value:D})}return M&&w&&P!==c?e.length&&Ep(e[e.length-1].value,c,SE(c,it,n))?e[e.length-1].value=c:e.push({value:c}):(!M||P===c)&&e.push({value:P}),e}function SE(n,t,{horizontal:e,minRotation:i}){const r=hc(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class _H extends ad{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=e?r:u,c=u=>s=i?s:u;if(t){const u=Al(r),f=Al(s);u<0&&f<0?c(0):u>0&&f>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),t||o(r-u)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=vH(r,s);return t.bounds==="ticks"&&AB(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return p5(t,this.chart.options.locale,this.options.ticks.format)}}class Dv extends _H{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=us(t)?t:0,this.max=us(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=hc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}me(Dv,"id","linear"),me(Dv,"defaults",{ticks:{callback:mI.formatters.numeric}});const v1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys(v1);function TE(n,t){return n-t}function EE(n,t){if(Pn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),us(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(zp(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function xE(n,t,e,i){const r=Vs.length;for(let s=Vs.indexOf(n);s<r-1;++s){const o=v1[Vs[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(c*o.size))<=i)return Vs[s]}return Vs[r-1]}function bH(n,t,e,i,r){for(let s=Vs.length-1;s>=Vs.indexOf(e);s--){const o=Vs[s];if(v1[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Vs[e?Vs.indexOf(e):0]}function wH(n){for(let t=Vs.indexOf(n)+1,e=Vs.length;t<e;++t)if(v1[Vs[t]].common)return Vs[t]}function IE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=h5(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function AH(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,i))u=e[c],u>=0&&(t[u].major=!0);return t}function NE(n,t,e){const i=[],r={},s=t.length;let o,c;for(o=0;o<s;++o)c=t[o],r[c]=o,i.push({value:c,major:!1});return s===0||!e?i:AH(n,i,r,e)}class O0 extends ad{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new rz._date(t.adapters.date);r.init(e),Tp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:EE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=us(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=us(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=IB(r,s,o);return this._unit=e.unit||(i.autoSkip?xE(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):bH(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:wH(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),NE(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=as(e,0,o),i=as(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||xE(s.minUnit,e,i,this._getLabelCapacity(e)),c=Qe(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,f=zp(u)||u===!0,p={};let y=e,w,_;if(f&&(y=+t.startOf(y,"isoWeek",u)),y=+t.startOf(y,f?"day":o),t.diff(i,e,o)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+o);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(w=y,_=0;w<i;w=+t.add(w,c,o),_++)IE(p,w,x);return(w===i||r.bounds==="ticks"||_===1)&&IE(p,w,x),Object.keys(p).sort(TE).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return ni(o,[t,e,i],this);const c=s.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&c[u],y=f&&c[f],w=i[e],_=f&&y&&w&&w.major;return this._adapter.format(t,r||(_?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=hc(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,NE(this,[t],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(EE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return dI(t.sort(TE))}}me(O0,"id","time"),me(O0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function km(n,t,e){let i=0,r=n.length-1,s,o,c,u;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=wh(n,"pos",t)),{pos:s,time:c}=n[i],{pos:o,time:u}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=wh(n,"time",t)),{time:s,pos:c}=n[i],{time:o,pos:u}=n[r]);const f=o-s;return f?c+(u-c)*(t-s)/f:c}class RE extends O0{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=km(e,this.min),this._tableRange=km(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,c,u,f,p;for(o=0,c=t.length;o<c;++o)f=t[o],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],u=r[o-1],f=r[o],Math.round((p+u)/2)!==f&&s.push({time:f,pos:o/(c-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(km(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return km(this._table,i*this._tableRange+this._minPos,!0)}}me(RE,"id","timeseries"),me(RE,"defaults",O0.defaults);const XI="label";function CE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function SH(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function QI(n,t){n.labels=t}function JI(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XI;const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function TH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XI;const e={labels:[],datasets:[]};return QI(e,n.labels),JI(e,n.datasets,t),e}function EH(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:f=[],fallbackContent:p,updateMode:y,...w}=n,_=qe.useRef(null),x=qe.useRef(null),I=()=>{_.current&&(x.current=new m1(_.current,{type:o,data:TH(c,s),options:u&&{...u},plugins:f}),CE(t,x.current))},R=()=>{CE(t,null),x.current&&(x.current.destroy(),x.current=null)};return qe.useEffect(()=>{!r&&x.current&&u&&SH(x.current,u)},[r,u]),qe.useEffect(()=>{!r&&x.current&&QI(x.current.config.data,c.labels)},[r,c.labels]),qe.useEffect(()=>{!r&&x.current&&c.datasets&&JI(x.current.config.data,c.datasets,s)},[r,c.datasets]),qe.useEffect(()=>{x.current&&(r?(R(),setTimeout(I)):x.current.update(y))},[r,u,c.labels,c.datasets,y]),qe.useEffect(()=>{x.current&&(R(),setTimeout(I))},[o]),qe.useEffect(()=>(I(),()=>R()),[]),LE.createElement("canvas",{ref:_,role:"img",height:e,width:i,...w},p)}const xH=qe.forwardRef(EH);function _1(n,t){return m1.register(t),qe.forwardRef((e,i)=>LE.createElement(xH,{...e,ref:i,type:n}))}const IH=_1("line",Qm),NH=_1("bar",Xm),RH=_1("doughnut",Rf),CH=_1("pie",Iv);m1.register(cp,pH,rH,kv,Dv,e0,aH,t0,yu,Jq);const I2=qe.forwardRef(({type:n,data:t,options:e},i)=>{switch(n){case"doughnut":return lt.jsx(RH,{ref:i,data:t,options:e});case"bar":return lt.jsx(NH,{ref:i,data:t,options:e});case"pie":return lt.jsx(CH,{ref:i,data:t,options:e});case"line":return lt.jsx(IH,{ref:i,data:t,options:e});default:return lt.jsx("div",{children:"Tipo de gráfico no válido"})}});function LH({results:n,onClose:t}){const e=qe.useRef(null),i=qe.useRef(null),r=qe.useRef(null);if(!n)return null;const{config:s,clientes:o,mariella:c}=n,u=i5(s.locale,s.moneda),f={labels:["Saldo Neto","Total Deducciones"],datasets:[{data:[c.saldoFinalNeto,c.totalDeducciones],backgroundColor:["#2ecc71","#e74c3c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:4}]},p=c.deducciones.reduce((M,G)=>{const it=G.category||"Otros";return M[it]=(M[it]||0)+G.montoCalculado,M},{}),y={labels:Object.keys(p),datasets:[{data:Object.values(p),backgroundColor:["#e74c3c","#f39c12","#f1c40f","#3498db","#9b59b6","#1abc9c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:2}]},w=o.filter(M=>M.comidas>0),_={labels:w.map(M=>M.name),datasets:[{label:`Ingreso Bruto por Cliente (${s.moneda})`,data:w.map(M=>M.ingresoBrutoCliente),backgroundColor:"rgba(52, 152, 219, 0.7)"}]},x={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Distribución Ingreso"}}},I={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Deducciones por Categoría"}}},R={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Aporte por Cliente"}}},N=()=>{var G,it,tt;const M={doughnut:(G=e.current)==null?void 0:G.toBase64Image(),pie:(it=i.current)==null?void 0:it.toBase64Image(),bar:(tt=r.current)==null?void 0:tt.toBase64Image()};UV(n,M)};return lt.jsx("div",{className:"modal",style:{display:"flex"},children:lt.jsxs("div",{className:"modal-content",children:[lt.jsx("span",{className:"modal-close-button",onClick:t,children:"×"}),lt.jsx("h3",{children:"📈 Resultados de Liquidación"}),lt.jsxs("div",{className:"summary-cards",children:[lt.jsxs("div",{className:"summary-card show",children:[lt.jsxs("h3",{children:["👩‍🍳 ",s.nombreMariella," (Neto)"]}),lt.jsx("div",{className:"amount",children:u.format(c.saldoFinalNeto)})]}),lt.jsxs("div",{className:"summary-card show",children:[lt.jsx("h3",{children:"👥 Total Bruto Clientes"}),lt.jsx("div",{className:"amount",children:u.format(c.totalIngresoBruto)})]})]}),lt.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px",height:"300px"},children:[lt.jsx("div",{className:"chart-container",children:lt.jsx(I2,{ref:e,type:"doughnut",data:f,options:x})}),lt.jsx("div",{className:"chart-container",children:lt.jsx(I2,{ref:i,type:"pie",data:y,options:I})})]}),lt.jsx("div",{className:"chart-container",style:{height:"250px",marginTop:"20px"},children:lt.jsx(I2,{ref:r,type:"bar",data:_,options:R})}),lt.jsxs("div",{className:"detailed-results-container",children:[lt.jsx("h3",{className:"section-title",children:"📄 Detalle por Cliente"}),o.filter(M=>M.comidas>0).map(M=>lt.jsxs("div",{className:"client-breakdown show",children:[lt.jsxs("div",{className:"person-header",children:["👤 Cliente: ",M.name]}),lt.jsxs("div",{className:"deduction-item",children:[lt.jsx("span",{className:"label",children:"Comidas Facturadas:"}),lt.jsx("span",{className:"value",children:M.comidas})]}),lt.jsxs("div",{className:"deduction-item",children:[lt.jsx("span",{className:"label",children:"Ingreso Bruto Generado:"}),lt.jsx("span",{className:"value",children:u.format(M.ingresoBrutoCliente)})]})]},M.id))]}),lt.jsxs("div",{className:"mariella-settlement-section",children:[lt.jsxs("h3",{className:"section-title",children:["💸 Liquidación Detallada: ",(s.nombreMariella||"").toUpperCase()]}),lt.jsxs("div",{className:"person-deductions show",children:[lt.jsxs("div",{className:"deduction-item",children:[lt.jsx("span",{className:"label",children:"Total Ingreso Bruto:"}),lt.jsx("span",{className:"value",children:u.format(c.totalIngresoBruto)})]}),c.deducciones.map((M,G)=>lt.jsxs("div",{className:"deduction-item",children:[lt.jsxs("span",{className:"label",children:["(-) ",M.name," (",M.displayValue,"):"]}),lt.jsx("span",{className:"value",children:u.format(M.montoCalculado)})]},G)),lt.jsxs("div",{className:"deduction-item",style:{borderTop:"2px solid var(--border-color)",marginTop:"5px",paddingTop:"5px"},children:[lt.jsx("span",{className:"label",style:{fontWeight:"bold"},children:"(=) SALDO FINAL A RECIBIR:"}),lt.jsx("span",{className:"value final-value",children:u.format(c.saldoFinalNeto)})]})]})]}),lt.jsx("hr",{style:{margin:"20px 0"}}),lt.jsx("button",{className:"main-button",onClick:N,children:"📄 Descargar Reporte en PDF"})]})})}function PH({isOpen:n,onClose:t,settlementId:e,onUpdate:i}){const[r,s]=qe.useState(null),[o,c]=qe.useState(!1);if(!n)return null;const u=p=>{s(p.target.files[0])},f=()=>{if(!r){alert("Por favor, selecciona un archivo.");return}c(!0);const p=new FileReader;p.readAsDataURL(r),p.onload=async()=>{const y=p.result;await i(e,y),c(!1),t()},p.onerror=y=>{console.error("Error al leer el archivo:",y),alert("Error al procesar el archivo."),c(!1)}};return lt.jsx("div",{className:"modal",style:{display:"flex"},children:lt.jsxs("div",{className:"modal-content",children:[lt.jsx("span",{className:"modal-close-button",onClick:t,children:"×"}),lt.jsx("h3",{children:"Subir Comprobante de Pago"}),lt.jsx("p",{children:'Para marcar esta liquidación como "Pagada", adjunta el comprobante (PDF, JPG, PNG).'}),lt.jsx("div",{className:"input-group",children:lt.jsx("input",{type:"file",id:"receiptFileInput",accept:"application/pdf,image/jpeg,image/png",onChange:u})}),lt.jsx("button",{className:"modal-confirm-btn confirm-upload",onClick:f,disabled:!r||o,children:o?"Subiendo...":"Subir y Marcar como Pagada"})]})})}function kH({user:n,onEmailVerified:t}){var u;const[e,i]=qe.useState(!1),[r,s]=qe.useState("");if(!n||n.emailVerified||n.isAnonymous||(u=n.providerData)!=null&&u.some(f=>f.providerId==="google.com"))return null;const o=async()=>{i(!0),s("");const f=await UF();s(f.message),i(!1),setTimeout(()=>s(""),5e3)},c=()=>{window.location.reload()};return lt.jsx("div",{className:"email-verification-banner",children:lt.jsxs("div",{className:"verification-content",children:[lt.jsx("h4",{children:"📧 Verificación de Email Pendiente"}),lt.jsxs("p",{children:["Hemos enviado un email de verificación a ",lt.jsx("strong",{children:n.email}),". Por favor revisa tu bandeja de entrada y spam."]}),lt.jsxs("div",{className:"verification-actions",children:[lt.jsx("button",{className:"resend-btn",onClick:o,disabled:e,children:e?"Enviando...":"Reenviar Email"}),lt.jsx("button",{className:"refresh-btn",onClick:c,children:"Ya Verifiqué"})]}),r&&lt.jsx("p",{className:`verification-message ${r.includes("Error")?"error":"success"}`,children:r})]})})}function DH(){const[n,t]=qe.useState(!1),[e,i]=qe.useState(!1),[r,s]=qe.useState("light"),[o,c]=qe.useState(!1),[u,f]=qe.useState(null),[p,y]=qe.useState(!1),[w,_]=qe.useState(null),x=()=>{const G=r==="light"?"dark":"light";s(G),zs.temaChanged(G)};qe.useEffect(()=>{document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add(`${r}-mode`)},[r]),qe.useEffect(()=>{OF(),MF("Forestech App")},[]),qe.useEffect(()=>{const G=eP(Tr,it=>{it&&!n&&zs.login("email"),t(!!it),i(!0)});return()=>G()},[n]);const I=async()=>{zs.logout(),await nP(Tr)},R=G=>{_(G),y(!0)},N=()=>{_(null),y(!1)},M=async(G,it)=>{try{await DF(G,it)}catch(tt){console.error("Error al actualizar el pago:",tt),alert("Error al actualizar el pago.")}};return e?lt.jsxs("div",{className:`container ${o||p?"modal-open":""}`,children:[lt.jsx(FF,{isAuthenticated:n,onLogout:I,onToggleTheme:x}),!n&&lt.jsx(zF,{}),n&&lt.jsxs(lt.Fragment,{children:[lt.jsx(kH,{user:Tr.currentUser}),lt.jsx(ij,{setResults:f,setIsModalOpen:c,onOpenPaymentModal:R})]}),o&&lt.jsx(LH,{results:u,onClose:()=>c(!1)}),lt.jsx(PH,{isOpen:p,onClose:N,settlementId:w,onUpdate:M})]}):lt.jsx(rj,{})}dR.createRoot(document.getElementById("root")).render(lt.jsx(qe.StrictMode,{children:lt.jsx(DH,{})}));export{Bn as _,OH as c,iR as g};
