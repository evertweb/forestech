var ZC=Object.defineProperty;var tR=(n,t,e)=>t in n?ZC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ye=(n,t,e)=>tR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var zW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ky={exports:{}},np={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function nR(){if(Jw)return np;Jw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return np.Fragment=t,np.jsx=e,np.jsxs=e,np}var Zw;function iR(){return Zw||(Zw=1,Ky.exports=nR()),Ky.exports}var H=iR(),Xy={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function rR(){if(tS)return Ye;tS=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function C(J,At,V){this.props=J,this.context=At,this.refs=N,this.updater=V||_}C.prototype.isReactComponent={},C.prototype.setState=function(J,At){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,At,"setState")},C.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function I(){}I.prototype=C.prototype;function M(J,At,V){this.props=J,this.context=At,this.refs=N,this.updater=V||_}var $=M.prototype=new I;$.constructor=M,E($,C.prototype),$.isPureReactComponent=!0;var nt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function q(J,At,V,Y,tt,at){return V=at.ref,{$$typeof:n,type:J,key:At,ref:V!==void 0?V:null,props:at}}function P(J,At){return q(J.type,At,void 0,void 0,void 0,J.props)}function F(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function z(J){var At={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(V){return At[V]})}var L=/\/+/g;function D(J,At){return typeof J=="object"&&J!==null&&J.key!=null?z(""+J.key):At.toString(36)}function j(){}function ot(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(j,j):(J.status="pending",J.then(function(At){J.status==="pending"&&(J.status="fulfilled",J.value=At)},function(At){J.status==="pending"&&(J.status="rejected",J.reason=At)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function wt(J,At,V,Y,tt){var at=typeof J;(at==="undefined"||at==="boolean")&&(J=null);var ct=!1;if(J===null)ct=!0;else switch(at){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(J.$$typeof){case n:case t:ct=!0;break;case p:return ct=J._init,wt(ct(J._payload),At,V,Y,tt)}}if(ct)return tt=tt(J),ct=Y===""?"."+D(J,0):Y,nt(tt)?(V="",ct!=null&&(V=ct.replace(L,"$&/")+"/"),wt(tt,At,V,"",function(kt){return kt})):tt!=null&&(F(tt)&&(tt=P(tt,V+(tt.key==null||J&&J.key===tt.key?"":(""+tt.key).replace(L,"$&/")+"/")+ct)),At.push(tt)),1;ct=0;var Nt=Y===""?".":Y+":";if(nt(J))for(var Et=0;Et<J.length;Et++)Y=J[Et],at=Nt+D(Y,Et),ct+=wt(Y,At,V,at,tt);else if(Et=b(J),typeof Et=="function")for(J=Et.call(J),Et=0;!(Y=J.next()).done;)Y=Y.value,at=Nt+D(Y,Et++),ct+=wt(Y,At,V,at,tt);else if(at==="object"){if(typeof J.then=="function")return wt(ot(J),At,V,Y,tt);throw At=String(J),Error("Objects are not valid as a React child (found: "+(At==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":At)+"). If you meant to render a collection of children, use an array instead.")}return ct}function it(J,At,V){if(J==null)return J;var Y=[],tt=0;return wt(J,Y,"","",function(at){return At.call(V,at,tt++)}),Y}function ht(J){if(J._status===-1){var At=J._result;At=At(),At.then(function(V){(J._status===0||J._status===-1)&&(J._status=1,J._result=V)},function(V){(J._status===0||J._status===-1)&&(J._status=2,J._result=V)}),J._status===-1&&(J._status=0,J._result=At)}if(J._status===1)return J._result.default;throw J._result}var ft=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var At=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(At))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function xt(){}return Ye.Children={map:it,forEach:function(J,At,V){it(J,function(){At.apply(this,arguments)},V)},count:function(J){var At=0;return it(J,function(){At++}),At},toArray:function(J){return it(J,function(At){return At})||[]},only:function(J){if(!F(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ye.Component=C,Ye.Fragment=e,Ye.Profiler=r,Ye.PureComponent=M,Ye.StrictMode=i,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(J){return et.H.useMemoCache(J)}},Ye.cache=function(J){return function(){return J.apply(null,arguments)}},Ye.cloneElement=function(J,At,V){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Y=E({},J.props),tt=J.key,at=void 0;if(At!=null)for(ct in At.ref!==void 0&&(at=void 0),At.key!==void 0&&(tt=""+At.key),At)!pt.call(At,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&At.ref===void 0||(Y[ct]=At[ct]);var ct=arguments.length-2;if(ct===1)Y.children=V;else if(1<ct){for(var Nt=Array(ct),Et=0;Et<ct;Et++)Nt[Et]=arguments[Et+2];Y.children=Nt}return q(J.type,tt,void 0,void 0,at,Y)},Ye.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s,_context:J},J},Ye.createElement=function(J,At,V){var Y,tt={},at=null;if(At!=null)for(Y in At.key!==void 0&&(at=""+At.key),At)pt.call(At,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(tt[Y]=At[Y]);var ct=arguments.length-2;if(ct===1)tt.children=V;else if(1<ct){for(var Nt=Array(ct),Et=0;Et<ct;Et++)Nt[Et]=arguments[Et+2];tt.children=Nt}if(J&&J.defaultProps)for(Y in ct=J.defaultProps,ct)tt[Y]===void 0&&(tt[Y]=ct[Y]);return q(J,at,void 0,void 0,null,tt)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(J){return{$$typeof:c,render:J}},Ye.isValidElement=F,Ye.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:ht}},Ye.memo=function(J,At){return{$$typeof:f,type:J,compare:At===void 0?null:At}},Ye.startTransition=function(J){var At=et.T,V={};et.T=V;try{var Y=J(),tt=et.S;tt!==null&&tt(V,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(xt,ft)}catch(at){ft(at)}finally{et.T=At}},Ye.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Ye.use=function(J){return et.H.use(J)},Ye.useActionState=function(J,At,V){return et.H.useActionState(J,At,V)},Ye.useCallback=function(J,At){return et.H.useCallback(J,At)},Ye.useContext=function(J){return et.H.useContext(J)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(J,At){return et.H.useDeferredValue(J,At)},Ye.useEffect=function(J,At,V){var Y=et.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(J,At)},Ye.useId=function(){return et.H.useId()},Ye.useImperativeHandle=function(J,At,V){return et.H.useImperativeHandle(J,At,V)},Ye.useInsertionEffect=function(J,At){return et.H.useInsertionEffect(J,At)},Ye.useLayoutEffect=function(J,At){return et.H.useLayoutEffect(J,At)},Ye.useMemo=function(J,At){return et.H.useMemo(J,At)},Ye.useOptimistic=function(J,At){return et.H.useOptimistic(J,At)},Ye.useReducer=function(J,At,V){return et.H.useReducer(J,At,V)},Ye.useRef=function(J){return et.H.useRef(J)},Ye.useState=function(J){return et.H.useState(J)},Ye.useSyncExternalStore=function(J,At,V){return et.H.useSyncExternalStore(J,At,V)},Ye.useTransition=function(){return et.H.useTransition()},Ye.version="19.1.0",Ye}var eS;function c_(){return eS||(eS=1,Xy.exports=rR()),Xy.exports}var be=c_();const _E=eR(be);var Qy={exports:{}},ip={},Jy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function sR(){return nS||(nS=1,function(n){function t(it,ht){var ft=it.length;it.push(ht);t:for(;0<ft;){var xt=ft-1>>>1,J=it[xt];if(0<r(J,ht))it[xt]=ht,it[ft]=J,ft=xt;else break t}}function e(it){return it.length===0?null:it[0]}function i(it){if(it.length===0)return null;var ht=it[0],ft=it.pop();if(ft!==ht){it[0]=ft;t:for(var xt=0,J=it.length,At=J>>>1;xt<At;){var V=2*(xt+1)-1,Y=it[V],tt=V+1,at=it[tt];if(0>r(Y,ft))tt<J&&0>r(at,Y)?(it[xt]=at,it[tt]=ft,xt=tt):(it[xt]=Y,it[V]=ft,xt=V);else if(tt<J&&0>r(at,ft))it[xt]=at,it[tt]=ft,xt=tt;else break t}}return ht}function r(it,ht){var ft=it.sortIndex-ht.sortIndex;return ft!==0?ft:it.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,y=null,b=3,_=!1,E=!1,N=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function nt(it){for(var ht=e(f);ht!==null;){if(ht.callback===null)i(f);else if(ht.startTime<=it)i(f),ht.sortIndex=ht.expirationTime,t(u,ht);else break;ht=e(f)}}function et(it){if(N=!1,nt(it),!E)if(e(u)!==null)E=!0,pt||(pt=!0,D());else{var ht=e(f);ht!==null&&wt(et,ht.startTime-it)}}var pt=!1,q=-1,P=5,F=-1;function z(){return C?!0:!(n.unstable_now()-F<P)}function L(){if(C=!1,pt){var it=n.unstable_now();F=it;var ht=!0;try{t:{E=!1,N&&(N=!1,M(q),q=-1),_=!0;var ft=b;try{e:{for(nt(it),y=e(u);y!==null&&!(y.expirationTime>it&&z());){var xt=y.callback;if(typeof xt=="function"){y.callback=null,b=y.priorityLevel;var J=xt(y.expirationTime<=it);if(it=n.unstable_now(),typeof J=="function"){y.callback=J,nt(it),ht=!0;break e}y===e(u)&&i(u),nt(it)}else i(u);y=e(u)}if(y!==null)ht=!0;else{var At=e(f);At!==null&&wt(et,At.startTime-it),ht=!1}}break t}finally{y=null,b=ft,_=!1}ht=void 0}}finally{ht?D():pt=!1}}}var D;if(typeof $=="function")D=function(){$(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ot=j.port2;j.port1.onmessage=L,D=function(){ot.postMessage(null)}}else D=function(){I(L,0)};function wt(it,ht){q=I(function(){it(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(it){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var ft=b;b=ht;try{return it()}finally{b=ft}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(it,ht){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ft=b;b=it;try{return ht()}finally{b=ft}},n.unstable_scheduleCallback=function(it,ht,ft){var xt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,it){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ft+J,it={id:p++,callback:ht,priorityLevel:it,startTime:ft,expirationTime:J,sortIndex:-1},ft>xt?(it.sortIndex=ft,t(f,it),e(u)===null&&it===e(f)&&(N?(M(q),q=-1):N=!0,wt(et,ft-xt))):(it.sortIndex=J,t(u,it),E||_||(E=!0,pt||(pt=!0,D()))),it},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(it){var ht=b;return function(){var ft=b;b=ht;try{return it.apply(this,arguments)}finally{b=ft}}}}(Zy)),Zy}var iS;function aR(){return iS||(iS=1,Jy.exports=sR()),Jy.exports}var tv={exports:{}},Zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function oR(){if(rS)return Zr;rS=1;var n=c_();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:u,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zr.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,p)},Zr.flushSync=function(u){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=p,i.d.f()}},Zr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Zr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Zr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):p==="script"&&i.d.X(u,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Zr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zr.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Zr.requestFormReset=function(u){i.d.r(u)},Zr.unstable_batchedUpdates=function(u,f){return u(f)},Zr.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Zr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Zr.version="19.1.0",Zr}var sS;function lR(){if(sS)return tv.exports;sS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tv.exports=oR(),tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function cR(){if(aS)return ip;aS=1;var n=aR(),t=c_(),e=lR();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,d=l;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(d=v.return,d!==null){h=d;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return c(v),a;if(S===d)return c(v),l;S=S.sibling}throw Error(i(188))}if(h.return!==d.return)h=v,d=S;else{for(var O=!1,Q=v.child;Q;){if(Q===h){O=!0,h=v,d=S;break}if(Q===d){O=!0,d=v,h=S;break}Q=Q.sibling}if(!O){for(Q=S.child;Q;){if(Q===h){O=!0,h=S,d=v;break}if(Q===d){O=!0,d=S,h=v;break}Q=Q.sibling}if(!O)throw Error(i(189))}}if(h.alternate!==d)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),$=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function ot(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case et:return"Suspense";case pt:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case $:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case nt:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return l=a.displayName||null,l!==null?l:ot(a.type)||"Memo";case P:l=a._payload,a=a._init;try{return ot(a(l))}catch{}}return null}var wt=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],J=-1;function At(a){return{current:a}}function V(a){0>J||(a.current=xt[J],xt[J]=null,J--)}function Y(a,l){J++,xt[J]=a.current,a.current=l}var tt=At(null),at=At(null),ct=At(null),Nt=At(null);function Et(a,l){switch(Y(ct,l),Y(at,a),Y(tt,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Ew(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Ew(l),a=Nw(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(tt),Y(tt,a)}function kt(){V(tt),V(at),V(ct)}function Jt(a){a.memoizedState!==null&&Y(Nt,a);var l=tt.current,h=Nw(l,a.type);l!==h&&(Y(at,a),Y(tt,h))}function Xt(a){at.current===a&&(V(tt),V(at)),Nt.current===a&&(V(Nt),Qd._currentValue=ft)}var ne=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,Ft=n.unstable_shouldYield,lt=n.unstable_requestPaint,Te=n.unstable_now,fe=n.unstable_getCurrentPriorityLevel,Qt=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ae=n.unstable_LowPriority,ve=n.unstable_IdlePriority,Le=n.log,Ve=n.unstable_setDisableYieldValue,_e=null,me=null;function Ge(a){if(typeof Le=="function"&&Ve(a),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(_e,a)}catch{}}var de=Math.clz32?Math.clz32:li,We=Math.log,oe=Math.LN2;function li(a){return a>>>=0,a===0?32:31-(We(a)/oe|0)|0}var Ke=256,ir=4194304;function Je(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Cn(a,l,h){var d=a.pendingLanes;if(d===0)return 0;var v=0,S=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var Q=d&134217727;return Q!==0?(d=Q&~S,d!==0?v=Je(d):(O&=Q,O!==0?v=Je(O):h||(h=Q&~a,h!==0&&(v=Je(h))))):(Q=d&~S,Q!==0?v=Je(Q):O!==0?v=Je(O):h||(h=d&~a,h!==0&&(v=Je(h)))),v===0?0:l!==0&&l!==v&&(l&S)===0&&(S=v&-v,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:v}function gr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function cn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var a=Ke;return Ke<<=1,(Ke&4194048)===0&&(Ke=256),a}function Hn(){var a=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),a}function ki(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function rr(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Gn(a,l,h,d,v,S){var O=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var Q=a.entanglements,ut=a.expirationTimes,Pt=a.hiddenUpdates;for(h=O&~h;0<h;){var Bt=31-de(h),Gt=1<<Bt;Q[Bt]=0,ut[Bt]=-1;var Dt=Pt[Bt];if(Dt!==null)for(Pt[Bt]=null,Bt=0;Bt<Dt.length;Bt++){var Mt=Dt[Bt];Mt!==null&&(Mt.lane&=-536870913)}h&=~Gt}d!==0&&xe(a,d,0),S!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=S&~(O&~l))}function xe(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-de(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function un(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var d=31-de(h),v=1<<d;v&l|a[d]&l&&(a[d]|=l),h&=~v}}function Ur(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ci(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sr(){var a=ht.p;return a!==0?a:(a=window.event,a===void 0?32:Ww(a.type))}function ms(a,l){var h=ht.p;try{return ht.p=a,l()}finally{ht.p=h}}var le=Math.random().toString(36).slice(2),Rn="__reactFiber$"+le,Ln="__reactProps$"+le,Qn="__reactContainer$"+le,ni="__reactEvents$"+le,ui="__reactListeners$"+le,Si="__reactHandles$"+le,to="__reactResources$"+le,Ir="__reactMarker$"+le;function Yi(a){delete a[Rn],delete a[Ln],delete a[ni],delete a[ui],delete a[Si]}function Di(a){var l=a[Rn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Qn]||h[Rn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=Lw(a);a!==null;){if(h=a[Rn])return h;a=Lw(a)}return l}a=h,h=a.parentNode}return null}function Ai(a){if(a=a[Rn]||a[Qn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Mi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Wn(a){var l=a[to];return l||(l=a[to]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function wn(a){a[Ir]=!0}var Qs=new Set,Js={};function mr(a,l){zr(a,l),zr(a+"Capture",l)}function zr(a,l){for(Js[a]=l,a=0;a<l.length;a++)Qs.add(l[a])}var eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},no={};function Dc(a){return ne.call(no,a)?!0:ne.call(Pl,a)?!1:eo.test(a)?no[a]=!0:(Pl[a]=!0,!1)}function ys(a,l,h){if(Dc(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function vs(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Oi(a,l,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+d)}}var Zs,Mc;function Es(a){if(Zs===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Zs=l&&l[1]||"",Mc=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+a+Mc}var Fo=!1;function ta(a,l){if(!a||Fo)return"";Fo=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Mt){var Dt=Mt}Reflect.construct(a,[],Gt)}else{try{Gt.call()}catch(Mt){Dt=Mt}a.call(Gt.prototype)}}else{try{throw Error()}catch(Mt){Dt=Mt}(Gt=a())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Mt){if(Mt&&Dt&&typeof Mt.stack=="string")return[Mt.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),O=S[0],Q=S[1];if(O&&Q){var ut=O.split(`
`),Pt=Q.split(`
`);for(v=d=0;d<ut.length&&!ut[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Pt.length&&!Pt[v].includes("DetermineComponentFrameRoot");)v++;if(d===ut.length||v===Pt.length)for(d=ut.length-1,v=Pt.length-1;1<=d&&0<=v&&ut[d]!==Pt[v];)v--;for(;1<=d&&0<=v;d--,v--)if(ut[d]!==Pt[v]){if(d!==1||v!==1)do if(d--,v--,0>v||ut[d]!==Pt[v]){var Bt=`
`+ut[d].replace(" at new "," at ");return a.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",a.displayName)),Bt}while(1<=d&&0<=v);break}}}finally{Fo=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Es(h):""}function kl(a){switch(a.tag){case 26:case 27:case 5:return Es(a.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return ta(a.type,!1);case 11:return ta(a.type.render,!1);case 1:return ta(a.type,!0);case 31:return Es("Activity");default:return""}}function $n(a){try{var l="";do l+=kl(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Ki(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Vo(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oc(a){var l=Vo(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(O){d=""+O,S.call(this,O)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ta(a){a._valueTracker||(a._valueTracker=Oc(a))}function Dl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),d="";return a&&(d=Vo(a)?a.checked?"true":"false":a.value),a=d,a!==h?(l.setValue(a),!0):!1}function ar(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bo=/[\n"\\]/g;function dn(a){return a.replace(Bo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function or(a,l,h,d,v,S,O,Q){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ki(l)):a.value!==""+Ki(l)&&(a.value=""+Ki(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?Ea(a,O,Ki(l)):h!=null?Ea(a,O,Ki(h)):d!=null&&a.removeAttribute("value"),v==null&&S!=null&&(a.defaultChecked=!!S),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?a.name=""+Ki(Q):a.removeAttribute("name")}function xa(a,l,h,d,v,S,O,Q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;h=h!=null?""+Ki(h):"",l=l!=null?""+Ki(l):h,Q||l===a.value||(a.value=l),a.defaultValue=l}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=Q?a.checked:!!d,a.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O)}function Ea(a,l,h){l==="number"&&ar(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Ns(a,l,h,d){if(a=a.options,l){l={};for(var v=0;v<h.length;v++)l["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=l.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Ki(h),l=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function Sn(a,l,h){if(l!=null&&(l=""+Ki(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Ki(h):""}function Na(a,l,h,d){if(l==null){if(d!=null){if(h!=null)throw Error(i(92));if(wt(d)){if(1<d.length)throw Error(i(93));d=d[0]}h=d}h==null&&(h=""),l=h}h=Ki(l),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function qr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(a,l,h){var d=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,h):typeof h!="number"||h===0||ea.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function Ml(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in l)d=l[v],l.hasOwnProperty(v)&&h[v]!==d&&jc(a,v,d)}else for(var S in l)l.hasOwnProperty(S)&&jc(a,S,l[S])}function Ol(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(a){return Uo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Is=null;function jn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ra=null,Cs=null;function Ie(a){var l=Ai(a);if(l&&(a=l.stateNode)){var h=a[Ln]||null;t:switch(a=l.stateNode,l.type){case"input":if(or(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var d=h[l];if(d!==a&&d.form===a.form){var v=d[Ln]||null;if(!v)throw Error(i(90));or(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<h.length;l++)d=h[l],d.form===a.form&&Dl(d)}break t;case"textarea":Sn(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&Ns(a,!!h.multiple,l,!1)}}}var Rs=!1;function Fc(a,l,h){if(Rs)return a(l,h);Rs=!0;try{var d=a(l);return d}finally{if(Rs=!1,(ra!==null||Cs!==null)&&(Jg(),ra&&(l=ra,a=Cs,Cs=ra=null,Ie(l),a)))for(l=0;l<a.length;l++)Ie(a[l])}}function yr(a,l){var h=a.stateNode;if(h===null)return null;var d=h[Ln]||null;if(d===null)return null;h=d[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Hr)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Cr=!1}var Gr=null,Ia=null,sa=null;function jl(){if(sa)return sa;var a,l=Ia,h=l.length,d,v="value"in Gr?Gr.value:Gr.textContent,S=v.length;for(a=0;a<h&&l[a]===v[a];a++);var O=h-a;for(d=1;d<=O&&l[h-d]===v[S-d];d++);return sa=v.slice(a,1<d?1-d:void 0)}function Wr(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function vr(){return!0}function Ps(){return!1}function Ti(a){function l(h,d,v,S,O){this._reactName=h,this._targetInst=v,this.type=d,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(h=a[Q],this[Q]=h?h(S):S[Q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?vr:Ps,this.isPropagationStopped=Ps,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),l}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Ti(nn),ks=p({},nn,{view:0,detail:0}),Fl=Ti(ks),io,ro,_s,_r=p({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==_s&&(_s&&a.type==="mousemove"?(io=a.screenX-_s.screenX,ro=a.screenY-_s.screenY):ro=io=0,_s=a),io)},movementY:function(a){return"movementY"in a?a.movementY:ro}}),xi=Ti(_r),Vc=p({},_r,{dataTransfer:0}),Ra=Ti(Vc),lr=p({},ks,{relatedTarget:0}),La=Ti(lr),aa=p({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Ti(aa),so=p({},nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),qo=Ti(so),Vl=p({},nn,{data:0}),ao=Ti(Vl),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lo(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ho[a])?!!l[a]:!1}function ka(){return lo}var Bc=p({},ks,{key:function(a){if(a.key){var l=Pa[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Wr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?oo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(a){return a.type==="keypress"?Wr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oa=Ti(Bc),Da=p({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=Ti(Da),br=p({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Go=Ti(br),A=p({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Ti(A),st=p({},_r,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=Ti(st),bt=p({},nn,{newState:0,oldState:0}),jt=Ti(bt),Yt=[9,13,27,32],ie=Hr&&"CompositionEvent"in window,m=null;Hr&&"documentMode"in document&&(m=document.documentMode);var x=Hr&&"TextEvent"in window&&!m,k=Hr&&(!ie||m&&8<m&&11>=m),X=" ",_t=!1;function Lt(a,l){switch(a){case"keyup":return Yt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ce=!1;function rn(a,l){switch(a){case"compositionend":return Kt(l);case"keypress":return l.which!==32?null:(_t=!0,X);case"textInput":return a=l.data,a===X&&_t?null:a;default:return null}}function Be(a,l){if(Ce)return a==="compositionend"||!ie&&Lt(a,l)?(a=jl(),sa=Ia=Gr=null,Ce=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k&&l.locale!=="ko"?null:l.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!An[a.type]:l==="textarea"}function Ds(a,l,h,d){ra?Cs?Cs.push(d):Cs=[d]:ra=d,l=rm(l,"onChange"),0<l.length&&(h=new Ca("onChange","change",null,h,d),a.push({event:h,listeners:l}))}var gi=null,$r=null;function Ma(a){ww(a,0)}function Wo(a){var l=Mi(a);if(Dl(l))return a}function Uc(a,l){if(a==="change")return l}var Bl=!1;if(Hr){var ji;if(Hr){var $o="oninput"in document;if(!$o){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),$o=typeof Ul.oninput=="function"}ji=$o}else ji=!1;Bl=ji&&(!document.documentMode||9<document.documentMode)}function zl(){gi&&(gi.detachEvent("onpropertychange",zc),$r=gi=null)}function zc(a){if(a.propertyName==="value"&&Wo($r)){var l=[];Ds(l,$r,a,jn(a)),Fc(Ma,l)}}function Yr(a,l,h){a==="focusin"?(zl(),gi=l,$r=h,gi.attachEvent("onpropertychange",zc)):a==="focusout"&&zl()}function vd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wo($r)}function Qu(a,l){if(a==="click")return Wo(l)}function Qh(a,l){if(a==="input"||a==="change")return Wo(l)}function Ms(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Xi=typeof Object.is=="function"?Object.is:Ms;function Yo(a,l){if(Xi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),d=Object.keys(l);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var v=h[d];if(!ne.call(l,v)||!Xi(a[v],l[v]))return!1}return!0}function Ju(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uo(a,l){var h=Ju(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=l&&d>=l)return{node:h,offset:l-a};a=d}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Ju(h)}}function Ko(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Ko(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Rr(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ar(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=ar(a.document)}return l}function cr(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Xo=Hr&&"documentMode"in document&&11>=document.documentMode,Kr=null,la=null,Oa=null,ca=!1;function hi(a,l,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ca||Kr==null||Kr!==ar(d)||(d=Kr,"selectionStart"in d&&cr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oa&&Yo(Oa,d)||(Oa=d,d=rm(la,"onSelect"),0<d.length&&(l=new Ca("onSelect","select",null,l,h),a.push({event:l,listeners:d}),l.target=Kr)))}function ua(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Ei={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Xr={},ql={};Hr&&(ql=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function ja(a){if(Xr[a])return Xr[a];if(!Ei[a])return a;var l=Ei[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in ql)return Xr[a]=l[h];return a}var qc=ja("animationend"),Qo=ja("animationiteration"),Jo=ja("animationstart"),Zo=ja("transitionrun"),Hl=ja("transitionstart"),Hc=ja("transitioncancel"),tl=ja("transitionend"),ho=new Map,Gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gl.push("scrollEnd");function fi(a,l){ho.set(a,l),mr(l,[a])}var bs=new WeakMap;function Ze(a,l){if(typeof a=="object"&&a!==null){var h=bs.get(a);return h!==void 0?h:(l={value:a,source:l,stack:$n(l)},bs.set(a,l),l)}return{value:a,source:l,stack:$n(l)}}var tn=[],Yn=0,mi=0;function Os(){for(var a=Yn,l=mi=Yn=0;l<a;){var h=tn[l];tn[l++]=null;var d=tn[l];tn[l++]=null;var v=tn[l];tn[l++]=null;var S=tn[l];if(tn[l++]=null,d!==null&&v!==null){var O=d.pending;O===null?v.next=v:(v.next=O.next,O.next=v),d.pending=v}S!==0&&Jh(h,v,S)}}function el(a,l,h,d){tn[Yn++]=a,tn[Yn++]=l,tn[Yn++]=h,tn[Yn++]=d,mi|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function nl(a,l,h,d){return el(a,l,h,d),Wl(a)}function fo(a,l){return el(a,null,null,l),Wl(a)}function Jh(a,l,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var v=!1,S=a.return;S!==null;)S.childLanes|=h,d=S.alternate,d!==null&&(d.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(v=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,v&&l!==null&&(v=31-de(h),a=S.hiddenUpdates,d=a[v],d===null?a[v]=[l]:d.push(l),l.lane=h|536870912),S):null}function Wl(a){if(50<qd)throw qd=0,_y=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Qi={};function js(a,l,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,l,h,d){return new js(a,l,h,d)}function Gc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fa(a,l){var h=a.alternate;return h===null?(h=wr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Zu(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function $l(a,l,h,d,v,S){var O=0;if(d=a,typeof a=="function")Gc(a)&&(O=1);else if(typeof a=="string")O=BC(a,h,tt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case F:return a=wr(31,h,l,v),a.elementType=F,a.lanes=S,a;case E:return po(h.children,v,S,l);case N:O=8,v|=24;break;case C:return a=wr(12,h,l,v|2),a.elementType=C,a.lanes=S,a;case et:return a=wr(13,h,l,v),a.elementType=et,a.lanes=S,a;case pt:return a=wr(19,h,l,v),a.elementType=pt,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:case $:O=10;break t;case M:O=9;break t;case nt:O=11;break t;case q:O=14;break t;case P:O=16,d=null;break t}O=29,h=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=wr(O,h,l,v),l.elementType=a,l.type=d,l.lanes=S,l}function po(a,l,h,d){return a=wr(7,a,d,l),a.lanes=h,a}function Zh(a,l,h){return a=wr(6,a,null,l),a.lanes=h,a}function th(a,l,h){return l=wr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var il=[],go=0,Wc=null,tf=0,Fs=[],ws=0,Yl=null,mo=1,yo="";function Kl(a,l){il[go++]=tf,il[go++]=Wc,Wc=a,tf=l}function Sg(a,l,h){Fs[ws++]=mo,Fs[ws++]=yo,Fs[ws++]=Yl,Yl=a;var d=mo;a=yo;var v=32-de(d)-1;d&=~(1<<v),h+=1;var S=32-de(l)+v;if(30<S){var O=v-v%5;S=(d&(1<<O)-1).toString(32),d>>=O,v-=O,mo=1<<32-de(l)+v|h<<v|d,yo=S+a}else mo=1<<S|h<<v|d,yo=a}function eh(a){a.return!==null&&(Kl(a,1),Sg(a,1,0))}function nh(a){for(;a===Wc;)Wc=il[--go],il[go]=null,tf=il[--go],il[go]=null;for(;a===Yl;)Yl=Fs[--ws],Fs[ws]=null,yo=Fs[--ws],Fs[ws]=null,mo=Fs[--ws],Fs[ws]=null}var Fi=null,di=null,bn=!1,rl=null,Va=!1,_d=Error(i(519));function Xl(a){var l=Error(i(418,""));throw $c(Ze(l,a)),_d}function Ag(a){var l=a.stateNode,h=a.type,d=a.memoizedProps;switch(l[Rn]=a,l[Ln]=d,h){case"dialog":on("cancel",l),on("close",l);break;case"iframe":case"object":case"embed":on("load",l);break;case"video":case"audio":for(h=0;h<Gd.length;h++)on(Gd[h],l);break;case"source":on("error",l);break;case"img":case"image":case"link":on("error",l),on("load",l);break;case"details":on("toggle",l);break;case"input":on("invalid",l),xa(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ta(l);break;case"select":on("invalid",l);break;case"textarea":on("invalid",l),Na(l,d.value,d.defaultValue,d.children),Ta(l)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||d.suppressHydrationWarning===!0||xw(l.textContent,h)?(d.popover!=null&&(on("beforetoggle",l),on("toggle",l)),d.onScroll!=null&&on("scroll",l),d.onScrollEnd!=null&&on("scrollend",l),d.onClick!=null&&(l.onclick=sm),l=!0):l=!1,l||Xl(a)}function vo(a){for(Fi=a.return;Fi;)switch(Fi.tag){case 5:case 13:Va=!1;return;case 27:case 3:Va=!0;return;default:Fi=Fi.return}}function Lr(a){if(a!==Fi)return!1;if(!bn)return vo(a),bn=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||My(a.type,a.memoizedProps)),h=!h),h&&di&&Xl(a),vo(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){di=Eo(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}di=null}}else l===27?(l=di,uu(a.type)?(a=Vy,Vy=null,di=a):di=l):di=Fi?Eo(a.stateNode.nextSibling):null;return!0}function Ss(){di=Fi=null,bn=!1}function Tg(){var a=rl;return a!==null&&(Us===null?Us=a:Us.push.apply(Us,a),rl=null),a}function $c(a){rl===null?rl=[a]:rl.push(a)}var Ba=At(null),Ji=null,_o=null;function sl(a,l,h){Y(Ba,l._currentValue),l._currentValue=h}function Ua(a){a._currentValue=Ba.current,V(Ba)}function ef(a,l,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===h)break;a=a.return}}function nf(a,l,h,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var S=v.dependencies;if(S!==null){var O=v.child;S=S.firstContext;t:for(;S!==null;){var Q=S;S=v;for(var ut=0;ut<l.length;ut++)if(Q.context===l[ut]){S.lanes|=h,Q=S.alternate,Q!==null&&(Q.lanes|=h),ef(S.return,h,a),d||(O=null);break t}S=Q.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(i(341));O.lanes|=h,S=O.alternate,S!==null&&(S.lanes|=h),ef(O,h,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Yc(a,l,h,d){a=null;for(var v=l,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var Q=v.type;Xi(v.pendingProps.value,O.value)||(a!==null?a.push(Q):a=[Q])}}else if(v===Nt.current){if(O=v.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Qd):a=[Qd])}v=v.return}a!==null&&nf(l,a,h,d),l.flags|=262144}function rf(a){for(a=a.firstContext;a!==null;){if(!Xi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function za(a){Ji=a,_o=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vi(a){return sf(Ji,a)}function al(a,l){return Ji===null&&za(a),sf(a,l)}function sf(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},_o===null){if(a===null)throw Error(i(308));_o=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else _o=_o.next=l;return h}var H1=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},xg=n.unstable_scheduleCallback,G1=n.unstable_NormalPriority,Bi={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new H1,data:new Map,refCount:0}}function ih(a){a.refCount--,a.refCount===0&&xg(G1,function(){a.controller.abort()})}var rh=null,wd=0,Ql=0,bo=null;function W1(a,l){if(rh===null){var h=rh=[];wd=0,Ql=Ey(),bo={status:"pending",value:void 0,then:function(d){h.push(d)}}}return wd++,l.then(Eg,Eg),l}function Eg(){if(--wd===0&&rh!==null){bo!==null&&(bo.status="fulfilled");var a=rh;rh=null,Ql=0,bo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Ng(a,l){var h=[],d={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var v=0;v<h.length;v++)(0,h[v])(l)},function(v){for(d.status="rejected",d.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),d}var g=it.S;it.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&W1(a,l),g!==null&&g(a,l)};var w=At(null);function T(){var a=w.current;return a!==null?a:ei.pooledCache}function R(a,l){l===null?Y(w,w.current):Y(w,l.pool)}function B(){var a=T();return a===null?null:{parent:Bi._currentValue,pool:a}}var G=Error(i(460)),W=Error(i(474)),K=Error(i(542)),Z={then:function(){}};function rt(a){return a=a.status,a==="fulfilled"||a==="rejected"}function gt(){}function Rt(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(gt,gt),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a;default:if(typeof l.status=="string")l.then(gt,gt);else{if(a=ei,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=d}},function(d){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qt(a),a}throw It=l,G}}var It=null;function St(){if(It===null)throw Error(i(459));var a=It;return It=null,a}function qt(a){if(a===G||a===K)throw Error(i(483))}var Ot=!1;function mt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ht(a,l,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Vn&2)!==0){var v=d.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),d.pending=l,l=Wl(a),Jh(a,null,h),l}return el(a,d,l,h),Wl(a)}function Ut(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}function ce(a,l){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?v=S=O:S=S.next=O,h=h.next}while(h!==null);S===null?v=S=l:S=S.next=l}else v=S=l;h={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var ee=!1;function we(){if(ee){var a=bo;if(a!==null)throw a}}function re(a,l,h,d){ee=!1;var v=a.updateQueue;Ot=!1;var S=v.firstBaseUpdate,O=v.lastBaseUpdate,Q=v.shared.pending;if(Q!==null){v.shared.pending=null;var ut=Q,Pt=ut.next;ut.next=null,O===null?S=Pt:O.next=Pt,O=ut;var Bt=a.alternate;Bt!==null&&(Bt=Bt.updateQueue,Q=Bt.lastBaseUpdate,Q!==O&&(Q===null?Bt.firstBaseUpdate=Pt:Q.next=Pt,Bt.lastBaseUpdate=ut))}if(S!==null){var Gt=v.baseState;O=0,Bt=Pt=ut=null,Q=S;do{var Dt=Q.lane&-536870913,Mt=Dt!==Q.lane;if(Mt?(yn&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===Ql&&(ee=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var Fe=a,Re=Q;Dt=l;var Xn=h;switch(Re.tag){case 1:if(Fe=Re.payload,typeof Fe=="function"){Gt=Fe.call(Xn,Gt,Dt);break t}Gt=Fe;break t;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Re.payload,Dt=typeof Fe=="function"?Fe.call(Xn,Gt,Dt):Fe,Dt==null)break t;Gt=p({},Gt,Dt);break t;case 2:Ot=!0}}Dt=Q.callback,Dt!==null&&(a.flags|=64,Mt&&(a.flags|=8192),Mt=v.callbacks,Mt===null?v.callbacks=[Dt]:Mt.push(Dt))}else Mt={lane:Dt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Bt===null?(Pt=Bt=Mt,ut=Gt):Bt=Bt.next=Mt,O|=Dt;if(Q=Q.next,Q===null){if(Q=v.shared.pending,Q===null)break;Mt=Q,Q=Mt.next,Mt.next=null,v.lastBaseUpdate=Mt,v.shared.pending=null}}while(!0);Bt===null&&(ut=Gt),v.baseState=ut,v.firstBaseUpdate=Pt,v.lastBaseUpdate=Bt,S===null&&(v.shared.lanes=0),au|=O,a.lanes=O,a.memoizedState=Gt}}function gn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Tn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)gn(h[a],l)}var Xe=At(null),$e=At(0);function kn(a,l){a=oc,Y($e,a),Y(Xe,l),oc=a|l.baseLanes}function xn(){Y($e,oc),Y(Xe,Xe.current)}function Ue(){oc=$e.current,V(Xe),V($e)}var Fn=0,Ee=null,De=null,pn=null,mn=!1,Zi=!1,Ui=!1,yi=0,vi=0,Ni=null,Vs=0;function En(){throw Error(i(321))}function Ii(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Xi(a[h],l[h]))return!1;return!0}function ha(a,l,h,d,v,S){return Fn=S,Ee=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,it.H=a===null||a.memoizedState===null?s5:a5,Ui=!1,S=h(d,v),Ui=!1,Zi&&(S=Jl(l,h,d,v)),ol(a),S}function ol(a){it.H=Vg;var l=De!==null&&De.next!==null;if(Fn=0,pn=De=Ee=null,mn=!1,vi=0,Ni=null,l)throw Error(i(300));a===null||Sr||(a=a.dependencies,a!==null&&rf(a)&&(Sr=!0))}function Jl(a,l,h,d){Ee=a;var v=0;do{if(Zi&&(Ni=null),vi=0,Zi=!1,25<=v)throw Error(i(301));if(v+=1,pn=De=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}it.H=Q6,S=l(h,d)}while(Zi);return S}function ll(){var a=it.H,l=a.useState()[0];return l=typeof l.then=="function"?cl(l):l,a=a.useState()[0],(De!==null?De.memoizedState:null)!==a&&(Ee.flags|=1024),l}function ti(){var a=yi!==0;return yi=0,a}function sh(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function af(a){if(mn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}mn=!1}Fn=0,pn=De=Ee=null,Zi=!1,vi=yi=0,Ni=null}function Pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ee.memoizedState=pn=a:pn=pn.next=a,pn}function ii(){if(De===null){var a=Ee.alternate;a=a!==null?a.memoizedState:null}else a=De.next;var l=pn===null?Ee.memoizedState:pn.next;if(l!==null)pn=l,De=a;else{if(a===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));De=a,a={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},pn===null?Ee.memoizedState=pn=a:pn=pn.next=a}return pn}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(a){var l=vi;return vi+=1,Ni===null&&(Ni=[]),a=Rt(Ni,a,l),l=Ee,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,it.H=l===null||l.memoizedState===null?s5:a5),a}function Qr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return cl(a);if(a.$$typeof===$)return Vi(a)}throw Error(i(438,String(a)))}function ul(a){var l=null,h=Ee.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var d=Ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Zl(),Ee.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),d=0;d<a;d++)h[d]=z;return l.index++,h}function Jr(a,l){return typeof l=="function"?l(a):l}function ah(a){var l=ii();return Kc(l,De,a)}function Kc(a,l,h){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var v=a.baseQueue,S=d.pending;if(S!==null){if(v!==null){var O=v.next;v.next=S.next,S.next=O}l.baseQueue=v=S,d.pending=null}if(S=a.baseState,v===null)a.memoizedState=S;else{l=v.next;var Q=O=null,ut=null,Pt=l,Bt=!1;do{var Gt=Pt.lane&-536870913;if(Gt!==Pt.lane?(yn&Gt)===Gt:(Fn&Gt)===Gt){var Dt=Pt.revertLane;if(Dt===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),Gt===Ql&&(Bt=!0);else if((Fn&Dt)===Dt){Pt=Pt.next,Dt===Ql&&(Bt=!0);continue}else Gt={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(Q=ut=Gt,O=S):ut=ut.next=Gt,Ee.lanes|=Dt,au|=Dt;Gt=Pt.action,Ui&&h(S,Gt),S=Pt.hasEagerState?Pt.eagerState:h(S,Gt)}else Dt={lane:Gt,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},ut===null?(Q=ut=Dt,O=S):ut=ut.next=Dt,Ee.lanes|=Gt,au|=Gt;Pt=Pt.next}while(Pt!==null&&Pt!==l);if(ut===null?O=S:ut.next=Q,!Xi(S,a.memoizedState)&&(Sr=!0,Bt&&(h=bo,h!==null)))throw h;a.memoizedState=S,a.baseState=O,a.baseQueue=ut,d.lastRenderedState=S}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function of(a){var l=ii(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var d=h.dispatch,v=h.pending,S=l.memoizedState;if(v!==null){h.pending=null;var O=v=v.next;do S=a(S,O.action),O=O.next;while(O!==v);Xi(S,l.memoizedState)||(Sr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,d]}function oh(a,l,h){var d=Ee,v=ii(),S=bn;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=l();var O=!Xi((De||v).memoizedState,h);O&&(v.memoizedState=h,Sr=!0),v=v.queue;var Q=Xc.bind(null,d,v,a);if(Zc(2048,8,Q,[a]),v.getSnapshot!==l||O||pn!==null&&pn.memoizedState.tag&1){if(d.flags|=2048,So(9,hh(),lh.bind(null,d,v,h,l),null),ei===null)throw Error(i(349));S||(Fn&124)!==0||lf(d,l,h)}return h}function lf(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Ee.updateQueue,l===null?(l=Zl(),Ee.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function lh(a,l,h,d){l.value=h,l.getSnapshot=d,Ig(l)&&Cg(a)}function Xc(a,l,h){return h(function(){Ig(l)&&Cg(a)})}function Ig(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Xi(a,h)}catch{return!0}}function Cg(a){var l=fo(a,2);l!==null&&ya(l,a,2)}function ch(a){var l=Pr();if(typeof a=="function"){var h=a;if(a=h(),Ui){Ge(!0);try{h()}finally{Ge(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:a},l}function wo(a,l,h,d){return a.baseState=h,Kc(a,De,typeof d=="function"?d:Jr)}function $1(a,l,h,d,v){if(Fg(a))throw Error(i(485));if(a=l.action,a!==null){var S={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};it.T!==null?h(!0):S.isTransition=!1,d(S),h=l.pending,h===null?(S.next=l.pending=S,Rg(l,S)):(S.next=h.next,l.pending=h.next=S)}}function Rg(a,l){var h=l.action,d=l.payload,v=a.state;if(l.isTransition){var S=it.T,O={};it.T=O;try{var Q=h(v,d),ut=it.S;ut!==null&&ut(O,Q),Lg(a,l,Q)}catch(Pt){Qc(a,l,Pt)}finally{it.T=S}}else try{S=h(v,d),Lg(a,l,S)}catch(Pt){Qc(a,l,Pt)}}function Lg(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){Sd(a,l,d)},function(d){return Qc(a,l,d)}):Sd(a,l,h)}function Sd(a,l,h){l.status="fulfilled",l.value=h,Ad(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Rg(a,h)))}function Qc(a,l,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=h,Ad(l),l=l.next;while(l!==d)}a.action=null}function Ad(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Td(a,l){return l}function uh(a,l){if(bn){var h=ei.formState;if(h!==null){t:{var d=Ee;if(bn){if(di){e:{for(var v=di,S=Va;v.nodeType!==8;){if(!S){v=null;break e}if(v=Eo(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){di=Eo(v.nextSibling),d=v.data==="F!";break t}}Xl(d)}d=!1}d&&(l=h[0])}}return h=Pr(),h.memoizedState=h.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:l},h.queue=d,h=n5.bind(null,Ee,d),d.dispatch=h,d=ch(!1),S=Y1.bind(null,Ee,!1,d.queue),d=Pr(),v={state:l,dispatch:null,action:a,pending:null},d.queue=v,h=$1.bind(null,Ee,v,S,h),v.dispatch=h,d.memoizedState=a,[l,h,!1]}function cf(a){var l=ii();return Jc(l,De,a)}function Jc(a,l,h){if(l=Kc(a,l,Td)[0],a=ah(Jr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=cl(l)}catch(O){throw O===G?K:O}else d=l;l=ii();var v=l.queue,S=v.dispatch;return h!==l.memoizedState&&(Ee.flags|=2048,So(9,hh(),Pg.bind(null,v,h),null)),[d,S,a]}function Pg(a,l){a.action=l}function kg(a){var l=ii(),h=De;if(h!==null)return Jc(l,h,a);ii(),l=l.memoizedState,h=ii();var d=h.queue.dispatch;return h.memoizedState=a,[l,d,!1]}function So(a,l,h,d){return a={tag:a,create:h,deps:d,inst:l,next:null},l=Ee.updateQueue,l===null&&(l=Zl(),Ee.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,l.lastEffect=a),a}function hh(){return{destroy:void 0,resource:void 0}}function uf(){return ii().memoizedState}function fa(a,l,h,d){var v=Pr();d=d===void 0?null:d,Ee.flags|=a,v.memoizedState=So(1|l,hh(),h,d)}function Zc(a,l,h,d){var v=ii();d=d===void 0?null:d;var S=v.memoizedState.inst;De!==null&&d!==null&&Ii(d,De.memoizedState.deps)?v.memoizedState=So(l,S,h,d):(Ee.flags|=a,v.memoizedState=So(1|l,S,h,d))}function xd(a,l){fa(8390656,8,a,l)}function Dg(a,l){Zc(2048,8,a,l)}function Ed(a,l){return Zc(4,2,a,l)}function tc(a,l){return Zc(4,4,a,l)}function Mg(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Nd(a,l,h){h=h!=null?h.concat([a]):null,Zc(4,4,Mg.bind(null,l,a),h)}function Id(){}function Cd(a,l){var h=ii();l=l===void 0?null:l;var d=h.memoizedState;return l!==null&&Ii(l,d[1])?d[0]:(h.memoizedState=[a,l],a)}function Og(a,l){var h=ii();l=l===void 0?null:l;var d=h.memoizedState;if(l!==null&&Ii(l,d[1]))return d[0];if(d=a(),Ui){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d}function ec(a,l,h){return h===void 0||(Fn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=J5(),Ee.lanes|=a,au|=a,h)}function hf(a,l,h,d){return Xi(h,l)?h:Xe.current!==null?(a=ec(a,h,d),Xi(a,l)||(Sr=!0),a):(Fn&42)===0?(Sr=!0,a.memoizedState=h):(a=J5(),Ee.lanes|=a,au|=a,l)}function fh(a,l,h,d,v){var S=ht.p;ht.p=S!==0&&8>S?S:8;var O=it.T,Q={};it.T=Q,Y1(a,!1,l,h);try{var ut=v(),Pt=it.S;if(Pt!==null&&Pt(Q,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Bt=Ng(ut,d);kd(a,l,Bt,ma(a))}else kd(a,l,d,ma(a))}catch(Gt){kd(a,l,{then:function(){},status:"rejected",reason:Gt},ma())}finally{ht.p=S,it.T=O}}function Ao(){}function qa(a,l,h,d){if(a.tag!==5)throw Error(i(476));var v=To(a).queue;fh(a,v,l,ft,h===null?Ao:function(){return dh(a),h(d)})}function To(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:ft},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function dh(a){var l=To(a).next.queue;kd(a,l,{},ma())}function ph(){return Vi(Qd)}function Rd(){return ii().memoizedState}function jg(){return ii().memoizedState}function Ld(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=ma();a=Vt(h);var d=Ht(l,a,h);d!==null&&(ya(d,l,h),Ut(d,l,h)),l={cache:bd()},a.payload=l;return}l=l.return}}function Pd(a,l,h){var d=ma();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Fg(a)?i5(l,h):(h=nl(a,l,h,d),h!==null&&(ya(h,a,d),r5(h,l,d)))}function n5(a,l,h){var d=ma();kd(a,l,h,d)}function kd(a,l,h,d){var v={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fg(a))i5(l,v);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var O=l.lastRenderedState,Q=S(O,h);if(v.hasEagerState=!0,v.eagerState=Q,Xi(Q,O))return el(a,l,v,0),ei===null&&Os(),!1}catch{}finally{}if(h=nl(a,l,v,d),h!==null)return ya(h,a,d),r5(h,l,d),!0}return!1}function Y1(a,l,h,d){if(d={lane:2,revertLane:Ey(),action:d,hasEagerState:!1,eagerState:null,next:null},Fg(a)){if(l)throw Error(i(479))}else l=nl(a,h,d,2),l!==null&&ya(l,a,2)}function Fg(a){var l=a.alternate;return a===Ee||l!==null&&l===Ee}function i5(a,l){Zi=mn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function r5(a,l,h){if((h&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,un(a,h)}}var Vg={readContext:Vi,use:Qr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},s5={readContext:Vi,use:Qr,useCallback:function(a,l){return Pr().memoizedState=[a,l===void 0?null:l],a},useContext:Vi,useEffect:xd,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,fa(4194308,4,Mg.bind(null,l,a),h)},useLayoutEffect:function(a,l){return fa(4194308,4,a,l)},useInsertionEffect:function(a,l){fa(4,2,a,l)},useMemo:function(a,l){var h=Pr();l=l===void 0?null:l;var d=a();if(Ui){Ge(!0);try{a()}finally{Ge(!1)}}return h.memoizedState=[d,l],d},useReducer:function(a,l,h){var d=Pr();if(h!==void 0){var v=h(l);if(Ui){Ge(!0);try{h(l)}finally{Ge(!1)}}}else v=l;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=Pd.bind(null,Ee,a),[d.memoizedState,a]},useRef:function(a){var l=Pr();return a={current:a},l.memoizedState=a},useState:function(a){a=ch(a);var l=a.queue,h=n5.bind(null,Ee,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:Id,useDeferredValue:function(a,l){var h=Pr();return ec(h,a,l)},useTransition:function(){var a=ch(!1);return a=fh.bind(null,Ee,a.queue,!0,!1),Pr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var d=Ee,v=Pr();if(bn){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),ei===null)throw Error(i(349));(yn&124)!==0||lf(d,l,h)}v.memoizedState=h;var S={value:h,getSnapshot:l};return v.queue=S,xd(Xc.bind(null,d,S,a),[a]),d.flags|=2048,So(9,hh(),lh.bind(null,d,S,h,l),null),h},useId:function(){var a=Pr(),l=ei.identifierPrefix;if(bn){var h=yo,d=mo;h=(d&~(1<<32-de(d)-1)).toString(32)+h,l=""+l+"R"+h,h=yi++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=Vs++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:ph,useFormState:uh,useActionState:uh,useOptimistic:function(a){var l=Pr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Y1.bind(null,Ee,!0,h),h.dispatch=l,[a,l]},useMemoCache:ul,useCacheRefresh:function(){return Pr().memoizedState=Ld.bind(null,Ee)}},a5={readContext:Vi,use:Qr,useCallback:Cd,useContext:Vi,useEffect:Dg,useImperativeHandle:Nd,useInsertionEffect:Ed,useLayoutEffect:tc,useMemo:Og,useReducer:ah,useRef:uf,useState:function(){return ah(Jr)},useDebugValue:Id,useDeferredValue:function(a,l){var h=ii();return hf(h,De.memoizedState,a,l)},useTransition:function(){var a=ah(Jr)[0],l=ii().memoizedState;return[typeof a=="boolean"?a:cl(a),l]},useSyncExternalStore:oh,useId:Rd,useHostTransitionStatus:ph,useFormState:cf,useActionState:cf,useOptimistic:function(a,l){var h=ii();return wo(h,De,a,l)},useMemoCache:ul,useCacheRefresh:jg},Q6={readContext:Vi,use:Qr,useCallback:Cd,useContext:Vi,useEffect:Dg,useImperativeHandle:Nd,useInsertionEffect:Ed,useLayoutEffect:tc,useMemo:Og,useReducer:of,useRef:uf,useState:function(){return of(Jr)},useDebugValue:Id,useDeferredValue:function(a,l){var h=ii();return De===null?ec(h,a,l):hf(h,De.memoizedState,a,l)},useTransition:function(){var a=of(Jr)[0],l=ii().memoizedState;return[typeof a=="boolean"?a:cl(a),l]},useSyncExternalStore:oh,useId:Rd,useHostTransitionStatus:ph,useFormState:kg,useActionState:kg,useOptimistic:function(a,l){var h=ii();return De!==null?wo(h,De,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:ul,useCacheRefresh:jg},ff=null,Dd=0;function Bg(a){var l=Dd;return Dd+=1,ff===null&&(ff=[]),Rt(ff,a,l)}function Md(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ug(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function o5(a){var l=a._init;return l(a._payload)}function l5(a){function l(Tt,yt){if(a){var Ct=Tt.deletions;Ct===null?(Tt.deletions=[yt],Tt.flags|=16):Ct.push(yt)}}function h(Tt,yt){if(!a)return null;for(;yt!==null;)l(Tt,yt),yt=yt.sibling;return null}function d(Tt){for(var yt=new Map;Tt!==null;)Tt.key!==null?yt.set(Tt.key,Tt):yt.set(Tt.index,Tt),Tt=Tt.sibling;return yt}function v(Tt,yt){return Tt=Fa(Tt,yt),Tt.index=0,Tt.sibling=null,Tt}function S(Tt,yt,Ct){return Tt.index=Ct,a?(Ct=Tt.alternate,Ct!==null?(Ct=Ct.index,Ct<yt?(Tt.flags|=67108866,yt):Ct):(Tt.flags|=67108866,yt)):(Tt.flags|=1048576,yt)}function O(Tt){return a&&Tt.alternate===null&&(Tt.flags|=67108866),Tt}function Q(Tt,yt,Ct,zt){return yt===null||yt.tag!==6?(yt=Zh(Ct,Tt.mode,zt),yt.return=Tt,yt):(yt=v(yt,Ct),yt.return=Tt,yt)}function ut(Tt,yt,Ct,zt){var pe=Ct.type;return pe===E?Bt(Tt,yt,Ct.props.children,zt,Ct.key):yt!==null&&(yt.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===P&&o5(pe)===yt.type)?(yt=v(yt,Ct.props),Md(yt,Ct),yt.return=Tt,yt):(yt=$l(Ct.type,Ct.key,Ct.props,null,Tt.mode,zt),Md(yt,Ct),yt.return=Tt,yt)}function Pt(Tt,yt,Ct,zt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==Ct.containerInfo||yt.stateNode.implementation!==Ct.implementation?(yt=th(Ct,Tt.mode,zt),yt.return=Tt,yt):(yt=v(yt,Ct.children||[]),yt.return=Tt,yt)}function Bt(Tt,yt,Ct,zt,pe){return yt===null||yt.tag!==7?(yt=po(Ct,Tt.mode,zt,pe),yt.return=Tt,yt):(yt=v(yt,Ct),yt.return=Tt,yt)}function Gt(Tt,yt,Ct){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return yt=Zh(""+yt,Tt.mode,Ct),yt.return=Tt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:return Ct=$l(yt.type,yt.key,yt.props,null,Tt.mode,Ct),Md(Ct,yt),Ct.return=Tt,Ct;case _:return yt=th(yt,Tt.mode,Ct),yt.return=Tt,yt;case P:var zt=yt._init;return yt=zt(yt._payload),Gt(Tt,yt,Ct)}if(wt(yt)||D(yt))return yt=po(yt,Tt.mode,Ct,null),yt.return=Tt,yt;if(typeof yt.then=="function")return Gt(Tt,Bg(yt),Ct);if(yt.$$typeof===$)return Gt(Tt,al(Tt,yt),Ct);Ug(Tt,yt)}return null}function Dt(Tt,yt,Ct,zt){var pe=yt!==null?yt.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return pe!==null?null:Q(Tt,yt,""+Ct,zt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case b:return Ct.key===pe?ut(Tt,yt,Ct,zt):null;case _:return Ct.key===pe?Pt(Tt,yt,Ct,zt):null;case P:return pe=Ct._init,Ct=pe(Ct._payload),Dt(Tt,yt,Ct,zt)}if(wt(Ct)||D(Ct))return pe!==null?null:Bt(Tt,yt,Ct,zt,null);if(typeof Ct.then=="function")return Dt(Tt,yt,Bg(Ct),zt);if(Ct.$$typeof===$)return Dt(Tt,yt,al(Tt,Ct),zt);Ug(Tt,Ct)}return null}function Mt(Tt,yt,Ct,zt,pe){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return Tt=Tt.get(Ct)||null,Q(yt,Tt,""+zt,pe);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case b:return Tt=Tt.get(zt.key===null?Ct:zt.key)||null,ut(yt,Tt,zt,pe);case _:return Tt=Tt.get(zt.key===null?Ct:zt.key)||null,Pt(yt,Tt,zt,pe);case P:var sn=zt._init;return zt=sn(zt._payload),Mt(Tt,yt,Ct,zt,pe)}if(wt(zt)||D(zt))return Tt=Tt.get(Ct)||null,Bt(yt,Tt,zt,pe,null);if(typeof zt.then=="function")return Mt(Tt,yt,Ct,Bg(zt),pe);if(zt.$$typeof===$)return Mt(Tt,yt,Ct,al(yt,zt),pe);Ug(yt,zt)}return null}function Fe(Tt,yt,Ct,zt){for(var pe=null,sn=null,Ae=yt,Pe=yt=0,Tr=null;Ae!==null&&Pe<Ct.length;Pe++){Ae.index>Pe?(Tr=Ae,Ae=null):Tr=Ae.sibling;var Nn=Dt(Tt,Ae,Ct[Pe],zt);if(Nn===null){Ae===null&&(Ae=Tr);break}a&&Ae&&Nn.alternate===null&&l(Tt,Ae),yt=S(Nn,yt,Pe),sn===null?pe=Nn:sn.sibling=Nn,sn=Nn,Ae=Tr}if(Pe===Ct.length)return h(Tt,Ae),bn&&Kl(Tt,Pe),pe;if(Ae===null){for(;Pe<Ct.length;Pe++)Ae=Gt(Tt,Ct[Pe],zt),Ae!==null&&(yt=S(Ae,yt,Pe),sn===null?pe=Ae:sn.sibling=Ae,sn=Ae);return bn&&Kl(Tt,Pe),pe}for(Ae=d(Ae);Pe<Ct.length;Pe++)Tr=Mt(Ae,Tt,Pe,Ct[Pe],zt),Tr!==null&&(a&&Tr.alternate!==null&&Ae.delete(Tr.key===null?Pe:Tr.key),yt=S(Tr,yt,Pe),sn===null?pe=Tr:sn.sibling=Tr,sn=Tr);return a&&Ae.forEach(function(gu){return l(Tt,gu)}),bn&&Kl(Tt,Pe),pe}function Re(Tt,yt,Ct,zt){if(Ct==null)throw Error(i(151));for(var pe=null,sn=null,Ae=yt,Pe=yt=0,Tr=null,Nn=Ct.next();Ae!==null&&!Nn.done;Pe++,Nn=Ct.next()){Ae.index>Pe?(Tr=Ae,Ae=null):Tr=Ae.sibling;var gu=Dt(Tt,Ae,Nn.value,zt);if(gu===null){Ae===null&&(Ae=Tr);break}a&&Ae&&gu.alternate===null&&l(Tt,Ae),yt=S(gu,yt,Pe),sn===null?pe=gu:sn.sibling=gu,sn=gu,Ae=Tr}if(Nn.done)return h(Tt,Ae),bn&&Kl(Tt,Pe),pe;if(Ae===null){for(;!Nn.done;Pe++,Nn=Ct.next())Nn=Gt(Tt,Nn.value,zt),Nn!==null&&(yt=S(Nn,yt,Pe),sn===null?pe=Nn:sn.sibling=Nn,sn=Nn);return bn&&Kl(Tt,Pe),pe}for(Ae=d(Ae);!Nn.done;Pe++,Nn=Ct.next())Nn=Mt(Ae,Tt,Pe,Nn.value,zt),Nn!==null&&(a&&Nn.alternate!==null&&Ae.delete(Nn.key===null?Pe:Nn.key),yt=S(Nn,yt,Pe),sn===null?pe=Nn:sn.sibling=Nn,sn=Nn);return a&&Ae.forEach(function(JC){return l(Tt,JC)}),bn&&Kl(Tt,Pe),pe}function Xn(Tt,yt,Ct,zt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===E&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case b:t:{for(var pe=Ct.key;yt!==null;){if(yt.key===pe){if(pe=Ct.type,pe===E){if(yt.tag===7){h(Tt,yt.sibling),zt=v(yt,Ct.props.children),zt.return=Tt,Tt=zt;break t}}else if(yt.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===P&&o5(pe)===yt.type){h(Tt,yt.sibling),zt=v(yt,Ct.props),Md(zt,Ct),zt.return=Tt,Tt=zt;break t}h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}Ct.type===E?(zt=po(Ct.props.children,Tt.mode,zt,Ct.key),zt.return=Tt,Tt=zt):(zt=$l(Ct.type,Ct.key,Ct.props,null,Tt.mode,zt),Md(zt,Ct),zt.return=Tt,Tt=zt)}return O(Tt);case _:t:{for(pe=Ct.key;yt!==null;){if(yt.key===pe)if(yt.tag===4&&yt.stateNode.containerInfo===Ct.containerInfo&&yt.stateNode.implementation===Ct.implementation){h(Tt,yt.sibling),zt=v(yt,Ct.children||[]),zt.return=Tt,Tt=zt;break t}else{h(Tt,yt);break}else l(Tt,yt);yt=yt.sibling}zt=th(Ct,Tt.mode,zt),zt.return=Tt,Tt=zt}return O(Tt);case P:return pe=Ct._init,Ct=pe(Ct._payload),Xn(Tt,yt,Ct,zt)}if(wt(Ct))return Fe(Tt,yt,Ct,zt);if(D(Ct)){if(pe=D(Ct),typeof pe!="function")throw Error(i(150));return Ct=pe.call(Ct),Re(Tt,yt,Ct,zt)}if(typeof Ct.then=="function")return Xn(Tt,yt,Bg(Ct),zt);if(Ct.$$typeof===$)return Xn(Tt,yt,al(Tt,Ct),zt);Ug(Tt,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,yt!==null&&yt.tag===6?(h(Tt,yt.sibling),zt=v(yt,Ct),zt.return=Tt,Tt=zt):(h(Tt,yt),zt=Zh(Ct,Tt.mode,zt),zt.return=Tt,Tt=zt),O(Tt)):h(Tt,yt)}return function(Tt,yt,Ct,zt){try{Dd=0;var pe=Xn(Tt,yt,Ct,zt);return ff=null,pe}catch(Ae){if(Ae===G||Ae===K)throw Ae;var sn=wr(29,Ae,null,Tt.mode);return sn.lanes=zt,sn.return=Tt,sn}finally{}}}var df=l5(!0),c5=l5(!1),Ha=At(null),hl=null;function tu(a){var l=a.alternate;Y(ur,ur.current&1),Y(Ha,a),hl===null&&(l===null||Xe.current!==null||l.memoizedState!==null)&&(hl=a)}function u5(a){if(a.tag===22){if(Y(ur,ur.current),Y(Ha,a),hl===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(hl=a)}}else eu()}function eu(){Y(ur,ur.current),Y(Ha,Ha.current)}function nc(a){V(Ha),hl===a&&(hl=null),V(ur)}var ur=At(0);function zg(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Fy(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function K1(a,l,h,d){l=a.memoizedState,h=h(d,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var X1={enqueueSetState:function(a,l,h){a=a._reactInternals;var d=ma(),v=Vt(d);v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(ya(l,a,d),Ut(l,a,d))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var d=ma(),v=Vt(d);v.tag=1,v.payload=l,h!=null&&(v.callback=h),l=Ht(a,v,d),l!==null&&(ya(l,a,d),Ut(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=ma(),d=Vt(h);d.tag=2,l!=null&&(d.callback=l),l=Ht(a,d,h),l!==null&&(ya(l,a,h),Ut(l,a,h))}};function h5(a,l,h,d,v,S,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,S,O):l.prototype&&l.prototype.isPureReactComponent?!Yo(h,d)||!Yo(v,S):!0}function f5(a,l,h,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,d),l.state!==a&&X1.enqueueReplaceState(l,l.state,null)}function gh(a,l){var h=l;if("ref"in l){h={};for(var d in l)d!=="ref"&&(h[d]=l[d])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}var qg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function d5(a){qg(a)}function p5(a){console.error(a)}function g5(a){qg(a)}function Hg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function m5(a,l,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Q1(a,l,h){return h=Vt(h),h.tag=3,h.payload={element:null},h.callback=function(){Hg(a,l)},h}function y5(a){return a=Vt(a),a.tag=3,a}function v5(a,l,h,d){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var S=d.value;a.payload=function(){return v(S)},a.callback=function(){m5(l,h,d)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){m5(l,h,d),typeof v!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var Q=d.stack;this.componentDidCatch(d.value,{componentStack:Q!==null?Q:""})})}function J6(a,l,h,d,v){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=h.alternate,l!==null&&Yc(l,h,v,!0),h=Ha.current,h!==null){switch(h.tag){case 13:return hl===null?wy():h.alternate===null&&Ci===0&&(Ci=3),h.flags&=-257,h.flags|=65536,h.lanes=v,d===Z?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([d]):l.add(d),Ay(a,d,v)),!1;case 22:return h.flags|=65536,d===Z?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([d]):h.add(d)),Ay(a,d,v)),!1}throw Error(i(435,h.tag))}return Ay(a,d,v),wy(),!1}if(bn)return l=Ha.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,d!==_d&&(a=Error(i(422),{cause:d}),$c(Ze(a,h)))):(d!==_d&&(l=Error(i(423),{cause:d}),$c(Ze(l,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Ze(d,h),v=Q1(a.stateNode,d,v),ce(a,v),Ci!==4&&(Ci=2)),!1;var S=Error(i(520),{cause:d});if(S=Ze(S,h),zd===null?zd=[S]:zd.push(S),Ci!==4&&(Ci=2),l===null)return!0;d=Ze(d,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=Q1(h.stateNode,d,a),ce(h,a),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ou===null||!ou.has(S))))return h.flags|=65536,v&=-v,h.lanes|=v,v=y5(v),v5(v,a,h,d),ce(h,v),!1}h=h.return}while(h!==null);return!1}var _5=Error(i(461)),Sr=!1;function kr(a,l,h,d){l.child=a===null?c5(l,null,h,d):df(l,a.child,h,d)}function b5(a,l,h,d,v){h=h.render;var S=l.ref;if("ref"in d){var O={};for(var Q in d)Q!=="ref"&&(O[Q]=d[Q])}else O=d;return za(l),d=ha(a,l,h,O,S,v),Q=ti(),a!==null&&!Sr?(sh(a,l,v),ic(a,l,v)):(bn&&Q&&eh(l),l.flags|=1,kr(a,l,d,v),l.child)}function w5(a,l,h,d,v){if(a===null){var S=h.type;return typeof S=="function"&&!Gc(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,S5(a,l,S,d,v)):(a=$l(h.type,null,d,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!sy(a,v)){var O=S.memoizedProps;if(h=h.compare,h=h!==null?h:Yo,h(O,d)&&a.ref===l.ref)return ic(a,l,v)}return l.flags|=1,a=Fa(S,d),a.ref=l.ref,a.return=l,l.child=a}function S5(a,l,h,d,v){if(a!==null){var S=a.memoizedProps;if(Yo(S,d)&&a.ref===l.ref)if(Sr=!1,l.pendingProps=d=S,sy(a,v))(a.flags&131072)!==0&&(Sr=!0);else return l.lanes=a.lanes,ic(a,l,v)}return J1(a,l,h,d,v)}function A5(a,l,h){var d=l.pendingProps,v=d.children,S=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=S!==null?S.baseLanes|h:h,a!==null){for(v=l.child=a.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;l.childLanes=S&~d}else l.childLanes=0,l.child=null;return T5(a,l,d,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&R(l,S!==null?S.cachePool:null),S!==null?kn(l,S):xn(),u5(l);else return l.lanes=l.childLanes=536870912,T5(a,l,S!==null?S.baseLanes|h:h,h)}else S!==null?(R(l,S.cachePool),kn(l,S),eu(),l.memoizedState=null):(a!==null&&R(l,null),xn(),eu());return kr(a,l,v,h),l.child}function T5(a,l,h,d){var v=T();return v=v===null?null:{parent:Bi._currentValue,pool:v},l.memoizedState={baseLanes:h,cachePool:v},a!==null&&R(l,null),xn(),u5(l),a!==null&&Yc(a,l,d,!0),null}function Gg(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function J1(a,l,h,d,v){return za(l),h=ha(a,l,h,d,void 0,v),d=ti(),a!==null&&!Sr?(sh(a,l,v),ic(a,l,v)):(bn&&d&&eh(l),l.flags|=1,kr(a,l,h,v),l.child)}function x5(a,l,h,d,v,S){return za(l),l.updateQueue=null,h=Jl(l,d,h,v),ol(a),d=ti(),a!==null&&!Sr?(sh(a,l,S),ic(a,l,S)):(bn&&d&&eh(l),l.flags|=1,kr(a,l,h,S),l.child)}function E5(a,l,h,d,v){if(za(l),l.stateNode===null){var S=Qi,O=h.contextType;typeof O=="object"&&O!==null&&(S=Vi(O)),S=new h(d,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=X1,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=d,S.state=l.memoizedState,S.refs={},mt(l),O=h.contextType,S.context=typeof O=="object"&&O!==null?Vi(O):Qi,S.state=l.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(K1(l,h,O,d),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&X1.enqueueReplaceState(S,S.state,null),re(l,d,S,v),we(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){S=l.stateNode;var Q=l.memoizedProps,ut=gh(h,Q);S.props=ut;var Pt=S.context,Bt=h.contextType;O=Qi,typeof Bt=="object"&&Bt!==null&&(O=Vi(Bt));var Gt=h.getDerivedStateFromProps;Bt=typeof Gt=="function"||typeof S.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,Bt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Q||Pt!==O)&&f5(l,S,d,O),Ot=!1;var Dt=l.memoizedState;S.state=Dt,re(l,d,S,v),we(),Pt=l.memoizedState,Q||Dt!==Pt||Ot?(typeof Gt=="function"&&(K1(l,h,Gt,d),Pt=l.memoizedState),(ut=Ot||h5(l,h,ut,d,Dt,Pt,O))?(Bt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Pt),S.props=d,S.state=Pt,S.context=O,d=ut):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{S=l.stateNode,vt(a,l),O=l.memoizedProps,Bt=gh(h,O),S.props=Bt,Gt=l.pendingProps,Dt=S.context,Pt=h.contextType,ut=Qi,typeof Pt=="object"&&Pt!==null&&(ut=Vi(Pt)),Q=h.getDerivedStateFromProps,(Pt=typeof Q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==Gt||Dt!==ut)&&f5(l,S,d,ut),Ot=!1,Dt=l.memoizedState,S.state=Dt,re(l,d,S,v),we();var Mt=l.memoizedState;O!==Gt||Dt!==Mt||Ot||a!==null&&a.dependencies!==null&&rf(a.dependencies)?(typeof Q=="function"&&(K1(l,h,Q,d),Mt=l.memoizedState),(Bt=Ot||h5(l,h,Bt,d,Dt,Mt,ut)||a!==null&&a.dependencies!==null&&rf(a.dependencies))?(Pt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Mt,ut),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Mt,ut)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=Mt),S.props=d,S.state=Mt,S.context=ut,d=Bt):(typeof S.componentDidUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Dt===a.memoizedState||(l.flags|=1024),d=!1)}return S=d,Gg(a,l),d=(l.flags&128)!==0,S||d?(S=l.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&d?(l.child=df(l,a.child,null,v),l.child=df(l,null,h,v)):kr(a,l,h,v),l.memoizedState=S.state,a=l.child):a=ic(a,l,v),a}function N5(a,l,h,d){return Ss(),l.flags|=256,kr(a,l,h,d),l.child}var Z1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ty(a){return{baseLanes:a,cachePool:B()}}function ey(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Ga),a}function I5(a,l,h){var d=l.pendingProps,v=!1,S=(l.flags&128)!==0,O;if((O=S)||(O=a!==null&&a.memoizedState===null?!1:(ur.current&2)!==0),O&&(v=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(bn){if(v?tu(l):eu(),bn){var Q=di,ut;if(ut=Q){t:{for(ut=Q,Q=Va;ut.nodeType!==8;){if(!Q){Q=null;break t}if(ut=Eo(ut.nextSibling),ut===null){Q=null;break t}}Q=ut}Q!==null?(l.memoizedState={dehydrated:Q,treeContext:Yl!==null?{id:mo,overflow:yo}:null,retryLane:536870912,hydrationErrors:null},ut=wr(18,null,null,0),ut.stateNode=Q,ut.return=l,l.child=ut,Fi=l,di=null,ut=!0):ut=!1}ut||Xl(l)}if(Q=l.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Fy(Q)?l.lanes=32:l.lanes=536870912,null;nc(l)}return Q=d.children,d=d.fallback,v?(eu(),v=l.mode,Q=Wg({mode:"hidden",children:Q},v),d=po(d,v,h,null),Q.return=l,d.return=l,Q.sibling=d,l.child=Q,v=l.child,v.memoizedState=ty(h),v.childLanes=ey(a,O,h),l.memoizedState=Z1,d):(tu(l),ny(l,Q))}if(ut=a.memoizedState,ut!==null&&(Q=ut.dehydrated,Q!==null)){if(S)l.flags&256?(tu(l),l.flags&=-257,l=iy(a,l,h)):l.memoizedState!==null?(eu(),l.child=a.child,l.flags|=128,l=null):(eu(),v=d.fallback,Q=l.mode,d=Wg({mode:"visible",children:d.children},Q),v=po(v,Q,h,null),v.flags|=2,d.return=l,v.return=l,d.sibling=v,l.child=d,df(l,a.child,null,h),d=l.child,d.memoizedState=ty(h),d.childLanes=ey(a,O,h),l.memoizedState=Z1,l=v);else if(tu(l),Fy(Q)){if(O=Q.nextSibling&&Q.nextSibling.dataset,O)var Pt=O.dgst;O=Pt,d=Error(i(419)),d.stack="",d.digest=O,$c({value:d,source:null,stack:null}),l=iy(a,l,h)}else if(Sr||Yc(a,l,h,!1),O=(h&a.childLanes)!==0,Sr||O){if(O=ei,O!==null&&(d=h&-h,d=(d&42)!==0?1:Ur(d),d=(d&(O.suspendedLanes|h))!==0?0:d,d!==0&&d!==ut.retryLane))throw ut.retryLane=d,fo(a,d),ya(O,a,d),_5;Q.data==="$?"||wy(),l=iy(a,l,h)}else Q.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ut.treeContext,di=Eo(Q.nextSibling),Fi=l,bn=!0,rl=null,Va=!1,a!==null&&(Fs[ws++]=mo,Fs[ws++]=yo,Fs[ws++]=Yl,mo=a.id,yo=a.overflow,Yl=l),l=ny(l,d.children),l.flags|=4096);return l}return v?(eu(),v=d.fallback,Q=l.mode,ut=a.child,Pt=ut.sibling,d=Fa(ut,{mode:"hidden",children:d.children}),d.subtreeFlags=ut.subtreeFlags&65011712,Pt!==null?v=Fa(Pt,v):(v=po(v,Q,h,null),v.flags|=2),v.return=l,d.return=l,d.sibling=v,l.child=d,d=v,v=l.child,Q=a.child.memoizedState,Q===null?Q=ty(h):(ut=Q.cachePool,ut!==null?(Pt=Bi._currentValue,ut=ut.parent!==Pt?{parent:Pt,pool:Pt}:ut):ut=B(),Q={baseLanes:Q.baseLanes|h,cachePool:ut}),v.memoizedState=Q,v.childLanes=ey(a,O,h),l.memoizedState=Z1,d):(tu(l),h=a.child,a=h.sibling,h=Fa(h,{mode:"visible",children:d.children}),h.return=l,h.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=h,l.memoizedState=null,h)}function ny(a,l){return l=Wg({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Wg(a,l){return a=wr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function iy(a,l,h){return df(l,a.child,null,h),a=ny(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function C5(a,l,h){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),ef(a.return,l,h)}function ry(a,l,h,d,v){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:v}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=h,S.tailMode=v)}function R5(a,l,h){var d=l.pendingProps,v=d.revealOrder,S=d.tail;if(kr(a,l,d.children,h),d=ur.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&C5(a,h,l);else if(a.tag===19)C5(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(Y(ur,d),v){case"forwards":for(h=l.child,v=null;h!==null;)a=h.alternate,a!==null&&zg(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=l.child,l.child=null):(v=h.sibling,h.sibling=null),ry(l,!1,v,h,S);break;case"backwards":for(h=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&zg(a)===null){l.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}ry(l,!0,h,null,S);break;case"together":ry(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ic(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),au|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(Yc(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=Fa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Fa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function sy(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&rf(a)))}function Z6(a,l,h){switch(l.tag){case 3:Et(l,l.stateNode.containerInfo),sl(l,Bi,a.memoizedState.cache),Ss();break;case 27:case 5:Jt(l);break;case 4:Et(l,l.stateNode.containerInfo);break;case 10:sl(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(tu(l),l.flags|=128,null):(h&l.child.childLanes)!==0?I5(a,l,h):(tu(l),a=ic(a,l,h),a!==null?a.sibling:null);tu(l);break;case 19:var v=(a.flags&128)!==0;if(d=(h&l.childLanes)!==0,d||(Yc(a,l,h,!1),d=(h&l.childLanes)!==0),v){if(d)return R5(a,l,h);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Y(ur,ur.current),d)break;return null;case 22:case 23:return l.lanes=0,A5(a,l,h);case 24:sl(l,Bi,a.memoizedState.cache)}return ic(a,l,h)}function L5(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Sr=!0;else{if(!sy(a,h)&&(l.flags&128)===0)return Sr=!1,Z6(a,l,h);Sr=(a.flags&131072)!==0}else Sr=!1,bn&&(l.flags&1048576)!==0&&Sg(l,tf,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var d=l.elementType,v=d._init;if(d=v(d._payload),l.type=d,typeof d=="function")Gc(d)?(a=gh(d,a),l.tag=1,l=E5(null,l,d,a,h)):(l.tag=0,l=J1(null,l,d,a,h));else{if(d!=null){if(v=d.$$typeof,v===nt){l.tag=11,l=b5(null,l,d,a,h);break t}else if(v===q){l.tag=14,l=w5(null,l,d,a,h);break t}}throw l=ot(d)||d,Error(i(306,l,""))}}return l;case 0:return J1(a,l,l.type,l.pendingProps,h);case 1:return d=l.type,v=gh(d,l.pendingProps),E5(a,l,d,v,h);case 3:t:{if(Et(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var S=l.memoizedState;v=S.element,vt(a,l),re(l,d,null,h);var O=l.memoizedState;if(d=O.cache,sl(l,Bi,d),d!==S.cache&&nf(l,[Bi],h,!0),we(),d=O.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=N5(a,l,d,h);break t}else if(d!==v){v=Ze(Error(i(424)),l),$c(v),l=N5(a,l,d,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(di=Eo(a.firstChild),Fi=l,bn=!0,rl=null,Va=!0,h=c5(l,null,d,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ss(),d===v){l=ic(a,l,h);break t}kr(a,l,d,h)}l=l.child}return l;case 26:return Gg(a,l),a===null?(h=Mw(l.type,null,l.pendingProps,null))?l.memoizedState=h:bn||(h=l.type,a=l.pendingProps,d=am(ct.current).createElement(h),d[Rn]=l,d[Ln]=a,Mr(d,h,a),wn(d),l.stateNode=d):l.memoizedState=Mw(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Jt(l),a===null&&bn&&(d=l.stateNode=Pw(l.type,l.pendingProps,ct.current),Fi=l,Va=!0,v=di,uu(l.type)?(Vy=v,di=Eo(d.firstChild)):di=v),kr(a,l,l.pendingProps.children,h),Gg(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&bn&&((v=d=di)&&(d=NC(d,l.type,l.pendingProps,Va),d!==null?(l.stateNode=d,Fi=l,di=Eo(d.firstChild),Va=!1,v=!0):v=!1),v||Xl(l)),Jt(l),v=l.type,S=l.pendingProps,O=a!==null?a.memoizedProps:null,d=S.children,My(v,S)?d=null:O!==null&&My(v,O)&&(l.flags|=32),l.memoizedState!==null&&(v=ha(a,l,ll,null,null,h),Qd._currentValue=v),Gg(a,l),kr(a,l,d,h),l.child;case 6:return a===null&&bn&&((a=h=di)&&(h=IC(h,l.pendingProps,Va),h!==null?(l.stateNode=h,Fi=l,di=null,a=!0):a=!1),a||Xl(l)),null;case 13:return I5(a,l,h);case 4:return Et(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=df(l,null,d,h):kr(a,l,d,h),l.child;case 11:return b5(a,l,l.type,l.pendingProps,h);case 7:return kr(a,l,l.pendingProps,h),l.child;case 8:return kr(a,l,l.pendingProps.children,h),l.child;case 12:return kr(a,l,l.pendingProps.children,h),l.child;case 10:return d=l.pendingProps,sl(l,l.type,d.value),kr(a,l,d.children,h),l.child;case 9:return v=l.type._context,d=l.pendingProps.children,za(l),v=Vi(v),d=d(v),l.flags|=1,kr(a,l,d,h),l.child;case 14:return w5(a,l,l.type,l.pendingProps,h);case 15:return S5(a,l,l.type,l.pendingProps,h);case 19:return R5(a,l,h);case 31:return d=l.pendingProps,h=l.mode,d={mode:d.mode,children:d.children},a===null?(h=Wg(d,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Fa(a.child,d),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return A5(a,l,h);case 24:return za(l),d=Vi(Bi),a===null?(v=T(),v===null&&(v=ei,S=bd(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=h),v=S),l.memoizedState={parent:d,cache:v},mt(l),sl(l,Bi,v)):((a.lanes&h)!==0&&(vt(a,l),re(l,null,null,h),we()),v=a.memoizedState,S=l.memoizedState,v.parent!==d?(v={parent:d,cache:d},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),sl(l,Bi,d)):(d=S.cache,sl(l,Bi,d),d!==v.cache&&nf(l,[Bi],h,!0))),kr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function rc(a){a.flags|=4}function P5(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Bw(l)){if(l=Ha.current,l!==null&&((yn&4194048)===yn?hl!==null:(yn&62914560)!==yn&&(yn&536870912)===0||l!==hl))throw It=Z,W;a.flags|=8192}}function $g(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Hn():536870912,a.lanes|=l,yf|=l)}function Od(a,l){if(!bn)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function _i(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(l)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=h,l}function tC(a,l,h){var d=l.pendingProps;switch(nh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(l),null;case 1:return _i(l),null;case 3:return h=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ua(Bi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Lr(l)?rc(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tg())),_i(l),null;case 26:return h=l.memoizedState,a===null?(rc(l),h!==null?(_i(l),P5(l,h)):(_i(l),l.flags&=-16777217)):h?h!==a.memoizedState?(rc(l),_i(l),P5(l,h)):(_i(l),l.flags&=-16777217):(a.memoizedProps!==d&&rc(l),_i(l),l.flags&=-16777217),null;case 27:Xt(l),h=ct.current;var v=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&rc(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return _i(l),null}a=tt.current,Lr(l)?Ag(l):(a=Pw(v,d,h),l.stateNode=a,rc(l))}return _i(l),null;case 5:if(Xt(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&rc(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return _i(l),null}if(a=tt.current,Lr(l))Ag(l);else{switch(v=am(ct.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?v.createElement(h,{is:d.is}):v.createElement(h)}}a[Rn]=l,a[Ln]=d;t:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break t;for(;v.sibling===null;){if(v.return===null||v.return===l)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=a;t:switch(Mr(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&rc(l)}}return _i(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&rc(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=ct.current,Lr(l)){if(a=l.stateNode,h=l.memoizedProps,d=null,v=Fi,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[Rn]=l,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||xw(a.nodeValue,h)),a||Xl(l)}else a=am(a).createTextNode(d),a[Rn]=l,l.stateNode=a}return _i(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Lr(l),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Rn]=l}else Ss(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_i(l),v=!1}else v=Tg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(nc(l),l):(nc(l),null)}if(nc(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=l.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==v&&(d.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),$g(l,l.updateQueue),_i(l),null;case 4:return kt(),a===null&&Ry(l.stateNode.containerInfo),_i(l),null;case 10:return Ua(l.type),_i(l),null;case 19:if(V(ur),v=l.memoizedState,v===null)return _i(l),null;if(d=(l.flags&128)!==0,S=v.rendering,S===null)if(d)Od(v,!1);else{if(Ci!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=zg(a),S!==null){for(l.flags|=128,Od(v,!1),a=S.updateQueue,l.updateQueue=a,$g(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Zu(h,a),h=h.sibling;return Y(ur,ur.current&1|2),l.child}a=a.sibling}v.tail!==null&&Te()>Xg&&(l.flags|=128,d=!0,Od(v,!1),l.lanes=4194304)}else{if(!d)if(a=zg(S),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,$g(l,a),Od(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!bn)return _i(l),null}else 2*Te()-v.renderingStartTime>Xg&&h!==536870912&&(l.flags|=128,d=!0,Od(v,!1),l.lanes=4194304);v.isBackwards?(S.sibling=l.child,l.child=S):(a=v.last,a!==null?a.sibling=S:l.child=S,v.last=S)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Te(),l.sibling=null,a=ur.current,Y(ur,d?a&1|2:a&1),l):(_i(l),null);case 22:case 23:return nc(l),Ue(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(h&536870912)!==0&&(l.flags&128)===0&&(_i(l),l.subtreeFlags&6&&(l.flags|=8192)):_i(l),h=l.updateQueue,h!==null&&$g(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048),a!==null&&V(w),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ua(Bi),_i(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function eC(a,l){switch(nh(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ua(Bi),kt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Xt(l),null;case 13:if(nc(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Ss()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(ur),null;case 4:return kt(),null;case 10:return Ua(l.type),null;case 22:case 23:return nc(l),Ue(),a!==null&&V(w),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ua(Bi),null;case 25:return null;default:return null}}function k5(a,l){switch(nh(l),l.tag){case 3:Ua(Bi),kt();break;case 26:case 27:case 5:Xt(l);break;case 4:kt();break;case 13:nc(l);break;case 19:V(ur);break;case 10:Ua(l.type);break;case 22:case 23:nc(l),Ue(),a!==null&&V(w);break;case 24:Ua(Bi)}}function jd(a,l){try{var h=l.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var v=d.next;h=v;do{if((h.tag&a)===a){d=void 0;var S=h.create,O=h.inst;d=S(),O.destroy=d}h=h.next}while(h!==v)}}catch(Q){Jn(l,l.return,Q)}}function nu(a,l,h){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&a)===a){var O=d.inst,Q=O.destroy;if(Q!==void 0){O.destroy=void 0,v=l;var ut=h,Pt=Q;try{Pt()}catch(Bt){Jn(v,ut,Bt)}}}d=d.next}while(d!==S)}}catch(Bt){Jn(l,l.return,Bt)}}function D5(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Tn(l,h)}catch(d){Jn(a,a.return,d)}}}function M5(a,l,h){h.props=gh(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){Jn(a,l,d)}}function Fd(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(v){Jn(a,l,v)}}function fl(a,l){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(v){Jn(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Jn(a,l,v)}else h.current=null}function O5(a){var l=a.type,h=a.memoizedProps,d=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break t;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(v){Jn(a,a.return,v)}}function ay(a,l,h){try{var d=a.stateNode;SC(d,a.type,h,l),d[Ln]=l}catch(v){Jn(a,a.return,v)}}function j5(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&uu(a.type)||a.tag===4}function oy(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||j5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&uu(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ly(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=sm));else if(d!==4&&(d===27&&uu(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(ly(a,l,h),a=a.sibling;a!==null;)ly(a,l,h),a=a.sibling}function Yg(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(d!==4&&(d===27&&uu(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Yg(a,l,h),a=a.sibling;a!==null;)Yg(a,l,h),a=a.sibling}function F5(a){var l=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Mr(l,d,h),l[Rn]=a,l[Ln]=h}catch(S){Jn(a,a.return,S)}}var sc=!1,zi=!1,cy=!1,V5=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function nC(a,l){if(a=a.containerInfo,ky=fm,a=Rr(a),cr(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var v=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break t}var O=0,Q=-1,ut=-1,Pt=0,Bt=0,Gt=a,Dt=null;e:for(;;){for(var Mt;Gt!==h||v!==0&&Gt.nodeType!==3||(Q=O+v),Gt!==S||d!==0&&Gt.nodeType!==3||(ut=O+d),Gt.nodeType===3&&(O+=Gt.nodeValue.length),(Mt=Gt.firstChild)!==null;)Dt=Gt,Gt=Mt;for(;;){if(Gt===a)break e;if(Dt===h&&++Pt===v&&(Q=O),Dt===S&&++Bt===d&&(ut=O),(Mt=Gt.nextSibling)!==null)break;Gt=Dt,Dt=Gt.parentNode}Gt=Mt}h=Q===-1||ut===-1?null:{start:Q,end:ut}}else h=null}h=h||{start:0,end:0}}else h=null;for(Dy={focusedElem:a,selectionRange:h},fm=!1,Ar=l;Ar!==null;)if(l=Ar,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Ar=a;else for(;Ar!==null;){switch(l=Ar,S=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=l,v=S.memoizedProps,S=S.memoizedState,d=h.stateNode;try{var Fe=gh(h.type,v,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(Fe,S),d.__reactInternalSnapshotBeforeUpdate=a}catch(Re){Jn(h,h.return,Re)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)jy(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":jy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Ar=a;break}Ar=l.return}}function B5(a,l,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:iu(a,h),d&4&&jd(5,h);break;case 1:if(iu(a,h),d&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(O){Jn(h,h.return,O)}else{var v=gh(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Jn(h,h.return,O)}}d&64&&D5(h),d&512&&Fd(h,h.return);break;case 3:if(iu(a,h),d&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Tn(a,l)}catch(O){Jn(h,h.return,O)}}break;case 27:l===null&&d&4&&F5(h);case 26:case 5:iu(a,h),l===null&&d&4&&O5(h),d&512&&Fd(h,h.return);break;case 12:iu(a,h);break;case 13:iu(a,h),d&4&&q5(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=hC.bind(null,h),CC(a,h))));break;case 22:if(d=h.memoizedState!==null||sc,!d){l=l!==null&&l.memoizedState!==null||zi,v=sc;var S=zi;sc=d,(zi=l)&&!S?ru(a,h,(h.subtreeFlags&8772)!==0):iu(a,h),sc=v,zi=S}break;case 30:break;default:iu(a,h)}}function U5(a){var l=a.alternate;l!==null&&(a.alternate=null,U5(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Yi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var pi=null,Bs=!1;function ac(a,l,h){for(h=h.child;h!==null;)z5(a,l,h),h=h.sibling}function z5(a,l,h){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(_e,h)}catch{}switch(h.tag){case 26:zi||fl(h,l),ac(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:zi||fl(h,l);var d=pi,v=Bs;uu(h.type)&&(pi=h.stateNode,Bs=!1),ac(a,l,h),$d(h.stateNode),pi=d,Bs=v;break;case 5:zi||fl(h,l);case 6:if(d=pi,v=Bs,pi=null,ac(a,l,h),pi=d,Bs=v,pi!==null)if(Bs)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(h.stateNode)}catch(S){Jn(h,l,S)}else try{pi.removeChild(h.stateNode)}catch(S){Jn(h,l,S)}break;case 18:pi!==null&&(Bs?(a=pi,Rw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),ep(a)):Rw(pi,h.stateNode));break;case 4:d=pi,v=Bs,pi=h.stateNode.containerInfo,Bs=!0,ac(a,l,h),pi=d,Bs=v;break;case 0:case 11:case 14:case 15:zi||nu(2,h,l),zi||nu(4,h,l),ac(a,l,h);break;case 1:zi||(fl(h,l),d=h.stateNode,typeof d.componentWillUnmount=="function"&&M5(h,l,d)),ac(a,l,h);break;case 21:ac(a,l,h);break;case 22:zi=(d=zi)||h.memoizedState!==null,ac(a,l,h),zi=d;break;default:ac(a,l,h)}}function q5(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ep(a)}catch(h){Jn(l,l.return,h)}}function iC(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new V5),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new V5),l;default:throw Error(i(435,a.tag))}}function uy(a,l){var h=iC(a);l.forEach(function(d){var v=fC.bind(null,a,d);h.has(d)||(h.add(d),d.then(v,v))})}function da(a,l){var h=l.deletions;if(h!==null)for(var d=0;d<h.length;d++){var v=h[d],S=a,O=l,Q=O;t:for(;Q!==null;){switch(Q.tag){case 27:if(uu(Q.type)){pi=Q.stateNode,Bs=!1;break t}break;case 5:pi=Q.stateNode,Bs=!1;break t;case 3:case 4:pi=Q.stateNode.containerInfo,Bs=!0;break t}Q=Q.return}if(pi===null)throw Error(i(160));z5(S,O,v),pi=null,Bs=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)H5(l,a),l=l.sibling}var xo=null;function H5(a,l){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:da(l,a),pa(a),d&4&&(nu(3,a,a.return),jd(3,a),nu(5,a,a.return));break;case 1:da(l,a),pa(a),d&512&&(zi||h===null||fl(h,h.return)),d&64&&sc&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var v=xo;if(da(l,a),pa(a),d&512&&(zi||h===null||fl(h,h.return)),d&4){var S=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){t:{d=a.type,h=a.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Ir]||S[Rn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(d),v.head.insertBefore(S,v.querySelector("head > title"))),Mr(S,d,h),S[Rn]=a,wn(S),d=S;break t;case"link":var O=Fw("link","href",v).get(d+(h.href||""));if(O){for(var Q=0;Q<O.length;Q++)if(S=O[Q],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(Q,1);break e}}S=v.createElement(d),Mr(S,d,h),v.head.appendChild(S);break;case"meta":if(O=Fw("meta","content",v).get(d+(h.content||""))){for(Q=0;Q<O.length;Q++)if(S=O[Q],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(Q,1);break e}}S=v.createElement(d),Mr(S,d,h),v.head.appendChild(S);break;default:throw Error(i(468,d))}S[Rn]=a,wn(S),d=S}a.stateNode=d}else Vw(v,a.type,a.stateNode);else a.stateNode=jw(v,d,a.memoizedProps);else S!==d?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,d===null?Vw(v,a.type,a.stateNode):jw(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&ay(a,a.memoizedProps,h.memoizedProps)}break;case 27:da(l,a),pa(a),d&512&&(zi||h===null||fl(h,h.return)),h!==null&&d&4&&ay(a,a.memoizedProps,h.memoizedProps);break;case 5:if(da(l,a),pa(a),d&512&&(zi||h===null||fl(h,h.return)),a.flags&32){v=a.stateNode;try{qr(v,"")}catch(Mt){Jn(a,a.return,Mt)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,ay(a,v,h!==null?h.memoizedProps:v)),d&1024&&(cy=!0);break;case 6:if(da(l,a),pa(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(Mt){Jn(a,a.return,Mt)}}break;case 3:if(cm=null,v=xo,xo=om(l.containerInfo),da(l,a),xo=v,pa(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{ep(l.containerInfo)}catch(Mt){Jn(a,a.return,Mt)}cy&&(cy=!1,G5(a));break;case 4:d=xo,xo=om(a.stateNode.containerInfo),da(l,a),pa(a),xo=d;break;case 12:da(l,a),pa(a);break;case 13:da(l,a),pa(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(my=Te()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,uy(a,d)));break;case 22:v=a.memoizedState!==null;var ut=h!==null&&h.memoizedState!==null,Pt=sc,Bt=zi;if(sc=Pt||v,zi=Bt||ut,da(l,a),zi=Bt,sc=Pt,pa(a),d&8192)t:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(h===null||ut||sc||zi||mh(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){ut=h=l;try{if(S=ut.stateNode,v)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{Q=ut.stateNode;var Gt=ut.memoizedProps.style,Dt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;Q.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(Mt){Jn(ut,ut.return,Mt)}}}else if(l.tag===6){if(h===null){ut=l;try{ut.stateNode.nodeValue=v?"":ut.memoizedProps}catch(Mt){Jn(ut,ut.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,uy(a,h))));break;case 19:da(l,a),pa(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,uy(a,d)));break;case 30:break;case 21:break;default:da(l,a),pa(a)}}function pa(a){var l=a.flags;if(l&2){try{for(var h,d=a.return;d!==null;){if(j5(d)){h=d;break}d=d.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var v=h.stateNode,S=oy(a);Yg(a,S,v);break;case 5:var O=h.stateNode;h.flags&32&&(qr(O,""),h.flags&=-33);var Q=oy(a);Yg(a,Q,O);break;case 3:case 4:var ut=h.stateNode.containerInfo,Pt=oy(a);ly(a,Pt,ut);break;default:throw Error(i(161))}}catch(Bt){Jn(a,a.return,Bt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function G5(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;G5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function iu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)B5(a,l.alternate,l),l=l.sibling}function mh(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:nu(4,l,l.return),mh(l);break;case 1:fl(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&M5(l,l.return,h),mh(l);break;case 27:$d(l.stateNode);case 26:case 5:fl(l,l.return),mh(l);break;case 22:l.memoizedState===null&&mh(l);break;case 30:mh(l);break;default:mh(l)}a=a.sibling}}function ru(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,v=a,S=l,O=S.flags;switch(S.tag){case 0:case 11:case 15:ru(v,S,h),jd(4,S);break;case 1:if(ru(v,S,h),d=S,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Pt){Jn(d,d.return,Pt)}if(d=S,v=d.updateQueue,v!==null){var Q=d.stateNode;try{var ut=v.shared.hiddenCallbacks;if(ut!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ut.length;v++)gn(ut[v],Q)}catch(Pt){Jn(d,d.return,Pt)}}h&&O&64&&D5(S),Fd(S,S.return);break;case 27:F5(S);case 26:case 5:ru(v,S,h),h&&d===null&&O&4&&O5(S),Fd(S,S.return);break;case 12:ru(v,S,h);break;case 13:ru(v,S,h),h&&O&4&&q5(v,S);break;case 22:S.memoizedState===null&&ru(v,S,h),Fd(S,S.return);break;case 30:break;default:ru(v,S,h)}l=l.sibling}}function hy(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&ih(h))}function fy(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ih(a))}function dl(a,l,h,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)W5(a,l,h,d),l=l.sibling}function W5(a,l,h,d){var v=l.flags;switch(l.tag){case 0:case 11:case 15:dl(a,l,h,d),v&2048&&jd(9,l);break;case 1:dl(a,l,h,d);break;case 3:dl(a,l,h,d),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ih(a)));break;case 12:if(v&2048){dl(a,l,h,d),a=l.stateNode;try{var S=l.memoizedProps,O=S.id,Q=S.onPostCommit;typeof Q=="function"&&Q(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ut){Jn(l,l.return,ut)}}else dl(a,l,h,d);break;case 13:dl(a,l,h,d);break;case 23:break;case 22:S=l.stateNode,O=l.alternate,l.memoizedState!==null?S._visibility&2?dl(a,l,h,d):Vd(a,l):S._visibility&2?dl(a,l,h,d):(S._visibility|=2,pf(a,l,h,d,(l.subtreeFlags&10256)!==0)),v&2048&&hy(O,l);break;case 24:dl(a,l,h,d),v&2048&&fy(l.alternate,l);break;default:dl(a,l,h,d)}}function pf(a,l,h,d,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=a,O=l,Q=h,ut=d,Pt=O.flags;switch(O.tag){case 0:case 11:case 15:pf(S,O,Q,ut,v),jd(8,O);break;case 23:break;case 22:var Bt=O.stateNode;O.memoizedState!==null?Bt._visibility&2?pf(S,O,Q,ut,v):Vd(S,O):(Bt._visibility|=2,pf(S,O,Q,ut,v)),v&&Pt&2048&&hy(O.alternate,O);break;case 24:pf(S,O,Q,ut,v),v&&Pt&2048&&fy(O.alternate,O);break;default:pf(S,O,Q,ut,v)}l=l.sibling}}function Vd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,d=l,v=d.flags;switch(d.tag){case 22:Vd(h,d),v&2048&&hy(d.alternate,d);break;case 24:Vd(h,d),v&2048&&fy(d.alternate,d);break;default:Vd(h,d)}l=l.sibling}}var Bd=8192;function gf(a){if(a.subtreeFlags&Bd)for(a=a.child;a!==null;)$5(a),a=a.sibling}function $5(a){switch(a.tag){case 26:gf(a),a.flags&Bd&&a.memoizedState!==null&&zC(xo,a.memoizedState,a.memoizedProps);break;case 5:gf(a);break;case 3:case 4:var l=xo;xo=om(a.stateNode.containerInfo),gf(a),xo=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Bd,Bd=16777216,gf(a),Bd=l):gf(a));break;default:gf(a)}}function Y5(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ud(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];Ar=d,X5(d,a)}Y5(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)K5(a),a=a.sibling}function K5(a){switch(a.tag){case 0:case 11:case 15:Ud(a),a.flags&2048&&nu(9,a,a.return);break;case 3:Ud(a);break;case 12:Ud(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Kg(a)):Ud(a);break;default:Ud(a)}}function Kg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];Ar=d,X5(d,a)}Y5(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:nu(8,l,l.return),Kg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Kg(l));break;default:Kg(l)}a=a.sibling}}function X5(a,l){for(;Ar!==null;){var h=Ar;switch(h.tag){case 0:case 11:case 15:nu(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ih(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,Ar=d;else t:for(h=a;Ar!==null;){d=Ar;var v=d.sibling,S=d.return;if(U5(d),d===h){Ar=null;break t}if(v!==null){v.return=S,Ar=v;break t}Ar=S}}}var rC={getCacheForType:function(a){var l=Vi(Bi),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},sC=typeof WeakMap=="function"?WeakMap:Map,Vn=0,ei=null,an=null,yn=0,Bn=0,ga=null,su=!1,mf=!1,dy=!1,oc=0,Ci=0,au=0,yh=0,py=0,Ga=0,yf=0,zd=null,Us=null,gy=!1,my=0,Xg=1/0,Qg=null,ou=null,Dr=0,lu=null,vf=null,_f=0,yy=0,vy=null,Q5=null,qd=0,_y=null;function ma(){if((Vn&2)!==0&&yn!==0)return yn&-yn;if(it.T!==null){var a=Ql;return a!==0?a:Ey()}return sr()}function J5(){Ga===0&&(Ga=(yn&536870912)===0||bn?Xs():536870912);var a=Ha.current;return a!==null&&(a.flags|=32),Ga}function ya(a,l,h){(a===ei&&(Bn===2||Bn===9)||a.cancelPendingCommit!==null)&&(bf(a,0),cu(a,yn,Ga,!1)),rr(a,h),((Vn&2)===0||a!==ei)&&(a===ei&&((Vn&2)===0&&(yh|=h),Ci===4&&cu(a,yn,Ga,!1)),pl(a))}function Z5(a,l,h){if((Vn&6)!==0)throw Error(i(327));var d=!h&&(l&124)===0&&(l&a.expiredLanes)===0||gr(a,l),v=d?lC(a,l):Sy(a,l,!0),S=d;do{if(v===0){mf&&!d&&cu(a,l,0,!1);break}else{if(h=a.current.alternate,S&&!aC(h)){v=Sy(a,l,!1),S=!1;continue}if(v===2){if(S=l,a.errorRecoveryDisabledLanes&S)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;t:{var Q=a;v=zd;var ut=Q.current.memoizedState.isDehydrated;if(ut&&(bf(Q,O).flags|=256),O=Sy(Q,O,!1),O!==2){if(dy&&!ut){Q.errorRecoveryDisabledLanes|=S,yh|=S,v=4;break t}S=Us,Us=v,S!==null&&(Us===null?Us=S:Us.push.apply(Us,S))}v=O}if(S=!1,v!==2)continue}}if(v===1){bf(a,0),cu(a,l,0,!0);break}t:{switch(d=a,S=v,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:cu(d,l,Ga,!su);break t;case 2:Us=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(v=my+300-Te(),10<v)){if(cu(d,l,Ga,!su),Cn(d,0,!0)!==0)break t;d.timeoutHandle=Iw(tw.bind(null,d,h,Us,Qg,gy,l,Ga,yh,yf,su,S,2,-0,0),v);break t}tw(d,h,Us,Qg,gy,l,Ga,yh,yf,su,S,0,-0,0)}}break}while(!0);pl(a)}function tw(a,l,h,d,v,S,O,Q,ut,Pt,Bt,Gt,Dt,Mt){if(a.timeoutHandle=-1,Gt=l.subtreeFlags,(Gt&8192||(Gt&16785408)===16785408)&&(Xd={stylesheets:null,count:0,unsuspend:UC},$5(l),Gt=qC(),Gt!==null)){a.cancelPendingCommit=Gt(ow.bind(null,a,l,S,h,d,v,O,Q,ut,Bt,1,Dt,Mt)),cu(a,S,O,!Pt);return}ow(a,l,S,h,d,v,O,Q,ut)}function aC(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var v=h[d],S=v.getSnapshot;v=v.value;try{if(!Xi(S(),v))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function cu(a,l,h,d){l&=~py,l&=~yh,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var v=l;0<v;){var S=31-de(v),O=1<<S;d[S]=-1,v&=~O}h!==0&&xe(a,h,l)}function Jg(){return(Vn&6)===0?(Hd(0),!1):!0}function by(){if(an!==null){if(Bn===0)var a=an.return;else a=an,_o=Ji=null,af(a),ff=null,Dd=0,a=an;for(;a!==null;)k5(a.alternate,a),a=a.return;an=null}}function bf(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,TC(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),by(),ei=a,an=h=Fa(a.current,null),yn=l,Bn=0,ga=null,su=!1,mf=gr(a,l),dy=!1,yf=Ga=py=yh=au=Ci=0,Us=zd=null,gy=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var v=31-de(d),S=1<<v;l|=a[v],d&=~S}return oc=l,Os(),h}function ew(a,l){Ee=null,it.H=Vg,l===G||l===K?(l=St(),Bn=3):l===W?(l=St(),Bn=4):Bn=l===_5?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ga=l,an===null&&(Ci=1,Hg(a,Ze(l,a.current)))}function nw(){var a=it.H;return it.H=Vg,a===null?Vg:a}function iw(){var a=it.A;return it.A=rC,a}function wy(){Ci=4,su||(yn&4194048)!==yn&&Ha.current!==null||(mf=!0),(au&134217727)===0&&(yh&134217727)===0||ei===null||cu(ei,yn,Ga,!1)}function Sy(a,l,h){var d=Vn;Vn|=2;var v=nw(),S=iw();(ei!==a||yn!==l)&&(Qg=null,bf(a,l)),l=!1;var O=Ci;t:do try{if(Bn!==0&&an!==null){var Q=an,ut=ga;switch(Bn){case 8:by(),O=6;break t;case 3:case 2:case 9:case 6:Ha.current===null&&(l=!0);var Pt=Bn;if(Bn=0,ga=null,wf(a,Q,ut,Pt),h&&mf){O=0;break t}break;default:Pt=Bn,Bn=0,ga=null,wf(a,Q,ut,Pt)}}oC(),O=Ci;break}catch(Bt){ew(a,Bt)}while(!0);return l&&a.shellSuspendCounter++,_o=Ji=null,Vn=d,it.H=v,it.A=S,an===null&&(ei=null,yn=0,Os()),O}function oC(){for(;an!==null;)rw(an)}function lC(a,l){var h=Vn;Vn|=2;var d=nw(),v=iw();ei!==a||yn!==l?(Qg=null,Xg=Te()+500,bf(a,l)):mf=gr(a,l);t:do try{if(Bn!==0&&an!==null){l=an;var S=ga;e:switch(Bn){case 1:Bn=0,ga=null,wf(a,l,S,1);break;case 2:case 9:if(rt(S)){Bn=0,ga=null,sw(l);break}l=function(){Bn!==2&&Bn!==9||ei!==a||(Bn=7),pl(a)},S.then(l,l);break t;case 3:Bn=7;break t;case 4:Bn=5;break t;case 7:rt(S)?(Bn=0,ga=null,sw(l)):(Bn=0,ga=null,wf(a,l,S,7));break;case 5:var O=null;switch(an.tag){case 26:O=an.memoizedState;case 5:case 27:var Q=an;if(!O||Bw(O)){Bn=0,ga=null;var ut=Q.sibling;if(ut!==null)an=ut;else{var Pt=Q.return;Pt!==null?(an=Pt,Zg(Pt)):an=null}break e}}Bn=0,ga=null,wf(a,l,S,5);break;case 6:Bn=0,ga=null,wf(a,l,S,6);break;case 8:by(),Ci=6;break t;default:throw Error(i(462))}}cC();break}catch(Bt){ew(a,Bt)}while(!0);return _o=Ji=null,it.H=d,it.A=v,Vn=h,an!==null?0:(ei=null,yn=0,Os(),Ci)}function cC(){for(;an!==null&&!Ft();)rw(an)}function rw(a){var l=L5(a.alternate,a,oc);a.memoizedProps=a.pendingProps,l===null?Zg(a):an=l}function sw(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=x5(h,l,l.pendingProps,l.type,void 0,yn);break;case 11:l=x5(h,l,l.pendingProps,l.type.render,l.ref,yn);break;case 5:af(l);default:k5(h,l),l=an=Zu(l,oc),l=L5(h,l,oc)}a.memoizedProps=a.pendingProps,l===null?Zg(a):an=l}function wf(a,l,h,d){_o=Ji=null,af(l),ff=null,Dd=0;var v=l.return;try{if(J6(a,v,l,h,yn)){Ci=1,Hg(a,Ze(h,a.current)),an=null;return}}catch(S){if(v!==null)throw an=v,S;Ci=1,Hg(a,Ze(h,a.current)),an=null;return}l.flags&32768?(bn||d===1?a=!0:mf||(yn&536870912)!==0?a=!1:(su=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ha.current,d!==null&&d.tag===13&&(d.flags|=16384))),aw(l,a)):Zg(l)}function Zg(a){var l=a;do{if((l.flags&32768)!==0){aw(l,su);return}a=l.return;var h=tC(l.alternate,l,oc);if(h!==null){an=h;return}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);Ci===0&&(Ci=5)}function aw(a,l){do{var h=eC(a.alternate,a);if(h!==null){h.flags&=32767,an=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){an=a;return}an=a=h}while(a!==null);Ci=6,an=null}function ow(a,l,h,d,v,S,O,Q,ut){a.cancelPendingCommit=null;do tm();while(Dr!==0);if((Vn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(S=l.lanes|l.childLanes,S|=mi,Gn(a,h,S,O,Q,ut),a===ei&&(an=ei=null,yn=0),vf=l,lu=a,_f=h,yy=S,vy=v,Q5=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,dC(se,function(){return fw(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=it.T,it.T=null,v=ht.p,ht.p=2,O=Vn,Vn|=4;try{nC(a,l,h)}finally{Vn=O,ht.p=v,it.T=d}}Dr=1,lw(),cw(),uw()}}function lw(){if(Dr===1){Dr=0;var a=lu,l=vf,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=it.T,it.T=null;var d=ht.p;ht.p=2;var v=Vn;Vn|=4;try{H5(l,a);var S=Dy,O=Rr(a.containerInfo),Q=S.focusedElem,ut=S.selectionRange;if(O!==Q&&Q&&Q.ownerDocument&&Ko(Q.ownerDocument.documentElement,Q)){if(ut!==null&&cr(Q)){var Pt=ut.start,Bt=ut.end;if(Bt===void 0&&(Bt=Pt),"selectionStart"in Q)Q.selectionStart=Pt,Q.selectionEnd=Math.min(Bt,Q.value.length);else{var Gt=Q.ownerDocument||document,Dt=Gt&&Gt.defaultView||window;if(Dt.getSelection){var Mt=Dt.getSelection(),Fe=Q.textContent.length,Re=Math.min(ut.start,Fe),Xn=ut.end===void 0?Re:Math.min(ut.end,Fe);!Mt.extend&&Re>Xn&&(O=Xn,Xn=Re,Re=O);var Tt=uo(Q,Re),yt=uo(Q,Xn);if(Tt&&yt&&(Mt.rangeCount!==1||Mt.anchorNode!==Tt.node||Mt.anchorOffset!==Tt.offset||Mt.focusNode!==yt.node||Mt.focusOffset!==yt.offset)){var Ct=Gt.createRange();Ct.setStart(Tt.node,Tt.offset),Mt.removeAllRanges(),Re>Xn?(Mt.addRange(Ct),Mt.extend(yt.node,yt.offset)):(Ct.setEnd(yt.node,yt.offset),Mt.addRange(Ct))}}}}for(Gt=[],Mt=Q;Mt=Mt.parentNode;)Mt.nodeType===1&&Gt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Gt.length;Q++){var zt=Gt[Q];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}fm=!!ky,Dy=ky=null}finally{Vn=v,ht.p=d,it.T=h}}a.current=l,Dr=2}}function cw(){if(Dr===2){Dr=0;var a=lu,l=vf,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=it.T,it.T=null;var d=ht.p;ht.p=2;var v=Vn;Vn|=4;try{B5(a,l.alternate,l)}finally{Vn=v,ht.p=d,it.T=h}}Dr=3}}function uw(){if(Dr===4||Dr===3){Dr=0,lt();var a=lu,l=vf,h=_f,d=Q5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Dr=5:(Dr=0,vf=lu=null,hw(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ou=null),ci(h),l=l.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(_e,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=it.T,v=ht.p,ht.p=2,it.T=null;try{for(var S=a.onRecoverableError,O=0;O<d.length;O++){var Q=d[O];S(Q.value,{componentStack:Q.stack})}}finally{it.T=l,ht.p=v}}(_f&3)!==0&&tm(),pl(a),v=a.pendingLanes,(h&4194090)!==0&&(v&42)!==0?a===_y?qd++:(qd=0,_y=a):qd=0,Hd(0)}}function hw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ih(l)))}function tm(a){return lw(),cw(),uw(),fw()}function fw(){if(Dr!==5)return!1;var a=lu,l=yy;yy=0;var h=ci(_f),d=it.T,v=ht.p;try{ht.p=32>h?32:h,it.T=null,h=vy,vy=null;var S=lu,O=_f;if(Dr=0,vf=lu=null,_f=0,(Vn&6)!==0)throw Error(i(331));var Q=Vn;if(Vn|=4,K5(S.current),W5(S,S.current,O,h),Vn=Q,Hd(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(_e,S)}catch{}return!0}finally{ht.p=v,it.T=d,hw(a,l)}}function dw(a,l,h){l=Ze(h,l),l=Q1(a.stateNode,l,2),a=Ht(a,l,2),a!==null&&(rr(a,2),pl(a))}function Jn(a,l,h){if(a.tag===3)dw(a,a,h);else for(;l!==null;){if(l.tag===3){dw(l,a,h);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ou===null||!ou.has(d))){a=Ze(h,a),h=y5(2),d=Ht(l,h,2),d!==null&&(v5(h,d,l,a),rr(d,2),pl(d));break}}l=l.return}}function Ay(a,l,h){var d=a.pingCache;if(d===null){d=a.pingCache=new sC;var v=new Set;d.set(l,v)}else v=d.get(l),v===void 0&&(v=new Set,d.set(l,v));v.has(h)||(dy=!0,v.add(h),a=uC.bind(null,a,l,h),l.then(a,a))}function uC(a,l,h){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,ei===a&&(yn&h)===h&&(Ci===4||Ci===3&&(yn&62914560)===yn&&300>Te()-my?(Vn&2)===0&&bf(a,0):py|=h,yf===yn&&(yf=0)),pl(a)}function pw(a,l){l===0&&(l=Hn()),a=fo(a,l),a!==null&&(rr(a,l),pl(a))}function hC(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),pw(a,h)}function fC(a,l){var h=0;switch(a.tag){case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),pw(a,h)}function dC(a,l){return te(a,l)}var em=null,Sf=null,Ty=!1,nm=!1,xy=!1,vh=0;function pl(a){a!==Sf&&a.next===null&&(Sf===null?em=Sf=a:Sf=Sf.next=a),nm=!0,Ty||(Ty=!0,gC())}function Hd(a,l){if(!xy&&nm){xy=!0;do for(var h=!1,d=em;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var S=0;else{var O=d.suspendedLanes,Q=d.pingedLanes;S=(1<<31-de(42|a)+1)-1,S&=v&~(O&~Q),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,vw(d,S))}else S=yn,S=Cn(d,d===ei?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||gr(d,S)||(h=!0,vw(d,S));d=d.next}while(h);xy=!1}}function pC(){gw()}function gw(){nm=Ty=!1;var a=0;vh!==0&&(AC()&&(a=vh),vh=0);for(var l=Te(),h=null,d=em;d!==null;){var v=d.next,S=mw(d,l);S===0?(d.next=null,h===null?em=v:h.next=v,v===null&&(Sf=h)):(h=d,(a!==0||(S&3)!==0)&&(nm=!0)),d=v}Hd(a)}function mw(a,l){for(var h=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var O=31-de(S),Q=1<<O,ut=v[O];ut===-1?((Q&h)===0||(Q&d)!==0)&&(v[O]=cn(Q,l)):ut<=l&&(a.expiredLanes|=Q),S&=~Q}if(l=ei,h=yn,h=Cn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===l&&(Bn===2||Bn===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Se(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||gr(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(d!==null&&Se(d),ci(h)){case 2:case 8:h=Zt;break;case 32:h=se;break;case 268435456:h=ve;break;default:h=se}return d=yw.bind(null,a),h=te(h,d),a.callbackPriority=l,a.callbackNode=h,l}return d!==null&&d!==null&&Se(d),a.callbackPriority=2,a.callbackNode=null,2}function yw(a,l){if(Dr!==0&&Dr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(tm()&&a.callbackNode!==h)return null;var d=yn;return d=Cn(a,a===ei?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Z5(a,d,l),mw(a,Te()),a.callbackNode!=null&&a.callbackNode===h?yw.bind(null,a):null)}function vw(a,l){if(tm())return null;Z5(a,l,!0)}function gC(){xC(function(){(Vn&6)!==0?te(Qt,pC):gw()})}function Ey(){return vh===0&&(vh=Xs()),vh}function _w(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ia(""+a)}function bw(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function mC(a,l,h,d,v){if(l==="submit"&&h&&h.stateNode===v){var S=_w((v[Ln]||null).action),O=d.submitter;O&&(l=(l=O[Ln]||null)?_w(l.formAction):O.getAttribute("formAction"),l!==null&&(S=l,O=null));var Q=new Ca("action","action",null,d,v);a.push({event:Q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(vh!==0){var ut=O?bw(v,O):new FormData(v);qa(h,{pending:!0,data:ut,method:v.method,action:S},null,ut)}}else typeof S=="function"&&(Q.preventDefault(),ut=O?bw(v,O):new FormData(v),qa(h,{pending:!0,data:ut,method:v.method,action:S},S,ut))},currentTarget:v}]})}}for(var Ny=0;Ny<Gl.length;Ny++){var Iy=Gl[Ny],yC=Iy.toLowerCase(),vC=Iy[0].toUpperCase()+Iy.slice(1);fi(yC,"on"+vC)}fi(qc,"onAnimationEnd"),fi(Qo,"onAnimationIteration"),fi(Jo,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Zo,"onTransitionRun"),fi(Hl,"onTransitionStart"),fi(Hc,"onTransitionCancel"),fi(tl,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function ww(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],v=d.event;d=d.listeners;t:{var S=void 0;if(l)for(var O=d.length-1;0<=O;O--){var Q=d[O],ut=Q.instance,Pt=Q.currentTarget;if(Q=Q.listener,ut!==S&&v.isPropagationStopped())break t;S=Q,v.currentTarget=Pt;try{S(v)}catch(Bt){qg(Bt)}v.currentTarget=null,S=ut}else for(O=0;O<d.length;O++){if(Q=d[O],ut=Q.instance,Pt=Q.currentTarget,Q=Q.listener,ut!==S&&v.isPropagationStopped())break t;S=Q,v.currentTarget=Pt;try{S(v)}catch(Bt){qg(Bt)}v.currentTarget=null,S=ut}}}}function on(a,l){var h=l[ni];h===void 0&&(h=l[ni]=new Set);var d=a+"__bubble";h.has(d)||(Sw(l,a,2,!1),h.add(d))}function Cy(a,l,h){var d=0;l&&(d|=4),Sw(h,a,d,l)}var im="_reactListening"+Math.random().toString(36).slice(2);function Ry(a){if(!a[im]){a[im]=!0,Qs.forEach(function(h){h!=="selectionchange"&&(_C.has(h)||Cy(h,!1,a),Cy(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[im]||(l[im]=!0,Cy("selectionchange",!1,l))}}function Sw(a,l,h,d){switch(Ww(l)){case 2:var v=WC;break;case 8:v=$C;break;default:v=Hy}h=v.bind(null,l,h,a),v=void 0,!Cr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(l,h,{capture:!0,passive:v}):a.addEventListener(l,h,!0):v!==void 0?a.addEventListener(l,h,{passive:v}):a.addEventListener(l,h,!1)}function Ly(a,l,h,d,v){var S=d;if((l&1)===0&&(l&2)===0&&d!==null)t:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var Q=d.stateNode.containerInfo;if(Q===v)break;if(O===4)for(O=d.return;O!==null;){var ut=O.tag;if((ut===3||ut===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;Q!==null;){if(O=Di(Q),O===null)return;if(ut=O.tag,ut===5||ut===6||ut===26||ut===27){d=S=O;continue t}Q=Q.parentNode}}d=d.return}Fc(function(){var Pt=S,Bt=jn(h),Gt=[];t:{var Dt=ho.get(a);if(Dt!==void 0){var Mt=Ca,Fe=a;switch(a){case"keypress":if(Wr(h)===0)break t;case"keydown":case"keyup":Mt=oa;break;case"focusin":Fe="focus",Mt=La;break;case"focusout":Fe="blur",Mt=La;break;case"beforeblur":case"afterblur":Mt=La;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Go;break;case qc:case Qo:case Jo:Mt=zo;break;case tl:Mt=U;break;case"scroll":case"scrollend":Mt=Fl;break;case"wheel":Mt=dt;break;case"copy":case"cut":case"paste":Mt=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=co;break;case"toggle":case"beforetoggle":Mt=jt}var Re=(l&4)!==0,Xn=!Re&&(a==="scroll"||a==="scrollend"),Tt=Re?Dt!==null?Dt+"Capture":null:Dt;Re=[];for(var yt=Pt,Ct;yt!==null;){var zt=yt;if(Ct=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Ct===null||Tt===null||(zt=yr(yt,Tt),zt!=null&&Re.push(Wd(yt,zt,Ct))),Xn)break;yt=yt.return}0<Re.length&&(Dt=new Mt(Dt,Fe,null,h,Bt),Gt.push({event:Dt,listeners:Re}))}}if((l&7)===0){t:{if(Dt=a==="mouseover"||a==="pointerover",Mt=a==="mouseout"||a==="pointerout",Dt&&h!==Is&&(Fe=h.relatedTarget||h.fromElement)&&(Di(Fe)||Fe[Qn]))break t;if((Mt||Dt)&&(Dt=Bt.window===Bt?Bt:(Dt=Bt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Mt?(Fe=h.relatedTarget||h.toElement,Mt=Pt,Fe=Fe?Di(Fe):null,Fe!==null&&(Xn=s(Fe),Re=Fe.tag,Fe!==Xn||Re!==5&&Re!==27&&Re!==6)&&(Fe=null)):(Mt=null,Fe=Pt),Mt!==Fe)){if(Re=xi,zt="onMouseLeave",Tt="onMouseEnter",yt="mouse",(a==="pointerout"||a==="pointerover")&&(Re=co,zt="onPointerLeave",Tt="onPointerEnter",yt="pointer"),Xn=Mt==null?Dt:Mi(Mt),Ct=Fe==null?Dt:Mi(Fe),Dt=new Re(zt,yt+"leave",Mt,h,Bt),Dt.target=Xn,Dt.relatedTarget=Ct,zt=null,Di(Bt)===Pt&&(Re=new Re(Tt,yt+"enter",Fe,h,Bt),Re.target=Ct,Re.relatedTarget=Xn,zt=Re),Xn=zt,Mt&&Fe)e:{for(Re=Mt,Tt=Fe,yt=0,Ct=Re;Ct;Ct=Af(Ct))yt++;for(Ct=0,zt=Tt;zt;zt=Af(zt))Ct++;for(;0<yt-Ct;)Re=Af(Re),yt--;for(;0<Ct-yt;)Tt=Af(Tt),Ct--;for(;yt--;){if(Re===Tt||Tt!==null&&Re===Tt.alternate)break e;Re=Af(Re),Tt=Af(Tt)}Re=null}else Re=null;Mt!==null&&Aw(Gt,Dt,Mt,Re,!1),Fe!==null&&Xn!==null&&Aw(Gt,Xn,Fe,Re,!0)}}t:{if(Dt=Pt?Mi(Pt):window,Mt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Dt.type==="file")var pe=Uc;else if(Pn(Dt))if(Bl)pe=Qh;else{pe=vd;var sn=Yr}else Mt=Dt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Pt&&Ol(Pt.elementType)&&(pe=Uc):pe=Qu;if(pe&&(pe=pe(a,Pt))){Ds(Gt,pe,h,Bt);break t}sn&&sn(a,Dt,Pt),a==="focusout"&&Pt&&Dt.type==="number"&&Pt.memoizedProps.value!=null&&Ea(Dt,"number",Dt.value)}switch(sn=Pt?Mi(Pt):window,a){case"focusin":(Pn(sn)||sn.contentEditable==="true")&&(Kr=sn,la=Pt,Oa=null);break;case"focusout":Oa=la=Kr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,hi(Gt,h,Bt);break;case"selectionchange":if(Xo)break;case"keydown":case"keyup":hi(Gt,h,Bt)}var Ae;if(ie)t:{switch(a){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Ce?Lt(a,h)&&(Pe="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Pe="onCompositionStart");Pe&&(k&&h.locale!=="ko"&&(Ce||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ce&&(Ae=jl()):(Gr=Bt,Ia="value"in Gr?Gr.value:Gr.textContent,Ce=!0)),sn=rm(Pt,Pe),0<sn.length&&(Pe=new ao(Pe,a,null,h,Bt),Gt.push({event:Pe,listeners:sn}),Ae?Pe.data=Ae:(Ae=Kt(h),Ae!==null&&(Pe.data=Ae)))),(Ae=x?rn(a,h):Be(a,h))&&(Pe=rm(Pt,"onBeforeInput"),0<Pe.length&&(sn=new ao("onBeforeInput","beforeinput",null,h,Bt),Gt.push({event:sn,listeners:Pe}),sn.data=Ae)),mC(Gt,a,Pt,h,Bt)}ww(Gt,l)})}function Wd(a,l,h){return{instance:a,listener:l,currentTarget:h}}function rm(a,l){for(var h=l+"Capture",d=[];a!==null;){var v=a,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=yr(a,h),v!=null&&d.unshift(Wd(a,v,S)),v=yr(a,l),v!=null&&d.push(Wd(a,v,S))),a.tag===3)return d;a=a.return}return[]}function Af(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Aw(a,l,h,d,v){for(var S=l._reactName,O=[];h!==null&&h!==d;){var Q=h,ut=Q.alternate,Pt=Q.stateNode;if(Q=Q.tag,ut!==null&&ut===d)break;Q!==5&&Q!==26&&Q!==27||Pt===null||(ut=Pt,v?(Pt=yr(h,S),Pt!=null&&O.unshift(Wd(h,Pt,ut))):v||(Pt=yr(h,S),Pt!=null&&O.push(Wd(h,Pt,ut)))),h=h.return}O.length!==0&&a.push({event:l,listeners:O})}var bC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function Tw(a){return(typeof a=="string"?a:""+a).replace(bC,`
`).replace(wC,"")}function xw(a,l){return l=Tw(l),Tw(a)===l}function sm(){}function Kn(a,l,h,d,v,S){switch(h){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||qr(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&qr(a,""+d);break;case"className":vs(a,"class",d);break;case"tabIndex":vs(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(a,h,d);break;case"style":Ml(a,d,S);break;case"data":if(l!=="object"){vs(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=ia(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&Kn(a,l,"name",v.name,v,null),Kn(a,l,"formEncType",v.formEncType,v,null),Kn(a,l,"formMethod",v.formMethod,v,null),Kn(a,l,"formTarget",v.formTarget,v,null)):(Kn(a,l,"encType",v.encType,v,null),Kn(a,l,"method",v.method,v,null),Kn(a,l,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=ia(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=sm);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=ia(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":on("beforetoggle",a),on("toggle",a),ys(a,"popover",d);break;case"xlinkActuate":Oi(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Oi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Oi(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Oi(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Oi(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Oi(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Oi(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Oi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Oi(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ys(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=na.get(h)||h,ys(a,h,d))}}function Py(a,l,h,d,v,S){switch(h){case"style":Ml(a,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof d=="string"?qr(a,d):(typeof d=="number"||typeof d=="bigint")&&qr(a,""+d);break;case"onScroll":d!=null&&on("scroll",a);break;case"onScrollEnd":d!=null&&on("scrollend",a);break;case"onClick":d!=null&&(a.onclick=sm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),l=h.slice(2,v?h.length-7:void 0),S=a[Ln]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(l,S,v),typeof d=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,d,v);break t}h in a?a[h]=d:d===!0?a.setAttribute(h,""):ys(a,h,d)}}}function Mr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",a),on("load",a);var d=!1,v=!1,S;for(S in h)if(h.hasOwnProperty(S)){var O=h[S];if(O!=null)switch(S){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Kn(a,l,S,O,h,null)}}v&&Kn(a,l,"srcSet",h.srcSet,h,null),d&&Kn(a,l,"src",h.src,h,null);return;case"input":on("invalid",a);var Q=S=O=v=null,ut=null,Pt=null;for(d in h)if(h.hasOwnProperty(d)){var Bt=h[d];if(Bt!=null)switch(d){case"name":v=Bt;break;case"type":O=Bt;break;case"checked":ut=Bt;break;case"defaultChecked":Pt=Bt;break;case"value":S=Bt;break;case"defaultValue":Q=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,l));break;default:Kn(a,l,d,Bt,h,null)}}xa(a,S,Q,ut,Pt,O,v,!1),Ta(a);return;case"select":on("invalid",a),d=O=S=null;for(v in h)if(h.hasOwnProperty(v)&&(Q=h[v],Q!=null))switch(v){case"value":S=Q;break;case"defaultValue":O=Q;break;case"multiple":d=Q;default:Kn(a,l,v,Q,h,null)}l=S,h=O,a.multiple=!!d,l!=null?Ns(a,!!d,l,!1):h!=null&&Ns(a,!!d,h,!0);return;case"textarea":on("invalid",a),S=v=d=null;for(O in h)if(h.hasOwnProperty(O)&&(Q=h[O],Q!=null))switch(O){case"value":d=Q;break;case"defaultValue":v=Q;break;case"children":S=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Kn(a,l,O,Q,h,null)}Na(a,d,v,S),Ta(a);return;case"option":for(ut in h)if(h.hasOwnProperty(ut)&&(d=h[ut],d!=null))switch(ut){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Kn(a,l,ut,d,h,null)}return;case"dialog":on("beforetoggle",a),on("toggle",a),on("cancel",a),on("close",a);break;case"iframe":case"object":on("load",a);break;case"video":case"audio":for(d=0;d<Gd.length;d++)on(Gd[d],a);break;case"image":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"embed":case"source":case"link":on("error",a),on("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in h)if(h.hasOwnProperty(Pt)&&(d=h[Pt],d!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Kn(a,l,Pt,d,h,null)}return;default:if(Ol(l)){for(Bt in h)h.hasOwnProperty(Bt)&&(d=h[Bt],d!==void 0&&Py(a,l,Bt,d,h,void 0));return}}for(Q in h)h.hasOwnProperty(Q)&&(d=h[Q],d!=null&&Kn(a,l,Q,d,h,null))}function SC(a,l,h,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,O=null,Q=null,ut=null,Pt=null,Bt=null;for(Mt in h){var Gt=h[Mt];if(h.hasOwnProperty(Mt)&&Gt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":ut=Gt;default:d.hasOwnProperty(Mt)||Kn(a,l,Mt,null,d,Gt)}}for(var Dt in d){var Mt=d[Dt];if(Gt=h[Dt],d.hasOwnProperty(Dt)&&(Mt!=null||Gt!=null))switch(Dt){case"type":S=Mt;break;case"name":v=Mt;break;case"checked":Pt=Mt;break;case"defaultChecked":Bt=Mt;break;case"value":O=Mt;break;case"defaultValue":Q=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(137,l));break;default:Mt!==Gt&&Kn(a,l,Dt,Mt,d,Gt)}}or(a,O,Q,ut,Pt,Bt,S,v);return;case"select":Mt=O=Q=Dt=null;for(S in h)if(ut=h[S],h.hasOwnProperty(S)&&ut!=null)switch(S){case"value":break;case"multiple":Mt=ut;default:d.hasOwnProperty(S)||Kn(a,l,S,null,d,ut)}for(v in d)if(S=d[v],ut=h[v],d.hasOwnProperty(v)&&(S!=null||ut!=null))switch(v){case"value":Dt=S;break;case"defaultValue":Q=S;break;case"multiple":O=S;default:S!==ut&&Kn(a,l,v,S,d,ut)}l=Q,h=O,d=Mt,Dt!=null?Ns(a,!!h,Dt,!1):!!d!=!!h&&(l!=null?Ns(a,!!h,l,!0):Ns(a,!!h,h?[]:"",!1));return;case"textarea":Mt=Dt=null;for(Q in h)if(v=h[Q],h.hasOwnProperty(Q)&&v!=null&&!d.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Kn(a,l,Q,null,d,v)}for(O in d)if(v=d[O],S=h[O],d.hasOwnProperty(O)&&(v!=null||S!=null))switch(O){case"value":Dt=v;break;case"defaultValue":Mt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==S&&Kn(a,l,O,v,d,S)}Sn(a,Dt,Mt);return;case"option":for(var Fe in h)if(Dt=h[Fe],h.hasOwnProperty(Fe)&&Dt!=null&&!d.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:Kn(a,l,Fe,null,d,Dt)}for(ut in d)if(Dt=d[ut],Mt=h[ut],d.hasOwnProperty(ut)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(ut){case"selected":a.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Kn(a,l,ut,Dt,d,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in h)Dt=h[Re],h.hasOwnProperty(Re)&&Dt!=null&&!d.hasOwnProperty(Re)&&Kn(a,l,Re,null,d,Dt);for(Pt in d)if(Dt=d[Pt],Mt=h[Pt],d.hasOwnProperty(Pt)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,l));break;default:Kn(a,l,Pt,Dt,d,Mt)}return;default:if(Ol(l)){for(var Xn in h)Dt=h[Xn],h.hasOwnProperty(Xn)&&Dt!==void 0&&!d.hasOwnProperty(Xn)&&Py(a,l,Xn,void 0,d,Dt);for(Bt in d)Dt=d[Bt],Mt=h[Bt],!d.hasOwnProperty(Bt)||Dt===Mt||Dt===void 0&&Mt===void 0||Py(a,l,Bt,Dt,d,Mt);return}}for(var Tt in h)Dt=h[Tt],h.hasOwnProperty(Tt)&&Dt!=null&&!d.hasOwnProperty(Tt)&&Kn(a,l,Tt,null,d,Dt);for(Gt in d)Dt=d[Gt],Mt=h[Gt],!d.hasOwnProperty(Gt)||Dt===Mt||Dt==null&&Mt==null||Kn(a,l,Gt,Dt,d,Mt)}var ky=null,Dy=null;function am(a){return a.nodeType===9?a:a.ownerDocument}function Ew(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function My(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Oy=null;function AC(){var a=window.event;return a&&a.type==="popstate"?a===Oy?!1:(Oy=a,!0):(Oy=null,!1)}var Iw=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,xC=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(a){return Cw.resolve(null).then(a).catch(EC)}:Iw;function EC(a){setTimeout(function(){throw a})}function uu(a){return a==="head"}function Rw(a,l){var h=l,d=0,v=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<d&&8>d){h=d;var O=a.ownerDocument;if(h&1&&$d(O.documentElement),h&2&&$d(O.body),h&4)for(h=O.head,$d(h),O=h.firstChild;O;){var Q=O.nextSibling,ut=O.nodeName;O[Ir]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=Q}}if(v===0){a.removeChild(S),ep(l);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:d=h.charCodeAt(0)-48;else d=0;h=S}while(h);ep(l)}function jy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":jy(h),Yi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function NC(a,l,h,d){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Ir])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Eo(a.nextSibling),a===null)break}return null}function IC(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Eo(a.nextSibling),a===null))return null;return a}function Fy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function CC(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var d=function(){l(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Eo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Vy=null;function Lw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function Pw(a,l,h){switch(l=am(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function $d(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Yi(a)}var Wa=new Map,kw=new Set;function om(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var lc=ht.d;ht.d={f:RC,r:LC,D:PC,C:kC,L:DC,m:MC,X:jC,S:OC,M:FC};function RC(){var a=lc.f(),l=Jg();return a||l}function LC(a){var l=Ai(a);l!==null&&l.tag===5&&l.type==="form"?dh(l):lc.r(a)}var Tf=typeof document>"u"?null:document;function Dw(a,l,h){var d=Tf;if(d&&typeof l=="string"&&l){var v=dn(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),kw.has(v)||(kw.add(v),a={rel:a,crossOrigin:h,href:l},d.querySelector(v)===null&&(l=d.createElement("link"),Mr(l,"link",a),wn(l),d.head.appendChild(l)))}}function PC(a){lc.D(a),Dw("dns-prefetch",a,null)}function kC(a,l){lc.C(a,l),Dw("preconnect",a,l)}function DC(a,l,h){lc.L(a,l,h);var d=Tf;if(d&&a&&l){var v='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+dn(h.imageSizes)+'"]')):v+='[href="'+dn(a)+'"]';var S=v;switch(l){case"style":S=xf(a);break;case"script":S=Ef(a)}Wa.has(S)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Wa.set(S,a),d.querySelector(v)!==null||l==="style"&&d.querySelector(Yd(S))||l==="script"&&d.querySelector(Kd(S))||(l=d.createElement("link"),Mr(l,"link",a),wn(l),d.head.appendChild(l)))}}function MC(a,l){lc.m(a,l);var h=Tf;if(h&&a){var d=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+dn(d)+'"][href="'+dn(a)+'"]',S=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ef(a)}if(!Wa.has(S)&&(a=p({rel:"modulepreload",href:a},l),Wa.set(S,a),h.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Kd(S)))return}d=h.createElement("link"),Mr(d,"link",a),wn(d),h.head.appendChild(d)}}}function OC(a,l,h){lc.S(a,l,h);var d=Tf;if(d&&a){var v=Wn(d).hoistableStyles,S=xf(a);l=l||"default";var O=v.get(S);if(!O){var Q={loading:0,preload:null};if(O=d.querySelector(Yd(S)))Q.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Wa.get(S))&&By(a,h);var ut=O=d.createElement("link");wn(ut),Mr(ut,"link",a),ut._p=new Promise(function(Pt,Bt){ut.onload=Pt,ut.onerror=Bt}),ut.addEventListener("load",function(){Q.loading|=1}),ut.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,lm(O,l,d)}O={type:"stylesheet",instance:O,count:1,state:Q},v.set(S,O)}}}function jC(a,l){lc.X(a,l);var h=Tf;if(h&&a){var d=Wn(h).hoistableScripts,v=Ef(a),S=d.get(v);S||(S=h.querySelector(Kd(v)),S||(a=p({src:a,async:!0},l),(l=Wa.get(v))&&Uy(a,l),S=h.createElement("script"),wn(S),Mr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function FC(a,l){lc.M(a,l);var h=Tf;if(h&&a){var d=Wn(h).hoistableScripts,v=Ef(a),S=d.get(v);S||(S=h.querySelector(Kd(v)),S||(a=p({src:a,async:!0,type:"module"},l),(l=Wa.get(v))&&Uy(a,l),S=h.createElement("script"),wn(S),Mr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(v,S))}}function Mw(a,l,h,d){var v=(v=ct.current)?om(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=xf(h.href),h=Wn(v).hoistableStyles,d=h.get(l),d||(d={type:"style",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=xf(h.href);var S=Wn(v).hoistableStyles,O=S.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,O),(S=v.querySelector(Yd(a)))&&!S._p&&(O.instance=S,O.state.loading=5),Wa.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Wa.set(a,h),S||VC(v,a,h,O.state))),l&&d===null)throw Error(i(528,""));return O}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ef(h),h=Wn(v).hoistableScripts,d=h.get(l),d||(d={type:"script",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function xf(a){return'href="'+dn(a)+'"'}function Yd(a){return'link[rel="stylesheet"]['+a+"]"}function Ow(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function VC(a,l,h,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Mr(l,"link",h),wn(l),a.head.appendChild(l))}function Ef(a){return'[src="'+dn(a)+'"]'}function Kd(a){return"script[async]"+a}function jw(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+dn(h.href)+'"]');if(d)return l.instance=d,wn(d),d;var v=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),wn(d),Mr(d,"style",v),lm(d,h.precedence,a),l.instance=d;case"stylesheet":v=xf(h.href);var S=a.querySelector(Yd(v));if(S)return l.state.loading|=4,l.instance=S,wn(S),S;d=Ow(h),(v=Wa.get(v))&&By(d,v),S=(a.ownerDocument||a).createElement("link"),wn(S);var O=S;return O._p=new Promise(function(Q,ut){O.onload=Q,O.onerror=ut}),Mr(S,"link",d),l.state.loading|=4,lm(S,h.precedence,a),l.instance=S;case"script":return S=Ef(h.src),(v=a.querySelector(Kd(S)))?(l.instance=v,wn(v),v):(d=h,(v=Wa.get(S))&&(d=p({},h),Uy(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),wn(v),Mr(v,"link",d),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,lm(d,h.precedence,a));return l.instance}function lm(a,l,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,S=v,O=0;O<d.length;O++){var Q=d[O];if(Q.dataset.precedence===l)S=Q;else if(S!==v)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function By(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Uy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var cm=null;function Fw(a,l,h){if(cm===null){var d=new Map,v=cm=new Map;v.set(h,d)}else v=cm,d=v.get(h),d||(d=new Map,v.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var S=h[v];if(!(S[Ir]||S[Rn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(l)||"";O=a+O;var Q=d.get(O);Q?Q.push(S):d.set(O,[S])}}return d}function Vw(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function BC(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Bw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Xd=null;function UC(){}function zC(a,l,h){if(Xd===null)throw Error(i(475));var d=Xd;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=xf(h.href),S=a.querySelector(Yd(v));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=um.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=S,wn(S);return}S=a.ownerDocument||a,h=Ow(h),(v=Wa.get(v))&&By(h,v),S=S.createElement("link"),wn(S);var O=S;O._p=new Promise(function(Q,ut){O.onload=Q,O.onerror=ut}),Mr(S,"link",h),l.instance=S}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=um.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function qC(){if(Xd===null)throw Error(i(475));var a=Xd;return a.stylesheets&&a.count===0&&zy(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&zy(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function um(){if(this.count--,this.count===0){if(this.stylesheets)zy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hm=null;function zy(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hm=new Map,l.forEach(HC,a),hm=null,um.call(a))}function HC(a,l){if(!(l.state.loading&4)){var h=hm.get(a);if(h)var d=h.get(null);else{h=new Map,hm.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var O=v[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),d=O)}d&&h.set(null,d)}v=l.instance,O=v.getAttribute("data-precedence"),S=h.get(O)||d,S===d&&h.set(null,v),h.set(O,v),this.count++,d=um.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),S?S.parentNode.insertBefore(v,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var Qd={$$typeof:$,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function GC(a,l,h,d,v,S,O,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Uw(a,l,h,d,v,S,O,Q,ut,Pt,Bt,Gt){return a=new GC(a,l,h,O,Q,ut,Pt,Gt),l=1,S===!0&&(l|=24),S=wr(3,null,null,l),a.current=S,S.stateNode=a,l=bd(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:d,isDehydrated:h,cache:l},mt(S),a}function zw(a){return a?(a=Qi,a):Qi}function qw(a,l,h,d,v,S){v=zw(v),d.context===null?d.context=v:d.pendingContext=v,d=Vt(l),d.payload={element:h},S=S===void 0?null:S,S!==null&&(d.callback=S),h=Ht(a,d,l),h!==null&&(ya(h,a,l),Ut(h,a,l))}function Hw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function qy(a,l){Hw(a,l),(a=a.alternate)&&Hw(a,l)}function Gw(a){if(a.tag===13){var l=fo(a,67108864);l!==null&&ya(l,a,67108864),qy(a,67108864)}}var fm=!0;function WC(a,l,h,d){var v=it.T;it.T=null;var S=ht.p;try{ht.p=2,Hy(a,l,h,d)}finally{ht.p=S,it.T=v}}function $C(a,l,h,d){var v=it.T;it.T=null;var S=ht.p;try{ht.p=8,Hy(a,l,h,d)}finally{ht.p=S,it.T=v}}function Hy(a,l,h,d){if(fm){var v=Gy(d);if(v===null)Ly(a,l,d,dm,h),$w(a,d);else if(KC(v,a,l,h,d))d.stopPropagation();else if($w(a,d),l&4&&-1<YC.indexOf(a)){for(;v!==null;){var S=Ai(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Je(S.pendingLanes);if(O!==0){var Q=S;for(Q.pendingLanes|=2,Q.entangledLanes|=2;O;){var ut=1<<31-de(O);Q.entanglements[1]|=ut,O&=~ut}pl(S),(Vn&6)===0&&(Xg=Te()+500,Hd(0))}}break;case 13:Q=fo(S,2),Q!==null&&ya(Q,S,2),Jg(),qy(S,2)}if(S=Gy(d),S===null&&Ly(a,l,d,dm,h),S===v)break;v=S}v!==null&&d.stopPropagation()}else Ly(a,l,d,null,h)}}function Gy(a){return a=jn(a),Wy(a)}var dm=null;function Wy(a){if(dm=null,a=Di(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return dm=a,null}function Ww(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Qt:return 2;case Zt:return 8;case se:case ae:return 32;case ve:return 268435456;default:return 32}default:return 32}}var $y=!1,hu=null,fu=null,du=null,Jd=new Map,Zd=new Map,pu=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $w(a,l){switch(a){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":du=null;break;case"pointerover":case"pointerout":Jd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(l.pointerId)}}function tp(a,l,h,d,v,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:h,eventSystemFlags:d,nativeEvent:S,targetContainers:[v]},l!==null&&(l=Ai(l),l!==null&&Gw(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function KC(a,l,h,d,v){switch(l){case"focusin":return hu=tp(hu,a,l,h,d,v),!0;case"dragenter":return fu=tp(fu,a,l,h,d,v),!0;case"mouseover":return du=tp(du,a,l,h,d,v),!0;case"pointerover":var S=v.pointerId;return Jd.set(S,tp(Jd.get(S)||null,a,l,h,d,v)),!0;case"gotpointercapture":return S=v.pointerId,Zd.set(S,tp(Zd.get(S)||null,a,l,h,d,v)),!0}return!1}function Yw(a){var l=Di(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,ms(a.priority,function(){if(h.tag===13){var d=ma();d=Ur(d);var v=fo(h,d);v!==null&&ya(v,h,d),qy(h,d)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function pm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Gy(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);Is=d,h.target.dispatchEvent(d),Is=null}else return l=Ai(h),l!==null&&Gw(l),a.blockedOn=h,!1;l.shift()}return!0}function Kw(a,l,h){pm(a)&&h.delete(l)}function XC(){$y=!1,hu!==null&&pm(hu)&&(hu=null),fu!==null&&pm(fu)&&(fu=null),du!==null&&pm(du)&&(du=null),Jd.forEach(Kw),Zd.forEach(Kw)}function gm(a,l){a.blockedOn===l&&(a.blockedOn=null,$y||($y=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XC)))}var mm=null;function Xw(a){mm!==a&&(mm=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mm===a&&(mm=null);for(var l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=a[l+2];if(typeof d!="function"){if(Wy(d||h)===null)continue;break}var S=Ai(h);S!==null&&(a.splice(l,3),l-=3,qa(S,{pending:!0,data:v,method:h.method,action:d},d,v))}}))}function ep(a){function l(ut){return gm(ut,a)}hu!==null&&gm(hu,a),fu!==null&&gm(fu,a),du!==null&&gm(du,a),Jd.forEach(l),Zd.forEach(l);for(var h=0;h<pu.length;h++){var d=pu[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<pu.length&&(h=pu[0],h.blockedOn===null);)Yw(h),h.blockedOn===null&&pu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var v=h[d],S=h[d+1],O=v[Ln]||null;if(typeof S=="function")O||Xw(h);else if(O){var Q=null;if(S&&S.hasAttribute("formAction")){if(v=S,O=S[Ln]||null)Q=O.formAction;else if(Wy(v)!==null)continue}else Q=O.action;typeof Q=="function"?h[d+1]=Q:(h.splice(d,3),d-=3),Xw(h)}}}function Yy(a){this._internalRoot=a}ym.prototype.render=Yy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,d=ma();qw(h,d,a,l,null,null)},ym.prototype.unmount=Yy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;qw(a.current,2,null,a,null,null),Jg(),l[Qn]=null}};function ym(a){this._internalRoot=a}ym.prototype.unstable_scheduleHydration=function(a){if(a){var l=sr();a={blockedOn:null,target:a,priority:l};for(var h=0;h<pu.length&&l!==0&&l<pu[h].priority;h++);pu.splice(h,0,a),h===0&&Yw(a)}};var Qw=t.version;if(Qw!=="19.1.0")throw Error(i(527,Qw,"19.1.0"));ht.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var QC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{_e=vm.inject(QC),me=vm}catch{}}return ip.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,d="",v=d5,S=p5,O=g5,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks)),l=Uw(a,1,!1,null,null,h,d,v,S,O,Q,null),a[Qn]=l.current,Ry(a),new Yy(l)},ip.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var d=!1,v="",S=d5,O=p5,Q=g5,ut=null,Pt=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(Q=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ut=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pt=h.formState)),l=Uw(a,1,!0,l,h??null,d,v,S,O,Q,ut,Pt),l.context=zw(null),h=l.current,d=ma(),d=Ur(d),v=Vt(d),v.callback=null,Ht(h,v,d),h=d,l.current.lanes=h,rr(l,h),pl(l),a[Qn]=l.current,Ry(a),new ym(l)},ip.version="19.1.0",ip}var oS;function uR(){if(oS)return Qy.exports;oS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qy.exports=cR(),Qy.exports}var hR=uR();const fR=()=>{};var lS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},dR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],c=n[e++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,c=o?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,_=f&63;u||(_=64,o||(b=64)),i.push(e[p],e[y],e[b],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(bE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):dR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||f==null||y==null)throw new pR;const b=s<<2|c>>4;if(i.push(b),f!==64){const _=c<<4&240|f>>2;if(i.push(_),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gR=function(n){const t=bE(n);return wE.encodeByteArray(t,!0)},m0=function(n){return gR(n).replace(/\./g,"")},SE=function(n){try{return wE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=()=>mR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof lS>"u")return;const n=lS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_R=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&SE(n[1]);return t&&JSON.parse(t)},Q0=()=>{try{return fR()||yR()||vR()||_R()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AE=n=>{var t,e;return(e=(t=Q0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},TE=n=>{const t=AE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},xE=()=>{var n;return(n=Q0())===null||n===void 0?void 0:n.config},EE=n=>{var t;return(t=Q0())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){return n.endsWith(".cloudworkstations.dev")}async function u_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[m0(JSON.stringify(e)),m0(JSON.stringify(o)),""].join(".")}const Sp={};function wR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Sp))Sp[t]?n.emulator.push(t):n.prod.push(t);return n}function SR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let cS=!1;function h_(n,t){if(typeof window>"u"||typeof document>"u"||!Yu(window.location.host)||Sp[n]===t||Sp[n]||cS)return;Sp[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",s=wR().prod.length>0;function o(){const b=document.getElementById(i);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function u(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{cS=!0,o()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=SR(i),_=e("text"),E=document.getElementById(_)||document.createElement("span"),N=e("learnmore"),C=document.getElementById(N)||document.createElement("a"),I=e("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;c($),p(C,N);const nt=f();u(M,I),$.append(M,E,C,nt),document.body.appendChild($)}s?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ps())}function TR(){var n;const t=(n=Q0())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const n=ps();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J0(){try{return typeof indexedDB=="object"}catch{return!1}}function Z0(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function f_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class Ja extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=CR,Object.setPrototypeOf(this,Ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?RR(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Ja(r,c,i)}}function RR(n,t){return n.replace(LR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const LR=/\{\$([^}]+)}/g;function PR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Du(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(uS(s)&&uS(o)){if(!Du(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function uS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function fp(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function dp(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function kR(n,t){const e=new DR(n,t);return e.subscribe.bind(e)}class DR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");MR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=ev),r.error===void 0&&(r.error=ev),r.complete===void 0&&(r.complete=ev);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ev(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e3,jR=2,FR=4*60*60*1e3,VR=.5;function hS(n,t=OR,e=jR){const i=t*Math.pow(e,n),r=Math.round(VR*i*(Math.random()-.5)*2);return Math.min(FR,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){return n&&n._delegate?n._delegate:n}class xs{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new bR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zR(t))try{this.getOrInitializeService({instanceIdentifier:Sh})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Sh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sh){return this.instances.has(t)}getOptions(t=Sh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Sh){return this.component?this.component.multipleInstances?t:Sh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(n){return n===Sh?void 0:n}function zR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new BR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ln||(ln={}));const HR={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},GR=ln.INFO,WR={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},$R=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=WR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lg{constructor(t){this.name=t,this._logLevel=GR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const YR=(n,t)=>t.some(e=>n instanceof e);let fS,dS;function KR(){return fS||(fS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return dS||(dS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,n2=new WeakMap,RE=new WeakMap,nv=new WeakMap,d_=new WeakMap;function QR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(wc(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&CE.set(e,n)}).catch(()=>{}),d_.set(t,n),t}function JR(n){if(n2.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});n2.set(n,t)}let i2={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return n2.get(n);if(t==="objectStoreNames")return n.objectStoreNames||RE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return wc(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ZR(n){i2=n(i2)}function tL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(iv(this),t,...e);return RE.set(i,t.sort?t.sort():[t]),wc(i)}:XR().includes(n)?function(...t){return n.apply(iv(this),t),wc(CE.get(this))}:function(...t){return wc(n.apply(iv(this),t))}}function eL(n){return typeof n=="function"?tL(n):(n instanceof IDBTransaction&&JR(n),YR(n,KR())?new Proxy(n,i2):n)}function wc(n){if(n instanceof IDBRequest)return QR(n);if(nv.has(n))return nv.get(n);const t=eL(n);return t!==n&&(nv.set(n,t),d_.set(t,n)),t}const iv=n=>d_.get(n);function t1(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),c=wc(o);return i&&o.addEventListener("upgradeneeded",u=>{i(wc(o.result),u.oldVersion,u.newVersion,wc(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function rv(n,{blocked:t}={}){const e=indexedDB.deleteDatabase(n);return t&&e.addEventListener("blocked",i=>t(i.oldVersion,i)),wc(e).then(()=>{})}const nL=["get","getKey","getAll","getAllKeys","count"],iL=["put","add","delete","clear"],sv=new Map;function pS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(sv.get(t))return sv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=iL.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nL.includes(e)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[e](...c),r&&u.done]))[0]};return sv.set(t,s),s}ZR(n=>({...n,get:(t,e,i)=>pS(t,e)||n.get(t,e,i),has:(t,e)=>!!pS(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(sL(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function sL(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const r2="@firebase/app",gS="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new lg("@firebase/app"),aL="@firebase/app-compat",oL="@firebase/analytics-compat",lL="@firebase/analytics",cL="@firebase/app-check-compat",uL="@firebase/app-check",hL="@firebase/auth",fL="@firebase/auth-compat",dL="@firebase/database",pL="@firebase/data-connect",gL="@firebase/database-compat",mL="@firebase/functions",yL="@firebase/functions-compat",vL="@firebase/installations",_L="@firebase/installations-compat",bL="@firebase/messaging",wL="@firebase/messaging-compat",SL="@firebase/performance",AL="@firebase/performance-compat",TL="@firebase/remote-config",xL="@firebase/remote-config-compat",EL="@firebase/storage",NL="@firebase/storage-compat",IL="@firebase/firestore",CL="@firebase/ai",RL="@firebase/firestore-compat",LL="firebase",PL="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="[DEFAULT]",kL={[r2]:"fire-core",[aL]:"fire-core-compat",[lL]:"fire-analytics",[oL]:"fire-analytics-compat",[uL]:"fire-app-check",[cL]:"fire-app-check-compat",[hL]:"fire-auth",[fL]:"fire-auth-compat",[dL]:"fire-rtdb",[pL]:"fire-data-connect",[gL]:"fire-rtdb-compat",[mL]:"fire-fn",[yL]:"fire-fn-compat",[vL]:"fire-iid",[_L]:"fire-iid-compat",[bL]:"fire-fcm",[wL]:"fire-fcm-compat",[SL]:"fire-perf",[AL]:"fire-perf-compat",[TL]:"fire-rc",[xL]:"fire-rc-compat",[EL]:"fire-gcs",[NL]:"fire-gcs-compat",[IL]:"fire-fst",[RL]:"fire-fst-compat",[CL]:"fire-vertex","fire-js":"fire-js",[LL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map,DL=new Map,a2=new Map;function mS(n,t){try{n.container.addComponent(t)}catch(e){Ac.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ys(n){const t=n.name;if(a2.has(t))return Ac.debug(`There were multiple attempts to register component ${t}.`),!1;a2.set(t,n);for(const e of y0.values())mS(e,n);for(const e of DL.values())mS(e,n);return!0}function Cl(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ts(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ru=new Rc("app","Firebase",ML);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ru.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=PL;function LE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:s2,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Ru.create("bad-app-name",{appName:String(r)});if(e||(e=xE()),!e)throw Ru.create("no-options");const s=y0.get(r);if(s){if(Du(e,s.options)&&Du(i,s.config))return s;throw Ru.create("duplicate-app",{appName:r})}const o=new qR(r);for(const u of a2.values())o.addComponent(u);const c=new OL(e,i,o);return y0.set(r,c),c}function ud(n=s2){const t=y0.get(n);if(!t&&n===s2&&xE())return LE();if(!t)throw Ru.create("no-app",{appName:n});return t}function Nr(n,t,e){var i;let r=(i=kL[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ac.warn(c.join(" "));return}Ys(new xs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="firebase-heartbeat-database",FL=1,Vp="firebase-heartbeat-store";let av=null;function PE(){return av||(av=t1(jL,FL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vp)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ru.create("idb-open",{originalErrorMessage:n.message})})),av}async function VL(n){try{const e=(await PE()).transaction(Vp),i=await e.objectStore(Vp).get(kE(n));return await e.done,i}catch(t){if(t instanceof Ja)Ac.warn(t.message);else{const e=Ru.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ac.warn(e.message)}}}async function yS(n,t){try{const i=(await PE()).transaction(Vp,"readwrite");await i.objectStore(Vp).put(t,kE(n)),await i.done}catch(e){if(e instanceof Ja)Ac.warn(e.message);else{const i=Ru.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ac.warn(i.message)}}}function kE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=1024,UL=30;class zL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new HL(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>UL){const o=GL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ac.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vS(),{heartbeatsToSend:i,unsentEntries:r}=qL(this._heartbeatsCache.heartbeats),s=m0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ac.warn(e),""}}}function vS(){return new Date().toISOString().substring(0,10)}function qL(n,t=BL){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),_S(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),_S(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class HL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J0()?Z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await VL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return yS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return yS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _S(n){return m0(JSON.stringify({version:2,heartbeats:n})).length}function GL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(n){Ys(new xs("platform-logger",t=>new rL(t),"PRIVATE")),Ys(new xs("heartbeat",t=>new zL(t),"PRIVATE")),Nr(r2,gS,n),Nr(r2,gS,"esm2017"),Nr("fire-js","")}WL("");var $L="firebase",YL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr($L,YL,"app");function p_(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KL=DE,ME=new Rc("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new lg("@firebase/auth");function XL(n,...t){v0.logLevel<=ln.WARN&&v0.warn(`Auth (${Hh}): ${n}`,...t)}function Ym(n,...t){v0.logLevel<=ln.ERROR&&v0.error(`Auth (${Hh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n,...t){throw m_(n,...t)}function ko(n,...t){return m_(n,...t)}function g_(n,t,e){const i=Object.assign(Object.assign({},KL()),{[t]:e});return new Rc("auth","Firebase",i).create(t,{appName:n.name})}function Sl(n){return g_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QL(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Xa(n,"argument-error"),g_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return ME.create(n,...t)}function Oe(n,t,...e){if(!n)throw m_(t,...e)}function mc(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ym(t),new Error(t)}function Tc(n,t){n||mc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JL(){return bS()==="http:"||bS()==="https:"}function bS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JL()||IE()||"connection"in navigator)?navigator.onLine:!0}function tP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e){this.shortDelay=t,this.longDelay=e,Tc(e>t,"Short delay should be less than long delay!"),this.isMobile=AR()||ER()}get(){return ZL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n,t){Tc(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iP=new cg(3e4,6e4);function Lc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Pc(n,t,e,i,r={}){return jE(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const c=og(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:u},s);return xR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Yu(n.emulatorConfig.host)&&(f.credentials="include"),OE.fetch()(await FE(n,n.config.apiHost,e,c),f)})}async function jE(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eP),t);try{const r=new sP(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _m(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _m(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _m(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw _m(n,"user-disabled",o);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw g_(n,p,f);Xa(n,p)}}catch(r){if(r instanceof Ja)throw r;Xa(n,"network-request-failed",{message:String(r)})}}async function ug(n,t,e,i,r={}){const s=await Pc(n,t,e,i,r);return"mfaPendingCredential"in s&&Xa(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function FE(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?y_(n.config,r):`${n.config.apiScheme}://${r}`;return nP.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ko(this.auth,"network-request-failed")),iP.get())})}}function _m(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ko(n,t,i);return r.customData._tokenResponse=e,r}function wS(n){return n!==void 0&&n.enterprise!==void 0}class aP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return rP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(n,t){return Pc(n,"GET","/v2/recaptchaConfig",Lc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,t){return Pc(n,"POST","/v1/accounts:delete",t)}async function _0(n,t){return Pc(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cP(n,t=!1){const e=On(n),i=await e.getIdToken(t),r=v_(i);Oe(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ap(ov(r.auth_time)),issuedAtTime:Ap(ov(r.iat)),expirationTime:Ap(ov(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ov(n){return Number(n)*1e3}function v_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const r=SE(e);return r?JSON.parse(r):(Ym("Failed to decode base64 JWT payload"),null)}catch(r){return Ym("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function SS(n){const t=v_(n);return Oe(t,"internal-error"),Oe(typeof t.exp<"u","internal-error"),Oe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ja&&uP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function uP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ap(this.lastLoginAt),this.creationTime=Ap(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Bp(n,_0(e,{idToken:i}));Oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?VE(s.providerUserInfo):[],c=dP(n.providerData,o),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new l2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function fP(n){const t=On(n);await b0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dP(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function VE(n){return n.map(t=>{var{providerId:e}=t,i=p_(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,t){const e=await jE(n,{},async()=>{const i=og({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await FE(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:i};return n.emulatorConfig&&Yu(n.emulatorConfig.host)&&(u.credentials="include"),OE.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function gP(n,t){return Pc(n,"POST","/v2/accounts:revokeToken",Lc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Oe(t.idToken,"internal-error"),Oe(typeof t.idToken<"u","internal-error"),Oe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):SS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Oe(t.length!==0,"internal-error");const e=SS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await pP(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Bf;return i&&(Oe(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Oe(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Oe(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bf,this.toJSON())}_performRefresh(){return mc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n,t){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Po{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=p_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new l2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Bp(this,this.stsTokenManager.getToken(this.auth,t));return Oe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return cP(this,t)}reload(){return fP(this)}_assign(t){this!==t&&(Oe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Po(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await b0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ts(this.auth.app))return Promise.reject(Sl(this.auth));const t=await this.getIdToken();return await Bp(this,lP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,c,u,f,p;const y=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,_=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=e.photoURL)!==null&&o!==void 0?o:void 0,N=(c=e.tenantId)!==null&&c!==void 0?c:void 0,C=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,I=(f=e.createdAt)!==null&&f!==void 0?f:void 0,M=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:nt,isAnonymous:et,providerData:pt,stsTokenManager:q}=e;Oe($&&q,t,"internal-error");const P=Bf.fromJSON(this.name,q);Oe(typeof $=="string",t,"internal-error"),mu(y,t.name),mu(b,t.name),Oe(typeof nt=="boolean",t,"internal-error"),Oe(typeof et=="boolean",t,"internal-error"),mu(_,t.name),mu(E,t.name),mu(N,t.name),mu(C,t.name),mu(I,t.name),mu(M,t.name);const F=new Po({uid:$,auth:t,email:b,emailVerified:nt,displayName:y,isAnonymous:et,photoURL:E,phoneNumber:_,tenantId:N,stsTokenManager:P,createdAt:I,lastLoginAt:M});return pt&&Array.isArray(pt)&&(F.providerData=pt.map(z=>Object.assign({},z))),C&&(F._redirectEventId=C),F}static async _fromIdTokenResponse(t,e,i=!1){const r=new Bf;r.updateFromServerResponse(e);const s=new Po({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await b0(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Oe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?VE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new Bf;c.updateFromIdToken(i);const u=new Po({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new l2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;function yc(n){Tc(n instanceof Function,"Expected a class definition");let t=AS.get(n);return t?(Tc(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,AS.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}BE.type="NONE";const TS=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n,t,e){return`firebase:${n}:${t}:${e}`}class Uf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Km(this.userKey,r.apiKey,s),this.fullPersistenceKey=Km("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await _0(this.auth,{idToken:t}).catch(()=>{});return e?Po._fromGetAccountInfoResponse(this.auth,e,t):null}return Po._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Uf(yc(TS),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||yc(TS);const o=Km(i,t.config.apiKey,t.name);let c=null;for(const f of e)try{const p=await f._get(o);if(p){let y;if(typeof p=="string"){const b=await _0(t,{idToken:p}).catch(()=>{});if(!b)break;y=await Po._fromGetAccountInfoResponse(t,b,p)}else y=Po._fromJSON(t,p);f!==s&&(c=y),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Uf(s,t,i):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Uf(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WE(t))return"Blackberry";if($E(t))return"Webos";if(zE(t))return"Safari";if((t.includes("chrome/")||qE(t))&&!t.includes("edge/"))return"Chrome";if(GE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UE(n=ps()){return/firefox\//i.test(n)}function zE(n=ps()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qE(n=ps()){return/crios\//i.test(n)}function HE(n=ps()){return/iemobile/i.test(n)}function GE(n=ps()){return/android/i.test(n)}function WE(n=ps()){return/blackberry/i.test(n)}function $E(n=ps()){return/webos/i.test(n)}function __(n=ps()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mP(n=ps()){var t;return __(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yP(){return NR()&&document.documentMode===10}function YE(n=ps()){return __(n)||GE(n)||$E(n)||WE(n)||/windows phone/i.test(n)||HE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,t=[]){let e;switch(n){case"Browser":e=xS(ps());break;case"Worker":e=`${xS(ps())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,t={}){return Pc(n,"GET","/v2/passwordPolicy",Lc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=6;class wP{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:bP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ES(this),this.idTokenSubscription=new ES(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=yc(e)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Uf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await _0(this,{idToken:t}),i=await Po._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ts(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await b0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ts(this.app))return Promise.reject(Sl(this));const e=t?On(t):null;return e&&Oe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Oe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ts(this.app)?Promise.reject(Sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ts(this.app)?Promise.reject(Sl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _P(this),e=new wP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Rc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await gP(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&yc(t)||this._popupRedirectResolver;Oe(e,this,"argument-error"),this.redirectPersistenceManager=await Uf.create(this,[yc(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&XL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kc(n){return On(n)}class ES{constructor(t){this.auth=t,this.observer=null,this.addObserver=kR(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AP(n){e1=n}function XE(n){return e1.loadJS(n)}function TP(){return e1.recaptchaEnterpriseScript}function xP(){return e1.gapiScript}function EP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NP{constructor(){this.enterprise=new IP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class IP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const CP="recaptcha-enterprise",QE="NO_RECAPTCHA";class RP{constructor(t){this.type=CP,this.auth=kc(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{oP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new aP(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function r(s,o,c){const u=window.grecaptcha;wS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(QE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(c=>{if(!e&&wS(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TP();u.length!==0&&(u+=c),XE(u).then(()=>{r(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function NS(n,t,e,i=!1,r=!1){const s=new RP(n);let o;if(r)o=QE;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const c=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function c2(n,t,e,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await NS(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await NS(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,t){const e=Cl(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(Du(s,t??{}))return r;Xa(r,"already-initialized")}return e.initialize({options:t})}function PP(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(yc);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function kP(n,t,e){const i=kc(n);Oe(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=JE(t),{host:o,port:c}=DP(t),u=c===null?"":`:${c}`,f={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(Du(f,i.config.emulator)&&Du(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Yu(o)?(u_(`${s}//${o}${u}`),h_("Auth",!0)):MP()}function JE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function DP(n){const t=JE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:IS(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:IS(o)}}}function IS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function MP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return mc("not implemented")}_getIdTokenResponse(t){return mc("not implemented")}_linkToIdToken(t,e){return mc("not implemented")}_getReauthenticationResolver(t){return mc("not implemented")}}async function OP(n,t){return Pc(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,t){return ug(n,"POST","/v1/accounts:signInWithPassword",Lc(n,t))}async function FP(n,t){return Pc(n,"POST","/v1/accounts:sendOobCode",Lc(n,t))}async function VP(n,t){return FP(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(n,t){return ug(n,"POST","/v1/accounts:signInWithEmailLink",Lc(n,t))}async function UP(n,t){return ug(n,"POST","/v1/accounts:signInWithEmailLink",Lc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends b_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Up(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Up(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c2(t,e,"signInWithPassword",jP);case"emailLink":return BP(t,{email:this._email,oobCode:this._password});default:Xa(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c2(t,i,"signUpPassword",OP);case"emailLink":return UP(t,{idToken:e,email:this._email,oobCode:this._password});default:Xa(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n,t){return ug(n,"POST","/v1/accounts:signInWithIdp",Lc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="http://localhost";class Oh extends b_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Oh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xa("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=p_(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Oh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return zf(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,zf(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zf(t,e)}buildRequest(){const t={requestUri:zP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=og(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HP(n){const t=fp(dp(n)).link,e=t?fp(dp(t)).deep_link_id:null,i=fp(dp(n)).deep_link_id;return(i?fp(dp(i)).link:null)||i||e||t||n}class w_{constructor(t){var e,i,r,s,o,c;const u=fp(dp(t)),f=(e=u.apiKey)!==null&&e!==void 0?e:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,y=qP((r=u.mode)!==null&&r!==void 0?r:null);Oe(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const e=HP(t);try{return new w_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.providerId=hd.PROVIDER_ID}static credential(t,e){return Up._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=w_.parseLink(e);return Oe(i,"argument-error"),Up._fromEmailAndCode(t,i.code,i.tenantId)}}hd.PROVIDER_ID="password";hd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends S_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends hg{constructor(){super("facebook.com")}static credential(t){return Oh._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bu.credentialFromTaggedObject(t)}static credentialFromError(t){return bu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bu.credential(t.oauthAccessToken)}catch{return null}}}bu.FACEBOOK_SIGN_IN_METHOD="facebook.com";bu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends hg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Oh._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return gc.credentialFromTaggedObject(t)}static credentialFromError(t){return gc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return gc.credential(e,i)}catch{return null}}}gc.GOOGLE_SIGN_IN_METHOD="google.com";gc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends hg{constructor(){super("github.com")}static credential(t){return Oh._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wu.credentialFromTaggedObject(t)}static credentialFromError(t){return wu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wu.credential(t.oauthAccessToken)}catch{return null}}}wu.GITHUB_SIGN_IN_METHOD="github.com";wu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends hg{constructor(){super("twitter.com")}static credential(t,e){return Oh._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Su.credentialFromTaggedObject(t)}static credentialFromError(t){return Su.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Su.credential(e,i)}catch{return null}}}Su.TWITTER_SIGN_IN_METHOD="twitter.com";Su.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(n,t){return ug(n,"POST","/v1/accounts:signUp",Lc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await Po._fromIdTokenResponse(t,i,r),o=CS(i);return new xc({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=CS(i);return new xc({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function CS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n){var t;if(Ts(n.app))return Promise.reject(Sl(n));const e=kc(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new xc({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ZE(e,{returnSecureToken:!0}),r=await xc._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends Ja{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,w0.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new w0(t,e,i,r)}}function t4(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?w0._fromErrorAndOperation(n,s,t,i):s})}async function WP(n,t,e=!1){const i=await Bp(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return xc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(n,t,e=!1){const{auth:i}=n;if(Ts(i.app))return Promise.reject(Sl(i));const r="reauthenticate";try{const s=await Bp(n,t4(i,r,t,n),e);Oe(s.idToken,i,"internal-error");const o=v_(s.idToken);Oe(o,i,"internal-error");const{sub:c}=o;return Oe(n.uid===c,i,"user-mismatch"),xc._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xa(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,t,e=!1){if(Ts(n.app))return Promise.reject(Sl(n));const i="signIn",r=await t4(n,i,t),s=await xc._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}async function YP(n,t){return e4(kc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n){const t=kc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function KP(n,t,e){if(Ts(n.app))return Promise.reject(Sl(n));const i=kc(n),o=await c2(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZE).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&n4(n),u}),c=await xc._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(c.user),c}function XP(n,t,e){return Ts(n.app)?Promise.reject(Sl(n)):YP(On(n),hd.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&n4(n),i})}async function i4(n,t){const e=On(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:s}=await VP(e.auth,r);s!==n.email&&await n.reload()}function QP(n,t,e,i){return On(n).onIdTokenChanged(t,e,i)}function JP(n,t,e){return On(n).beforeAuthStateChanged(t,e)}function ZP(n,t,e,i){return On(n).onAuthStateChanged(t,e,i)}function tk(n){return On(n).signOut()}const S0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(S0,"1"),this.storage.removeItem(S0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1e3,nk=10;class s4 extends r4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);yP()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,nk):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}s4.type="LOCAL";const ik=s4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends r4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}a4.type="SESSION";const o4=a4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new n1(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(o).map(async f=>f(e.origin,s)),u=await rk(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const f=A_("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(y){const b=y;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return window}function ak(n){Al().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof Al().WorkerGlobalScope<"u"&&typeof Al().importScripts=="function"}async function ok(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ck(){return l4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebaseLocalStorageDb",uk=1,A0="firebaseLocalStorage",u4="fbase_key";class fg{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function i1(n,t){return n.transaction([A0],t?"readwrite":"readonly").objectStore(A0)}function hk(){const n=indexedDB.deleteDatabase(c4);return new fg(n).toPromise()}function u2(){const n=indexedDB.open(c4,uk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(A0,{keyPath:u4})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(A0)?t(i):(i.close(),await hk(),t(await u2()))})})}async function RS(n,t,e){const i=i1(n,!0).put({[u4]:t,value:e});return new fg(i).toPromise()}async function fk(n,t){const e=i1(n,!1).get(t),i=await new fg(e).toPromise();return i===void 0?null:i.value}function LS(n,t){const e=i1(n,!0).delete(t);return new fg(e).toPromise()}const dk=800,pk=3;class h4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u2(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>pk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n1._getInstance(ck()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await ok(),!this.activeServiceWorker)return;this.sender=new sk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await u2();return await RS(t,S0,"1"),await LS(t,S0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>RS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>fk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>LS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=i1(r,!1).getAll();return new fg(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h4.type="LOCAL";const gk=h4;new cg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n,t){return t?yc(t):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends b_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mk(n){return e4(n.auth,new T_(n),n.bypassAuthState)}function yk(n){const{auth:t,user:e}=n;return Oe(e,t,"internal-error"),$P(e,new T_(n),n.bypassAuthState)}async function vk(n){const{auth:t,user:e}=n;return Oe(e,t,"internal-error"),WP(e,new T_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mk;case"linkViaPopup":case"linkViaRedirect":return vk;case"reauthViaPopup":case"reauthViaRedirect":return yk;default:Xa(this.auth,"internal-error")}}resolve(t){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new cg(2e3,1e4);async function bk(n,t,e){if(Ts(n.app))return Promise.reject(ko(n,"operation-not-supported-in-this-environment"));const i=kc(n);QL(n,t,S_);const r=f4(i,e);return new Nh(i,"signInViaPopup",t,r).executeNotNull()}class Nh extends d4{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Nh.currentPopupAction&&Nh.currentPopupAction.cancel(),Nh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Oe(t,this.auth,"internal-error"),t}async onExecution(){Tc(this.filter.length===1,"Popup operations only handle one event");const t=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ko(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ko(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ko(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_k.get())};t()}}Nh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="pendingRedirect",Xm=new Map;class Sk extends d4{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Xm.get(this.auth._key());if(!t){try{const i=await Ak(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Xm.set(this.auth._key(),t)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ak(n,t){const e=Ek(t),i=xk(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Tk(n,t){Xm.set(n._key(),t)}function xk(n){return yc(n._redirectPersistence)}function Ek(n){return Km(wk,n.config.apiKey,n.name)}async function Nk(n,t,e=!1){if(Ts(n.app))return Promise.reject(Sl(n));const i=kc(n),r=f4(i,t),o=await new Sk(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=10*60*1e3;class Ck{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!p4(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(ko(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(PS(t))}saveEventToCache(t){this.cachedEventUids.add(PS(t)),this.lastProcessedEventTime=Date.now()}}function PS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function p4({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Rk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,t={}){return Pc(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kk=/^https?/;async function Dk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Lk(n);for(const e of t)try{if(Mk(e))return}catch{}Xa(n,"unauthorized-domain")}function Mk(n){const t=o2(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!kk.test(e))return!1;if(Pk.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new cg(3e4,6e4);function kS(){const n=Al().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function jk(n){return new Promise((t,e)=>{var i,r,s;function o(){kS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kS(),e(ko(n,"network-request-failed"))},timeout:Ok.get()})}if(!((r=(i=Al().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Al().gapi)===null||s===void 0)&&s.load)o();else{const c=EP("iframefcb");return Al()[c]=()=>{gapi.load?o():e(ko(n,"network-request-failed"))},XE(`${xP()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw Qm=null,t})}let Qm=null;function Fk(n){return Qm=Qm||jk(n),Qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new cg(5e3,15e3),Bk="__/auth/iframe",Uk="emulator/auth/iframe",zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hk(n){const t=n.config;Oe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?y_(t,Uk):`https://${n.config.authDomain}/${Bk}`,i={apiKey:t.apiKey,appName:n.name,v:Hh},r=qk.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${og(i).slice(1)}`}async function Gk(n){const t=await Fk(n),e=Al().gapi;return Oe(e,n,"internal-error"),t.open({where:document.body,url:Hk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zk,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ko(n,"network-request-failed"),c=Al().setTimeout(()=>{s(o)},Vk.get());function u(){Al().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$k=500,Yk=600,Kk="_blank",Xk="http://localhost";class DS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qk(n,t,e,i=$k,r=Yk){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Wk),{width:i.toString(),height:r.toString(),top:s,left:o}),f=ps().toLowerCase();e&&(c=qE(f)?Kk:e),UE(f)&&(t=t||Xk,u.scrollbars="yes");const p=Object.entries(u).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(mP(f)&&c!=="_self")return Jk(t||"",c),new DS(null);const y=window.open(t||"",c,p);Oe(y,n,"popup-blocked");try{y.focus()}catch{}return new DS(y)}function Jk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="__/auth/handler",tD="emulator/auth/handler",eD=encodeURIComponent("fac");async function MS(n,t,e,i,r,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Hh,eventId:r};if(t instanceof S_){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",PR(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(t instanceof hg){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),f=u?`#${eD}=${encodeURIComponent(u)}`:"";return`${nD(n)}?${og(c).slice(1)}${f}`}function nD({config:n}){return n.emulator?y_(n,tD):`https://${n.authDomain}/${Zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="webStorageSupport";class iD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o4,this._completeRedirectFn=Nk,this._overrideRedirectResult=Tk}async _openPopup(t,e,i,r){var s;Tc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await MS(t,e,i,o2(),r);return Qk(t,o,A_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await MS(t,e,i,o2(),r);return ak(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Tc(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Gk(t),i=new Ck(t);return e.register("authEvent",r=>(Oe(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(lv,{type:lv},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[lv];o!==void 0&&e(!!o),Xa(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Dk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return YE()||zE()||__()}}const rD=iD;var OS="@firebase/auth",jS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oD(n){Ys(new xs("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(n)},f=new SP(i,r,s,u);return PP(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ys(new xs("auth-internal",t=>{const e=kc(t.getProvider("auth").getImmediate());return(i=>new sD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(OS,jS,aD(n)),Nr(OS,jS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=5*60,cD=EE("authIdTokenMaxAge")||lD;let FS=null;const uD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>cD)return;const r=e==null?void 0:e.token;FS!==r&&(FS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function hD(n=ud()){const t=Cl(n,"auth");if(t.isInitialized())return t.getImmediate();const e=LP(n,{popupRedirectResolver:rD,persistence:[gk,ik,o4]}),i=EE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=uD(s.toString());JP(e,o,()=>o(e.currentUser)),QP(e,c=>o(c))}}const r=AE("auth");return r&&kP(e,`http://${r}`),e}function fD(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}AP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=ko("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",fD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oD("Browser");var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lu,g4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,P){function F(){}F.prototype=P.prototype,q.D=P.prototype,q.prototype=new F,q.prototype.constructor=q,q.C=function(z,L,D){for(var j=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)j[ot-2]=arguments[ot];return P.prototype[L].apply(z,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(q,P,F){F||(F=0);var z=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)z[L]=P.charCodeAt(F++)|P.charCodeAt(F++)<<8|P.charCodeAt(F++)<<16|P.charCodeAt(F++)<<24;else for(L=0;16>L;++L)z[L]=P[F++]|P[F++]<<8|P[F++]<<16|P[F++]<<24;P=q.g[0],F=q.g[1],L=q.g[2];var D=q.g[3],j=P+(D^F&(L^D))+z[0]+3614090360&4294967295;P=F+(j<<7&4294967295|j>>>25),j=D+(L^P&(F^L))+z[1]+3905402710&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(F^D&(P^F))+z[2]+606105819&4294967295,L=D+(j<<17&4294967295|j>>>15),j=F+(P^L&(D^P))+z[3]+3250441966&4294967295,F=L+(j<<22&4294967295|j>>>10),j=P+(D^F&(L^D))+z[4]+4118548399&4294967295,P=F+(j<<7&4294967295|j>>>25),j=D+(L^P&(F^L))+z[5]+1200080426&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(F^D&(P^F))+z[6]+2821735955&4294967295,L=D+(j<<17&4294967295|j>>>15),j=F+(P^L&(D^P))+z[7]+4249261313&4294967295,F=L+(j<<22&4294967295|j>>>10),j=P+(D^F&(L^D))+z[8]+1770035416&4294967295,P=F+(j<<7&4294967295|j>>>25),j=D+(L^P&(F^L))+z[9]+2336552879&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(F^D&(P^F))+z[10]+4294925233&4294967295,L=D+(j<<17&4294967295|j>>>15),j=F+(P^L&(D^P))+z[11]+2304563134&4294967295,F=L+(j<<22&4294967295|j>>>10),j=P+(D^F&(L^D))+z[12]+1804603682&4294967295,P=F+(j<<7&4294967295|j>>>25),j=D+(L^P&(F^L))+z[13]+4254626195&4294967295,D=P+(j<<12&4294967295|j>>>20),j=L+(F^D&(P^F))+z[14]+2792965006&4294967295,L=D+(j<<17&4294967295|j>>>15),j=F+(P^L&(D^P))+z[15]+1236535329&4294967295,F=L+(j<<22&4294967295|j>>>10),j=P+(L^D&(F^L))+z[1]+4129170786&4294967295,P=F+(j<<5&4294967295|j>>>27),j=D+(F^L&(P^F))+z[6]+3225465664&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^F&(D^P))+z[11]+643717713&4294967295,L=D+(j<<14&4294967295|j>>>18),j=F+(D^P&(L^D))+z[0]+3921069994&4294967295,F=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(F^L))+z[5]+3593408605&4294967295,P=F+(j<<5&4294967295|j>>>27),j=D+(F^L&(P^F))+z[10]+38016083&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^F&(D^P))+z[15]+3634488961&4294967295,L=D+(j<<14&4294967295|j>>>18),j=F+(D^P&(L^D))+z[4]+3889429448&4294967295,F=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(F^L))+z[9]+568446438&4294967295,P=F+(j<<5&4294967295|j>>>27),j=D+(F^L&(P^F))+z[14]+3275163606&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^F&(D^P))+z[3]+4107603335&4294967295,L=D+(j<<14&4294967295|j>>>18),j=F+(D^P&(L^D))+z[8]+1163531501&4294967295,F=L+(j<<20&4294967295|j>>>12),j=P+(L^D&(F^L))+z[13]+2850285829&4294967295,P=F+(j<<5&4294967295|j>>>27),j=D+(F^L&(P^F))+z[2]+4243563512&4294967295,D=P+(j<<9&4294967295|j>>>23),j=L+(P^F&(D^P))+z[7]+1735328473&4294967295,L=D+(j<<14&4294967295|j>>>18),j=F+(D^P&(L^D))+z[12]+2368359562&4294967295,F=L+(j<<20&4294967295|j>>>12),j=P+(F^L^D)+z[5]+4294588738&4294967295,P=F+(j<<4&4294967295|j>>>28),j=D+(P^F^L)+z[8]+2272392833&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^F)+z[11]+1839030562&4294967295,L=D+(j<<16&4294967295|j>>>16),j=F+(L^D^P)+z[14]+4259657740&4294967295,F=L+(j<<23&4294967295|j>>>9),j=P+(F^L^D)+z[1]+2763975236&4294967295,P=F+(j<<4&4294967295|j>>>28),j=D+(P^F^L)+z[4]+1272893353&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^F)+z[7]+4139469664&4294967295,L=D+(j<<16&4294967295|j>>>16),j=F+(L^D^P)+z[10]+3200236656&4294967295,F=L+(j<<23&4294967295|j>>>9),j=P+(F^L^D)+z[13]+681279174&4294967295,P=F+(j<<4&4294967295|j>>>28),j=D+(P^F^L)+z[0]+3936430074&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^F)+z[3]+3572445317&4294967295,L=D+(j<<16&4294967295|j>>>16),j=F+(L^D^P)+z[6]+76029189&4294967295,F=L+(j<<23&4294967295|j>>>9),j=P+(F^L^D)+z[9]+3654602809&4294967295,P=F+(j<<4&4294967295|j>>>28),j=D+(P^F^L)+z[12]+3873151461&4294967295,D=P+(j<<11&4294967295|j>>>21),j=L+(D^P^F)+z[15]+530742520&4294967295,L=D+(j<<16&4294967295|j>>>16),j=F+(L^D^P)+z[2]+3299628645&4294967295,F=L+(j<<23&4294967295|j>>>9),j=P+(L^(F|~D))+z[0]+4096336452&4294967295,P=F+(j<<6&4294967295|j>>>26),j=D+(F^(P|~L))+z[7]+1126891415&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~F))+z[14]+2878612391&4294967295,L=D+(j<<15&4294967295|j>>>17),j=F+(D^(L|~P))+z[5]+4237533241&4294967295,F=L+(j<<21&4294967295|j>>>11),j=P+(L^(F|~D))+z[12]+1700485571&4294967295,P=F+(j<<6&4294967295|j>>>26),j=D+(F^(P|~L))+z[3]+2399980690&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~F))+z[10]+4293915773&4294967295,L=D+(j<<15&4294967295|j>>>17),j=F+(D^(L|~P))+z[1]+2240044497&4294967295,F=L+(j<<21&4294967295|j>>>11),j=P+(L^(F|~D))+z[8]+1873313359&4294967295,P=F+(j<<6&4294967295|j>>>26),j=D+(F^(P|~L))+z[15]+4264355552&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~F))+z[6]+2734768916&4294967295,L=D+(j<<15&4294967295|j>>>17),j=F+(D^(L|~P))+z[13]+1309151649&4294967295,F=L+(j<<21&4294967295|j>>>11),j=P+(L^(F|~D))+z[4]+4149444226&4294967295,P=F+(j<<6&4294967295|j>>>26),j=D+(F^(P|~L))+z[11]+3174756917&4294967295,D=P+(j<<10&4294967295|j>>>22),j=L+(P^(D|~F))+z[2]+718787259&4294967295,L=D+(j<<15&4294967295|j>>>17),j=F+(D^(L|~P))+z[9]+3951481745&4294967295,q.g[0]=q.g[0]+P&4294967295,q.g[1]=q.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,q.g[2]=q.g[2]+L&4294967295,q.g[3]=q.g[3]+D&4294967295}i.prototype.u=function(q,P){P===void 0&&(P=q.length);for(var F=P-this.blockSize,z=this.B,L=this.h,D=0;D<P;){if(L==0)for(;D<=F;)r(this,q,D),D+=this.blockSize;if(typeof q=="string"){for(;D<P;)if(z[L++]=q.charCodeAt(D++),L==this.blockSize){r(this,z),L=0;break}}else for(;D<P;)if(z[L++]=q[D++],L==this.blockSize){r(this,z),L=0;break}}this.h=L,this.o+=P},i.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var P=1;P<q.length-8;++P)q[P]=0;var F=8*this.o;for(P=q.length-8;P<q.length;++P)q[P]=F&255,F/=256;for(this.u(q),q=Array(16),P=F=0;4>P;++P)for(var z=0;32>z;z+=8)q[F++]=this.g[P]>>>z&255;return q};function s(q,P){var F=c;return Object.prototype.hasOwnProperty.call(F,q)?F[q]:F[q]=P(q)}function o(q,P){this.h=P;for(var F=[],z=!0,L=q.length-1;0<=L;L--){var D=q[L]|0;z&&D==P||(F[L]=D,z=!1)}this.g=F}var c={};function u(q){return-128<=q&&128>q?s(q,function(P){return new o([P|0],0>P?-1:0)}):new o([q|0],0>q?-1:0)}function f(q){if(isNaN(q)||!isFinite(q))return y;if(0>q)return C(f(-q));for(var P=[],F=1,z=0;q>=F;z++)P[z]=q/F|0,F*=4294967296;return new o(P,0)}function p(q,P){if(q.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(q.charAt(0)=="-")return C(p(q.substring(1),P));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=f(Math.pow(P,8)),z=y,L=0;L<q.length;L+=8){var D=Math.min(8,q.length-L),j=parseInt(q.substring(L,L+D),P);8>D?(D=f(Math.pow(P,D)),z=z.j(D).add(f(j))):(z=z.j(F),z=z.add(f(j)))}return z}var y=u(0),b=u(1),_=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-C(this).m();for(var q=0,P=1,F=0;F<this.g.length;F++){var z=this.i(F);q+=(0<=z?z:4294967296+z)*P,P*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(E(this))return"0";if(N(this))return"-"+C(this).toString(q);for(var P=f(Math.pow(q,6)),F=this,z="";;){var L=nt(F,P).g;F=I(F,L.j(P));var D=((0<F.g.length?F.g[0]:F.h)>>>0).toString(q);if(F=L,E(F))return D+z;for(;6>D.length;)D="0"+D;z=D+z}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function E(q){if(q.h!=0)return!1;for(var P=0;P<q.g.length;P++)if(q.g[P]!=0)return!1;return!0}function N(q){return q.h==-1}n.l=function(q){return q=I(this,q),N(q)?-1:E(q)?0:1};function C(q){for(var P=q.g.length,F=[],z=0;z<P;z++)F[z]=~q.g[z];return new o(F,~q.h).add(b)}n.abs=function(){return N(this)?C(this):this},n.add=function(q){for(var P=Math.max(this.g.length,q.g.length),F=[],z=0,L=0;L<=P;L++){var D=z+(this.i(L)&65535)+(q.i(L)&65535),j=(D>>>16)+(this.i(L)>>>16)+(q.i(L)>>>16);z=j>>>16,D&=65535,j&=65535,F[L]=j<<16|D}return new o(F,F[F.length-1]&-2147483648?-1:0)};function I(q,P){return q.add(C(P))}n.j=function(q){if(E(this)||E(q))return y;if(N(this))return N(q)?C(this).j(C(q)):C(C(this).j(q));if(N(q))return C(this.j(C(q)));if(0>this.l(_)&&0>q.l(_))return f(this.m()*q.m());for(var P=this.g.length+q.g.length,F=[],z=0;z<2*P;z++)F[z]=0;for(z=0;z<this.g.length;z++)for(var L=0;L<q.g.length;L++){var D=this.i(z)>>>16,j=this.i(z)&65535,ot=q.i(L)>>>16,wt=q.i(L)&65535;F[2*z+2*L]+=j*wt,M(F,2*z+2*L),F[2*z+2*L+1]+=D*wt,M(F,2*z+2*L+1),F[2*z+2*L+1]+=j*ot,M(F,2*z+2*L+1),F[2*z+2*L+2]+=D*ot,M(F,2*z+2*L+2)}for(z=0;z<P;z++)F[z]=F[2*z+1]<<16|F[2*z];for(z=P;z<2*P;z++)F[z]=0;return new o(F,0)};function M(q,P){for(;(q[P]&65535)!=q[P];)q[P+1]+=q[P]>>>16,q[P]&=65535,P++}function $(q,P){this.g=q,this.h=P}function nt(q,P){if(E(P))throw Error("division by zero");if(E(q))return new $(y,y);if(N(q))return P=nt(C(q),P),new $(C(P.g),C(P.h));if(N(P))return P=nt(q,C(P)),new $(C(P.g),P.h);if(30<q.g.length){if(N(q)||N(P))throw Error("slowDivide_ only works with positive integers.");for(var F=b,z=P;0>=z.l(q);)F=et(F),z=et(z);var L=pt(F,1),D=pt(z,1);for(z=pt(z,2),F=pt(F,2);!E(z);){var j=D.add(z);0>=j.l(q)&&(L=L.add(F),D=j),z=pt(z,1),F=pt(F,1)}return P=I(q,L.j(P)),new $(L,P)}for(L=y;0<=q.l(P);){for(F=Math.max(1,Math.floor(q.m()/P.m())),z=Math.ceil(Math.log(F)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),D=f(F),j=D.j(P);N(j)||0<j.l(q);)F-=z,D=f(F),j=D.j(P);E(D)&&(D=b),L=L.add(D),q=I(q,j)}return new $(L,q)}n.A=function(q){return nt(this,q).h},n.and=function(q){for(var P=Math.max(this.g.length,q.g.length),F=[],z=0;z<P;z++)F[z]=this.i(z)&q.i(z);return new o(F,this.h&q.h)},n.or=function(q){for(var P=Math.max(this.g.length,q.g.length),F=[],z=0;z<P;z++)F[z]=this.i(z)|q.i(z);return new o(F,this.h|q.h)},n.xor=function(q){for(var P=Math.max(this.g.length,q.g.length),F=[],z=0;z<P;z++)F[z]=this.i(z)^q.i(z);return new o(F,this.h^q.h)};function et(q){for(var P=q.g.length+1,F=[],z=0;z<P;z++)F[z]=q.i(z)<<1|q.i(z-1)>>>31;return new o(F,q.h)}function pt(q,P){var F=P>>5;P%=32;for(var z=q.g.length-F,L=[],D=0;D<z;D++)L[D]=0<P?q.i(D+F)>>>P|q.i(D+F+1)<<32-P:q.i(D+F);return new o(L,q.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,g4=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,Lu=o}).apply(typeof VS<"u"?VS:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m4,pp,y4,Jm,h2,v4,_4,b4;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,k){return m==Array.prototype||m==Object.prototype||(m[x]=k.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var x=0;x<m.length;++x){var k=m[x];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=e(this);function r(m,x){if(x)t:{var k=i;m=m.split(".");for(var X=0;X<m.length-1;X++){var _t=m[X];if(!(_t in k))break t;k=k[_t]}m=m[m.length-1],X=k[m],x=x(X),x!=X&&x!=null&&t(k,m,{configurable:!0,writable:!0,value:x})}}function s(m,x){m instanceof String&&(m+="");var k=0,X=!1,_t={next:function(){if(!X&&k<m.length){var Lt=k++;return{value:x(Lt,m[Lt]),done:!1}}return X=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}r("Array.prototype.values",function(m){return m||function(){return s(this,function(x,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function f(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function p(m,x,k){return m.call.apply(m.bind,arguments)}function y(m,x,k){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,X),m.apply(x,_t)}}return function(){return m.apply(x,arguments)}}function b(m,x,k){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function _(m,x){var k=Array.prototype.slice.call(arguments,1);return function(){var X=k.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function E(m,x){function k(){}k.prototype=x.prototype,m.aa=x.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(X,_t,Lt){for(var Kt=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)Kt[Ce-2]=arguments[Ce];return x.prototype[_t].apply(X,Kt)}}function N(m){const x=m.length;if(0<x){const k=Array(x);for(let X=0;X<x;X++)k[X]=m[X];return k}return[]}function C(m,x){for(let k=1;k<arguments.length;k++){const X=arguments[k];if(u(X)){const _t=m.length||0,Lt=X.length||0;m.length=_t+Lt;for(let Kt=0;Kt<Lt;Kt++)m[_t+Kt]=X[Kt]}else m.push(X)}}class I{constructor(x,k){this.i=x,this.j=k,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(m){return/^[\s\xa0]*$/.test(m)}function $(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function nt(m){return nt[" "](m),m}nt[" "]=function(){};var et=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function pt(m,x,k){for(const X in m)x.call(k,m[X],X,m)}function q(m,x){for(const k in m)x.call(void 0,m[k],k,m)}function P(m){const x={};for(const k in m)x[k]=m[k];return x}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,x){let k,X;for(let _t=1;_t<arguments.length;_t++){X=arguments[_t];for(k in X)m[k]=X[k];for(let Lt=0;Lt<F.length;Lt++)k=F[Lt],Object.prototype.hasOwnProperty.call(X,k)&&(m[k]=X[k])}}function L(m){var x=1;m=m.split(":");const k=[];for(;0<x&&m.length;)k.push(m.shift()),x--;return m.length&&k.push(m.join(":")),k}function D(m){c.setTimeout(()=>{throw m},0)}function j(){var m=xt;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ot{constructor(){this.h=this.g=null}add(x,k){const X=wt.get();X.set(x,k),this.h?this.h.next=X:this.g=X,this.h=X}}var wt=new I(()=>new it,m=>m.reset());class it{constructor(){this.next=this.g=this.h=null}set(x,k){this.h=x,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ft=!1,xt=new ot,J=()=>{const m=c.Promise.resolve(void 0);ht=()=>{m.then(At)}};var At=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){D(k)}var x=wt;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}ft=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};c.addEventListener("test",k,x),c.removeEventListener("test",k,x)}catch{}return m}();function at(m,x){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(et){t:{try{nt(x.nodeName);var _t=!0;break t}catch{}_t=!1}_t||(x=null)}}else k=="mouseover"?x=m.fromElement:k=="mouseout"&&(x=m.toElement);this.relatedTarget=x,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ct[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&at.aa.h.call(this)}}E(at,Y);var ct={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Et=0;function kt(m,x,k,X,_t){this.listener=m,this.proxy=null,this.src=x,this.type=k,this.capture=!!X,this.ha=_t,this.key=++Et,this.da=this.fa=!1}function Jt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Xt(m){this.src=m,this.g={},this.h=0}Xt.prototype.add=function(m,x,k,X,_t){var Lt=m.toString();m=this.g[Lt],m||(m=this.g[Lt]=[],this.h++);var Kt=te(m,x,X,_t);return-1<Kt?(x=m[Kt],k||(x.fa=!1)):(x=new kt(x,this.src,Lt,!!X,_t),x.fa=k,m.push(x)),x};function ne(m,x){var k=x.type;if(k in m.g){var X=m.g[k],_t=Array.prototype.indexOf.call(X,x,void 0),Lt;(Lt=0<=_t)&&Array.prototype.splice.call(X,_t,1),Lt&&(Jt(x),m.g[k].length==0&&(delete m.g[k],m.h--))}}function te(m,x,k,X){for(var _t=0;_t<m.length;++_t){var Lt=m[_t];if(!Lt.da&&Lt.listener==x&&Lt.capture==!!k&&Lt.ha==X)return _t}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Ft={};function lt(m,x,k,X,_t){if(Array.isArray(x)){for(var Lt=0;Lt<x.length;Lt++)lt(m,x[Lt],k,X,_t);return null}return k=Ve(k),m&&m[Nt]?m.K(x,k,f(X)?!!X.capture:!1,_t):Te(m,x,k,!1,X,_t)}function Te(m,x,k,X,_t,Lt){if(!x)throw Error("Invalid event type");var Kt=f(_t)?!!_t.capture:!!_t,Ce=ve(m);if(Ce||(m[Se]=Ce=new Xt(m)),k=Ce.add(x,k,X,Kt,Lt),k.proxy)return k;if(X=fe(),k.proxy=X,X.src=m,X.listener=k,m.addEventListener)tt||(_t=Kt),_t===void 0&&(_t=!1),m.addEventListener(x.toString(),X,_t);else if(m.attachEvent)m.attachEvent(se(x.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return k}function fe(){function m(k){return x.call(m.src,m.listener,k)}const x=ae;return m}function Qt(m,x,k,X,_t){if(Array.isArray(x))for(var Lt=0;Lt<x.length;Lt++)Qt(m,x[Lt],k,X,_t);else X=f(X)?!!X.capture:!!X,k=Ve(k),m&&m[Nt]?(m=m.i,x=String(x).toString(),x in m.g&&(Lt=m.g[x],k=te(Lt,k,X,_t),-1<k&&(Jt(Lt[k]),Array.prototype.splice.call(Lt,k,1),Lt.length==0&&(delete m.g[x],m.h--)))):m&&(m=ve(m))&&(x=m.g[x.toString()],m=-1,x&&(m=te(x,k,X,_t)),(k=-1<m?x[m]:null)&&Zt(k))}function Zt(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Nt])ne(x.i,m);else{var k=m.type,X=m.proxy;x.removeEventListener?x.removeEventListener(k,X,m.capture):x.detachEvent?x.detachEvent(se(k),X):x.addListener&&x.removeListener&&x.removeListener(X),(k=ve(x))?(ne(k,m),k.h==0&&(k.src=null,x[Se]=null)):Jt(m)}}}function se(m){return m in Ft?Ft[m]:Ft[m]="on"+m}function ae(m,x){if(m.da)m=!0;else{x=new at(x,this);var k=m.listener,X=m.ha||m.src;m.fa&&Zt(m),m=k.call(X,x)}return m}function ve(m){return m=m[Se],m instanceof Xt?m:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(m){return typeof m=="function"?m:(m[Le]||(m[Le]=function(x){return m.handleEvent(x)}),m[Le])}function _e(){V.call(this),this.i=new Xt(this),this.M=this,this.F=null}E(_e,V),_e.prototype[Nt]=!0,_e.prototype.removeEventListener=function(m,x,k,X){Qt(this,m,x,k,X)};function me(m,x){var k,X=m.F;if(X)for(k=[];X;X=X.F)k.push(X);if(m=m.M,X=x.type||x,typeof x=="string")x=new Y(x,m);else if(x instanceof Y)x.target=x.target||m;else{var _t=x;x=new Y(X,m),z(x,_t)}if(_t=!0,k)for(var Lt=k.length-1;0<=Lt;Lt--){var Kt=x.g=k[Lt];_t=Ge(Kt,X,!0,x)&&_t}if(Kt=x.g=m,_t=Ge(Kt,X,!0,x)&&_t,_t=Ge(Kt,X,!1,x)&&_t,k)for(Lt=0;Lt<k.length;Lt++)Kt=x.g=k[Lt],_t=Ge(Kt,X,!1,x)&&_t}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var k=m.g[x],X=0;X<k.length;X++)Jt(k[X]);delete m.g[x],m.h--}}this.F=null},_e.prototype.K=function(m,x,k,X){return this.i.add(String(m),x,!1,k,X)},_e.prototype.L=function(m,x,k,X){return this.i.add(String(m),x,!0,k,X)};function Ge(m,x,k,X){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var _t=!0,Lt=0;Lt<x.length;++Lt){var Kt=x[Lt];if(Kt&&!Kt.da&&Kt.capture==k){var Ce=Kt.listener,rn=Kt.ha||Kt.src;Kt.fa&&ne(m.i,Kt),_t=Ce.call(rn,X)!==!1&&_t}}return _t&&!X.defaultPrevented}function de(m,x,k){if(typeof m=="function")k&&(m=b(m,k));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(m,x||0)}function We(m){m.g=de(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class oe extends V{constructor(x,k){super(),this.m=x,this.l=k,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(m){V.call(this),this.h=m,this.g={}}E(li,V);var Ke=[];function ir(m){pt(m.g,function(x,k){this.g.hasOwnProperty(k)&&Zt(x)},m),m.g={}}li.prototype.N=function(){li.aa.N.call(this),ir(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=c.JSON.stringify,Cn=c.JSON.parse,gr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function cn(){}cn.prototype.h=null;function Xs(m){return m.h||(m.h=m.i())}function Hn(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){Y.call(this,"d")}E(rr,Y);function Gn(){Y.call(this,"c")}E(Gn,Y);var xe={},un=null;function Ur(){return un=un||new _e}xe.La="serverreachability";function ci(m){Y.call(this,xe.La,m)}E(ci,Y);function sr(m){const x=Ur();me(x,new ci(x))}xe.STAT_EVENT="statevent";function ms(m,x){Y.call(this,xe.STAT_EVENT,m),this.stat=x}E(ms,Y);function le(m){const x=Ur();me(x,new ms(x,m))}xe.Ma="timingevent";function Rn(m,x){Y.call(this,xe.Ma,m),this.size=x}E(Rn,Y);function Ln(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},x)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function ni(m,x,k,X,_t,Lt){m.info(function(){if(m.g)if(Lt)for(var Kt="",Ce=Lt.split("&"),rn=0;rn<Ce.length;rn++){var Be=Ce[rn].split("=");if(1<Be.length){var An=Be[0];Be=Be[1];var Pn=An.split("_");Kt=2<=Pn.length&&Pn[1]=="type"?Kt+(An+"="+Be+"&"):Kt+(An+"=redacted&")}}else Kt=null;else Kt=Lt;return"XMLHTTP REQ ("+X+") [attempt "+_t+"]: "+x+`
`+k+`
`+Kt})}function ui(m,x,k,X,_t,Lt,Kt){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+_t+"]: "+x+`
`+k+`
`+Lt+" "+Kt})}function Si(m,x,k,X){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ir(m,k)+(X?" "+X:"")})}function to(m,x){m.info(function(){return"TIMEOUT: "+x})}Qn.prototype.info=function(){};function Ir(m,x){if(!m.g)return x;if(!x)return null;try{var k=JSON.parse(x);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var X=k[m];if(!(2>X.length)){var _t=X[1];if(Array.isArray(_t)&&!(1>_t.length)){var Lt=_t[0];if(Lt!="noop"&&Lt!="stop"&&Lt!="close")for(var Kt=1;Kt<_t.length;Kt++)_t[Kt]=""}}}}return Je(k)}catch{return x}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Mi(){}E(Mi,cn),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},Ai=new Mi;function Wn(m,x,k,X){this.j=m,this.i=x,this.l=k,this.R=X||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}var Qs={},Js={};function mr(m,x,k){m.L=1,m.v=Na(or(x)),m.m=k,m.P=!0,zr(m,null)}function zr(m,x){m.F=Date.now(),no(m),m.A=or(m.v);var k=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),Ie(k.i,"t",X),m.C=0,k=m.j.J,m.h=new wn,m.g=U(m.j,k?x:null,!m.m),0<m.O&&(m.M=new oe(b(m.Y,m,m.g),m.O)),x=m.U,k=m.g,X=m.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(Ke[0]=_t.toString()),_t=Ke);for(var Lt=0;Lt<_t.length;Lt++){var Kt=lt(k,_t[Lt],X||x.handleEvent,!1,x.h||x);if(!Kt)break;x.g[Kt.key]=Kt}x=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),sr(),ni(m.i,m.u,m.A,m.l,m.R,m.m)}Wn.prototype.ca=function(m){m=m.target;const x=this.M;x&&xi(m)==3?x.j():this.Y(m)},Wn.prototype.Y=function(m){try{if(m==this.g)t:{const Pn=xi(this.g);var x=this.g.Ba();const Ds=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Pn!=4||x==7||(x==8||0>=Ds?sr(3):sr(2)),ys(this);var k=this.g.Z();this.X=k;e:if(eo(this)){var X=Vc(this.g);m="";var _t=X.length,Lt=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),vs(this);var Kt="";break e}this.h.i=new c.TextDecoder}for(x=0;x<_t;x++)this.h.h=!0,m+=this.h.i.decode(X[x],{stream:!(Lt&&x==_t-1)});X.length=0,this.h.g+=m,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=k==200,ui(this.i,this.u,this.A,this.l,this.R,Pn,k),this.o){if(this.T&&!this.K){e:{if(this.g){var Ce,rn=this.g;if((Ce=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ce)){var Be=Ce;break e}}Be=null}if(k=Be)Si(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,k);else{this.o=!1,this.s=3,le(12),Oi(this),vs(this);break t}}if(this.P){k=!0;let gi;for(;!this.J&&this.C<Kt.length;)if(gi=Pl(this,Kt),gi==Js){Pn==4&&(this.s=4,le(14),k=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==Qs){this.s=4,le(15),Si(this.i,this.l,Kt,"[Invalid Chunk]"),k=!1;break}else Si(this.i,this.l,gi,null),Zs(this,gi);if(eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Kt.length!=0||this.h.h||(this.s=1,le(16),k=!1),this.o=this.o&&k,!k)Si(this.i,this.l,Kt,"[Invalid Chunked Response]"),Oi(this),vs(this);else if(0<Kt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),ka(An),An.M=!0,le(11))}}else Si(this.i,this.l,Kt,null),Zs(this,Kt);Pn==4&&Oi(this),this.o&&!this.J&&(Pn==4?Da(this.j,this):(this.o=!1,no(this)))}else Ra(this.g),k==400&&0<Kt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Oi(this),vs(this)}}}catch{}finally{}};function eo(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Pl(m,x){var k=m.C,X=x.indexOf(`
`,k);return X==-1?Js:(k=Number(x.substring(k,X)),isNaN(k)?Qs:(X+=1,X+k>x.length?Js:(x=x.slice(X,X+k),m.C=X+k,x)))}Wn.prototype.cancel=function(){this.J=!0,Oi(this)};function no(m){m.S=Date.now()+m.I,Dc(m,m.I)}function Dc(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ln(b(m.ba,m),x)}function ys(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Wn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(to(this.i,this.A),this.L!=2&&(sr(),le(17)),Oi(this),this.s=2,vs(this)):Dc(this,this.S-m)};function vs(m){m.j.G==0||m.J||Da(m.j,m)}function Oi(m){ys(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,ir(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function Zs(m,x){try{var k=m.j;if(k.G!=0&&(k.g==m||kl(k.h,m))){if(!m.K&&kl(k.h,m)&&k.G==3){try{var X=k.Da.g.parse(x)}catch{X=null}if(Array.isArray(X)&&X.length==3){var _t=X;if(_t[0]==0){t:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)oa(k),zo(k);else break t;lo(k),le(18)}}else k.za=_t[1],0<k.za-k.T&&37500>_t[2]&&k.F&&k.v==0&&!k.C&&(k.C=Ln(b(k.Za,k),6e3));if(1>=ta(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else br(k,11)}else if((m.K||k.g==m)&&oa(k),!M(x))for(_t=k.Da.g.parse(x),x=0;x<_t.length;x++){let Be=_t[x];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const An=Be[3];An!=null&&(k.la=An,k.j.info("VER="+k.la));const Pn=Be[4];Pn!=null&&(k.Aa=Pn,k.j.info("SVER="+k.Aa));const Ds=Be[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(X=1.5*Ds,k.L=X,k.j.info("backChannelRequestTimeoutMs_="+X)),X=k;const gi=m.g;if(gi){const $r=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Lt=X.h;Lt.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&($n(Lt,Lt.h),Lt.h=null))}if(X.D){const Ma=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(X.ya=Ma,Sn(X.I,X.D,Ma))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),X=k;var Kt=m;if(X.qa=A(X,X.J?X.ia:null,X.W),Kt.K){Ki(X.h,Kt);var Ce=Kt,rn=X.L;rn&&(Ce.I=rn),Ce.B&&(ys(Ce),no(Ce)),X.g=Kt}else Ho(X);0<k.i.length&&qo(k)}else Be[0]!="stop"&&Be[0]!="close"||br(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?br(k,7):aa(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}sr(4)}catch{}}var Mc=class{constructor(m,x){this.g=m,this.map=x}};function Es(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ta(m){return m.h?1:m.g?m.g.size:0}function kl(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function $n(m,x){m.g?m.g.add(x):m.h=x}function Ki(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}Es.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const k of m.g.values())x=x.concat(k.D);return x}return N(m.i)}function Oc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var x=[],k=m.length,X=0;X<k;X++)x.push(m[X]);return x}x=[],k=0;for(X in m)x[k++]=m[X];return x}function Ta(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var x=[];m=m.length;for(var k=0;k<m;k++)x.push(k);return x}x=[],k=0;for(const X in m)x[k++]=X;return x}}}function Dl(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var k=Ta(m),X=Oc(m),_t=X.length,Lt=0;Lt<_t;Lt++)x.call(void 0,X[Lt],k&&k[Lt],m)}var ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(m,x){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var X=m[k].indexOf("="),_t=null;if(0<=X){var Lt=m[k].substring(0,X);_t=m[k].substring(X+1)}else Lt=m[k];x(Lt,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}function dn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof dn){this.h=m.h,xa(this,m.j),this.o=m.o,this.g=m.g,Ea(this,m.s),this.l=m.l;var x=m.i,k=new Is;k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),Ns(this,k),this.m=m.m}else m&&(x=String(m).match(ar))?(this.h=!1,xa(this,x[1]||"",!0),this.o=qr(x[2]||""),this.g=qr(x[3]||"",!0),Ea(this,x[4]),this.l=qr(x[5]||"",!0),Ns(this,x[6]||"",!0),this.m=qr(x[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}dn.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ea(x,Ml,!0),":");var k=this.g;return(k||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ea(x,Ml,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(ea(k,k.charAt(0)=="/"?na:Ol,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",ea(k,ia)),m.join("")};function or(m){return new dn(m)}function xa(m,x,k){m.j=k?qr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Ea(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Ns(m,x,k){x instanceof Is?(m.i=x,Fc(m.i,m.h)):(k||(x=ea(x,Uo)),m.i=new Is(x,m.h))}function Sn(m,x,k){m.i.set(x,k)}function Na(m){return Sn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ea(m,x,k){return typeof m=="string"?(m=encodeURI(m).replace(x,jc),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function jc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ml=/[#\/\?@]/g,Ol=/[#\?:]/g,na=/[#\?]/g,Uo=/[#\?@]/g,ia=/#/g;function Is(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function jn(m){m.g||(m.g=new Map,m.h=0,m.i&&Bo(m.i,function(x,k){m.add(decodeURIComponent(x.replace(/\+/g," ")),k)}))}n=Is.prototype,n.add=function(m,x){jn(this),this.i=null,m=Rs(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(x),this.h+=1,this};function ra(m,x){jn(m),x=Rs(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Cs(m,x){return jn(m),x=Rs(m,x),m.g.has(x)}n.forEach=function(m,x){jn(this),this.g.forEach(function(k,X){k.forEach(function(_t){m.call(x,_t,X,this)},this)},this)},n.na=function(){jn(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),k=[];for(let X=0;X<x.length;X++){const _t=m[X];for(let Lt=0;Lt<_t.length;Lt++)k.push(x[X])}return k},n.V=function(m){jn(this);let x=[];if(typeof m=="string")Cs(this,m)&&(x=x.concat(this.g.get(Rs(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)x=x.concat(m[k])}return x},n.set=function(m,x){return jn(this),this.i=null,m=Rs(this,m),Cs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Ie(m,x,k){ra(m,x),0<k.length&&(m.i=null,m.g.set(Rs(m,x),N(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var k=0;k<x.length;k++){var X=x[k];const Lt=encodeURIComponent(String(X)),Kt=this.V(X);for(X=0;X<Kt.length;X++){var _t=Lt;Kt[X]!==""&&(_t+="="+encodeURIComponent(String(Kt[X]))),m.push(_t)}}return this.i=m.join("&")};function Rs(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Fc(m,x){x&&!m.j&&(jn(m),m.i=null,m.g.forEach(function(k,X){var _t=X.toLowerCase();X!=_t&&(ra(this,X),Ie(this,_t,k))},m)),m.j=x}function yr(m,x){const k=new Qn;if(c.Image){const X=new Image;X.onload=_(Cr,k,"TestLoadImage: loaded",!0,x,X),X.onerror=_(Cr,k,"TestLoadImage: error",!1,x,X),X.onabort=_(Cr,k,"TestLoadImage: abort",!1,x,X),X.ontimeout=_(Cr,k,"TestLoadImage: timeout",!1,x,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else x(!1)}function Hr(m,x){const k=new Qn,X=new AbortController,_t=setTimeout(()=>{X.abort(),Cr(k,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:X.signal}).then(Lt=>{clearTimeout(_t),Lt.ok?Cr(k,"TestPingServer: ok",!0,x):Cr(k,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(_t),Cr(k,"TestPingServer: error",!1,x)})}function Cr(m,x,k,X,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),X(k)}catch{}}function Ls(){this.g=new gr}function Gr(m,x,k){const X=k||"";try{Dl(m,function(_t,Lt){let Kt=_t;f(_t)&&(Kt=Je(_t)),x.push(X+Lt+"="+encodeURIComponent(Kt))})}catch(_t){throw x.push(X+"type="+encodeURIComponent("_badmap")),_t}}function Ia(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Ia,cn),Ia.prototype.g=function(){return new sa(this.l,this.j)},Ia.prototype.i=function(m){return function(){return m}}({});function sa(m,x){_e.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(sa,_e),n=sa.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,vr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Wr(this):vr(this),this.readyState==3&&jl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Wr(this))},n.Qa=function(m){this.g&&(this.response=m,Wr(this))},n.ga=function(){this.g&&Wr(this)};function Wr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,vr(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var k=x.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=x.next();return m.join(`\r
`)};function vr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ps(m){let x="";return pt(m,function(k,X){x+=X,x+=":",x+=k,x+=`\r
`}),x}function Ti(m,x,k){t:{for(X in k){var X=!1;break t}X=!0}X||(k=Ps(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):Sn(m,x,k))}function nn(m){_e.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(nn,_e);var Ca=/^https?$/i,ks=["POST","PUT"];n=nn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,k,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?Xs(this.o):Xs(Ai),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Lt){Fl(this,Lt);return}if(m=k||"",k=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var _t in X)k.set(_t,X[_t]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Lt of X.keys())k.set(Lt,X.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(k.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),_t=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ks,x,void 0))||X||_t||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Kt]of k)this.g.setRequestHeader(Lt,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_r(this),this.u=!0,this.g.send(m),this.u=!1}catch(Lt){Fl(this,Lt)}};function Fl(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,io(m),_s(m)}function io(m){m.A||(m.A=!0,me(m,"complete"),me(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,me(this,"complete"),me(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},n.bb=function(){ro(this)};function ro(m){if(m.h&&typeof o<"u"&&(!m.v[1]||xi(m)!=4||m.Z()!=2)){if(m.u&&xi(m)==4)de(m.Ea,0,m);else if(me(m,"readystatechange"),xi(m)==4){m.h=!1;try{const Kt=m.Z();t:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var k;if(!(k=x)){var X;if(X=Kt===0){var _t=String(m.D).match(ar)[1]||null;!_t&&c.self&&c.self.location&&(_t=c.self.location.protocol.slice(0,-1)),X=!Ca.test(_t?_t.toLowerCase():"")}k=X}if(k)me(m,"complete"),me(m,"success");else{m.m=6;try{var Lt=2<xi(m)?m.g.statusText:""}catch{Lt=""}m.l=Lt+" ["+m.Z()+"]",io(m)}}finally{_s(m)}}}}function _s(m,x){if(m.g){_r(m);const k=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||me(m,"ready");try{k.onreadystatechange=X}catch{}}}function _r(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function xi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Cn(x)}};function Vc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(m){const x={};m=(m.g&&2<=xi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(M(m[X]))continue;var k=L(m[X]);const _t=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Lt=x[_t]||[];x[_t]=Lt,Lt.push(k)}q(x,function(X){return X.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(m,x,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||x}function La(m){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,m),this.cb=lr("retryDelaySeedMs",1e4,m),this.Wa=lr("forwardChannelMaxRetries",2,m),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(m&&m.concurrentRequestLimit),this.Da=new Ls,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(m,x,k,X){le(0),this.W=m,this.H=x||{},k&&X!==void 0&&(this.H.OSID=k,this.H.OAID=X),this.F=this.X,this.I=A(this,null,this.W),qo(this)};function aa(m){if(so(m),m.G==3){var x=m.U++,k=or(m.I);if(Sn(k,"SID",m.K),Sn(k,"RID",x),Sn(k,"TYPE","terminate"),Pa(m,k),x=new Wn(m,m.j,x),x.L=2,x.v=Na(or(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=x.v,k=!0),k||(x.g=U(x.j,null),x.g.ea(x.v)),x.F=Date.now(),no(x)}Go(m)}function zo(m){m.g&&(ka(m),m.g.cancel(),m.g=null)}function so(m){zo(m),m.u&&(c.clearTimeout(m.u),m.u=null),oa(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function qo(m){if(!Fo(m.h)&&!m.s){m.s=!0;var x=m.Ga;ht||J(),ft||(ht(),ft=!0),xt.add(x,m),m.B=0}}function Vl(m,x){return ta(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ln(b(m.Ga,m,x),co(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const _t=new Wn(this,this.j,m);let Lt=this.o;if(this.S&&(Lt?(Lt=P(Lt),z(Lt,this.S)):Lt=this.S),this.m!==null||this.O||(_t.H=Lt,Lt=null),this.P)t:{for(var x=0,k=0;k<this.i.length;k++){e:{var X=this.i[k];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break e}X=void 0}if(X===void 0)break;if(x+=X,4096<x){x=k;break t}if(x===4096||k===this.i.length-1){x=k+1;break t}}x=1e3}else x=1e3;x=oo(this,_t,x),k=or(this.I),Sn(k,"RID",m),Sn(k,"CVER",22),this.D&&Sn(k,"X-HTTP-Session-Id",this.D),Pa(this,k),Lt&&(this.O?x="headers="+encodeURIComponent(String(Ps(Lt)))+"&"+x:this.m&&Ti(k,this.m,Lt)),$n(this.h,_t),this.Ua&&Sn(k,"TYPE","init"),this.P?(Sn(k,"$req",x),Sn(k,"SID","null"),_t.T=!0,mr(_t,k,null)):mr(_t,k,x),this.G=2}}else this.G==3&&(m?ao(this,m):this.i.length==0||Fo(this.h)||ao(this))};function ao(m,x){var k;x?k=x.l:k=m.U++;const X=or(m.I);Sn(X,"SID",m.K),Sn(X,"RID",k),Sn(X,"AID",m.T),Pa(m,X),m.m&&m.o&&Ti(X,m.m,m.o),k=new Wn(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),x&&(m.i=x.D.concat(m.i)),x=oo(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),$n(m.h,k),mr(k,X,x)}function Pa(m,x){m.H&&pt(m.H,function(k,X){Sn(x,X,k)}),m.l&&Dl({},function(k,X){Sn(x,X,k)})}function oo(m,x,k){k=Math.min(m.i.length,k);var X=m.l?b(m.l.Na,m.l,m):null;t:{var _t=m.i;let Lt=-1;for(;;){const Kt=["count="+k];Lt==-1?0<k?(Lt=_t[0].g,Kt.push("ofs="+Lt)):Lt=0:Kt.push("ofs="+Lt);let Ce=!0;for(let rn=0;rn<k;rn++){let Be=_t[rn].g;const An=_t[rn].map;if(Be-=Lt,0>Be)Lt=Math.max(0,_t[rn].g-100),Ce=!1;else try{Gr(An,Kt,"req"+Be+"_")}catch{X&&X(An)}}if(Ce){X=Kt.join("&");break t}}}return m=m.i.splice(0,k),x.D=m,X}function Ho(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;ht||J(),ft||(ht(),ft=!0),xt.add(x,m),m.v=0}}function lo(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ln(b(m.Fa,m),co(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ln(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),zo(this),Bc(this))};function ka(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Bc(m){m.g=new Wn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=or(m.qa);Sn(x,"RID","rpc"),Sn(x,"SID",m.K),Sn(x,"AID",m.T),Sn(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&Sn(x,"TO",m.ja),Sn(x,"TYPE","xmlhttp"),Pa(m,x),m.m&&m.o&&Ti(x,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=Na(or(x)),k.m=null,k.P=!0,zr(k,m)}n.Za=function(){this.C!=null&&(this.C=null,zo(this),lo(this),le(19))};function oa(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Da(m,x){var k=null;if(m.g==x){oa(m),ka(m),m.g=null;var X=2}else if(kl(m.h,x))k=x.D,Ki(m.h,x),X=1;else return;if(m.G!=0){if(x.o)if(X==1){k=x.m?x.m.length:0,x=Date.now()-x.F;var _t=m.B;X=Ur(),me(X,new Rn(X,k)),qo(m)}else Ho(m);else if(_t=x.s,_t==3||_t==0&&0<x.X||!(X==1&&Vl(m,x)||X==2&&lo(m)))switch(k&&0<k.length&&(x=m.h,x.i=x.i.concat(k)),_t){case 1:br(m,5);break;case 4:br(m,10);break;case 3:br(m,6);break;default:br(m,2)}}}function co(m,x){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*x}function br(m,x){if(m.j.info("Error code "+x),x==2){var k=b(m.fb,m),X=m.Xa;const _t=!X;X=new dn(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xa(X,"https"),Na(X),_t?yr(X.toString(),k):Hr(X.toString(),k)}else le(2);m.G=0,m.l&&m.l.sa(x),Go(m),so(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Go(m){if(m.G=0,m.ka=[],m.l){const x=Vo(m.h);(x.length!=0||m.i.length!=0)&&(C(m.ka,x),C(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function A(m,x,k){var X=k instanceof dn?or(k):new dn(k);if(X.g!="")x&&(X.g=x+"."+X.g),Ea(X,X.s);else{var _t=c.location;X=_t.protocol,x=x?x+"."+_t.hostname:_t.hostname,_t=+_t.port;var Lt=new dn(null);X&&xa(Lt,X),x&&(Lt.g=x),_t&&Ea(Lt,_t),k&&(Lt.l=k),X=Lt}return k=m.D,x=m.ya,k&&x&&Sn(X,k,x),Sn(X,"VER",m.la),Pa(m,X),X}function U(m,x,k){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new nn(new Ia({eb:k})):new nn(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function st(){}n=st.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dt(){}dt.prototype.g=function(m,x){return new bt(m,x)};function bt(m,x){_e.call(this),this.g=new La(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!M(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new ie(this)}E(bt,_e),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){aa(this.g)},bt.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Je(m),m=k);x.i.push(new Mc(x.Ya++,m)),x.G==3&&qo(x)},bt.prototype.N=function(){this.g.l=null,delete this.j,aa(this.g),delete this.g,bt.aa.N.call(this)};function jt(m){rr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){t:{for(const k in x){m=k;break t}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}E(jt,rr);function Yt(){Gn.call(this),this.status=1}E(Yt,Gn);function ie(m){this.g=m}E(ie,st),ie.prototype.ua=function(){me(this.g,"a")},ie.prototype.ta=function(m){me(this.g,new jt(m))},ie.prototype.sa=function(m){me(this.g,new Yt)},ie.prototype.ra=function(){me(this.g,"b")},dt.prototype.createWebChannel=dt.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,b4=function(){return new dt},_4=function(){return Ur()},v4=xe,h2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Jm=Yi,Di.COMPLETE="complete",y4=Di,Hn.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",_e.prototype.listen=_e.prototype.K,pp=Hn,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,m4=nn}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore",US="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new lg("@firebase/firestore");function Lf(){return jh.logLevel}function ue(n,...t){if(jh.logLevel<=ln.DEBUG){const e=t.map(x_);jh.debug(`Firestore (${fd}): ${n}`,...e)}}function Ec(n,...t){if(jh.logLevel<=ln.ERROR){const e=t.map(x_);jh.error(`Firestore (${fd}): ${n}`,...e)}}function Zf(n,...t){if(jh.logLevel<=ln.WARN){const e=t.map(x_);jh.warn(`Firestore (${fd}): ${n}`,...e)}}function x_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,w4(n,i,e)}function w4(n,t,e){let i=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ec(i),new Error(i)}function Mn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||w4(t,r,i)}function He(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ja{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(as.UNAUTHENTICATED))}shutdown(){}}class pD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class gD{constructor(t){this.t=t,this.currentUser=as.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Mn(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,e(u)):Promise.resolve();let s=new Sc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sc,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sc)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mn(typeof i.accessToken=="string",31837,{l:i}),new S4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mn(t===null||typeof t=="string",2055,{h:t}),new as(t)}}class mD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=as.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new mD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(as.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ts(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Mn(this.o===void 0,3512);const i=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=_D(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function en(n,t){return n<t?-1:n>t?1:0}function f2(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return en(i,r);{const s=A4(),o=bD(s.encode(qS(n,e)),s.encode(qS(t,e)));return o!==0?o:en(i,r)}}e+=i>65535?2:1}return en(n.length,t.length)}function qS(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function bD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return en(n[e],t[e]);return en(n.length,t.length)}function td(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=-62135596800,GS=1e6;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(t){return fr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*GS);return new fr(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new he($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new he($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<HS)throw new he($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GS}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-HS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(t){return new ze(t)}static min(){return new ze(new fr(0,0))}static max(){return new ze(new fr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="__name__";class _l{constructor(t,e,i){e===void 0?e=0:e>t.length&&je(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&je(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return _l.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _l?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=_l.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return en(t.length,e.length)}static compareSegments(t,e){const i=_l.isNumericId(t),r=_l.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?_l.extractNumericId(t).compare(_l.extractNumericId(e)):f2(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lu.fromString(t.substring(4,t.length-2))}}class ai extends _l{construct(t,e,i){return new ai(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new he($t.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ai(e)}static emptyPath(){return new ai([])}}const wD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends _l{construct(t,e,i){return new Fr(t,e,i)}static isValidIdentifier(t){return wD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new Fr([WS])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new he($t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if(c==="\\"){if(r+1===t.length)throw new he($t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new he($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new he($t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fr(e)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.path=t}static fromPath(t){return new Ne(ai.fromString(t))}static fromName(t){return new Ne(ai.fromString(t).popFirst(5))}static empty(){return new Ne(ai.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ai.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ai.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ne(new ai(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function SD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(i===1e9?new fr(e+1,0):new fr(e,i));return new Mu(r,Ne.empty(),t)}function AD(n){return new Mu(n.readTime,n.key,zp)}class Mu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Mu(ze.min(),Ne.empty(),zp)}static max(){return new Mu(ze.max(),Ne.empty(),zp)}}function TD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ne.comparator(n.documentKey,t.documentKey),e!==0?e:en(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ED{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n){if(n.code!==$t.FAILED_PRECONDITION||n.message!==xD)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Wt?e:Wt.resolve(e)}catch(e){return Wt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Wt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Wt.reject(e)}static resolve(t){return new Wt((e,i)=>{e(t)})}static reject(t){return new Wt((e,i)=>{i(t)})}static waitFor(t){return new Wt((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=Wt.resolve(!1);for(const i of t)e=e.next(r=>r?Wt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Wt((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(p=>{o[f]=p,++c,c===s&&i(o)},p=>r(p))}})}static doWhile(t,e){return new Wt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function ND(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function pd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}r1.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-1;function s1(n){return n==null}function T0(n){return n===0&&1/n==-1/0}function ID(n){return typeof n=="number"&&Number.isInteger(n)&&!T0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="";function CD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=$S(t)),t=RD(n.get(e),t);return $S(t)}function RD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case x4:e+="";break;default:e+=s}}return e}function $S(n){return n+x4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ku(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function E4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,e){this.comparator=t,this.root=e||jr.EMPTY}insert(t,e){return new wi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(t){return new wi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wm(this.root,t,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wm(this.root,t,this.comparator,!0)}}class wm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??jr.RED,this.left=r??jr.EMPTY,this.right=s??jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new jr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw je(27949);return t+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new jr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this.comparator=t,this.data=new wi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new KS(this.data.getIterator())}getIteratorFrom(t){return new KS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof dr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new dr(this.comparator);return e.data=t,e}}class KS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t){this.fields=t,t.sort(Fr.comparator)}static empty(){return new _a([])}unionWith(t){let e=new dr(Fr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _a(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return td(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N4("Invalid base64 string: "+s):s}}(t);return new Vr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ou(n){if(Mn(!!n,39018),typeof n=="string"){let t=0;const e=LD.exec(n);if(Mn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qi(n.seconds),nanos:qi(n.nanos)}}function qi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ju(n){return typeof n=="string"?Vr.fromBase64String(n):Vr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="server_timestamp",C4="__type__",R4="__previous_value__",L4="__local_write_time__";function N_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[C4])===null||e===void 0?void 0:e.stringValue)===I4}function a1(n){const t=n.mapValue.fields[R4];return N_(t)?a1(t):t}function qp(n){const t=Ou(n.mapValue.fields[L4].timestampValue);return new fr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,e,i,r,s,o,c,u,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const x0="(default)";class Hp{constructor(t,e){this.projectId=t,this.database=e||x0}static empty(){return new Hp("","")}get isDefaultDatabase(){return this.database===x0}isEqual(t){return t instanceof Hp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="__type__",kD="__max__",Sm={mapValue:{}},k4="__vector__",E0="value";function Fu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?N_(n)?4:MD(n)?9007199254740991:DD(n)?10:11:je(28295,{value:n})}function Il(n,t){if(n===t)return!0;const e=Fu(n);if(e!==Fu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qp(n).isEqual(qp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ou(r.timestampValue),c=Ou(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return ju(r.bytesValue).isEqual(ju(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return qi(r.geoPointValue.latitude)===qi(s.geoPointValue.latitude)&&qi(r.geoPointValue.longitude)===qi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return qi(r.integerValue)===qi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=qi(r.doubleValue),c=qi(s.doubleValue);return o===c?T0(o)===T0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return td(n.arrayValue.values||[],t.arrayValue.values||[],Il);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(YS(o)!==YS(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Il(o[u],c[u])))return!1;return!0}(n,t);default:return je(52216,{left:n})}}function Gp(n,t){return(n.values||[]).find(e=>Il(e,t))!==void 0}function ed(n,t){if(n===t)return 0;const e=Fu(n),i=Fu(t);if(e!==i)return en(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=qi(s.integerValue||s.doubleValue),u=qi(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return XS(n.timestampValue,t.timestampValue);case 4:return XS(qp(n),qp(t));case 5:return f2(n.stringValue,t.stringValue);case 6:return function(s,o){const c=ju(s),u=ju(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=en(c[f],u[f]);if(p!==0)return p}return en(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=en(qi(s.latitude),qi(o.latitude));return c!==0?c:en(qi(s.longitude),qi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return QS(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,u,f,p;const y=s.fields||{},b=o.fields||{},_=(c=y[E0])===null||c===void 0?void 0:c.arrayValue,E=(u=b[E0])===null||u===void 0?void 0:u.arrayValue,N=en(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:QS(_,E)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Sm.mapValue&&o===Sm.mapValue)return 0;if(s===Sm.mapValue)return 1;if(o===Sm.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const b=f2(u[y],p[y]);if(b!==0)return b;const _=ed(c[u[y]],f[p[y]]);if(_!==0)return _}return en(u.length,p.length)}(n.mapValue,t.mapValue);default:throw je(23264,{Pe:e})}}function XS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return en(n,t);const e=Ou(n),i=Ou(t),r=en(e.seconds,i.seconds);return r!==0?r:en(e.nanos,i.nanos)}function QS(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=ed(e[r],i[r]);if(s)return s}return en(e.length,i.length)}function nd(n){return d2(n)}function d2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ou(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ju(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ne.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=d2(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${d2(e.fields[o])}`;return r+"}"}(n.mapValue):je(61005,{value:n})}function Zm(n){switch(Fu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=a1(n);return t?16+Zm(t):16;case 5:return 2*n.stringValue.length;case 6:return ju(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Zm(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ku(i.fields,(s,o)=>{r+=s.length+Zm(o)}),r}(n.mapValue);default:throw je(13486,{value:n})}}function JS(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function p2(n){return!!n&&"integerValue"in n}function I_(n){return!!n&&"arrayValue"in n}function ZS(n){return!!n&&"nullValue"in n}function tA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function t0(n){return!!n&&"mapValue"in n}function DD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[P4])===null||e===void 0?void 0:e.stringValue)===k4}function Tp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ku(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Tp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function MD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.value=t}static empty(){return new Hs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!t0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tp(e)}setAll(t){let e=Fr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Tp(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());t0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Il(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];t0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ku(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Hs(Tp(this.value))}}function D4(n){const t=[];return Ku(n.fields,(e,i)=>{const r=new Fr([e]);if(t0(i)){const s=D4(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new _a(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new ls(t,0,ze.min(),ze.min(),ze.min(),Hs.empty(),0)}static newFoundDocument(t,e,i,r){return new ls(t,1,e,ze.min(),i,r,0)}static newNoDocument(t,e){return new ls(t,2,e,ze.min(),ze.min(),Hs.empty(),0)}static newUnknownDocument(t,e){return new ls(t,3,e,ze.min(),ze.min(),Hs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ls&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,e){this.position=t,this.inclusive=e}}function eA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=Ne.comparator(Ne.fromName(o.referenceValue),e.key):i=ed(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function nA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Il(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,e="asc"){this.field=t,this.dir=e}}function OD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{}class er extends M4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new FD(t,e,i):e==="array-contains"?new UD(t,i):e==="in"?new zD(t,i):e==="not-in"?new qD(t,i):e==="array-contains-any"?new HD(t,i):new er(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new VD(t,i):new BD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ed(e,this.value)):e!==null&&Fu(this.value)===Fu(e)&&this.matchesComparison(ed(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Do extends M4{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Do(t,e)}matches(t){return O4(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O4(n){return n.op==="and"}function j4(n){return jD(n)&&O4(n)}function jD(n){for(const t of n.filters)if(t instanceof Do)return!1;return!0}function g2(n){if(n instanceof er)return n.field.canonicalString()+n.op.toString()+nd(n.value);if(j4(n))return n.filters.map(t=>g2(t)).join(",");{const t=n.filters.map(e=>g2(e)).join(",");return`${n.op}(${t})`}}function F4(n,t){return n instanceof er?function(i,r){return r instanceof er&&i.op===r.op&&i.field.isEqual(r.field)&&Il(i.value,r.value)}(n,t):n instanceof Do?function(i,r){return r instanceof Do&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&F4(o,r.filters[c]),!0):!1}(n,t):void je(19439)}function V4(n){return n instanceof er?function(e){return`${e.field.canonicalString()} ${e.op} ${nd(e.value)}`}(n):n instanceof Do?function(e){return e.op.toString()+" {"+e.getFilters().map(V4).join(" ,")+"}"}(n):"Filter"}class FD extends er{constructor(t,e,i){super(t,e,i),this.key=Ne.fromName(i.referenceValue)}matches(t){const e=Ne.comparator(t.key,this.key);return this.matchesComparison(e)}}class VD extends er{constructor(t,e){super(t,"in",e),this.keys=B4("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class BD extends er{constructor(t,e){super(t,"not-in",e),this.keys=B4("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function B4(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class UD extends er{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return I_(e)&&Gp(e.arrayValue,this.value)}}class zD extends er{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gp(this.value.arrayValue,e)}}class qD extends er{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gp(this.value.arrayValue,e)}}class HD extends er{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!I_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Ie=null}}function iA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new GD(n,t,e,i,r,s,o)}function C_(n){const t=He(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>g2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),s1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>nd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>nd(i)).join(",")),t.Ie=e}return t.Ie}function R_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!OD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!F4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nA(n.startAt,t.startAt)&&nA(n.endAt,t.endAt)}function m2(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WD(n,t,e,i,r,s,o,c){return new dg(n,t,e,i,r,s,o,c)}function o1(n){return new dg(n)}function rA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function U4(n){return n.collectionGroup!==null}function xp(n){const t=He(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new dr(Fr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new I0(s,i))}),e.has(Fr.keyField().canonicalString())||t.Ee.push(new I0(Fr.keyField(),i))}return t.Ee}function Tl(n){const t=He(n);return t.de||(t.de=$D(t,xp(n))),t.de}function $D(n,t){if(n.limitType==="F")return iA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new I0(r.field,s)});const e=n.endAt?new N0(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new N0(n.startAt.position,n.startAt.inclusive):null;return iA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function y2(n,t){const e=n.filters.concat([t]);return new dg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function v2(n,t,e){return new dg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function l1(n,t){return R_(Tl(n),Tl(t))&&n.limitType===t.limitType}function z4(n){return`${C_(Tl(n))}|lt:${n.limitType}`}function Pf(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>V4(r)).join(", ")}]`),s1(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>nd(r)).join(",")),`Target(${i})`}(Tl(n))}; limitType=${n.limitType})`}function c1(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ne.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of xp(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,c,u){const f=eA(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,xp(i),r)||i.endAt&&!function(o,c,u){const f=eA(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,xp(i),r))}(n,t)}function YD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q4(n){return(t,e)=>{let i=!1;for(const r of xp(n)){const s=KD(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function KD(n,t,e){const i=n.field.isKeyField()?Ne.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return u!==null&&f!==null?ed(u,f):je(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ku(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return E4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new wi(Ne.comparator);function Nc(){return XD}const H4=new wi(Ne.comparator);function gp(...n){let t=H4;for(const e of n)t=t.insert(e.key,e);return t}function G4(n){let t=H4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ih(){return Ep()}function W4(){return Ep()}function Ep(){return new Gh(n=>n.toString(),(n,t)=>n.isEqual(t))}const QD=new wi(Ne.comparator),JD=new dr(Ne.comparator);function hn(...n){let t=JD;for(const e of n)t=t.add(e);return t}const ZD=new dr(en);function tM(){return ZD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T0(t)?"-0":t}}function $4(n){return{integerValue:""+n}}function eM(n,t){return ID(t)?$4(t):L_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this._=void 0}}function nM(n,t,e){return n instanceof Wp?function(r,s){const o={fields:{[C4]:{stringValue:I4},[L4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&N_(s)&&(s=a1(s)),s&&(o.fields[R4]=s),{mapValue:o}}(e,t):n instanceof $p?K4(n,t):n instanceof Yp?X4(n,t):function(r,s){const o=Y4(r,s),c=sA(o)+sA(r.Re);return p2(o)&&p2(r.Re)?$4(c):L_(r.serializer,c)}(n,t)}function iM(n,t,e){return n instanceof $p?K4(n,t):n instanceof Yp?X4(n,t):e}function Y4(n,t){return n instanceof C0?function(i){return p2(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Wp extends u1{}class $p extends u1{constructor(t){super(),this.elements=t}}function K4(n,t){const e=Q4(t);for(const i of n.elements)e.some(r=>Il(r,i))||e.push(i);return{arrayValue:{values:e}}}class Yp extends u1{constructor(t){super(),this.elements=t}}function X4(n,t){let e=Q4(t);for(const i of n.elements)e=e.filter(r=>!Il(r,i));return{arrayValue:{values:e}}}class C0 extends u1{constructor(t,e){super(),this.serializer=t,this.Re=e}}function sA(n){return qi(n.integerValue||n.doubleValue)}function Q4(n){return I_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t,e){this.field=t,this.transform=e}}function sM(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof $p&&r instanceof $p||i instanceof Yp&&r instanceof Yp?td(i.elements,r.elements,Il):i instanceof C0&&r instanceof C0?Il(i.Re,r.Re):i instanceof Wp&&r instanceof Wp}(n.transform,t.transform)}class aM{constructor(t,e){this.version=t,this.transformResults=e}}class Ka{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ka}static exists(t){return new Ka(void 0,t)}static updateTime(t){return new Ka(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function e0(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class h1{}function J4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new P_(n.key,Ka.none()):new pg(n.key,n.data,Ka.none());{const e=n.data,i=Hs.empty();let r=new dr(Fr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Xu(n.key,i,new _a(r.toArray()),Ka.none())}}function oM(n,t,e){n instanceof pg?function(r,s,o){const c=r.value.clone(),u=oA(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Xu?function(r,s,o){if(!e0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=oA(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Z4(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Np(n,t,e,i){return n instanceof pg?function(s,o,c,u){if(!e0(s.precondition,o))return c;const f=s.value.clone(),p=lA(s.fieldTransforms,u,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Xu?function(s,o,c,u){if(!e0(s.precondition,o))return c;const f=lA(s.fieldTransforms,u,o),p=o.data;return p.setAll(Z4(s)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(s,o,c){return e0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function lM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=Y4(i.transform,r||null);s!=null&&(e===null&&(e=Hs.empty()),e.set(i.field,s))}return e||null}function aA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&td(i,r,(s,o)=>sM(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class pg extends h1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xu extends h1{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Z4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function oA(n,t,e){const i=new Map;Mn(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,iM(o,c,e[r]))}return i}function lA(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,nM(s,o,t))}return i}class P_ extends h1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cM extends h1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&oM(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Np(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Np(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=W4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=J4(o,c);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&td(this.mutations,t.mutations,(e,i)=>aA(e,i))&&td(this.baseMutations,t.baseMutations,(e,i)=>aA(e,i))}}class k_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mn(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return QD}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new k_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,vn;function dM(n){switch(n){case $t.OK:return je(64938);case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0;default:return je(15467,{code:n})}}function t3(n){if(n===void 0)return Ec("GRPC error has no .code"),$t.UNKNOWN;switch(n){case tr.OK:return $t.OK;case tr.CANCELLED:return $t.CANCELLED;case tr.UNKNOWN:return $t.UNKNOWN;case tr.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case tr.INTERNAL:return $t.INTERNAL;case tr.UNAVAILABLE:return $t.UNAVAILABLE;case tr.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case tr.NOT_FOUND:return $t.NOT_FOUND;case tr.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case tr.ABORTED:return $t.ABORTED;case tr.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case tr.DATA_LOSS:return $t.DATA_LOSS;default:return je(39323,{code:n})}}(vn=tr||(tr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Lu([4294967295,4294967295],0);function cA(n){const t=A4().encode(n),e=new g4;return e.update(t),new Uint8Array(e.digest())}function uA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Lu([e,i],0),new Lu([r,s],0)]}class D_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new mp(`Invalid padding: ${e}`);if(i<0)throw new mp(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new mp(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new mp(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Lu.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(Lu.fromNumber(i)));return r.compare(pM)===1&&(r=new Lu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=cA(t),[i,r]=uA(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.be(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new D_(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(this.pe===0)return;const e=cA(t),[i,r]=uA(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class mp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,gg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new f1(ze.min(),r,new wi(en),Nc(),hn())}}class gg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new gg(i,e,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class e3{constructor(t,e){this.targetId=t,this.Ce=e}}class n3{constructor(t,e,i=Vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class hA{constructor(){this.Fe=0,this.Me=fA(),this.xe=Vr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=hn(),e=hn(),i=hn();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:je(38017,{changeType:s})}}),new gg(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=fA()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gM{constructor(t){this.ze=t,this.je=new Map,this.He=Nc(),this.Je=Am(),this.Ye=Am(),this.Ze=new wi(en)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:je(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const s=r.target;if(m2(s))if(i===0){const o=new Ne(s.path);this.tt(e,o,ls.newNoDocument(o,ze.min()))}else Mn(i===1,20013,{expectedCount:i});else{const o=this.ut(e);if(o!==i){const c=this.ct(t),u=c?this.lt(c,t,o):1;if(u!==0){this.st(e);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,f)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=ju(i).toUint8Array()}catch(u){if(u instanceof N4)return Zf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new D_(o,r,s)}catch(u){return Zf(u instanceof mp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,s,null),r++)}),r}It(t){const e=new Map;this.je.forEach((s,o)=>{const c=this._t(o);if(c){if(s.current&&m2(c.target)){const u=new Ne(c.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ls.newNoDocument(u,t))}s.Le&&(e.set(o,s.qe()),s.Qe())}});let i=hn();this.Ye.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const r=new f1(t,e,this.Ze,this.He,i);return this.He=Nc(),this.Je=Am(),this.Ye=Am(),this.Ze=new wi(en),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new hA,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new dr(en),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new dr(en),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new hA),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Am(){return new wi(Ne.comparator)}function fA(){return new wi(Ne.comparator)}const mM={asc:"ASCENDING",desc:"DESCENDING"},yM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vM={and:"AND",or:"OR"};class _M{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _2(n,t){return n.useProto3Json||s1(t)?t:{value:t}}function R0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function i3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function bM(n,t){return R0(n,t.toTimestamp())}function xl(n){return Mn(!!n,49232),ze.fromTimestamp(function(e){const i=Ou(e);return new fr(i.seconds,i.nanos)}(n))}function M_(n,t){return b2(n,t).canonicalString()}function b2(n,t){const e=function(r){return new ai(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function r3(n){const t=ai.fromString(n);return Mn(c3(t),10190,{key:t.toString()}),t}function w2(n,t){return M_(n.databaseId,t.path)}function cv(n,t){const e=r3(t);if(e.get(1)!==n.databaseId.projectId)throw new he($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new he($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ne(a3(e))}function s3(n,t){return M_(n.databaseId,t)}function wM(n){const t=r3(n);return t.length===4?ai.emptyPath():a3(t)}function S2(n){return new ai(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a3(n){return Mn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dA(n,t,e){return{name:w2(n,t),fields:e.value.mapValue.fields}}function SM(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(Mn(p===void 0||typeof p=="string",58123),Vr.fromBase64String(p||"")):(Mn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vr.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const p=f.code===void 0?$t.UNKNOWN:t3(f.code);return new he(p,f.message||"")}(o);e=new n3(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=cv(n,i.document.name),s=xl(i.document.updateTime),o=i.document.createTime?xl(i.document.createTime):ze.min(),c=new Hs({mapValue:{fields:i.document.fields}}),u=ls.newFoundDocument(r,s,o,c),f=i.targetIds||[],p=i.removedTargetIds||[];e=new n0(f,p,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=cv(n,i.document),s=i.readTime?xl(i.readTime):ze.min(),o=ls.newNoDocument(r,s),c=i.removedTargetIds||[];e=new n0([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=cv(n,i.document),s=i.removedTargetIds||[];e=new n0([],s,r,null)}else{if(!("filter"in t))return je(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new fM(r,s),c=i.targetId;e=new e3(c,o)}}return e}function AM(n,t){let e;if(t instanceof pg)e={update:dA(n,t.key,t.value)};else if(t instanceof P_)e={delete:w2(n,t.key)};else if(t instanceof Xu)e={update:dA(n,t.key,t.data),updateMask:PM(t.fieldMask)};else{if(!(t instanceof cM))return je(16599,{ft:t.type});e={verify:w2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof Wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $p)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Yp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof C0)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw je(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:bM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:je(27497)}(n,t.precondition)),e}function TM(n,t){return n&&n.length>0?(Mn(t!==void 0,14353),n.map(e=>function(r,s){let o=r.updateTime?xl(r.updateTime):xl(s);return o.isEqual(ze.min())&&(o=xl(s)),new aM(o,r.transformResults||[])}(e,t))):[]}function xM(n,t){return{documents:[s3(n,t.path)]}}function EM(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=s3(n,r);const s=function(f){if(f.length!==0)return l3(Do.create(f,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:kf(b.field),direction:CM(b.dir)}}(p))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=_2(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:e,parent:r}}function NM(n){let t=wM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mn(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=function(y){const b=o3(y);return b instanceof Do&&j4(b)?b.getFilters():[b]}(e.where));let o=[];e.orderBy&&(o=function(y){return y.map(b=>function(E){return new I0(Df(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(e.orderBy));let c=null;e.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,s1(b)?null:b}(e.limit));let u=null;e.startAt&&(u=function(y){const b=!!y.before,_=y.values||[];return new N0(_,b)}(e.startAt));let f=null;return e.endAt&&(f=function(y){const b=!y.before,_=y.values||[];return new N0(_,b)}(e.endAt)),WD(t,r,o,s,c,"F",u,f)}function IM(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function o3(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Df(e.unaryFilter.field);return er.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Df(e.unaryFilter.field);return er.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Df(e.unaryFilter.field);return er.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Df(e.unaryFilter.field);return er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(n):n.fieldFilter!==void 0?function(e){return er.create(Df(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Do.create(e.compositeFilter.filters.map(i=>o3(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(e.compositeFilter.op))}(n):je(30097,{filter:n})}function CM(n){return mM[n]}function RM(n){return yM[n]}function LM(n){return vM[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Df(n){return Fr.fromServerFormat(n.fieldPath)}function l3(n){return n instanceof er?function(e){if(e.op==="=="){if(tA(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NAN"}};if(ZS(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(tA(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NAN"}};if(ZS(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(e.field),op:RM(e.op),value:e.value}}}(n):n instanceof Do?function(e){const i=e.getFilters().map(r=>l3(r));return i.length===1?i[0]:{compositeFilter:{op:LM(e.op),filters:i}}}(n):je(54877,{filter:n})}function PM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function c3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,e,i,r,s=ze.min(),o=ze.min(),c=Vr.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new xu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.wt=t}}function DM(n){const t=NM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?v2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.Cn=new OM}addToCollectionParentIndex(t,e){return this.Cn.add(e),Wt.resolve()}getCollectionParents(t,e){return Wt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Wt.resolve()}deleteFieldIndex(t,e){return Wt.resolve()}deleteAllFieldIndexes(t){return Wt.resolve()}createTargetIndexes(t,e){return Wt.resolve()}getDocumentsMatchingTarget(t,e){return Wt.resolve(null)}getIndexType(t,e){return Wt.resolve(0)}getFieldIndexes(t,e){return Wt.resolve([])}getNextCollectionGroupToUpdate(t){return Wt.resolve(null)}getMinOffset(t,e){return Wt.resolve(Mu.min())}getMinOffsetFromCollectionGroup(t,e){return Wt.resolve(Mu.min())}updateCollectionGroup(t,e,i){return Wt.resolve()}updateIndexEntries(t,e){return Wt.resolve()}}class OM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new dr(ai.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new dr(ai.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u3=41943040;class qs{static withCacheSize(t){return new qs(t,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(u3,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new id(0)}static lr(){return new id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="LruGarbageCollector",jM=1048576;function mA([n,t],[e,i]){const r=en(n,e);return r===0?en(t,i):r}class FM{constructor(t){this.Er=t,this.buffer=new dr(mA),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mA(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class VM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ue(gA,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pd(e)?ue(gA,"Ignoring IndexedDB error during garbage collection: ",e):await dd(e)}await this.mr(3e5)})}}class BM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Wt.resolve(r1.le);const i=new FM(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(pA)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pA):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,s,o,c,u,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,o=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,e))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),Lf()<=ln.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${y} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})))}}function UM(n,t){return new BM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.changes=new Gh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ls.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Wt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Np(i.mutation,r,_a.empty(),fr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=Ih();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=gp();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Ih();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=Nc();const o=Ep(),c=function(){return Ep()}();return e.forEach((u,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Xu)?s=s.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Np(p.mutation,f,p.mutation.getFieldMask(),fr.now())):o.set(f.key,_a.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,p)=>o.set(f,p)),e.forEach((f,p)=>{var y;return c.set(f,new qM(p,(y=o.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,e){const i=Ep();let r=new wi((o,c)=>o-c),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(f===null)return;let p=i.get(u)||_a.empty();p=c.applyToLocalView(f,p),i.set(u,p);const y=(r.get(c.batchId)||hn()).add(u);r=r.insert(c.batchId,y)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,y=W4();p.forEach(b=>{if(!s.has(b)){const _=J4(e.get(b),i.get(b));_!==null&&y.set(b,_),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,y))}return Wt.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):U4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Wt.resolve(Ih());let c=zp,u=s;return o.next(f=>Wt.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?Wt.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{u=u.insert(p,b)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,hn())).next(p=>({batchId:c,changes:G4(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ne(e)).next(i=>{let r=gp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=gp();return this.indexManager.getCollectionParents(t,s).next(c=>Wt.forEach(c,u=>{const f=function(y,b){return new dg(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(p=>{p.forEach((y,b)=>{o=o.insert(y,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,ls.newInvalidDocument(p)))});let c=gp();return o.forEach((u,f)=>{const p=s.get(u);p!==void 0&&Np(p.mutation,f,_a.empty(),fr.now()),c1(e,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return Wt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:xl(r.createTime)}}(e)),Wt.resolve()}getNamedQuery(t,e){return Wt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:DM(r.bundledQuery),readTime:xl(r.readTime)}}(e)),Wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.overlays=new wi(Ne.comparator),this.Qr=new Map}getOverlay(t,e){return Wt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ih();return Wt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.St(t,e,s)}),Wt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),Wt.resolve()}getOverlaysForCollection(t,e,i){const r=Ih(),s=e.length+1,o=new Ne(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Wt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new wi((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=Ih(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Ih(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=r)););return Wt.resolve(c)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new hM(e,i));let s=this.Qr.get(e);s===void 0&&(s=hn(),this.Qr.set(e,s)),this.Qr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(t){return Wt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.$r=new dr(xr.Ur),this.Kr=new dr(xr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new xr(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new xr(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Ne(new ai([])),i=new xr(e,t),r=new xr(e,t+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ne(new ai([])),i=new xr(e,t),r=new xr(e,t+1);let s=hn();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new xr(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class xr{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ne.comparator(t.key,e.key)||en(t.Zr,e.Zr)}static Wr(t,e){return en(t.Zr,e.Zr)||Ne.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new dr(xr.Ur)}checkEmpty(t){return Wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uM(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.Xr=this.Xr.add(new xr(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Wt.resolve(o)}lookupMutationBatch(t,e){return Wt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),s=r<0?0:r;return Wt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(this.mutationQueue.length===0?E_:this.nr-1)}getAllMutationBatches(t){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new xr(e,0),r=new xr(e,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const c=this.ei(o.Zr);s.push(c)}),Wt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new dr(en);return e.forEach(r=>{const s=new xr(r,0),o=new xr(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],c=>{i=i.add(c.Zr)})}),Wt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ne.isDocumentKey(s)||(s=s.child(""));const o=new xr(new Ne(s),0);let c=new dr(en);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.Zr)),!0)},o),Wt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Mn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Wt.forEach(e.mutations,r=>{const s=new xr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new xr(e,0),r=this.Xr.firstAfterOrEqual(i);return Wt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.ii=t,this.docs=function(){return new wi(Ne.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Wt.resolve(i?i.document.mutableCopy():ls.newInvalidDocument(e))}getEntries(t,e){let i=Nc();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ls.newInvalidDocument(r))}),Wt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Nc();const o=e.path,c=new Ne(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||TD(AD(p),i)<=0||(r.has(p.key)||c1(e,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Wt.resolve(s)}getAllFromCollectionGroup(t,e,i,r){je(9500)}si(t,e){return Wt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new XM(this)}getSize(t){return Wt.resolve(this.size)}}class XM extends zM{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),Wt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.persistence=t,this.oi=new Gh(e=>C_(e),R_),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new O_,this.targetCount=0,this.ui=id.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),Wt.resolve()}getLastRemoteSnapshotVersion(t){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),Wt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new id(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,Wt.resolve()}updateTargetData(t,e){return this.Tr(e),Wt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Wt.waitFor(s).next(()=>r)}getTargetCount(t){return Wt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return Wt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),Wt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Wt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),Wt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return Wt.resolve(i)}containsKey(t,e){return Wt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(t,e){this.ci={},this.overlays={},this.li=new r1(0),this.hi=!1,this.hi=!0,this.Pi=new $M,this.referenceDelegate=t(this),this.Ti=new QM(this),this.indexManager=new MM,this.remoteDocumentCache=function(r){return new KM(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new kM(e),this.Ei=new GM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new WM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new YM(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){ue("MemoryPersistence","Starting transaction:",t);const r=new JM(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,e){return Wt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class JM extends ED{constructor(t){super(),this.currentSequenceNumber=t}}class j_{constructor(t){this.persistence=t,this.Vi=new O_,this.mi=null}static fi(t){return new j_(t)}get gi(){if(this.mi)return this.mi;throw je(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),Wt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),Wt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),Wt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.gi,i=>{const r=Ne.fromPath(i);return this.pi(t,r).next(s=>{s||e.removeEntry(r,ze.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return Wt.or([()=>Wt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class L0{constructor(t,e){this.persistence=t,this.yi=new Gh(i=>CD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=UM(this,e)}static fi(t,e){return new L0(t,e)}di(){}Ai(t){return Wt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return Wt.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?Wt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,o=>this.Dr(t,o,e).next(c=>{c||(i++,s.removeEntry(o,ze.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),Wt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Wt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),Wt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),Wt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Zm(t.data.value)),e}Dr(t,e,i){return Wt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return Wt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=hn(),r=hn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new F_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return IR()?8:ND(ps())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ws(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ZM;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.fs)return this.Ds(t,e,o,c.size)})}).next(()=>s.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(Lf()<=ln.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Pf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Wt.resolve()):(Lf()<=ln.DEBUG&&ue("QueryEngine","Query:",Pf(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Lf()<=ln.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Pf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tl(e))):Wt.resolve())}ws(t,e){if(rA(e))return Wt.resolve(null);let i=Tl(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=v2(e,null,"F"),i=Tl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=hn(...s);return this.ys.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.vs(e,c);return this.Cs(e,f,o,u.readTime)?this.ws(t,v2(e,null,"F")):this.Fs(t,f,e,u)}))})))}bs(t,e,i,r){return rA(e)||r.isEqual(ze.min())?Wt.resolve(null):this.ys.getDocuments(t,i).next(s=>{const o=this.vs(e,s);return this.Cs(e,o,i,r)?Wt.resolve(null):(Lf()<=ln.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pf(e)),this.Fs(t,o,e,SD(r,zp)).next(c=>c))})}vs(t,e){let i=new dr(q4(t));return e.forEach((r,s)=>{c1(t,s)&&(i=i.add(s))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,e,i){return Lf()<=ln.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Pf(e)),this.ys.getDocumentsMatchingQuery(t,e,Mu.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LocalStore",eO=3e8;class nO{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new wi(en),this.Os=new Gh(s=>C_(s),R_),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function iO(n,t,e,i){return new nO(n,t,e,i)}async function f3(n,t){const e=He(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=hn();for(const f of r){o.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return e.localDocuments.getDocuments(i,u).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:c}))})})}function rO(n,t){const e=He(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const y=f.batch,b=y.keys();let _=Wt.resolve();return b.forEach(E=>{_=_.next(()=>p.getEntry(u,E)).next(N=>{const C=f.docVersions.get(E);Mn(C!==null,48541),N.version.compareTo(C)<0&&(y.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),p.addEntry(N)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,y))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=hn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function d3(n){const t=He(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function sO(n,t){const e=He(n),i=t.snapshotVersion;let r=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Bs.newChangeBuffer({trackRemovals:!0});r=e.xs;const c=[];t.targetChanges.forEach((p,y)=>{const b=r.get(y);if(!b)return;c.push(e.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(s,p.addedDocuments,y)));let _=b.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(y)!==null?_=_.withResumeToken(Vr.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),r=r.insert(y,_),function(N,C,I){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=eO?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(b,_,p)&&c.push(e.Ti.updateTargetData(s,_))});let u=Nc(),f=hn();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(aO(s,o,t.documentUpdates).next(p=>{u=p.qs,f=p.Qs})),!i.isEqual(ze.min())){const p=e.Ti.getLastRemoteSnapshotVersion(s).next(y=>e.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(p)}return Wt.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.xs=r,s))}function aO(n,t,e){let i=hn(),r=hn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Nc();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(ze.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):ue(V_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{qs:o,Qs:r}})}function oO(n,t){const e=He(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=E_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function lO(n,t){const e=He(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ti.getTargetData(i,t).next(s=>s?(r=s,Wt.resolve(r)):e.Ti.allocateTargetId(i).next(o=>(r=new xu(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function A2(n,t,e){const i=He(n),r=i.xs.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!pd(o))throw o;ue(V_,`Failed to update sequence numbers for target ${t}: ${o}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function yA(n,t,e){const i=He(n);let r=ze.min(),s=hn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,p){const y=He(u),b=y.Os.get(p);return b!==void 0?Wt.resolve(y.xs.get(b)):y.Ti.getTargetData(f,p)}(i,o,Tl(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,t,e?r:ze.min(),e?s:hn())).next(c=>(cO(i,YD(t),c),{documents:c,$s:s})))}function cO(n,t,e){let i=n.Ns.get(t)||ze.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(t,i)}class vA{constructor(){this.activeTargetIds=tM()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uO{constructor(){this.xo=new vA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new vA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="ConnectivityMonitor";class bA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(_A,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ue(_A,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function T2(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="RestConnection",fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dO{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===x0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,s){const o=T2(),c=this.jo(t,e.toUriEncodedString());ue(uv,`Sending RPC '${t}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:f}=new URL(c),p=Yu(f);return this.Jo(t,c,u,i,p).then(y=>(ue(uv,`Received RPC '${t}' ${o}: `,y),y),y=>{throw Zf(uv,`RPC '${t}' ${o} failed with error: `,y,"url: ",c,"request:",i),y})}Yo(t,e,i,r,s,o){return this.zo(t,e,i,r,s)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,e){const i=fO[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class gO extends dO{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,s){const o=T2();return new Promise((c,u)=>{const f=new m4;f.setWithCredentials(!0),f.listenOnce(y4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Jm.NO_ERROR:const y=f.getResponseJson();ue(ts,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),c(y);break;case Jm.TIMEOUT:ue(ts,`RPC '${t}' ${o} timed out`),u(new he($t.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:const b=f.getStatus();if(ue(ts,`RPC '${t}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const N=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(M)>=0?M:$t.UNKNOWN}(E.status);u(new he(N,E.message))}else u(new he($t.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new he($t.UNAVAILABLE,"Connection failed."));break;default:je(9055,{h_:t,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{ue(ts,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(r);ue(ts,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",p,i,15)})}I_(t,e,i){const r=T2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=b4(),c=_4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const p=s.join("");ue(ts,`Creating RPC '${t}' stream ${r}: ${p}`,u);const y=o.createWebChannel(p,u);this.E_(y);let b=!1,_=!1;const E=new pO({Zo:C=>{_?ue(ts,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(b||(ue(ts,`Opening RPC '${t}' stream ${r} transport.`),y.open(),b=!0),ue(ts,`RPC '${t}' stream ${r} sending:`,C),y.send(C))},Xo:()=>y.close()}),N=(C,I,M)=>{C.listen(I,$=>{try{M($)}catch(nt){setTimeout(()=>{throw nt},0)}})};return N(y,pp.EventType.OPEN,()=>{_||(ue(ts,`RPC '${t}' stream ${r} transport opened.`),E.__())}),N(y,pp.EventType.CLOSE,()=>{_||(_=!0,ue(ts,`RPC '${t}' stream ${r} transport closed`),E.u_(),this.d_(y))}),N(y,pp.EventType.ERROR,C=>{_||(_=!0,Zf(ts,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),E.u_(new he($t.UNAVAILABLE,"The operation could not be completed")))}),N(y,pp.EventType.MESSAGE,C=>{var I;if(!_){const M=C.data[0];Mn(!!M,16349);const $=M,nt=($==null?void 0:$.error)||((I=$[0])===null||I===void 0?void 0:I.error);if(nt){ue(ts,`RPC '${t}' stream ${r} received error:`,nt);const et=nt.status;let pt=function(F){const z=tr[F];if(z!==void 0)return t3(z)}(et),q=nt.message;pt===void 0&&(pt=$t.INTERNAL,q="Unknown error status: "+et+" with message "+nt.message),_=!0,E.u_(new he(pt,q)),y.close()}else ue(ts,`RPC '${t}' stream ${r} received:`,M),E.c_(M)}}),N(c,v4.STAT_EVENT,C=>{C.stat===h2.PROXY?ue(ts,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===h2.NOPROXY&&ue(ts,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n){return new _M(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t,e,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,e-i);r>0&&ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="PersistentStream";class g3{constructor(t,e,i,r,s,o,c,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new p3(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===$t.RESOURCE_EXHAUSTED?(Ec(e.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===$t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===e&&this.z_(i,r)},i=>{t(()=>{const r=new he($t.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ue(wA,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(ue(wA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mO extends g3{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=SM(this.serializer,t),i=function(s){if(!("targetChange"in s))return ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?xl(o.readTime):ze.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=S2(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=m2(u)?{documents:xM(s,u)}:{query:EM(s,u).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=i3(s,o.resumeToken);const f=_2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(ze.min())>0){c.readTime=R0(s,o.snapshotVersion.toTimestamp());const f=_2(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=IM(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=S2(this.serializer),e.removeTarget=t,this.Q_(e)}}class yO extends g3{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Mn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Mn(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Mn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=TM(t.writeResults,t.commitTime),i=xl(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=S2(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>AM(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{}class _O extends vO{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new he($t.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(t,b2(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he($t.UNKNOWN,s.toString())})}Yo(t,e,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(t,b2(e,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he($t.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class bO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ec(e),this.ua=!1):ue("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="RemoteStore";class wO{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{i.enqueueAndForget(async()=>{Wh(this)&&(ue(Fh,"Restarting streams for network reachability change."),await async function(u){const f=He(u);f.da.add(4),await mg(f),f.Va.set("Unknown"),f.da.delete(4),await p1(f)}(this))})}),this.Va=new bO(i,r)}}async function p1(n){if(Wh(n))for(const t of n.Aa)await t(!0)}async function mg(n){for(const t of n.Aa)await t(!1)}function m3(n,t){const e=He(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),q_(e)?z_(e):gd(e).N_()&&U_(e,t))}function B_(n,t){const e=He(n),i=gd(e);e.Ea.delete(t),i.N_()&&y3(e,t),e.Ea.size===0&&(i.N_()?i.k_():Wh(e)&&e.Va.set("Unknown"))}function U_(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ze.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}gd(n).Z_(t)}function y3(n,t){n.ma.Ke(t),gd(n).X_(t)}function z_(n){n.ma=new gM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),gd(n).start(),n.Va.ca()}function q_(n){return Wh(n)&&!gd(n).O_()&&n.Ea.size>0}function Wh(n){return He(n).da.size===0}function v3(n){n.ma=void 0}async function SO(n){n.Va.set("Online")}async function AO(n){n.Ea.forEach((t,e)=>{U_(n,t)})}async function TO(n,t){v3(n),q_(n)?(n.Va.Pa(t),z_(n)):n.Va.set("Unknown")}async function xO(n,t,e){if(n.Va.set("Online"),t instanceof n3&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ea.delete(c),r.ma.removeTarget(c))}(n,t)}catch(i){ue(Fh,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await P0(n,i)}else if(t instanceof n0?n.ma.Xe(t):t instanceof e3?n.ma.ot(t):n.ma.nt(t),!e.isEqual(ze.min()))try{const i=await d3(n.localStore);e.compareTo(i)>=0&&await function(s,o){const c=s.ma.It(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ea.get(f);p&&s.Ea.set(f,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const p=s.Ea.get(u);if(!p)return;s.Ea.set(u,p.withResumeToken(Vr.EMPTY_BYTE_STRING,p.snapshotVersion)),y3(s,u);const y=new xu(p.target,u,f,p.sequenceNumber);U_(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){ue(Fh,"Failed to raise snapshot:",i),await P0(n,i)}}async function P0(n,t,e){if(!pd(t))throw t;n.da.add(1),await mg(n),n.Va.set("Offline"),e||(e=()=>d3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Fh,"Retrying IndexedDB access"),await e(),n.da.delete(1),await p1(n)})}function _3(n,t){return t().catch(e=>P0(n,e,t))}async function g1(n){const t=He(n),e=Vu(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:E_;for(;EO(t);)try{const r=await oO(t.localStore,i);if(r===null){t.Ia.length===0&&e.k_();break}i=r.batchId,NO(t,r)}catch(r){await P0(t,r)}b3(t)&&w3(t)}function EO(n){return Wh(n)&&n.Ia.length<10}function NO(n,t){n.Ia.push(t);const e=Vu(n);e.N_()&&e.ea&&e.ta(t.mutations)}function b3(n){return Wh(n)&&!Vu(n).O_()&&n.Ia.length>0}function w3(n){Vu(n).start()}async function IO(n){Vu(n).ia()}async function CO(n){const t=Vu(n);for(const e of n.Ia)t.ta(e.mutations)}async function RO(n,t,e){const i=n.Ia.shift(),r=k_.from(i,t,e);await _3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await g1(n)}async function LO(n,t){t&&Vu(n).ea&&await async function(i,r){if(function(o){return dM(o)&&o!==$t.ABORTED}(r.code)){const s=i.Ia.shift();Vu(i).L_(),await _3(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await g1(i)}}(n,t),b3(n)&&w3(n)}async function SA(n,t){const e=He(n);e.asyncQueue.verifyOperationInProgress(),ue(Fh,"RemoteStore received new credentials");const i=Wh(e);e.da.add(3),await mg(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await p1(e)}async function PO(n,t){const e=He(n);t?(e.da.delete(2),await p1(e)):t||(e.da.add(2),await mg(e),e.Va.set("Unknown"))}function gd(n){return n.fa||(n.fa=function(e,i,r){const s=He(e);return s.oa(),new mO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:SO.bind(null,n),n_:AO.bind(null,n),i_:TO.bind(null,n),Y_:xO.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),q_(n)?z_(n):n.Va.set("Unknown")):(await n.fa.stop(),v3(n))})),n.fa}function Vu(n){return n.ga||(n.ga=function(e,i,r){const s=He(e);return s.oa(),new yO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:IO.bind(null,n),i_:LO.bind(null,n),na:CO.bind(null,n),ra:RO.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await g1(n)):(await n.ga.stop(),n.Ia.length>0&&(ue(Fh,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new H_(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(n,t){if(Ec("AsyncQueue",`${t}: ${n}`),pd(n))return new he($t.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{static emptySet(t){return new qf(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ne.comparator(e.key,i.key):(e,i)=>Ne.comparator(e.key,i.key),this.keyedMap=gp(),this.sortedSet=new wi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof qf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new qf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.pa=new wi(Ne.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):je(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class rd{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new rd(t,e,qf.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&l1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class DO{constructor(){this.queries=TA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=He(e),s=r.queries;r.queries=TA(),s.forEach((o,c)=>{for(const u of c.Sa)u.onError(i)})})(this,new he($t.ABORTED,"Firestore shutting down"))}}function TA(){return new Gh(n=>z4(n),l1)}async function W_(n,t){const e=He(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new kO,i=t.va()?0:1);try{switch(i){case 0:s.ba=await e.onListen(r,!0);break;case 1:s.ba=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const c=G_(o,`Initialization of query '${Pf(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.Sa.push(t),t.Fa(e.onlineState),s.ba&&t.Ma(s.ba)&&Y_(e)}async function $_(n,t){const e=He(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function MO(n,t){const e=He(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const c of o.Sa)c.Ma(r)&&(i=!0);o.ba=r}}i&&Y_(e)}function OO(n,t,e){const i=He(n),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(e);i.queries.delete(t)}function Y_(n){n.Ca.forEach(t=>{t.next()})}var x2,xA;(xA=x2||(x2={})).xa="default",xA.Cache="cache";class K_{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new rd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=rd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==x2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t){this.key=t}}class A3{constructor(t){this.key=t}}class jO{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=hn(),this.mutatedKeys=hn(),this.Za=q4(t),this.Xa=new qf(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new AA,r=e?e.Xa:this.Xa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,y)=>{const b=r.get(p),_=c1(this.query,y)?y:null,E=!!b&&this.mutatedKeys.has(b.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;b&&_?b.data.isEqual(_.data)?E!==N&&(i.track({type:3,doc:_}),C=!0):this.ru(b,_)||(i.track({type:2,doc:_}),C=!0,(u&&this.Za(_,u)>0||f&&this.Za(_,f)<0)&&(c=!0)):!b&&_?(i.track({type:0,doc:_}),C=!0):b&&!_&&(i.track({type:1,doc:b}),C=!0,(u||f)&&(c=!0)),C&&(_?(o=o.add(_),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Xa:o,nu:i,Cs:c,mutatedKeys:s}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((p,y)=>function(_,E){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:C})}};return N(_)-N(E)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(i),r=r!=null&&r;const c=e&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,f=u!==this.Ja;return this.Ja=u,o.length!==0||f?{snapshot:new rd(this.query,t.Xa,s,o,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new AA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=hn(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new A3(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new S3(i))}),e}au(t){this.Ha=t.$s,this.Ya=hn();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return rd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const X_="SyncEngine";class FO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class VO{constructor(t){this.key=t,this.cu=!1}}class BO{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Gh(c=>z4(c),l1),this.Pu=new Map,this.Tu=new Set,this.Iu=new wi(Ne.comparator),this.Eu=new Map,this.du=new O_,this.Au={},this.Ru=new Map,this.Vu=id.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function UO(n,t,e=!0){const i=C3(n);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await T3(i,t,e,!0),r}async function zO(n,t){const e=C3(n);await T3(e,t,!0,!1)}async function T3(n,t,e,i){const r=await lO(n.localStore,Tl(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let c;return i&&(c=await qO(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&m3(n.remoteStore,r),c}async function qO(n,t,e,i,r){n.fu=(y,b,_)=>async function(N,C,I,M){let $=C.view.tu(I);$.Cs&&($=await yA(N.localStore,C.query,!1).then(({documents:q})=>C.view.tu(q,$)));const nt=M&&M.targetChanges.get(C.targetId),et=M&&M.targetMismatches.get(C.targetId)!=null,pt=C.view.applyChanges($,N.isPrimaryClient,nt,et);return NA(N,C.targetId,pt.ou),pt.snapshot}(n,y,b,_);const s=await yA(n.localStore,t,!0),o=new jO(t,s.$s),c=o.tu(s.documents),u=gg.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=o.applyChanges(c,n.isPrimaryClient,u);NA(n,e,f.ou);const p=new FO(t,e,o);return n.hu.set(t,p),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),f.snapshot}async function HO(n,t,e){const i=He(n),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(o=>!l1(o,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await A2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&B_(i.remoteStore,r.targetId),E2(i,r.targetId)}).catch(dd)):(E2(i,r.targetId),await A2(i.localStore,r.targetId,!0))}async function GO(n,t){const e=He(n),i=e.hu.get(t),r=e.Pu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),B_(e.remoteStore,i.targetId))}async function WO(n,t,e){const i=ZO(n);try{const r=await function(o,c){const u=He(o),f=fr.now(),p=c.reduce((_,E)=>_.add(E.key),hn());let y,b;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=Nc(),N=hn();return u.Bs.getEntries(_,p).next(C=>{E=C,E.forEach((I,M)=>{M.isValidDocument()||(N=N.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,E)).next(C=>{y=C;const I=[];for(const M of c){const $=lM(M,y.get(M.key).overlayedDocument);$!=null&&I.push(new Xu(M.key,$,D4($.value.mapValue),Ka.exists(!0)))}return u.mutationQueue.addMutationBatch(_,f,I,c)}).next(C=>{b=C;const I=C.applyToLocalDocumentSet(y,N);return u.documentOverlayCache.saveOverlays(_,C.batchId,I)})}).then(()=>({batchId:b.batchId,changes:G4(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Au[o.currentUser.toKey()];f||(f=new wi(en)),f=f.insert(c,u),o.Au[o.currentUser.toKey()]=f}(i,r.batchId,e),await yg(i,r.changes),await g1(i.remoteStore)}catch(r){const s=G_(r,"Failed to persist write");e.reject(s)}}async function x3(n,t){const e=He(n);try{const i=await sO(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Eu.get(s);o&&(Mn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?Mn(o.cu,14607):r.removedDocuments.size>0&&(Mn(o.cu,42227),o.cu=!1))}),await yg(e,i,t)}catch(i){await dd(i)}}function EA(n,t,e){const i=He(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.hu.forEach((s,o)=>{const c=o.view.Fa(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=He(o);u.onlineState=c;let f=!1;u.queries.forEach((p,y)=>{for(const b of y.Sa)b.Fa(c)&&(f=!0)}),f&&Y_(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $O(n,t,e){const i=He(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),s=r&&r.key;if(s){let o=new wi(Ne.comparator);o=o.insert(s,ls.newNoDocument(s,ze.min()));const c=hn().add(s),u=new f1(ze.min(),new Map,new wi(en),o,c);await x3(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),Q_(i)}else await A2(i.localStore,t,!1).then(()=>E2(i,t,e)).catch(dd)}async function YO(n,t){const e=He(n),i=t.batch.batchId;try{const r=await rO(e.localStore,t);N3(e,i,null),E3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await yg(e,r)}catch(r){await dd(r)}}async function KO(n,t,e){const i=He(n);try{const r=await function(o,c){const u=He(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(y=>(Mn(y!==null,37113),p=y.keys(),u.mutationQueue.removeMutationBatch(f,y))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,t);N3(i,t,e),E3(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await yg(i,r)}catch(r){await dd(r)}}function E3(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function N3(n,t,e){const i=He(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function E2(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||I3(n,i)})}function I3(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(B_(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),Q_(n))}function NA(n,t,e){for(const i of e)i instanceof S3?(n.du.addReference(i.key,t),XO(n,i)):i instanceof A3?(ue(X_,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||I3(n,i.key)):je(19791,{pu:i})}function XO(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(ue(X_,"New document in limbo: "+e),n.Tu.add(i),Q_(n))}function Q_(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new Ne(ai.fromString(t)),i=n.Vu.next();n.Eu.set(i,new VO(e)),n.Iu=n.Iu.insert(e,i),m3(n.remoteStore,new xu(Tl(o1(e.path)),i,"TargetPurposeLimboResolution",r1.le))}}async function yg(n,t,e){const i=He(n),r=[],s=[],o=[];i.hu.isEmpty()||(i.hu.forEach((c,u)=>{o.push(i.fu(u,t,e).then(f=>{var p;if((f||e)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(f){r.push(f);const y=F_.Rs(u.targetId,f);s.push(y)}}))}),await Promise.all(o),i.lu.Y_(r),await async function(u,f){const p=He(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Wt.forEach(f,b=>Wt.forEach(b.ds,_=>p.persistence.referenceDelegate.addReference(y,b.targetId,_)).next(()=>Wt.forEach(b.As,_=>p.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))}catch(y){if(!pd(y))throw y;ue(V_,"Failed to update sequence numbers: "+y)}for(const y of f){const b=y.targetId;if(!y.fromCache){const _=p.xs.get(b),E=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(b,N)}}}(i.localStore,s))}async function QO(n,t){const e=He(n);if(!e.currentUser.isEqual(t)){ue(X_,"User change. New user:",t.toKey());const i=await f3(e.localStore,t);e.currentUser=t,function(s,o){s.Ru.forEach(c=>{c.forEach(u=>{u.reject(new he($t.CANCELLED,o))})}),s.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await yg(e,i.ks)}}function JO(n,t){const e=He(n),i=e.Eu.get(t);if(i&&i.cu)return hn().add(i.key);{let r=hn();const s=e.Pu.get(t);if(!s)return r;for(const o of s){const c=e.hu.get(o);r=r.unionWith(c.view.eu)}return r}}function C3(n){const t=He(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=x3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$O.bind(null,t),t.lu.Y_=MO.bind(null,t.eventManager),t.lu.gu=OO.bind(null,t.eventManager),t}function ZO(n){const t=He(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,t),t}class k0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=d1(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return iO(this.persistence,new tO,t.initialUser,this.serializer)}Su(t){return new h3(j_.fi,this.serializer)}bu(t){return new uO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}k0.provider={build:()=>new k0};class t8 extends k0{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Mn(this.persistence.referenceDelegate instanceof L0,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new VM(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new h3(i=>L0.fi(i,e),this.serializer)}}class N2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await PO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DO}()}createDatastore(t){const e=d1(t.databaseInfo.databaseId),i=function(s){return new gO(s)}(t.databaseInfo);return function(s,o,c,u){return new _O(s,o,c,u)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,c){return new wO(i,r,s,o,c)}(this.localStore,this.datastore,t.asyncQueue,e=>EA(this.syncEngine,e,0),function(){return bA.C()?new bA:new hO}())}createSyncEngine(t,e){return function(r,s,o,c,u,f,p){const y=new BO(r,s,o,c,u,f);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=He(r);ue(Fh,"RemoteStore shutting down."),s.da.add(5),await mg(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}N2.provider={build:()=>new N2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ec("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="FirestoreClient";class e8{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=as.UNAUTHENTICATED,this.clientId=T4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ue(Bu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ue(Bu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=G_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function fv(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Bu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await f3(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function IA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await n8(n);ue(Bu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>SA(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>SA(t.remoteStore,r)),n._onlineComponents=t}async function n8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Bu,"Using user provided OfflineComponentProvider");try{await fv(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===$t.FAILED_PRECONDITION||r.code===$t.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Zf("Error using user provided cache. Falling back to memory cache: "+e),await fv(n,new k0)}}else ue(Bu,"Using default OfflineComponentProvider"),await fv(n,new t8(void 0));return n._offlineComponents}async function R3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Bu,"Using user provided OnlineComponentProvider"),await IA(n,n._uninitializedComponentsProvider._online)):(ue(Bu,"Using default OnlineComponentProvider"),await IA(n,new N2))),n._onlineComponents}function i8(n){return R3(n).then(t=>t.syncEngine)}async function D0(n){const t=await R3(n),e=t.eventManager;return e.onListen=UO.bind(null,t.syncEngine),e.onUnlisten=HO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=zO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=GO.bind(null,t.syncEngine),e}function r8(n,t,e={}){const i=new Sc;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,f){const p=new J_({next:b=>{p.xu(),o.enqueueAndForget(()=>$_(s,y));const _=b.docs.has(c);!_&&b.fromCache?f.reject(new he($t.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&u&&u.source==="server"?f.reject(new he($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),y=new K_(o1(c.path),p,{includeMetadataChanges:!0,Qa:!0});return W_(s,y)}(await D0(n),n.asyncQueue,t,e,i)),i.promise}function s8(n,t,e={}){const i=new Sc;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,f){const p=new J_({next:b=>{p.xu(),o.enqueueAndForget(()=>$_(s,y)),b.fromCache&&u.source==="server"?f.reject(new he($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),y=new K_(c,p,{includeMetadataChanges:!0,Qa:!0});return W_(s,y)}(await D0(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(n,t,e){if(!e)throw new he($t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function a8(n,t,e,i){if(t===!0&&i===!0)throw new he($t.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function RA(n){if(!Ne.isDocumentKey(n))throw new he($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LA(n){if(Ne.isDocumentKey(n))throw new he($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":je(12329,{type:typeof n})}function Ws(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new he($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=m1(n);throw new he($t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firestore.googleapis.com",PA=!0;class kA{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new he($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k3,this.ssl=PA}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:PA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=u3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jM)throw new he($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}a8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L3((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class y1{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dD;switch(i.type){case"firstParty":return new yD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=CA.get(e);i&&(ue("ComponentProvider","Removing Datastore"),CA.delete(e),i.terminate())}(this),Promise.resolve()}}function o8(n,t,e,i={}){var r;n=Ws(n,y1);const s=Yu(t),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;s&&(u_(`https://${u}`),h_("Firestore",!0)),o.host!==k3&&o.host!==u&&Zf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:i});if(!Du(f,c)&&(n._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=as.MOCK_USER;else{p=NE(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new he($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new as(b)}n._authCredentials=new pD(new S4(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $h(this.firestore,t,this._query)}}class fs{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fs(this.firestore,t,this._key)}}class Pu extends $h{constructor(t,e,i){super(t,e,o1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fs(this.firestore,null,new Ne(t))}withConverter(t){return new Pu(this.firestore,t,this._path)}}function Z_(n,t,...e){if(n=On(n),P3("collection","path",t),n instanceof y1){const i=ai.fromString(t,...e);return LA(i),new Pu(n,null,i)}{if(!(n instanceof fs||n instanceof Pu))throw new he($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ai.fromString(t,...e));return LA(i),new Pu(n.firestore,null,i)}}function Rl(n,t,...e){if(n=On(n),arguments.length===1&&(t=T4.newId()),P3("doc","path",t),n instanceof y1){const i=ai.fromString(t,...e);return RA(i),new fs(n,null,new Ne(i))}{if(!(n instanceof fs||n instanceof Pu))throw new he($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ai.fromString(t,...e));return RA(i),new fs(n.firestore,n instanceof Pu?n.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="AsyncQueue";class MA{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new p3(this,"async_queue_retry"),this.rc=()=>{const i=hv();i&&ue(DA,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=hv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=hv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Sc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!pd(t))throw t;ue(DA,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Ec("INTERNAL UNHANDLED ERROR: ",OA(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const r=H_.createAndSchedule(this,t,e,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&je(47125,{cc:OA(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function OA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Ic extends y1{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new MA,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new MA(t),this._firestoreClient=void 0,await t}}}function l8(n,t){const e=typeof n=="object"?n:ud(),i=typeof n=="string"?n:x0,r=Cl(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=TE("firestore");s&&o8(r,...s)}return r}function v1(n){if(n._terminated)throw new he($t.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c8(n),n._firestoreClient}function c8(n){var t,e,i;const r=n._freezeSettings(),s=function(c,u,f,p){return new PD(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,L3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new e8(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sd(Vr.fromBase64String(t))}catch(e){throw new he($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new sd(Vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new he($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new he($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new he($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=/^__.*__$/;class h8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Xu(t,this.data,this.fieldMask,e,this.fieldTransforms):new pg(t,this.data,e,this.fieldTransforms)}}class D3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Xu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function M3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ic:n})}}class nb{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new nb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return M0(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(M3(this.Ic)&&u8.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class f8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||d1(t)}bc(t,e,i,r=!1){return new nb({Ic:t,methodName:e,wc:i,path:Fr.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w1(n){const t=n._freezeSettings(),e=d1(n._databaseId);return new f8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function O3(n,t,e,i,r,s={}){const o=n.bc(s.merge||s.mergeFields?2:0,t,e,r);rb("Data must be an object, but it was:",o,i);const c=j3(i,o);let u,f;if(s.merge)u=new _a(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const b=I2(t,y,e);if(!o.contains(b))throw new he($t.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);V3(p,b)||p.push(b)}u=new _a(p),f=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,f=o.fieldTransforms;return new h8(new Hs(c),u,f)}class S1 extends b1{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof S1}}class ib extends b1{_toFieldTransform(t){return new rM(t.path,new Wp)}isEqual(t){return t instanceof ib}}function d8(n,t,e,i){const r=n.bc(1,t,e);rb("Data must be an object, but it was:",r,i);const s=[],o=Hs.empty();Ku(i,(u,f)=>{const p=sb(t,u,e);f=On(f);const y=r.mc(p);if(f instanceof S1)s.push(p);else{const b=vg(f,y);b!=null&&(s.push(p),o.set(p,b))}});const c=new _a(s);return new D3(o,c,r.fieldTransforms)}function p8(n,t,e,i,r,s){const o=n.bc(1,t,e),c=[I2(t,i,e)],u=[r];if(s.length%2!=0)throw new he($t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(I2(t,s[b])),u.push(s[b+1]);const f=[],p=Hs.empty();for(let b=c.length-1;b>=0;--b)if(!V3(f,c[b])){const _=c[b];let E=u[b];E=On(E);const N=o.mc(_);if(E instanceof S1)f.push(_);else{const C=vg(E,N);C!=null&&(f.push(_),p.set(_,C))}}const y=new _a(f);return new D3(p,y,o.fieldTransforms)}function g8(n,t,e,i=!1){return vg(e,n.bc(i?4:3,t))}function vg(n,t){if(F3(n=On(n)))return rb("Unsupported field value:",t,n),j3(n,t);if(n instanceof b1)return function(i,r){if(!M3(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=vg(c,r.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=On(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=fr.fromDate(i);return{timestampValue:R0(r.serializer,s)}}if(i instanceof fr){const s=new fr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:R0(r.serializer,s)}}if(i instanceof tb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sd)return{bytesValue:i3(r.serializer,i._byteString)};if(i instanceof fs){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:M_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof eb)return function(o,c){return{mapValue:{fields:{[P4]:{stringValue:k4},[E0]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return L_(c.serializer,f)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${m1(i)}`)}(n,t)}function j3(n,t){const e={};return E4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ku(n,(i,r)=>{const s=vg(r,t.Ac(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function F3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof tb||n instanceof sd||n instanceof fs||n instanceof b1||n instanceof eb)}function rb(n,t,e){if(!F3(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=m1(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function I2(n,t,e){if((t=On(t))instanceof _1)return t._internalPath;if(typeof t=="string")return sb(n,t);throw M0("Field path arguments must be of type string or ",n,!1,void 0,e)}const m8=new RegExp("[~\\*/\\[\\]]");function sb(n,t,e){if(t.search(m8)>=0)throw M0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _1(...t.split("."))._internalPath}catch{throw M0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function M0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new he($t.INVALID_ARGUMENT,c+n+u)}function V3(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new y8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(U3("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class y8 extends B3{data(){return super.data()}}function U3(n,t){return typeof t=="string"?sb(n,t):t instanceof _1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ab{}class v8 extends ab{}function q3(n,t,...e){let i=[];t instanceof ab&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof lb).length,c=s.filter(u=>u instanceof ob).length;if(o>1||o>0&&c>0)throw new he($t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class ob extends v8{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ob(t,e,i)}_apply(t){const e=this._parse(t);return H3(t._query,e),new $h(t.firestore,t.converter,y2(t._query,e))}_parse(t){const e=w1(t.firestore);return function(s,o,c,u,f,p,y){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new he($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){VA(y,p);const E=[];for(const N of y)E.push(FA(u,s,N));b={arrayValue:{values:E}}}else b=FA(u,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||VA(y,p),b=g8(c,o,y,p==="in"||p==="not-in");return er.create(f,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class lb extends ab{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new lb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Do.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)H3(o,u),o=y2(o,u)}(t._query,e),new $h(t.firestore,t.converter,y2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FA(n,t,e){if(typeof(e=On(e))=="string"){if(e==="")throw new he($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U4(t)&&e.indexOf("/")!==-1)throw new he($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ai.fromString(e));if(!Ne.isDocumentKey(i))throw new he($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return JS(n,new Ne(i))}if(e instanceof fs)return JS(n,e._key);throw new he($t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m1(e)}.`)}function VA(n,t){if(!Array.isArray(n)||n.length===0)throw new he($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function H3(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new he($t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new he($t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class _8{convertValue(t,e="none"){switch(Fu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw je(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ku(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[E0].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>qi(o.doubleValue));return new eb(s)}convertGeoPoint(t){return new tb(qi(t.latitude),qi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=a1(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qp(t));default:return null}}convertTimestamp(t){const e=Ou(t);return new fr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ai.fromString(t);Mn(c3(i),9688,{name:t});const r=new Hp(i.get(1),i.get(3)),s=new Ne(i.popFirst(5));return r.isEqual(e)||Ec(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class W3 extends B3{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new i0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(U3("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class i0 extends W3{data(t={}){return super.data(t)}}class $3{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new i0(this._firestore,this._userDataWriter,i.key,i,new yp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new he($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const u=new i0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new yp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new i0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new yp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:b8(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function b8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(n){n=Ws(n,fs);const t=Ws(n.firestore,Ic);return r8(v1(t),n._key).then(e=>Y3(t,n,e))}class cb extends _8{constructor(t){super(),this.firestore=t}convertBytes(t){return new sd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fs(this.firestore,null,e)}}function S8(n){n=Ws(n,$h);const t=Ws(n.firestore,Ic),e=v1(t),i=new cb(t);return z3(n._query),s8(e,n._query).then(r=>new $3(t,i,n,r))}function ub(n,t,e){n=Ws(n,fs);const i=Ws(n.firestore,Ic),r=G3(n.converter,t);return T1(i,[O3(w1(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Ka.none())])}function A1(n,t,e,...i){n=Ws(n,fs);const r=Ws(n.firestore,Ic),s=w1(r);let o;return o=typeof(t=On(t))=="string"||t instanceof _1?p8(s,"updateDoc",n._key,t,e,i):d8(s,"updateDoc",n._key,t),T1(r,[o.toMutation(n._key,Ka.exists(!0))])}function A8(n){return T1(Ws(n.firestore,Ic),[new P_(n._key,Ka.none())])}function T8(n,t){const e=Ws(n.firestore,Ic),i=Rl(n),r=G3(n.converter,t);return T1(e,[O3(w1(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ka.exists(!1))]).then(()=>i)}function x8(n,...t){var e,i,r;n=On(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||jA(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jA(t[o])){const y=t[o];t[o]=(e=y.next)===null||e===void 0?void 0:e.bind(y),t[o+1]=(i=y.error)===null||i===void 0?void 0:i.bind(y),t[o+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}let u,f,p;if(n instanceof fs)f=Ws(n.firestore,Ic),p=o1(n._key.path),u={next:y=>{t[o]&&t[o](Y3(f,n,y))},error:t[o+1],complete:t[o+2]};else{const y=Ws(n,$h);f=Ws(y.firestore,Ic),p=y._query;const b=new cb(f);u={next:_=>{t[o]&&t[o](new $3(f,b,y,_))},error:t[o+1],complete:t[o+2]},z3(n._query)}return function(b,_,E,N){const C=new J_(N),I=new K_(_,C,E);return b.asyncQueue.enqueueAndForget(async()=>W_(await D0(b),I)),()=>{C.xu(),b.asyncQueue.enqueueAndForget(async()=>$_(await D0(b),I))}}(v1(f),p,c,u)}function T1(n,t){return function(i,r){const s=new Sc;return i.asyncQueue.enqueueAndForget(async()=>WO(await i8(i),r,s)),s.promise}(v1(n),t)}function Y3(n,t,e){const i=e.docs.get(t._key),r=new cb(n);return new W3(n,r,t._key,i,new yp(e.hasPendingWrites,e.fromCache),t.converter)}function Uu(){return new ib("serverTimestamp")}(function(t,e=!0){(function(r){fd=r})(Hh),Ys(new xs("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new Ic(new gD(i.getProvider("auth-internal")),new vD(o,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new he($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hp(f.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Nr(BS,US,t),Nr(BS,US,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="firebasestorage.googleapis.com",X3="storageBucket",E8=2*60*1e3,N8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ja{constructor(t,e,i=0){super(dv(t),`Firebase Storage: ${e} (${dv(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Li;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Li||(Li={}));function dv(n){return"storage/"+n}function hb(){const n="An unknown error occurred, please check the error payload for server response.";return new Pi(Li.UNKNOWN,n)}function I8(n){return new Pi(Li.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function C8(n){return new Pi(Li.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R8(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pi(Li.UNAUTHENTICATED,n)}function L8(){return new Pi(Li.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function P8(n){return new Pi(Li.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function k8(){return new Pi(Li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D8(){return new Pi(Li.CANCELED,"User canceled the upload/download.")}function M8(n){return new Pi(Li.INVALID_URL,"Invalid URL '"+n+"'.")}function O8(n){return new Pi(Li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function j8(){return new Pi(Li.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X3+"' property when initializing the app?")}function F8(){return new Pi(Li.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V8(){return new Pi(Li.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function B8(n){return new Pi(Li.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function C2(n){return new Pi(Li.INVALID_ARGUMENT,n)}function Q3(){return new Pi(Li.APP_DELETED,"The Firebase app was deleted.")}function U8(n){return new Pi(Li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ip(n,t){return new Pi(Li.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function rp(n){throw new Pi(Li.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ba.makeFromUrl(t,e)}catch{return new ba(t,"")}if(i.path==="")return i;throw O8(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function f(nt){nt.path_=decodeURIComponent(nt.path)}const p="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${p}/b/${r}/o${b}`,"i"),E={bucket:1,path:3},N=e===K3?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",I=new RegExp(`^https?://${N}/${r}/${C}`,"i"),$=[{regex:c,indices:u,postModify:s},{regex:_,indices:E,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let nt=0;nt<$.length;nt++){const et=$[nt],pt=et.regex.exec(t);if(pt){const q=pt[et.indices.bucket];let P=pt[et.indices.path];P||(P=""),i=new ba(q,P),et.postModify(i);break}}if(i==null)throw M8(t);return i}}class z8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return c===2}let f=!1;function p(...C){f||(f=!0,t.apply(null,C))}function y(C){r=setTimeout(()=>{r=null,n(_,u())},C)}function b(){s&&clearTimeout(s)}function _(C,...I){if(f){b();return}if(C){b(),p.call(null,C,...I);return}if(u()||o){b(),p.call(null,C,...I);return}i<64&&(i*=2);let $;c===1?(c=2,$=0):$=(i+Math.random())*1e3,y($)}let E=!1;function N(C){E||(E=!0,b(),!f&&(r!==null?(C||(c=2),clearTimeout(r),y(0)):C||(c=1)))}return y(0),s=setTimeout(()=>{o=!0,N(!0)},e),N}function H8(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(n){return n!==void 0}function W8(n){return typeof n=="object"&&!Array.isArray(n)}function fb(n){return typeof n=="string"||n instanceof String}function BA(n){return db()&&n instanceof Blob}function db(){return typeof Blob<"u"}function UA(n,t,e,i){if(i<t)throw C2(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw C2(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function J3(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Lh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Lh||(Lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=t.indexOf(n)!==-1;return e||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t,e,i,r,s,o,c,u,f,p,y,b=!0,_=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new xm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Lh.NO_ERROR,u=s.getStatus();if(!c||$8(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Lh.ABORT;i(!1,new xm(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;i(!0,new xm(f,s))})},e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());G8(u)?s(u):s()}catch(u){o(u)}else if(c!==null){const u=hb();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(r.canceled){const u=this.appDelete_?Q3():D8();o(u)}else{const u=k8();o(u)}};this.canceled_?e(!1,new xm(!1,null,!0)):this.backoffId_=q8(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&H8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xm{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function K8(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function X8(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Q8(n,t){t&&(n["X-Firebase-GMPID"]=t)}function J8(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function Z8(n,t,e,i,r,s,o=!0,c=!1){const u=J3(n.urlParams),f=n.url+u,p=Object.assign({},n.headers);return Q8(p,t),K8(p,e),X8(p,s),J8(p,i),new Y8(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function e7(...n){const t=t7();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(db())return new Blob(n);throw new Pi(Li.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n7(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(n){if(typeof atob>"u")throw B8("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pv{constructor(t,e){this.data=t,this.contentType=e||null}}function r7(n,t){switch(n){case bl.RAW:return new pv(Z3(t));case bl.BASE64:case bl.BASE64URL:return new pv(tN(n,t));case bl.DATA_URL:return new pv(a7(t),o7(t))}throw hb()}function Z3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=n.charCodeAt(++e);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function s7(n){let t;try{t=decodeURIComponent(n)}catch{throw Ip(bl.DATA_URL,"Malformed data URL.")}return Z3(t)}function tN(n,t){switch(n){case bl.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw Ip(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case bl.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw Ip(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=i7(t)}catch(r){throw r.message.includes("polyfill")?r:Ip(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class eN{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Ip(bl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=l7(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function a7(n){const t=new eN(n);return t.base64?tN(bl.BASE64,t.rest):s7(t.rest)}function o7(n){return new eN(n).contentType}function l7(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){let i=0,r="";BA(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(BA(this.data_)){const i=this.data_,r=n7(i,t,e);return r===null?null:new Au(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Au(i,!0)}}static getBlob(...t){if(db()){const e=t.map(i=>i instanceof Au?i.data_:i);return new Au(e7.apply(null,e))}else{const e=t.map(o=>fb(o)?r7(bl.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new Au(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){let t;try{t=JSON.parse(n)}catch{return null}return W8(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function u7(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function iN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(n,t){return t}class As{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||h7}}let Em=null;function f7(n){return!fb(n)||n.length<2?n:iN(n)}function rN(){if(Em)return Em;const n=[];n.push(new As("bucket")),n.push(new As("generation")),n.push(new As("metageneration")),n.push(new As("name","fullPath",!0));function t(s,o){return f7(o)}const e=new As("name");e.xform=t,n.push(e);function i(s,o){return o!==void 0?Number(o):o}const r=new As("size");return r.xform=i,n.push(r),n.push(new As("timeCreated")),n.push(new As("updated")),n.push(new As("md5Hash",null,!0)),n.push(new As("cacheControl",null,!0)),n.push(new As("contentDisposition",null,!0)),n.push(new As("contentEncoding",null,!0)),n.push(new As("contentLanguage",null,!0)),n.push(new As("contentType",null,!0)),n.push(new As("metadata","customMetadata",!0)),Em=n,Em}function d7(n,t){function e(){const i=n.bucket,r=n.fullPath,s=new ba(i,r);return t._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:e})}function p7(n,t,e){const i={};i.type="file";const r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return d7(i,n),i}function sN(n,t,e){const i=nN(t);return i===null?null:p7(n,i,e)}function g7(n,t,e,i){const r=nN(t);if(r===null||!fb(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const p=n.bucket,y=n.fullPath,b="/b/"+o(p)+"/o/"+o(y),_=pb(b,e,i),E=J3({alt:"media",token:f});return _+E})[0]}function m7(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}class aN{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){if(!n)throw hb()}function y7(n,t){function e(i,r){const s=sN(n,r,t);return oN(s!==null),s}return e}function v7(n,t){function e(i,r){const s=sN(n,r,t);return oN(s!==null),g7(s,r,n.host,n._protocol)}return e}function lN(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=L8():r=R8():e.getStatus()===402?r=C8(n.bucket):e.getStatus()===403?r=P8(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function _7(n){const t=lN(n);function e(i,r){let s=t(i,r);return i.getStatus()===404&&(s=I8(n.path)),s.serverResponse=r.serverResponse,s}return e}function b7(n,t,e){const i=t.fullServerUrl(),r=pb(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,c=new aN(r,s,v7(n,e),o);return c.errorHandler=_7(t),c}function w7(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function S7(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=w7(null,t)),i}function A7(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let nt=0;nt<2;nt++)$=$+Math.random().toString().slice(2);return $}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const f=S7(t,i,r),p=m7(f,e),y="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,b=`\r
--`+u+"--",_=Au.getBlob(y,i,b);if(_===null)throw F8();const E={name:f.fullPath},N=pb(s,n.host,n._protocol),C="POST",I=n.maxUploadRetryTime,M=new aN(N,C,y7(n,e),I);return M.urlParams=E,M.headers=o,M.body=_.uploadData(),M.errorHandler=lN(t),M}class T7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,s){if(this.sent_)throw rp("cannot .send() more than once");if(Yu(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class x7 extends T7{initXhr(){this.xhr_.responseType="text"}}function cN(){return new x7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,e){this._service=t,e instanceof ba?this._location=e:this._location=ba.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Vh(t,e)}get root(){const t=new ba(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iN(this._location.path)}get storage(){return this._service}get parent(){const t=c7(this._location.path);if(t===null)return null;const e=new ba(this._location.bucket,t);return new Vh(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw U8(t)}}function E7(n,t,e){n._throwIfRoot("uploadBytes");const i=A7(n.storage,n._location,rN(),new Au(t,!0),e);return n.storage.makeRequestWithTokens(i,cN).then(r=>({metadata:r,ref:n}))}function N7(n){n._throwIfRoot("getDownloadURL");const t=b7(n.storage,n._location,rN());return n.storage.makeRequestWithTokens(t,cN).then(e=>{if(e===null)throw V8();return e})}function I7(n,t){const e=u7(n._location.path,t),i=new ba(n._location.bucket,e);return new Vh(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(n){return/^[A-Za-z]+:\/\//.test(n)}function R7(n,t){return new Vh(n,t)}function uN(n,t){if(n instanceof gb){const e=n;if(e._bucket==null)throw j8();const i=new Vh(e,e._bucket);return t!=null?uN(i,t):i}else return t!==void 0?I7(n,t):n}function L7(n,t){if(t&&C7(t)){if(n instanceof gb)return R7(n,t);throw C2("To use ref(service, url), the first argument must be a Storage instance.")}else return uN(n,t)}function zA(n,t){const e=t==null?void 0:t[X3];return e==null?null:ba.makeFromBucketSpec(e,n)}function P7(n,t,e,i={}){n.host=`${t}:${e}`;const r=Yu(t);r&&(u_(`https://${n.host}/b`),h_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:NE(s,n.app.options.projectId))}class gb{constructor(t,e,i,r,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=K3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E8,this._maxUploadRetryTime=N8,this._requests=new Set,r!=null?this._bucket=ba.makeFromBucketSpec(r,this._host):this._bucket=zA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ba.makeFromBucketSpec(this._url,t):this._bucket=zA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Vh(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new z8(Q3());{const o=Z8(t,this._appId,i,r,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const qA="@firebase/storage",HA="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="storage";function k7(n,t,e){return n=On(n),E7(n,t,e)}function D7(n){return n=On(n),N7(n)}function M7(n,t){return n=On(n),L7(n,t)}function O7(n=ud(),t){n=On(n);const i=Cl(n,hN).getImmediate({identifier:t}),r=TE("storage");return r&&j7(i,...r),i}function j7(n,t,e,i={}){P7(n,t,e,i)}function F7(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new gb(e,i,r,t,Hh)}function V7(){Ys(new xs(hN,F7,"PUBLIC").setMultipleInstances(!0)),Nr(qA,HA,""),Nr(qA,HA,"esm2017")}V7();const fN="@firebase/installations",mb="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1e4,pN=`w:${mb}`,gN="FIS_v2",B7="https://firebaseinstallations.googleapis.com/v1",U7=60*60*1e3,z7="installations",q7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bh=new Rc(z7,q7,H7);function mN(n){return n instanceof Ja&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN({projectId:n}){return`${B7}/projects/${n}/installations`}function vN(n){return{token:n.token,requestStatus:2,expiresIn:W7(n.expiresIn),creationTime:Date.now()}}async function _N(n,t){const i=(await t.json()).error;return Bh.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function bN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function G7(n,{refreshToken:t}){const e=bN(n);return e.append("Authorization",$7(t)),e}async function wN(n){const t=await n();return t.status>=500&&t.status<600?n():t}function W7(n){return Number(n.replace("s","000"))}function $7(n){return`${gN} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=yN(n),r=bN(n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={fid:e,authVersion:gN,appId:n.appId,sdkVersion:pN},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await wN(()=>fetch(i,c));if(u.ok){const f=await u.json();return{fid:f.fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:vN(f.authToken)}}else throw await _N("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=/^[cdef][\w-]{21}$/,R2="";function Q7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=J7(n);return X7.test(e)?e:R2}catch{return R2}}function J7(n){return K7(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;function TN(n,t){const e=x1(n);xN(e,t),Z7(e,t)}function xN(n,t){const e=AN.get(n);if(e)for(const i of e)i(t)}function Z7(n,t){const e=t9();e&&e.postMessage({key:n,fid:t}),e9()}let Ch=null;function t9(){return!Ch&&"BroadcastChannel"in self&&(Ch=new BroadcastChannel("[Firebase] FID Change"),Ch.onmessage=n=>{xN(n.data.key,n.data.fid)}),Ch}function e9(){AN.size===0&&Ch&&(Ch.close(),Ch=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="firebase-installations-database",i9=1,Uh="firebase-installations-store";let gv=null;function yb(){return gv||(gv=t1(n9,i9,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Uh)}}})),gv}async function O0(n,t){const e=x1(n),r=(await yb()).transaction(Uh,"readwrite"),s=r.objectStore(Uh),o=await s.get(e);return await s.put(t,e),await r.done,(!o||o.fid!==t.fid)&&TN(n,t.fid),t}async function EN(n){const t=x1(n),i=(await yb()).transaction(Uh,"readwrite");await i.objectStore(Uh).delete(t),await i.done}async function E1(n,t){const e=x1(n),r=(await yb()).transaction(Uh,"readwrite"),s=r.objectStore(Uh),o=await s.get(e),c=t(o);return c===void 0?await s.delete(e):await s.put(c,e),await r.done,c&&(!o||o.fid!==c.fid)&&TN(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(n){let t;const e=await E1(n.appConfig,i=>{const r=r9(i),s=s9(n,r);return t=s.registrationPromise,s.installationEntry});return e.fid===R2?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function r9(n){const t=n||{fid:Q7(),registrationStatus:0};return NN(t)}function s9(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Bh.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=a9(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:o9(n)}:{installationEntry:t}}async function a9(n,t){try{const e=await Y7(n,t);return O0(n.appConfig,e)}catch(e){throw mN(e)&&e.customData.serverCode===409?await EN(n.appConfig):await O0(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function o9(n){let t=await GA(n.appConfig);for(;t.registrationStatus===1;)await SN(100),t=await GA(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await vb(n);return i||e}return t}function GA(n){return E1(n,t=>{if(!t)throw Bh.create("installation-not-found");return NN(t)})}function NN(n){return l9(n)?{fid:n.fid,registrationStatus:0}:n}function l9(n){return n.registrationStatus===1&&n.registrationTime+dN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9({appConfig:n,heartbeatServiceProvider:t},e){const i=u9(n,e),r=G7(n,e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const o={installation:{sdkVersion:pN,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await wN(()=>fetch(i,c));if(u.ok){const f=await u.json();return vN(f)}else throw await _N("Generate Auth Token",u)}function u9(n,{fid:t}){return`${yN(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(n,t=!1){let e;const i=await E1(n.appConfig,s=>{if(!IN(s))throw Bh.create("not-registered");const o=s.authToken;if(!t&&d9(o))return s;if(o.requestStatus===1)return e=h9(n,t),s;{if(!navigator.onLine)throw Bh.create("app-offline");const c=g9(s);return e=f9(n,c),c}});return e?await e:i.authToken}async function h9(n,t){let e=await WA(n.appConfig);for(;e.authToken.requestStatus===1;)await SN(100),e=await WA(n.appConfig);const i=e.authToken;return i.requestStatus===0?_b(n,t):i}function WA(n){return E1(n,t=>{if(!IN(t))throw Bh.create("not-registered");const e=t.authToken;return m9(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function f9(n,t){try{const e=await c9(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return await O0(n.appConfig,i),e}catch(e){if(mN(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await EN(n.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await O0(n.appConfig,i)}throw e}}function IN(n){return n!==void 0&&n.registrationStatus===2}function d9(n){return n.requestStatus===2&&!p9(n)}function p9(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+U7}function g9(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function m9(n){return n.requestStatus===1&&n.requestTime+dN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(n){const t=n,{installationEntry:e,registrationPromise:i}=await vb(t);return i?i.catch(console.error):_b(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(n,t=!1){const e=n;return await _9(e),(await _b(e,t)).token}async function _9(n){const{registrationPromise:t}=await vb(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n){if(!n||!n.options)throw mv("App Configuration");if(!n.name)throw mv("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw mv(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function mv(n){return Bh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="installations",w9="installations-internal",S9=n=>{const t=n.getProvider("app").getImmediate(),e=b9(t),i=Cl(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},A9=n=>{const t=n.getProvider("app").getImmediate(),e=Cl(t,CN).getImmediate();return{getId:()=>y9(e),getToken:r=>v9(e,r)}};function T9(){Ys(new xs(CN,S9,"PUBLIC")),Ys(new xs(w9,A9,"PRIVATE"))}T9();Nr(fN,mb);Nr(fN,mb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="analytics",x9="firebase_id",E9="origin",N9=60*1e3,I9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new lg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Aa=new Rc("analytics","Analytics",C9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(n){if(!n.startsWith(bb)){const t=Aa.create("invalid-gtag-resource",{gtagURL:n});return $s.warn(t.message),""}return n}function RN(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function L9(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function P9(n,t){const e=L9("firebase-js-sdk-policy",{createScriptURL:R9}),i=document.createElement("script"),r=`${bb}?l=${n}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function k9(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function D9(n,t,e,i,r,s){const o=i[r];try{if(o)await t[o];else{const u=(await RN(e)).find(f=>f.measurementId===r);u&&await t[u.appId]}}catch(c){$s.error(c)}n("config",r,s)}async function M9(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=await RN(e);for(const u of o){const f=c.find(y=>y.measurementId===u),p=f&&t[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),n("event",i,r||{})}catch(s){$s.error(s)}}function O9(n,t,e,i){async function r(s,...o){try{if(s==="event"){const[c,u]=o;await M9(n,t,e,c,u)}else if(s==="config"){const[c,u]=o;await D9(n,t,e,i,c,u)}else if(s==="consent"){const[c,u]=o;n("consent",c,u)}else if(s==="get"){const[c,u,f]=o;n("get",c,u,f)}else if(s==="set"){const[c]=o;n("set",c)}else n(s,...o)}catch(c){$s.error(c)}}return r}function j9(n,t,e,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=O9(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}function F9(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(bb)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=30,B9=1e3;class U9{constructor(t={},e=B9){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const LN=new U9;function z9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function q9(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:z9(i)},s=I9.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();!((t=u.error)===null||t===void 0)&&t.message&&(c=u.error.message)}catch{}throw Aa.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function H9(n,t=LN,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Aa.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Aa.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new $9;return setTimeout(async()=>{c.abort()},N9),PN({appId:i,apiKey:r,measurementId:s},o,c,t)}async function PN(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=LN){var s;const{appId:o,measurementId:c}=n;try{await G9(i,t)}catch(u){if(c)return $s.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:c};throw u}try{const u=await q9(n);return r.deleteThrottleMetadata(o),u}catch(u){const f=u;if(!W9(f)){if(r.deleteThrottleMetadata(o),c)return $s.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:c};throw u}const p=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?hS(e,r.intervalMillis,V9):hS(e,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:e+1};return r.setThrottleMetadata(o,y),$s.debug(`Calling attemptFetch again in ${p} millis`),PN(n,y,i,r)}}function G9(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Aa.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function W9(n){if(!(n instanceof Ja)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class $9{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Y9(n,t,e,i,r){if(r&&r.global){n("event",e,i);return}else{const s=await t,o=Object.assign(Object.assign({},i),{send_to:s});n("event",e,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(){if(J0())try{await Z0()}catch(n){return $s.warn(Aa.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return $s.warn(Aa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function X9(n,t,e,i,r,s,o){var c;const u=H9(n);u.then(_=>{e[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&$s.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>$s.error(_)),t.push(u);const f=K9().then(_=>{if(_)return i.getId()}),[p,y]=await Promise.all([u,f]);F9(s)||P9(s,p.measurementId),r("js",new Date);const b=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return b[E9]="firebase",b.update=!0,y!=null&&(b[x9]=y),r("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(t){this.app=t}_delete(){return delete Cp[this.app.options.appId],Promise.resolve()}}let Cp={},$A=[];const YA={};let yv="dataLayer",J9="gtag",KA,kN,XA=!1;function Z9(){const n=[];if(IE()&&n.push("This is a browser extension environment."),f_()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=Aa.create("invalid-analytics-context",{errorInfo:t});$s.warn(e.message)}}function tj(n,t,e){Z9();const i=n.options.appId;if(!i)throw Aa.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)$s.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Aa.create("no-api-key");if(Cp[i]!=null)throw Aa.create("already-exists",{id:i});if(!XA){k9(yv);const{wrappedGtag:s,gtagCore:o}=j9(Cp,$A,YA,yv,J9);kN=s,KA=o,XA=!0}return Cp[i]=X9(n,$A,YA,t,KA,yv,e),new Q9(n)}function ej(n=ud()){n=On(n);const t=Cl(n,j0);return t.isInitialized()?t.getImmediate():nj(n)}function nj(n,t={}){const e=Cl(n,j0);if(e.isInitialized()){const r=e.getImmediate();if(Du(t,e.getOptions()))return r;throw Aa.create("already-initialized")}return e.initialize({options:t})}function DN(n,t,e,i){n=On(n),Y9(kN,Cp[n.app.options.appId],t,e,i).catch(r=>$s.error(r))}const QA="@firebase/analytics",JA="0.10.16";function ij(){Ys(new xs(j0,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return tj(i,r,e)},"PUBLIC")),Ys(new xs("analytics-internal",n,"PRIVATE")),Nr(QA,JA),Nr(QA,JA,"esm2017");function n(t){try{const e=t.getProvider(j0).getImmediate();return{logEvent:(i,r,s)=>DN(e,i,r,s)}}catch(e){throw Aa.create("interop-component-reg-failed",{reason:e})}}}ij();var L2,ZA,N1=function(){var n=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(n&&n.responseStart>0&&n.responseStart<performance.now())return n},MN=function(n){if(document.readyState==="loading")return"loading";var t=N1();if(t){if(n<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||n<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||n<t.domComplete)return"dom-content-loaded"}return"complete"},rj=function(n){var t=n.nodeName;return n.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},wb=function(n,t){var e="";try{for(;n&&n.nodeType!==9;){var i=n,r=i.id?"#"+i.id:rj(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(e.length+r.length>(t||100)-1)return e||r;if(e=e?r+">"+e:r,i.id)break;n=i.parentNode}}catch{}return e},ON=-1,sj=function(){return ON},_g=function(n){addEventListener("pageshow",function(t){t.persisted&&(ON=t.timeStamp,n(t))},!0)},Sb=function(){var n=N1();return n&&n.activationStart||0},zu=function(n,t){var e=N1(),i="navigate";return sj()>=0?i="back-forward-cache":e&&(document.prerendering||Sb()>0?i="prerender":document.wasDiscarded?i="restore":e.type&&(i=e.type.replace(/_/g,"-"))),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},md=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch{}},qu=function(n,t,e,i){var r,s;return function(o){t.value>=0&&(o||i)&&((s=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=s,t.rating=function(c,u){return c>u[1]?"poor":c>u[0]?"needs-improvement":"good"}(t.value,e),n(t))}},Ab=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},I1=function(n){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&n()})},Tb=function(n){var t=!1;return function(){t||(n(),t=!0)}},jf=-1,tT=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},F0=function(n){document.visibilityState==="hidden"&&jf>-1&&(jf=n.type==="visibilitychange"?n.timeStamp:0,aj())},eT=function(){addEventListener("visibilitychange",F0,!0),addEventListener("prerenderingchange",F0,!0)},aj=function(){removeEventListener("visibilitychange",F0,!0),removeEventListener("prerenderingchange",F0,!0)},jN=function(){return jf<0&&(jf=tT(),eT(),_g(function(){setTimeout(function(){jf=tT(),eT()},0)})),{get firstHiddenTime(){return jf}}},xb=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},nT=[1800,3e3],oj=function(n,t){t=t||{},xb(function(){var e,i=jN(),r=zu("FCP"),s=md("paint",function(o){o.forEach(function(c){c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<i.firstHiddenTime&&(r.value=Math.max(c.startTime-Sb(),0),r.entries.push(c),e(!0)))})});s&&(e=qu(n,r,nT,t.reportAllChanges),_g(function(o){r=zu("FCP"),e=qu(n,r,nT,t.reportAllChanges),Ab(function(){r.value=performance.now()-o.timeStamp,e(!0)})}))})},iT=[.1,.25],lj=function(n,t){(function(e,i){i=i||{},oj(Tb(function(){var r,s=zu("CLS",0),o=0,c=[],u=function(p){p.forEach(function(y){if(!y.hadRecentInput){var b=c[0],_=c[c.length-1];o&&y.startTime-_.startTime<1e3&&y.startTime-b.startTime<5e3?(o+=y.value,c.push(y)):(o=y.value,c=[y])}}),o>s.value&&(s.value=o,s.entries=c,r())},f=md("layout-shift",u);f&&(r=qu(e,s,iT,i.reportAllChanges),I1(function(){u(f.takeRecords()),r(!0)}),_g(function(){o=0,s=zu("CLS",0),r=qu(e,s,iT,i.reportAllChanges),Ab(function(){return r()})}),setTimeout(r,0))}))})(function(e){var i=function(r){var s,o={};if(r.entries.length){var c=r.entries.reduce(function(f,p){return f&&f.value>p.value?f:p});if(c&&c.sources&&c.sources.length){var u=(s=c.sources).find(function(f){return f.node&&f.node.nodeType===1})||s[0];u&&(o={largestShiftTarget:wb(u.node),largestShiftTime:c.startTime,largestShiftValue:c.value,largestShiftSource:u,largestShiftEntry:c,loadState:MN(c.startTime)})}}return Object.assign(r,{attribution:o})}(e);n(i)},t)},FN=0,vv=1/0,Nm=0,cj=function(n){n.forEach(function(t){t.interactionId&&(vv=Math.min(vv,t.interactionId),Nm=Math.max(Nm,t.interactionId),FN=Nm?(Nm-vv)/7+1:0)})},VN=function(){return L2?FN:performance.interactionCount||0},uj=function(){"interactionCount"in performance||L2||(L2=md("event",cj,{type:"event",buffered:!0,durationThreshold:0}))},Lo=[],Rp=new Map,BN=0,hj=function(){var n=Math.min(Lo.length-1,Math.floor((VN()-BN)/50));return Lo[n]},UN=[],fj=function(n){if(UN.forEach(function(r){return r(n)}),n.interactionId||n.entryType==="first-input"){var t=Lo[Lo.length-1],e=Rp.get(n.interactionId);if(e||Lo.length<10||n.duration>t.latency){if(e)n.duration>e.latency?(e.entries=[n],e.latency=n.duration):n.duration===e.latency&&n.startTime===e.entries[0].startTime&&e.entries.push(n);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};Rp.set(i.id,i),Lo.push(i)}Lo.sort(function(r,s){return s.latency-r.latency}),Lo.length>10&&Lo.splice(10).forEach(function(r){return Rp.delete(r.id)})}}},Eb=function(n){var t=self.requestIdleCallback||self.setTimeout,e=-1;return n=Tb(n),document.visibilityState==="hidden"?n():(e=t(n),I1(n)),e},rT=[200,500],dj=function(n,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},xb(function(){var e;uj();var i,r=zu("INP"),s=function(c){Eb(function(){c.forEach(fj);var u=hj();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,i())})},o=md("event",s,{durationThreshold:(e=t.durationThreshold)!==null&&e!==void 0?e:40});i=qu(n,r,rT,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),I1(function(){s(o.takeRecords()),i(!0)}),_g(function(){BN=VN(),Lo.length=0,Rp.clear(),r=zu("INP"),i=qu(n,r,rT,t.reportAllChanges)}))}))},Hf=[],Tu=[],P2=0,Nb=new WeakMap,Gf=new Map,k2=-1,pj=function(n){Hf=Hf.concat(n),zN()},zN=function(){k2<0&&(k2=Eb(gj))},gj=function(){Gf.size>10&&Gf.forEach(function(o,c){Rp.has(c)||Gf.delete(c)});var n=Lo.map(function(o){return Nb.get(o.entries[0])}),t=Tu.length-50;Tu=Tu.filter(function(o,c){return c>=t||n.includes(o)});for(var e=new Set,i=0;i<Tu.length;i++){var r=Tu[i];qN(r.startTime,r.processingEnd).forEach(function(o){e.add(o)})}var s=Hf.length-1-50;Hf=Hf.filter(function(o,c){return o.startTime>P2&&c>s||e.has(o)}),k2=-1};UN.push(function(n){n.interactionId&&n.target&&!Gf.has(n.interactionId)&&Gf.set(n.interactionId,n.target)},function(n){var t,e=n.startTime+n.duration;P2=Math.max(P2,n.processingEnd);for(var i=Tu.length-1;i>=0;i--){var r=Tu[i];if(Math.abs(e-r.renderTime)<=8){(t=r).startTime=Math.min(n.startTime,t.startTime),t.processingStart=Math.min(n.processingStart,t.processingStart),t.processingEnd=Math.max(n.processingEnd,t.processingEnd),t.entries.push(n);break}}t||(t={startTime:n.startTime,processingStart:n.processingStart,processingEnd:n.processingEnd,renderTime:e,entries:[n]},Tu.push(t)),(n.interactionId||n.entryType==="first-input")&&Nb.set(n,t),zN()});var qN=function(n,t){for(var e,i=[],r=0;e=Hf[r];r++)if(!(e.startTime+e.duration<n)){if(e.startTime>t)break;i.push(e)}return i},mj=function(n,t){ZA||(ZA=md("long-animation-frame",pj)),dj(function(e){var i=function(r){var s=r.entries[0],o=Nb.get(s),c=s.processingStart,u=o.processingEnd,f=o.entries.sort(function(C,I){return C.processingStart-I.processingStart}),p=qN(s.startTime,u),y=r.entries.find(function(C){return C.target}),b=y&&y.target||Gf.get(s.interactionId),_=[s.startTime+s.duration,u].concat(p.map(function(C){return C.startTime+C.duration})),E=Math.max.apply(Math,_),N={interactionTarget:wb(b),interactionTargetElement:b,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:E,processedEventEntries:f,longAnimationFrameEntries:p,inputDelay:c-s.startTime,processingDuration:u-c,presentationDelay:Math.max(E-u,0),loadState:MN(s.startTime)};return Object.assign(r,{attribution:N})}(e);n(i)},t)},sT=[2500,4e3],_v={},yj=function(n,t){(function(e,i){i=i||{},xb(function(){var r,s=jN(),o=zu("LCP"),c=function(p){i.reportAllChanges||(p=p.slice(-1)),p.forEach(function(y){y.startTime<s.firstHiddenTime&&(o.value=Math.max(y.startTime-Sb(),0),o.entries=[y],r())})},u=md("largest-contentful-paint",c);if(u){r=qu(e,o,sT,i.reportAllChanges);var f=Tb(function(){_v[o.id]||(c(u.takeRecords()),u.disconnect(),_v[o.id]=!0,r(!0))});["keydown","click"].forEach(function(p){addEventListener(p,function(){return Eb(f)},{once:!0,capture:!0})}),I1(f),_g(function(p){o=zu("LCP"),r=qu(e,o,sT,i.reportAllChanges),Ab(function(){o.value=performance.now()-p.timeStamp,_v[o.id]=!0,r(!0)})})}})})(function(e){var i=function(r){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:r.value};if(r.entries.length){var o=N1();if(o){var c=o.activationStart||0,u=r.entries[r.entries.length-1],f=u.url&&performance.getEntriesByType("resource").filter(function(E){return E.name===u.url})[0],p=Math.max(0,o.responseStart-c),y=Math.max(p,f?(f.requestStart||f.startTime)-c:0),b=Math.max(y,f?f.responseEnd-c:0),_=Math.max(b,u.startTime-c);s={element:wb(u.element),timeToFirstByte:p,resourceLoadDelay:y-p,resourceLoadDuration:b-y,elementRenderDelay:_-b,navigationEntry:o,lcpEntry:u},u.url&&(s.url=u.url),f&&(s.lcpResourceEntry=f)}}return Object.assign(r,{attribution:s})}(e);n(i)},t)};const aT="@firebase/performance",D2="0.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=D2,vj="FB-PERF-TRACE-START",_j="FB-PERF-TRACE-STOP",M2="FB-PERF-TRACE-MEASURE",GN="_wt_",WN="_fp",$N="_fcp",YN="_fid",KN="_lcp",bj="lcp_element",XN="_inp",wj="inp_interactionTarget",QN="_cls",Sj="cls_largestShiftTarget",JN="@firebase/performance/config",ZN="@firebase/performance/configexpire",Aj="performance",tI="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},os=new Rc(Aj,tI,Tj);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new lg(tI);Hu.logLevel=ln.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv,eI;class pr{constructor(t){if(this.window=t,!t)throw os.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=yj,this.onINP=mj,this.onCLS=lj}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,i){!this.performance||!this.performance.measure||this.performance.measure(t,e,i)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!f_()?(Hu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):J0()?!0:(Hu.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,e){if(!this.PerformanceObserver)return;new this.PerformanceObserver(r=>{for(const s of r.getEntries())e(s)}).observe({entryTypes:[t]})}static getInstance(){return bv===void 0&&(bv=new pr(eI)),bv}}function xj(n){eI=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nI;function Ej(n){const t=n.getId();return t.then(e=>{nI=e}),t}function Ib(){return nI}function Nj(n){const t=n.getToken();return t.then(e=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n,t){const e=n.length-t.length;if(e<0||e>1)throw os.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv;class wa{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=oT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=oT("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return wv===void 0&&(wv=new wa),wv}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"})(Lp||(Lp={}));const Ij=["firebase_","google_","ga_"],Cj=new RegExp("^[a-zA-Z]\\w*$"),Rj=40,Lj=100;function Pj(){const n=pr.getInstance().navigator;return n!=null&&n.serviceWorker?n.serviceWorker.controller?2:3:1}function kj(){switch(pr.getInstance().document.visibilityState){case"visible":return Lp.VISIBLE;case"hidden":return Lp.HIDDEN;default:return Lp.UNKNOWN}}function Dj(){const t=pr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Mj(n){return n.length===0||n.length>Rj?!1:!Ij.some(e=>n.startsWith(e))&&!!n.match(Cj)}function Oj(n){return n.length!==0&&n.length<=Lj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.appId;if(!e)throw os.create("no app id");return e}function jj(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.projectId;if(!e)throw os.create("no project id");return e}function Fj(n){var t;const e=(t=n.options)===null||t===void 0?void 0:t.apiKey;if(!e)throw os.create("no api key");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="0.0.1",No={loggingEnabled:!0},Bj="FIREBASE_INSTALLATIONS_AUTH";function Uj(n,t){const e=zj();return e?(lT(e),Promise.resolve()):Gj(n,t).then(lT).then(i=>qj(i),()=>{})}function zj(){const n=pr.getInstance().localStorage;if(!n)return;const t=n.getItem(ZN);if(!t||!Wj(t))return;const e=n.getItem(JN);if(e)try{return JSON.parse(e)}catch{return}}function qj(n){const t=pr.getInstance().localStorage;!n||!t||(t.setItem(JN,JSON.stringify(n)),t.setItem(ZN,String(Date.now()+wa.getInstance().configTimeToLive*60*60*1e3)))}const Hj="Could not fetch config, will use default configs";function Gj(n,t){return Nj(n.installations).then(e=>{const i=jj(n.app),r=Fj(n.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,o=new Request(s,{method:"POST",headers:{Authorization:`${Bj} ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:iI(n.app),app_version:HN,sdk_version:Vj})});return fetch(o).then(c=>{if(c.ok)return c.json();throw os.create("RC response not ok")})}).catch(()=>{Hu.info(Hj)})}function lT(n){if(!n)return n;const t=wa.getInstance(),e=n.entries||{};return e.fpr_enabled!==void 0?t.loggingEnabled=String(e.fpr_enabled)==="true":t.loggingEnabled=No.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):No.logSource&&(t.logSource=No.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:No.logEndPointUrl&&(t.logEndPointUrl=No.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:No.transportKey&&(t.transportKey=No.transportKey),e.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):No.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=No.networkRequestsSamplingRate),e.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):No.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=No.tracesSamplingRate),t.logTraceAfterSampling=cT(t.tracesSamplingRate),t.logNetworkAfterSampling=cT(t.networkRequestsSamplingRate),n}function Wj(n){return Number(n)>Date.now()}function cT(n){return Math.random()<=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb=1,Sv;function rI(n){return Cb=2,Sv=Sv||Yj(n),Sv}function $j(){return Cb===3}function Yj(n){return Kj().then(()=>Ej(n.installations)).then(t=>Uj(n,t)).then(()=>uT(),()=>uT())}function Kj(){const n=pr.getInstance().document;return new Promise(t=>{if(n&&n.readyState!=="complete"){const e=()=>{n.readyState==="complete"&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}function uT(){Cb=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=10*1e3,Xj=5.5*1e3,Qj=1e3,aI=3;let r0=aI,Ph=[],hT=!1;function Jj(){hT||(Rb(Xj),hT=!0)}function Rb(n){setTimeout(()=>{r0<=0||(Ph.length>0&&oI(),Rb(sI))},n)}function oI(){const n=Ph.splice(0,Qj),t=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)})),e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:wa.getInstance().logSource,log_event:t};Zj(e).then(()=>{r0=aI}).catch(()=>{Ph=[...n,...Ph],r0--,Hu.info(`Tries left: ${r0}.`),Rb(sI)})}function Zj(n){const t=wa.getInstance().getFlTransportFullUrl(),e=JSON.stringify(n);return navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e,keepalive:!0}).then()}function tF(n){if(!n.eventTime||!n.message)throw os.create("invalid cc log");Ph=[...Ph,n]}function eF(n){return(...t)=>{const e=n(...t);tF({message:e,eventTime:Date.now()})}}function nF(){for(;Ph.length>0;)oI()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp;function lI(n,t){Pp||(Pp={send:eF(sF),flush:nF}),Pp.send(n,t)}function Im(n){const t=wa.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||pr.getInstance().requiredApisAvailable()&&($j()?Av(n):rI(n.performanceController).then(()=>Av(n),()=>Av(n)))}function iF(){Pp&&Pp.flush()}function Av(n){if(!Ib())return;const t=wa.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||lI(n,1)}function rF(n){const t=wa.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];e===i||e===r||!t.loggingEnabled||!t.logNetworkAfterSampling||lI(n,0)}function sF(n,t){return t===0?aF(n):oF(n)}function aF(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:cI(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}function oF(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(t.counters=n.counters);const e=n.getAttributes();Object.keys(e).length!==0&&(t.custom_attributes=e);const i={application_info:cI(n.performanceController.app),trace_metric:t};return JSON.stringify(i)}function cI(n){return{google_app_id:iI(n),app_instance_id:Ib(),web_app_info:{sdk_version:HN,page_url:pr.getInstance().getUrl(),service_worker_status:Pj(),visibility_state:kj(),effective_connection_type:Dj()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n,t){const e=t;if(!e||e.responseStart===void 0)return;const i=pr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+i)*1e3),s=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),c=e.name&&e.name.split("?")[0],u={performanceController:n,url:c,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};rF(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=100,cF="_",uF=[WN,$N,YN,KN,QN,XN];function hF(n,t){return n.length===0||n.length>lF?!1:t&&t.startsWith(GN)&&uF.indexOf(n)>-1||!n.startsWith(cF)}function fF(n){const t=Math.floor(n);return t<n&&Hu.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,e,i=!1,r){this.performanceController=t,this.name=e,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=pr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${vj}-${this.randomId}-${this.name}`,this.traceStopMark=`${_j}-${this.randomId}-${this.name}`,this.traceMeasure=r||`${M2}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw os.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw os.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Im(this)}record(t,e,i){if(t<=0)throw os.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw os.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(e*1e3),this.startTimeUs=Math.floor(t*1e3),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));Im(this)}incrementMetric(t,e=1){this.counters[t]===void 0?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)}putMetric(t,e){if(hF(t,this.name))this.counters[t]=fF(e??0);else throw os.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const i=Mj(t),r=Oj(e);if(i&&r){this.customAttributes[t]=e;return}if(!i)throw os.create("invalid attribute name",{attributeName:t});if(!r)throw os.create("invalid attribute value",{attributeValue:e})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(e.duration*1e3),this.startTimeUs=Math.floor((e.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,e,i,r,s){const o=pr.getInstance().getUrl();if(!o)return;const c=new Kp(t,GN+o,!0),u=Math.floor(pr.getInstance().getTimeOrigin()*1e3);c.setStartTime(u),e&&e[0]&&(c.setDuration(Math.floor(e[0].duration*1e3)),c.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),c.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),c.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));const f="first-paint",p="first-contentful-paint";if(i){const y=i.find(_=>_.name===f);y&&y.startTime&&c.putMetric(WN,Math.floor(y.startTime*1e3));const b=i.find(_=>_.name===p);b&&b.startTime&&c.putMetric($N,Math.floor(b.startTime*1e3)),s&&c.putMetric(YN,Math.floor(s*1e3))}this.addWebVitalMetric(c,KN,bj,r.lcp),this.addWebVitalMetric(c,QN,Sj,r.cls),this.addWebVitalMetric(c,XN,wj,r.inp),Im(c),iF()}static addWebVitalMetric(t,e,i,r){r&&(t.putMetric(e,Math.floor(r.value*1e3)),r.elementAttribution&&t.putAttribute(i,r.elementAttribution))}static createUserTimingTrace(t,e){const i=new Kp(t,e,!1,e);Im(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0={},dT=!1,uI;function pT(n){Ib()&&(setTimeout(()=>pF(n),0),setTimeout(()=>dF(n),0),setTimeout(()=>gF(n),0))}function dF(n){const t=pr.getInstance(),e=t.getEntriesByType("resource");for(const i of e)fT(n,i);t.setupObserver("resource",i=>fT(n,i))}function pF(n){const t=pr.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>Tv(n)):t.document.addEventListener("unload",()=>Tv(n)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&Tv(n)}),t.onFirstInputDelay&&t.onFirstInputDelay(e=>{uI=e}),t.onLCP(e=>{var i;s0.lcp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.element}}),t.onCLS(e=>{var i;s0.cls={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.largestShiftTarget}}),t.onINP(e=>{var i;s0.inp={value:e.value,elementAttribution:(i=e.attribution)===null||i===void 0?void 0:i.interactionTarget}})}function gF(n){const t=pr.getInstance(),e=t.getEntriesByType("measure");for(const i of e)gT(n,i);t.setupObserver("measure",i=>gT(n,i))}function gT(n,t){const e=t.name;e.substring(0,M2.length)!==M2&&Kp.createUserTimingTrace(n,e)}function Tv(n){if(!dT){dT=!0;const t=pr.getInstance(),e=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");setTimeout(()=>{Kp.createOobTrace(n,e,i,s0,uI)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),pr.getInstance().requiredApisAvailable()?Z0().then(e=>{e&&(Jj(),rI(this).then(()=>pT(this),()=>pT(this)),this.initialized=!0)}).catch(e=>{Hu.info(`Environment doesn't support IndexedDB: ${e}`)}):Hu.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){wa.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return wa.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){wa.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return wa.getInstance().dataCollectionEnabled}}const yF="[DEFAULT]";function vF(n=ud()){return n=On(n),Cl(n,"performance").getImmediate()}const _F=(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if(e.name!==yF)throw os.create("FB not default");if(typeof window>"u")throw os.create("no window");xj(window);const r=new mF(e,i);return r._init(t),r};function bF(){Ys(new xs("performance",_F,"PUBLIC")),Nr(aT,D2),Nr(aT,D2,"esm2017")}bF();const wF={apiKey:"AIzaSyCbU834quCY8hjSffRwljJLgZrcxK8i2F4",authDomain:"liquidacionapp-62962.firebaseapp.com",projectId:"liquidacionapp-62962",storageBucket:"liquidacionapp-62962.firebasestorage.app",messagingSenderId:"851382130132",appId:"1:851382130132:web:eaba38fab449f14fb5b241"},bg=LE(wF),hI=typeof window<"u"?ej(bg):null;typeof window<"u"&&vF(bg);const Br=hD(bg),Za=l8(bg),SF=O7(bg);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="/firebase-messaging-sw.js",TF="/firebase-cloud-messaging-push-scope",fI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xF="https://fcmregistrations.googleapis.com/v1",dI="google.c.a.c_id",EF="google.c.a.c_l",NF="google.c.a.ts",IF="google.c.a.e",mT=1e4;var yT;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(yT||(yT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Xp;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(Xp||(Xp={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CF(n){const t="=".repeat((4-n.length%4)%4),e=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="fcm_token_details_db",RF=5,vT="fcm_token_object_Store";async function LF(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(xv))return null;let t=null;return(await t1(xv,RF,{upgrade:async(i,r,s,o)=>{var c;if(r<2||!i.objectStoreNames.contains(vT))return;const u=o.objectStore(vT),f=await u.index("fcmSenderId").get(n);if(await u.clear(),!!f){if(r===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(c=p.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:dc(p.vapidKey)}}}else if(r===3){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:dc(p.auth),p256dh:dc(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:dc(p.vapidKey)}}}else if(r===4){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:dc(p.auth),p256dh:dc(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:dc(p.vapidKey)}}}}}})).close(),await rv(xv),await rv("fcm_vapid_details_db"),await rv("undefined"),PF(t)?t:null}function PF(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="firebase-messaging-database",DF=1,Qp="firebase-messaging-store";let Ev=null;function pI(){return Ev||(Ev=t1(kF,DF,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Qp)}}})),Ev}async function MF(n){const t=gI(n),i=await(await pI()).transaction(Qp).objectStore(Qp).get(t);if(i)return i;{const r=await LF(n.appConfig.senderId);if(r)return await Lb(n,r),r}}async function Lb(n,t){const e=gI(n),r=(await pI()).transaction(Qp,"readwrite");return await r.objectStore(Qp).put(t,e),await r.done,t}function gI({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ds=new Rc("messaging","Messaging",OF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(n,t){const e=await kb(n),i=mI(t),r={method:"POST",headers:e,body:JSON.stringify(i)};let s;try{s=await(await fetch(Pb(n.appConfig),r)).json()}catch(o){throw ds.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ds.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw ds.create("token-subscribe-no-token");return s.token}async function FF(n,t){const e=await kb(n),i=mI(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Pb(n.appConfig)}/${t.token}`,r)).json()}catch(o){throw ds.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw ds.create("token-update-failed",{errorInfo:o})}if(!s.token)throw ds.create("token-update-no-token");return s.token}async function VF(n,t){const i={method:"DELETE",headers:await kb(n)};try{const s=await(await fetch(`${Pb(n.appConfig)}/${t}`,i)).json();if(s.error){const o=s.error.message;throw ds.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw ds.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function Pb({projectId:n}){return`${xF}/projects/${n}/registrations`}async function kb({appConfig:n,installations:t}){const e=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})}function mI({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==fI&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=7*24*60*60*1e3;async function UF(n){const t=await qF(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:dc(t.getKey("auth")),p256dh:dc(t.getKey("p256dh"))},i=await MF(n.firebaseDependencies);if(i){if(HF(i.subscriptionOptions,e))return Date.now()>=i.createTime+BF?zF(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{await VF(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return _T(n.firebaseDependencies,e)}else return _T(n.firebaseDependencies,e)}async function zF(n,t){try{const e=await FF(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return await Lb(n.firebaseDependencies,i),e}catch(e){throw e}}async function _T(n,t){const i={token:await jF(n,t),createTime:Date.now(),subscriptionOptions:t};return await Lb(n,i),i.token}async function qF(n,t){const e=await n.pushManager.getSubscription();return e||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CF(t)})}function HF(n,t){const e=t.vapidKey===n.vapidKey,i=t.endpoint===n.endpoint,r=t.auth===n.auth,s=t.p256dh===n.p256dh;return e&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return GF(t,n),WF(t,n),$F(t,n),t}function GF(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r);const s=t.notification.icon;s&&(n.notification.icon=s)}function WF(n,t){t.data&&(n.data=t.data)}function $F(n,t){var e,i,r,s,o;if(!t.fcmOptions&&!(!((e=t.notification)===null||e===void 0)&&e.click_action))return;n.fcmOptions={};const c=(r=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&r!==void 0?r:(s=t.notification)===null||s===void 0?void 0:s.click_action;c&&(n.fcmOptions.link=c);const u=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(n){return typeof n=="object"&&!!n&&dI in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(n){if(!n||!n.options)throw Nv("App Configuration Object");if(!n.name)throw Nv("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw Nv(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function Nv(n){return ds.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=KF(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(n){try{n.swRegistration=await navigator.serviceWorker.register(AF,{scope:TF}),n.swRegistration.update().catch(()=>{}),await JF(n.swRegistration)}catch(t){throw ds.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function JF(n){return new Promise((t,e)=>{const i=setTimeout(()=>e(new Error(`Service worker not registered after ${mT} ms`)),mT),r=n.installing||n.waiting;n.active?(clearTimeout(i),t()):r?r.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(r.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),e(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(n,t){if(!t&&!n.swRegistration&&await QF(n),!(!t&&n.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw ds.create("invalid-sw-registration");n.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=fI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n,t){if(!navigator)throw ds.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ds.create("permission-blocked");return await tV(n,t==null?void 0:t.vapidKey),await ZF(n,t==null?void 0:t.serviceWorkerRegistration),UF(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(n,t,e){const i=nV(t);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[dI],message_name:e[EF],message_time:e[NF],message_device_time:Math.floor(Date.now()/1e3)})}function nV(n){switch(n){case Xp.NOTIFICATION_CLICKED:return"notification_open";case Xp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===Xp.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(bT(e)):n.onMessageHandler.next(bT(e)));const i=e.data;YF(i)&&i[IF]==="1"&&await eV(n,e.messageType,i)}const wT="@firebase/messaging",ST="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=n=>{const t=new XF(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>iV(t,e)),t},sV=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>yI(t,i)}};function aV(){Ys(new xs("messaging",rV,"PUBLIC")),Ys(new xs("messaging-internal",sV,"PRIVATE")),Nr(wT,ST),Nr(wT,ST,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(){try{await Z0()}catch{return!1}return typeof window<"u"&&J0()&&f_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(n,t){if(!navigator)throw ds.create("only-available-in-window");return n.onMessageHandler=t,()=>{n.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n=ud()){return oV().then(t=>{if(!t)throw ds.create("unsupported-browser")},t=>{throw ds.create("indexed-db-unsupported")}),Cl(On(n),"messaging").getImmediate()}async function uV(n,t){return n=On(n),yI(n,t)}function hV(n,t){return n=On(n),lV(n,t)}aV();const Db=()=>hI!==null&&typeof window<"u",Or=(n,t={})=>{if(!Db()){console.log(`Analytics no disponible - Evento: ${n}`,t);return}try{DN(hI,n,t),console.log(` Evento tracked: ${n}`,t)}catch(e){console.error("Error tracking event:",e)}},In={login:(n="email")=>{Or("login",{method:n,timestamp:new Date().toISOString()})},logout:()=>{Or("logout",{timestamp:new Date().toISOString()})},signup:(n="email")=>{Or("sign_up",{method:n,timestamp:new Date().toISOString()})},liquidacionCreada:(n,t,e)=>{Or("liquidacion_creada",{clientes_count:n,deducciones_count:t,total_amount:e,timestamp:new Date().toISOString()})},liquidacionCalculada:(n,t)=>{Or("liquidacion_calculada",{total_amount:n,clientes_count:t,timestamp:new Date().toISOString()})},pdfGenerado:(n="general")=>{Or("pdf_generado",{tipo:n,timestamp:new Date().toISOString()})},pdfDescargado:(n="general")=>{Or("pdf_descargado",{tipo:n,timestamp:new Date().toISOString()})},seccionVisitada:n=>{Or("seccion_visitada",{seccion:n,timestamp:new Date().toISOString()})},liquidacionEliminada:()=>{Or("liquidacion_eliminada",{timestamp:new Date().toISOString()})},liquidacionRestaurada:()=>{Or("liquidacion_restaurada",{timestamp:new Date().toISOString()})},temaChanged:n=>{Or("tema_changed",{tema:n,timestamp:new Date().toISOString()})},error:(n,t)=>{Or("app_error",{error_type:n,error_message:t,timestamp:new Date().toISOString()})},formularioResetado:()=>{Or("formulario_reseteado",{timestamp:new Date().toISOString()})},clienteAadido:()=>{Or("cliente_aadido",{timestamp:new Date().toISOString()})},deduccionAadida:()=>{Or("deduccion_aadida",{timestamp:new Date().toISOString()})},custom:(n,t={})=>{Or(n,{...t,timestamp:new Date().toISOString()})}},fV=n=>{Db()&&Or("page_view",{page_title:n,page_location:window.location.href,timestamp:new Date().toISOString()})},dV=()=>{Db()&&(window.addEventListener("error",n=>{In.error("javascript_error",n.message)}),window.addEventListener("unhandledrejection",n=>{var t;In.error("promise_rejection",((t=n.reason)==null?void 0:t.message)||"Promise rejected")}))};let ad=null;try{ad=cV()}catch(n){console.warn("Firebase Messaging no disponible:",n)}const pV="BOPEiBBOuZfrxl5TTwpOtl_AlLmAieTuinqmQYcnOD9DEL5I11rASCwm8KUNV3ZCldra_fv2qGtw7p5NyCvLC7A",gV=n=>`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${n}/fcm/token`,mV=async()=>{try{if(!("Notification"in window))return console.warn("Este navegador no soporta notificaciones"),"not-supported";const n=await Notification.requestPermission();return In.custom("notification_permission_requested",{permission:n,user_agent:navigator.userAgent}),console.log(" Permiso de notificaciones:",n),n}catch(n){return console.error(" Error solicitando permisos:",n),In.custom("notification_permission_error",{error_message:n.message}),"error"}},yV=async n=>{try{if(!ad)return{success:!1,message:"Firebase Messaging no disponible"};if(await mV()!=="granted")return{success:!1,message:"Permisos de notificacin denegados"};const e=await uV(ad,{vapidKey:pV});return e?(await vV(n,e),In.custom("fcm_token_generated",{user_id:n,has_token:!0}),console.log(" TOKEN FCM COMPLETO PARA PRUEBAS:"),console.log("=========================================="),console.log(e),console.log("=========================================="),console.log(" Token FCM obtenido exitosamente"),{success:!0,token:e,message:"Token FCM obtenido exitosamente"}):{success:!1,message:"No se pudo obtener token FCM"}}catch(t){return console.error(" Error obteniendo token FCM:",t),In.custom("fcm_token_error",{error_message:t.message}),{success:!1,error:t.message,message:"Error obteniendo token FCM"}}},vV=async(n,t)=>{try{const e=Rl(Za,gV(n)),i={token:t,userId:n,createdAt:Uu(),lastUpdated:Uu(),deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language},isActive:!0};await ub(e,i),console.log(" Token FCM guardado en Firestore")}catch(e){console.error(" Error guardando token FCM:",e)}},_V=n=>{if(!ad)return console.warn("Firebase Messaging no disponible para foreground"),null;try{const t=hV(ad,e=>{var i;console.log(" Mensaje recibido en primer plano:",e),In.custom("notification_received_foreground",{title:(i=e.notification)==null?void 0:i.title,has_data:!!e.data}),e.notification&&bV(e.notification),n&&typeof n=="function"&&n(e)});return console.log(" Listener de mensajes en primer plano configurado"),t}catch(t){return console.error(" Error configurando foreground messaging:",t),null}},bV=n=>{try{if("Notification"in window&&Notification.permission==="granted"){const t=new Notification(n.title,{body:n.body,icon:n.icon||"/favicon.ico",badge:"/favicon.ico",tag:"forestech-notification"});setTimeout(()=>{t.close()},5e3),t.onclick=()=>{window.focus(),t.close()}}}catch(t){console.error(" Error mostrando notificacin:",t)}},wV=()=>"Notification"in window&&"serviceWorker"in navigator&&ad!==null,vI=(n,t,e="local_notification")=>{try{if(!("Notification"in window)){console.warn("Notificaciones no disponibles");return}if(Notification.permission==="granted"){const i=new Notification(n,{body:t,icon:"/favicon.ico",badge:"/favicon.ico",tag:"forestech-auto-notification",requireInteraction:!1,silent:!1,timestamp:Date.now()});In.custom(e,{title:n,body:t.substring(0,50),timestamp:new Date().toISOString()}),setTimeout(()=>{i.close()},5e3),i.onclick=()=>{window.focus(),i.close(),In.custom("notification_clicked",{event_type:e})},console.log(" Notificacin local enviada:",n)}else console.warn("Permisos de notificacin no concedidos")}catch(i){console.error(" Error enviando notificacin local:",i)}},SV=n=>{const t=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(n.totalPayment||0),e=" Liquidacin Guardada",i=`Tu liquidacin de ${t} ha sido guardada exitosamente en el historial.`;vI(e,i,"liquidation_saved_notification")},AV=n=>{const t=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(n.totalPayment||0),e=" PDF Generado",i=`El PDF de tu liquidacin por ${t} ha sido generado y descargado exitosamente.`;vI(e,i,"pdf_generated_notification")},TV=async(n,t=null)=>{try{if(!wV())return{success:!1,message:"Notificaciones no soportadas en este navegador"};const e=await yV(n);if(!e.success)return e;const i=_V(t);return In.custom("notifications_initialized",{user_id:n,success:!0}),{success:!0,token:e.token,unsubscribe:i,message:"Notificaciones inicializadas exitosamente"}}catch(e){return console.error(" Error inicializando notificaciones:",e),In.custom("notifications_init_error",{error_message:e.message}),{success:!1,error:e.message,message:"Error inicializando notificaciones"}}},xV=async n=>{if(!Br.currentUser)return Promise.reject("Usuario no autenticado.");const t=Br.currentUser.uid,e=Z_(Za,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`);try{const i=await T8(e,n);return SV(n),i}catch(i){throw console.error(" Error guardando liquidacin:",i),i}},EV=n=>{if(!Br.currentUser)return()=>{};const t=Br.currentUser.uid,e=q3(Z_(Za,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`));return x8(e,r=>{const s=r.docs.map(o=>({id:o.id,...o.data()}));s.sort((o,c)=>new Date(c.timestamp)-new Date(o.timestamp)),n(s)})},NV=n=>{if(!Br.currentUser)return Promise.reject("Usuario no autenticado.");const t=Br.currentUser.uid,e=Rl(Za,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${t}/settlements`,n);return A8(e)},IV=(n,t)=>{if(!Br.currentUser)return Promise.reject("Usuario no autenticado.");const e=Br.currentUser.uid,i=Rl(Za,`artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users/${e}/settlements`,n);return A1(i,{status:"Pagada",comprobantePagoBase64:t})},_n={ADMIN:"admin",CONTADOR:"contador",CLIENTE:"cliente"},ri={CREATE_SETTLEMENTS:"canCreateSettlements",VIEW_ALL_SETTLEMENTS:"canViewAllSettlements",MANAGE_USERS:"canManageUsers",EXPORT_REPORTS:"canExportReports",DELETE_SETTLEMENTS:"canDeleteSettlements",MODIFY_SETTINGS:"canModifySettings"},Mb="contacto.evert@gmail.com",C1=n=>{switch(n){case _n.ADMIN:return{[ri.CREATE_SETTLEMENTS]:!0,[ri.VIEW_ALL_SETTLEMENTS]:!0,[ri.MANAGE_USERS]:!0,[ri.EXPORT_REPORTS]:!0,[ri.DELETE_SETTLEMENTS]:!0,[ri.MODIFY_SETTINGS]:!0};case _n.CONTADOR:return{[ri.CREATE_SETTLEMENTS]:!0,[ri.VIEW_ALL_SETTLEMENTS]:!0,[ri.MANAGE_USERS]:!1,[ri.EXPORT_REPORTS]:!0,[ri.DELETE_SETTLEMENTS]:!0,[ri.MODIFY_SETTINGS]:!1};case _n.CLIENTE:default:return{[ri.CREATE_SETTLEMENTS]:!0,[ri.VIEW_ALL_SETTLEMENTS]:!1,[ri.MANAGE_USERS]:!1,[ri.EXPORT_REPORTS]:!1,[ri.DELETE_SETTLEMENTS]:!1,[ri.MODIFY_SETTINGS]:!1}}},CV=n=>n===Mb?_n.ADMIN:_n.CLIENTE,RV=n=>{switch(n){case _n.ADMIN:return"Administrador - Control total del sistema";case _n.CONTADOR:return"Contador - Crear y gestionar liquidaciones";case _n.CLIENTE:return"Cliente - Ver sus propias liquidaciones";default:return"Rol no definido"}},LV=n=>{switch(n){case _n.ADMIN:return"#dc2626";case _n.CONTADOR:return"#2563eb";case _n.CLIENTE:return"#16a34a";default:return"#6b7280"}},Yh=()=>"artifacts/1:851382130132:web:eaba38fab449f14fb5b241/users",PV=async(n,t=null)=>{try{const e=t||CV(n.email),i=C1(e),r={uid:n.uid,email:n.email,displayName:n.displayName||n.email.split("@")[0],role:e,permissions:i,createdAt:Uu(),lastLogin:Uu(),emailVerified:n.emailVerified,photoURL:n.photoURL||null,isActive:!0},s=Rl(Za,`${Yh()}/${n.uid}/profile/data`);return await ub(s,r),In.custom("user_profile_created",{role:e,method:"automatic"}),console.log(" Perfil de usuario creado:",e,n.email),{success:!0,profile:r,message:"Perfil creado exitosamente"}}catch(e){return console.error(" Error creando perfil de usuario:",e),In.custom("user_profile_error",{error_code:e.code,operation:"create"}),{success:!1,error:e.message,message:"Error al crear perfil de usuario"}}},od=async n=>{try{const t=Rl(Za,`${Yh()}/${n}/profile/data`),e=await w8(t);return e.exists()?{success:!0,profile:e.data()}:{success:!1,profile:null,message:"Perfil no encontrado"}}catch(t){return console.error(" Error obteniendo perfil de usuario:",t),{success:!1,error:t.message,profile:null}}},kV=async n=>{try{const t=Rl(Za,`${Yh()}/${n}/profile/data`);return await A1(t,{lastLogin:Uu()}),{success:!0,message:"ltima conexin actualizada"}}catch(t){return console.error(" Error actualizando ltima conexin:",t),{success:!1,error:t.message}}},AT=async n=>{try{const t=await od(n.uid);if(t.success&&t.profile){if(await kV(n.uid),n.email===Mb&&t.profile.role!==_n.ADMIN){console.log(" Actualizando permisos de admin para:",n.email);const e=await DV(n.uid);if(e.success)return{success:!0,profile:e.profile}}return{success:!0,profile:t.profile}}else return console.log(" Creando nuevo perfil para:",n.email),await PV(n)}catch(t){return console.error(" Error en getOrCreateUserProfile:",t),{success:!1,error:t.message,message:"Error procesando perfil de usuario"}}},DV=async n=>{try{const t=Rl(Za,`${Yh()}/${n}/profile/data`),e=C1(_n.ADMIN),i={role:_n.ADMIN,permissions:e,updatedAt:Uu()};await A1(t,i);const r=await od(n);return In.custom("user_role_upgraded",{role:_n.ADMIN,method:"automatic"}),console.log(" Usuario actualizado a Admin"),{success:!0,profile:r.profile,message:"Permisos de administrador otorgados"}}catch(t){return console.error(" Error actualizando a admin:",t),{success:!1,error:t.message}}},MV=async(n,t,e)=>{try{const i=await od(e);if(!i.success||i.profile.role!==_n.ADMIN)return{success:!1,message:"Solo los administradores pueden cambiar roles"};const r=await od(n);if(r.success&&r.profile.email===Mb)return{success:!1,message:"No se puede modificar el rol del administrador principal"};const s=Rl(Za,`${Yh()}/${n}/profile/data`),o=C1(t);return await A1(s,{role:t,permissions:o,updatedAt:Uu(),updatedBy:e}),In.custom("user_role_changed",{new_role:t,changed_by:"admin"}),{success:!0,message:"Rol actualizado exitosamente"}}catch(i){return console.error(" Error cambiando rol de usuario:",i),{success:!1,error:i.message}}},_I=async n=>{try{const t=await od(n);if(!t.success||t.profile.role!==_n.ADMIN)return{success:!1,message:"Acceso denegado"};const e=Z_(Za,Yh()),i=q3(e),r=await S8(i),s=[];return r.forEach(o=>{o.id!=="profile"&&s.push({id:o.id,...o.data()})}),{success:!0,users:s}}catch(t){return console.error(" Error obteniendo usuarios:",t),{success:!1,error:t.message}}},OV=async(n,t)=>{try{const e=await od(t);if(!e.success||e.profile.role!==_n.ADMIN)return{success:!1,message:"Solo los administradores pueden crear usuarios"};const{email:i,password:r,displayName:s,role:o}=n;if(!i||!r||!s||!o)return{success:!1,message:"Todos los campos son requeridos (email, contrasea, nombre, rol)"};if(!Object.values(_n).includes(o))return{success:!1,message:"Rol no vlido"};if(o===_n.ADMIN)return{success:!1,message:"No se pueden crear mltiples administradores"};const c=await _I(t);if(c.success&&c.users.some(_=>_.email===i))return{success:!1,message:"Ya existe un usuario con ese email"};const u=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f=C1(o),p={uid:u,email:i,displayName:s,role:o,permissions:f,accountStatus:"pending",temporaryPassword:r,createdAt:Uu(),createdBy:t,mustChangePassword:!0},y=Rl(Za,`${Yh()}/${u}/profile/data`);return await ub(y,p),In.custom("new_user_created",{user_role:o,created_by:"admin"}),{success:!0,message:"Usuario creado exitosamente",userId:u,temporaryPassword:r}}catch(e){return console.error(" Error creando nuevo usuario:",e),{success:!1,error:e.message}}},bI=be.createContext(),R1=()=>{const n=be.useContext(bI);if(n===void 0)throw new Error("useUser debe ser usado dentro de un UserProvider");return n},jV=({children:n})=>{const[t,e]=be.useState(null),[i,r]=be.useState(null),[s,o]=be.useState(!0),[c,u]=be.useState(null);be.useEffect(()=>ZP(Br,async F=>{try{if(o(!0),u(null),F){console.log(" Usuario autenticado:",F.email);const z=await AT(F);z.success?(e(F),r(z.profile),In.custom("user_session_start",{role:z.profile.role,email_verified:F.emailVerified}),console.log(" Perfil cargado:",z.profile.role,F.email)):(console.error(" Error cargando perfil:",z.error),u(z.message||"Error cargando perfil de usuario"),e(F),r(null))}else console.log(" Usuario desconectado"),e(null),r(null),u(null)}catch(z){console.error(" Error en onAuthStateChanged:",z),u("Error de autenticacin"),In.custom("auth_error",{error_message:z.message})}finally{o(!1)}}),[]);const f=P=>!i||!i.permissions?!1:i.permissions[P]===!0,p=P=>i?i.role===P:!1,y=()=>p(_n.ADMIN),b=()=>p(_n.CONTADOR),_=()=>p(_n.CLIENTE),E=()=>f(ri.CREATE_SETTLEMENTS),N=()=>f(ri.VIEW_ALL_SETTLEMENTS),C=()=>f(ri.MANAGE_USERS),I=()=>f(ri.EXPORT_REPORTS),M=()=>f(ri.DELETE_SETTLEMENTS),$=()=>f(ri.MODIFY_SETTINGS),nt=async()=>{if(t){o(!0);try{const P=await AT(t);P.success&&r(P.profile)}catch(P){console.error("Error recargando perfil:",P)}finally{o(!1)}}},et=()=>!t||!i?{displayName:"Usuario",email:"",role:"",roleDescription:""}:{displayName:i.displayName||t.displayName||t.email.split("@")[0],email:t.email,role:i.role,roleDescription:pt(i.role)},pt=P=>{switch(P){case _n.ADMIN:return"Administrador";case _n.CONTADOR:return"Contador";case _n.CLIENTE:return"Cliente";default:return"Usuario"}},q={user:t,userProfile:i,loading:s,error:c,isRole:p,isAdmin:y,isContador:b,isCliente:_,hasPermission:f,canCreateSettlements:E,canViewAllSettlements:N,canManageUsers:C,canExportReports:I,canDeleteSettlements:M,canModifySettings:$,getUserInfo:et,reloadUserProfile:nt,ROLES:_n,PERMISSIONS:ri};return H.jsx(bI.Provider,{value:q,children:n})};function FV({isAuthenticated:n,onLogout:t,onToggleTheme:e}){return H.jsxs("div",{className:"header",children:[H.jsxs("div",{className:"theme-switcher",onClick:e,children:[H.jsx("span",{className:"light-icon",children:""}),H.jsx("span",{className:"dark-icon",children:""})]}),H.jsx("div",{style:{position:"absolute",top:"15px",left:"20px"}}),n&&H.jsx("div",{style:{position:"absolute",top:"15px",right:"80px"},children:H.jsx("button",{className:"logout",onClick:t,style:{padding:"8px 12px",borderRadius:"8px"},children:"Cerrar Sesin"})}),H.jsx("h1",{id:"appTitle",children:" Liquidacin de Comidas Multi-Cliente "}),H.jsx("p",{id:"headerSubtitle",children:"Sistema interactivo para facturacin a mltiples clientes"})]})}const Ob=new gc;Ob.addScope("email");Ob.addScope("profile");const VV=async(n,t)=>{try{const e=await XP(Br,n,t);return In.login("email"),{success:!0,user:e.user,message:"Inicio de sesin exitoso"}}catch(e){return In.error("login_email_error",e.message),{success:!1,error:e.code,message:L1(e.code)}}},BV=async()=>{var n;try{const t=await bk(Br,Ob),e=t.user,i=((n=t._tokenResponse)==null?void 0:n.isNewUser)||!1;return i?In.signup("google"):In.login("google"),{success:!0,user:e,isNewUser:i,message:i?"Cuenta creada exitosamente con Google":"Inicio de sesin exitoso con Google"}}catch(t){return In.error("login_google_error",t.message),{success:!1,error:t.code,message:L1(t.code)}}},UV=async(n,t)=>{try{const i=(await KP(Br,n,t)).user;return await i4(i),In.signup("email"),{success:!0,user:i,message:"Cuenta creada exitosamente. Revisa tu email para verificar tu cuenta."}}catch(e){return In.error("register_email_error",e.message),{success:!1,error:e.code,message:L1(e.code)}}},zV=async()=>{try{return Br.currentUser?(await i4(Br.currentUser),{success:!0,message:"Email de verificacin enviado"}):{success:!1,message:"No hay usuario autenticado"}}catch(n){return In.error("resend_verification_error",n.message),{success:!1,error:n.code,message:L1(n.code)}}},L1=n=>({"auth/user-not-found":"No se encontr una cuenta con este email","auth/wrong-password":"Contrasea incorrecta","auth/email-already-in-use":"Ya existe una cuenta con este email","auth/weak-password":"La contrasea debe tener al menos 6 caracteres","auth/invalid-email":"El email no es vlido","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos. Intenta ms tarde","auth/network-request-failed":"Error de conexin. Verifica tu internet","auth/popup-closed-by-user":"Inicio de sesin cancelado","auth/popup-blocked":"El popup fue bloqueado por el navegador","auth/cancelled-popup-request":"Solo una ventana de login puede estar abierta a la vez","auth/account-exists-with-different-credential":"Ya existe una cuenta con este email usando un mtodo diferente","auth/invalid-credential":"Credenciales invlidas","auth/operation-not-allowed":"Operacin no permitida","auth/invalid-verification-code":"Cdigo de verificacin invlido","auth/invalid-verification-id":"ID de verificacin invlido"})[n]||"Ocurri un error inesperado. Intenta nuevamente.";function qV(){const[n,t]=be.useState("welcome"),[e,i]=be.useState(""),[r,s]=be.useState(""),[o,c]=be.useState(""),[u,f]=be.useState(!1),p=()=>{t("email"),i("")},y=()=>{t("welcome"),i("")},b=I=>{console.error("Error de autenticacin:",I.code,I.message);let M="Ocurri un error. Intntalo de nuevo.";I.code==="auth/email-already-in-use"?M="El email ya est en uso. Intenta iniciar sesin.":I.code==="auth/invalid-email"?M="El formato del email es invlido.":I.code==="auth/weak-password"?M="La contrasea es muy dbil (mnimo 6 caracteres).":I.code==="auth/invalid-credential"&&(M="Email o contrasea incorrectos."),i(M)},_=async()=>{f(!0),i("Iniciando como invitado...");try{await GP(Br),In.login("anonymous")}catch(I){b(I)}finally{f(!1)}},E=async()=>{f(!0),i("Iniciando sesin con Google...");try{const I=await BV();I.success,i(I.message)}catch{i("Error al iniciar sesin con Google")}finally{f(!1)}},N=async()=>{if(!r||!o){i("Por favor, introduce email y contrasea.");return}f(!0),i("Iniciando sesin...");const I=await VV(r,o);I.success,i(I.message),f(!1)},C=async()=>{if(!r||!o||o.length<6){i("Verifica los datos (contrasea de 6+ caracteres).");return}f(!0),i("Registrando...");const I=await UV(r,o);I.success,i(I.message),f(!1)};return H.jsxs("div",{children:[n==="welcome"&&H.jsxs("div",{className:"welcome-screen",children:[H.jsx("h2",{children:"Bienvenido a Liquidacin de Comidas!"}),H.jsx("p",{children:"Elige cmo quieres acceder a la aplicacin."}),H.jsxs("div",{className:"welcome-buttons",children:[H.jsx("button",{className:"google-auth-btn",onClick:E,disabled:u,children:u?"Cargando...":" Continuar con Google"}),H.jsx("button",{className:"email-auth-btn",onClick:p,disabled:u,children:u?"Cargando...":" Email y Contrasea"}),H.jsx("button",{className:"guest-auth-btn",onClick:_,disabled:u,children:u?"Cargando...":" Continuar como Invitado"})]}),H.jsx("p",{className:"auth-message",children:e})]}),n==="email"&&H.jsxs("div",{className:"auth-section",children:[H.jsx("h3",{children:"Acceso con Email y Contrasea"}),H.jsx("p",{children:"Inicia sesin o regstrate para guardar tus datos en la nube."}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"authEmail",children:"Email:"}),H.jsx("input",{type:"email",id:"authEmail",placeholder:"tu@ejemplo.com",value:r,onChange:I=>s(I.target.value),required:!0})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"authPassword",children:"Contrasea:"}),H.jsx("input",{type:"password",id:"authPassword",placeholder:"min. 6 caracteres",value:o,onChange:I=>c(I.target.value),required:!0})]}),H.jsxs("div",{className:"auth-buttons",children:[H.jsx("button",{className:"login",onClick:N,disabled:u,children:u?"Verificando...":"Iniciar Sesin"}),H.jsx("button",{className:"register",onClick:C,disabled:u,children:u?"Registrando...":"Registrarse"})]}),H.jsx("button",{className:"secondary-button",onClick:y,disabled:u,style:{width:"auto",marginTop:"15px"},children:" Volver"}),H.jsx("p",{className:"auth-message",children:e})]})]})}const jb=(n="es-CO",t="COP")=>{try{return new Intl.NumberFormat(n,{style:"currency",currency:t})}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},HV=(n,t,e)=>{const{valorComida:i,moneda:r}=n,s="es-CO",o=parseFloat(i)||0,c=t.map(_=>{const E=parseInt(_.meals,10)||0,N=E*o;return{..._,comidas:E,ingresoBrutoCliente:N}}),u=c.reduce((_,E)=>_+E.comidas,0),f=u*o,p=e.map(_=>{const E=parseFloat(_.value)||0,N=_.type==="fixed"?E:f*(E/100),C=_.type==="percent"?`${E}%`:jb(s,r).format(E);return{..._,montoCalculado:N,displayValue:C}}),y=p.reduce((_,E)=>_+E.montoCalculado,0),b=f-y;return{config:{...n,locale:s,moneda:r},clientes:c,mariella:{totalComidasGestionadas:u,totalIngresoBruto:f,deducciones:p,totalDeducciones:y,saldoFinalNeto:b}}};function GV({data:n,setData:t}){const e=i=>{const{id:r,value:s}=i.target;t(o=>({...o,[r]:s}))};return H.jsxs(H.Fragment,{children:[H.jsx("h2",{children:" Datos Generales"}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"nombreMariella",children:" Nombre del Facturador:"}),H.jsx("input",{type:"text",id:"nombreMariella",value:n.nombreMariella,onChange:e,required:!0})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"facturadorDireccion",children:" Campamento del Facturador:"}),H.jsxs("select",{id:"facturadorDireccion",value:n.campamento,onChange:e,required:!0,children:[H.jsx("option",{value:"",children:"Selecciona un campamento"}),H.jsx("option",{value:"AUSTRIA",children:"AUSTRIA"}),H.jsx("option",{value:"BARQUEREA",children:"BARQUEREA"}),H.jsx("option",{value:"TERQUEDAD",children:"TERQUEDAD"}),H.jsx("option",{value:"ATABAPO",children:"ATABAPO"})]})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"facturadorContacto",children:" Contacto:"}),H.jsx("input",{type:"text",id:"facturadorContacto",value:n.contacto,onChange:e,placeholder:"Email/Telfono"})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"invoiceNumber",children:"# Nmero de Factura:"}),H.jsx("input",{type:"text",id:"invoiceNumber",value:n.facturaNum,onChange:e,placeholder:"Opcional"})]}),H.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"mesServicio",children:" Mes del Servicio:"}),H.jsx("input",{type:"month",id:"mesServicio",name:"mesServicio",value:n.mes,onChange:e})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"moneda",children:" Moneda:"}),H.jsxs("select",{id:"moneda",value:n.moneda,onChange:e,children:[H.jsx("option",{value:"COP",children:"Peso Colombiano (COP)"}),H.jsx("option",{value:"USD",children:"Dlar Americano (USD)"}),H.jsx("option",{value:"EUR",children:"Euro (EUR)"}),H.jsx("option",{value:"MXN",children:"Peso Mexicano (MXN)"})]})]})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"valorComida",children:" Valor por Comida:"}),H.jsx("input",{type:"number",id:"valorComida",value:n.valorComida,onChange:e,min:"0",step:"100",required:!0})]}),H.jsx("hr",{style:{margin:"20px 0"}})]})}function WV({client:n,onRemove:t,onUpdate:e}){const{id:i,name:r,meals:s}=n;return H.jsxs("div",{className:"client-input-group",children:[H.jsxs("div",{className:"client-header",children:[H.jsx("h4",{children:"Cliente"}),H.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:`nombre_${i}`,children:"Nombre del Cliente:"}),H.jsx("input",{type:"text",id:`nombre_${i}`,value:r,onChange:o=>e(i,"name",o.target.value),placeholder:"Ej: Jaider",required:!0})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:`comidas_${i}`,children:"Comidas Facturadas:"}),H.jsx("div",{className:"input-wrapper",children:H.jsx("input",{type:"number",id:`comidas_${i}`,value:s,onChange:o=>e(i,"meals",parseInt(o.target.value)||0),min:"0"})})]})]})}function $V({clients:n,setClients:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",meals:0}])},i=s=>{n.length<=1||t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return H.jsxs(H.Fragment,{children:[H.jsx("h3",{children:" Clientes"}),H.jsx("div",{id:"clientesContainer",children:n.map(s=>H.jsx(WV,{client:s,onRemove:i,onUpdate:r},s.id))}),H.jsx("button",{className:"secondary-button",onClick:e,children:" Aadir Cliente"}),H.jsx("hr",{style:{margin:"20px 0"}})]})}function YV({deduction:n,onRemove:t,onUpdate:e}){const{id:i,name:r,type:s,value:o,category:c}=n;return H.jsxs("div",{className:"deduction-input-group",children:[H.jsxs("div",{className:"deduction-header",children:[H.jsx("h4",{children:"Deduccin"}),H.jsx("button",{className:"remove-btn",onClick:()=>t(i),children:"Eliminar"})]}),H.jsxs("div",{className:"deduction-input-row",children:[H.jsx("input",{type:"text",className:"deduction-name",value:r,onChange:u=>e(i,"name",u.target.value),placeholder:"Concepto",required:!0}),H.jsxs("select",{className:"deduction-type",value:s,onChange:u=>e(i,"type",u.target.value),children:[H.jsx("option",{value:"fixed",children:"Fijo ($)"}),H.jsx("option",{value:"percent",children:"Porcentaje (%)"})]}),H.jsx("input",{type:"number",className:"deduction-value",value:o,onChange:u=>e(i,"value",parseFloat(u.target.value)||0),min:"0",step:"0.1",required:!0}),H.jsxs("select",{className:"deduction-category",value:c,onChange:u=>e(i,"category",u.target.value),children:[H.jsx("option",{value:"",children:"Seleccionar..."}),H.jsx("option",{value:"Impuesto",children:"Impuesto"}),H.jsx("option",{value:"Servicio",children:"Servicio"}),H.jsx("option",{value:"Personal",children:"Personal"}),H.jsx("option",{value:"Transporte",children:"Transporte"}),H.jsx("option",{value:"Otros",children:"Otros"})]})]})]})}function KV({deductions:n,setDeductions:t}){const e=()=>{const s=n.length>0?Math.max(...n.map(o=>o.id))+1:1;t([...n,{id:s,name:"",type:"fixed",value:0,category:""}])},i=s=>{t(n.filter(o=>o.id!==s))},r=(s,o,c)=>{t(n.map(u=>u.id===s?{...u,[o]:c}:u))};return H.jsxs(H.Fragment,{children:[H.jsx("h3",{children:" Deducciones del Facturador"}),H.jsx("div",{id:"deduccionesContainer",children:n.map(s=>H.jsx(YV,{deduction:s,onRemove:i,onUpdate:r},s.id))}),H.jsx("button",{className:"secondary-button",onClick:e,children:" Aadir Deduccin"}),H.jsx("hr",{style:{margin:"20px 0"}})]})}function XV({customData:n,setCustomData:t}){const e=r=>{const{id:s,value:o}=r.target;t(c=>({...c,[s]:o}))},i=r=>{const{id:s,files:o}=r.target,c=o[0];if(!c)return;const u=new FileReader;u.readAsDataURL(c),u.onload=()=>{t(f=>({...f,[s]:u.result}))},u.onerror=f=>{console.error("Error al leer el archivo:",f),alert("No se pudo cargar el archivo.")}};return H.jsxs(H.Fragment,{children:[H.jsx("hr",{style:{margin:"20px 0"}}),H.jsx("h3",{children:" Personalizacin de PDF"}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"logo",children:" Subir Logo (opcional):"}),H.jsx("input",{type:"file",id:"logo",accept:"image/png, image/jpeg",onChange:i})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"signature",children:" Subir Firma/Sello (opcional):"}),H.jsx("input",{type:"file",id:"signature",accept:"image/png, image/jpeg",onChange:i})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"headerText",children:" Texto de Encabezado Personalizado:"}),H.jsx("input",{type:"text",id:"headerText",value:n.headerText,onChange:e,placeholder:"Ej: Reporte Confidencial"})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{htmlFor:"footerText",children:" Texto de Pie de Pgina Personalizado:"}),H.jsx("input",{type:"text",id:"footerText",value:n.footerText,onChange:e,placeholder:"Ej: Gracias por su confianza"})]})]})}function QV({onCalculate:n,results:t,onNewSettlement:e}){const i=()=>{window.confirm("Ests seguro de que quieres reiniciar TODA la aplicacin? Se borrar el historial y las configuraciones guardadas.")&&console.log("Reiniciando app...")};return H.jsxs(H.Fragment,{children:[!t&&H.jsx("button",{id:"procesarBtn",className:"main-button",onClick:n,children:" Calcular Liquidacin"}),t&&H.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"10px",flexWrap:"wrap"},children:H.jsx("button",{className:"start-new-btn",onClick:e,children:" Nueva Liquidacin"})}),H.jsx("div",{style:{marginTop:"20px",borderTop:"1px solid var(--border-color)",paddingTop:"20px"},children:H.jsx("button",{className:"reset-btn",onClick:i,children:" Reiniciar Toda la App"})})]})}function JV({item:n,onDelete:t,onOpenPaymentModal:e}){const{id:i,summary:r,timestamp:s,status:o,pdfDownloadURL:c,comprobantePagoBase64:u}=n,f=()=>{window.confirm(`Ests seguro de que quieres eliminar la liquidacin de ${r.mesServicio}?`)&&t(i)},p=()=>{c?window.open(c,"_blank"):alert("No se encontr el enlace del PDF para esta liquidacin.")},y=()=>{if(u){const b=window.open();b?(b.document.write('<html><head><title>Visor de Comprobante</title></head><body style="margin:0;">'),b.document.write(`<img src='${u}' style='max-width:100%;'>`),b.document.write("</body></html>")):alert("No se pudo abrir la nueva pestaa. Por favor, revisa los permisos de tu navegador.")}else alert("No se encontr el comprobante de pago para esta liquidacin.")};return H.jsxs("div",{className:"history-item",children:[H.jsxs("div",{className:"history-item-info",children:[H.jsxs("div",{children:[H.jsx("strong",{children:r.nombreMariella||"N/A"})," - ",r.mesServicio||"N/A",H.jsx("br",{}),H.jsxs("small",{children:["Guardado: ",s||"N/A"]})]}),H.jsx("span",{className:`status-label status-${(o||"pendiente").toLowerCase()}`,children:o||"Pendiente"})]}),H.jsxs("div",{className:"history-item-actions",children:[H.jsx("button",{className:"view-pdf-btn",onClick:p,children:"Ver PDF"}),o==="Pagada"?H.jsx("button",{className:"view-receipt-btn",onClick:y,children:"Ver Comprobante"}):H.jsx("button",{className:"register-payment-btn",onClick:()=>e(i),children:"Registrar Pago"}),H.jsx("button",{className:"history-delete-btn",onClick:f,children:"Eliminar"})]})]})}function ZV({history:n,searchTerm:t,setSearchTerm:e,onDeleteItem:i,onOpenPaymentModal:r}){const s=n.filter(o=>{if(!o.summary)return!1;const c=t.toLowerCase(),u=(o.summary.nombreMariella||"").toLowerCase().includes(c),f=(o.summary.mesServicio||"").toLowerCase().includes(c),p=(o.status||"").toLowerCase().includes(c);return u||f||p});return H.jsxs(H.Fragment,{children:[H.jsx("hr",{style:{margin:"20px 0"}}),H.jsxs("div",{className:"history-section-header",children:[H.jsx("h3",{children:" Historial de Liquidaciones"}),H.jsx("div",{className:"history-search-filter",children:H.jsx("input",{type:"text",id:"historySearch",value:t,onChange:o=>e(o.target.value),placeholder:"Buscar por nombre, mes o estado..."})})]}),H.jsx("div",{id:"historyContainer",children:s.length>0?s.map(o=>H.jsx(JV,{item:o,onDelete:i,onOpenPaymentModal:r},o.id)):H.jsx("p",{style:{textAlign:"center",color:"var(--text-muted-color)"},children:"No hay liquidaciones guardadas."})})]})}const tB=({children:n,requiredRole:t,requiredPermission:e,fallback:i,showLoader:r=!0})=>{const{user:s,userProfile:o,loading:c,isRole:u,hasPermission:f}=R1();return c&&r?H.jsx(eB,{}):s?o?t&&!u(t)?i||H.jsx(Cm,{message:`Necesitas ser ${nB(t)} para acceder a esta seccin`}):e&&!f(e)?i||H.jsx(Cm,{message:"No tienes permisos suficientes para realizar esta accin"}):n:i||H.jsx(Cm,{message:"Error cargando perfil de usuario"}):i||H.jsx(Cm,{message:"Debes iniciar sesin para acceder a esta seccin"})},Cm=({message:n})=>H.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center",children:H.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[H.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:H.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 0v2m0-2h2m-2 0H9m11-5a9 9 0 11-18 0 9 9 0 0118 0z"})})}),H.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Acceso Denegado"}),H.jsx("p",{className:"text-red-700 text-sm",children:n})]})}),eB=()=>H.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:H.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[H.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),H.jsx("p",{className:"text-sm text-gray-600",children:"Verificando permisos..."})]})}),nB=n=>({admin:"Administrador",contador:"Contador",cliente:"Cliente"})[n]||n,TT=({children:n,fallback:t})=>H.jsx(tB,{requiredRole:"admin",fallback:t,children:n}),iB=()=>{const{user:n,userProfile:t,reloadUserProfile:e}=R1(),[i,r]=be.useState([]),[s,o]=be.useState(!0),[c,u]=be.useState(null),[f,p]=be.useState("users"),[y,b]=be.useState(null),[_,E]=be.useState({email:"",password:"",displayName:"",role:_n.CLIENTE}),[N,C]=be.useState(!1),[I,M]=be.useState(null);be.useEffect(()=>{$()},[n]);const $=async()=>{if(n){o(!0),u(null);try{const z=await _I(n.uid);z.success?(r(z.users),In.custom("admin_panel_viewed",{users_count:z.users.length})):u(z.message)}catch(z){u("Error cargando usuarios"),console.error("Error loading users:",z)}finally{o(!1)}}},nt=async(z,L,D)=>{if(n){b(z);try{const j=await MV(z,L,n.uid);j.success?(await $(),z===n.uid&&await e(),In.custom("admin_role_changed",{target_email:D,new_role:L,admin_email:n.email}),console.log(" Rol actualizado exitosamente")):(u(j.message),console.error(" Error cambiando rol:",j.message))}catch(j){u("Error actualizando rol"),console.error("Error changing role:",j)}finally{b(null)}}},et=async z=>{if(z.preventDefault(),!!n){C(!0),u(null),M(null);try{const L=await OV(_,n.uid);L.success?(M({message:L.message,temporaryPassword:L.temporaryPassword,userId:L.userId}),E({email:"",password:"",displayName:"",role:_n.CLIENTE}),await $(),In.custom("admin_user_created",{new_user_role:_.role,admin_email:n.email}),console.log(" Usuario creado exitosamente")):(u(L.message),console.error(" Error creando usuario:",L.message))}catch(L){u("Error creando usuario"),console.error("Error creating user:",L)}finally{C(!1)}}},pt=(z,L)=>{E(D=>({...D,[z]:L}))},q=z=>{if(!z)return"N/A";try{const L=z.toDate?z.toDate():new Date(z);return L.toLocaleDateString("es-ES")+" "+L.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},P=()=>{const z=i.reduce((L,D)=>(L[D.role]=(L[D.role]||0)+1,L),{});return{total:i.length,admins:z.admin||0,contadores:z.contador||0,clientes:z.cliente||0}};if(s)return H.jsx(TT,{children:H.jsx("div",{className:"admin-panel loading",children:H.jsxs("div",{className:"loading-spinner",children:[H.jsx("div",{className:"spinner"}),H.jsx("p",{children:"Cargando panel de administracin..."})]})})});const F=P();return H.jsxs(TT,{children:[H.jsxs("div",{className:"admin-panel",children:[H.jsxs("div",{className:"admin-header",children:[H.jsxs("div",{className:"admin-title",children:[H.jsx("h2",{children:"Panel de Administracin"}),H.jsx("p",{children:"Gestin de usuarios y configuraciones del sistema"})]}),H.jsxs("div",{className:"admin-stats",children:[H.jsxs("div",{className:"stat-card",children:[H.jsx("span",{className:"stat-number",children:F.total}),H.jsx("span",{className:"stat-label",children:"Total Usuarios"})]}),H.jsxs("div",{className:"stat-card",children:[H.jsx("span",{className:"stat-number",children:F.admins}),H.jsx("span",{className:"stat-label",children:"Admins"})]}),H.jsxs("div",{className:"stat-card",children:[H.jsx("span",{className:"stat-number",children:F.contadores}),H.jsx("span",{className:"stat-label",children:"Contadores"})]}),H.jsxs("div",{className:"stat-card",children:[H.jsx("span",{className:"stat-number",children:F.clientes}),H.jsx("span",{className:"stat-label",children:"Clientes"})]})]})]}),H.jsxs("div",{className:"admin-tabs",children:[H.jsx("button",{className:`tab-button ${f==="users"?"active":""}`,onClick:()=>p("users"),children:" Gestin de Usuarios"}),H.jsx("button",{className:`tab-button ${f==="create-user"?"active":""}`,onClick:()=>p("create-user"),children:" Crear Usuario"}),H.jsx("button",{className:`tab-button ${f==="notifications"?"active":""}`,onClick:()=>p("notifications"),children:" Notificaciones"}),H.jsx("button",{className:`tab-button ${f==="settings"?"active":""}`,onClick:()=>p("settings"),children:" Configuraciones"})]}),H.jsxs("div",{className:"admin-content",children:[c&&H.jsxs("div",{className:"error-banner",children:[H.jsx("span",{className:"error-icon",children:""}),H.jsx("span",{children:c}),H.jsx("button",{onClick:()=>u(null),className:"error-close",children:""})]}),f==="users"&&H.jsxs("div",{className:"users-management",children:[H.jsxs("div",{className:"users-header",children:[H.jsx("h3",{children:"Gestin de Usuarios"}),H.jsx("button",{onClick:$,className:"refresh-button",children:" Recargar"})]}),H.jsx("div",{className:"users-table-container",children:H.jsxs("table",{className:"users-table",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{children:"Usuario"}),H.jsx("th",{children:"Email"}),H.jsx("th",{children:"Rol Actual"}),H.jsx("th",{children:"ltimo Login"}),H.jsx("th",{children:"Creado"}),H.jsx("th",{children:"Acciones"})]})}),H.jsx("tbody",{children:i.map(z=>H.jsxs("tr",{className:"user-row",children:[H.jsxs("td",{className:"user-info",children:[H.jsx("div",{className:"user-avatar",children:z.displayName?z.displayName.charAt(0).toUpperCase():"?"}),H.jsxs("div",{className:"user-details",children:[H.jsx("span",{className:"user-name",children:z.displayName||"Sin nombre"}),H.jsxs("span",{className:"user-id",children:["ID: ",z.uid.substring(0,8),"..."]})]})]}),H.jsx("td",{className:"user-email",children:z.email}),H.jsx("td",{className:"user-role",children:H.jsx("span",{className:"role-badge",style:{backgroundColor:LV(z.role)},children:RV(z.role)})}),H.jsx("td",{className:"user-date",children:q(z.lastLogin)}),H.jsx("td",{className:"user-date",children:q(z.createdAt)}),H.jsxs("td",{className:"user-actions",children:[z.email!==(t==null?void 0:t.email)&&H.jsxs("select",{value:z.role,onChange:L=>nt(z.uid,L.target.value,z.email),disabled:y===z.uid,className:"role-selector",children:[H.jsx("option",{value:_n.CLIENTE,children:"Cliente"}),H.jsx("option",{value:_n.CONTADOR,children:"Contador"}),H.jsx("option",{value:_n.ADMIN,children:"Admin"})]}),z.email===(t==null?void 0:t.email)&&H.jsx("span",{className:"current-user-badge",children:"T"}),y===z.uid&&H.jsx("div",{className:"action-loading",children:H.jsx("div",{className:"mini-spinner"})})]})]},z.uid))})]})})]}),f==="create-user"&&H.jsxs("div",{className:"create-user-management",children:[H.jsxs("div",{className:"create-user-header",children:[H.jsx("h3",{children:"Crear Nuevo Usuario"}),H.jsx("p",{children:"Aade un nuevo usuario al sistema con el rol apropiado"})]}),I&&H.jsxs("div",{className:"success-banner",children:[H.jsx("span",{className:"success-icon",children:""}),H.jsxs("div",{className:"success-content",children:[H.jsx("p",{children:H.jsx("strong",{children:I.message})}),H.jsxs("div",{className:"user-credentials",children:[H.jsx("p",{children:H.jsx("strong",{children:"Credenciales temporales:"})}),H.jsxs("p",{children:["Email: ",H.jsx("code",{children:_.email})]}),H.jsxs("p",{children:["Contrasea: ",H.jsx("code",{children:I.temporaryPassword})]}),H.jsx("small",{children:" Comunica estas credenciales al usuario de forma segura"})]})]}),H.jsx("button",{onClick:()=>M(null),className:"success-close",children:""})]}),H.jsxs("form",{onSubmit:et,className:"create-user-form",children:[H.jsxs("div",{className:"form-row",children:[H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"user-email",children:"Email"}),H.jsx("input",{id:"user-email",type:"email",value:_.email,onChange:z=>pt("email",z.target.value),placeholder:"usuario@empresa.com",required:!0,disabled:N})]}),H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"user-name",children:"Nombre Completo"}),H.jsx("input",{id:"user-name",type:"text",value:_.displayName,onChange:z=>pt("displayName",z.target.value),placeholder:"Juan Prez",required:!0,disabled:N})]})]}),H.jsxs("div",{className:"form-row",children:[H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"user-password",children:"Contrasea Temporal"}),H.jsx("input",{id:"user-password",type:"password",value:_.password,onChange:z=>pt("password",z.target.value),placeholder:"Mnimo 6 caracteres",minLength:"6",required:!0,disabled:N}),H.jsx("small",{children:"El usuario deber cambiar esta contrasea en su primer login"})]}),H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"user-role",children:"Rol del Usuario"}),H.jsxs("select",{id:"user-role",value:_.role,onChange:z=>pt("role",z.target.value),required:!0,disabled:N,children:[H.jsx("option",{value:_n.CLIENTE,children:"Cliente - Acceso bsico"}),H.jsx("option",{value:_n.CONTADOR,children:"Contador - Gestin de liquidaciones"})]}),H.jsx("small",{children:"No se pueden crear mltiples administradores"})]})]}),H.jsx("div",{className:"form-actions",children:H.jsx("button",{type:"submit",className:"create-user-button",disabled:N,children:N?H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"button-spinner"}),"Creando Usuario..."]}):" Crear Usuario"})})]}),H.jsxs("div",{className:"create-user-help",children:[H.jsx("h4",{children:" Informacin Importante"}),H.jsxs("ul",{children:[H.jsxs("li",{children:[H.jsx("strong",{children:"Cliente:"})," Puede crear y gestionar sus propias liquidaciones"]}),H.jsxs("li",{children:[H.jsx("strong",{children:"Contador:"})," Acceso completo a liquidaciones + funciones contables"]}),H.jsxs("li",{children:[H.jsx("strong",{children:"Admin:"})," Solo existe un administrador principal del sistema"]}),H.jsx("li",{children:"El usuario recibir sus credenciales por email (prximamente)"}),H.jsx("li",{children:"Debe cambiar la contrasea temporal en su primer login"})]})]})]}),f==="notifications"&&H.jsxs("div",{className:"notifications-management",children:[H.jsx("h3",{children:"Centro de Notificaciones"}),H.jsx("div",{className:"notification-placeholder",children:H.jsxs("div",{className:"coming-soon",children:[H.jsx("span",{className:"coming-soon-icon",children:""}),H.jsx("h4",{children:"Notificaciones Push - Prximamente"}),H.jsx("p",{children:"Sistema de notificaciones Firebase Cloud Messaging en desarrollo"})]})})]}),f==="settings"&&H.jsxs("div",{className:"settings-management",children:[H.jsx("h3",{children:"Configuraciones del Sistema"}),H.jsx("div",{className:"settings-placeholder",children:H.jsxs("div",{className:"coming-soon",children:[H.jsx("span",{className:"coming-soon-icon",children:""}),H.jsx("h4",{children:"Configuraciones Avanzadas"}),H.jsx("p",{children:"Panel de configuraciones del sistema prximamente disponible"})]})})]})]})]}),H.jsx("style",{jsx:!0,children:`
        .admin-panel {
          padding: 20px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .admin-panel.loading {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 400px;
        }
        
        .loading-spinner {
          text-align: center;
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #f3f3f3;
          border-top: 3px solid #007bff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto 20px;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        .admin-header {
          margin-bottom: 30px;
        }
        
        .admin-title h2 {
          margin: 0 0 8px 0;
          color: #333;
          font-size: 28px;
        }
        
        .admin-title p {
          margin: 0;
          color: #666;
          font-size: 16px;
        }
        
        .admin-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
          margin-top: 20px;
        }
        
        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          text-align: center;
          border: 1px solid #e1e5e9;
        }
        
        .stat-number {
          display: block;
          font-size: 32px;
          font-weight: bold;
          color: #007bff;
          margin-bottom: 5px;
        }
        
        .stat-label {
          font-size: 14px;
          color: #666;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .admin-tabs {
          display: flex;
          border-bottom: 2px solid #e1e5e9;
          margin-bottom: 30px;
        }
        
        .tab-button {
          padding: 12px 24px;
          border: none;
          background: none;
          cursor: pointer;
          font-size: 16px;
          color: #666;
          border-bottom: 3px solid transparent;
          transition: all 0.2s;
        }
        
        .tab-button:hover {
          color: #007bff;
          background: #f8f9fa;
        }
        
        .tab-button.active {
          color: #007bff;
          border-bottom-color: #007bff;
          font-weight: 600;
        }
        
        .error-banner {
          background: #f8d7da;
          color: #721c24;
          padding: 12px 16px;
          border-radius: 6px;
          border: 1px solid #f5c6cb;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          gap: 10px;
        }
        
        .error-close {
          margin-left: auto;
          background: none;
          border: none;
          font-size: 18px;
          cursor: pointer;
          color: #721c24;
        }
        
        .users-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }
        
        .users-header h3 {
          margin: 0;
          color: #333;
        }
        
        .refresh-button {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.2s;
        }
        
        .refresh-button:hover {
          background: #0056b3;
        }
        
        .users-table-container {
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          overflow: hidden;
          border: 1px solid #e1e5e9;
        }
        
        .users-table {
          width: 100%;
          border-collapse: collapse;
        }
        
        .users-table th {
          background: #f8f9fa;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #495057;
          border-bottom: 1px solid #e1e5e9;
        }
        
        .users-table td {
          padding: 12px;
          border-bottom: 1px solid #e1e5e9;
        }
        
        .user-row:hover {
          background: #f8f9fa;
        }
        
        .user-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .user-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: #007bff;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 16px;
        }
        
        .user-details {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }
        
        .user-name {
          font-weight: 600;
          color: #333;
        }
        
        .user-id {
          font-size: 12px;
          color: #666;
          font-family: monospace;
        }
        
        .user-email {
          color: #495057;
          font-family: monospace;
          font-size: 14px;
        }
        
        .role-badge {
          display: inline-block;
          color: white;
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .user-date {
          color: #666;
          font-size: 14px;
        }
        
        .user-actions {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .role-selector {
          padding: 6px 12px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
          background: white;
          cursor: pointer;
        }
        
        .role-selector:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .current-user-badge {
          background: #28a745;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .action-loading {
          display: flex;
          align-items: center;
        }
        
        .mini-spinner {
          width: 16px;
          height: 16px;
          border: 2px solid #f3f3f3;
          border-top: 2px solid #007bff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        
        .coming-soon {
          text-align: center;
          padding: 60px 20px;
          color: #666;
        }
        
        .coming-soon-icon {
          font-size: 48px;
          display: block;
          margin-bottom: 16px;
        }
        
        .coming-soon h4 {
          margin: 0 0 8px 0;
          color: #333;
        }
        
        .coming-soon p {
          margin: 0;
          font-size: 14px;
        }
        
        @media (max-width: 768px) {
          .admin-panel {
            padding: 15px;
          }
          
          .admin-stats {
            grid-template-columns: repeat(2, 1fr);
          }
          
          .users-table-container {
            overflow-x: auto;
          }
          
          .users-table {
            min-width: 800px;
          }
          
          .tab-button {
            font-size: 14px;
            padding: 10px 16px;
          }
        }
      `})]})},rB={nombreMariella:"Doa Mariella",facturadorDireccion:"",facturadorContacto:"",invoiceNumber:"",mesServicio:new Date().toISOString().slice(0,7),moneda:"COP",valorComida:9e3},sB=[{id:1,name:"",meals:0}],aB=[{id:1,name:"Retencin en la Fuente",type:"percent",value:3.5,category:"Impuesto"},{id:2,name:"Aporte Seguro Social",type:"fixed",value:185500,category:"Personal"}],oB={logo:null,signature:null,headerText:"",footerText:""};function lB({setResults:n,setIsModalOpen:t,onOpenPaymentModal:e}){const{isAdmin:i}=R1(),[r,s]=be.useState(rB),[o,c]=be.useState(sB),[u,f]=be.useState(aB),[p,y]=be.useState(oB),[b,_]=be.useState(null),[E,N]=be.useState(0),[C,I]=be.useState([]),[M,$]=be.useState(""),[nt,et]=be.useState("liquidaciones");be.useEffect(()=>{const F=EV(z=>{I(z)});return()=>F()},[]);const pt=()=>{const F={...HV(r,o,u),customization:p};_(F),n(F),t(!0)},q=()=>{N(F=>F+1),_(null)},P=async F=>{try{await NV(F),console.log("Liquidacin eliminada con xito")}catch(z){console.error("Error al eliminar la liquidacin:",z),alert("No se pudo eliminar la liquidacin.")}};return H.jsxs("div",{className:"content",children:[i()&&H.jsxs("div",{className:"app-tabs",children:[H.jsx("button",{className:`app-tab ${nt==="liquidaciones"?"active":""}`,onClick:()=>et("liquidaciones"),children:" Liquidaciones"}),H.jsx("button",{className:`app-tab ${nt==="admin"?"active":""}`,onClick:()=>et("admin"),children:" Administracin"})]}),nt==="liquidaciones"&&H.jsxs("div",{className:"input-section",children:[H.jsx(GV,{data:r,setData:s}),H.jsx(KV,{deductions:u,setDeductions:f}),H.jsx($V,{clients:o,setClients:c}),H.jsx(XV,{customData:p,setCustomData:y}),H.jsx(QV,{onCalculate:pt,results:b,onNewSettlement:q}),H.jsx(ZV,{history:C,searchTerm:M,setSearchTerm:$,onDeleteItem:P,onOpenPaymentModal:e})]},E),nt==="admin"&&i()&&H.jsx(iB,{}),H.jsx("style",{jsx:!0,children:`
                .app-tabs {
                    display: flex;
                    border-bottom: 2px solid #e1e5e9;
                    margin-bottom: 30px;
                    background: white;
                    border-radius: 8px 8px 0 0;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                
                .app-tab {
                    padding: 16px 24px;
                    border: none;
                    background: none;
                    cursor: pointer;
                    font-size: 16px;
                    font-weight: 500;
                    color: #666;
                    border-bottom: 3px solid transparent;
                    transition: all 0.2s ease;
                    flex: 1;
                    text-align: center;
                }
                
                .app-tab:hover {
                    color: #007bff;
                    background: #f8f9fa;
                }
                
                .app-tab.active {
                    color: #007bff;
                    border-bottom-color: #007bff;
                    font-weight: 600;
                    background: #f8f9fa;
                }
                
                .app-tab:first-child {
                    border-radius: 8px 0 0 0;
                }
                
                .app-tab:last-child {
                    border-radius: 0 8px 0 0;
                }
                
                @media (max-width: 768px) {
                    .app-tab {
                        font-size: 14px;
                        padding: 12px 16px;
                    }
                }
            `})]})}function cB(){return H.jsx("div",{id:"loader",style:{display:"flex"}})}const uB="modulepreload",hB=function(n){return"/alimentacion/"+n},xT={},O2=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(e.map(f=>{if(f=hB(f),f in xT)return;xT[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":uB,p||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),p)return new Promise((_,E)=>{b.addEventListener("load",_),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function qn(n){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(n)}var cs=Uint8Array,Sa=Uint16Array,Fb=Int32Array,P1=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k1=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j2=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wI=function(n,t){for(var e=new Sa(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new Fb(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},SI=wI(P1,2),AI=SI.b,F2=SI.r;AI[28]=258,F2[258]=28;var TI=wI(k1,0),fB=TI.b,ET=TI.r,V2=new Sa(32768);for(var oi=0;oi<32768;++oi){var yu=(oi&43690)>>1|(oi&21845)<<1;yu=(yu&52428)>>2|(yu&13107)<<2,yu=(yu&61680)>>4|(yu&3855)<<4,V2[oi]=((yu&65280)>>8|(yu&255)<<8)>>1}var El=function(n,t,e){for(var i=n.length,r=0,s=new Sa(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new Sa(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var c;if(e){c=new Sa(1<<t);var u=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=t-n[r],y=o[n[r]-1]++<<p,b=y|(1<<p)-1;y<=b;++y)c[V2[y]>>u]=f}else for(c=new Sa(i),r=0;r<i;++r)n[r]&&(c[r]=V2[o[n[r]-1]++]>>15-n[r]);return c},Gu=new cs(288);for(var oi=0;oi<144;++oi)Gu[oi]=8;for(var oi=144;oi<256;++oi)Gu[oi]=9;for(var oi=256;oi<280;++oi)Gu[oi]=7;for(var oi=280;oi<288;++oi)Gu[oi]=8;var Jp=new cs(32);for(var oi=0;oi<32;++oi)Jp[oi]=5;var dB=El(Gu,9,0),pB=El(Gu,9,1),gB=El(Jp,5,0),mB=El(Jp,5,1),Iv=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Io=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},Cv=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Vb=function(n){return(n+7)/8|0},xI=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new cs(n.subarray(t,e))},yB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ro=function(n,t,e){var i=new Error(t||yB[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Ro),!e)throw i;return i},vB=function(n,t,e,i){var r=n.length,s=0;if(!r||t.f&&!t.l)return e||new cs(0);var o=!e,c=o||t.i!=2,u=t.i;o&&(e=new cs(r*3));var f=function(Xt){var ne=e.length;if(Xt>ne){var te=new cs(Math.max(ne*2,Xt));te.set(e),e=te}},p=t.f||0,y=t.p||0,b=t.b||0,_=t.l,E=t.d,N=t.m,C=t.n,I=r*8;do{if(!_){p=Io(n,y,1);var M=Io(n,y+1,3);if(y+=3,M)if(M==1)_=pB,E=mB,N=9,C=5;else if(M==2){var pt=Io(n,y,31)+257,q=Io(n,y+10,15)+4,P=pt+Io(n,y+5,31)+1;y+=14;for(var F=new cs(P),z=new cs(19),L=0;L<q;++L)z[j2[L]]=Io(n,y+L*3,7);y+=q*3;for(var D=Iv(z),j=(1<<D)-1,ot=El(z,D,1),L=0;L<P;){var wt=ot[Io(n,y,j)];y+=wt&15;var $=wt>>4;if($<16)F[L++]=$;else{var it=0,ht=0;for($==16?(ht=3+Io(n,y,3),y+=2,it=F[L-1]):$==17?(ht=3+Io(n,y,7),y+=3):$==18&&(ht=11+Io(n,y,127),y+=7);ht--;)F[L++]=it}}var ft=F.subarray(0,pt),xt=F.subarray(pt);N=Iv(ft),C=Iv(xt),_=El(ft,N,1),E=El(xt,C,1)}else Ro(1);else{var $=Vb(y)+4,nt=n[$-4]|n[$-3]<<8,et=$+nt;if(et>r){u&&Ro(0);break}c&&f(b+nt),e.set(n.subarray($,et),b),t.b=b+=nt,t.p=y=et*8,t.f=p;continue}if(y>I){u&&Ro(0);break}}c&&f(b+131072);for(var J=(1<<N)-1,At=(1<<C)-1,V=y;;V=y){var it=_[Cv(n,y)&J],Y=it>>4;if(y+=it&15,y>I){u&&Ro(0);break}if(it||Ro(2),Y<256)e[b++]=Y;else if(Y==256){V=y,_=null;break}else{var tt=Y-254;if(Y>264){var L=Y-257,at=P1[L];tt=Io(n,y,(1<<at)-1)+AI[L],y+=at}var ct=E[Cv(n,y)&At],Nt=ct>>4;ct||Ro(3),y+=ct&15;var xt=fB[Nt];if(Nt>3){var at=k1[Nt];xt+=Cv(n,y)&(1<<at)-1,y+=at}if(y>I){u&&Ro(0);break}c&&f(b+131072);var Et=b+tt;if(b<xt){var kt=s-xt,Jt=Math.min(xt,Et);for(kt+b<0&&Ro(3);b<Jt;++b)e[b]=i[kt+b]}for(;b<Et;++b)e[b]=e[b-xt]}}t.l=_,t.p=V,t.b=b,t.f=p,_&&(p=1,t.m=N,t.d=E,t.n=C)}while(!p);return b!=e.length&&o?xI(e,0,b):e.subarray(0,b)},cc=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},sp=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},Rv=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:NI,l:0};if(r==1){var o=new cs(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(et,pt){return et.f-pt.f}),e.push({s:-1,f:25001});var c=e[0],u=e[1],f=0,p=1,y=2;for(e[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=r-1;)c=e[e[f].f<e[y].f?f++:y++],u=e[f!=p&&e[f].f<e[y].f?f++:y++],e[p++]={s:-1,f:c.f+u.f,l:c,r:u};for(var b=s[0].s,i=1;i<r;++i)s[i].s>b&&(b=s[i].s);var _=new Sa(b+1),E=B2(e[p-1],_,0);if(E>t){var i=0,N=0,C=E-t,I=1<<C;for(s.sort(function(pt,q){return _[q.s]-_[pt.s]||pt.f-q.f});i<r;++i){var M=s[i].s;if(_[M]>t)N+=I-(1<<E-_[M]),_[M]=t;else break}for(N>>=C;N>0;){var $=s[i].s;_[$]<t?N-=1<<t-_[$]++-1:++i}for(;i>=0&&N;--i){var nt=s[i].s;_[nt]==t&&(--_[nt],++N)}E=t}return{t:new cs(_),l:E}},B2=function(n,t,e){return n.s==-1?Math.max(B2(n.l,t,e+1),B2(n.r,t,e+1)):t[n.s]=e},NT=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Sa(++t),i=0,r=n[0],s=1,o=function(u){e[i++]=u},c=1;c<=t;++c)if(n[c]==r&&c!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[c]}return{c:e.subarray(0,i),n:t}},ap=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},EI=function(n,t,e){var i=e.length,r=Vb(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},IT=function(n,t,e,i,r,s,o,c,u,f,p){cc(t,p++,e),++r[256];for(var y=Rv(r,15),b=y.t,_=y.l,E=Rv(s,15),N=E.t,C=E.l,I=NT(b),M=I.c,$=I.n,nt=NT(N),et=nt.c,pt=nt.n,q=new Sa(19),P=0;P<M.length;++P)++q[M[P]&31];for(var P=0;P<et.length;++P)++q[et[P]&31];for(var F=Rv(q,7),z=F.t,L=F.l,D=19;D>4&&!z[j2[D-1]];--D);var j=f+5<<3,ot=ap(r,Gu)+ap(s,Jp)+o,wt=ap(r,b)+ap(s,N)+o+14+3*D+ap(q,z)+2*q[16]+3*q[17]+7*q[18];if(u>=0&&j<=ot&&j<=wt)return EI(t,p,n.subarray(u,u+f));var it,ht,ft,xt;if(cc(t,p,1+(wt<ot)),p+=2,wt<ot){it=El(b,_,0),ht=b,ft=El(N,C,0),xt=N;var J=El(z,L,0);cc(t,p,$-257),cc(t,p+5,pt-1),cc(t,p+10,D-4),p+=14;for(var P=0;P<D;++P)cc(t,p+3*P,z[j2[P]]);p+=3*D;for(var At=[M,et],V=0;V<2;++V)for(var Y=At[V],P=0;P<Y.length;++P){var tt=Y[P]&31;cc(t,p,J[tt]),p+=z[tt],tt>15&&(cc(t,p,Y[P]>>5&127),p+=Y[P]>>12)}}else it=dB,ht=Gu,ft=gB,xt=Jp;for(var P=0;P<c;++P){var at=i[P];if(at>255){var tt=at>>18&31;sp(t,p,it[tt+257]),p+=ht[tt+257],tt>7&&(cc(t,p,at>>23&31),p+=P1[tt]);var ct=at&31;sp(t,p,ft[ct]),p+=xt[ct],ct>3&&(sp(t,p,at>>5&8191),p+=k1[ct])}else sp(t,p,it[at]),p+=ht[at]}return sp(t,p,it[256]),p+ht[256]},_B=new Fb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NI=new cs(0),bB=function(n,t,e,i,r,s){var o=s.z||n.length,c=new cs(i+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(i,c.length-r),f=s.l,p=(s.r||0)&7;if(t){p&&(u[0]=s.r>>3);for(var y=_B[t-1],b=y>>13,_=y&8191,E=(1<<e)-1,N=s.p||new Sa(32768),C=s.h||new Sa(E+1),I=Math.ceil(e/3),M=2*I,$=function(Se){return(n[Se]^n[Se+1]<<I^n[Se+2]<<M)&E},nt=new Fb(25e3),et=new Sa(288),pt=new Sa(32),q=0,P=0,F=s.i||0,z=0,L=s.w||0,D=0;F+2<o;++F){var j=$(F),ot=F&32767,wt=C[j];if(N[ot]=wt,C[j]=ot,L<=F){var it=o-F;if((q>7e3||z>24576)&&(it>423||!f)){p=IT(n,u,0,nt,et,pt,P,z,D,F-D,p),z=q=P=0,D=F;for(var ht=0;ht<286;++ht)et[ht]=0;for(var ht=0;ht<30;++ht)pt[ht]=0}var ft=2,xt=0,J=_,At=ot-wt&32767;if(it>2&&j==$(F-At))for(var V=Math.min(b,it)-1,Y=Math.min(32767,F),tt=Math.min(258,it);At<=Y&&--J&&ot!=wt;){if(n[F+ft]==n[F+ft-At]){for(var at=0;at<tt&&n[F+at]==n[F+at-At];++at);if(at>ft){if(ft=at,xt=At,at>V)break;for(var ct=Math.min(At,at-2),Nt=0,ht=0;ht<ct;++ht){var Et=F-At+ht&32767,kt=N[Et],Jt=Et-kt&32767;Jt>Nt&&(Nt=Jt,wt=Et)}}}ot=wt,wt=N[ot],At+=ot-wt&32767}if(xt){nt[z++]=268435456|F2[ft]<<18|ET[xt];var Xt=F2[ft]&31,ne=ET[xt]&31;P+=P1[Xt]+k1[ne],++et[257+Xt],++pt[ne],L=F+ft,++q}else nt[z++]=n[F],++et[n[F]]}}for(F=Math.max(F,L);F<o;++F)nt[z++]=n[F],++et[n[F]];p=IT(n,u,f,nt,et,pt,P,z,D,F-D,p),f||(s.r=p&7|u[p/8|0]<<3,p-=7,s.h=C,s.p=N,s.i=F,s.w=L)}else{for(var F=s.w||0;F<o+f;F+=65535){var te=F+65535;te>=o&&(u[p/8|0]=f,te=o),p=EI(u,p+1,n.subarray(F,te))}s.i=o}return xI(c,0,i+Vb(p)+r)},II=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},wB=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new cs(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return bB(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},CI=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},SB=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=II();r.p(t.dictionary),CI(n,2,r.d())}},AB=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ro(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ro(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function U2(n,t){t||(t={});var e=II();e.p(n);var i=wB(n,t,t.dictionary?6:2,4);return SB(i,t),CI(i,i.length-4,e.d()),i}function TB(n,t){return vB(n.subarray(AB(n),-4),{i:2},t,t)}var xB=typeof TextDecoder<"u"&&new TextDecoder,EB=0;try{xB.decode(NI,{stream:!0}),EB=1}catch{}var Me=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Lv(){Me.console&&typeof Me.console.log=="function"&&Me.console.log.apply(Me.console,arguments)}var Zn={log:Lv,warn:function(n){Me.console&&(typeof Me.console.warn=="function"?Me.console.warn.apply(Me.console,arguments):Lv.call(null,arguments))},error:function(n){Me.console&&(typeof Me.console.error=="function"?Me.console.error.apply(Me.console,arguments):Lv(n))}};function Pv(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ah(i.response,t,e)},i.onerror=function(){Zn.error("could not download file")},i.send()}function CT(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Rm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var kp,z2,Ah=Me.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Me?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Me.URL||Me.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?CT(r.href)?Pv(n,t,e):Rm(r,r.target="_blank"):Rm(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Rm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(CT(n))Pv(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Rm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:qn(s)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return Pv(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(Me.HTMLElement)||Me.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(n)}else{var u=Me.URL||Me.webkitURL,f=u.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RI(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kv(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=es(e,i,r,s,t[0],7,-680876936),s=es(s,e,i,r,t[1],12,-389564586),r=es(r,s,e,i,t[2],17,606105819),i=es(i,r,s,e,t[3],22,-1044525330),e=es(e,i,r,s,t[4],7,-176418897),s=es(s,e,i,r,t[5],12,1200080426),r=es(r,s,e,i,t[6],17,-1473231341),i=es(i,r,s,e,t[7],22,-45705983),e=es(e,i,r,s,t[8],7,1770035416),s=es(s,e,i,r,t[9],12,-1958414417),r=es(r,s,e,i,t[10],17,-42063),i=es(i,r,s,e,t[11],22,-1990404162),e=es(e,i,r,s,t[12],7,1804603682),s=es(s,e,i,r,t[13],12,-40341101),r=es(r,s,e,i,t[14],17,-1502002290),e=ns(e,i=es(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=ns(s,e,i,r,t[6],9,-1069501632),r=ns(r,s,e,i,t[11],14,643717713),i=ns(i,r,s,e,t[0],20,-373897302),e=ns(e,i,r,s,t[5],5,-701558691),s=ns(s,e,i,r,t[10],9,38016083),r=ns(r,s,e,i,t[15],14,-660478335),i=ns(i,r,s,e,t[4],20,-405537848),e=ns(e,i,r,s,t[9],5,568446438),s=ns(s,e,i,r,t[14],9,-1019803690),r=ns(r,s,e,i,t[3],14,-187363961),i=ns(i,r,s,e,t[8],20,1163531501),e=ns(e,i,r,s,t[13],5,-1444681467),s=ns(s,e,i,r,t[2],9,-51403784),r=ns(r,s,e,i,t[7],14,1735328473),e=is(e,i=ns(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=is(s,e,i,r,t[8],11,-2022574463),r=is(r,s,e,i,t[11],16,1839030562),i=is(i,r,s,e,t[14],23,-35309556),e=is(e,i,r,s,t[1],4,-1530992060),s=is(s,e,i,r,t[4],11,1272893353),r=is(r,s,e,i,t[7],16,-155497632),i=is(i,r,s,e,t[10],23,-1094730640),e=is(e,i,r,s,t[13],4,681279174),s=is(s,e,i,r,t[0],11,-358537222),r=is(r,s,e,i,t[3],16,-722521979),i=is(i,r,s,e,t[6],23,76029189),e=is(e,i,r,s,t[9],4,-640364487),s=is(s,e,i,r,t[12],11,-421815835),r=is(r,s,e,i,t[15],16,530742520),e=rs(e,i=is(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=rs(s,e,i,r,t[7],10,1126891415),r=rs(r,s,e,i,t[14],15,-1416354905),i=rs(i,r,s,e,t[5],21,-57434055),e=rs(e,i,r,s,t[12],6,1700485571),s=rs(s,e,i,r,t[3],10,-1894986606),r=rs(r,s,e,i,t[10],15,-1051523),i=rs(i,r,s,e,t[1],21,-2054922799),e=rs(e,i,r,s,t[8],6,1873313359),s=rs(s,e,i,r,t[15],10,-30611744),r=rs(r,s,e,i,t[6],15,-1560198380),i=rs(i,r,s,e,t[13],21,1309151649),e=rs(e,i,r,s,t[4],6,-145523070),s=rs(s,e,i,r,t[11],10,-1120210379),r=rs(r,s,e,i,t[2],15,718787259),i=rs(i,r,s,e,t[9],21,-343485551),n[0]=Eu(e,n[0]),n[1]=Eu(i,n[1]),n[2]=Eu(r,n[2]),n[3]=Eu(s,n[3])}function D1(n,t,e,i,r,s){return t=Eu(Eu(t,n),Eu(i,s)),Eu(t<<r|t>>>32-r,e)}function es(n,t,e,i,r,s,o){return D1(t&e|~t&i,n,t,r,s,o)}function ns(n,t,e,i,r,s,o){return D1(t&i|e&~i,n,t,r,s,o)}function is(n,t,e,i,r,s,o){return D1(t^e^i,n,t,r,s,o)}function rs(n,t,e,i,r,s,o){return D1(e^(t|~i),n,t,r,s,o)}function LI(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)kv(i,NB(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(kv(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,kv(i,r),i}function NB(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}kp=Me.atob.bind(Me),z2=Me.btoa.bind(Me);var RT="0123456789abcdef".split("");function IB(n){for(var t="",e=0;e<4;e++)t+=RT[n>>8*e+4&15]+RT[n>>8*e&15];return t}function CB(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function q2(n){return LI(n).map(CB).join("")}var RB=function(n){for(var t=0;t<n.length;t++)n[t]=IB(n[t]);return n.join("")}(LI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eu(n,t){if(RB){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function H2(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var p=c[u];f=(f+p+o.charCodeAt(u))%256,c[u]=c[f],c[f]=p}e=n,i=c}else c=i;var y=t.length,b=0,_=0,E="";for(u=0;u<y;u++)_=(_+(p=c[b=(b+1)%256]))%256,c[b]=c[_],c[_]=p,o=c[(c[b]+c[_])%256],E+=String.fromCharCode(t.charCodeAt(u)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LT={print:4,modify:8,copy:16,"annot-forms":32};function Mf(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(c){if(LT.perm!==void 0)throw new Error("Invalid permission: "+c);r+=LT[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=q2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=H2(this.encryptionKey,this.padding)}function Of(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function PT(n){if(qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(c){Me.console&&Zn.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function V0(n){if(!(this instanceof V0))return new V0(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function PI(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Eh(n,t,e,i,r){if(!(this instanceof Eh))return new Eh(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,PI.call(this,i,r)}function Ff(n,t,e,i,r){if(!(this instanceof Ff))return new Ff(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,PI.call(this,i,r)}function ke(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],c=1,u=16,f="S",p=null;qn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,b={},_={internal:{},__private__:{}};_.__private__.PubSub=PT;var E="1.3",N=_.__private__.getPdfVersion=function(){return E};_.__private__.setPdfVersion=function(A){E=A};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return C};var I=_.__private__.getPageFormat=function(A){return C[A]};r=r||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},$=M.COMPAT;function nt(){this.saveGraphicsState(),lt(new le(oe,0,0,-oe,0,br()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),f="n",$=M.ADVANCED}function et(){this.restoreGraphicsState(),f="S",$=M.COMPAT}var pt=_.__private__.combineFontStyleAndFontWeight=function(A,U){if(A=="bold"&&U=="normal"||A=="bold"&&U==400||A=="normal"&&U=="italic"||A=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(A=U==400||U==="normal"?A==="italic"?"italic":"normal":U!=700&&U!=="bold"||A!=="normal"?(U==700?"bold":U)+""+A:"bold"),A};_.advancedAPI=function(A){var U=$===M.COMPAT;return U&&nt.call(this),typeof A!="function"||(A(this),U&&et.call(this)),this},_.compatAPI=function(A){var U=$===M.ADVANCED;return U&&et.call(this),typeof A!="function"||(A(this),U&&nt.call(this)),this},_.isAdvancedAPI=function(){return $===M.ADVANCED};var q,P=function(A){if($!==M.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=_.roundToPrecision=_.__private__.roundToPrecision=function(A,U){var st=t||U;if(isNaN(A)||isNaN(st))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(st).replace(/0+$/,"")};q=_.hpf=_.__private__.hpf=typeof u=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,u)}:u==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var z=_.f2=_.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},L=_.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},D=_.scale=_.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return $===M.COMPAT?A*oe:$===M.ADVANCED?A:void 0},j=function(A){return $===M.COMPAT?br()-A:$===M.ADVANCED?A:void 0},ot=function(A){return D(j(A))};_.__private__.setPrecision=_.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var wt,it="00000000000000000000000000000000",ht=_.__private__.getFileId=function(){return it},ft=_.__private__.setFileId=function(A){return it=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():it.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(jn=new Mf(p.userPermissions,p.userPassword,p.ownerPassword,it)),it};_.setFileId=function(A){return ft(A),this},_.getFileId=function(){return ht()};var xt=_.__private__.convertDateToPDFDate=function(A){var U=A.getTimezoneOffset(),st=U<0?"+":"-",dt=Math.floor(Math.abs(U/60)),bt=Math.abs(U%60),jt=[st,tt(dt),"'",tt(bt),"'"].join("");return["D:",A.getFullYear(),tt(A.getMonth()+1),tt(A.getDate()),tt(A.getHours()),tt(A.getMinutes()),tt(A.getSeconds()),jt].join("")},J=_.__private__.convertPDFDateToDate=function(A){var U=parseInt(A.substr(2,4),10),st=parseInt(A.substr(6,2),10)-1,dt=parseInt(A.substr(8,2),10),bt=parseInt(A.substr(10,2),10),jt=parseInt(A.substr(12,2),10),Yt=parseInt(A.substr(14,2),10);return new Date(U,st,dt,bt,jt,Yt,0)},At=_.__private__.setCreationDate=function(A){var U;if(A===void 0&&(A=new Date),A instanceof Date)U=xt(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=A}return wt=U},V=_.__private__.getCreationDate=function(A){var U=wt;return A==="jsDate"&&(U=J(wt)),U};_.setCreationDate=function(A){return At(A),this},_.getCreationDate=function(A){return V(A)};var Y,tt=_.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},at=_.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ct=0,Nt=[],Et=[],kt=0,Jt=[],Xt=[],ne=!1,te=Et,Se=function(){ct=0,kt=0,Et=[],Nt=[],Jt=[],Ir=ui(),Yi=ui()};_.__private__.setCustomOutputDestination=function(A){ne=!0,te=A};var Ft=function(A){ne||(te=A)};_.__private__.resetCustomOutputDestination=function(){ne=!1,te=Et};var lt=_.__private__.out=function(A){return A=A.toString(),kt+=A.length+1,te.push(A),te},Te=_.__private__.write=function(A){return lt(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},fe=_.__private__.getArrayBuffer=function(A){for(var U=A.length,st=new ArrayBuffer(U),dt=new Uint8Array(st);U--;)dt[U]=A.charCodeAt(U);return st},Qt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Qt};var Zt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(A){return Zt=$===M.ADVANCED?A/oe:A,this};var se,ae=_.__private__.getFontSize=_.getFontSize=function(){return $===M.COMPAT?Zt:Zt*oe},ve=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(A){return ve=A,this},_.__private__.getR2L=_.getR2L=function(){return ve};var Le,Ve=_.__private__.setZoomMode=function(A){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))se=A;else if(isNaN(A)){if(U.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');se=A}else se=parseInt(A,10)};_.__private__.getZoomMode=function(){return se};var _e,me=_.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Le=A};_.__private__.getPageMode=function(){return Le};var Ge=_.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');_e=A};_.__private__.getLayoutMode=function(){return _e},_.__private__.setDisplayMode=_.setDisplayMode=function(A,U,st){return Ve(A),Ge(U),me(st),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(A){if(Object.keys(de).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[A]},_.__private__.getDocumentProperties=function(){return de},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(A){for(var U in de)de.hasOwnProperty(U)&&A[U]&&(de[U]=A[U]);return this},_.__private__.setDocumentProperty=function(A,U){if(Object.keys(de).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[A]=U};var We,oe,li,Ke,ir,Je={},Cn={},gr=[],cn={},Xs={},Hn={},ki={},rr=null,Gn=0,xe=[],un=new PT(_),Ur=n.hotfixes||[],ci={},sr={},ms=[],le=function A(U,st,dt,bt,jt,Yt){if(!(this instanceof A))return new A(U,st,dt,bt,jt,Yt);isNaN(U)&&(U=1),isNaN(st)&&(st=0),isNaN(dt)&&(dt=0),isNaN(bt)&&(bt=1),isNaN(jt)&&(jt=0),isNaN(Yt)&&(Yt=0),this._matrix=[U,st,dt,bt,jt,Yt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(A)},le.prototype.multiply=function(A){var U=A.sx*this.sx+A.shy*this.shx,st=A.sx*this.shy+A.shy*this.sy,dt=A.shx*this.sx+A.sy*this.shx,bt=A.shx*this.shy+A.sy*this.sy,jt=A.tx*this.sx+A.ty*this.shx+this.tx,Yt=A.tx*this.shy+A.ty*this.sy+this.ty;return new le(U,st,dt,bt,jt,Yt)},le.prototype.decompose=function(){var A=this.sx,U=this.shy,st=this.shx,dt=this.sy,bt=this.tx,jt=this.ty,Yt=Math.sqrt(A*A+U*U),ie=(A/=Yt)*st+(U/=Yt)*dt;st-=A*ie,dt-=U*ie;var m=Math.sqrt(st*st+dt*dt);return ie/=m,A*(dt/=m)<U*(st/=m)&&(A=-A,U=-U,ie=-ie,Yt=-Yt),{scale:new le(Yt,0,0,m,0,0),translate:new le(1,0,0,1,bt,jt),rotate:new le(A,U,-U,A,0,0),skew:new le(1,0,ie,1,0,0)}},le.prototype.toString=function(A){return this.join(" ")},le.prototype.inversed=function(){var A=this.sx,U=this.shy,st=this.shx,dt=this.sy,bt=this.tx,jt=this.ty,Yt=1/(A*dt-U*st),ie=dt*Yt,m=-U*Yt,x=-st*Yt,k=A*Yt;return new le(ie,m,x,k,-ie*bt-x*jt,-m*bt-k*jt)},le.prototype.applyToPoint=function(A){var U=A.x*this.sx+A.y*this.shx+this.tx,st=A.x*this.shy+A.y*this.sy+this.ty;return new oo(U,st)},le.prototype.applyToRectangle=function(A){var U=this.applyToPoint(A),st=this.applyToPoint(new oo(A.x+A.w,A.y+A.h));return new Ho(U.x,U.y,st.x-U.x,st.y-U.y)},le.prototype.clone=function(){var A=this.sx,U=this.shy,st=this.shx,dt=this.sy,bt=this.tx,jt=this.ty;return new le(A,U,st,dt,bt,jt)},_.Matrix=le;var Rn=_.matrixMult=function(A,U){return U.multiply(A)},Ln=new le(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ln;var Qn=function(A,U){if(!Xs[A]){var st=(U instanceof Eh?"Sh":"P")+(Object.keys(cn).length+1).toString(10);U.id=st,Xs[A]=st,cn[st]=U,un.publish("addPattern",U)}};_.ShadingPattern=Eh,_.TilingPattern=Ff,_.addShadingPattern=function(A,U){return P("addShadingPattern()"),Qn(A,U),this},_.beginTilingPattern=function(A){P("beginTilingPattern()"),ka(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},_.endTilingPattern=function(A,U){P("endTilingPattern()"),U.stream=Xt[Y].join(`
`),Qn(A,U),un.publish("endTilingPattern",U),ms.pop().restore()};var ni=_.__private__.newObject=function(){var A=ui();return Si(A,!0),A},ui=_.__private__.newObjectDeferred=function(){return ct++,Nt[ct]=function(){return kt},ct},Si=function(A,U){return U=typeof U=="boolean"&&U,Nt[A]=kt,U&&lt(A+" 0 obj"),A},to=_.__private__.newAdditionalObject=function(){var A={objId:ui(),content:""};return Jt.push(A),A},Ir=ui(),Yi=ui(),Di=_.__private__.decodeColorString=function(A){var U=A.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var st=parseFloat(U[0]);U=[st,st,st,"r"]}for(var dt="#",bt=0;bt<3;bt++)dt+=("0"+Math.floor(255*parseFloat(U[bt])).toString(16)).slice(-2);return dt},Ai=_.__private__.encodeColorString=function(A){var U;typeof A=="string"&&(A={ch1:A});var st=A.ch1,dt=A.ch2,bt=A.ch3,jt=A.ch4,Yt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof st=="string"&&st.charAt(0)!=="#"){var ie=new RI(st);if(ie.ok)st=ie.toHex();else if(!/^\d*\.?\d*$/.test(st))throw new Error('Invalid color "'+st+'" passed to jsPDF.encodeColorString.')}if(typeof st=="string"&&/^#[0-9A-Fa-f]{3}$/.test(st)&&(st="#"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3]),typeof st=="string"&&/^#[0-9A-Fa-f]{6}$/.test(st)){var m=parseInt(st.substr(1),16);st=m>>16&255,dt=m>>8&255,bt=255&m}if(dt===void 0||jt===void 0&&st===dt&&dt===bt)if(typeof st=="string")U=st+" "+Yt[0];else switch(A.precision){case 2:U=z(st/255)+" "+Yt[0];break;case 3:default:U=L(st/255)+" "+Yt[0]}else if(jt===void 0||qn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return U=["1.","1.","1.",Yt[1]].join(" ");if(typeof st=="string")U=[st,dt,bt,Yt[1]].join(" ");else switch(A.precision){case 2:U=[z(st/255),z(dt/255),z(bt/255),Yt[1]].join(" ");break;default:case 3:U=[L(st/255),L(dt/255),L(bt/255),Yt[1]].join(" ")}}else if(typeof st=="string")U=[st,dt,bt,jt,Yt[2]].join(" ");else switch(A.precision){case 2:U=[z(st),z(dt),z(bt),z(jt),Yt[2]].join(" ");break;case 3:default:U=[L(st),L(dt),L(bt),L(jt),Yt[2]].join(" ")}return U},Mi=_.__private__.getFilters=function(){return o},Wn=_.__private__.putStream=function(A){var U=(A=A||{}).data||"",st=A.filters||Mi(),dt=A.alreadyAppliedFilters||[],bt=A.addLength1||!1,jt=U.length,Yt=A.objectId,ie=function(Ce){return Ce};if(p!==null&&Yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ie=jn.encryptor(Yt,0));var m={};st===!0&&(st=["FlateEncode"]);var x=A.additionalKeyValues||[],k=(m=ke.API.processDataByFilters!==void 0?ke.API.processDataByFilters(U,st):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(dt)?dt.join(" "):dt.toString());if(m.data.length!==0&&(x.push({key:"Length",value:m.data.length}),bt===!0&&x.push({key:"Length1",value:jt})),k.length!=0)if(k.split("/").length-1==1)x.push({key:"Filter",value:k});else{x.push({key:"Filter",value:"["+k+"]"});for(var X=0;X<x.length;X+=1)if(x[X].key==="DecodeParms"){for(var _t=[],Lt=0;Lt<m.reverseChain.split("/").length-1;Lt+=1)_t.push("null");_t.push(x[X].value),x[X].value="["+_t.join(" ")+"]"}}lt("<<");for(var Kt=0;Kt<x.length;Kt++)lt("/"+x[Kt].key+" "+x[Kt].value);lt(">>"),m.data.length!==0&&(lt("stream"),lt(ie(m.data)),lt("endstream"))},wn=_.__private__.putPage=function(A){var U=A.number,st=A.data,dt=A.objId,bt=A.contentsObjId;Si(dt,!0),lt("<</Type /Page"),lt("/Parent "+A.rootDictionaryObjId+" 0 R"),lt("/Resources "+A.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(q(A.mediaBox.bottomLeftX))+" "+parseFloat(q(A.mediaBox.bottomLeftY))+" "+q(A.mediaBox.topRightX)+" "+q(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&lt("/CropBox ["+q(A.cropBox.bottomLeftX)+" "+q(A.cropBox.bottomLeftY)+" "+q(A.cropBox.topRightX)+" "+q(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&lt("/BleedBox ["+q(A.bleedBox.bottomLeftX)+" "+q(A.bleedBox.bottomLeftY)+" "+q(A.bleedBox.topRightX)+" "+q(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&lt("/TrimBox ["+q(A.trimBox.bottomLeftX)+" "+q(A.trimBox.bottomLeftY)+" "+q(A.trimBox.topRightX)+" "+q(A.trimBox.topRightY)+"]"),A.artBox!==null&&lt("/ArtBox ["+q(A.artBox.bottomLeftX)+" "+q(A.artBox.bottomLeftY)+" "+q(A.artBox.topRightX)+" "+q(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&lt("/UserUnit "+A.userUnit),un.publish("putPage",{objId:dt,pageContext:xe[U],pageNumber:U,page:st}),lt("/Contents "+bt+" 0 R"),lt(">>"),lt("endobj");var jt=st.join(`
`);return $===M.ADVANCED&&(jt+=`
Q`),Si(bt,!0),Wn({data:jt,filters:Mi(),objectId:bt}),lt("endobj"),dt},Qs=_.__private__.putPages=function(){var A,U,st=[];for(A=1;A<=Gn;A++)xe[A].objId=ui(),xe[A].contentsObjId=ui();for(A=1;A<=Gn;A++)st.push(wn({number:A,data:Xt[A],objId:xe[A].objId,contentsObjId:xe[A].contentsObjId,mediaBox:xe[A].mediaBox,cropBox:xe[A].cropBox,bleedBox:xe[A].bleedBox,trimBox:xe[A].trimBox,artBox:xe[A].artBox,userUnit:xe[A].userUnit,rootDictionaryObjId:Ir,resourceDictionaryObjId:Yi}));Si(Ir,!0),lt("<</Type /Pages");var dt="/Kids [";for(U=0;U<Gn;U++)dt+=st[U]+" 0 R ";lt(dt+"]"),lt("/Count "+Gn),lt(">>"),lt("endobj"),un.publish("postPutPages")},Js=function(A){un.publish("putFont",{font:A,out:lt,newObject:ni,putStream:Wn}),A.isAlreadyPutted!==!0&&(A.objectNumber=ni(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+Of(A.postScriptName)),lt("/Subtype /Type1"),typeof A.encoding=="string"&&lt("/Encoding /"+A.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},mr=function(){for(var A in Je)Je.hasOwnProperty(A)&&(y===!1||y===!0&&b.hasOwnProperty(A))&&Js(Je[A])},zr=function(A){A.objectNumber=ni();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[q(A.x),q(A.y),q(A.x+A.width),q(A.y+A.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var st=A.pages[1].join(`
`);Wn({data:st,additionalKeyValues:U,objectId:A.objectNumber}),lt("endobj")},eo=function(){for(var A in ci)ci.hasOwnProperty(A)&&zr(ci[A])},Pl=function(A,U){var st,dt=[],bt=1/(U-1);for(st=0;st<1;st+=bt)dt.push(st);if(dt.push(1),A[0].offset!=0){var jt={offset:0,color:A[0].color};A.unshift(jt)}if(A[A.length-1].offset!=1){var Yt={offset:1,color:A[A.length-1].color};A.push(Yt)}for(var ie="",m=0,x=0;x<dt.length;x++){for(st=dt[x];st>A[m+1].offset;)m++;var k=A[m].offset,X=(st-k)/(A[m+1].offset-k),_t=A[m].color,Lt=A[m+1].color;ie+=at(Math.round((1-X)*_t[0]+X*Lt[0]).toString(16))+at(Math.round((1-X)*_t[1]+X*Lt[1]).toString(16))+at(Math.round((1-X)*_t[2]+X*Lt[2]).toString(16))}return ie.trim()},no=function(A,U){U||(U=21);var st=ni(),dt=Pl(A.colors,U),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+U+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wn({data:dt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:st}),lt("endobj"),A.objectNumber=ni(),lt("<< /ShadingType "+A.type),lt("/ColorSpace /DeviceRGB");var jt="/Coords ["+q(parseFloat(A.coords[0]))+" "+q(parseFloat(A.coords[1]))+" ";A.type===2?jt+=q(parseFloat(A.coords[2]))+" "+q(parseFloat(A.coords[3])):jt+=q(parseFloat(A.coords[2]))+" "+q(parseFloat(A.coords[3]))+" "+q(parseFloat(A.coords[4]))+" "+q(parseFloat(A.coords[5])),lt(jt+="]"),A.matrix&&lt("/Matrix ["+A.matrix.toString()+"]"),lt("/Function "+st+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},Dc=function(A,U){var st=ui(),dt=ni();U.push({resourcesOid:st,objectOid:dt}),A.objectNumber=dt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+A.boundingBox.map(q).join(" ")+"]"}),bt.push({key:"XStep",value:q(A.xStep)}),bt.push({key:"YStep",value:q(A.yStep)}),bt.push({key:"Resources",value:st+" 0 R"}),A.matrix&&bt.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Wn({data:A.stream,additionalKeyValues:bt,objectId:A.objectNumber}),lt("endobj")},ys=function(A){var U;for(U in cn)cn.hasOwnProperty(U)&&(cn[U]instanceof Eh?no(cn[U]):cn[U]instanceof Ff&&Dc(cn[U],A))},vs=function(A){for(var U in A.objectNumber=ni(),lt("<<"),A)switch(U){case"opacity":lt("/ca "+z(A[U]));break;case"stroke-opacity":lt("/CA "+z(A[U]))}lt(">>"),lt("endobj")},Oi=function(){var A;for(A in Hn)Hn.hasOwnProperty(A)&&vs(Hn[A])},Zs=function(){for(var A in lt("/XObject <<"),ci)ci.hasOwnProperty(A)&&ci[A].objectNumber>=0&&lt("/"+A+" "+ci[A].objectNumber+" 0 R");un.publish("putXobjectDict"),lt(">>")},Mc=function(){jn.oid=ni(),lt("<<"),lt("/Filter /Standard"),lt("/V "+jn.v),lt("/R "+jn.r),lt("/U <"+jn.toHexString(jn.U)+">"),lt("/O <"+jn.toHexString(jn.O)+">"),lt("/P "+jn.P),lt(">>"),lt("endobj")},Es=function(){for(var A in lt("/Font <<"),Je)Je.hasOwnProperty(A)&&(y===!1||y===!0&&b.hasOwnProperty(A))&&lt("/"+A+" "+Je[A].objectNumber+" 0 R");lt(">>")},Fo=function(){if(Object.keys(cn).length>0){for(var A in lt("/Shading <<"),cn)cn.hasOwnProperty(A)&&cn[A]instanceof Eh&&cn[A].objectNumber>=0&&lt("/"+A+" "+cn[A].objectNumber+" 0 R");un.publish("putShadingPatternDict"),lt(">>")}},ta=function(A){if(Object.keys(cn).length>0){for(var U in lt("/Pattern <<"),cn)cn.hasOwnProperty(U)&&cn[U]instanceof _.TilingPattern&&cn[U].objectNumber>=0&&cn[U].objectNumber<A&&lt("/"+U+" "+cn[U].objectNumber+" 0 R");un.publish("putTilingPatternDict"),lt(">>")}},kl=function(){if(Object.keys(Hn).length>0){var A;for(A in lt("/ExtGState <<"),Hn)Hn.hasOwnProperty(A)&&Hn[A].objectNumber>=0&&lt("/"+A+" "+Hn[A].objectNumber+" 0 R");un.publish("putGStateDict"),lt(">>")}},$n=function(A){Si(A.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Es(),Fo(),ta(A.objectOid),kl(),Zs(),lt(">>"),lt("endobj")},Ki=function(){var A=[];mr(),Oi(),eo(),ys(A),un.publish("putResources"),A.forEach($n),$n({resourcesOid:Yi,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources")},Vo=function(){un.publish("putAdditionalObjects");for(var A=0;A<Jt.length;A++){var U=Jt[A];Si(U.objId,!0),lt(U.content),lt("endobj")}un.publish("postPutAdditionalObjects")},Oc=function(A){Cn[A.fontName]=Cn[A.fontName]||{},Cn[A.fontName][A.fontStyle]=A.id},Ta=function(A,U,st,dt,bt){var jt={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:A,fontName:U,fontStyle:st,encoding:dt,isStandardFont:bt||!1,metadata:{}};return un.publish("addFont",{font:jt,instance:this}),Je[jt.id]=jt,Oc(jt),jt.id},Dl=function(A){for(var U=0,st=Qt.length;U<st;U++){var dt=Ta.call(this,A[U][0],A[U][1],A[U][2],Qt[U][3],!0);y===!1&&(b[dt]=!0);var bt=A[U][0].split("-");Oc({id:dt,fontName:bt[0],fontStyle:bt[1]||""})}un.publish("addFonts",{fonts:Je,dictionary:Cn})},ar=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(dt){var U=dt.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var st="Error in function "+U.split(`
`)[0].split("<")[0]+": "+dt.message;if(!Me.console)throw new Error(st);Me.console.error(st,dt),Me.alert&&alert(st)}},A.foo.bar=A,A.foo},Bo=function(A,U){var st,dt,bt,jt,Yt,ie,m,x,k;if(bt=(U=U||{}).sourceEncoding||"Unicode",Yt=U.outputEncoding,(U.autoencode||Yt)&&Je[We].metadata&&Je[We].metadata[bt]&&Je[We].metadata[bt].encoding&&(jt=Je[We].metadata[bt].encoding,!Yt&&Je[We].encoding&&(Yt=Je[We].encoding),!Yt&&jt.codePages&&(Yt=jt.codePages[0]),typeof Yt=="string"&&(Yt=jt[Yt]),Yt)){for(m=!1,ie=[],st=0,dt=A.length;st<dt;st++)(x=Yt[A.charCodeAt(st)])?ie.push(String.fromCharCode(x)):ie.push(A[st]),ie[st].charCodeAt(0)>>8&&(m=!0);A=ie.join("")}for(st=A.length;m===void 0&&st!==0;)A.charCodeAt(st-1)>>8&&(m=!0),st--;if(!m)return A;for(ie=U.noBOM?[]:[254,255],st=0,dt=A.length;st<dt;st++){if((k=(x=A.charCodeAt(st))>>8)>>8)throw new Error("Character at position "+st+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(k),ie.push(x-(k<<8))}return String.fromCharCode.apply(void 0,ie)},dn=_.__private__.pdfEscape=_.pdfEscape=function(A,U){return Bo(A,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},or=_.__private__.beginPage=function(A){Xt[++Gn]=[],xe[Gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ns(Gn),Ft(Xt[Y])},xa=function(A,U){var st,dt,bt;switch(e=U||e,typeof A=="string"&&(st=I(A.toLowerCase()),Array.isArray(st)&&(dt=st[0],bt=st[1])),Array.isArray(A)&&(dt=A[0]*oe,bt=A[1]*oe),isNaN(dt)&&(dt=r[0],bt=r[1]),(dt>14400||bt>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),dt=Math.min(14400,dt),bt=Math.min(14400,bt)),r=[dt,bt],e.substr(0,1)){case"l":bt>dt&&(r=[bt,dt]);break;case"p":dt>bt&&(r=[bt,dt])}or(r),Fl(Ca),lt(lr),Vl!==0&&lt(Vl+" J"),ao!==0&&lt(ao+" j"),un.publish("addPage",{pageNumber:Gn})},Ea=function(A){A>0&&A<=Gn&&(Xt.splice(A,1),xe.splice(A,1),Gn--,Y>Gn&&(Y=Gn),this.setPage(Y))},Ns=function(A){A>0&&A<=Gn&&(Y=A)},Sn=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Xt.length-1},Na=function(A,U,st){var dt,bt=void 0;return st=st||{},A=A!==void 0?A:Je[We].fontName,U=U!==void 0?U:Je[We].fontStyle,dt=A.toLowerCase(),Cn[dt]!==void 0&&Cn[dt][U]!==void 0?bt=Cn[dt][U]:Cn[A]!==void 0&&Cn[A][U]!==void 0?bt=Cn[A][U]:st.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+A+"', '"+U+"'. Refer to getFontList() for available fonts."),bt||st.noFallback||(bt=Cn.times[U])==null&&(bt=Cn.times.normal),bt},qr=_.__private__.putInfo=function(){var A=ni(),U=function(dt){return dt};for(var st in p!==null&&(U=jn.encryptor(A,0)),lt("<<"),lt("/Producer ("+dn(U("jsPDF "+ke.version))+")"),de)de.hasOwnProperty(st)&&de[st]&&lt("/"+st.substr(0,1).toUpperCase()+st.substr(1)+" ("+dn(U(de[st]))+")");lt("/CreationDate ("+dn(U(wt))+")"),lt(">>"),lt("endobj")},ea=_.__private__.putCatalog=function(A){var U=(A=A||{}).rootDictionaryObjId||Ir;switch(ni(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+U+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var st=""+se;st.substr(st.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+z(se)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}Le&&lt("/PageMode /"+Le),un.publish("putCatalog"),lt(">>"),lt("endobj")},jc=_.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(ct+1)),lt("/Root "+ct+" 0 R"),lt("/Info "+(ct-1)+" 0 R"),p!==null&&lt("/Encrypt "+jn.oid+" 0 R"),lt("/ID [ <"+it+"> <"+it+"> ]"),lt(">>")},Ml=_.__private__.putHeader=function(){lt("%PDF-"+E),lt("%")},Ol=_.__private__.putXRef=function(){var A="0000000000";lt("xref"),lt("0 "+(ct+1)),lt("0000000000 65535 f ");for(var U=1;U<=ct;U++)typeof Nt[U]=="function"?lt((A+Nt[U]()).slice(-10)+" 00000 n "):Nt[U]!==void 0?lt((A+Nt[U]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},na=_.__private__.buildDocument=function(){Se(),Ft(Et),un.publish("buildDocument"),Ml(),Qs(),Vo(),Ki(),p!==null&&Mc(),qr(),ea();var A=kt;return Ol(),jc(),lt("startxref"),lt(""+A),lt("%%EOF"),Ft(Xt[Y]),Et.join(`
`)},Uo=_.__private__.getBlob=function(A){return new Blob([fe(A)],{type:"application/pdf"})},ia=_.output=_.__private__.output=ar(function(A,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",A){case void 0:return na();case"save":_.save(U.filename);break;case"arraybuffer":return fe(na());case"blob":return Uo(na());case"bloburi":case"bloburl":if(Me.URL!==void 0&&typeof Me.URL.createObjectURL=="function")return Me.URL&&Me.URL.createObjectURL(Uo(na()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var st="",dt=na();try{st=z2(dt)}catch{st=z2(unescape(encodeURIComponent(dt)))}return"data:application/pdf;filename="+U.filename+";base64,"+st;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(bt=U.pdfObjectUrl,jt="");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",ie=Me.open();return ie!==null&&ie.document.write(Yt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',x=Me.open();if(x!==null){x.document.write(m);var k=this;x.document.documentElement.querySelector("#pdfViewer").onload=function(){x.document.title=U.filename,x.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return x}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Me)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',_t=Me.open();if(_t!==null&&(_t.document.write(X),_t.document.title=U.filename),_t||typeof safari>"u")return _t;break;case"datauri":case"dataurl":return Me.document.location.href=this.output("datauristring",U);default:return null}}),Is=function(A){return Array.isArray(Ur)===!0&&Ur.indexOf(A)>-1};switch(i){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);oe=i}var jn=null;At(),ft();var ra=function(A){return p!==null?jn.encryptor(A,0):function(U){return U}},Cs=_.__private__.getPageInfo=_.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[A].objId,pageNumber:A,pageContext:xe[A]}},Ie=_.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in xe)if(xe[U].objId===A)break;return Cs(U)},Rs=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:xe[Y].objId,pageNumber:Y,pageContext:xe[Y]}};_.addPage=function(){return xa.apply(this,arguments),this},_.setPage=function(){return Ns.apply(this,arguments),Ft.call(this,Xt[Y]),this},_.insertPage=function(A){return this.addPage(),this.movePage(Y,A),this},_.movePage=function(A,U){var st,dt;if(A>U){st=Xt[A],dt=xe[A];for(var bt=A;bt>U;bt--)Xt[bt]=Xt[bt-1],xe[bt]=xe[bt-1];Xt[U]=st,xe[U]=dt,this.setPage(U)}else if(A<U){st=Xt[A],dt=xe[A];for(var jt=A;jt<U;jt++)Xt[jt]=Xt[jt+1],xe[jt]=xe[jt+1];Xt[U]=st,xe[U]=dt,this.setPage(U)}return this},_.deletePage=function(){return Ea.apply(this,arguments),this},_.__private__.text=_.text=function(A,U,st,dt,bt){var jt,Yt,ie,m,x,k,X,_t,Lt,Kt=(dt=dt||{}).scope||this;if(typeof A=="number"&&typeof U=="number"&&(typeof st=="string"||Array.isArray(st))){var Ce=st;st=U,U=A,A=Ce}if(arguments[3]instanceof le?(P("The transform parameter of text() with a Matrix value"),Lt=bt):(ie=arguments[4],m=arguments[5],qn(X=arguments[3])==="object"&&X!==null||(typeof ie=="string"&&(m=ie,ie=null),typeof X=="string"&&(m=X,X=null),typeof X=="number"&&(ie=X,X=null),dt={flags:X,angle:ie,align:m})),isNaN(U)||isNaN(st)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Kt;var rn="",Be=!1,An=typeof dt.lineHeightFactor=="number"?dt.lineHeightFactor:nn,Pn=Kt.internal.scaleFactor;function Ds(Ze){return Ze=Ze.split("	").join(Array(dt.TabLen||9).join(" ")),dn(Ze,X)}function gi(Ze){for(var tn,Yn=Ze.concat(),mi=[],Os=Yn.length;Os--;)typeof(tn=Yn.shift())=="string"?mi.push(tn):Array.isArray(Ze)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?mi.push(tn[0]):mi.push([tn[0],tn[1],tn[2]]);return mi}function $r(Ze,tn){var Yn;if(typeof Ze=="string")Yn=tn(Ze)[0];else if(Array.isArray(Ze)){for(var mi,Os,el=Ze.concat(),nl=[],fo=el.length;fo--;)typeof(mi=el.shift())=="string"?nl.push(tn(mi)[0]):Array.isArray(mi)&&typeof mi[0]=="string"&&(Os=tn(mi[0],mi[1],mi[2]),nl.push([Os[0],Os[1],Os[2]]));Yn=nl}return Yn}var Ma=!1,Wo=!0;if(typeof A=="string")Ma=!0;else if(Array.isArray(A)){var Uc=A.concat();Yt=[];for(var Bl,ji=Uc.length;ji--;)(typeof(Bl=Uc.shift())!="string"||Array.isArray(Bl)&&typeof Bl[0]!="string")&&(Wo=!1);Ma=Wo}if(Ma===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var $o=Zt/Kt.internal.scaleFactor,Ul=$o*(An-1);switch(dt.baseline){case"bottom":st-=Ul;break;case"top":st+=$o-Ul;break;case"hanging":st+=$o-2*Ul;break;case"middle":st+=$o/2-Ul}if((k=dt.maxWidth||0)>0&&(typeof A=="string"?A=Kt.splitTextToSize(A,k):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Ze,tn){return Ze.concat(Kt.splitTextToSize(tn,k))},[]))),jt={text:A,x:U,y:st,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("preProcessText",jt),A=jt.text,ie=(dt=jt.options).angle,!(Lt instanceof le)&&ie&&typeof ie=="number"){ie*=Math.PI/180,dt.rotationDirection===0&&(ie=-ie),$===M.ADVANCED&&(ie=-ie);var zl=Math.cos(ie),zc=Math.sin(ie);Lt=new le(zl,zc,-zc,zl,0,0)}else ie&&ie instanceof le&&(Lt=ie);$!==M.ADVANCED||Lt||(Lt=Ln),(x=dt.charSpace||so)!==void 0&&(rn+=q(D(x))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_t=dt.horizontalScale)!==void 0&&(rn+=q(100*_t)+` Tz
`),dt.lang;var Yr=-1,vd=dt.renderingMode!==void 0?dt.renderingMode:dt.stroke,Qu=Kt.internal.getCurrentPageInfo().pageContext;switch(vd){case 0:case!1:case"fill":Yr=0;break;case 1:case!0:case"stroke":Yr=1;break;case 2:case"fillThenStroke":Yr=2;break;case 3:case"invisible":Yr=3;break;case 4:case"fillAndAddForClipping":Yr=4;break;case 5:case"strokeAndAddPathForClipping":Yr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yr=6;break;case 7:case"addToPathForClipping":Yr=7}var Qh=Qu.usedRenderingMode!==void 0?Qu.usedRenderingMode:-1;Yr!==-1?rn+=Yr+` Tr
`:Qh!==-1&&(rn+=`0 Tr
`),Yr!==-1&&(Qu.usedRenderingMode=Yr),m=dt.align||"left";var Ms,Xi=Zt*An,Yo=Kt.internal.pageSize.getWidth(),Ju=Je[We];x=dt.charSpace||so,k=dt.maxWidth||0,X=Object.assign({autoencode:!0,noBOM:!0},dt.flags);var uo=[],Ko=function(Ze){return Kt.getStringUnitWidth(Ze,{font:Ju,charSpace:x,fontSize:Zt,doKerning:!1})*Zt/Pn};if(Object.prototype.toString.call(A)==="[object Array]"){var Rr;Yt=gi(A),m!=="left"&&(Ms=Yt.map(Ko));var cr,Xo=0;if(m==="right"){U-=Ms[0],A=[],ji=Yt.length;for(var Kr=0;Kr<ji;Kr++)Kr===0?(cr=_r(U),Rr=xi(st)):(cr=D(Xo-Ms[Kr]),Rr=-Xi),A.push([Yt[Kr],cr,Rr]),Xo=Ms[Kr]}else if(m==="center"){U-=Ms[0]/2,A=[],ji=Yt.length;for(var la=0;la<ji;la++)la===0?(cr=_r(U),Rr=xi(st)):(cr=D((Xo-Ms[la])/2),Rr=-Xi),A.push([Yt[la],cr,Rr]),Xo=Ms[la]}else if(m==="left"){A=[],ji=Yt.length;for(var Oa=0;Oa<ji;Oa++)A.push(Yt[Oa])}else if(m==="justify"&&Ju.encoding==="Identity-H"){A=[],ji=Yt.length,k=k!==0?k:Yo;for(var ca=0,hi=0;hi<ji;hi++)if(Rr=hi===0?xi(st):-Xi,cr=hi===0?_r(U):ca,hi<ji-1){var ua=D((k-Ms[hi])/(Yt[hi].split(" ").length-1)),Ei=Yt[hi].split(" ");A.push([Ei[0]+" ",cr,Rr]),ca=0;for(var Xr=1;Xr<Ei.length;Xr++){var ql=(Ko(Ei[Xr-1]+" "+Ei[Xr])-Ko(Ei[Xr]))*Pn+ua;Xr==Ei.length-1?A.push([Ei[Xr],ql,0]):A.push([Ei[Xr]+" ",ql,0]),ca-=ql}}else A.push([Yt[hi],cr,Rr]);A.push(["",ca,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ji=Yt.length,k=k!==0?k:Yo,hi=0;hi<ji;hi++)Rr=hi===0?xi(st):-Xi,cr=hi===0?_r(U):0,hi<ji-1?uo.push(q(D((k-Ms[hi])/(Yt[hi].split(" ").length-1)))):uo.push(0),A.push([Yt[hi],cr,Rr])}}var ja=typeof dt.R2L=="boolean"?dt.R2L:ve;ja===!0&&(A=$r(A,function(Ze,tn,Yn){return[Ze.split("").reverse().join(""),tn,Yn]})),jt={text:A,x:U,y:st,options:dt,mutex:{pdfEscape:dn,activeFontKey:We,fonts:Je,activeFontSize:Zt}},un.publish("postProcessText",jt),A=jt.text,Be=jt.mutex.isHex||!1;var qc=Je[We].encoding;qc!=="WinAnsiEncoding"&&qc!=="StandardEncoding"||(A=$r(A,function(Ze,tn,Yn){return[Ds(Ze),tn,Yn]})),Yt=gi(A),A=[];for(var Qo,Jo,Zo,Hl=0,Hc=1,tl=Array.isArray(Yt[0])?Hc:Hl,ho="",Gl=function(Ze,tn,Yn){var mi="";return Yn instanceof le?(Yn=typeof dt.angle=="number"?Rn(Yn,new le(1,0,0,1,Ze,tn)):Rn(new le(1,0,0,1,Ze,tn),Yn),$===M.ADVANCED&&(Yn=Rn(new le(1,0,0,-1,0,0),Yn)),mi=Yn.join(" ")+` Tm
`):mi=q(Ze)+" "+q(tn)+` Td
`,mi},fi=0;fi<Yt.length;fi++){switch(ho="",tl){case Hc:Zo=(Be?"<":"(")+Yt[fi][0]+(Be?">":")"),Qo=parseFloat(Yt[fi][1]),Jo=parseFloat(Yt[fi][2]);break;case Hl:Zo=(Be?"<":"(")+Yt[fi]+(Be?">":")"),Qo=_r(U),Jo=xi(st)}uo!==void 0&&uo[fi]!==void 0&&(ho=uo[fi]+` Tw
`),fi===0?A.push(ho+Gl(Qo,Jo,Lt)+Zo):tl===Hl?A.push(ho+Zo):tl===Hc&&A.push(ho+Gl(Qo,Jo,Lt)+Zo)}A=tl===Hl?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var bs=`BT
/`;return bs+=We+" "+Zt+` Tf
`,bs+=q(Zt*An)+` TL
`,bs+=aa+`
`,bs+=rn,bs+=A,lt(bs+="ET"),b[We]=!0,Kt};var Fc=_.__private__.clip=_.clip=function(A){return lt(A==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Fc("evenodd")},_.__private__.discardPath=_.discardPath=function(){return lt("n"),this};var yr=_.__private__.isValidStyle=function(A){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(U=!0),U};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(A){return yr(A)&&(f=A),this};var Hr=_.__private__.getStyle=_.getStyle=function(A){var U=f;switch(A){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=A}return U},Cr=_.close=function(){return lt("h"),this};_.stroke=function(){return lt("S"),this},_.fill=function(A){return Ls("f",A),this},_.fillEvenOdd=function(A){return Ls("f*",A),this},_.fillStroke=function(A){return Ls("B",A),this},_.fillStrokeEvenOdd=function(A){return Ls("B*",A),this};var Ls=function(A,U){qn(U)==="object"?sa(U,A):lt(A)},Gr=function(A){A===null||$===M.ADVANCED&&A===void 0||(A=Hr(A),lt(A))};function Ia(A,U,st,dt,bt){var jt=new Ff(U||this.boundingBox,st||this.xStep,dt||this.yStep,this.gState,bt||this.matrix);jt.stream=this.stream;var Yt=A+"$$"+this.cloneIndex+++"$$";return Qn(Yt,jt),jt}var sa=function(A,U){var st=Xs[A.key],dt=cn[st];if(dt instanceof Eh)lt("q"),lt(jl(U)),dt.gState&&_.setGState(dt.gState),lt(A.matrix.toString()+" cm"),lt("/"+st+" sh"),lt("Q");else if(dt instanceof Ff){var bt=new le(1,0,0,-1,0,br());A.matrix&&(bt=bt.multiply(A.matrix||Ln),st=Ia.call(dt,A.key,A.boundingBox,A.xStep,A.yStep,bt).id),lt("q"),lt("/Pattern cs"),lt("/"+st+" scn"),dt.gState&&_.setGState(dt.gState),lt(U),lt("Q")}},jl=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wr=_.moveTo=function(A,U){return lt(q(D(A))+" "+q(ot(U))+" m"),this},vr=_.lineTo=function(A,U){return lt(q(D(A))+" "+q(ot(U))+" l"),this},Ps=_.curveTo=function(A,U,st,dt,bt,jt){return lt([q(D(A)),q(ot(U)),q(D(st)),q(ot(dt)),q(D(bt)),q(ot(jt)),"c"].join(" ")),this};_.__private__.line=_.line=function(A,U,st,dt,bt){if(isNaN(A)||isNaN(U)||isNaN(st)||isNaN(dt)||!yr(bt))throw new Error("Invalid arguments passed to jsPDF.line");return $===M.COMPAT?this.lines([[st-A,dt-U]],A,U,[1,1],bt||"S"):this.lines([[st-A,dt-U]],A,U,[1,1]).stroke()},_.__private__.lines=_.lines=function(A,U,st,dt,bt,jt){var Yt,ie,m,x,k,X,_t,Lt,Kt,Ce,rn,Be;if(typeof A=="number"&&(Be=st,st=U,U=A,A=Be),dt=dt||[1,1],jt=jt||!1,isNaN(U)||isNaN(st)||!Array.isArray(A)||!Array.isArray(dt)||!yr(bt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wr(U,st),Yt=dt[0],ie=dt[1],x=A.length,Ce=U,rn=st,m=0;m<x;m++)(k=A[m]).length===2?(Ce=k[0]*Yt+Ce,rn=k[1]*ie+rn,vr(Ce,rn)):(X=k[0]*Yt+Ce,_t=k[1]*ie+rn,Lt=k[2]*Yt+Ce,Kt=k[3]*ie+rn,Ce=k[4]*Yt+Ce,rn=k[5]*ie+rn,Ps(X,_t,Lt,Kt,Ce,rn));return jt&&Cr(),Gr(bt),this},_.path=function(A){for(var U=0;U<A.length;U++){var st=A[U],dt=st.c;switch(st.op){case"m":Wr(dt[0],dt[1]);break;case"l":vr(dt[0],dt[1]);break;case"c":Ps.apply(this,dt);break;case"h":Cr()}}return this},_.__private__.rect=_.rect=function(A,U,st,dt,bt){if(isNaN(A)||isNaN(U)||isNaN(st)||isNaN(dt)||!yr(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return $===M.COMPAT&&(dt=-dt),lt([q(D(A)),q(ot(U)),q(D(st)),q(D(dt)),"re"].join(" ")),Gr(bt),this},_.__private__.triangle=_.triangle=function(A,U,st,dt,bt,jt,Yt){if(isNaN(A)||isNaN(U)||isNaN(st)||isNaN(dt)||isNaN(bt)||isNaN(jt)||!yr(Yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[st-A,dt-U],[bt-st,jt-dt],[A-bt,U-jt]],A,U,[1,1],Yt,!0),this},_.__private__.roundedRect=_.roundedRect=function(A,U,st,dt,bt,jt,Yt){if(isNaN(A)||isNaN(U)||isNaN(st)||isNaN(dt)||isNaN(bt)||isNaN(jt)||!yr(Yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*st),jt=Math.min(jt,.5*dt),this.lines([[st-2*bt,0],[bt*ie,0,bt,jt-jt*ie,bt,jt],[0,dt-2*jt],[0,jt*ie,-bt*ie,jt,-bt,jt],[2*bt-st,0],[-bt*ie,0,-bt,-jt*ie,-bt,-jt],[0,2*jt-dt],[0,-jt*ie,bt*ie,-jt,bt,-jt]],A+bt,U,[1,1],Yt,!0),this},_.__private__.ellipse=_.ellipse=function(A,U,st,dt,bt){if(isNaN(A)||isNaN(U)||isNaN(st)||isNaN(dt)||!yr(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*st,Yt=4/3*(Math.SQRT2-1)*dt;return Wr(A+st,U),Ps(A+st,U-Yt,A+jt,U-dt,A,U-dt),Ps(A-jt,U-dt,A-st,U-Yt,A-st,U),Ps(A-st,U+Yt,A-jt,U+dt,A,U+dt),Ps(A+jt,U+dt,A+st,U+Yt,A+st,U),Gr(bt),this},_.__private__.circle=_.circle=function(A,U,st,dt){if(isNaN(A)||isNaN(U)||isNaN(st)||!yr(dt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,U,st,st,dt)},_.setFont=function(A,U,st){return st&&(U=pt(U,st)),We=Na(A,U,{disableWarning:!1}),this};var Ti=_.__private__.getFont=_.getFont=function(){return Je[Na.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var A,U,st={};for(A in Cn)if(Cn.hasOwnProperty(A))for(U in st[A]=[],Cn[A])Cn[A].hasOwnProperty(U)&&st[A].push(U);return st},_.addFont=function(A,U,st,dt,bt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(st=pt(st,dt)),bt=bt||"Identity-H",Ta.call(this,A,U,st,bt)};var nn,Ca=n.lineWidth||.200025,ks=_.__private__.getLineWidth=_.getLineWidth=function(){return Ca},Fl=_.__private__.setLineWidth=_.setLineWidth=function(A){return Ca=A,lt(q(D(A))+" w"),this};_.__private__.setLineDash=ke.API.setLineDash=ke.API.setLineDashPattern=function(A,U){if(A=A||[],U=U||0,isNaN(U)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(st){return q(D(st))}).join(" "),U=q(D(U)),lt("["+A+"] "+U+" d"),this};var io=_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};_.__private__.getLineHeight=_.getLineHeight=function(){return Zt*nn};var ro=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(nn=A),this},_s=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return nn};ro(n.lineHeight);var _r=_.__private__.getHorizontalCoordinate=function(A){return D(A)},xi=_.__private__.getVerticalCoordinate=function(A){return $===M.ADVANCED?A:xe[Y].mediaBox.topRightY-xe[Y].mediaBox.bottomLeftY-D(A)},Vc=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(A){return q(_r(A))},Ra=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(A){return q(xi(A))},lr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Di(lr)},_.__private__.setStrokeColor=_.setDrawColor=function(A,U,st,dt){return lr=Ai({ch1:A,ch2:U,ch3:st,ch4:dt,pdfColorType:"draw",precision:2}),lt(lr),this};var La=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Di(La)},_.__private__.setFillColor=_.setFillColor=function(A,U,st,dt){return La=Ai({ch1:A,ch2:U,ch3:st,ch4:dt,pdfColorType:"fill",precision:2}),lt(La),this};var aa=n.textColor||"0 g",zo=_.__private__.getTextColor=_.getTextColor=function(){return Di(aa)};_.__private__.setTextColor=_.setTextColor=function(A,U,st,dt){return aa=Ai({ch1:A,ch2:U,ch3:st,ch4:dt,pdfColorType:"text",precision:3}),this};var so=n.charSpace,qo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(so||0)};_.__private__.setCharSpace=_.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return so=A,this};var Vl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(A){var U=_.CapJoinStyles[A];if(U===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=U,lt(U+" J"),this};var ao=0;_.__private__.setLineJoin=_.setLineJoin=function(A){var U=_.CapJoinStyles[A];if(U===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ao=U,lt(U+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(q(D(A))+" M"),this},_.GState=V0,_.setGState=function(A){(A=typeof A=="string"?Hn[ki[A]]:Pa(null,A)).equals(rr)||(lt("/"+A.id+" gs"),rr=A)};var Pa=function(A,U){if(!A||!ki[A]){var st=!1;for(var dt in Hn)if(Hn.hasOwnProperty(dt)&&Hn[dt].equals(U)){st=!0;break}if(st)U=Hn[dt];else{var bt="GS"+(Object.keys(Hn).length+1).toString(10);Hn[bt]=U,U.id=bt}return A&&(ki[A]=U.id),un.publish("addGState",U),U}};_.addGState=function(A,U){return Pa(A,U),this},_.saveGraphicsState=function(){return lt("q"),gr.push({key:We,size:Zt,color:aa}),this},_.restoreGraphicsState=function(){lt("Q");var A=gr.pop();return We=A.key,Zt=A.size,aa=A.color,rr=null,this},_.setCurrentTransformationMatrix=function(A){return lt(A.toString()+" cm"),this},_.comment=function(A){return lt("#"+A),this};var oo=function(A,U){var st=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return st},set:function(jt){isNaN(jt)||(st=parseFloat(jt))}});var dt=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return dt},set:function(jt){isNaN(jt)||(dt=parseFloat(jt))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(jt){bt=jt.toString()}}),this},Ho=function(A,U,st,dt){oo.call(this,A,U),this.type="rect";var bt=st||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Yt){isNaN(Yt)||(bt=parseFloat(Yt))}});var jt=dt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Yt){isNaN(Yt)||(jt=parseFloat(Yt))}}),this},lo=function(){this.page=Gn,this.currentPage=Y,this.pages=Xt.slice(0),this.pagesContext=xe.slice(0),this.x=li,this.y=Ke,this.matrix=ir,this.width=Da(Y),this.height=br(Y),this.outputDestination=te,this.id="",this.objectNumber=-1};lo.prototype.restore=function(){Gn=this.page,Y=this.currentPage,xe=this.pagesContext,Xt=this.pages,li=this.x,Ke=this.y,ir=this.matrix,co(Y,this.width),Go(Y,this.height),te=this.outputDestination};var ka=function(A,U,st,dt,bt){ms.push(new lo),Gn=Y=0,Xt=[],li=A,Ke=U,ir=bt,or([st,dt])},Bc=function(A){if(sr[A])ms.pop().restore();else{var U=new lo,st="Xo"+(Object.keys(ci).length+1).toString(10);U.id=st,sr[A]=st,ci[st]=U,un.publish("addFormObject",U),ms.pop().restore()}};for(var oa in _.beginFormObject=function(A,U,st,dt,bt){return ka(A,U,st,dt,bt),this},_.endFormObject=function(A){return Bc(A),this},_.doFormObject=function(A,U){var st=ci[sr[A]];return lt("q"),lt(U.toString()+" cm"),lt("/"+st.id+" Do"),lt("Q"),this},_.getFormObject=function(A){var U=ci[sr[A]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},_.save=function(A,U){return A=A||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Ah(Uo(na()),A),typeof Ah.unload=="function"&&Me.setTimeout&&setTimeout(Ah.unload,911),this):new Promise(function(st,dt){try{var bt=Ah(Uo(na()),A);typeof Ah.unload=="function"&&Me.setTimeout&&setTimeout(Ah.unload,911),st(bt)}catch(jt){dt(jt.message)}})},ke.API)ke.API.hasOwnProperty(oa)&&(oa==="events"&&ke.API.events.length?function(A,U){var st,dt,bt;for(bt=U.length-1;bt!==-1;bt--)st=U[bt][0],dt=U[bt][1],A.subscribe.apply(A,[st].concat(typeof dt=="function"?[dt]:dt))}(un,ke.API.events):_[oa]=ke.API[oa]);var Da=_.getPageWidth=function(A){return(xe[A=A||Y].mediaBox.topRightX-xe[A].mediaBox.bottomLeftX)/oe},co=_.setPageWidth=function(A,U){xe[A].mediaBox.topRightX=U*oe+xe[A].mediaBox.bottomLeftX},br=_.getPageHeight=function(A){return(xe[A=A||Y].mediaBox.topRightY-xe[A].mediaBox.bottomLeftY)/oe},Go=_.setPageHeight=function(A,U){xe[A].mediaBox.topRightY=U*oe+xe[A].mediaBox.bottomLeftY};return _.internal={pdfEscape:dn,getStyle:Hr,getFont:Ti,getFontSize:ae,getCharSpace:qo,getTextColor:zo,getLineHeight:io,getLineHeightFactor:_s,getLineWidth:ks,write:Te,getHorizontalCoordinate:_r,getVerticalCoordinate:xi,getCoordinateString:Vc,getVerticalCoordinateString:Ra,collections:{},newObject:ni,newAdditionalObject:to,newObjectDeferred:ui,newObjectDeferredBegin:Si,getFilters:Mi,putStream:Wn,events:un,scaleFactor:oe,pageSize:{getWidth:function(){return Da(Y)},setWidth:function(A){co(Y,A)},getHeight:function(){return br(Y)},setHeight:function(A){Go(Y,A)}},encryptionOptions:p,encryption:jn,getEncryptor:ra,output:ia,getNumberOfPages:Sn,pages:Xt,out:lt,f2:z,f3:L,getPageInfo:Cs,getPageInfoByObjId:Ie,getCurrentPageInfo:Rs,getPDFVersion:N,Point:oo,Rectangle:Ho,Matrix:le,hasHotfix:Is},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Da(Y)},set:function(A){co(Y,A)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return br(Y)},set:function(A){Go(Y,A)},enumerable:!0,configurable:!0}),Dl.call(_,Qt),We="F1",xa(r,e),un.publish("initialized"),_}Mf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Mf.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mf.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Mf.prototype.processOwnerPassword=function(n,t){return H2(q2(t).substr(0,5),n)},Mf.prototype.encryptor=function(n,t){var e=q2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return H2(e,i)}},V0.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||qn(n)!==qn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},ke.API={events:[]},ke.version="3.0.1";var Ri=ke.API,Bb=1,Kh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qe=function(n){return n.toFixed(2)},vu=function(n){return n.toFixed(5)};Ri.__acroform__={};var Ks=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},kT=function(n){return n*Bb},ml=function(n){var t=new DI,e=ge.internal.getHeight(n)||0,i=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(qe(i)),Number(qe(e))],t},LB=Ri.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},PB=Ri.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},kB=Ri.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Hi=Ri.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kB(n,t-1)},Gi=Ri.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LB(n,t-1)},Wi=Ri.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PB(n,t-1)},DB=Ri.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=i(s+c)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=i(s)||0,[Number(qe(u.lowerLeft_X)),Number(qe(u.lowerLeft_Y)),Number(qe(u.upperRight_X)),Number(qe(u.upperRight_Y))]},MB=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=G2(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+qe(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ml(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},G2=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(L){return L.split(`
`)}):r.map(function(L){return[L]});var s=e,o=ge.internal.getHeight(n)||0;o=o<0?-o:o;var c=ge.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(L,D,j){if(L+1<r.length){var ot=D+" "+r[L+1][0];return Lm(ot,n,j).width<=c-4}return!1};s++;t:for(;s>0;){t="",s--;var f,p,y=Lm("3",n,s).height,b=n.multiline?o-s:(o-y)/2,_=b+=2,E=0,N=0,C=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Lm(t,n,s=12).width+", FieldWidth:"+c+`
`;break}for(var I="",M=0,$=0;$<r.length;$++)if(r.hasOwnProperty($)){var nt=!1;if(r[$].length!==1&&C!==r[$].length-1){if((y+2)*(M+2)+2>o)continue t;I+=r[$][C],nt=!0,N=$,$--}else{I=(I+=r[$][C]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var et=parseInt($),pt=u(et,I,s),q=$>=r.length-1;if(pt&&!q){I+=" ",C=0;continue}if(pt||q){if(q)N=et;else if(n.multiline&&(y+2)*(M+2)+2>o)continue t}else{if(!n.multiline||(y+2)*(M+2)+2>o)continue t;N=et}}for(var P="",F=E;F<=N;F++){var z=r[F];if(n.multiline){if(F===N){P+=z[C]+" ",C=(C+1)%z.length;continue}if(F===E){P+=z[z.length-1]+" ";continue}}P+=z[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,p=Lm(P,n,s).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}t+=qe(f)+" "+qe(_)+` Td
`,t+="("+Kh(P)+`) Tj
`,t+=-qe(f)+` 0 Td
`,_=-(s+2),p=0,E=nt?N:N+1,M++,I=""}break}return i.text=t,i.fontSize=s,i},Lm=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},OB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jB=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},FB=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),qn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},VB=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Oo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(OB)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new MI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&jB(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=DB(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ge.createDefaultAppearanceStream(c),qn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=MB(c);u.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var _=c.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var o in _)if(_.hasOwnProperty(o)){var E=_[o];typeof E=="function"&&(E=E.call(r,c)),y+="/"+o+" "+E+" ",r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E)}}else typeof(E=_)=="function"&&(E=E.call(r,c)),y+="/"+o+" "+E,r.internal.acroformPlugin.xForms.indexOf(E)>=0||r.internal.acroformPlugin.xForms.push(E);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}s&&FB(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},kI=Ri.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),qn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+Kh(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dv=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Kh(i(n))+")"},wl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wl.prototype.toString=function(){return this.objId+" 0 R"},wl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},wl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:kI(r,this.objId,this.scope)}):r instanceof wl?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var DI=function(){wl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ks(DI,wl);var MI=function(){wl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Kh(e(n))+")"}},set:function(e){n=e}})};Ks(MI,wl);var Oo=function n(){wl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hi(t,3)},set:function(I){I?this.F=Gi(t,3):this.F=Wi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');e=I}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(I){i=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(I){i[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(I){i[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(I){i[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(I){i[3]=I}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof B0)return;s="FieldObject"+n.FieldNum++}var I=function(M){return M};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Kh(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(I){o=I}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Bb:f},set:function(I){f=I}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof B0||this instanceof kh))return Dv(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=I}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Er?b:Dv(b,this.objId,this.scope)},set:function(I){I=I.toString(),b=this instanceof Er?I:I.substr(0,1)==="("?Nf(I.substr(1,I.length-2)):Nf(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er?Nf(b.substr(1,b.length-1)):b},set:function(I){I=I.toString(),b=this instanceof Er?"/"+I:I}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Er?_:Dv(_,this.objId,this.scope)},set:function(I){I=I.toString(),_=this instanceof Er?I:I.substr(0,1)==="("?Nf(I.substr(1,I.length-2)):Nf(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er?Nf(_.substr(1,_.length-1)):_},set:function(I){I=I.toString(),_=this instanceof Er?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(I){I=!!I,N=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,1)},set:function(I){I?this.Ff=Gi(this.Ff,1):this.Ff=Wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,2)},set:function(I){I?this.Ff=Gi(this.Ff,2):this.Ff=Wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,3)},set:function(I){I?this.Ff=Gi(this.Ff,3):this.Ff=Wi(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');C=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(C){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Ks(Oo,wl);var Wf=function(){Oo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kI(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(s,o,c){c||(c=1);for(var u,f=[];u=o.exec(s);)f.push(u[c]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,18)},set:function(e){e?this.Ff=Gi(this.Ff,18):this.Ff=Wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Gi(this.Ff,19):this.Ff=Wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,20)},set:function(e){e?(this.Ff=Gi(this.Ff,20),t.sort()):this.Ff=Wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,22)},set:function(e){e?this.Ff=Gi(this.Ff,22):this.Ff=Wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(e){e?this.Ff=Gi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,27)},set:function(e){e?this.Ff=Gi(this.Ff,27):this.Ff=Wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ks(Wf,Oo);var $f=function(){Wf.call(this),this.fontName="helvetica",this.combo=!1};Ks($f,Wf);var Yf=function(){$f.call(this),this.combo=!0};Ks(Yf,$f);var a0=function(){Yf.call(this),this.edit=!0};Ks(a0,Yf);var Er=function(){Oo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,15)},set:function(e){e?this.Ff=Gi(this.Ff,15):this.Ff=Wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,16)},set:function(e){e?this.Ff=Gi(this.Ff,16):this.Ff=Wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,17)},set:function(e){e?this.Ff=Gi(this.Ff,17):this.Ff=Wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(e){e?this.Ff=Gi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Kh(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ks(Er,Oo);var o0=function(){Er.call(this),this.pushButton=!0};Ks(o0,Er);var Kf=function(){Er.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ks(Kf,Er);var B0=function(){var n,t;Oo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Kh(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){qn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ks(B0,Oo),Kf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Kf.prototype.createOption=function(n){var t=new B0;return t.Parent=this,t.optionName=n,this.Kids.push(t),BB.call(this.scope,t),t};var l0=function(){Er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};Ks(l0,Er);var kh=function(){Oo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,13)},set:function(t){t?this.Ff=Gi(this.Ff,13):this.Ff=Wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,21)},set:function(t){t?this.Ff=Gi(this.Ff,21):this.Ff=Wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(t){t?this.Ff=Gi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,24)},set:function(t){t?this.Ff=Gi(this.Ff,24):this.Ff=Wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,25)},set:function(t){t?this.Ff=Gi(this.Ff,25):this.Ff=Wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(t){t?this.Ff=Gi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ks(kh,Oo);var c0=function(){kh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,14)},set:function(n){n?this.Ff=Gi(this.Ff,14):this.Ff=Wi(this.Ff,14)}}),this.password=!0};Ks(c0,kh);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=G2(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+qe(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=ml(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=ge.internal.getHeight(n),o=ge.internal.getWidth(n),c=G2(n,n.caption);return r.push("1 g"),r.push("0 0 "+qe(o)+" "+qe(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+qe(o-1)+" "+qe(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+qe(c.fontSize)+" Tf "+i),r.push(c.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=ml(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=ge.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ge.internal.Bezier_C).toFixed(5)),o=Number((i*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=ml(n);t.scope=n.scope;var e=[],i=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(qe(i.x1.x)+" "+qe(i.x1.y)+" m"),e.push(qe(i.x2.x)+" "+qe(i.x2.y)+" l"),e.push(qe(i.x4.x)+" "+qe(i.x4.y)+" m"),e.push(qe(i.x3.x)+" "+qe(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(qe(e.x1.x)+" "+qe(e.x1.y)+" m"),i.push(qe(e.x2.x)+" "+qe(e.x2.y)+" l"),i.push(qe(e.x4.x)+" "+qe(e.x4.y)+" m"),i.push(qe(e.x3.x)+" "+qe(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=ml(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ge.internal.getWidth=function(n){var t=0;return qn(n)==="object"&&(t=kT(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return qn(n)==="object"&&(t=kT(n.Rect[3])),t};var BB=Ri.addField=function(n){if(VB(this,n),!(n instanceof Oo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ri.AcroFormChoiceField=Wf,Ri.AcroFormListBox=$f,Ri.AcroFormComboBox=Yf,Ri.AcroFormEditBox=a0,Ri.AcroFormButton=Er,Ri.AcroFormPushButton=o0,Ri.AcroFormRadioButton=Kf,Ri.AcroFormCheckBox=l0,Ri.AcroFormTextField=kh,Ri.AcroFormPasswordField=c0,Ri.AcroFormAppearance=ge,Ri.AcroForm={ChoiceField:Wf,ListBox:$f,ComboBox:Yf,EditBox:a0,Button:Er,PushButton:o0,RadioButton:Kf,CheckBox:l0,TextField:kh,PasswordField:c0,Appearance:ge},ke.AcroForm={ChoiceField:Wf,ListBox:$f,ComboBox:Yf,EditBox:a0,Button:Er,PushButton:o0,RadioButton:Kf,CheckBox:l0,TextField:kh,PasswordField:c0,Appearance:ge};ke.AcroForm;function OI(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,D){var j,ot,wt,it,ht,ft=t;if((D=D||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(pt(L))for(ht in e)for(wt=e[ht],j=0;j<wt.length;j+=1){for(it=!0,ot=0;ot<wt[j].length;ot+=1)if(wt[j][ot]!==void 0&&wt[j][ot]!==L[ot]){it=!1;break}if(it===!0){ft=ht;break}}else for(ht in e)for(wt=e[ht],j=0;j<wt.length;j+=1){for(it=!0,ot=0;ot<wt[j].length;ot+=1)if(wt[j][ot]!==void 0&&wt[j][ot]!==L.charCodeAt(ot)){it=!1;break}if(it===!0){ft=ht;break}}return ft===t&&D!==t&&(ft=D),ft},r=function L(D){for(var j=this.internal.write,ot=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var it=[];if(it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Image"}),it.push({key:"Width",value:D.width}),it.push({key:"Height",value:D.height}),D.colorSpace===C.INDEXED?it.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(it.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===C.DEVICE_CMYK&&it.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),it.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&it.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ht="",ft=0,xt=D.transparency.length;ft<xt;ft++)ht+=D.transparency[ft]+" "+D.transparency[ft]+" ";it.push({key:"Mask",value:"["+ht+"]"})}D.sMask!==void 0&&it.push({key:"SMask",value:D.objectId+1+" 0 R"});var J=D.filter!==void 0?["/"+D.filter]:void 0;if(ot({data:D.data,additionalKeyValues:it,alreadyAppliedFilters:J,objectId:D.objectId}),j("endobj"),"sMask"in D&&D.sMask!==void 0){var At="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,V={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:At,data:D.sMask};"filter"in D&&(V.filter=D.filter),L.call(this,V)}if(D.colorSpace===C.INDEXED){var Y=this.internal.newObject();ot({data:P(new Uint8Array(D.palette)),objectId:Y}),j("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var D in L)r.call(this,L[D])},o=function(){var L,D=this.internal.collections.addImage_images,j=this.internal.write;for(var ot in D)j("/I"+(L=D[ot]).index,L.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var L=this.internal.collections.addImage_images;return c.call(this),L},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(L){return typeof n["process"+L.toUpperCase()]=="function"},y=function(L){return qn(L)==="object"&&L.nodeType===1},b=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var j=""+L.getAttribute("src");if(j.indexOf("data:image/")===0)return kp(unescape(j).split("base64,").pop());var ot=n.loadFile(j,!0);if(ot!==void 0)return ot}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var wt;switch(D){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;case"JPEG":case"JPG":default:wt="image/jpeg"}return kp(L.toDataURL(wt,1).split("base64,").pop())}},_=function(L){var D=this.internal.collections.addImage_images;if(D){for(var j in D)if(L===D[j].alias)return D[j]}},E=function(L,D,j){return L||D||(L=-96,D=-96),L<0&&(L=-1*j.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*j.height*72/D/this.internal.scaleFactor),L===0&&(L=D*j.width/j.height),D===0&&(D=L*j.height/j.width),[L,D]},N=function(L,D,j,ot,wt,it){var ht=E.call(this,j,ot,wt),ft=this.internal.getCoordinateString,xt=this.internal.getVerticalCoordinateString,J=u.call(this);if(j=ht[0],ot=ht[1],J[wt.index]=wt,it){it*=Math.PI/180;var At=Math.cos(it),V=Math.sin(it),Y=function(at){return at.toFixed(4)},tt=[Y(At),Y(V),Y(-1*V),Y(At),0,0,"cm"]}this.internal.write("q"),it?(this.internal.write([1,"0","0",1,ft(L),xt(D+ot),"cm"].join(" ")),this.internal.write(tt.join(" ")),this.internal.write([ft(j),"0","0",ft(ot),"0","0","cm"].join(" "))):this.internal.write([ft(j),"0","0",ft(ot),ft(L),xt(D+ot),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(L){var D,j,ot=0;if(typeof L=="string")for(j=L.length,D=0;D<j;D++)ot=(ot<<5)-ot+L.charCodeAt(D),ot|=0;else if(pt(L))for(j=L.byteLength/2,D=0;D<j;D++)ot=(ot<<5)-ot+L[D],ot|=0;return ot},$=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},nt=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},et=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return et()&&L instanceof ArrayBuffer};var pt=n.__addimage__.isArrayBufferView=function(L){return et()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,j=new Uint8Array(D),ot=0;ot<D;ot++)j[ot]=L.charCodeAt(ot);return j},P=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",j=pt(L)?L:new Uint8Array(L),ot=0;ot<j.length;ot+=8192)D+=String.fromCharCode.apply(null,j.subarray(ot,ot+8192));return D};n.addImage=function(){var L,D,j,ot,wt,it,ht,ft,xt;if(typeof arguments[1]=="number"?(D=t,j=arguments[1],ot=arguments[2],wt=arguments[3],it=arguments[4],ht=arguments[5],ft=arguments[6],xt=arguments[7]):(D=arguments[1],j=arguments[2],ot=arguments[3],wt=arguments[4],it=arguments[5],ht=arguments[6],ft=arguments[7],xt=arguments[8]),qn(L=arguments[0])==="object"&&!y(L)&&"imageData"in L){var J=L;L=J.imageData,D=J.format||D||t,j=J.x||j||0,ot=J.y||ot||0,wt=J.w||J.width||wt,it=J.h||J.height||it,ht=J.alias||ht,ft=J.compression||ft,xt=J.rotation||J.angle||xt}var At=this.internal.getFilters();if(ft===void 0&&At.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(j)||isNaN(ot))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var V=F.call(this,L,D,ht,ft);return N.call(this,j,ot,wt,it,V,xt),this};var F=function(L,D,j,ot){var wt,it,ht;if(typeof L=="string"&&i(L)===t){L=unescape(L);var ft=z(L,!1);(ft!==""||(ft=n.loadFile(L,!0))!==void 0)&&(L=ft)}if(y(L)&&(L=b(L,D)),D=i(L,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ht=j)==null||ht.length===0)&&(j=function(xt){return typeof xt=="string"||pt(xt)?M(xt):pt(xt.data)?M(xt.data):null}(L)),(wt=_.call(this,j))||(et()&&(L instanceof Uint8Array||D==="RGBA"||(it=L,L=q(L))),wt=this["process"+D.toUpperCase()](L,f.call(this),j,function(xt){return xt&&typeof xt=="string"&&(xt=xt.toUpperCase()),xt in n.image_compression?xt:I.NONE}(ot),it)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},z=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var j,ot="";if(typeof L=="string"){var wt;j=(wt=nt(L))!==null&&wt!==void 0?wt:L;try{ot=kp(j)}catch(it){if(D)throw $(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+it.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ot};n.getImageProperties=function(L){var D,j,ot="";if(y(L)&&(L=b(L)),typeof L=="string"&&i(L)===t&&((ot=z(L,!1))===""&&(ot=n.loadFile(L)||""),L=ot),j=i(L),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!et()||L instanceof Uint8Array||(L=q(L)),!(D=this["process"+j.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=j,D}})(ke.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ke.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,y=0;y<f.length&&!p;y++)switch((i=f[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var _=this.internal.pdfEscape,E=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(N.objId),M=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+_(I(i.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+_(I(M))+") >>",N.content=s;var $=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+$,i.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(N.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var nt=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(E(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+nt+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var et=this.annotations._nameMap[i.options.name];i.options.pageNumber=et.page,i.options.top=et.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(E(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var pt=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+pt+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(e),y:f(i),w:u(e+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,c,u=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(e,c).length;o=Math.ceil(f*p)}else c=u,o=f;return this.text(e,i,r,s),r+=.2*f,s.align==="center"&&(i-=u/2),s.align==="right"&&(i-=u),this.link(i,r-f,c,o,s),u},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ke.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=n.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&r.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&t[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var C=0,I=e,M="",$=0;for(C=0;C<N.length;C+=1)I[N.charCodeAt(C)]!==void 0?($++,typeof(I=I[N.charCodeAt(C)])=="number"&&(M+=String.fromCharCode(I),I=e,$=0),C===N.length-1&&(I=e,M+=N.charAt(C-($-1)),C-=$-1,$=0)):(I=e,M+=N.charAt(C-$),C-=$,$=0);return M};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(N,C,I){return o(N)?s(N)===!1?-1:!f(N)||!o(C)&&!o(I)||!o(I)&&c(C)||c(N)&&!o(C)||c(N)&&u(C)||c(N)&&c(C)?0:p(N)&&o(C)&&!c(C)&&o(I)&&f(I)?3:c(N)||!o(I)?1:2:-1},_=function(N){var C=0,I=0,M=0,$="",nt="",et="",pt=(N=N||"").split("\\s+"),q=[];for(C=0;C<pt.length;C+=1){for(q.push(""),I=0;I<pt[C].length;I+=1)$=pt[C][I],nt=pt[C][I-1],et=pt[C][I+1],o($)?(M=b($,nt,et),q[C]+=M!==-1?String.fromCharCode(t[$.charCodeAt(0)][M]):$):q[C]+=$;q[C]=y(q[C])}return q.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var N,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(C)){var M=0;for(I=[],M=0;M<C.length;M+=1)Array.isArray(C[M])?I.push([_(C[M][0]),C[M][1],C[M][2]]):I.push([_(C[M])]);N=I}else N=_(C);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",E])}(ke.API),ke.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ke.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(N){E=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,_=0,E=0,N=0,C=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var I=f.maxWidth;I>0?typeof u=="string"?u=this.splitTextToSize(u,I):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function($,nt){return $.concat(C.splitTextToSize(nt,I))},[])):u=Array.isArray(u)?u:[u];for(var M=0;M<u.length;M++)_<(N=this.getStringUnitWidth(u[M],{font:y})*p)&&(_=N);return _!==0&&(E=u.length),{w:_/=b,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,_&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,p,y,b){if(i.call(this),!p)throw new Error("No data for PDF table.");var _,E,N,C,I=[],M=[],$=[],nt={},et={},pt=[],q=[],P=(b=b||{}).autoSize||!1,F=b.printHeaders!==!1,z=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,L=b.margins||Object.assign({width:this.getPageWidth()},t),D=typeof b.padding=="number"?b.padding:3,j=b.headerBackgroundColor||"#c8c8c8",ot=b.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=ot,this.setFontSize(z),y==null)M=I=Object.keys(p[0]),$=I.map(function(){return"left"});else if(Array.isArray(y)&&qn(y[0])==="object")for(I=y.map(function(J){return J.name}),M=y.map(function(J){return J.prompt||J.name||""}),$=y.map(function(J){return J.align||"left"}),_=0;_<y.length;_+=1)et[y[_].name]=y[_].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(M=I=y,$=I.map(function(){return"left"}));if(P||Array.isArray(y)&&typeof y[0]=="string")for(_=0;_<I.length;_+=1){for(nt[C=I[_]]=p.map(function(J){return J[C]}),this.setFont(void 0,"bold"),pt.push(this.getTextDimensions(M[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=nt[C],this.setFont(void 0,"normal"),N=0;N<E.length;N+=1)pt.push(this.getTextDimensions(E[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);et[C]=Math.max.apply(null,pt)+D+D,pt=[]}if(F){var wt={};for(_=0;_<I.length;_+=1)wt[I[_]]={},wt[I[_]].text=M[_],wt[I[_]].align=$[_];var it=c.call(this,wt,et);q=I.map(function(J){return new s(u,f,et[J],it,wt[J].text,void 0,wt[J].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ht=y.reduce(function(J,At){return J[At.name]=At.align,J},{});for(_=0;_<p.length;_+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:_,data:p[_]},this);var ft=c.call(this,p[_],et);for(N=0;N<I.length;N+=1){var xt=p[_][I[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:_,col:N,data:xt},this),o.call(this,new s(u,f,et[I[N]],ft,xt,_+2,ht[I[N]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(_){var E=u[_];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*y/b+p+p},this).reduce(function(_,E){return Math.max(_,E)},0)};n.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),e=!1}}(ke.API);var jI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W2=OI(FI),VI=[100,200,300,400,500,600,700,800,900],UB=OI(VI);function $2(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return jI[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof W2[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function DT(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var zB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qB(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},zB,e.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(r[(s=$2(t[c])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+OT(s)+"' and default family '"+i+"'.");if(o=function(u,f){if(f[u])return f[u];var p=W2[u],y=p<=W2.normal?-1:1,b=DT(f,FI,p,y);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(s.stretch,o),o=function(u,f){if(f[u])return f[u];for(var p=jI[u],y=0;y<p.length;++y)if(f[p[y]])return f[p[y]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var p=UB[u],y=DT(f,VI,p,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+OT(s)+"'.");return o}function jT(n){return n.trimLeft()}function HB(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function GB(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Pm,FT,VT,Mv=["times"];(function(n){var t,e,i,r,s,o,c,u,f,p=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var y=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=V;Object.defineProperty(this,"pdf",{get:function(){return Y}});var tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return tt},set:function(Ft){tt=!!Ft}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(Ft){at=!!Ft}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(Ft){isNaN(Ft)||(ct=Ft)}});var Nt=0;Object.defineProperty(this,"posY",{get:function(){return Nt},set:function(Ft){isNaN(Ft)||(Nt=Ft)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ft){var lt;typeof Ft=="number"?lt=[Ft,Ft,Ft,Ft]:((lt=new Array(4))[0]=Ft[0],lt[1]=Ft.length>=2?Ft[1]:lt[0],lt[2]=Ft.length>=3?Ft[2]:lt[0],lt[3]=Ft.length>=4?Ft[3]:lt[1]),f.margin=lt}});var Et=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Et},set:function(Ft){Et=Ft}});var kt=0;Object.defineProperty(this,"lastBreak",{get:function(){return kt},set:function(Ft){kt=Ft}});var Jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jt},set:function(Ft){Jt=Ft}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ft){Ft instanceof p&&(f=Ft)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ft){f.path=Ft}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(Ft){Xt=Ft}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ft){var lt;lt=b(Ft),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ft){var lt=b(Ft);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ft){["butt","round","square"].indexOf(Ft)!==-1&&(this.ctx.lineCap=Ft,this.pdf.setLineCap(Ft))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ft){isNaN(Ft)||(this.ctx.lineWidth=Ft,this.pdf.setLineWidth(Ft))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ft){["bevel","round","miter"].indexOf(Ft)!==-1&&(this.ctx.lineJoin=Ft,this.pdf.setLineJoin(Ft))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ft){isNaN(Ft)||(this.ctx.miterLimit=Ft,this.pdf.setMiterLimit(Ft))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ft){this.ctx.textBaseline=Ft}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ft){["right","end","center","left","start"].indexOf(Ft)!==-1&&(this.ctx.textAlign=Ft)}});var ne=null;function te(Ft,lt){if(ne===null){var Te=function(fe){var Qt=[];return Object.keys(fe).forEach(function(Zt){fe[Zt].forEach(function(se){var ae=null;switch(se){case"bold":ae={family:Zt,weight:"bold"};break;case"italic":ae={family:Zt,style:"italic"};break;case"bolditalic":ae={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:Zt}}ae!==null&&(ae.ref={name:Zt,style:se},Qt.push(ae))})}),Qt}(Ft.getFontList());ne=function(fe){for(var Qt={},Zt=0;Zt<fe.length;++Zt){var se=$2(fe[Zt]),ae=se.family,ve=se.stretch,Le=se.style,Ve=se.weight;Qt[ae]=Qt[ae]||{},Qt[ae][ve]=Qt[ae][ve]||{},Qt[ae][ve][Le]=Qt[ae][ve][Le]||{},Qt[ae][ve][Le][Ve]=se}return Qt}(Te.concat(lt))}return ne}var Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(Ft){ne=null,Se=Ft}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ft){var lt;if(this.ctx.font=Ft,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ft))!==null){var Te=lt[1];lt[2];var fe=lt[3],Qt=lt[4];lt[5];var Zt=lt[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qt)[2];Qt=Math.floor(se==="px"?parseFloat(Qt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Qt)*this.pdf.getFontSize():parseFloat(Qt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qt);var ae=function(de){var We,oe,li=[],Ke=de.trim();if(Ke==="")return Mv;if(Ke in MT)return[MT[Ke]];for(;Ke!=="";){switch(oe=null,We=(Ke=jT(Ke)).charAt(0)){case'"':case"'":oe=HB(Ke.substring(1),We);break;default:oe=GB(Ke)}if(oe===null||(li.push(oe[0]),(Ke=jT(oe[1]))!==""&&Ke.charAt(0)!==","))return Mv;Ke=Ke.replace(/^,/,"")}return li}(Zt);if(this.fontFaces){var ve=qB(te(this.pdf,this.fontFaces),ae.map(function(de){return{family:de,stretch:"normal",weight:fe,style:Te}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var Le="";(fe==="bold"||parseInt(fe,10)>=700||Te==="bold")&&(Le="bold"),Te==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var Ve="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<ae.length;me++){if(this.pdf.internal.getFont(ae[me],Le,{noFallback:!0,disableWarning:!0})!==void 0){Ve=ae[me];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(ae[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=ae[me],Le="bold";else if(this.pdf.internal.getFont(ae[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=ae[me],Le="normal";break}}if(Ve===""){for(var Ge=0;Ge<ae.length;Ge++)if(_e[ae[Ge]]){Ve=_e[ae[Ge]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ft){this.ctx.globalCompositeOperation=Ft}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ft){this.ctx.globalAlpha=Ft}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ft){this.ctx.lineDashOffset=Ft,At.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ft){this.ctx.lineDash=Ft,At.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ft){this.ctx.ignoreClearRect=!!Ft}})};y.prototype.setLineDash=function(V){this.lineDash=V},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){nt.call(this,"fill",!1)},y.prototype.stroke=function(){nt.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(V,Y){if(isNaN(V)||isNaN(Y))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var tt=this.ctx.transform.applyToPoint(new o(V,Y));this.path.push({type:"mt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new o(V,Y)},y.prototype.closePath=function(){var V=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&qn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){V=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},y.prototype.lineTo=function(V,Y){if(isNaN(V)||isNaN(Y))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var tt=this.ctx.transform.applyToPoint(new o(V,Y));this.path.push({type:"lt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new o(tt.x,tt.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),nt.call(this,null,!0)},y.prototype.quadraticCurveTo=function(V,Y,tt,at){if(isNaN(tt)||isNaN(at)||isNaN(V)||isNaN(Y))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(tt,at)),Nt=this.ctx.transform.applyToPoint(new o(V,Y));this.path.push({type:"qct",x1:Nt.x,y1:Nt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},y.prototype.bezierCurveTo=function(V,Y,tt,at,ct,Nt){if(isNaN(ct)||isNaN(Nt)||isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Et=this.ctx.transform.applyToPoint(new o(ct,Nt)),kt=this.ctx.transform.applyToPoint(new o(V,Y)),Jt=this.ctx.transform.applyToPoint(new o(tt,at));this.path.push({type:"bct",x1:kt.x,y1:kt.y,x2:Jt.x,y2:Jt.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new o(Et.x,Et.y)},y.prototype.arc=function(V,Y,tt,at,ct,Nt){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at)||isNaN(ct))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Nt=!!Nt,!this.ctx.transform.isIdentity){var Et=this.ctx.transform.applyToPoint(new o(V,Y));V=Et.x,Y=Et.y;var kt=this.ctx.transform.applyToPoint(new o(0,tt)),Jt=this.ctx.transform.applyToPoint(new o(0,0));tt=Math.sqrt(Math.pow(kt.x-Jt.x,2)+Math.pow(kt.y-Jt.y,2))}Math.abs(ct-at)>=2*Math.PI&&(at=0,ct=2*Math.PI),this.path.push({type:"arc",x:V,y:Y,radius:tt,startAngle:at,endAngle:ct,counterclockwise:Nt})},y.prototype.arcTo=function(V,Y,tt,at,ct){throw new Error("arcTo not implemented.")},y.prototype.rect=function(V,Y,tt,at){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,Y),this.lineTo(V+tt,Y),this.lineTo(V+tt,Y+at),this.lineTo(V,Y+at),this.lineTo(V,Y),this.lineTo(V+tt,Y),this.lineTo(V,Y)},y.prototype.fillRect=function(V,Y,tt,at){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,Y,tt,at),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},y.prototype.strokeRect=function(V,Y,tt,at){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(V,Y,tt,at),this.stroke())},y.prototype.clearRect=function(V,Y,tt,at){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,Y,tt,at))},y.prototype.save=function(V){V=typeof V!="boolean"||V;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},y.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(V){var Y,tt,at,ct;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))Y=0,tt=0,at=0,ct=0;else{var Nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Nt!==null)Y=parseInt(Nt[1]),tt=parseInt(Nt[2]),at=parseInt(Nt[3]),ct=1;else if((Nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)Y=parseInt(Nt[1]),tt=parseInt(Nt[2]),at=parseInt(Nt[3]),ct=parseFloat(Nt[4]);else{if(ct=1,typeof V=="string"&&V.charAt(0)!=="#"){var Et=new RI(V);V=Et.ok?Et.toHex():"#000000"}V.length===4?(Y=V.substring(1,2),Y+=Y,tt=V.substring(2,3),tt+=tt,at=V.substring(3,4),at+=at):(Y=V.substring(1,3),tt=V.substring(3,5),at=V.substring(5,7)),Y=parseInt(Y,16),tt=parseInt(tt,16),at=parseInt(at,16)}}return{r:Y,g:tt,b:at,a:ct,style:V}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(V,Y,tt,at){if(isNaN(Y)||isNaN(tt)||typeof V!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!_.call(this)){var ct=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:V,x:Y,y:tt,scale:Nt,angle:ct,align:this.textAlign,maxWidth:at})}},y.prototype.strokeText=function(V,Y,tt,at){if(isNaN(Y)||isNaN(tt)||typeof V!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){at=isNaN(at)?void 0:at;var ct=ft(this.ctx.transform.rotation),Nt=this.ctx.transform.scaleX;D.call(this,{text:V,x:Y,y:tt,scale:Nt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:at})}},y.prototype.measureText=function(V){if(typeof V!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,tt=this.pdf.internal.scaleFactor,at=Y.internal.getFontSize(),ct=Y.getStringUnitWidth(V)*at/Y.internal.scaleFactor,Nt=function(Et){var kt=(Et=Et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this};return new Nt({width:ct*=Math.round(96*tt/72*1e4)/1e4})},y.prototype.scale=function(V,Y){if(isNaN(V)||isNaN(Y))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var tt=new u(V,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(tt)},y.prototype.rotate=function(V){if(isNaN(V))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},y.prototype.translate=function(V,Y){if(isNaN(V)||isNaN(Y))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var tt=new u(1,0,0,1,V,Y);this.ctx.transform=this.ctx.transform.multiply(tt)},y.prototype.transform=function(V,Y,tt,at,ct,Nt){if(isNaN(V)||isNaN(Y)||isNaN(tt)||isNaN(at)||isNaN(ct)||isNaN(Nt))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Et=new u(V,Y,tt,at,ct,Nt);this.ctx.transform=this.ctx.transform.multiply(Et)},y.prototype.setTransform=function(V,Y,tt,at,ct,Nt){V=isNaN(V)?1:V,Y=isNaN(Y)?0:Y,tt=isNaN(tt)?0:tt,at=isNaN(at)?1:at,ct=isNaN(ct)?0:ct,Nt=isNaN(Nt)?0:Nt,this.ctx.transform=new u(V,Y,tt,at,ct,Nt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(V,Y,tt,at,ct,Nt,Et,kt,Jt){var Xt=this.pdf.getImageProperties(V),ne=1,te=1,Se=1,Ft=1;at!==void 0&&kt!==void 0&&(Se=kt/at,Ft=Jt/ct,ne=Xt.width/at*kt/at,te=Xt.height/ct*Jt/ct),Nt===void 0&&(Nt=Y,Et=tt,Y=0,tt=0),at!==void 0&&kt===void 0&&(kt=at,Jt=ct),at===void 0&&kt===void 0&&(kt=Xt.width,Jt=Xt.height);for(var lt,Te=this.ctx.transform.decompose(),fe=ft(Te.rotate.shx),Qt=new u,Zt=(Qt=(Qt=(Qt=Qt.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new c(Nt-Y*Se,Et-tt*Ft,at*ne,ct*te)),se=C.call(this,Zt),ae=[],ve=0;ve<se.length;ve+=1)ae.indexOf(se[ve])===-1&&ae.push(se[ve]);if($(ae),this.autoPaging)for(var Le=ae[0],Ve=ae[ae.length-1],_e=Le;_e<Ve+1;_e++){this.pdf.setPage(_e);var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=_e===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=_e===1?0:de+(_e-2)*We;if(this.ctx.clip_path.length!==0){var li=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(lt,this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset),et.call(this,"fill",!0),this.path=li}var Ke=JSON.parse(JSON.stringify(Zt));Ke=M([Ke],this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset)[0];var ir=(_e>Le||_e<Ve)&&N.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,We,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,fe),ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,fe)};var C=function(V,Y,tt){var at=[];Y=Y||this.pdf.internal.pageSize.width,tt=tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":at.push(Math.floor((V.y+ct)/tt)+1);break;case"arc":at.push(Math.floor((V.y+ct-V.radius)/tt)+1),at.push(Math.floor((V.y+ct+V.radius)/tt)+1);break;case"qct":var Nt=xt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);at.push(Math.floor((Nt.y+ct)/tt)+1),at.push(Math.floor((Nt.y+Nt.h+ct)/tt)+1);break;case"bct":var Et=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);at.push(Math.floor((Et.y+ct)/tt)+1),at.push(Math.floor((Et.y+Et.h+ct)/tt)+1);break;case"rect":at.push(Math.floor((V.y+ct)/tt)+1),at.push(Math.floor((V.y+V.h+ct)/tt)+1)}for(var kt=0;kt<at.length;kt+=1)for(;this.pdf.internal.getNumberOfPages()<at[kt];)I.call(this);return at},I=function(){var V=this.fillStyle,Y=this.strokeStyle,tt=this.font,at=this.lineCap,ct=this.lineWidth,Nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=Y,this.font=tt,this.lineCap=at,this.lineWidth=ct,this.lineJoin=Nt},M=function(V,Y,tt){for(var at=0;at<V.length;at++)switch(V[at].type){case"bct":V[at].x2+=Y,V[at].y2+=tt;case"qct":V[at].x1+=Y,V[at].y1+=tt;case"mt":case"lt":case"arc":default:V[at].x+=Y,V[at].y+=tt}return V},$=function(V){return V.sort(function(Y,tt){return Y-tt})},nt=function(V,Y){for(var tt,at,ct=this.fillStyle,Nt=this.strokeStyle,Et=this.lineCap,kt=this.lineWidth,Jt=Math.abs(kt*this.ctx.transform.scaleX),Xt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),Se=[],Ft=0;Ft<te.length;Ft++)if(te[Ft].x!==void 0)for(var lt=C.call(this,te[Ft]),Te=0;Te<lt.length;Te+=1)Se.indexOf(lt[Te])===-1&&Se.push(lt[Te]);for(var fe=0;fe<Se.length;fe++)for(;this.pdf.internal.getNumberOfPages()<Se[fe];)I.call(this);if($(Se),this.autoPaging)for(var Qt=Se[0],Zt=Se[Se.length-1],se=Qt;se<Zt+1;se++){this.pdf.setPage(se),this.fillStyle=ct,this.strokeStyle=Nt,this.lineCap=Et,this.lineWidth=Jt,this.lineJoin=Xt;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=se===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=se===1?0:Le+(se-2)*Ve;if(this.ctx.clip_path.length!==0){var me=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(tt,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),et.call(this,V,!0),this.path=me}if(at=JSON.parse(JSON.stringify(ne)),this.path=M(at,this.posX+this.margin[3],-_e+ve+this.ctx.prevPageLastElemOffset),Y===!1||se===0){var Ge=(se>Qt||se<Zt)&&N.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Ve,null).clip().discardPath()),et.call(this,V,Y),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=kt}else this.lineWidth=Jt,et.call(this,V,Y),this.lineWidth=kt;this.path=ne},et=function(V,Y){if((V!=="stroke"||Y||!E.call(this))&&(V==="stroke"||Y||!_.call(this))){for(var tt,at,ct=[],Nt=this.path,Et=0;Et<Nt.length;Et++){var kt=Nt[Et];switch(kt.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:kt,deltas:[],abs:[]});break;case"lt":var Jt=ct.length;if(Nt[Et-1]&&!isNaN(Nt[Et-1].x)&&(tt=[kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],Jt>0)){for(;Jt>=0;Jt--)if(ct[Jt-1].close!==!0&&ct[Jt-1].begin!==!0){ct[Jt-1].deltas.push(tt),ct[Jt-1].abs.push(kt);break}}break;case"bct":tt=[kt.x1-Nt[Et-1].x,kt.y1-Nt[Et-1].y,kt.x2-Nt[Et-1].x,kt.y2-Nt[Et-1].y,kt.x-Nt[Et-1].x,kt.y-Nt[Et-1].y],ct[ct.length-1].deltas.push(tt);break;case"qct":var Xt=Nt[Et-1].x+2/3*(kt.x1-Nt[Et-1].x),ne=Nt[Et-1].y+2/3*(kt.y1-Nt[Et-1].y),te=kt.x+2/3*(kt.x1-kt.x),Se=kt.y+2/3*(kt.y1-kt.y),Ft=kt.x,lt=kt.y;tt=[Xt-Nt[Et-1].x,ne-Nt[Et-1].y,te-Nt[Et-1].x,Se-Nt[Et-1].y,Ft-Nt[Et-1].x,lt-Nt[Et-1].y],ct[ct.length-1].deltas.push(tt);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(kt)}}at=Y?null:V==="stroke"?"stroke":"fill";for(var Te=!1,fe=0;fe<ct.length;fe++)if(ct[fe].arc)for(var Qt=ct[fe].abs,Zt=0;Zt<Qt.length;Zt++){var se=Qt[Zt];se.type==="arc"?P.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,Y,!Te):j.call(this,se.x,se.y),Te=!0}else if(ct[fe].close===!0)this.pdf.internal.out("h"),Te=!1;else if(ct[fe].begin!==!0){var ae=ct[fe].start.x,ve=ct[fe].start.y;ot.call(this,ct[fe].deltas,ae,ve),Te=!0}at&&F.call(this,at),Y&&z.call(this)}},pt=function(V){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,tt=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-tt;case"top":return V+Y-tt;case"hanging":return V+Y-2*tt;case"middle":return V+Y/2-tt;case"ideographic":return V;case"alphabetic":default:return V}},q=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(Y,tt){this.colorStops.push([Y,tt])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(V,Y,tt,at,ct,Nt,Et,kt,Jt){for(var Xt=it.call(this,tt,at,ct,Nt),ne=0;ne<Xt.length;ne++){var te=Xt[ne];ne===0&&(Jt?L.call(this,te.x1+V,te.y1+Y):j.call(this,te.x1+V,te.y1+Y)),wt.call(this,V,Y,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}kt?z.call(this):F.call(this,Et)},F=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(V,Y){this.pdf.internal.out(e(V)+" "+i(Y)+" m")},D=function(V){var Y;switch(V.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var tt=this.pdf.getTextDimensions(V.text),at=pt.call(this,V.y),ct=q.call(this,at)-tt.h,Nt=this.ctx.transform.applyToPoint(new o(V.x,at)),Et=this.ctx.transform.decompose(),kt=new u;kt=(kt=(kt=kt.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var Jt,Xt,ne,te=this.ctx.transform.applyToRectangle(new c(V.x,at,tt.w,tt.h)),Se=kt.applyToRectangle(new c(V.x,ct,tt.w,tt.h)),Ft=C.call(this,Se),lt=[],Te=0;Te<Ft.length;Te+=1)lt.indexOf(Ft[Te])===-1&&lt.push(Ft[Te]);if($(lt),this.autoPaging)for(var fe=lt[0],Qt=lt[lt.length-1],Zt=fe;Zt<Qt+1;Zt++){this.pdf.setPage(Zt);var se=Zt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Le=ve-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],_e=Ve-this.margin[3],me=Zt===1?0:ae+(Zt-2)*Le;if(this.ctx.clip_path.length!==0){var Ge=this.path;Jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Jt,this.posX+this.margin[3],-1*me+se),et.call(this,"fill",!0),this.path=Ge}var de=M([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-me+se+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*V.scale),ne=this.lineWidth,this.lineWidth=ne*V.scale);var We=this.autoPaging!=="text";if(We||de.y+de.h<=ve){if(We||de.y>=se&&de.x<=Ve){var oe=We?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ve-de.x)[0],li=M([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-me+se+this.ctx.prevPageLastElemOffset)[0],Ke=We&&(Zt>fe||Zt<Qt)&&N.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Le,null).clip().discardPath()),this.pdf.text(oe,li.x,li.y,{angle:V.angle,align:Y,renderingMode:V.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else de.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-de.y);V.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)}else V.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*V.scale),ne=this.lineWidth,this.lineWidth=ne*V.scale),this.pdf.text(V.text,Nt.x+this.posX,Nt.y+this.posY,{angle:V.angle,align:Y,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)},j=function(V,Y,tt,at){tt=tt||0,at=at||0,this.pdf.internal.out(e(V+tt)+" "+i(Y+at)+" l")},ot=function(V,Y,tt){return this.pdf.lines(V,Y,tt,null,null)},wt=function(V,Y,tt,at,ct,Nt,Et,kt){this.pdf.internal.out([t(r(tt+V)),t(s(at+Y)),t(r(ct+V)),t(s(Nt+Y)),t(r(Et+V)),t(s(kt+Y)),"c"].join(" "))},it=function(V,Y,tt,at){for(var ct=2*Math.PI,Nt=Math.PI/2;Y>tt;)Y-=ct;var Et=Math.abs(tt-Y);Et<ct&&at&&(Et=ct-Et);for(var kt=[],Jt=at?-1:1,Xt=Y;Et>1e-5;){var ne=Xt+Jt*Math.min(Et,Nt);kt.push(ht.call(this,V,Xt,ne)),Et-=Math.abs(ne-Xt),Xt=ne}return kt},ht=function(V,Y,tt){var at=(tt-Y)/2,ct=V*Math.cos(at),Nt=V*Math.sin(at),Et=ct,kt=-Nt,Jt=Et*Et+kt*kt,Xt=Jt+Et*ct+kt*Nt,ne=4/3*(Math.sqrt(2*Jt*Xt)-Xt)/(Et*Nt-kt*ct),te=Et-ne*kt,Se=kt+ne*Et,Ft=te,lt=-Se,Te=at+Y,fe=Math.cos(Te),Qt=Math.sin(Te);return{x1:V*Math.cos(Y),y1:V*Math.sin(Y),x2:te*fe-Se*Qt,y2:te*Qt+Se*fe,x3:Ft*fe-lt*Qt,y3:Ft*Qt+lt*fe,x4:V*Math.cos(tt),y4:V*Math.sin(tt)}},ft=function(V){return 180*V/Math.PI},xt=function(V,Y,tt,at,ct,Nt){var Et=V+.5*(tt-V),kt=Y+.5*(at-Y),Jt=ct+.5*(tt-ct),Xt=Nt+.5*(at-Nt),ne=Math.min(V,ct,Et,Jt),te=Math.max(V,ct,Et,Jt),Se=Math.min(Y,Nt,kt,Xt),Ft=Math.max(Y,Nt,kt,Xt);return new c(ne,Se,te-ne,Ft-Se)},J=function(V,Y,tt,at,ct,Nt,Et,kt){var Jt,Xt,ne,te,Se,Ft,lt,Te,fe,Qt,Zt,se,ae,ve,Le=tt-V,Ve=at-Y,_e=ct-tt,me=Nt-at,Ge=Et-ct,de=kt-Nt;for(Xt=0;Xt<41;Xt++)fe=(lt=(ne=V+(Jt=Xt/40)*Le)+Jt*((Se=tt+Jt*_e)-ne))+Jt*(Se+Jt*(ct+Jt*Ge-Se)-lt),Qt=(Te=(te=Y+Jt*Ve)+Jt*((Ft=at+Jt*me)-te))+Jt*(Ft+Jt*(Nt+Jt*de-Ft)-Te),Xt==0?(Zt=fe,se=Qt,ae=fe,ve=Qt):(Zt=Math.min(Zt,fe),se=Math.min(se,Qt),ae=Math.max(ae,fe),ve=Math.max(ve,Qt));return new c(Math.round(Zt),Math.round(se),Math.round(ae-Zt),Math.round(ve-se))},At=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,Y,tt=(V=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:Y}));this.prevLineDash!==tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=tt)}}})(ke.API),function(n){var t=function(s){var o,c,u,f,p,y,b,_,E,N;for(c=[],u=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(p=((p=((p=((p=(p-(N=p%85))/85)-(E=p%85))/85)-(_=p%85))/85)-(b=p%85))/85)%85,c.push(y+33,b+33,_+33,E+33,N+33)):c.push(122);return function(C,I){for(var M=I;M>0;M--)C.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},e=function(s){var o,c,u,f,p,y=String,b="length",_=255,E="charCodeAt",N="slice",C="replace";for(s[N](-2),s=s[N](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],f=0,p=(s+=o="uuuuu"[N](s[b]%5||5))[b];p>f;f+=5)c=52200625*(s[E](f)-33)+614125*(s[E](f+1)-33)+7225*(s[E](f+2)-33)+85*(s[E](f+3)-33)+(s[E](f+4)-33),u.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(I,M){for(var $=M;$>0;$--)I.pop()}(u,o[b]),y.fromCharCode.apply(y,u)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},r=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=U2(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(ke.API),function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,p){var y=new XMLHttpRequest,b=0,_=function(E){var N=E.length,C=[],I=String.fromCharCode;for(b=0;b<N;b+=1)C.push(I(255&E.charCodeAt(b)));return C.join("")};if(y.open("GET",u,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?p(_(this.responseText)):p(void 0)}),y.send(null),f&&y.status===200)return _(y.responseText)}(r,s,o)}catch{}return c}(t,e,i)},n.loadImageFile=n.loadFile}(ke.API),function(n){function t(){return(Me.html2canvas?Promise.resolve(Me.html2canvas):O2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Me.DOMPurify?Promise.resolve(Me.DOMPurify):O2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=qn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,p){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)p!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||y.appendChild(u(b,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var _=f[b],E=_.src.find(function(N){return N.format==="truetype"});E&&u.addFont(E.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||ke.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,f),y}).then(f,p).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=u.call(f,o,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ke.getPageSize=function(o,c,u){if(qn(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,y=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var _,E=0,N=0;if(b.hasOwnProperty(y))E=b[y][1]/p,N=b[y][0]/p;else try{E=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",N>E&&(_=N,N=E,E=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>N&&(_=N,N=E,E=_)}return{width:N,height:E,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map($2):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(ke.API),ke.API.addJS=function(n){return VT=n,this.internal.events.subscribe("postPutResources",function(){Pm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pm!==void 0&&FT!==void 0&&this.internal.out("/Names <</JavaScript "+Pm+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],c=i.exec(o);if(c!=null){var u=c[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var y=e.internal.newObject();p.push(y);var b=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<p.length;s++)e.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(ke.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,c){var u,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(y){for(var b,_=256*y.charCodeAt(4)+y.charCodeAt(5),E=y.length,N={width:0,height:0,numcomponents:1},C=4;C<E;C+=2){if(C+=_,t.indexOf(y.charCodeAt(C+1))!==-1){b=256*y.charCodeAt(C+5)+y.charCodeAt(C+6),N={width:256*y.charCodeAt(C+7)+y.charCodeAt(C+8),height:b,numcomponents:y.charCodeAt(C+9)};break}_=256*y.charCodeAt(C+2)+y.charCodeAt(C+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:e,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(ke.API);var If,km,BT,UT,zT,WB=function(){var n,t,e;function i(s){var o,c,u,f,p,y,b,_,E,N,C,I,M,$;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),E=(function(){var nt,et;for(et=[],nt=0;nt<4;++nt)et.push(String.fromCharCode(this.data[this.pos++]));return et}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,y.delay=1e3*p/f,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,I=0;0<=o?I<o:I>o;0<=o?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((N=u-this.transparency.indexed.length)>0)for(M=0;0<=N?M<N:M>N;0<=N?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(C=this.read(o)).indexOf(0),_=String.fromCharCode.apply(String,C.slice(0,b)),this.text[_]=String.fromCharCode.apply(String,C.slice(b+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=($=this.colorType)===4||$===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,b,_,E){var N,C,I,M,$,nt,et,pt,q,P,F,z,L,D,j,ot,wt,it,ht,ft,xt,J=Math.ceil((f.width-y)/_),At=Math.ceil((f.height-b)/E),V=f.width==J&&f.height==At;for(D=o*J,z=V?c:new Uint8Array(D*At),nt=s.length,L=0,C=0;L<At&&u<nt;){switch(s[u++]){case 0:for(M=wt=0;wt<D;M=wt+=1)z[C++]=s[u++];break;case 1:for(M=it=0;it<D;M=it+=1)N=s[u++],$=M<o?0:z[C-o],z[C++]=(N+$)%256;break;case 2:for(M=ht=0;ht<D;M=ht+=1)N=s[u++],I=(M-M%o)/o,j=L&&z[(L-1)*D+I*o+M%o],z[C++]=(j+N)%256;break;case 3:for(M=ft=0;ft<D;M=ft+=1)N=s[u++],I=(M-M%o)/o,$=M<o?0:z[C-o],j=L&&z[(L-1)*D+I*o+M%o],z[C++]=(N+Math.floor(($+j)/2))%256;break;case 4:for(M=xt=0;xt<D;M=xt+=1)N=s[u++],I=(M-M%o)/o,$=M<o?0:z[C-o],L===0?j=ot=0:(j=z[(L-1)*D+I*o+M%o],ot=I&&z[(L-1)*D+(I-1)*o+M%o]),et=$+j-ot,pt=Math.abs(et-$),P=Math.abs(et-j),F=Math.abs(et-ot),q=pt<=P&&pt<=F?$:P<=F?j:ot,z[C++]=(N+q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!V){var Y=((b+L*E)*f.width+y)*o,tt=L*D;for(M=0;M<J;M+=1){for(var at=0;at<o;at+=1)c[Y++]=z[tt++];Y+=(_-1)*o}}L++}}return s=TB(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},i.prototype.decodePalette=function(){var s,o,c,u,f,p,y,b,_;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),u=0,s=0,o=y=0,b=c.length;y<b;o=y+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(_=p[s++])!=null?_:255;return f},i.prototype.copyToImageData=function(s,o){var c,u,f,p,y,b,_,E,N,C,I;if(u=this.colors,N=null,c=this.hasAlphaChannel,this.palette.length&&(N=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),u=4,c=!0),E=(f=s.data||s).length,y=N||o,p=b=0,u===1)for(;p<E;)_=N?4*o[p/4]:b,C=y[_++],f[p++]=C,f[p++]=C,f[p++]=C,f[p++]=c?y[_++]:255,b=_;else for(;p<E;)_=N?4*o[p/4]:b,f[p++]=y[_++],f[p++]=y[_++],f[p++]=y[_++],f[p++]=c?y[_++]:255,b=_},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Me)==="[object Window]"){try{t=Me.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,c,u,f,p,y,b,_;if(this.animation){for(_=[],c=p=0,y=(b=this.animation.frames).length;p<y;c=++p)o=b[c],u=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,_.push(o.image=n(u));return _}},i.prototype.renderFrame=function(s,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(s){var o,c,u,f,p,y,b=this;return c=0,y=this.animation,f=y.numFrames,u=y.frames,p=y.numPlays,(o=function(){var _,E;if(_=c++%f,E=u[_],b.renderFrame(s,_),f>1&&c/f<p)return b.animation._timeout=setTimeout(o,E.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $B(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<(7&r)+1;n[t++],n[t++];var c=null,u=null;s&&(c=t,u=o,t+=3*o);var f=!0,p=[],y=0,b=null,_=0,E=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,E=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[t++];y=n[t++]|n[t++]<<8,b=n[t++],(1&N)==0&&(b=null),_=N>>2&7,t++;break;case 254:for(;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var C=n[t++]|n[t++]<<8,I=n[t++]|n[t++]<<8,M=n[t++]|n[t++]<<8,$=n[t++]|n[t++]<<8,nt=n[t++],et=nt>>6&1,pt=1<<(7&nt)+1,q=c,P=u,F=!1;nt>>7&&(F=!0,q=t,P=pt,t+=3*pt);var z=t;for(t++;;){var L;if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}p.push({x:C,y:I,width:M,height:$,has_local_palette:F,palette_offset:q,palette_size:P,data_offset:z,data_length:t-z,transparent_index:b,interlaced:!!et,delay:y,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,j){var ot=this.frameInfo(D),wt=ot.width*ot.height,it=new Uint8Array(wt);qT(n,ot.data_offset,it,wt);var ht=ot.palette_offset,ft=ot.transparent_index;ft===null&&(ft=256);var xt=ot.width,J=e-xt,At=xt,V=4*(ot.y*e+ot.x),Y=4*((ot.y+ot.height)*e+ot.x),tt=V,at=4*J;ot.interlaced===!0&&(at+=4*e*7);for(var ct=8,Nt=0,Et=it.length;Nt<Et;++Nt){var kt=it[Nt];if(At===0&&(At=xt,(tt+=at)>=Y&&(at=4*J+4*e*(ct-1),tt=V+(xt+J)*(ct<<1),ct>>=1)),kt===ft)tt+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[tt++]=ne,j[tt++]=Xt,j[tt++]=Jt,j[tt++]=255}--At}},this.decodeAndBlitFrameRGBA=function(D,j){var ot=this.frameInfo(D),wt=ot.width*ot.height,it=new Uint8Array(wt);qT(n,ot.data_offset,it,wt);var ht=ot.palette_offset,ft=ot.transparent_index;ft===null&&(ft=256);var xt=ot.width,J=e-xt,At=xt,V=4*(ot.y*e+ot.x),Y=4*((ot.y+ot.height)*e+ot.x),tt=V,at=4*J;ot.interlaced===!0&&(at+=4*e*7);for(var ct=8,Nt=0,Et=it.length;Nt<Et;++Nt){var kt=it[Nt];if(At===0&&(At=xt,(tt+=at)>=Y&&(at=4*J+4*e*(ct-1),tt=V+(xt+J)*(ct<<1),ct>>=1)),kt===ft)tt+=4;else{var Jt=n[ht+3*kt],Xt=n[ht+3*kt+1],ne=n[ht+3*kt+2];j[tt++]=Jt,j[tt++]=Xt,j[tt++]=ne,j[tt++]=255}--At}}}function qT(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,c=o+1,u=r+1,f=(1<<u)-1,p=0,y=0,b=0,_=n[t++],E=new Int32Array(4096),N=null;;){for(;p<16&&_!==0;)y|=n[t++]<<p,p+=8,_===1?_=n[t++]:--_;if(p<u)break;var C=y&f;if(y>>=u,p-=u,C!==s){if(C===o)break;for(var I=C<c?C:N,M=0,$=I;$>s;)$=E[$]>>8,++M;var nt=$;if(b+M+(I!==C?1:0)>i)return void Zn.log("Warning, gif stream longer than expected.");e[b++]=nt;var et=b+=M;for(I!==C&&(e[b++]=nt),$=I;M--;)$=E[$],e[--et]=255&$,$>>=8;N!==null&&c<4096&&(E[c++]=N<<8|nt,c>=f+1&&u<12&&(++u,f=f<<1|1)),N=C}else c=o+1,f=(1<<(u=r+1))-1,N=null}return b!==i&&Zn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ov(n){var t,e,i,r,s,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),y=new Array(65535),b=new Array(65535),_=new Array(64),E=new Array(64),N=[],C=0,I=7,M=new Array(64),$=new Array(64),nt=new Array(64),et=new Array(256),pt=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ot=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(V,Y){for(var tt=0,at=0,ct=new Array,Nt=1;Nt<=16;Nt++){for(var Et=1;Et<=V[Nt];Et++)ct[Y[at]]=[],ct[Y[at]][0]=tt,ct[Y[at]][1]=Nt,at++,tt++;tt*=2}return ct}function ht(V){for(var Y=V[0],tt=V[1]-1;tt>=0;)Y&1<<tt&&(C|=1<<I),tt--,--I<0&&(C==255?(ft(255),ft(0)):ft(C),I=7,C=0)}function ft(V){N.push(V)}function xt(V){ft(V>>8&255),ft(255&V)}function J(V,Y,tt,at,ct){for(var Nt,Et=ct[0],kt=ct[240],Jt=function(Qt,Zt){var se,ae,ve,Le,Ve,_e,me,Ge,de,We,oe=0;for(de=0;de<8;++de){se=Qt[oe],ae=Qt[oe+1],ve=Qt[oe+2],Le=Qt[oe+3],Ve=Qt[oe+4],_e=Qt[oe+5],me=Qt[oe+6];var li=se+(Ge=Qt[oe+7]),Ke=se-Ge,ir=ae+me,Je=ae-me,Cn=ve+_e,gr=ve-_e,cn=Le+Ve,Xs=Le-Ve,Hn=li+cn,ki=li-cn,rr=ir+Cn,Gn=ir-Cn;Qt[oe]=Hn+rr,Qt[oe+4]=Hn-rr;var xe=.707106781*(Gn+ki);Qt[oe+2]=ki+xe,Qt[oe+6]=ki-xe;var un=.382683433*((Hn=Xs+gr)-(Gn=Je+Ke)),Ur=.5411961*Hn+un,ci=1.306562965*Gn+un,sr=.707106781*(rr=gr+Je),ms=Ke+sr,le=Ke-sr;Qt[oe+5]=le+Ur,Qt[oe+3]=le-Ur,Qt[oe+1]=ms+ci,Qt[oe+7]=ms-ci,oe+=8}for(oe=0,de=0;de<8;++de){se=Qt[oe],ae=Qt[oe+8],ve=Qt[oe+16],Le=Qt[oe+24],Ve=Qt[oe+32],_e=Qt[oe+40],me=Qt[oe+48];var Rn=se+(Ge=Qt[oe+56]),Ln=se-Ge,Qn=ae+me,ni=ae-me,ui=ve+_e,Si=ve-_e,to=Le+Ve,Ir=Le-Ve,Yi=Rn+to,Di=Rn-to,Ai=Qn+ui,Mi=Qn-ui;Qt[oe]=Yi+Ai,Qt[oe+32]=Yi-Ai;var Wn=.707106781*(Mi+Di);Qt[oe+16]=Di+Wn,Qt[oe+48]=Di-Wn;var wn=.382683433*((Yi=Ir+Si)-(Mi=ni+Ln)),Qs=.5411961*Yi+wn,Js=1.306562965*Mi+wn,mr=.707106781*(Ai=Si+ni),zr=Ln+mr,eo=Ln-mr;Qt[oe+40]=eo+Qs,Qt[oe+24]=eo-Qs,Qt[oe+8]=zr+Js,Qt[oe+56]=zr-Js,oe++}for(de=0;de<64;++de)We=Qt[de]*Zt[de],_[de]=We>0?We+.5|0:We-.5|0;return _}(V,Y),Xt=0;Xt<64;++Xt)E[q[Xt]]=Jt[Xt];var ne=E[0]-tt;tt=E[0],ne==0?ht(at[0]):(ht(at[b[Nt=32767+ne]]),ht(y[Nt]));for(var te=63;te>0&&E[te]==0;)te--;if(te==0)return ht(Et),tt;for(var Se,Ft=1;Ft<=te;){for(var lt=Ft;E[Ft]==0&&Ft<=te;)++Ft;var Te=Ft-lt;if(Te>=16){Se=Te>>4;for(var fe=1;fe<=Se;++fe)ht(kt);Te&=15}Nt=32767+E[Ft],ht(ct[(Te<<4)+b[Nt]]),ht(y[Nt]),Ft++}return te!=63&&ht(Et),tt}function At(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(Y){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ct=o((tt[at]*Y+50)/100);ct=Math.min(Math.max(ct,1),255),c[q[at]]=ct}for(var Nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Et=0;Et<64;Et++){var kt=o((Nt[Et]*Y+50)/100);kt=Math.min(Math.max(kt,1),255),u[q[Et]]=kt}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ne=0;ne<8;ne++)for(var te=0;te<8;te++)f[Xt]=1/(c[q[Xt]]*Jt[ne]*Jt[te]*8),p[Xt]=1/(u[q[Xt]]*Jt[ne]*Jt[te]*8),Xt++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,Y){Y&&At(Y),N=new Array,C=0,I=7,xt(65496),xt(65504),xt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),xt(1),xt(1),ft(0),ft(0),function(){xt(65499),xt(132),ft(0);for(var ae=0;ae<64;ae++)ft(c[ae]);ft(1);for(var ve=0;ve<64;ve++)ft(u[ve])}(),function(ae,ve){xt(65472),xt(17),ft(8),xt(ve),xt(ae),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)}(V.width,V.height),function(){xt(65476),xt(418),ft(0);for(var ae=0;ae<16;ae++)ft(P[ae+1]);for(var ve=0;ve<=11;ve++)ft(F[ve]);ft(16);for(var Le=0;Le<16;Le++)ft(z[Le+1]);for(var Ve=0;Ve<=161;Ve++)ft(L[Ve]);ft(1);for(var _e=0;_e<16;_e++)ft(D[_e+1]);for(var me=0;me<=11;me++)ft(j[me]);ft(17);for(var Ge=0;Ge<16;Ge++)ft(ot[Ge+1]);for(var de=0;de<=161;de++)ft(wt[de])}(),xt(65498),xt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var tt=0,at=0,ct=0;C=0,I=7,this.encode.displayName="_encode_";for(var Nt,Et,kt,Jt,Xt,ne,te,Se,Ft,lt=V.data,Te=V.width,fe=V.height,Qt=4*Te,Zt=0;Zt<fe;){for(Nt=0;Nt<Qt;){for(Xt=Qt*Zt+Nt,te=-1,Se=0,Ft=0;Ft<64;Ft++)ne=Xt+(Se=Ft>>3)*Qt+(te=4*(7&Ft)),Zt+Se>=fe&&(ne-=Qt*(Zt+1+Se-fe)),Nt+te>=Qt&&(ne-=Nt+te-Qt+4),Et=lt[ne++],kt=lt[ne++],Jt=lt[ne++],M[Ft]=(pt[Et]+pt[kt+256>>0]+pt[Jt+512>>0]>>16)-128,$[Ft]=(pt[Et+768>>0]+pt[kt+1024>>0]+pt[Jt+1280>>0]>>16)-128,nt[Ft]=(pt[Et+1280>>0]+pt[kt+1536>>0]+pt[Jt+1792>>0]>>16)-128;tt=J(M,f,tt,t,i),at=J($,p,at,e,r),ct=J(nt,p,ct,e,r),Nt+=32}Zt+=8}if(I>=0){var se=[];se[1]=I+1,se[0]=(1<<I+1)-1,ht(se)}return xt(65497),new Uint8Array(N)},n=n||50,function(){for(var V=String.fromCharCode,Y=0;Y<256;Y++)et[Y]=V(Y)}(),t=it(P,F),e=it(D,j),i=it(z,L),r=it(ot,wt),function(){for(var V=1,Y=2,tt=1;tt<=15;tt++){for(var at=V;at<Y;at++)b[32767+at]=tt,y[32767+at]=[],y[32767+at][1]=tt,y[32767+at][0]=at;for(var ct=-(Y-1);ct<=-V;ct++)b[32767+ct]=tt,y[32767+ct]=[],y[32767+ct][1]=tt,y[32767+ct][0]=Y-1+ct;V<<=1,Y<<=1}}(),function(){for(var V=0;V<256;V++)pt[V]=19595*V,pt[V+256>>0]=38470*V,pt[V+512>>0]=7471*V+32768,pt[V+768>>0]=-11059*V,pt[V+1024>>0]=-21709*V,pt[V+1280>>0]=32768*V+8421375,pt[V+1536>>0]=-27439*V,pt[V+1792>>0]=-5329*V}(),At(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Co(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function HT(n){function t(P){if(!P)throw Error("assert :P")}function e(P,F,z){for(var L=0;4>L;L++)if(P[F+L]!=z.charCodeAt(L))return!0;return!1}function i(P,F,z,L,D){for(var j=0;j<D;j++)P[F+j]=z[L+j]}function r(P,F,z,L){for(var D=0;D<L;D++)P[F+D]=z}function s(P){return new Int32Array(P)}function o(P,F){for(var z=[],L=0;L<P;L++)z.push(new F);return z}function c(P,F){var z=[];return function L(D,j,ot){for(var wt=ot[j],it=0;it<wt&&(D.push(ot.length>j+1?[]:new F),!(ot.length<j+1));it++)L(D[it],j+1,ot)}(z,0,P),z}var u=function(){var P=this;function F(g,w){for(var T=1<<w-1>>>0;g&T;)T>>>=1;return T?(g&T-1)+T:g}function z(g,w,T,R,B){t(!(R%T));do g[w+(R-=T)]=B;while(0<R)}function L(g,w,T,R,B){if(t(2328>=B),512>=B)var G=s(512);else if((G=s(B))==null)return 0;return function(W,K,Z,rt,gt,Rt){var It,St,qt=K,Ot=1<<Z,mt=s(16),vt=s(16);for(t(gt!=0),t(rt!=null),t(W!=null),t(0<Z),St=0;St<gt;++St){if(15<rt[St])return 0;++mt[rt[St]]}if(mt[0]==gt)return 0;for(vt[1]=0,It=1;15>It;++It){if(mt[It]>1<<It)return 0;vt[It+1]=vt[It]+mt[It]}for(St=0;St<gt;++St)It=rt[St],0<rt[St]&&(Rt[vt[It]++]=St);if(vt[15]==1)return(rt=new D).g=0,rt.value=Rt[0],z(W,qt,1,Ot,rt),Ot;var Vt,Ht=-1,Ut=Ot-1,ce=0,ee=1,we=1,re=1<<Z;for(St=0,It=1,gt=2;It<=Z;++It,gt<<=1){if(ee+=we<<=1,0>(we-=mt[It]))return 0;for(;0<mt[It];--mt[It])(rt=new D).g=It,rt.value=Rt[St++],z(W,qt+ce,gt,re,rt),ce=F(ce,It)}for(It=Z+1,gt=2;15>=It;++It,gt<<=1){if(ee+=we<<=1,0>(we-=mt[It]))return 0;for(;0<mt[It];--mt[It]){if(rt=new D,(ce&Ut)!=Ht){for(qt+=re,Vt=1<<(Ht=It)-Z;15>Ht&&!(0>=(Vt-=mt[Ht]));)++Ht,Vt<<=1;Ot+=re=1<<(Vt=Ht-Z),W[K+(Ht=ce&Ut)].g=Vt+Z,W[K+Ht].value=qt-K-Ht}rt.g=It-Z,rt.value=Rt[St++],z(W,qt+(ce>>Z),gt,re,rt),ce=F(ce,It)}}return ee!=2*vt[15]-1?0:Ot}(g,w,T,R,B,G)}function D(){this.value=this.g=0}function j(){this.value=this.g=0}function ot(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ji,j)}function wt(g,w,T,R){t(g!=null),t(w!=null),t(2147483648>R),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=T,g.Jd=w,g.Yc=T+R,g.Zc=4<=R?T+R-4+1:T,Nt(g)}function it(g,w){for(var T=0;0<w--;)T|=kt(g,128)<<w;return T}function ht(g,w){var T=it(g,w);return Et(g)?-T:T}function ft(g,w,T,R){var B,G=0;for(t(g!=null),t(w!=null),t(4294967288>R),g.Sb=R,g.Ra=0,g.u=0,g.h=0,4<R&&(R=4),B=0;B<R;++B)G+=w[T+B]<<8*B;g.Ra=G,g.bb=R,g.oa=w,g.pa=T}function xt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<zl-8>>>0,++g.bb,g.u-=8;tt(g)&&(g.h=1,g.u=0)}function J(g,w){if(t(0<=w),!g.h&&w<=Ul){var T=Y(g)&$o[w];return g.u+=w,xt(g),T}return g.h=1,g.u=0}function At(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&zl-1)>>>0}function tt(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>zl}function at(g,w){g.u=w,g.h=tt(g)}function ct(g){g.u>=zc&&(t(g.u>=zc),xt(g))}function Nt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Et(g){return it(g,1)}function kt(g,w){var T=g.Ca;0>g.b&&Nt(g);var R=g.b,B=T*w>>>8,G=(g.I>>>R>B)+0;for(G?(T-=B,g.I-=B+1<<R>>>0):T=B+1,R=T,B=0;256<=R;)B+=8,R>>=8;return R=7^B+Yr[R],g.b-=R,g.Ca=(T<<R)-1,G}function Jt(g,w,T){g[w+0]=T>>24&255,g[w+1]=T>>16&255,g[w+2]=T>>8&255,g[w+3]=T>>0&255}function Xt(g,w){return g[w+0]<<0|g[w+1]<<8}function ne(g,w){return Xt(g,w)|g[w+2]<<16}function te(g,w){return Xt(g,w)|Xt(g,w+2)<<16}function Se(g,w){var T=1<<w;return t(g!=null),t(0<w),g.X=s(T),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Ft(g,w){t(g!=null),t(w!=null),t(g.Xa==w.Xa),i(w.X,0,g.X,0,1<<w.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function Te(g,w,T,R){t(T!=null),t(R!=null);var B=T[0],G=R[0];return B==0&&(B=(g*G+w/2)/w),G==0&&(G=(w*B+g/2)/g),0>=B||0>=G?0:(T[0]=B,R[0]=G,1)}function fe(g,w){return g+(1<<w)-1>>>w}function Qt(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Zt(g,w){P[w]=function(T,R,B,G,W,K,Z){var rt;for(rt=0;rt<W;++rt){var gt=P[g](K[Z+rt-1],B,G+rt);K[Z+rt]=Qt(T[R+rt],gt)}}}function se(){this.ud=this.hd=this.jd=0}function ae(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function ve(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Le(g,w){return ve(g+(g-w+.5>>1))}function Ve(g,w,T){return Math.abs(w-T)-Math.abs(g-T)}function _e(g,w,T,R,B,G,W){for(R=G[W-1],T=0;T<B;++T)G[W+T]=R=Qt(g[w+T],R)}function me(g,w,T,R,B){var G;for(G=0;G<T;++G){var W=g[w+G],K=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((K<<16)+K));R[B+G]=(4278255360&W)+Z>>>0}}function Ge(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function de(g,w,T,R,B,G){var W;for(W=0;W<R;++W){var K=w[T+W],Z=K>>>8,rt=K,gt=255&(gt=(gt=K>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));rt=255&(rt=(rt=rt+((g.hd<<24>>24)*(Z<<24>>24)>>>5))+((g.ud<<24>>24)*(gt<<24>>24)>>>5)),B[G+W]=(4278255360&K)+(gt<<16)+rt}}function We(g,w,T,R,B){P[w]=function(G,W,K,Z,rt,gt,Rt,It,St){for(Z=Rt;Z<It;++Z)for(Rt=0;Rt<St;++Rt)rt[gt++]=B(K[R(G[W++])])},P[g]=function(G,W,K,Z,rt,gt,Rt){var It=8>>G.b,St=G.Ea,qt=G.K[0],Ot=G.w;if(8>It)for(G=(1<<G.b)-1,Ot=(1<<It)-1;W<K;++W){var mt,vt=0;for(mt=0;mt<St;++mt)mt&G||(vt=R(Z[rt++])),gt[Rt++]=B(qt[vt&Ot]),vt>>=It}else P["VP8LMapColor"+T](Z,rt,qt,Ot,gt,Rt,W,K,St)}}function oe(g,w,T,R,B){for(T=w+T;w<T;){var G=g[w++];R[B++]=G>>16&255,R[B++]=G>>8&255,R[B++]=G>>0&255}}function li(g,w,T,R,B){for(T=w+T;w<T;){var G=g[w++];R[B++]=G>>16&255,R[B++]=G>>8&255,R[B++]=G>>0&255,R[B++]=G>>24&255}}function Ke(g,w,T,R,B){for(T=w+T;w<T;){var G=(W=g[w++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;R[B++]=G,R[B++]=W}}function ir(g,w,T,R,B){for(T=w+T;w<T;){var G=(W=g[w++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;R[B++]=G,R[B++]=W}}function Je(g,w,T,R,B){for(T=w+T;w<T;){var G=g[w++];R[B++]=G>>0&255,R[B++]=G>>8&255,R[B++]=G>>16&255}}function Cn(g,w,T,R,B,G){if(G==0)for(T=w+T;w<T;)Jt(R,((G=g[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else i(R,B,g,w,T)}function gr(g,w){P[w][0]=P[g+"0"],P[w][1]=P[g+"1"],P[w][2]=P[g+"2"],P[w][3]=P[g+"3"],P[w][4]=P[g+"4"],P[w][5]=P[g+"5"],P[w][6]=P[g+"6"],P[w][7]=P[g+"7"],P[w][8]=P[g+"8"],P[w][9]=P[g+"9"],P[w][10]=P[g+"10"],P[w][11]=P[g+"11"],P[w][12]=P[g+"12"],P[w][13]=P[g+"13"],P[w][14]=P[g+"0"],P[w][15]=P[g+"0"]}function cn(g){return g==th||g==il||g==go||g==Wc}function Xs(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ki(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xs,this.f.kb=new Hn,this.sd=null}function rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function un(g,w){var T=g.T,R=w.ba.f.RGBA,B=R.eb,G=R.fb+g.ka*R.A,W=Ji[w.ba.S],K=g.y,Z=g.O,rt=g.f,gt=g.N,Rt=g.ea,It=g.W,St=w.cc,qt=w.dc,Ot=w.Mc,mt=w.Nc,vt=g.ka,Vt=g.ka+g.T,Ht=g.U,Ut=Ht+1>>1;for(vt==0?W(K,Z,null,null,rt,gt,Rt,It,rt,gt,Rt,It,B,G,null,null,Ht):(W(w.ec,w.fc,K,Z,St,qt,Ot,mt,rt,gt,Rt,It,B,G-R.A,B,G,Ht),++T);vt+2<Vt;vt+=2)St=rt,qt=gt,Ot=Rt,mt=It,gt+=g.Rc,It+=g.Rc,G+=2*R.A,W(K,(Z+=2*g.fa)-g.fa,K,Z,St,qt,Ot,mt,rt,gt,Rt,It,B,G-R.A,B,G,Ht);return Z+=g.fa,g.j+Vt<g.o?(i(w.ec,w.fc,K,Z,Ht),i(w.cc,w.dc,rt,gt,Ut),i(w.Mc,w.Nc,Rt,It,Ut),T--):1&Vt||W(K,Z,null,null,rt,gt,Rt,It,rt,gt,Rt,It,B,G+R.A,null,null,Ht),T}function Ur(g,w,T){var R=g.F,B=[g.J];if(R!=null){var G=g.U,W=w.ba.S,K=W==$l||W==go;w=w.ba.f.RGBA;var Z=[0],rt=g.ka;Z[0]=g.T,g.Kb&&(rt==0?--Z[0]:(--rt,B[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-rt));var gt=w.eb;rt=w.fb+rt*w.A,g=tn(R,B[0],g.width,G,Z,gt,rt+(K?0:3),w.A),t(T==Z),g&&cn(W)&&bs(gt,rt,K,G,Z,w.A)}return 0}function ci(g){var w=g.ma,T=w.ba.S,R=11>T,B=T==Gc||T==Zu||T==$l||T==po||T==12||cn(T);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Wo(w.Oa,g,B?11:12))return 0;if(B&&cn(T)&&Yt(),g.da)alert("todo:use_scaling");else{if(R){if(w.Ib=xe,g.Kb){if(T=g.U+1>>1,w.memory=s(g.U+2*T),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+T,w.Ib=un,Yt()}}else alert("todo:EmitYUV");B&&(w.Jb=Ur,R&&bt())}if(R&&!xg){for(g=0;256>g;++g)G1[g]=89858*(g-128)+Vi>>za,ih[g]=-22014*(g-128)+Vi,bd[g]=-45773*(g-128),Bi[g]=113618*(g-128)+Vi>>za;for(g=al;g<sf;++g)w=76283*(g-16)+Vi>>za,rh[g-al]=An(w,255),wd[g-al]=An(w+8>>4,15);xg=1}return 1}function sr(g){var w=g.ma,T=g.U,R=g.T;return t(!(1&g.ka)),0>=T||0>=R?0:(T=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,T),w.Dc+=T,1)}function ms(g){g.ma.memory=null}function le(g,w,T,R){return J(g,8)!=47?0:(w[0]=J(g,14)+1,T[0]=J(g,14)+1,R[0]=J(g,1),J(g,3)!=0?0:!g.h)}function Rn(g,w){if(4>g)return g+1;var T=g-2>>1;return(2+(1&g)<<T)+J(w,T)+1}function Ln(g,w){return 120<w?w-120:1<=(T=((T=yo[w-1])>>4)*g+(8-(15&T)))?T:1;var T}function Qn(g,w,T){var R=Y(T),B=g[w+=255&R].g-8;return 0<B&&(at(T,T.u+8),R=Y(T),w+=g[w].value,w+=R&(1<<B)-1),at(T,T.u+g[w].g),g[w].value}function ni(g,w,T){return T.g+=g.g,T.value+=g.value<<w>>>0,t(8>=T.g),g.g}function ui(g,w,T){var R=g.xc;return t((w=R==0?0:g.vc[g.md*(T>>R)+(w>>R)])<g.Wb),g.Ya[w]}function Si(g,w,T,R){var B=g.ab,G=g.c*w,W=g.C;w=W+w;var K=T,Z=R;for(R=g.Ta,T=g.Ua;0<B--;){var rt=g.gc[B],gt=W,Rt=w,It=K,St=Z,qt=(Z=R,K=T,rt.Ea);switch(t(gt<Rt),t(Rt<=rt.nc),rt.hc){case 2:Qh(It,St,(Rt-gt)*qt,Z,K);break;case 0:var Ot=gt,mt=Rt,vt=Z,Vt=K,Ht=(re=rt).Ea;Ot==0&&(vd(It,St,null,null,1,vt,Vt),_e(It,St+1,0,0,Ht-1,vt,Vt+1),St+=Ht,Vt+=Ht,++Ot);for(var Ut=1<<re.b,ce=Ut-1,ee=fe(Ht,re.b),we=re.K,re=re.w+(Ot>>re.b)*ee;Ot<mt;){var gn=we,Tn=re,Xe=1;for(Qu(It,St,vt,Vt-Ht,1,vt,Vt);Xe<Ht;){var $e=(Xe&~ce)+Ut;$e>Ht&&($e=Ht),(0,uo[gn[Tn++]>>8&15])(It,St+ +Xe,vt,Vt+Xe-Ht,$e-Xe,vt,Vt+Xe),Xe=$e}St+=Ht,Vt+=Ht,++Ot&ce||(re+=ee)}Rt!=rt.nc&&i(Z,K-qt,Z,K+(Rt-gt-1)*qt,qt);break;case 1:for(qt=It,mt=St,Ht=(It=rt.Ea)-(Vt=It&~(vt=(St=1<<rt.b)-1)),Ot=fe(It,rt.b),Ut=rt.K,rt=rt.w+(gt>>rt.b)*Ot;gt<Rt;){for(ce=Ut,ee=rt,we=new se,re=mt+Vt,gn=mt+It;mt<re;)Ge(ce[ee++],we),Ko(we,qt,mt,St,Z,K),mt+=St,K+=St;mt<gn&&(Ge(ce[ee++],we),Ko(we,qt,mt,Ht,Z,K),mt+=Ht,K+=Ht),++gt&vt||(rt+=Ot)}break;case 3:if(It==Z&&St==K&&0<rt.b){for(mt=Z,It=qt=K+(Rt-gt)*qt-(Vt=(Rt-gt)*fe(rt.Ea,rt.b)),St=Z,vt=K,Ot=[],Vt=(Ht=Vt)-1;0<=Vt;--Vt)Ot[Vt]=St[vt+Vt];for(Vt=Ht-1;0<=Vt;--Vt)mt[It+Vt]=Ot[Vt];Ms(rt,gt,Rt,Z,qt,Z,K)}else Ms(rt,gt,Rt,It,St,Z,K)}K=R,Z=T}Z!=T&&i(R,T,K,Z,G)}function to(g,w){var T=g.V,R=g.Ba+g.c*g.C,B=w-g.C;if(t(w<=g.l.o),t(16>=B),0<B){var G=g.l,W=g.Ta,K=g.Ua,Z=G.width;if(Si(g,B,T,R),B=K=[K],t((T=g.C)<(R=w)),t(G.v<G.va),R>G.o&&(R=G.o),T<G.j){var rt=G.j-T;T=G.j,B[0]+=rt*Z}if(T>=R?T=0:(B[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=R-T,T=1),T){if(K=K[0],11>(T=g.ca).S){var gt=T.f.RGBA,Rt=(R=T.S,B=G.U,G=G.T,rt=gt.eb,gt.A),It=G;for(gt=gt.fb+g.Ma*gt.A;0<It--;){var St=W,qt=K,Ot=B,mt=rt,vt=gt;switch(R){case wr:Rr(St,qt,Ot,mt,vt);break;case Gc:cr(St,qt,Ot,mt,vt);break;case th:cr(St,qt,Ot,mt,vt),bs(mt,vt,0,Ot,1,0);break;case Fa:la(St,qt,Ot,mt,vt);break;case Zu:Cn(St,qt,Ot,mt,vt,1);break;case il:Cn(St,qt,Ot,mt,vt,1),bs(mt,vt,0,Ot,1,0);break;case $l:Cn(St,qt,Ot,mt,vt,0);break;case go:Cn(St,qt,Ot,mt,vt,0),bs(mt,vt,1,Ot,1,0);break;case po:Xo(St,qt,Ot,mt,vt);break;case Wc:Xo(St,qt,Ot,mt,vt),Ze(mt,vt,Ot,1,0);break;case Zh:Kr(St,qt,Ot,mt,vt);break;default:t(0)}K+=Z,gt+=Rt}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=T.height)}}g.C=w,t(g.C<=g.i)}function Ir(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var T=g.Ya[w].G,R=g.Ya[w].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function Yi(g,w,T,R,B,G){if(g.Z!=0){var W=g.qd,K=g.rd;for(t(Ba[g.Z]!=null);w<T;++w)Ba[g.Z](W,K,R,B,R,B,G),W=R,K=B,B+=G;g.qd=W,g.rd=K}}function Di(g,w){var T=g.l.ma,R=T.Z==0||T.Z==1?g.l.j:g.C;if(R=g.C<R?R:g.C,t(w<=g.l.o),w>R){var B=g.l.width,G=T.ca,W=T.tb+B*R,K=g.V,Z=g.Ba+g.c*R,rt=g.gc;t(g.ab==1),t(rt[0].hc==3),Yo(rt[0],R,w,K,Z,G,W),Yi(T,R,w,G,W,B)}g.C=g.Ma=w}function Ai(g,w,T,R,B,G,W){var K=g.$/R,Z=g.$%R,rt=g.m,gt=g.s,Rt=T+g.$,It=Rt;B=T+R*B;var St=T+R*G,qt=280+gt.ua,Ot=g.Pb?K:16777216,mt=0<gt.ua?gt.Wa:null,vt=gt.wc,Vt=Rt<St?ui(gt,Z,K):null;t(g.C<G),t(St<=B);var Ht=!1;t:for(;;){for(;Ht||Rt<St;){var Ut=0;if(K>=Ot){var ce=Rt-T;t((Ot=g).Pb),Ot.wd=Ot.m,Ot.xd=ce,0<Ot.s.ua&&Ft(Ot.s.Wa,Ot.s.vb),Ot=K+Sg}if(Z&vt||(Vt=ui(gt,Z,K)),t(Vt!=null),Vt.Qb&&(w[Rt]=Vt.qb,Ht=!0),!Ht)if(ct(rt),Vt.jc){Ut=rt,ce=w;var ee=Rt,we=Vt.pd[Y(Ut)&ji-1];t(Vt.jc),256>we.g?(at(Ut,Ut.u+we.g),ce[ee]=we.value,Ut=0):(at(Ut,Ut.u+we.g-256),t(256<=we.value),Ut=we.value),Ut==0&&(Ht=!0)}else Ut=Qn(Vt.G[0],Vt.H[0],rt);if(rt.h)break;if(Ht||256>Ut){if(!Ht)if(Vt.nd)w[Rt]=(Vt.qb|Ut<<8)>>>0;else{if(ct(rt),Ht=Qn(Vt.G[1],Vt.H[1],rt),ct(rt),ce=Qn(Vt.G[2],Vt.H[2],rt),ee=Qn(Vt.G[3],Vt.H[3],rt),rt.h)break;w[Rt]=(ee<<24|Ht<<16|Ut<<8|ce)>>>0}if(Ht=!1,++Rt,++Z>=R&&(Z=0,++K,W!=null&&K<=G&&!(K%16)&&W(g,K),mt!=null))for(;It<Rt;)Ut=w[It++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut}else if(280>Ut){if(Ut=Rn(Ut-256,rt),ce=Qn(Vt.G[4],Vt.H[4],rt),ct(rt),ce=Ln(R,ce=Rn(ce,rt)),rt.h)break;if(Rt-T<ce||B-Rt<Ut)break t;for(ee=0;ee<Ut;++ee)w[Rt+ee]=w[Rt+ee-ce];for(Rt+=Ut,Z+=Ut;Z>=R;)Z-=R,++K,W!=null&&K<=G&&!(K%16)&&W(g,K);if(t(Rt<=B),Z&vt&&(Vt=ui(gt,Z,K)),mt!=null)for(;It<Rt;)Ut=w[It++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut}else{if(!(Ut<qt))break t;for(Ht=Ut-280,t(mt!=null);It<Rt;)Ut=w[It++],mt.X[(506832829*Ut&4294967295)>>>mt.Mb]=Ut;Ut=Rt,t(!(Ht>>>(ce=mt).Xa)),w[Ut]=ce.X[Ht],Ht=!0}Ht||t(rt.h==tt(rt))}if(g.Pb&&rt.h&&Rt<B)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ft(g.s.vb,g.s.Wa);else{if(rt.h)break t;W!=null&&W(g,K>G?G:K),g.a=0,g.$=Rt-T}return 1}return g.a=3,0}function Mi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,t(g!=null)}function Wn(){var g=new Bc;return g==null?null:(g.a=0,g.xb=$c,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),Qh=me,Ko=de,Rr=oe,cr=li,Xo=Ke,Kr=ir,la=Je,P.VP8LMapColor32b=Xi,P.VP8LMapColor8b=Ju,g)}function wn(g,w,T,R,B){var G=1,W=[g],K=[w],Z=R.m,rt=R.s,gt=null,Rt=0;t:for(;;){if(T)for(;G&&J(Z,1);){var It=W,St=K,qt=R,Ot=1,mt=qt.m,vt=qt.gc[qt.ab],Vt=J(mt,2);if(qt.Oc&1<<Vt)G=0;else{switch(qt.Oc|=1<<Vt,vt.hc=Vt,vt.Ea=It[0],vt.nc=St[0],vt.K=[null],++qt.ab,t(4>=qt.ab),Vt){case 0:case 1:vt.b=J(mt,3)+2,Ot=wn(fe(vt.Ea,vt.b),fe(vt.nc,vt.b),0,qt,vt.K),vt.K=vt.K[0];break;case 3:var Ht,Ut=J(mt,8)+1,ce=16<Ut?0:4<Ut?1:2<Ut?2:3;if(It[0]=fe(vt.Ea,ce),vt.b=ce,Ht=Ot=wn(Ut,1,0,qt,vt.K)){var ee,we=Ut,re=vt,gn=1<<(8>>re.b),Tn=s(gn);if(Tn==null)Ht=0;else{var Xe=re.K[0],$e=re.w;for(Tn[0]=re.K[0][0],ee=1;ee<1*we;++ee)Tn[ee]=Qt(Xe[$e+ee],Tn[ee-1]);for(;ee<4*gn;++ee)Tn[ee]=0;re.K[0]=null,re.K[0]=Tn,Ht=1}}Ot=Ht;break;case 2:break;default:t(0)}G=Ot}}if(W=W[0],K=K[0],G&&J(Z,1)&&!(G=1<=(Rt=J(Z,4))&&11>=Rt)){R.a=3;break t}var kn;if(kn=G)e:{var xn,Ue,Fn,Ee=R,De=W,pn=K,mn=Rt,Zi=T,Ui=Ee.m,yi=Ee.s,vi=[null],Ni=1,Vs=0,En=Kl[mn];n:for(;;){if(Zi&&J(Ui,1)){var Ii=J(Ui,3)+2,ha=fe(De,Ii),ol=fe(pn,Ii),Jl=ha*ol;if(!wn(ha,ol,0,Ee,vi))break n;for(vi=vi[0],yi.xc=Ii,xn=0;xn<Jl;++xn){var ll=vi[xn]>>8&65535;vi[xn]=ll,ll>=Ni&&(Ni=ll+1)}}if(Ui.h)break n;for(Ue=0;5>Ue;++Ue){var ti=ws[Ue];!Ue&&0<mn&&(ti+=1<<mn),Vs<ti&&(Vs=ti)}var sh=o(Ni*En,D),af=Ni,Pr=o(af,ot);if(Pr==null)var ii=null;else t(65536>=af),ii=Pr;var Zl=s(Vs);if(ii==null||Zl==null||sh==null){Ee.a=1;break n}var cl=sh;for(xn=Fn=0;xn<Ni;++xn){var Qr=ii[xn],ul=Qr.G,Jr=Qr.H,ah=0,Kc=1,of=0;for(Ue=0;5>Ue;++Ue){ti=ws[Ue],ul[Ue]=cl,Jr[Ue]=Fn,!Ue&&0<mn&&(ti+=1<<mn);r:{var oh,lf=ti,lh=Ee,Xc=Zl,Ig=cl,Cg=Fn,ch=0,wo=lh.m,$1=J(wo,1);if(r(Xc,0,0,lf),$1){var Rg=J(wo,1)+1,Lg=J(wo,1),Sd=J(wo,Lg==0?1:8);Xc[Sd]=1,Rg==2&&(Xc[Sd=J(wo,8)]=1);var Qc=1}else{var Ad=s(19),Td=J(wo,4)+4;if(19<Td){lh.a=3;var uh=0;break r}for(oh=0;oh<Td;++oh)Ad[mo[oh]]=J(wo,3);var cf=void 0,Jc=void 0,Pg=lh,kg=Ad,So=lf,hh=Xc,uf=0,fa=Pg.m,Zc=8,xd=o(128,D);i:for(;L(xd,0,7,kg,19);){if(J(fa,1)){var Dg=2+2*J(fa,3);if((cf=2+J(fa,Dg))>So)break i}else cf=So;for(Jc=0;Jc<So&&cf--;){ct(fa);var Ed=xd[0+(127&Y(fa))];at(fa,fa.u+Ed.g);var tc=Ed.value;if(16>tc)hh[Jc++]=tc,tc!=0&&(Zc=tc);else{var Mg=tc==16,Nd=tc-16,Id=Fs[Nd],Cd=J(fa,tf[Nd])+Id;if(Jc+Cd>So)break i;for(var Og=Mg?Zc:0;0<Cd--;)hh[Jc++]=Og}}uf=1;break i}uf||(Pg.a=3),Qc=uf}(Qc=Qc&&!wo.h)&&(ch=L(Ig,Cg,8,Xc,lf)),Qc&&ch!=0?uh=ch:(lh.a=3,uh=0)}if(uh==0)break n;if(Kc&&Yl[Ue]==1&&(Kc=cl[Fn].g==0),ah+=cl[Fn].g,Fn+=uh,3>=Ue){var ec,hf=Zl[0];for(ec=1;ec<ti;++ec)Zl[ec]>hf&&(hf=Zl[ec]);of+=hf}}if(Qr.nd=Kc,Qr.Qb=0,Kc&&(Qr.qb=(ul[3][Jr[3]+0].value<<24|ul[1][Jr[1]+0].value<<16|ul[2][Jr[2]+0].value)>>>0,ah==0&&256>ul[0][Jr[0]+0].value&&(Qr.Qb=1,Qr.qb+=ul[0][Jr[0]+0].value<<8)),Qr.jc=!Qr.Qb&&6>of,Qr.jc){var fh,Ao=Qr;for(fh=0;fh<ji;++fh){var qa=fh,To=Ao.pd[qa],dh=Ao.G[0][Ao.H[0]+qa];256<=dh.value?(To.g=dh.g+256,To.value=dh.value):(To.g=0,To.value=0,qa>>=ni(dh,8,To),qa>>=ni(Ao.G[1][Ao.H[1]+qa],16,To),qa>>=ni(Ao.G[2][Ao.H[2]+qa],0,To),ni(Ao.G[3][Ao.H[3]+qa],24,To))}}}yi.vc=vi,yi.Wb=Ni,yi.Ya=ii,yi.yc=sh,kn=1;break e}kn=0}if(!(G=kn)){R.a=3;break t}if(0<Rt){if(rt.ua=1<<Rt,!Se(rt.Wa,Rt)){R.a=1,G=0;break t}}else rt.ua=0;var ph=R,Rd=W,jg=K,Ld=ph.s,Pd=Ld.xc;if(ph.c=Rd,ph.i=jg,Ld.md=fe(Rd,Pd),Ld.wc=Pd==0?-1:(1<<Pd)-1,T){R.xb=Tg;break t}if((gt=s(W*K))==null){R.a=1,G=0;break t}G=(G=Ai(R,gt,0,W,K,K,null))&&!Z.h;break t}return G?(B!=null?B[0]=gt:(t(gt==null),t(T)),R.$=0,T||Mi(rt)):Mi(rt),G}function Qs(g,w){var T=g.c*g.i,R=T+w+16*w;return t(g.c<=w),g.V=s(R),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+T+w,1)}function Js(g,w){var T=g.C,R=w-T,B=g.V,G=g.Ba+g.c*T;for(t(w<=g.l.o);0<R;){var W=16<R?16:R,K=g.l.ma,Z=g.l.width,rt=Z*W,gt=K.ca,Rt=K.tb+Z*T,It=g.Ta,St=g.Ua;Si(g,W,B,G),Yn(It,St,gt,Rt,rt),Yi(K,T,T+W,gt,Rt,Z),R-=W,B+=W*g.c,T+=W}t(T==w),g.C=g.Ma=w}function mr(){this.ub=this.yd=this.td=this.Rb=0}function zr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function eo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Pl(){this.Yb=function(){var g=[];return function w(T,R,B){for(var G=B[R],W=0;W<G&&(T.push(B.length>R+1?[]:0),!(B.length<R+1));W++)w(T[W],R+1,B)}(g,0,[3,11]),g}()}function no(){this.jb=s(3),this.Wc=c([4,8],Pl),this.Xc=c([4,17],Pl)}function Dc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ys(){this.ld=this.La=this.dd=this.tc=0}function vs(){this.Na=this.la=0}function Oi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ys),this.Y=0,this.ya=Array(new Zs),this.aa=0,this.l=new ta}function Es(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Fo(){this.cb=this.a=0,this.sc="",this.m=new At,this.Od=new mr,this.Kc=new zr,this.ed=new Dc,this.Qa=new eo,this.Ic=this.$c=this.Aa=0,this.D=new Mc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,At),this.ia=0,this.pb=o(4,Oi),this.Pa=new no,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Es),this.Hd=0,this.rb=Array(new vs),this.sb=0,this.wa=Array(new ys),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zs),this.L=this.aa=0,this.gd=c([4,2],ys),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kl(){var g=new Fo;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Fi||(Fi=Oc)),g}function $n(g,w,T){return g.a==0&&(g.a=w,g.sc=T,g.cb=0),0}function Ki(g,w,T){return 3<=T&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Vo(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return $n(g,2,"null VP8Io passed to VP8GetHeaders()");var T=w.data,R=w.w,B=w.ha;if(4>B)return $n(g,7,"Truncated header.");var G=T[R+0]|T[R+1]<<8|T[R+2]<<16,W=g.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return $n(g,3,"Incorrect keyframe parameters.");if(!W.yd)return $n(g,4,"Frame not displayable.");R+=3,B-=3;var K=g.Kc;if(W.Rb){if(7>B)return $n(g,7,"cannot parse picture header");if(!Ki(T,R,B))return $n(g,3,"Bad code word");K.c=16383&(T[R+4]<<8|T[R+3]),K.Td=T[R+4]>>6,K.i=16383&(T[R+6]<<8|T[R+5]),K.Ud=T[R+6]>>6,R+=7,B-=7,g.za=K.c+15>>4,g.Ub=K.i+15>>4,w.width=K.c,w.height=K.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,r((G=g.Pa).jb,0,255,G.jb.length),t((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,r(G.Zb,0,0,G.Zb.length),r(G.Lb,0,0,G.Lb)}if(W.ub>B)return $n(g,7,"bad partition length");wt(G=g.m,T,R,W.ub),R+=W.ub,B-=W.ub,W.Rb&&(K.Ld=Et(G),K.Kd=Et(G)),K=g.Qa;var Z,rt=g.Pa;if(t(G!=null),t(K!=null),K.Cb=Et(G),K.Cb){if(K.Bb=Et(G),Et(G)){for(K.Fb=Et(G),Z=0;4>Z;++Z)K.Zb[Z]=Et(G)?ht(G,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=Et(G)?ht(G,6):0}if(K.Bb)for(Z=0;3>Z;++Z)rt.jb[Z]=Et(G)?it(G,8):255}else K.Bb=0;if(G.Ka)return $n(g,3,"cannot parse segment header");if((K=g.ed).zd=Et(G),K.Tb=it(G,6),K.wb=it(G,3),K.Pc=Et(G),K.Pc&&Et(G)){for(rt=0;4>rt;++rt)Et(G)&&(K.vd[rt]=ht(G,6));for(rt=0;4>rt;++rt)Et(G)&&(K.od[rt]=ht(G,6))}if(g.L=K.Tb==0?0:K.zd?1:2,G.Ka)return $n(g,3,"cannot parse filter header");var gt=B;if(B=Z=R,R=Z+gt,K=gt,g.Xb=(1<<it(g.m,2))-1,gt<3*(rt=g.Xb))T=7;else{for(Z+=3*rt,K-=3*rt,gt=0;gt<rt;++gt){var Rt=T[B+0]|T[B+1]<<8|T[B+2]<<16;Rt>K&&(Rt=K),wt(g.Jc[+gt],T,Z,Rt),Z+=Rt,K-=Rt,B+=3}wt(g.Jc[+rt],T,Z,K),T=Z<R?0:5}if(T!=0)return $n(g,T,"cannot parse partitions");for(T=it(Z=g.m,7),B=Et(Z)?ht(Z,4):0,R=Et(Z)?ht(Z,4):0,K=Et(Z)?ht(Z,4):0,rt=Et(Z)?ht(Z,4):0,Z=Et(Z)?ht(Z,4):0,gt=g.Qa,Rt=0;4>Rt;++Rt){if(gt.Cb){var It=gt.Zb[Rt];gt.Fb||(It+=T)}else{if(0<Rt){g.pb[Rt]=g.pb[0];continue}It=T}var St=g.pb[Rt];St.Sc[0]=eh[An(It+B,127)],St.Sc[1]=nh[An(It+0,127)],St.Eb[0]=2*eh[An(It+R,127)],St.Eb[1]=101581*nh[An(It+K,127)]>>16,8>St.Eb[1]&&(St.Eb[1]=8),St.Qc[0]=eh[An(It+rt,117)],St.Qc[1]=nh[An(It+Z,127)],St.lc=It+Z}if(!W.Rb)return $n(g,4,"Not a key frame.");for(Et(G),W=g.Pa,T=0;4>T;++T){for(B=0;8>B;++B)for(R=0;3>R;++R)for(K=0;11>K;++K)rt=kt(G,Xl[T][B][R][K])?it(G,8):Va[T][B][R][K],W.Wc[T][B].Yb[R][K]=rt;for(B=0;17>B;++B)W.Xc[T][B]=W.Wc[T][Ag[B]]}return g.kc=Et(G),g.kc&&(g.Bd=it(G,8)),g.cb=1}function Oc(g,w,T,R,B,G,W){var K=w[B].Yb[T];for(T=0;16>B;++B){if(!kt(g,K[T+0]))return B;for(;!kt(g,K[T+1]);)if(K=w[++B].Yb[0],T=0,B==16)return 16;var Z=w[B+1].Yb;if(kt(g,K[T+2])){var rt=g,gt=0;if(kt(rt,(It=K)[(Rt=T)+3]))if(kt(rt,It[Rt+6])){for(K=0,Rt=2*(gt=kt(rt,It[Rt+8]))+(It=kt(rt,It[Rt+9+gt])),gt=0,It=di[Rt];It[K];++K)gt+=gt+kt(rt,It[K]);gt+=3+(8<<Rt)}else kt(rt,It[Rt+7])?(gt=7+2*kt(rt,165),gt+=kt(rt,145)):gt=5+kt(rt,159);else gt=kt(rt,It[Rt+4])?3+kt(rt,It[Rt+5]):2;K=Z[2]}else gt=1,K=Z[1];Z=W+bn[B],0>(rt=g).b&&Nt(rt);var Rt,It=rt.b,St=(Rt=rt.Ca>>1)-(rt.I>>It)>>31;--rt.b,rt.Ca+=St,rt.Ca|=1,rt.I-=(Rt+1&St)<<It,G[Z]=((gt^St)-St)*R[(0<B)+0]}return 16}function Ta(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function Dl(g,w){if(g==null)return 0;if(w==null)return $n(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Vo(g,w))return 0;if(t(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var T=bo[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-T>>4,g.zb=w.j-T>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+T>>4,g.Hb=w.va+15+T>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var R=g.ed;for(T=0;4>T;++T){var B;if(g.Qa.Cb){var G=g.Qa.Lb[T];g.Qa.Fb||(G+=R.Tb)}else G=R.Tb;for(B=0;1>=B;++B){var W=g.gd[T][B],K=G;if(R.Pc&&(K+=R.vd[0],B&&(K+=R.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<R.wb&&(Z=4<R.wb?Z>>2:Z>>1)>9-R.wb&&(Z=9-R.wb),1>Z&&(Z=1),W.dd=Z,W.tc=2*K+Z,W.ld=40<=K?2:15<=K?1:0}else W.tc=0;W.La=B}}}T=0}else $n(g,6,"Frame setup failed"),T=g.a;if(T=T==0){if(T){g.$c=0,0<g.Aa||(g.Ic=Eg);t:{T=g.Ic,R=4*(Z=g.za);var rt=32*Z,gt=Z+1,Rt=0<g.L?Z*(0<g.Aa?2:1):0,It=(g.Aa==2?2:1)*Z;if((W=R+832+(B=3*(16*T+bo[g.L])/2*rt)+(G=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=W)T=0;else{if(W>g.Vb){if(g.Vb=0,g.Ec=s(W),g.Fc=0,g.Ec==null){T=$n(g,1,"no memory during frame initialization.");break t}g.Vb=W}W=g.Ec,K=g.Fc,g.Ac=W,g.Bc=K,K+=R,g.Gd=o(rt,Es),g.Hd=0,g.rb=o(gt+1,vs),g.sb=1,g.wa=Rt?o(Rt,ys):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Z),t(!0),g.oc=W,g.pc=K,K+=832,g.ya=o(It,Zs),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Z),g.R=16*Z,g.B=8*Z,Z=(rt=bo[g.L])*g.R,rt=rt/2*g.B,g.sa=W,g.ta=K+Z,g.qa=g.sa,g.ra=g.ta+16*T*g.R+rt,g.Ha=g.qa,g.Ia=g.ra+8*T*g.B+rt,g.$c=0,K+=B,g.mb=G?W:null,g.nb=G?K:null,t(K+G<=g.Fc+g.Vb),Ta(g),r(g.Ac,g.Bc,0,R),T=1}}if(T){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!fo){for(T=-255;255>=T;++T)mi[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Os[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)el[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)nl[255+T]=0>T?0:255<T?255:T;fo=1}Oa=qr,ca=Ea,ua=Ns,Ei=Sn,Xr=Na,hi=xa,ql=La,ja=aa,qc=qo,Qo=Vl,Jo=zo,Zo=so,Hl=ao,Hc=Pa,tl=_s,ho=_r,Gl=xi,fi=Vc,Lr[0]=yr,Lr[1]=jc,Lr[2]=Rs,Lr[3]=Fc,Lr[4]=Hr,Lr[5]=Ls,Lr[6]=Cr,Lr[7]=Gr,Lr[8]=sa,Lr[9]=Ia,vo[0]=Is,vo[1]=Ol,vo[2]=na,vo[3]=Uo,vo[4]=jn,vo[5]=ra,vo[6]=Cs,Ss[0]=Ps,Ss[1]=Ml,Ss[2]=jl,Ss[3]=Wr,Ss[4]=nn,Ss[5]=Ti,Ss[6]=Ca,T=1}else T=0}T&&(T=function(St,qt){for(St.M=0;St.M<St.Va;++St.M){var Ot,mt=St.Jc[St.M&St.Xb],vt=St.m,Vt=St;for(Ot=0;Ot<Vt.za;++Ot){var Ht=vt,Ut=Vt,ce=Ut.Ac,ee=Ut.Bc+4*Ot,we=Ut.zc,re=Ut.ya[Ut.aa+Ot];if(Ut.Qa.Bb?re.$b=kt(Ht,Ut.Pa.jb[0])?2+kt(Ht,Ut.Pa.jb[2]):kt(Ht,Ut.Pa.jb[1]):re.$b=0,Ut.kc&&(re.Ad=kt(Ht,Ut.Bd)),re.Za=!kt(Ht,145)+0,re.Za){var gn=re.Ob,Tn=0;for(Ut=0;4>Ut;++Ut){var Xe,$e=we[0+Ut];for(Xe=0;4>Xe;++Xe){$e=_d[ce[ee+Xe]][$e];for(var kn=rl[kt(Ht,$e[0])];0<kn;)kn=rl[2*kn+kt(Ht,$e[kn])];$e=-kn,ce[ee+Xe]=$e}i(gn,Tn,ce,ee,4),Tn+=4,we[0+Ut]=$e}}else $e=kt(Ht,156)?kt(Ht,128)?1:3:kt(Ht,163)?2:0,re.Ob[0]=$e,r(ce,ee,$e,4),r(we,0,$e,4);re.Dd=kt(Ht,142)?kt(Ht,114)?kt(Ht,183)?1:3:2:0}if(Vt.m.Ka)return $n(St,7,"Premature end-of-partition0 encountered.");for(;St.ja<St.za;++St.ja){if(Vt=mt,Ht=(vt=St).rb[vt.sb-1],ce=vt.rb[vt.sb+vt.ja],Ot=vt.ya[vt.aa+vt.ja],ee=vt.kc?Ot.Ad:0)Ht.la=ce.la=0,Ot.Za||(Ht.Na=ce.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var xn,Ue;if(Ht=ce,ce=Vt,ee=vt.Pa.Xc,we=vt.ya[vt.aa+vt.ja],re=vt.pb[we.$b],Ut=we.ad,gn=0,Tn=vt.rb[vt.sb-1],$e=Xe=0,r(Ut,gn,0,384),we.Za)var Fn=0,Ee=ee[3];else{kn=s(16);var De=Ht.Na+Tn.Na;if(De=Fi(ce,ee[1],De,re.Eb,0,kn,0),Ht.Na=Tn.Na=(0<De)+0,1<De)Oa(kn,0,Ut,gn);else{var pn=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)Ut[gn+kn]=pn}Fn=1,Ee=ee[0]}var mn=15&Ht.la,Zi=15&Tn.la;for(kn=0;4>kn;++kn){var Ui=1&Zi;for(pn=Ue=0;4>pn;++pn)mn=mn>>1|(Ui=(De=Fi(ce,Ee,De=Ui+(1&mn),re.Sc,Fn,Ut,gn))>Fn)<<7,Ue=Ue<<2|(3<De?3:1<De?2:Ut[gn+0]!=0),gn+=16;mn>>=4,Zi=Zi>>1|Ui<<7,Xe=(Xe<<8|Ue)>>>0}for(Ee=mn,Fn=Zi>>4,xn=0;4>xn;xn+=2){for(Ue=0,mn=Ht.la>>4+xn,Zi=Tn.la>>4+xn,kn=0;2>kn;++kn){for(Ui=1&Zi,pn=0;2>pn;++pn)De=Ui+(1&mn),mn=mn>>1|(Ui=0<(De=Fi(ce,ee[2],De,re.Qc,0,Ut,gn)))<<3,Ue=Ue<<2|(3<De?3:1<De?2:Ut[gn+0]!=0),gn+=16;mn>>=2,Zi=Zi>>1|Ui<<5}$e|=Ue<<4*xn,Ee|=mn<<4<<xn,Fn|=(240&Zi)<<xn}Ht.la=Ee,Tn.la=Fn,we.Hc=Xe,we.Gc=$e,we.ia=43690&$e?0:re.ia,ee=!(Xe|$e)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[Ot.$b][Ot.Za],vt.wa[vt.Y+vt.ja].La|=!ee),Vt.Ka)return $n(St,7,"Premature end-of-file encountered.")}if(Ta(St),vt=qt,Vt=1,Ot=(mt=St).D,Ht=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Ot.M=mt.M,Ot.uc=Ht,$r(mt,Ot),Vt=1,Ot=(Ue=mt.D).Nb,Ht=($e=bo[mt.L])*mt.R,ce=$e/2*mt.B,kn=16*Ot*mt.R,pn=8*Ot*mt.B,ee=mt.sa,we=mt.ta-Ht+kn,re=mt.qa,Ut=mt.ra-ce+pn,gn=mt.Ha,Tn=mt.Ia-ce+pn,Zi=(mn=Ue.M)==0,Xe=mn>=mt.Va-1,mt.Aa==2&&$r(mt,Ue),Ue.uc)for(Ui=(De=mt).D.M,t(De.D.uc),Ue=De.yb;Ue<De.Hb;++Ue){Fn=Ue,Ee=Ui;var yi=(vi=(ti=De).D).Nb;xn=ti.R;var vi=vi.wa[vi.Y+Fn],Ni=ti.sa,Vs=ti.ta+16*yi*xn+16*Fn,En=vi.dd,Ii=vi.tc;if(Ii!=0)if(t(3<=Ii),ti.L==1)0<Fn&&ho(Ni,Vs,xn,Ii+4),vi.La&&fi(Ni,Vs,xn,Ii),0<Ee&&tl(Ni,Vs,xn,Ii+4),vi.La&&Gl(Ni,Vs,xn,Ii);else{var ha=ti.B,ol=ti.qa,Jl=ti.ra+8*yi*ha+8*Fn,ll=ti.Ha,ti=ti.Ia+8*yi*ha+8*Fn;yi=vi.ld,0<Fn&&(ja(Ni,Vs,xn,Ii+4,En,yi),Qo(ol,Jl,ll,ti,ha,Ii+4,En,yi)),vi.La&&(Zo(Ni,Vs,xn,Ii,En,yi),Hc(ol,Jl,ll,ti,ha,Ii,En,yi)),0<Ee&&(ql(Ni,Vs,xn,Ii+4,En,yi),qc(ol,Jl,ll,ti,ha,Ii+4,En,yi)),vi.La&&(Jo(Ni,Vs,xn,Ii,En,yi),Hl(ol,Jl,ll,ti,ha,Ii,En,yi))}}if(mt.ia&&alert("todo:DitherRow"),vt.put!=null){if(Ue=16*mn,mn=16*(mn+1),Zi?(vt.y=mt.sa,vt.O=mt.ta+kn,vt.f=mt.qa,vt.N=mt.ra+pn,vt.ea=mt.Ha,vt.W=mt.Ia+pn):(Ue-=$e,vt.y=ee,vt.O=we,vt.f=re,vt.N=Ut,vt.ea=gn,vt.W=Tn),Xe||(mn-=$e),mn>vt.o&&(mn=vt.o),vt.F=null,vt.J=null,mt.Fa!=null&&0<mt.Fa.length&&Ue<mn&&(vt.J=Go(mt,vt,Ue,mn-Ue),vt.F=mt.mb,vt.F==null&&vt.F.length==0)){Vt=$n(mt,3,"Could not decode alpha data.");break t}Ue<vt.j&&($e=vt.j-Ue,Ue=vt.j,t(!(1&$e)),vt.O+=mt.R*$e,vt.N+=mt.B*($e>>1),vt.W+=mt.B*($e>>1),vt.F!=null&&(vt.J+=vt.width*$e)),Ue<mn&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=Ue-vt.j,vt.U=vt.va-vt.v,vt.T=mn-Ue,Vt=vt.put(vt))}Ot+1!=mt.Ic||Xe||(i(mt.sa,mt.ta-Ht,ee,we+16*mt.R,Ht),i(mt.qa,mt.ra-ce,re,Ut+8*mt.B,ce),i(mt.Ha,mt.Ia-ce,gn,Tn+8*mt.B,ce))}if(!Vt)return $n(St,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),T&=1}return T?(g.cb=0,T):0}function ar(g,w,T,R,B){B=g[w+T+32*R]+(B>>3),g[w+T+32*R]=-256&B?0>B?0:255:B}function Bo(g,w,T,R,B,G){ar(g,w,0,T,R+B),ar(g,w,1,T,R+G),ar(g,w,2,T,R-G),ar(g,w,3,T,R-B)}function dn(g){return(20091*g>>16)+g}function or(g,w,T,R){var B,G=0,W=s(16);for(B=0;4>B;++B){var K=g[w+0]+g[w+8],Z=g[w+0]-g[w+8],rt=(35468*g[w+4]>>16)-dn(g[w+12]),gt=dn(g[w+4])+(35468*g[w+12]>>16);W[G+0]=K+gt,W[G+1]=Z+rt,W[G+2]=Z-rt,W[G+3]=K-gt,G+=4,w++}for(B=G=0;4>B;++B)K=(g=W[G+0]+4)+W[G+8],Z=g-W[G+8],rt=(35468*W[G+4]>>16)-dn(W[G+12]),ar(T,R,0,0,K+(gt=dn(W[G+4])+(35468*W[G+12]>>16))),ar(T,R,1,0,Z+rt),ar(T,R,2,0,Z-rt),ar(T,R,3,0,K-gt),G++,R+=32}function xa(g,w,T,R){var B=g[w+0]+4,G=35468*g[w+4]>>16,W=dn(g[w+4]),K=35468*g[w+1]>>16;Bo(T,R,0,B+W,g=dn(g[w+1]),K),Bo(T,R,1,B+G,g,K),Bo(T,R,2,B-G,g,K),Bo(T,R,3,B-W,g,K)}function Ea(g,w,T,R,B){or(g,w,T,R),B&&or(g,w+16,T,R+4)}function Ns(g,w,T,R){ca(g,w+0,T,R,1),ca(g,w+32,T,R+128,1)}function Sn(g,w,T,R){var B;for(g=g[w+0]+4,B=0;4>B;++B)for(w=0;4>w;++w)ar(T,R,w,B,g)}function Na(g,w,T,R){g[w+0]&&Ei(g,w+0,T,R),g[w+16]&&Ei(g,w+16,T,R+4),g[w+32]&&Ei(g,w+32,T,R+128),g[w+48]&&Ei(g,w+48,T,R+128+4)}function qr(g,w,T,R){var B,G=s(16);for(B=0;4>B;++B){var W=g[w+0+B]+g[w+12+B],K=g[w+4+B]+g[w+8+B],Z=g[w+4+B]-g[w+8+B],rt=g[w+0+B]-g[w+12+B];G[0+B]=W+K,G[8+B]=W-K,G[4+B]=rt+Z,G[12+B]=rt-Z}for(B=0;4>B;++B)W=(g=G[0+4*B]+3)+G[3+4*B],K=G[1+4*B]+G[2+4*B],Z=G[1+4*B]-G[2+4*B],rt=g-G[3+4*B],T[R+0]=W+K>>3,T[R+16]=rt+Z>>3,T[R+32]=W-K>>3,T[R+48]=rt-Z>>3,R+=64}function ea(g,w,T){var R,B=w-32,G=Qi,W=255-g[B-1];for(R=0;R<T;++R){var K,Z=G,rt=W+g[w-1];for(K=0;K<T;++K)g[w+K]=Z[rt+g[B+K]];w+=32}}function jc(g,w){ea(g,w,4)}function Ml(g,w){ea(g,w,8)}function Ol(g,w){ea(g,w,16)}function na(g,w){var T;for(T=0;16>T;++T)i(g,w+32*T,g,w-32,16)}function Uo(g,w){var T;for(T=16;0<T;--T)r(g,w,g[w-1],16),w+=32}function ia(g,w,T){var R;for(R=0;16>R;++R)r(w,T+32*R,g,16)}function Is(g,w){var T,R=16;for(T=0;16>T;++T)R+=g[w-1+32*T]+g[w+T-32];ia(R>>5,g,w)}function jn(g,w){var T,R=8;for(T=0;16>T;++T)R+=g[w-1+32*T];ia(R>>4,g,w)}function ra(g,w){var T,R=8;for(T=0;16>T;++T)R+=g[w+T-32];ia(R>>4,g,w)}function Cs(g,w){ia(128,g,w)}function Ie(g,w,T){return g+2*w+T+2>>2}function Rs(g,w){var T,R=w-32;for(R=new Uint8Array([Ie(g[R-1],g[R+0],g[R+1]),Ie(g[R+0],g[R+1],g[R+2]),Ie(g[R+1],g[R+2],g[R+3]),Ie(g[R+2],g[R+3],g[R+4])]),T=0;4>T;++T)i(g,w+32*T,R,0,R.length)}function Fc(g,w){var T=g[w-1],R=g[w-1+32],B=g[w-1+64],G=g[w-1+96];Jt(g,w+0,16843009*Ie(g[w-1-32],T,R)),Jt(g,w+32,16843009*Ie(T,R,B)),Jt(g,w+64,16843009*Ie(R,B,G)),Jt(g,w+96,16843009*Ie(B,G,G))}function yr(g,w){var T,R=4;for(T=0;4>T;++T)R+=g[w+T-32]+g[w-1+32*T];for(R>>=3,T=0;4>T;++T)r(g,w+32*T,R,4)}function Hr(g,w){var T=g[w-1+0],R=g[w-1+32],B=g[w-1+64],G=g[w-1-32],W=g[w+0-32],K=g[w+1-32],Z=g[w+2-32],rt=g[w+3-32];g[w+0+96]=Ie(R,B,g[w-1+96]),g[w+1+96]=g[w+0+64]=Ie(T,R,B),g[w+2+96]=g[w+1+64]=g[w+0+32]=Ie(G,T,R),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Ie(W,G,T),g[w+3+64]=g[w+2+32]=g[w+1+0]=Ie(K,W,G),g[w+3+32]=g[w+2+0]=Ie(Z,K,W),g[w+3+0]=Ie(rt,Z,K)}function Cr(g,w){var T=g[w+1-32],R=g[w+2-32],B=g[w+3-32],G=g[w+4-32],W=g[w+5-32],K=g[w+6-32],Z=g[w+7-32];g[w+0+0]=Ie(g[w+0-32],T,R),g[w+1+0]=g[w+0+32]=Ie(T,R,B),g[w+2+0]=g[w+1+32]=g[w+0+64]=Ie(R,B,G),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Ie(B,G,W),g[w+3+32]=g[w+2+64]=g[w+1+96]=Ie(G,W,K),g[w+3+64]=g[w+2+96]=Ie(W,K,Z),g[w+3+96]=Ie(K,Z,Z)}function Ls(g,w){var T=g[w-1+0],R=g[w-1+32],B=g[w-1+64],G=g[w-1-32],W=g[w+0-32],K=g[w+1-32],Z=g[w+2-32],rt=g[w+3-32];g[w+0+0]=g[w+1+64]=G+W+1>>1,g[w+1+0]=g[w+2+64]=W+K+1>>1,g[w+2+0]=g[w+3+64]=K+Z+1>>1,g[w+3+0]=Z+rt+1>>1,g[w+0+96]=Ie(B,R,T),g[w+0+64]=Ie(R,T,G),g[w+0+32]=g[w+1+96]=Ie(T,G,W),g[w+1+32]=g[w+2+96]=Ie(G,W,K),g[w+2+32]=g[w+3+96]=Ie(W,K,Z),g[w+3+32]=Ie(K,Z,rt)}function Gr(g,w){var T=g[w+0-32],R=g[w+1-32],B=g[w+2-32],G=g[w+3-32],W=g[w+4-32],K=g[w+5-32],Z=g[w+6-32],rt=g[w+7-32];g[w+0+0]=T+R+1>>1,g[w+1+0]=g[w+0+64]=R+B+1>>1,g[w+2+0]=g[w+1+64]=B+G+1>>1,g[w+3+0]=g[w+2+64]=G+W+1>>1,g[w+0+32]=Ie(T,R,B),g[w+1+32]=g[w+0+96]=Ie(R,B,G),g[w+2+32]=g[w+1+96]=Ie(B,G,W),g[w+3+32]=g[w+2+96]=Ie(G,W,K),g[w+3+64]=Ie(W,K,Z),g[w+3+96]=Ie(K,Z,rt)}function Ia(g,w){var T=g[w-1+0],R=g[w-1+32],B=g[w-1+64],G=g[w-1+96];g[w+0+0]=T+R+1>>1,g[w+2+0]=g[w+0+32]=R+B+1>>1,g[w+2+32]=g[w+0+64]=B+G+1>>1,g[w+1+0]=Ie(T,R,B),g[w+3+0]=g[w+1+32]=Ie(R,B,G),g[w+3+32]=g[w+1+64]=Ie(B,G,G),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=G}function sa(g,w){var T=g[w-1+0],R=g[w-1+32],B=g[w-1+64],G=g[w-1+96],W=g[w-1-32],K=g[w+0-32],Z=g[w+1-32],rt=g[w+2-32];g[w+0+0]=g[w+2+32]=T+W+1>>1,g[w+0+32]=g[w+2+64]=R+T+1>>1,g[w+0+64]=g[w+2+96]=B+R+1>>1,g[w+0+96]=G+B+1>>1,g[w+3+0]=Ie(K,Z,rt),g[w+2+0]=Ie(W,K,Z),g[w+1+0]=g[w+3+32]=Ie(T,W,K),g[w+1+32]=g[w+3+64]=Ie(R,T,W),g[w+1+64]=g[w+3+96]=Ie(B,R,T),g[w+1+96]=Ie(G,B,R)}function jl(g,w){var T;for(T=0;8>T;++T)i(g,w+32*T,g,w-32,8)}function Wr(g,w){var T;for(T=0;8>T;++T)r(g,w,g[w-1],8),w+=32}function vr(g,w,T){var R;for(R=0;8>R;++R)r(w,T+32*R,g,8)}function Ps(g,w){var T,R=8;for(T=0;8>T;++T)R+=g[w+T-32]+g[w-1+32*T];vr(R>>4,g,w)}function Ti(g,w){var T,R=4;for(T=0;8>T;++T)R+=g[w+T-32];vr(R>>3,g,w)}function nn(g,w){var T,R=4;for(T=0;8>T;++T)R+=g[w-1+32*T];vr(R>>3,g,w)}function Ca(g,w){vr(128,g,w)}function ks(g,w,T){var R=g[w-T],B=g[w+0],G=3*(B-R)+Jh[1020+g[w-2*T]-g[w+T]],W=Wl[112+(G+4>>3)];g[w-T]=Qi[255+R+Wl[112+(G+3>>3)]],g[w+0]=Qi[255+B-W]}function Fl(g,w,T,R){var B=g[w+0],G=g[w+T];return js[255+g[w-2*T]-g[w-T]]>R||js[255+G-B]>R}function io(g,w,T,R){return 4*js[255+g[w-T]-g[w+0]]+js[255+g[w-2*T]-g[w+T]]<=R}function ro(g,w,T,R,B){var G=g[w-3*T],W=g[w-2*T],K=g[w-T],Z=g[w+0],rt=g[w+T],gt=g[w+2*T],Rt=g[w+3*T];return 4*js[255+K-Z]+js[255+W-rt]>R?0:js[255+g[w-4*T]-G]<=B&&js[255+G-W]<=B&&js[255+W-K]<=B&&js[255+Rt-gt]<=B&&js[255+gt-rt]<=B&&js[255+rt-Z]<=B}function _s(g,w,T,R){var B=2*R+1;for(R=0;16>R;++R)io(g,w+R,T,B)&&ks(g,w+R,T)}function _r(g,w,T,R){var B=2*R+1;for(R=0;16>R;++R)io(g,w+R*T,1,B)&&ks(g,w+R*T,1)}function xi(g,w,T,R){var B;for(B=3;0<B;--B)_s(g,w+=4*T,T,R)}function Vc(g,w,T,R){var B;for(B=3;0<B;--B)_r(g,w+=4,T,R)}function Ra(g,w,T,R,B,G,W,K){for(G=2*G+1;0<B--;){if(ro(g,w,T,G,W))if(Fl(g,w,T,K))ks(g,w,T);else{var Z=g,rt=w,gt=T,Rt=Z[rt-2*gt],It=Z[rt-gt],St=Z[rt+0],qt=Z[rt+gt],Ot=Z[rt+2*gt],mt=27*(Vt=Jh[1020+3*(St-It)+Jh[1020+Rt-qt]])+63>>7,vt=18*Vt+63>>7,Vt=9*Vt+63>>7;Z[rt-3*gt]=Qi[255+Z[rt-3*gt]+Vt],Z[rt-2*gt]=Qi[255+Rt+vt],Z[rt-gt]=Qi[255+It+mt],Z[rt+0]=Qi[255+St-mt],Z[rt+gt]=Qi[255+qt-vt],Z[rt+2*gt]=Qi[255+Ot-Vt]}w+=R}}function lr(g,w,T,R,B,G,W,K){for(G=2*G+1;0<B--;){if(ro(g,w,T,G,W))if(Fl(g,w,T,K))ks(g,w,T);else{var Z=g,rt=w,gt=T,Rt=Z[rt-gt],It=Z[rt+0],St=Z[rt+gt],qt=Wl[112+((Ot=3*(It-Rt))+4>>3)],Ot=Wl[112+(Ot+3>>3)],mt=qt+1>>1;Z[rt-2*gt]=Qi[255+Z[rt-2*gt]+mt],Z[rt-gt]=Qi[255+Rt+Ot],Z[rt+0]=Qi[255+It-qt],Z[rt+gt]=Qi[255+St-mt]}w+=R}}function La(g,w,T,R,B,G){Ra(g,w,T,1,16,R,B,G)}function aa(g,w,T,R,B,G){Ra(g,w,1,T,16,R,B,G)}function zo(g,w,T,R,B,G){var W;for(W=3;0<W;--W)lr(g,w+=4*T,T,1,16,R,B,G)}function so(g,w,T,R,B,G){var W;for(W=3;0<W;--W)lr(g,w+=4,1,T,16,R,B,G)}function qo(g,w,T,R,B,G,W,K){Ra(g,w,B,1,8,G,W,K),Ra(T,R,B,1,8,G,W,K)}function Vl(g,w,T,R,B,G,W,K){Ra(g,w,1,B,8,G,W,K),Ra(T,R,1,B,8,G,W,K)}function ao(g,w,T,R,B,G,W,K){lr(g,w+4*B,B,1,8,G,W,K),lr(T,R+4*B,B,1,8,G,W,K)}function Pa(g,w,T,R,B,G,W,K){lr(g,w+4,1,B,8,G,W,K),lr(T,R+4,1,B,8,G,W,K)}function oo(){this.ba=new ki,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ka(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ot,this.yc=new D}function Bc(){this.xb=this.a=0,this.l=new ta,this.ca=new ki,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ka,this.ab=0,this.gc=o(4,lo),this.Oc=0}function oa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Da(g,w,T,R,B,G,W){for(g=g==null?0:g[w+0],w=0;w<W;++w)B[G+w]=g+T[R+w]&255,g=B[G+w]}function co(g,w,T,R,B,G,W){var K;if(g==null)Da(null,null,T,R,B,G,W);else for(K=0;K<W;++K)B[G+K]=g[w+K]+T[R+K]&255}function br(g,w,T,R,B,G,W){if(g==null)Da(null,null,T,R,B,G,W);else{var K,Z=g[w+0],rt=Z,gt=Z;for(K=0;K<W;++K)rt=gt+(Z=g[w+K])-rt,gt=T[R+K]+(-256&rt?0>rt?0:255:rt)&255,rt=Z,B[G+K]=gt}}function Go(g,w,T,R){var B=w.width,G=w.o;if(t(g!=null&&w!=null),0>T||0>=R||T+R>G)return null;if(!g.Cc){if(g.ga==null){var W;if(g.ga=new oa,(W=g.ga==null)||(W=w.width*w.o,t(g.Gb.length==0),g.Gb=s(W),g.Uc=0,g.Gb==null?W=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,W=1),W=!W),!W){W=g.ga;var K=g.Fa,Z=g.P,rt=g.qc,gt=g.mb,Rt=g.nb,It=Z+1,St=rt-1,qt=W.l;if(t(K!=null&&gt!=null&&w!=null),Ba[0]=null,Ba[1]=Da,Ba[2]=co,Ba[3]=br,W.ca=gt,W.tb=Rt,W.c=w.width,W.i=w.height,t(0<W.c&&0<W.i),1>=rt)w=0;else if(W.$a=K[Z+0]>>0&3,W.Z=K[Z+0]>>2&3,W.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)w=0;else if(qt.put=sr,qt.ac=ci,qt.bc=ms,qt.ma=W,qt.width=w.width,qt.height=w.height,qt.Da=w.Da,qt.v=w.v,qt.va=w.va,qt.j=w.j,qt.o=w.o,W.$a)t:{t(W.$a==1),w=Wn();e:for(;;){if(w==null){w=0;break t}if(t(W!=null),W.mc=w,w.c=W.c,w.i=W.i,w.l=W.l,w.l.ma=W,w.l.width=W.c,w.l.height=W.i,w.a=0,ft(w.m,K,It,St),!wn(W.c,W.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Ir(w.s)?(W.ic=1,K=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(K),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(W.ic=0,w=Qs(w,W.c)),!w))break e;w=1;break t}W.mc=null,w=0}else w=St>=W.c*W.i;W=!w}if(W)return null;g.ga.Lc!=1?g.Ga=0:R=G-T}t(g.ga!=null),t(T+R<=G);t:{if(w=(K=g.ga).c,G=K.l.o,K.$a==0){if(It=g.rc,St=g.Vc,qt=g.Fa,Z=g.P+1+T*w,rt=g.mb,gt=g.nb+T*w,t(Z<=g.P+g.qc),K.Z!=0)for(t(Ba[K.Z]!=null),W=0;W<R;++W)Ba[K.Z](It,St,qt,Z,rt,gt,w),It=rt,St=gt,gt+=w,Z+=w;else for(W=0;W<R;++W)i(rt,gt,qt,Z,w),It=rt,St=gt,gt+=w,Z+=w;g.rc=It,g.Vc=St}else{if(t(K.mc!=null),w=T+R,t((W=K.mc)!=null),t(w<=W.i),W.C>=w)w=1;else if(K.ic||bt(),K.ic){K=W.V,It=W.Ba,St=W.c;var Ot=W.i,mt=(qt=1,Z=W.$/St,rt=W.$%St,gt=W.m,Rt=W.s,W.$),vt=St*Ot,Vt=St*w,Ht=Rt.wc,Ut=mt<Vt?ui(Rt,rt,Z):null;t(mt<=vt),t(w<=Ot),t(Ir(Rt));e:for(;;){for(;!gt.h&&mt<Vt;){if(rt&Ht||(Ut=ui(Rt,rt,Z)),t(Ut!=null),ct(gt),256>(Ot=Qn(Ut.G[0],Ut.H[0],gt)))K[It+mt]=Ot,++mt,++rt>=St&&(rt=0,++Z<=w&&!(Z%16)&&Di(W,Z));else{if(!(280>Ot)){qt=0;break e}Ot=Rn(Ot-256,gt);var ce,ee=Qn(Ut.G[4],Ut.H[4],gt);if(ct(gt),!(mt>=(ee=Ln(St,ee=Rn(ee,gt)))&&vt-mt>=Ot)){qt=0;break e}for(ce=0;ce<Ot;++ce)K[It+mt+ce]=K[It+mt+ce-ee];for(mt+=Ot,rt+=Ot;rt>=St;)rt-=St,++Z<=w&&!(Z%16)&&Di(W,Z);mt<Vt&&rt&Ht&&(Ut=ui(Rt,rt,Z))}t(gt.h==tt(gt))}Di(W,Z>w?w:Z);break e}!qt||gt.h&&mt<vt?(qt=0,W.a=gt.h?5:3):W.$=mt,w=qt}else w=Ai(W,W.V,W.Ba,W.c,W.i,w,Js);if(!w){R=0;break t}}T+R>=G&&(g.Cc=1),R=1}if(!R)return null;if(g.Cc&&((R=g.ga)!=null&&(R.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+T*B}function A(g,w,T,R,B,G){for(;0<B--;){var W,K=g,Z=w+(T?1:0),rt=g,gt=w+(T?0:3);for(W=0;W<R;++W){var Rt=rt[gt+4*W];Rt!=255&&(Rt*=32897,K[Z+4*W+0]=K[Z+4*W+0]*Rt>>23,K[Z+4*W+1]=K[Z+4*W+1]*Rt>>23,K[Z+4*W+2]=K[Z+4*W+2]*Rt>>23)}w+=G}}function U(g,w,T,R,B){for(;0<R--;){var G;for(G=0;G<T;++G){var W=g[w+2*G+0],K=15&(rt=g[w+2*G+1]),Z=4369*K,rt=(240&rt|rt>>4)*Z>>16;g[w+2*G+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,g[w+2*G+1]=240&rt|K}w+=B}}function st(g,w,T,R,B,G,W,K){var Z,rt,gt=255;for(rt=0;rt<B;++rt){for(Z=0;Z<R;++Z){var Rt=g[w+Z];G[W+4*Z]=Rt,gt&=Rt}w+=T,W+=K}return gt!=255}function dt(g,w,T,R,B){var G;for(G=0;G<B;++G)T[R+G]=g[w+G]>>8}function bt(){bs=A,Ze=U,tn=st,Yn=dt}function jt(g,w,T){P[g]=function(R,B,G,W,K,Z,rt,gt,Rt,It,St,qt,Ot,mt,vt,Vt,Ht){var Ut,ce=Ht-1>>1,ee=K[Z+0]|rt[gt+0]<<16,we=Rt[It+0]|St[qt+0]<<16;t(R!=null);var re=3*ee+we+131074>>2;for(w(R[B+0],255&re,re>>16,Ot,mt),G!=null&&(re=3*we+ee+131074>>2,w(G[W+0],255&re,re>>16,vt,Vt)),Ut=1;Ut<=ce;++Ut){var gn=K[Z+Ut]|rt[gt+Ut]<<16,Tn=Rt[It+Ut]|St[qt+Ut]<<16,Xe=ee+gn+we+Tn+524296,$e=Xe+2*(gn+we)>>3;re=$e+ee>>1,ee=(Xe=Xe+2*(ee+Tn)>>3)+gn>>1,w(R[B+2*Ut-1],255&re,re>>16,Ot,mt+(2*Ut-1)*T),w(R[B+2*Ut-0],255&ee,ee>>16,Ot,mt+(2*Ut-0)*T),G!=null&&(re=Xe+we>>1,ee=$e+Tn>>1,w(G[W+2*Ut-1],255&re,re>>16,vt,Vt+(2*Ut-1)*T),w(G[W+2*Ut+0],255&ee,ee>>16,vt,Vt+(2*Ut+0)*T)),ee=gn,we=Tn}1&Ht||(re=3*ee+we+131074>>2,w(R[B+Ht-1],255&re,re>>16,Ot,mt+(Ht-1)*T),G!=null&&(re=3*we+ee+131074>>2,w(G[W+Ht-1],255&re,re>>16,vt,Vt+(Ht-1)*T)))}}function Yt(){Ji[wr]=_o,Ji[Gc]=Ua,Ji[Fa]=sl,Ji[Zu]=ef,Ji[$l]=nf,Ji[po]=Yc,Ji[Zh]=rf,Ji[th]=Ua,Ji[il]=ef,Ji[go]=nf,Ji[Wc]=Yc}function ie(g){return g&-16384?0>g?0:255:g>>H1}function m(g,w){return ie((19077*g>>8)+(26149*w>>8)-14234)}function x(g,w,T){return ie((19077*g>>8)-(6419*w>>8)-(13320*T>>8)+8708)}function k(g,w){return ie((19077*g>>8)+(33050*w>>8)-17685)}function X(g,w,T,R,B){R[B+0]=m(g,T),R[B+1]=x(g,w,T),R[B+2]=k(g,w)}function _t(g,w,T,R,B){R[B+0]=k(g,w),R[B+1]=x(g,w,T),R[B+2]=m(g,T)}function Lt(g,w,T,R,B){var G=x(g,w,T);w=G<<3&224|k(g,w)>>3,R[B+0]=248&m(g,T)|G>>5,R[B+1]=w}function Kt(g,w,T,R,B){var G=240&k(g,w)|15;R[B+0]=240&m(g,T)|x(g,w,T)>>4,R[B+1]=G}function Ce(g,w,T,R,B){R[B+0]=255,X(g,w,T,R,B+1)}function rn(g,w,T,R,B){_t(g,w,T,R,B),R[B+3]=255}function Be(g,w,T,R,B){X(g,w,T,R,B),R[B+3]=255}function An(g,w){return 0>g?0:g>w?w:g}function Pn(g,w,T){P[g]=function(R,B,G,W,K,Z,rt,gt,Rt){for(var It=gt+(-2&Rt)*T;gt!=It;)w(R[B+0],G[W+0],K[Z+0],rt,gt),w(R[B+1],G[W+0],K[Z+0],rt,gt+T),B+=2,++W,++Z,gt+=2*T;1&Rt&&w(R[B+0],G[W+0],K[Z+0],rt,gt)}}function Ds(g,w,T){return T==0?g==0?w==0?6:5:w==0?4:0:T}function gi(g,w,T,R,B){switch(g>>>30){case 3:ca(w,T,R,B,0);break;case 2:hi(w,T,R,B);break;case 1:Ei(w,T,R,B)}}function $r(g,w){var T,R,B=w.M,G=w.Nb,W=g.oc,K=g.pc+40,Z=g.oc,rt=g.pc+584,gt=g.oc,Rt=g.pc+600;for(T=0;16>T;++T)W[K+32*T-1]=129;for(T=0;8>T;++T)Z[rt+32*T-1]=129,gt[Rt+32*T-1]=129;for(0<B?W[K-1-32]=Z[rt-1-32]=gt[Rt-1-32]=129:(r(W,K-32-1,127,21),r(Z,rt-32-1,127,9),r(gt,Rt-32-1,127,9)),R=0;R<g.za;++R){var It=w.ya[w.aa+R];if(0<R){for(T=-1;16>T;++T)i(W,K+32*T-4,W,K+32*T+12,4);for(T=-1;8>T;++T)i(Z,rt+32*T-4,Z,rt+32*T+4,4),i(gt,Rt+32*T-4,gt,Rt+32*T+4,4)}var St=g.Gd,qt=g.Hd+R,Ot=It.ad,mt=It.Hc;if(0<B&&(i(W,K-32,St[qt].y,0,16),i(Z,rt-32,St[qt].f,0,8),i(gt,Rt-32,St[qt].ea,0,8)),It.Za){var vt=W,Vt=K-32+16;for(0<B&&(R>=g.za-1?r(vt,Vt,St[qt].y[15],4):i(vt,Vt,St[qt+1].y,0,4)),T=0;4>T;T++)vt[Vt+128+T]=vt[Vt+256+T]=vt[Vt+384+T]=vt[Vt+0+T];for(T=0;16>T;++T,mt<<=2)vt=W,Vt=K+Ql[T],Lr[It.Ob[T]](vt,Vt),gi(mt,Ot,16*+T,vt,Vt)}else if(vt=Ds(R,B,It.Ob[0]),vo[vt](W,K),mt!=0)for(T=0;16>T;++T,mt<<=2)gi(mt,Ot,16*+T,W,K+Ql[T]);for(T=It.Gc,vt=Ds(R,B,It.Dd),Ss[vt](Z,rt),Ss[vt](gt,Rt),mt=Ot,vt=Z,Vt=rt,255&(It=T>>0)&&(170&It?ua(mt,256,vt,Vt):Xr(mt,256,vt,Vt)),It=gt,mt=Rt,255&(T>>=8)&&(170&T?ua(Ot,320,It,mt):Xr(Ot,320,It,mt)),B<g.Ub-1&&(i(St[qt].y,0,W,K+480,16),i(St[qt].f,0,Z,rt+224,8),i(St[qt].ea,0,gt,Rt+224,8)),T=8*G*g.B,St=g.sa,qt=g.ta+16*R+16*G*g.R,Ot=g.qa,It=g.ra+8*R+T,mt=g.Ha,vt=g.Ia+8*R+T,T=0;16>T;++T)i(St,qt+T*g.R,W,K+32*T,16);for(T=0;8>T;++T)i(Ot,It+T*g.B,Z,rt+32*T,8),i(mt,vt+T*g.B,gt,Rt+32*T,8)}}function Ma(g,w,T,R,B,G,W,K,Z){var rt=[0],gt=[0],Rt=0,It=Z!=null?Z.kd:0,St=Z??new Ho;if(g==null||12>T)return 7;St.data=g,St.w=w,St.ha=T,w=[w],T=[T],St.gb=[St.gb];t:{var qt=w,Ot=T,mt=St.gb;if(t(g!=null),t(Ot!=null),t(mt!=null),mt[0]=0,12<=Ot[0]&&!e(g,qt[0],"RIFF")){if(e(g,qt[0]+8,"WEBP")){mt=3;break t}var vt=te(g,qt[0]+4);if(12>vt||4294967286<vt){mt=3;break t}if(It&&vt>Ot[0]-8){mt=7;break t}mt[0]=vt,qt[0]+=12,Ot[0]-=12}mt=0}if(mt!=0)return mt;for(vt=0<St.gb[0],T=T[0];;){t:{var Vt=g;Ot=w,mt=T;var Ht=rt,Ut=gt,ce=qt=[0];if((re=Rt=[Rt])[0]=0,8>mt[0])mt=7;else{if(!e(Vt,Ot[0],"VP8X")){if(te(Vt,Ot[0]+4)!=10){mt=3;break t}if(18>mt[0]){mt=7;break t}var ee=te(Vt,Ot[0]+8),we=1+ne(Vt,Ot[0]+12);if(2147483648<=we*(Vt=1+ne(Vt,Ot[0]+15))){mt=3;break t}ce!=null&&(ce[0]=ee),Ht!=null&&(Ht[0]=we),Ut!=null&&(Ut[0]=Vt),Ot[0]+=18,mt[0]-=18,re[0]=1}mt=0}}if(Rt=Rt[0],qt=qt[0],mt!=0)return mt;if(Ot=!!(2&qt),!vt&&Rt)return 3;if(G!=null&&(G[0]=!!(16&qt)),W!=null&&(W[0]=Ot),K!=null&&(K[0]=0),W=rt[0],qt=gt[0],Rt&&Ot&&Z==null){mt=0;break}if(4>T){mt=7;break}if(vt&&Rt||!vt&&!Rt&&!e(g,w[0],"ALPH")){T=[T],St.na=[St.na],St.P=[St.P],St.Sa=[St.Sa];t:{ee=g,mt=w,vt=T;var re=St.gb;Ht=St.na,Ut=St.P,ce=St.Sa,we=22,t(ee!=null),t(vt!=null),Vt=mt[0];var gn=vt[0];for(t(Ht!=null),t(ce!=null),Ht[0]=null,Ut[0]=null,ce[0]=0;;){if(mt[0]=Vt,vt[0]=gn,8>gn){mt=7;break t}var Tn=te(ee,Vt+4);if(4294967286<Tn){mt=3;break t}var Xe=8+Tn+1&-2;if(we+=Xe,0<re&&we>re){mt=3;break t}if(!e(ee,Vt,"VP8 ")||!e(ee,Vt,"VP8L")){mt=0;break t}if(gn[0]<Xe){mt=7;break t}e(ee,Vt,"ALPH")||(Ht[0]=ee,Ut[0]=Vt+8,ce[0]=Tn),Vt+=Xe,gn-=Xe}}if(T=T[0],St.na=St.na[0],St.P=St.P[0],St.Sa=St.Sa[0],mt!=0)break}T=[T],St.Ja=[St.Ja],St.xa=[St.xa];t:if(re=g,mt=w,vt=T,Ht=St.gb[0],Ut=St.Ja,ce=St.xa,ee=mt[0],Vt=!e(re,ee,"VP8 "),we=!e(re,ee,"VP8L"),t(re!=null),t(vt!=null),t(Ut!=null),t(ce!=null),8>vt[0])mt=7;else{if(Vt||we){if(re=te(re,ee+4),12<=Ht&&re>Ht-12){mt=3;break t}if(It&&re>vt[0]-8){mt=7;break t}Ut[0]=re,mt[0]+=8,vt[0]-=8,ce[0]=we}else ce[0]=5<=vt[0]&&re[ee+0]==47&&!(re[ee+4]>>5),Ut[0]=vt[0];mt=0}if(T=T[0],St.Ja=St.Ja[0],St.xa=St.xa[0],w=w[0],mt!=0)break;if(4294967286<St.Ja)return 3;if(K==null||Ot||(K[0]=St.xa?2:1),W=[W],qt=[qt],St.xa){if(5>T){mt=7;break}K=W,It=qt,Ot=G,g==null||5>T?g=0:5<=T&&g[w+0]==47&&!(g[w+4]>>5)?(vt=[0],re=[0],Ht=[0],ft(Ut=new V,g,w,T),le(Ut,vt,re,Ht)?(K!=null&&(K[0]=vt[0]),It!=null&&(It[0]=re[0]),Ot!=null&&(Ot[0]=Ht[0]),g=1):g=0):g=0}else{if(10>T){mt=7;break}K=qt,g==null||10>T||!Ki(g,w+3,T-3)?g=0:(It=g[w+0]|g[w+1]<<8|g[w+2]<<16,Ot=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&It||3<(It>>1&7)||!(It>>4&1)||It>>5>=St.Ja||!Ot||!g?g=0:(W&&(W[0]=Ot),K&&(K[0]=g),g=1))}if(!g||(W=W[0],qt=qt[0],Rt&&(rt[0]!=W||gt[0]!=qt)))return 3;Z!=null&&(Z[0]=St,Z.offset=w-Z.w,t(4294967286>w-Z.w),t(Z.offset==Z.ha-T));break}return mt==0||mt==7&&Rt&&Z==null?(G!=null&&(G[0]|=St.na!=null&&0<St.na.length),R!=null&&(R[0]=W),B!=null&&(B[0]=qt),0):mt}function Wo(g,w,T){var R=w.width,B=w.height,G=0,W=0,K=R,Z=B;if(w.Da=g!=null&&0<g.Da,w.Da&&(K=g.cd,Z=g.bd,G=g.v,W=g.j,11>T||(G&=-2,W&=-2),0>G||0>W||0>=K||0>=Z||G+K>R||W+Z>B))return 0;if(w.v=G,w.j=W,w.va=G+K,w.o=W+Z,w.U=K,w.T=Z,w.da=g!=null&&0<g.da,w.da){if(!Te(K,Z,T=[g.ib],G=[g.hb]))return 0;w.ib=T[0],w.hb=G[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*R/4&&w.hb<3*B/4,w.Kb=0),1}function Uc(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function Bl(g,w,T,R){if(R==null||0>=g||0>=w)return 2;if(T!=null){if(T.Da){var B=T.cd,G=T.bd,W=-2&T.v,K=-2&T.j;if(0>W||0>K||0>=B||0>=G||W+B>g||K+G>w)return 2;g=B,w=G}if(T.da){if(!Te(g,w,B=[T.ib],G=[T.hb]))return 2;g=B[0],w=G[0]}}R.width=g,R.height=w;t:{var Z=R.width,rt=R.height;if(g=R.S,0>=Z||0>=rt||!(g>=wr&&13>g))g=2;else{if(0>=R.Rd&&R.sd==null){W=G=B=w=0;var gt=(K=Z*Ng[g])*rt;if(11>g||(G=(rt+1)/2*(w=(Z+1)/2),g==12&&(W=(B=Z)*rt)),(rt=s(gt+2*G+W))==null){g=1;break t}R.sd=rt,11>g?((Z=R.f.RGBA).eb=rt,Z.fb=0,Z.A=K,Z.size=gt):((Z=R.f.kb).y=rt,Z.O=0,Z.fa=K,Z.Fd=gt,Z.f=rt,Z.N=0+gt,Z.Ab=w,Z.Cd=G,Z.ea=rt,Z.W=0+gt+G,Z.Db=w,Z.Ed=G,g==12&&(Z.F=rt,Z.J=0+gt+2*G),Z.Tc=W,Z.lb=B)}if(w=1,B=R.S,G=R.width,W=R.height,B>=wr&&13>B)if(11>B)g=R.f.RGBA,w&=(K=Math.abs(g.A))*(W-1)+G<=g.size,w&=K>=G*Ng[B],w&=g.eb!=null;else{g=R.f.kb,K=(G+1)/2,gt=(W+1)/2,Z=Math.abs(g.fa),rt=Math.abs(g.Ab);var Rt=Math.abs(g.Db),It=Math.abs(g.lb),St=It*(W-1)+G;w&=Z*(W-1)+G<=g.Fd,w&=rt*(gt-1)+K<=g.Cd,w=(w&=Rt*(gt-1)+K<=g.Ed)&Z>=G&rt>=K&Rt>=K,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,B==12&&(w&=It>=G,w&=St<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||T!=null&&T.fd&&(g=Uc(R)),g}var ji=64,$o=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ul=24,zl=32,zc=8,Yr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,w,T){return w[T+0]},P.Predictor3=function(g,w,T){return w[T+1]},P.Predictor4=function(g,w,T){return w[T-1]},P.Predictor5=function(g,w,T){return ae(ae(g,w[T+1]),w[T+0])},P.Predictor6=function(g,w,T){return ae(g,w[T-1])},P.Predictor7=function(g,w,T){return ae(g,w[T+0])},P.Predictor8=function(g,w,T){return ae(w[T-1],w[T+0])},P.Predictor9=function(g,w,T){return ae(w[T+0],w[T+1])},P.Predictor10=function(g,w,T){return ae(ae(g,w[T-1]),ae(w[T+0],w[T+1]))},P.Predictor11=function(g,w,T){var R=w[T+0];return 0>=Ve(R>>24&255,g>>24&255,(w=w[T-1])>>24&255)+Ve(R>>16&255,g>>16&255,w>>16&255)+Ve(R>>8&255,g>>8&255,w>>8&255)+Ve(255&R,255&g,255&w)?R:g},P.Predictor12=function(g,w,T){var R=w[T+0];return(ve((g>>24&255)+(R>>24&255)-((w=w[T-1])>>24&255))<<24|ve((g>>16&255)+(R>>16&255)-(w>>16&255))<<16|ve((g>>8&255)+(R>>8&255)-(w>>8&255))<<8|ve((255&g)+(255&R)-(255&w)))>>>0},P.Predictor13=function(g,w,T){var R=w[T-1];return(Le((g=ae(g,w[T+0]))>>24&255,R>>24&255)<<24|Le(g>>16&255,R>>16&255)<<16|Le(g>>8&255,R>>8&255)<<8|Le(g>>0&255,R>>0&255))>>>0};var vd=P.PredictorAdd0;P.PredictorAdd1=_e,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var Qu=P.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Qh,Ms=P.ColorIndexInverseTransform,Xi=P.MapARGB,Yo=P.VP8LColorIndexInverseTransformAlpha,Ju=P.MapAlpha,uo=P.VP8LPredictorsAdd=[];uo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ko,Rr,cr,Xo,Kr,la,Oa,ca,hi,ua,Ei,Xr,ql,ja,qc,Qo,Jo,Zo,Hl,Hc,tl,ho,Gl,fi,bs,Ze,tn,Yn,mi=s(511),Os=s(2041),el=s(225),nl=s(767),fo=0,Jh=Os,Wl=el,Qi=nl,js=mi,wr=0,Gc=1,Fa=2,Zu=3,$l=4,po=5,Zh=6,th=7,il=8,go=9,Wc=10,tf=[2,3,7],Fs=[3,3,11],ws=[280,256,256,256,40],Yl=[0,1,1,1,0],mo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sg=8,eh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fi=null,di=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Va=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_d=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ag=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],Lr=[],Ss=[],Tg=1,$c=2,Ba=[],Ji=[];jt("UpsampleRgbLinePair",X,3),jt("UpsampleBgrLinePair",_t,3),jt("UpsampleRgbaLinePair",Be,4),jt("UpsampleBgraLinePair",rn,4),jt("UpsampleArgbLinePair",Ce,4),jt("UpsampleRgba4444LinePair",Kt,2),jt("UpsampleRgb565LinePair",Lt,2);var _o=P.UpsampleRgbLinePair,sl=P.UpsampleBgrLinePair,Ua=P.UpsampleRgbaLinePair,ef=P.UpsampleBgraLinePair,nf=P.UpsampleArgbLinePair,Yc=P.UpsampleRgba4444LinePair,rf=P.UpsampleRgb565LinePair,za=16,Vi=1<<za-1,al=-227,sf=482,H1=6,xg=0,G1=s(256),Bi=s(256),bd=s(256),ih=s(256),rh=s(sf-al),wd=s(sf-al);Pn("YuvToRgbRow",X,3),Pn("YuvToBgrRow",_t,3),Pn("YuvToRgbaRow",Be,4),Pn("YuvToBgraRow",rn,4),Pn("YuvToArgbRow",Ce,4),Pn("YuvToRgba4444Row",Kt,2),Pn("YuvToRgb565Row",Lt,2);var Ql=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bo=[0,2,8],W1=[8,7,6,4,4,2,2,2,1,1,1,1],Eg=1;this.WebPDecodeRGBA=function(g,w,T,R,B){var G=Gc,W=new oo,K=new ki;W.ba=K,K.S=G,K.width=[K.width],K.height=[K.height];var Z=K.width,rt=K.height,gt=new rr;if(gt==null||g==null)var Rt=2;else t(gt!=null),Rt=Ma(g,w,T,gt.width,gt.height,gt.Pd,gt.Qd,gt.format,null);if(Rt!=0?Z=0:(Z!=null&&(Z[0]=gt.width[0]),rt!=null&&(rt[0]=gt.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],R!=null&&(R[0]=K.width),B!=null&&(B[0]=K.height);t:{if(R=new ta,(B=new Ho).data=g,B.w=w,B.ha=T,B.kd=1,w=[0],t(B!=null),((g=Ma(B.data,B.w,B.ha,null,null,null,w,null,B))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(t(W!=null),R.data=B.data,R.w=B.w+B.offset,R.ha=B.ha-B.offset,R.put=sr,R.ac=ci,R.bc=ms,R.ma=W,B.xa){if((g=Wn())==null){W=1;break t}if(function(It,St){var qt=[0],Ot=[0],mt=[0];e:for(;;){if(It==null)return 0;if(St==null)return It.a=2,0;if(It.l=St,It.a=0,ft(It.m,St.data,St.w,St.ha),!le(It.m,qt,Ot,mt)){It.a=3;break e}if(It.xb=$c,St.width=qt[0],St.height=Ot[0],!wn(qt[0],Ot[0],1,It,null))break e;return 1}return t(It.a!=0),0}(g,R)){if(R=(w=Bl(R.width,R.height,W.Oa,W.ba))==0){e:{R=g;n:for(;;){if(R==null){R=0;break e}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((T=R.l)!=null),t((B=T.ma)!=null),R.xb!=0){if(R.ca=B.ba,R.tb=B.tb,t(R.ca!=null),!Wo(B.Oa,T,Zu)){R.a=2;break n}if(!Qs(R,T.width)||T.da)break n;if((T.da||cn(R.ca.S))&&bt(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&bt()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Se(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Ai(R,R.V,R.Ba,R.c,R.i,T.o,to))break n;B.Dc=R.Ma,R=1;break e}t(R.a!=0),R=0}R=!R}R&&(w=g.a)}else w=g.a}else{if((g=new kl)==null){W=1;break t}if(g.Fa=B.na,g.P=B.P,g.qc=B.Sa,Vo(g,R)){if((w=Bl(R.width,R.height,W.Oa,W.ba))==0){if(g.Aa=0,T=W.Oa,t((B=g)!=null),T!=null){if(0<(Z=0>(Z=T.Md)?0:100<Z?255:255*Z/100)){for(rt=gt=0;4>rt;++rt)12>(Rt=B.pb[rt]).lc&&(Rt.ia=Z*W1[0>Rt.lc?0:Rt.lc]>>3),gt|=Rt.ia;gt&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=T.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}Dl(g,R)||(w=g.a)}}else w=g.a}w==0&&W.Oa!=null&&W.Oa.fd&&(w=Uc(W.ba))}W=w}G=W!=0?null:11>G?K.f.RGBA.eb:K.f.kb.y}else G=null;return G};var Ng=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,F){for(var z="",L=0;L<4;L++)z+=String.fromCharCode(P[F++]);return z}function p(P,F){return(P[F+0]<<0|P[F+1]<<8|P[F+2]<<16)>>>0}function y(P,F){return(P[F+0]<<0|P[F+1]<<8|P[F+2]<<16|P[F+3]<<24)>>>0}new u;var b=[0],_=[0],E=[],N=new u,C=n,I=function(P,F){var z={},L=0,D=!1,j=0,ot=0;if(z.frames=[],!function(Y,tt,at,ct){for(var Nt=0;Nt<ct;Nt++)if(Y[tt+Nt]!=at.charCodeAt(Nt))return!0;return!1}(P,F,"RIFF",4)){for(y(P,F+=4),F+=8;F<P.length;){var wt=f(P,F),it=y(P,F+=4);F+=4;var ht=it+(1&it);switch(wt){case"VP8 ":case"VP8L":z.frames[L]===void 0&&(z.frames[L]={}),(J=z.frames[L]).src_off=D?ot:F-8,J.src_size=j+it+8,L++,D&&(D=!1,j=0,ot=0);break;case"VP8X":(J=z.header={}).feature_flags=P[F];var ft=F+4;J.canvas_width=1+p(P,ft),ft+=3,J.canvas_height=1+p(P,ft),ft+=3;break;case"ALPH":D=!0,j=ht+8,ot=F-8;break;case"ANIM":(J=z.header).bgcolor=y(P,F),ft=F+4,J.loop_count=(At=P)[(V=ft)+0]<<0|At[V+1]<<8,ft+=2;break;case"ANMF":var xt,J;(J=z.frames[L]={}).offset_x=2*p(P,F),F+=3,J.offset_y=2*p(P,F),F+=3,J.width=1+p(P,F),F+=3,J.height=1+p(P,F),F+=3,J.duration=p(P,F),F+=3,xt=P[F++],J.dispose=1&xt,J.blend=xt>>1&1}wt!="ANMF"&&(F+=ht)}var At,V;return z}}(C,0);I.response=C,I.rgbaoutput=!0,I.dataurl=!1;var M=I.header?I.header:null,$=I.frames?I.frames:null;if(M){M.loop_counter=M.loop_count,b=[M.canvas_height],_=[M.canvas_width];for(var nt=0;nt<$.length&&$[nt].blend!=0;nt++);}var et=$[0],pt=N.WebPDecodeRGBA(C,et.src_off,et.src_size,_,b);et.rgba=pt,et.imgwidth=_[0],et.imgheight=b[0];for(var q=0;q<_[0]*b[0]*4;q++)E[q]=pt[q];return this.width=_,this.height=b,this.data=E,this}(function(n){var t=function(){return typeof U2=="function"},e=function(b,_,E,N){var C=4,I=o;switch(N){case n.image_compression.FAST:C=1,I=s;break;case n.image_compression.MEDIUM:C=6,I=c;break;case n.image_compression.SLOW:C=9,I=u}b=i(b,_,E,I);var M=U2(b,{level:C});return n.__addimage__.arrayBufferToBinaryString(M)},i=function(b,_,E,N){for(var C,I,M,$=b.length/_,nt=new Uint8Array(b.length+$),et=p(),pt=0;pt<$;pt+=1){if(M=pt*_,C=b.subarray(M,M+_),N)nt.set(N(C,E,I),M+pt);else{for(var q,P=et.length,F=[];q<P;q+=1)F[q]=et[q](C,E,I);var z=y(F.concat());nt.set(F[z],M+pt)}I=C}return nt},r=function(b){var _=Array.apply([],b);return _.unshift(0),_},s=function(b,_){var E,N=[],C=b.length;N[0]=1;for(var I=0;I<C;I+=1)E=b[I-_]||0,N[I+1]=b[I]-E+256&255;return N},o=function(b,_,E){var N,C=[],I=b.length;C[0]=2;for(var M=0;M<I;M+=1)N=E&&E[M]||0,C[M+1]=b[M]-N+256&255;return C},c=function(b,_,E){var N,C,I=[],M=b.length;I[0]=3;for(var $=0;$<M;$+=1)N=b[$-_]||0,C=E&&E[$]||0,I[$+1]=b[$]+256-(N+C>>>1)&255;return I},u=function(b,_,E){var N,C,I,M,$=[],nt=b.length;$[0]=4;for(var et=0;et<nt;et+=1)N=b[et-_]||0,C=E&&E[et]||0,I=E&&E[et-_]||0,M=f(N,C,I),$[et+1]=b[et]-M+256&255;return $},f=function(b,_,E){if(b===_&&_===E)return b;var N=Math.abs(_-E),C=Math.abs(b-E),I=Math.abs(b+_-E-E);return N<=C&&N<=I?b:C<=I?_:E},p=function(){return[r,s,o,c,u]},y=function(b){var _=b.map(function(E){return E.reduce(function(N,C){return N+Math.abs(C)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(b,_,E,N){var C,I,M,$,nt,et,pt,q,P,F,z,L,D,j,ot,wt=this.decode.FLATE_DECODE,it="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(M=new WB(b)).imgData,I=M.bits,C=M.colorSpace,nt=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){P=(q=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,z=new Uint8Array(P*M.colors),F=new Uint8Array(P);var ht,ft=M.pixelBitlength-M.bits;for(j=0,ot=0;j<P;j++){for(D=q[j],ht=0;ht<ft;)z[ot++]=D>>>ht&255,ht+=M.bits;F[j]=D>>>ht&255}}if(M.bits===16){P=(q=new Uint32Array(M.decodePixels().buffer)).length,z=new Uint8Array(P*(32/M.pixelBitlength)*M.colors),F=new Uint8Array(P*(32/M.pixelBitlength)),L=M.colors>1,j=0,ot=0;for(var xt=0;j<P;)D=q[j++],z[ot++]=D>>>0&255,L&&(z[ot++]=D>>>16&255,D=q[j++],z[ot++]=D>>>0&255),F[xt++]=D>>>16&255;I=8}N!==n.image_compression.NONE&&t()?(b=e(z,M.width*M.colors,M.colors,N),pt=e(F,M.width,1,N)):(b=z,pt=F,wt=void 0)}if(M.colorType===3&&(C=this.color_spaces.INDEXED,et=M.palette,M.transparency.indexed)){var J=M.transparency.indexed,At=0;for(j=0,P=J.length;j<P;++j)At+=J[j];if((At/=255)===P-1&&J.indexOf(0)!==-1)$=[J.indexOf(0)];else if(At!==P){for(q=M.decodePixels(),F=new Uint8Array(q.length),j=0,P=q.length;j<P;j++)F[j]=J[q[j]];pt=e(F,M.width,1)}}var V=function(Y){var tt;switch(Y){case n.image_compression.FAST:tt=11;break;case n.image_compression.MEDIUM:tt=13;break;case n.image_compression.SLOW:tt=14;break;default:tt=12}return tt}(N);return wt===this.decode.FLATE_DECODE&&(it="/Predictor "+V+" "),it+="/Colors "+nt+" /BitsPerComponent "+I+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(pt&&this.__addimage__.isArrayBuffer(pt)||this.__addimage__.isArrayBufferView(pt))&&(pt=this.__addimage__.arrayBufferToBinaryString(pt)),{alias:E,data:b,index:_,filter:wt,decodeParameters:it,transparency:$,palette:et,sMask:pt,predictor:V,width:M.width,height:M.height,bitsPerComponent:I,colorSpace:C}}}})(ke.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new $B(t),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},p=new Ov(100).encode(f,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A}(ke.API),Co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Co.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Zn.log("bit decode error:"+e)}},Co.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,c=s>>4,u=15&s,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Co.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Co.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,f=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=u,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=f}this.pos+=n}},Co.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,f=(o>>11)/t*255|0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},Co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=o}},Co.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new Co(t,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new Ov(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(ke.API),HT.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new HT(t),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},f=new Ov(100).encode(u,100);return n.processJPEG.call(this,f,e,i,r)}}(ke.API),ke.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,f=0;f<r;f+=4){var p=i[f],y=i[f+1],b=i[f+2],_=i[f+3];s[c++]=p,s[c++]=y,s[c++]=b,o[u++]=_}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ke.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},If=ke.API,km=If.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,y=t.doKerning!==!1,b=0,_=n.length,E=0,N=c[0]||u,C=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(b=y&&qn(f[i])==="object"&&!isNaN(parseInt(f[i][E],10))?f[i][E]/p:0,C.push((c[i]||N)/u+b)),E=i;return C},BT=If.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return If.processArabic&&(n=If.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:km.apply(this,arguments).reduce(function(s,o){return s+o},0)},UT=function(n,t,e,i){for(var r=[],s=0,o=n.length,c=0;s!==o&&c+t[s]<e;)c+=t[s],s++;r.push(n.slice(0,s));var u=s;for(c=0;s!==o;)c+t[s]>i&&(r.push(n.slice(u,s)),c=0,u=s),c+=t[s],s++;return u!==s&&r.push(n.slice(u,s)),r},zT=function(n,t,e){e||(e={});var i,r,s,o,c,u,f,p=[],y=[p],b=e.textIndent||0,_=0,E=0,N=n.split(" "),C=km.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var I=Array(u).join(" "),M=[];N.map(function(nt){(nt=nt.split(/\s*\n/)).length>1?M=M.concat(nt.map(function(et,pt){return(pt&&et.length?`
`:"")+et})):M.push(nt[0])}),N=M,u=BT.apply(this,[I,e])}for(s=0,o=N.length;s<o;s++){var $=0;if(i=N[s],u&&i[0]==`
`&&(i=i.substr(1),$=1),b+_+(E=(r=km.apply(this,[i,e])).reduce(function(nt,et){return nt+et},0))>t||$){if(E>t){for(c=UT.apply(this,[i,r,t-(b+_),t]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);E=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(nt,et){return nt+et},0)}else p=[i];y.push(p),b=E+u,_=C}else p.push(i),b+=_+E,_=C}return f=u?function(nt,et){return(et?I:"")+nt.join(" ")}:function(nt){return nt.join(" ")},y.map(f)},If.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var c,u,f=[];for(c=0,u=i.length;c<u;c++)f=f.concat(zT.apply(this,[i[c],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var b,_,E,N,C=["{"];for(var I in y){if(b=y[I],isNaN(parseInt(I,10))?_="'"+I+"'":(I=parseInt(I,10),_=(_=s(I).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof b=="number")b<0?(E=s(b).slice(3),N="-"):(E=s(b).slice(2),N=""),E=N+E.slice(0,-1)+i[E.slice(-1)];else{if(qn(b)!=="object")throw new Error("Don't know what to do with value type "+qn(b)+".");E=o(b)}C.push(_+E)}return C.push("}"),C.join("")},c=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,_,E,N,C={},I=1,M=C,$=[],nt="",et="",pt=y.length-1,q=1;q<pt;q+=1)(N=y[q])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(N):N=="{"?($.push([M,E]),M={},E=void 0):N=="}"?((_=$.pop())[0][_[1]]=M,E=void 0,M=_[0]):N=="-"?I=-1:E===void 0?e.hasOwnProperty(N)?(nt+=e[N],E=parseInt(nt,16)*I,I=1,nt=""):nt+=N:e.hasOwnProperty(N)?(et+=e[N],M[E]=parseInt(et,16)*I,I=1,E=void 0,et=""):et+=N;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var b=y.font,_=p.Unicode[b.postScriptName];_&&(b.metadata.Unicode={},b.metadata.Unicode.widths=_.widths,b.metadata.Unicode.kerning=_.kerning);var E=f.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])}(ke.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(kp(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(ke),function(n){function t(){return(Me.canvg?Promise.resolve(Me.canvg):O2(()=>import("./index.es-B2lK8OES.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ke.API.addSvgAsImage=function(e,i,r,s,o,c,u,f){if(isNaN(i)||isNaN(r))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return t().then(function(E){return E.fromString(y,e,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(b)}).then(function(){_.addImage(p.toDataURL("image/jpeg",1),i,r,s,o,u,f)})}}(),ke.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},ke.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,p=0,y=0;function b(E,N){var C,I=!1;for(C=0;C<E.length;C+=1)E[C]===N&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=c.length;for(y=0;y<_;y+=1)e[c[y]].value=e[c[y]].defaultValue,e[c[y]].explicitSet=!1}if(qn(n)==="object"){for(r in n)if(s=n[r],b(c,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&b(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(i=!1);i===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}e[r].value="["+u.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,N=[];for(E in e)e[E].explicitSet===!0&&(e[E].type==="name"?N.push("/"+E+" /"+e[E].value):N.push("/"+E+" "+e[E].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ke.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],y=0,b=s.length;y<b;++y){if(c=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(y),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},i=function(s){var o,c,u,f,p,y,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,b=(c=Object.keys(s).sort(function(_,E){return _-E})).length;y<b;y++)o=c[y],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",E=0;E<b.length;E++)_+=String.fromCharCode(b[E]);var N=f();p({data:_,addLength1:!0,objectId:N}),u("endobj");var C=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var I=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Of(c.fontName)),u("/FontFile2 "+N+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var M=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Of(c.fontName)),u("/FontDescriptor "+I+" 0 R"),u("/W "+n.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+C+" 0 R"),u("/BaseFont /"+Of(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+M+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,b="",_=0;_<y.length;_++)b+=String.fromCharCode(y[_]);var E=f();p({data:b,addLength1:!0,objectId:E}),u("endobj");var N=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var C=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Of(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var I=0;I<c.metadata.hmtx.widths.length;I++)c.metadata.hmtx.widths[I]=parseInt(c.metadata.hmtx.widths[I]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Of(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,c=s.text||"",u=s.x,f=s.y,p=s.options||{},y=s.mutex||{},b=y.pdfEscape,_=y.activeFontKey,E=y.fonts,N=_,C="",I=0,M="",$=E[N].encoding;if(E[N].encoding!=="Identity-H")return{text:c,x:u,y:f,options:p,mutex:y};for(M=c,N=_,Array.isArray(c)&&(M=c[0]),I=0;I<M.length;I+=1)E[N].metadata.hasOwnProperty("cmap")&&(o=E[N].metadata.cmap.unicode.codeMap[M[I].charCodeAt(0)]),o||M[I].charCodeAt(0)<256&&E[N].metadata.hasOwnProperty("Unicode")?C+=M[I]:C+="";var nt="";return parseInt(N.slice(1))<14||$==="WinAnsiEncoding"?nt=b(C,N).split("").map(function(et){return et.charCodeAt(0).toString(16)}).join(""):$==="Identity-H"&&(nt=e(C,E[N])),y.isHex=!0,{text:nt,x:u,y:f,options:p,mutex:y}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([r(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(r(Object.assign({},u,{text:o[f]})).text);s.text=c}else s.text=r(Object.assign({},u,{text:o})).text}])}(ke),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ke.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,c,u,f,p,y=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,$=0;this.__bidiEngine__={};var nt=function(L){var D=L.charCodeAt(),j=D>>8,ot=N[j];return ot!==void 0?y[256*ot+(255&D)]:j===252||j===253?"AL":I.test(j)?"L":j===8?"R":"N"},et=function(L){for(var D,j=0;j<L.length;j++){if((D=nt(L.charAt(j)))==="L")return!1;if(D==="R")return!0}return!1},pt=function(L,D,j,ot){var wt,it,ht,ft,xt=D[ot];switch(xt){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(xt="AN");break;case"AL":M=!0,xt="R";break;case"WS":xt="N";break;case"CS":ot<1||ot+1>=D.length||(wt=j[ot-1])!=="EN"&&wt!=="AN"||(it=D[ot+1])!=="EN"&&it!=="AN"?xt="N":M&&(it="AN"),xt=it===wt?it:"N";break;case"ES":xt=(wt=ot>0?j[ot-1]:"B")==="EN"&&ot+1<D.length&&D[ot+1]==="EN"?"EN":"N";break;case"ET":if(ot>0&&j[ot-1]==="EN"){xt="EN";break}if(M){xt="N";break}for(ht=ot+1,ft=D.length;ht<ft&&D[ht]==="ET";)ht++;xt=ht<ft&&D[ht]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ft=D.length,ht=ot+1;ht<ft&&D[ht]==="NSM";)ht++;if(ht<ft){var J=L[ot],At=J>=1425&&J<=2303||J===64286;if(wt=D[ht],At&&(wt==="R"||wt==="AL")){xt="R";break}}}xt=ot<1||(wt=D[ot-1])==="B"?"N":j[ot-1];break;case"B":M=!1,r=!0,xt=$;break;case"S":s=!0,xt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":xt="N"}return xt},q=function(L,D,j){var ot=L.split("");return j&&P(ot,j,{hiLevel:$}),ot.reverse(),D&&D.reverse(),ot.join("")},P=function(L,D,j){var ot,wt,it,ht,ft,xt=-1,J=L.length,At=0,V=[],Y=$?_:b,tt=[];for(M=!1,r=!1,s=!1,wt=0;wt<J;wt++)tt[wt]=nt(L[wt]);for(it=0;it<J;it++){if(ft=At,V[it]=pt(L,tt,V,it),ot=240&(At=Y[ft][E[V[it]]]),At&=15,D[it]=ht=Y[At][5],ot>0)if(ot===16){for(wt=xt;wt<it;wt++)D[wt]=1;xt=-1}else xt=-1;if(Y[At][6])xt===-1&&(xt=it);else if(xt>-1){for(wt=xt;wt<it;wt++)D[wt]=ht;xt=-1}tt[it]==="B"&&(D[it]=0),j.hiLevel|=ht}s&&function(at,ct,Nt){for(var Et=0;Et<Nt;Et++)if(at[Et]==="S"){ct[Et]=$;for(var kt=Et-1;kt>=0&&at[kt]==="WS";kt--)ct[kt]=$}}(tt,D,J)},F=function(L,D,j,ot,wt){if(!(wt.hiLevel<L)){if(L===1&&$===1&&!r)return D.reverse(),void(j&&j.reverse());for(var it,ht,ft,xt,J=D.length,At=0;At<J;){if(ot[At]>=L){for(ft=At+1;ft<J&&ot[ft]>=L;)ft++;for(xt=At,ht=ft-1;xt<ht;xt++,ht--)it=D[xt],D[xt]=D[ht],D[ht]=it,j&&(it=j[xt],j[xt]=j[ht],j[ht]=it);At=ft}At++}}},z=function(L,D,j){var ot=L.split(""),wt={hiLevel:$};return j||(j=[]),P(ot,j,wt),function(it,ht,ft){if(ft.hiLevel!==0&&p)for(var xt,J=0;J<it.length;J++)ht[J]===1&&(xt=C.indexOf(it[J]))>=0&&(it[J]=C[xt+1])}(ot,j,wt),F(2,ot,D,j,wt),F(1,ot,D,j,wt),ot.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,j){if(function(wt,it){if(it)for(var ht=0;ht<wt.length;ht++)it[ht]=ht;c===void 0&&(c=et(wt)),f===void 0&&(f=et(wt))}(L,D),o||!u||f)if(o&&u&&c^f)$=c?1:0,L=q(L,D,j);else if(!o&&u&&f)$=c?1:0,L=z(L,D,j),L=q(L,D);else if(!o||c||u||f){if(o&&!u&&c^f)L=q(L,D),c?($=0,L=z(L,D,j)):($=1,L=z(L,D,j),L=q(L,D));else if(o&&c&&!u&&f)$=1,L=z(L,D,j),L=q(L,D);else if(!o&&!u&&c^f){var ot=p;c?($=1,L=z(L,D,j),$=0,p=!1,L=z(L,D,j),p=ot):($=0,L=z(L,D,j),L=q(L,D),$=1,p=!1,L=z(L,D,j),p=ot,L=q(L,D))}}else $=0,L=z(L,D,j);else $=c?1:0,L=z(L,D,j);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,u=L.isOutputVisual,c=L.isInputRtl,f=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([e.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([e.doBidiReorder(r[c])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ke),ke.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Wu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new lU(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new YB(this.contents),this.head=new XB(this),this.name=new eU(this),this.cmap=new BI(this),this.toUnicode={},this.hhea=new QB(this),this.maxp=new nU(this),this.hmtx=new iU(this),this.post=new ZB(this),this.os2=new JB(this),this.loca=new oU(this),this.glyf=new rU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var jo,Wu=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,c,u;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*c+u},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n}(),YB=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,c,u,f,p,y,b,_,E,N;for(N in _=Object.keys(e).length,u=Math.log(2),y=16*Math.floor(Math.log(_)/u),o=Math.floor(y/u),p=16*_-y,(r=new Wu).writeInt(this.scalarType),r.writeShort(_),r.writeShort(y),r.writeShort(o),r.writeShort(p),s=16*_,f=r.pos+s,c=null,E=[],e)for(b=e[N],r.writeString(N),r.writeInt(n(b)),r.writeInt(f),r.writeInt(b.length),E=E.concat(b),N==="head"&&(c=f),f+=b.length;f%4;)E.push(0),f++;return r.write(E),i=2981146554-n(r.data),r.pos=c+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=UI.call(e);e.length%4;)e.push(0);for(s=new Wu(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),KB={}.hasOwnProperty,Ll=function(n,t){for(var e in t)KB.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};jo=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var XB=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Wu).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),GT=function(){function n(t,e){var i,r,s,o,c,u,f,p,y,b,_,E,N,C,I,M,$;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(_=t.readUInt16(),b=_/2,t.pos+=6,s=function(){var nt,et;for(et=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)et.push(t.readUInt16());return et}(),t.pos+=2,N=function(){var nt,et;for(et=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)et.push(t.readUInt16());return et}(),f=function(){var nt,et;for(et=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)et.push(t.readUInt16());return et}(),p=function(){var nt,et;for(et=[],u=nt=0;0<=b?nt<b:nt>b;u=0<=b?++nt:--nt)et.push(t.readUInt16());return et}(),r=(this.length-t.pos+this.offset)/2,c=function(){var nt,et;for(et=[],u=nt=0;0<=r?nt<r:nt>r;u=0<=r?++nt:--nt)et.push(t.readUInt16());return et}(),u=I=0,$=s.length;I<$;u=++I)for(C=s[u],i=M=E=N[u];E<=C?M<=C:M>=C;i=E<=C?++M:--M)p[u]===0?o=i+f[u]:(o=c[p[u]/2+(i-E)-(b-u)]||0)!==0&&(o+=f[u]),this.codeMap[i]=65535&o}t.pos=y}return n.encode=function(t,e){var i,r,s,o,c,u,f,p,y,b,_,E,N,C,I,M,$,nt,et,pt,q,P,F,z,L,D,j,ot,wt,it,ht,ft,xt,J,At,V,Y,tt,at,ct,Nt,Et,kt,Jt,Xt,ne;switch(ot=new Wu,o=Object.keys(t).sort(function(te,Se){return te-Se}),e){case"macroman":for(N=0,C=function(){var te=[];for(E=0;E<256;++E)te.push(0);return te}(),M={0:0},s={},wt=0,xt=o.length;wt<xt;wt++)M[kt=t[r=o[wt]]]==null&&(M[kt]=++N),s[r]={old:t[r],new:M[t[r]]},C[r]=M[t[r]];return ot.writeUInt16(1),ot.writeUInt16(0),ot.writeUInt32(12),ot.writeUInt16(0),ot.writeUInt16(262),ot.writeUInt16(0),ot.write(C),{charMap:s,subtable:ot.data,maxGlyphID:N+1};case"unicode":for(D=[],y=[],$=0,M={},i={},I=f=null,it=0,J=o.length;it<J;it++)M[et=t[r=o[it]]]==null&&(M[et]=++$),i[r]={old:et,new:M[et]},c=M[et]-r,I!=null&&c===f||(I&&y.push(I),D.push(r),f=c),I=r;for(I&&y.push(I),y.push(65535),D.push(65535),z=2*(F=D.length),P=2*Math.pow(Math.log(F)/Math.LN2,2),b=Math.log(P/2)/Math.LN2,q=2*F-P,u=[],pt=[],_=[],E=ht=0,At=D.length;ht<At;E=++ht){if(L=D[E],p=y[E],L===65535){u.push(0),pt.push(0);break}if(L-(j=i[L].new)>=32768)for(u.push(0),pt.push(2*(_.length+F-E)),r=ft=L;L<=p?ft<=p:ft>=p;r=L<=p?++ft:--ft)_.push(i[r].new);else u.push(j-L),pt.push(0)}for(ot.writeUInt16(3),ot.writeUInt16(1),ot.writeUInt32(12),ot.writeUInt16(4),ot.writeUInt16(16+8*F+2*_.length),ot.writeUInt16(0),ot.writeUInt16(z),ot.writeUInt16(P),ot.writeUInt16(b),ot.writeUInt16(q),Nt=0,V=y.length;Nt<V;Nt++)r=y[Nt],ot.writeUInt16(r);for(ot.writeUInt16(0),Et=0,Y=D.length;Et<Y;Et++)r=D[Et],ot.writeUInt16(r);for(Jt=0,tt=u.length;Jt<tt;Jt++)c=u[Jt],ot.writeUInt16(c);for(Xt=0,at=pt.length;Xt<at;Xt++)nt=pt[Xt],ot.writeUInt16(nt);for(ne=0,ct=_.length;ne<ct;ne++)N=_[ne],ot.writeUInt16(N);return{charMap:i,subtable:ot.data,maxGlyphID:$+1}}},n}(),BI=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new GT(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return i==null&&(i="macroman"),r=GT.encode(e,i),(s=new Wu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),QB=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),JB=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ZB=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(e.readUInt32());return f}).call(this)}},t}(),tU=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},eU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,c,u,f,p,y,b,_;for(e.pos=this.offset,e.readShort(),i=e.readShort(),u=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},o=y=0,b=r.length;y<b;o=++y)s=r[o],e.pos=s.offset,p=e.readString(s.length),c=new tU(p,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),nU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),iU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,o,c,u,f;for(e.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)y.push(e.readInt16());return y}(),this.widths=(function(){var p,y,b,_;for(_=[],p=0,y=(b=this.metrics).length;p<y;p++)o=b[p],_.push(o.advance);return _}).call(this),r=this.widths[this.widths.length-1],f=[],i=c=0;0<=s?c<s:c>s;i=0<=s?++c:--c)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),UI=[].slice,rU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,c,u,f,p,y,b;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,c=(u=new Wu(i.read(s))).readShort(),p=u.readShort(),b=u.readShort(),f=u.readShort(),y=u.readShort(),this.cache[e]=c===-1?new aU(u,p,b,f,y):new sU(u,c,p,b,f,y),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,c,u,f;for(c=[],o=[],u=0,f=i.length;u<f;u++)s=e[i[u]],o.push(c.length),s&&(c=c.concat(s.encode(r)));return o.push(c.length),{table:c,offsets:o}},t}(),sU=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),aU=function(){function n(t,e,i,r,s){var o,c;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Wu(UI.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),oU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ll(t,jo),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<r.length;++c)if(r[c]=s,o<i.length&&i[o]==c){++o,r[c]=s;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(s+=f)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},t}(),lU=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,c,u;for(r={},o=0,c=t.length;o<c;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))i=u[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,c,u,f,p,y,b,_,E,N,C,I;for(r in i=BI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),_={0:0},I=i.charMap)_[(u=I[r]).old]=u.new;for(E in b=i.maxGlyphID,o)E in _||(_[E]=b++);return p=function(M){var $,nt;for($ in nt={},M)nt[M[$]]=$;return nt}(_),y=Object.keys(p).sort(function(M,$){return M-$}),N=function(){var M,$,nt;for(nt=[],M=0,$=y.length;M<$;M++)c=y[M],nt.push(p[c]);return nt}(),s=this.font.glyf.encode(o,N,_),f=this.font.loca.encode(s.offsets,N),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();ke.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+function(){var c,u,f;for(f=[],c=0,u=e.length;c<u;c++)i=e[c],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();function zI(n,t,e,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,c=r.internal.getFontSize()/o,u=r.getLineHeightFactor?r.getLineHeightFactor():s,f=c*u,p=/\r\n|\r|\n/g,y="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(y=typeof n=="string"?n.split(p):n,b=y.length||1),e+=c*(2-s),i.valign==="middle"?e-=b/2*f:i.valign==="bottom"&&(e-=b*f),i.halign==="center"||i.halign==="right"){var _=c;if(i.halign==="center"&&(_*=.5),y&&b>=1){for(var E=0;E<y.length;E++)r.text(y[E],t-r.getStringUnitWidth(y[E])*_,e),e+=f;return r}t-=r.getStringUnitWidth(n)*_}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var WT={},Xf=function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:WT=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var p=n.unifyColor(t.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(t.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=n.unifyColor(t.lineColor),p&&(s=this.jsPDFDocument).setDrawColor.apply(s,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,s){return this.jsPDFDocument.rect(t,e,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return WT||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),Y2=function(n,t){return Y2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},Y2(n,t)};function qI(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Y2(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var HI=function(n){qI(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t}(Array);function cU(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function uU(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function U0(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function GI(n,t,e,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=WI(r,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,o)}function WI(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function M1(n,t){var e,i,r,s;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(s=n.bottom)!==null&&s!==void 0?s:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function $I(n,t){var e=M1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function hU(n,t,e,i,r){var s={},o=1.3333333333333333,c=jv(t,function($){return r.getComputedStyle($).backgroundColor});c!=null&&(s.fillColor=c);var u=jv(t,function($){return r.getComputedStyle($).color});u!=null&&(s.textColor=u);var f=dU(i,e);f&&(s.cellPadding=f);var p="borderTopColor",y=o*e,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var _=(parseFloat(b)||0)/y;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/y,right:(parseFloat(i.borderRightWidth)||0)/y,bottom:(parseFloat(i.borderBottomWidth)||0)/y,left:(parseFloat(i.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?p="borderRightColor":s.lineWidth.bottom?p="borderBottomColor":s.lineWidth.left&&(p="borderLeftColor"));var E=jv(t,function($){return r.getComputedStyle($)[p]});E!=null&&(s.lineColor=E);var N=["left","right","center","justify"];N.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),N=["middle","bottom","top"],N.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var C=parseInt(i.fontSize||"");isNaN(C)||(s.fontSize=C/o);var I=fU(i);I&&(s.fontStyle=I);var M=(i.fontFamily||"").toLowerCase();return n.indexOf(M)!==-1&&(s.font=M),s}function fU(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function jv(n,t){var e=YI(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function YI(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:YI(n.parentElement,t):e}function dU(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,s=e.map(function(c){return parseInt(c||"0")/i}),o=M1(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function KI(n,t,e,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var c;typeof t=="string"?c=e.document.querySelector(t):c=t;var u=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],y=[],b=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:p,body:y,foot:b};for(var _=0;_<c.rows.length;_++){var E=c.rows[_],N=(o=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),C=pU(u,f,e,E,i,r);C&&(N==="thead"?p.push(C):N==="tfoot"?b.push(C):y.push(C))}return{head:p,body:y,foot:b}}function pU(n,t,e,i,r,s){for(var o=new HI(i),c=0;c<i.cells.length;c++){var u=i.cells[c],f=e.getComputedStyle(u);if(r||f.display!=="none"){var p=void 0;s&&(p=hU(n,u,t,f,e)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:gU(u)})}}var y=e.getComputedStyle(i);if(o.length>0&&(r||y.display!=="none"))return o}function gU(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function mU(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function vc(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s}function XI(n,t){var e=new Xf(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();mU(r,i,t);var s=vc({},r,i,t),o;typeof window<"u"&&(o=window);var c=yU(r,i,t),u=vU(r,i,t),f=_U(e,s),p=wU(e,s,o);return{id:t.tableId,content:p,hooks:u,styles:c,settings:f}}function yU(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(u){if(u==="columnStyles"){var f=n[u],p=t[u],y=e[u];i.columnStyles=vc({},f,p,y)}else{var b=[n,t,e],_=b.map(function(E){return E[u]||{}});i[u]=vc({},_[0],_[1],_[2])}},s=0,o=Object.keys(i);s<o.length;s++){var c=o[s];r(c)}return i}function vU(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var c=o[s];c.didParseCell&&r.didParseCell.push(c.didParseCell),c.willDrawCell&&r.willDrawCell.push(c.willDrawCell),c.didDrawCell&&r.didDrawCell.push(c.didDrawCell),c.willDrawPage&&r.willDrawPage.push(c.willDrawPage),c.didDrawPage&&r.didDrawPage.push(c.didDrawPage)}return r}function _U(n,t){var e,i,r,s,o,c,u,f,p,y,b,_,E=M1(t.margin,40/n.scaleFactor()),N=(e=bU(n,t.startY))!==null&&e!==void 0?e:E.top,C;t.showFoot===!0?C="everyPage":t.showFoot===!1?C="never":C=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var I;t.showHead===!0?I="everyPage":t.showHead===!1?I="never":I=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var M=(s=t.useCss)!==null&&s!==void 0?s:!1,$=t.theme||(M?"plain":"striped"),nt=!!t.horizontalPageBreak,et=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:M,theme:$,startY:N,margin:E,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:I,showFoot:C,tableLineWidth:(y=t.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:nt,horizontalPageBreakRepeat:et,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function bU(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(e==null?void 0:e.finalY)!=null?e.finalY+20/i:null}function wU(n,t,e){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var c=KI(n,t.html,e,o,t.useCss)||{};i=c.head||i,r=c.body||i,s=c.foot||i}else console.error("Cannot parse html in non browser environment")}var u=t.columns||SU(i,r,s);return{columns:u,head:i,body:r,foot:s}}function SU(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,c;Array.isArray(i)?c=i[parseInt(s)]:c=i[s],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(u>0?"_".concat(u):"");var p={dataKey:f};r.push(p)}}),r}var K2=function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n}(),AU=function(n){qI(t,n);function t(e,i,r,s,o,c){var u=n.call(this,e,i,c)||this;return u.cell=r,u.row=s,u.column=o,u.section=s.section,u}return t}(K2),TU=function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,s,o){for(var c=0,u=e;c<u.length;c++){var f=u[c],p=new AU(t,this,i,r,s,o),y=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new K2(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new K2(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n}(),QI=function(){function n(t,e,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof HI&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=e.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var c=e.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+c;return f>r?f:r},0)},n}(),JI=function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=M1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n}(),xU=function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n}();function EU(n,t){NU(n,t);var e=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=X2(e,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=X2(e,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),CU(t),RU(t,n),IU(t)}function NU(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=$I(n,t);t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){var p=t.hooks.didParseCell;t.callCellHooks(n,p,f,s,u,null);var y=f.padding("horizontal");f.contentWidth=U0(f.text,f.styles,n)+y;var b=U0(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/e;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var p=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},y=p.cellWidth||p.minCellWidth;y&&typeof y=="number"&&(u.minWidth=y,u.wrappedWidth=y)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function X2(n,t,e){for(var i=t,r=n.reduce(function(_,E){return _+E.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],c=o.wrappedWidth/r,u=i*c,f=o.width+u,p=e(o),y=f<p?p:f;t-=y-o.width,o.width=y}if(t=Math.round(t*1e10)/1e10,t){var b=n.filter(function(_){return t<0?_.width>e(_):!0});b.length&&(t=X2(b,t,e))}return t}function IU(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=t[u.index];if(e>1)e--,delete s.cells[u.index];else if(f)f.cell.height+=s.height,e=f.cell.colSpan,delete s.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var p=s.cells[u.index];if(!p)continue;if(p.height=s.height,p.rowSpan>1){var y=i.length-r,b=p.rowSpan>y?y:p.rowSpan;t[u.index]={cell:p,left:b,row:s}}}}}function CU(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,s=0,o=0,c=0;c<n.columns.length;c++){var u=n.columns[c];if(o-=1,o>1&&n.columns[c+1])s+=u.width,delete i.cells[u.index];else if(r){var f=r;delete i.cells[u.index],r=null,f.width=u.width+s}else{var f=i.cells[u.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=u.width;continue}f.width=u.width+s}}}function RU(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,c=n.columns;o<c.length;o++){var u=c[o],f=s.cells[u.index];if(f){t.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,p+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=$T(f.text,p,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=$T(f.text,p,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var y=f.styles.overflow(f.text,p);typeof y=="string"?f.text=[y]:f.text=y}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&e.count*e.height<b*f.rowSpan?e={height:b,count:f.rowSpan}:e&&e.count>0&&e.height>b&&(b=e.height),b>s.height&&(s.height=b)}}e.count--}}function $T(n,t,e,i,r){return n.map(function(s){return LU(s,t,e,i,r)})}function LU(n,t,e,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=U0(n,e,i))return n;for(;t<U0(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function ZI(n,t){var e=new Xf(n),i=PU(t,e.scaleFactor()),r=new TU(t,i);return EU(e,r),e.applyStyles(e.userStyles),r}function PU(n,t){var e=n.content,i=DU(e.columns);if(e.head.length===0){var r=YT(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=YT(i,"foot");r&&e.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:Fv("head",e.head,i,o,s,t),body:Fv("body",e.body,i,o,s,t),foot:Fv("foot",e.foot,i,o,s,t)}}function Fv(n,t,e,i,r,s){var o={},c=t.map(function(u,f){for(var p=0,y={},b=0,_=0,E=0,N=e;E<N.length;E++){var C=N[E];if(o[C.index]==null||o[C.index].left===0)if(_===0){var I=void 0;Array.isArray(u)?I=u[C.index-b-p]:I=u[C.dataKey];var M={};typeof I=="object"&&!Array.isArray(I)&&(M=(I==null?void 0:I.styles)||{});var $=MU(n,C,f,r,i,s,M),nt=new JI(I,$,n);y[C.dataKey]=nt,y[C.index]=nt,_=nt.colSpan-1,o[C.index]={left:nt.rowSpan-1,times:_}}else _--,b++;else o[C.index].left--,_=o[C.index].times,p++}return new QI(u,f,n,y)});return c}function YT(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=kU(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function kU(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function DU(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new xU(r,t,e)})}function MU(n,t,e,i,r,s,o){var c=uU(i),u;n==="head"?u=r.headStyles:n==="body"?u=r.bodyStyles:n==="foot"&&(u=r.footStyles);var f=vc({},c.table,c[n],r.styles,u),p=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},y=n==="body"?p:{},b=n==="body"&&e%2===0?vc({},c.alternateRow,r.alternateRowStyles):{},_=cU(s),E=vc({},_,f,b,y);return vc(E,o)}function OU(n,t,e){var i;e===void 0&&(e={});var r=$I(n,t),s=new Map,o=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var _=t.columns.find(function(E){return E.dataKey===b||E.index===b});_&&!s.has(_.index)&&(s.set(_.index,!0),o.push(_.index),c.push(t.columns[_.index]),r-=_.wrappedWidth)});for(var f=!0,p=(i=e==null?void 0:e.start)!==null&&i!==void 0?i:0;p<t.columns.length;){if(s.has(p)){p++;continue}var y=t.columns[p].wrappedWidth;if(f||r>=y)f=!1,o.push(p),c.push(t.columns[p]),r-=y;else break;p++}return{colIndexes:o,columns:c,lastIndex:p-1}}function jU(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=OU(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function t6(n,t){var e=t.settings,i=e.startY,r=e.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=i+r.bottom+o;if(e.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(b,_){return b+_.height},0);c+=f}var p=new Xf(n);(e.pageBreak==="always"||e.startY!=null&&c>p.pageSize().height)&&(n6(p),s.y=r.top),t.callWillDrawPageHooks(p,s);var y=vc({},s);t.startPageNumber=p.pageNumber(),e.horizontalPageBreak?FU(p,t,y,s):(p.applyStyles(p.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(b){return Cc(p,t,b,s,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(b,_){var E=_===t.body.length-1;z0(p,t,b,E,y,s,t.columns)}),p.applyStyles(p.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(b){return Cc(p,t,b,s,t.columns)})),GI(p,t,y,s),t.callEndPageHooks(p,s),t.finalY=s.y,n.lastAutoTable=t,p.applyStyles(p.userStyles)}function FU(n,t,e,i){var r=jU(n,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?Dp(n,t,e,i,f.columns,!0):KT(n,t,i,f.columns),VU(n,t,e,i,f.columns),Vv(n,t,i,f.columns)});else for(var o=-1,c=r[0],u=function(){var f=o;if(c){n.applyStyles(n.userStyles);var p=c.columns;o>=0?Dp(n,t,e,i,p,!0):KT(n,t,i,p),f=XT(n,t,o+1,i,p),Vv(n,t,i,p)}var y=f-o;r.slice(1).forEach(function(b){n.applyStyles(n.userStyles),Dp(n,t,e,i,b.columns,!0),XT(n,t,o+1,i,b.columns,y),Vv(n,t,i,b.columns)}),o=f};o<t.body.length-1;)u()}function KT(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return Cc(n,t,s,e,i)})}function VU(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(s,o){var c=o===t.body.length-1;z0(n,t,s,c,e,i,r)})}function XT(n,t,e,i,r,s){n.applyStyles(n.userStyles),s=s??t.body.length;var o=Math.min(e+s,t.body.length),c=-1;return t.body.slice(e,o).forEach(function(u,f){var p=e+f===t.body.length-1,y=e6(n,t,p,i);u.canEntireRowFit(y,r)&&(Cc(n,t,u,i,r),c=e+f)}),c}function Vv(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return Cc(n,t,s,e,i)})}function BU(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function UU(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,c=e.columns;o<c.length;o++){var u=c[o],f=n.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new JI(f.raw,f.styles,f.section);p=vc(p,f),p.text=[];var y=BU(f,t,i);f.text.length>y&&(p.text=f.text.splice(y,f.text.length));var b=i.scaleFactor(),_=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,_),f.contentHeight>=t&&(f.contentHeight=t,p.styles.minCellHeight-=t),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(b,_),p.contentHeight>s&&(s=p.contentHeight),r[u.index]=p}}var E=new QI(n.raw,-1,n.section,r,!0);E.height=s;for(var N=0,C=e.columns;N<C.length;N++){var u=C[N],p=E.cells[u.index];p&&(p.height=E.height);var f=n.cells[u.index];f&&(f.height=n.height)}return E}function zU(n,t,e,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,c=r-o;t.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=t.getMinimumRowHeight(i.columns,n),f=u<e;if(u>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=t.hasRowSpan(i.columns),y=t.getMaxCellHeight(i.columns)>c;return y?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function z0(n,t,e,i,r,s,o){var c=e6(n,t,i,s);if(e.canEntireRowFit(c,o))Cc(n,t,e,s,o);else if(zU(n,e,c,t)){var u=UU(e,c,t,n);Cc(n,t,e,s,o),Dp(n,t,r,s,o),z0(n,t,u,i,r,s,o)}else Dp(n,t,r,s,o),z0(n,t,e,i,r,s,o)}function Cc(n,t,e,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(!u){i.x+=c.width;continue}n.applyStyles(u.styles),u.x=i.x,u.y=i.y;var f=t.callCellHooks(n,t.hooks.willDrawCell,u,e,c,i);if(f===!1){i.x+=c.width;continue}qU(n,u,i);var p=u.getTextPos();zI(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,u,e,c,i),i.x+=c.width}i.y+=e.height}function qU(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=WI(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),HU(n,t,e,i.lineWidth))}function HU(n,t,e,i){var r,s,o,c;i.top&&(r=e.x,s=e.y,o=e.x+t.width,c=e.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.top,r,s,o,c)),i.bottom&&(r=e.x,s=e.y+t.height,o=e.x+t.width,c=e.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.bottom,r,s,o,c)),i.left&&(r=e.x,s=e.y,o=e.x,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.left,r,s,o,c)),i.right&&(r=e.x+t.width,s=e.y,o=e.x+t.width,c=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(c+=.5*i.bottom),u(i.right,r,s,o,c));function u(f,p,y,b,_){n.getDocument().setLineWidth(f),n.getDocument().line(p,y,b,_,"S")}}function e6(n,t,e,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function Dp(n,t,e,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(c){return Cc(n,t,c,i,r)}),t.callEndPageHooks(n,i);var o=t.settings.margin;GI(n,t,e,i),n6(n),t.pageNumber++,i.x=o.left,i.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return Cc(n,t,c,i,r)}),n.applyStyles(n.userStyles))}function n6(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function GU(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=XI(this,i),s=ZI(this,r);return t6(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){zI(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return Xf.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Xf.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Xf(this),s=KI(r,t,window,e,!1),o=s.head,c=s.body,u=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var Bv;function QT(n,t){var e=XI(n,t),i=ZI(n,e);t6(n,i)}try{if(typeof window<"u"&&window){var JT=window,ZT=JT.jsPDF||((Bv=JT.jspdf)===null||Bv===void 0?void 0:Bv.jsPDF);ZT&&GU(ZT)}}catch(n){console.error("Could not apply autoTable plugin",n)}const WU=async(n,t={})=>{if(!n){alert("No hay datos calculados para generar el PDF.");return}const{config:e,clientes:i,mariella:r,customization:s}=n,o=new ke({orientation:"p",unit:"mm",format:"a4"}),c=jb(e.locale,e.moneda);let u=15;const f=o.internal.pageSize.width,p=15;if(s.logo)try{o.addImage(s.logo,"PNG",p,u-5,25,25)}catch(I){console.error("Error al aadir el logo:",I)}o.setFontSize(18),o.setFont("helvetica","bold");const y=s.headerText||"LIQUIDACIN DE SERVICIO DE COMIDAS";o.text(y,f/2,u+5,{align:"center"}),u+=20,o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Facturador: ${e.nombreMariella}`,p,u),u+=7,o.text(`Mes del Servicio: ${e.mesServicio}`,p,u),u+=15;const b=[["#","Nombre del Cliente","Comidas","Valor a Pagar"]],_=i.map((I,M)=>[M+1,I.name,I.comidas,c.format(I.ingresoBrutoCliente)]);QT(o,{head:b,body:_,startY:u,theme:"grid",headStyles:{fillColor:[102,126,234]},didDrawPage:function(I){u=I.cursor.y}});const E=[["Concepto","Valor Aplicado","Monto Deducido"]],N=r.deducciones.map(I=>[I.name,I.displayValue,`- ${c.format(I.montoCalculado)}`]);if(QT(o,{head:E,body:N,startY:u+10,theme:"striped",didDrawPage:function(I){u=I.cursor.y}}),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(`SALDO FINAL A RECIBIR: ${c.format(r.saldoFinalNeto)}`,p,u+10),t.doughnut||t.pie||t.bar){o.addPage();let I=15;if(o.setFontSize(16),o.text("Resumen Grfico",f/2,I,{align:"center"}),I+=10,t.doughnut)try{o.addImage(t.doughnut,"PNG",p,I,80,80)}catch(M){console.error("Error aadiendo grfico doughnut:",M)}if(t.pie)try{o.addImage(t.pie,"PNG",f-80-p,I,80,80)}catch(M){console.error("Error aadiendo grfico pie:",M)}if(I+=90,t.bar)try{o.addImage(t.bar,"PNG",p,I,f-p*2,80)}catch(M){console.error("Error aadiendo grfico bar:",M)}}const C=o.internal.getNumberOfPages();for(let I=1;I<=C;I++)o.setPage(I),s.footerText&&(o.setFontSize(8),o.text(s.footerText,f/2,o.internal.pageSize.height-10,{align:"center"}));if(o.setPage(C),s.signature)try{o.addImage(s.signature,"PNG",150,250,50,25)}catch(I){console.error("Error aadiendo firma:",I)}try{const I=o.output("blob"),M=Date.now(),$=Br.currentUser.uid,nt=M7(SF,`settlements/${$}/${M}-${e.mesServicio}.pdf`),et=await k7(nt,I),pt=await D7(et.ref),q={timestamp:new Date().toLocaleString("es-CO"),status:"Pendiente",summary:{mesServicio:e.mesServicio,nombreMariella:e.nombreMariella,saldoFinalNeto:r.saldoFinalNeto,totalIngresoBruto:r.totalIngresoBruto,moneda:e.moneda,locale:e.locale},pdfDownloadURL:pt,storagePath:et.metadata.fullPath,comprobantePago:null};await xV(q),console.log("Liquidacin guardada y PDF subido a Storage.")}catch(I){console.error("Error en el proceso de guardado y subida:",I),alert("Hubo un error al guardar el reporte.")}o.save(`liquidacion-${e.nombreMariella}-${e.mesServicio}.pdf`),AV({totalPayment:r.saldoFinalNeto,mesServicio:e.mesServicio,nombreMariella:e.nombreMariella})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wg(n){return n+.5|0}const Nu=(n,t,e)=>Math.max(Math.min(n,e),t);function vp(n){return Nu(wg(n*2.55),0,255)}function ku(n){return Nu(wg(n*255),0,255)}function pc(n){return Nu(wg(n/2.55)/100,0,1)}function tx(n){return Nu(wg(n*100),0,100)}const $a={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q2=[..."0123456789ABCDEF"],$U=n=>Q2[n&15],YU=n=>Q2[(n&240)>>4]+Q2[n&15],Dm=n=>(n&240)>>4===(n&15),KU=n=>Dm(n.r)&&Dm(n.g)&&Dm(n.b)&&Dm(n.a);function XU(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&$a[n[1]]*17,g:255&$a[n[2]]*17,b:255&$a[n[3]]*17,a:t===5?$a[n[4]]*17:255}:(t===7||t===9)&&(e={r:$a[n[1]]<<4|$a[n[2]],g:$a[n[3]]<<4|$a[n[4]],b:$a[n[5]]<<4|$a[n[6]],a:t===9?$a[n[7]]<<4|$a[n[8]]:255})),e}const QU=(n,t)=>n<255?t(n):"";function JU(n){var t=KU(n)?$U:YU;return n?"#"+t(n.r)+t(n.g)+t(n.b)+QU(n.a,t):void 0}const ZU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i6(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function tz(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function ez(n,t,e){const i=i6(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function nz(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Ub(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),c=(s+o)/2;let u,f,p;return s!==o&&(p=s-o,f=c>.5?p/(2-s-o):p/(s+o),u=nz(e,i,r,p,s),u=u*60+.5),[u|0,f||0,c]}function zb(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ku)}function qb(n,t,e){return zb(i6,n,t,e)}function iz(n,t,e){return zb(ez,n,t,e)}function rz(n,t,e){return zb(tz,n,t,e)}function r6(n){return(n%360+360)%360}function sz(n){const t=ZU.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?vp(+t[5]):ku(+t[5]));const r=r6(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=iz(r,s,o):t[1]==="hsv"?i=rz(r,s,o):i=qb(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function az(n,t){var e=Ub(n);e[0]=r6(e[0]+t),e=qb(e),n.r=e[0],n.g=e[1],n.b=e[2]}function oz(n){if(!n)return;const t=Ub(n),e=t[0],i=tx(t[1]),r=tx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${pc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lz(){const n={},t=Object.keys(nx),e=Object.keys(ex);let i,r,s,o,c;for(i=0;i<t.length;i++){for(o=c=t[i],r=0;r<e.length;r++)s=e[r],c=c.replace(s,ex[s]);s=parseInt(nx[o],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let Mm;function cz(n){Mm||(Mm=lz(),Mm.transparent=[0,0,0,0]);const t=Mm[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const uz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hz(n){const t=uz.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?vp(o):Nu(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?vp(i):Nu(i,0,255)),r=255&(t[4]?vp(r):Nu(r,0,255)),s=255&(t[6]?vp(s):Nu(s,0,255)),{r:i,g:r,b:s,a:e}}}function fz(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${pc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Uv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Cf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function dz(n,t,e){const i=Cf(pc(n.r)),r=Cf(pc(n.g)),s=Cf(pc(n.b));return{r:ku(Uv(i+e*(Cf(pc(t.r))-i))),g:ku(Uv(r+e*(Cf(pc(t.g))-r))),b:ku(Uv(s+e*(Cf(pc(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Om(n,t,e){if(n){let i=Ub(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=qb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function s6(n,t){return n&&Object.assign(t||{},n)}function ix(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ku(n[3]))):(t=s6(n,{r:0,g:0,b:0,a:1}),t.a=ku(t.a)),t}function pz(n){return n.charAt(0)==="r"?hz(n):sz(n)}class Zp{constructor(t){if(t instanceof Zp)return t;const e=typeof t;let i;e==="object"?i=ix(t):e==="string"&&(i=XU(t)||cz(t)||pz(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=s6(this._rgb);return t&&(t.a=pc(t.a)),t}set rgb(t){this._rgb=ix(t)}rgbString(){return this._valid?fz(this._rgb):void 0}hexString(){return this._valid?JU(this._rgb):void 0}hslString(){return this._valid?oz(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,c=2*o-1,u=i.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=dz(this._rgb,t._rgb,e)),this}clone(){return new Zp(this.rgb)}alpha(t){return this._rgb.a=ku(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=wg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Om(this._rgb,2,t),this}darken(t){return Om(this._rgb,2,-t),this}saturate(t){return Om(this._rgb,1,t),this}desaturate(t){return Om(this._rgb,1,-t),this}rotate(t){return az(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function uc(){}const gz=(()=>{let n=0;return()=>n++})();function Dn(n){return n==null}function nr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function fn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function gs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function gl(n,t){return gs(n)?n:t}function Qe(n,t){return typeof n>"u"?t:n}const mz=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,a6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function si(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Un(n,t,e,i){let r,s,o;if(nr(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(fn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function q0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function H0(n){if(nr(n))return n.map(H0);if(fn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=H0(n[e[r]]);return t}return n}function o6(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function yz(n,t,e,i){if(!o6(n))return;const r=t[n],s=e[n];fn(r)&&fn(s)?tg(r,s,i):t[n]=H0(s)}function tg(n,t,e){const i=nr(t)?t:[t],r=i.length;if(!fn(n))return n;e=e||{};const s=e.merger||yz;let o;for(let c=0;c<r;++c){if(o=i[c],!fn(o))continue;const u=Object.keys(o);for(let f=0,p=u.length;f<p;++f)s(u[f],n,o,e)}return n}function Mp(n,t){return tg(n,t,{merger:vz})}function vz(n,t,e){if(!o6(n))return;const i=t[n],r=e[n];fn(i)&&fn(r)?Mp(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=H0(r))}const rx={"":n=>n,x:n=>n.x,y:n=>n.y};function _z(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function bz(n){const t=_z(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function zh(n,t){return(rx[t]||(rx[t]=bz(t)))(n)}function Hb(n){return n.charAt(0).toUpperCase()+n.slice(1)}const eg=n=>typeof n<"u",$u=n=>typeof n=="function",sx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function wz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const zn=Math.PI,bi=2*zn,Sz=bi+zn,G0=Number.POSITIVE_INFINITY,Az=zn/180,hr=zn/2,_h=zn/4,ax=zn*2/3,l6=Math.log10,Nl=Math.sign;function Op(n,t,e){return Math.abs(n-t)<e}function ox(n){const t=Math.round(n);n=Op(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(l6(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Tz(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function xz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ng(n){return!xz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Ez(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Nz(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function _c(n){return n*(zn/180)}function Iz(n){return n*(180/zn)}function lx(n){if(!gs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function c6(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*zn&&(s+=bi),{angle:s,distance:r}}function J2(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Cz(n,t){return(n-t+Sz)%bi-zn}function va(n){return(n%bi+bi)%bi}function ig(n,t,e,i){const r=va(n),s=va(t),o=va(e),c=va(s-r),u=va(o-r),f=va(r-s),p=va(r-o);return r===s||r===o||i&&s===o||c>u&&f<p}function us(n,t,e){return Math.max(t,Math.min(e,n))}function Rz(n){return us(n,-32768,32767)}function bc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Gb(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Rh=(n,t,e,i)=>Gb(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),Lz=(n,t,e)=>Gb(n,e,i=>n[i][t]>=e);function Pz(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const u6=["push","pop","shift","splice","unshift"];function kz(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),u6.forEach(e=>{const i="_onData"+Hb(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function cx(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(u6.forEach(s=>{delete n[s]}),delete n._chartjs)}function h6(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const f6=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function d6(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,f6.call(window,()=>{i=!1,n.apply(t,e)}))}}function Dz(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Wb=n=>n==="start"?"left":n==="end"?"right":"center",ss=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Mz=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Oz(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:u}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=o.axis,{min:y,max:b,minDefined:_,maxDefined:E}=o.getUserBounds();if(_){if(r=Math.min(Rh(u,p,y).lo,e?i:Rh(t,p,o.getPixelForValue(y)).lo),f){const N=u.slice(0,r+1).reverse().findIndex(C=>!Dn(C[c.axis]));r-=Math.max(0,N)}r=us(r,0,i-1)}if(E){let N=Math.max(Rh(u,o.axis,b,!0).hi+1,e?0:Rh(t,p,o.getPixelForValue(b),!0).hi+1);if(f){const C=u.slice(N-1).findIndex(I=>!Dn(I[c.axis]));N+=Math.max(0,C)}s=us(N,r,i)-r}else s=i-r}return{start:r,count:s}}function jz(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const jm=n=>n===0||n===1,ux=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*bi/e)),hx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*bi/e)+1,jp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*hr)+1,easeOutSine:n=>Math.sin(n*hr),easeInOutSine:n=>-.5*(Math.cos(zn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>jm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>jm(n)?n:ux(n,.075,.3),easeOutElastic:n=>jm(n)?n:hx(n,.075,.3),easeInOutElastic(n){return jm(n)?n:n<.5?.5*ux(n*2,.1125,.45):.5+.5*hx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-jp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jp.easeInBounce(n*2)*.5:jp.easeOutBounce(n*2-1)*.5+.5};function $b(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fx(n){return $b(n)?n:new Zp(n)}function zv(n){return $b(n)?n:new Zp(n).saturate(.5).darken(.1).hexString()}const Fz=["x","y","borderWidth","radius","tension"],Vz=["color","borderColor","backgroundColor"];function Bz(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Vz},numbers:{type:"number",properties:Fz}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Uz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dx=new Map;function zz(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dx.get(e);return i||(i=new Intl.NumberFormat(n,t),dx.set(e,i)),i}function Yb(n,t,e){return zz(t,e).format(n)}const qz={values(n){return nr(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=Hz(n,e)}const o=l6(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Yb(n,i,u)}};function Hz(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var p6={formatters:qz};function Gz(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:p6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qh=Object.create(null),Z2=Object.create(null);function Fp(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function qv(n,t,e){return typeof t=="string"?tg(Fp(n,t),e):tg(Fp(n,""),t)}class Wz{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>zv(r.backgroundColor),this.hoverBorderColor=(i,r)=>zv(r.borderColor),this.hoverColor=(i,r)=>zv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return qv(this,t,e)}get(t){return Fp(this,t)}describe(t,e){return qv(Z2,t,e)}override(t,e){return qv(qh,t,e)}route(t,e,i,r){const s=Fp(this,t),o=Fp(this,i),c="_"+e;Object.defineProperties(s,{[c]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],f=o[r];return fn(u)?Object.assign({},f,u):Qe(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var $i=new Wz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bz,Uz,Gz]);function $z(n){return!n||Dn(n.size)||Dn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function px(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function bh(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gx(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function t_(n,t,e,i){g6(n,t,e,i,null)}function g6(n,t,e,i,r){let s,o,c,u,f,p,y,b;const _=t.pointStyle,E=t.rotation,N=t.radius;let C=(E||0)*Az;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),_){default:r?n.ellipse(e,i,r/2,N,0,0,bi):n.arc(e,i,N,0,bi),n.closePath();break;case"triangle":p=r?r/2:N,n.moveTo(e+Math.sin(C)*p,i-Math.cos(C)*N),C+=ax,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*N),C+=ax,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*N),n.closePath();break;case"rectRounded":f=N*.516,u=N-f,o=Math.cos(C+_h)*u,y=Math.cos(C+_h)*(r?r/2-f:u),c=Math.sin(C+_h)*u,b=Math.sin(C+_h)*(r?r/2-f:u),n.arc(e-y,i-c,f,C-zn,C-hr),n.arc(e+b,i-o,f,C-hr,C),n.arc(e+y,i+c,f,C,C+hr),n.arc(e-b,i+o,f,C+hr,C+zn),n.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*N,p=r?r/2:u,n.rect(e-p,i-u,2*p,2*u);break}C+=_h;case"rectRot":y=Math.cos(C)*(r?r/2:N),o=Math.cos(C)*N,c=Math.sin(C)*N,b=Math.sin(C)*(r?r/2:N),n.moveTo(e-y,i-c),n.lineTo(e+b,i-o),n.lineTo(e+y,i+c),n.lineTo(e-b,i+o),n.closePath();break;case"crossRot":C+=_h;case"cross":y=Math.cos(C)*(r?r/2:N),o=Math.cos(C)*N,c=Math.sin(C)*N,b=Math.sin(C)*(r?r/2:N),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"star":y=Math.cos(C)*(r?r/2:N),o=Math.cos(C)*N,c=Math.sin(C)*N,b=Math.sin(C)*(r?r/2:N),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o),C+=_h,y=Math.cos(C)*(r?r/2:N),o=Math.cos(C)*N,c=Math.sin(C)*N,b=Math.sin(C)*(r?r/2:N),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"line":o=r?r/2:Math.cos(C)*N,c=Math.sin(C)*N,n.moveTo(e-o,i-c),n.lineTo(e+o,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:N),i+Math.sin(C)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function rg(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function O1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function j1(n){n.restore()}function Yz(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Kz(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Xz(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Dn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function Qz(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,c=t+s.actualBoundingBoxRight,u=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,p=r.strikethrough?(u+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(c,p),n.stroke()}}function Jz(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function sg(n,t,e,i,r,s={}){const o=nr(t)?t:[t],c=s.strokeWidth>0&&s.strokeColor!=="";let u,f;for(n.save(),n.font=r.string,Xz(n,s),u=0;u<o.length;++u)f=o[u],s.backdrop&&Jz(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Dn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,e,i,s.maxWidth)),n.fillText(f,e,i,s.maxWidth),Qz(n,e,i,f,s),i+=Number(r.lineHeight);n.restore()}function W0(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*zn,zn,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,zn,hr,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,hr,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-hr,!0),n.lineTo(e+o.topLeft,i)}const Zz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eq(n,t){const e=(""+n).match(Zz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const nq=n=>+n||0;function Kb(n,t){const e={},i=fn(t),r=i?Object.keys(t):t,s=fn(n)?i?o=>Qe(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=nq(s(o));return e}function m6(n){return Kb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Qf(n){return Kb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qa(n){const t=m6(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hs(n,t){n=n||{},t=t||$i.font;let e=Qe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qe(n.style,t.style);i&&!(""+i).match(tq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qe(n.family,t.family),lineHeight:eq(Qe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qe(n.weight,t.weight),string:""};return r.string=$z(r),r}function Fm(n,t,e,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function iq(n,t,e){const{min:i,max:r}=n,s=a6(t,(r-i)/2),o=(c,u)=>e&&c===0?0:c+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Xh(n,t){return Object.assign(Object.create(n),t)}function Xb(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=b6("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>Xb([c,...n],t,s,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return v6(c,u,()=>hq(u,t,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return yx(c).includes(u)},ownKeys(c){return yx(c)},set(c,u,f){const p=c._storage||(c._storage=r());return c[u]=p[u]=f,delete c._keys,!0}})}function ld(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:y6(n,i),setContext:s=>ld(n,s,e,i),override:s=>ld(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,c){return v6(s,o,()=>sq(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,c){return n[o]=c,delete s[o],!0}})}function y6(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:$u(e)?e:()=>e,isIndexable:$u(i)?i:()=>i}}const rq=(n,t)=>n?n+Hb(t):t,Qb=(n,t)=>fn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function v6(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function sq(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[t];return $u(c)&&o.isScriptable(t)&&(c=aq(t,c,n,e)),nr(c)&&c.length&&(c=oq(t,c,n,o.isIndexable)),Qb(t,c)&&(c=ld(c,r,s&&s[t],o)),c}function aq(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(s,o||i);return c.delete(n),Qb(n,u)&&(u=Jb(r._scopes,r,n,u)),u}function oq(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(fn(t[0])){const u=t,f=r._scopes.filter(p=>p!==u);t=[];for(const p of u){const y=Jb(f,r,n,p);t.push(ld(y,s,o&&o[n],c))}}return t}function _6(n,t,e){return $u(n)?n(t,e):n}const lq=(n,t)=>n===!0?t:typeof n=="string"?zh(t,n):void 0;function cq(n,t,e,i,r){for(const s of t){const o=lq(e,s);if(o){n.add(o);const c=_6(o._fallback,e,r);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Jb(n,t,e,i){const r=t._rootScopes,s=_6(t._fallback,e,i),o=[...n,...r],c=new Set;c.add(i);let u=mx(c,o,e,s||e,i);return u===null||typeof s<"u"&&s!==e&&(u=mx(c,o,s,u,i),u===null)?!1:Xb(Array.from(c),[""],r,s,()=>uq(t,e,i))}function mx(n,t,e,i,r){for(;e;)e=cq(n,t,e,i,r);return e}function uq(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return nr(r)&&fn(e)?e:r||{}}function hq(n,t,e,i){let r;for(const s of t)if(r=b6(rq(s,n),e),typeof r<"u")return Qb(n,r)?Jb(e,i,n,r):r}function b6(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function yx(n){let t=n._keys;return t||(t=n._keys=fq(n._scopes)),t}function fq(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const dq=Number.EPSILON||1e-14,cd=(n,t)=>t<n.length&&!n[t].skip&&n[t],w6=n=>n==="x"?"y":"x";function pq(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,c=J2(s,r),u=J2(o,s);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,b=i*p;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+b*(o.x-r.x),y:s.y+b*(o.y-r.y)}}}function gq(n,t,e){const i=n.length;let r,s,o,c,u,f=cd(n,0);for(let p=0;p<i-1;++p)if(u=f,f=cd(n,p+1),!(!u||!f)){if(Op(t[p],0,dq)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),e[p]=r*o*t[p],e[p+1]=s*o*t[p])}}function mq(n,t,e="x"){const i=w6(e),r=n.length;let s,o,c,u=cd(n,0);for(let f=0;f<r;++f){if(o=c,c=u,u=cd(n,f+1),!c)continue;const p=c[e],y=c[i];o&&(s=(p-o[e])/3,c[`cp1${e}`]=p-s,c[`cp1${i}`]=y-s*t[f]),u&&(s=(u[e]-p)/3,c[`cp2${e}`]=p+s,c[`cp2${i}`]=y+s*t[f])}}function yq(n,t="x"){const e=w6(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,u,f=cd(n,0);for(o=0;o<i;++o)if(c=u,u=f,f=cd(n,o+1),!!u){if(f){const p=f[t]-u[t];r[o]=p!==0?(f[e]-u[e])/p:0}s[o]=c?f?Nl(r[o-1])!==Nl(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}gq(n,r,s),mq(n,s,t)}function Vm(n,t,e){return Math.max(Math.min(n,e),t)}function vq(n,t){let e,i,r,s,o,c=rg(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=c,c=e<i-1&&rg(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=Vm(r.cp1x,t.left,t.right),r.cp1y=Vm(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Vm(r.cp2x,t.left,t.right),r.cp2y=Vm(r.cp2y,t.top,t.bottom)))}function _q(n,t,e,i,r){let s,o,c,u;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")yq(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],u=pq(f,c,n[Math.min(s+1,o-(i?0:1))%o],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&vq(n,e)}function Zb(){return typeof window<"u"&&typeof document<"u"}function t5(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $0(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const F1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function bq(n,t){return F1(n).getPropertyValue(t)}const wq=["top","right","bottom","left"];function Dh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=wq[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Sq=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Aq(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,c,u;if(Sq(r,s,n.target))c=r,u=s;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:c,y:u,box:o}}function Th(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=F1(e),s=r.boxSizing==="border-box",o=Dh(r,"padding"),c=Dh(r,"border","width"),{x:u,y:f,box:p}=Aq(n,e),y=o.left+(p&&c.left),b=o.top+(p&&c.top);let{width:_,height:E}=t;return s&&(_-=o.width+c.width,E-=o.height+c.height),{x:Math.round((u-y)/_*e.width/i),y:Math.round((f-b)/E*e.height/i)}}function Tq(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&t5(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),c=F1(s),u=Dh(c,"border","width"),f=Dh(c,"padding");t=o.width-f.width-u.width,e=o.height-f.height-u.height,i=$0(c.maxWidth,s,"clientWidth"),r=$0(c.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||G0,maxHeight:r||G0}}const Bm=n=>Math.round(n*10)/10;function xq(n,t,e,i){const r=F1(n),s=Dh(r,"margin"),o=$0(r.maxWidth,n,"clientWidth")||G0,c=$0(r.maxHeight,n,"clientHeight")||G0,u=Tq(n,t,e);let{width:f,height:p}=u;if(r.boxSizing==="content-box"){const b=Dh(r,"border","width"),_=Dh(r,"padding");f-=_.width+b.width,p-=_.height+b.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=Bm(Math.min(f,o,u.maxWidth)),p=Bm(Math.min(p,c,u.maxHeight)),f&&!p&&(p=Bm(f/2)),(t!==void 0||e!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,f=Bm(Math.floor(p*i))),{width:f,height:p}}function vx(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Eq=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Zb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function _x(n,t){const e=bq(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function xh(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Nq(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Iq(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=xh(n,r,e),c=xh(r,s,e),u=xh(s,t,e),f=xh(o,c,e),p=xh(c,u,e);return xh(f,p,e)}const Cq=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Rq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Jf(n,t,e){return n?Cq(t,e):Rq()}function S6(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function A6(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function T6(n){return n==="angle"?{between:ig,compare:Cz,normalize:va}:{between:bc,compare:(t,e)=>t-e,normalize:t=>t}}function bx({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Lq(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:c}=T6(i),u=t.length;let{start:f,end:p,loop:y}=n,b,_;if(y){for(f+=u,p+=u,b=0,_=u;b<_&&o(c(t[f%u][i]),r,s);++b)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:y,style:n.style}}function x6(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:c,between:u,normalize:f}=T6(i),{start:p,end:y,loop:b,style:_}=Lq(n,t,e),E=[];let N=!1,C=null,I,M,$;const nt=()=>u(r,$,I)&&c(r,$)!==0,et=()=>c(s,I)===0||u(s,$,I),pt=()=>N||nt(),q=()=>!N||et();for(let P=p,F=p;P<=y;++P)M=t[P%o],!M.skip&&(I=f(M[i]),I!==$&&(N=u(I,r,s),C===null&&pt()&&(C=c(I,r)===0?P:F),C!==null&&q()&&(E.push(bx({start:C,end:P,loop:b,count:o,style:_})),C=null),F=P,$=I));return C!==null&&E.push(bx({start:C,end:y,loop:b,count:o,style:_})),E}function E6(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=x6(i[r],n.points,t);s.length&&e.push(...s)}return e}function Pq(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function kq(n,t,e,i){const r=n.length,s=[];let o=t,c=n[t],u;for(u=t+1;u<=e;++u){const f=n[u%r];f.skip||f.stop?c.skip||(i=!1,s.push({start:t%r,end:(u-1)%r,loop:i}),t=o=f.stop?u:null):(o=u,c.skip&&(t=u)),c=f}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function Dq(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=Pq(e,r,s,i);if(i===!0)return wx(n,[{start:o,end:c,loop:s}],e,t);const u=c<o?c+r:c,f=!!n._fullLoop&&o===0&&c===r-1;return wx(n,kq(e,o,u,f),e,t)}function wx(n,t,e,i){return!i||!i.setContext||!e?t:Mq(n,t,e,i)}function Mq(n,t,e,i){const r=n._chart.getContext(),s=Sx(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,u=e.length,f=[];let p=s,y=t[0].start,b=y;function _(E,N,C,I){const M=c?-1:1;if(E!==N){for(E+=u;e[E%u].skip;)E-=M;for(;e[N%u].skip;)N+=M;E%u!==N%u&&(f.push({start:E%u,end:N%u,loop:C,style:I}),p=I,y=N%u)}}for(const E of t){y=c?y:E.start;let N=e[y%u],C;for(b=y+1;b<=E.end;b++){const I=e[b%u];C=Sx(i.setContext(Xh(r,{type:"segment",p0:N,p1:I,p0DataIndex:(b-1)%u,p1DataIndex:b%u,datasetIndex:o}))),Oq(C,p)&&_(y,b-1,E.loop,p),N=I,p=C}y<b-1&&_(y,b-1,E.loop,p)}return f}function Sx(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Oq(n,t){if(!t)return!1;const e=[],i=function(r,s){return $b(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Um(n,t,e){return n.options.clip?n[e]:t[e]}function jq(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Um(e,t,"left"),right:Um(e,t,"right"),top:Um(i,t,"top"),bottom:Um(i,t,"bottom")}:t}function N6(n,t){const e=t._clip;if(e.disabled)return!1;const i=jq(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Fq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],o=e.duration;s.forEach(c=>c({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=f6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var hc=new Fq;const Ax="transparent",Vq={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=fx(n||Ax),r=i.valid&&fx(t||Ax);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Bq{constructor(t,e,i,r){const s=e[i];r=Fm([t.to,r,s,t.from]);const o=Fm([t.from,s,r]);this._active=!0,this._fn=t.fn||Vq[t.type||typeof o],this._easing=jp[t.easing]||jp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Fm([t.to,e,r,t.from]),this._from=Fm([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||e<i),!this._active){this._target[r]=c,this._notify(!0);return}if(e<0){this._target[r]=s;return}u=e/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class I6{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!fn(t))return;const e=Object.keys($i.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!fn(s))return;const o={};for(const c of e)o[c]=s[c];(nr(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(t,e){const i=e.options,r=zq(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Uq(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=s[f];const b=i.get(f);if(y)if(b&&y.active()){y.update(b,p,c);continue}else y.cancel();if(!b||!b.duration){t[f]=p;continue}s[f]=y=new Bq(b,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return hc.add(this._chart,i),!0}}function Uq(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function zq(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Tx(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function qq(n,t,e){if(e===!1)return!1;const i=Tx(n,e),r=Tx(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Hq(n){let t,e,i,r;return fn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function C6(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function xx(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let o,c,u,f;if(t===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===e){if(p=!0,i.all)continue;break}f=n.values[u],gs(f)&&(s||t===0||Nl(t)===Nl(f))&&(t+=f)}return!p&&!i.all?0:t}function Gq(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let u,f,p;for(u=0,f=o.length;u<f;++u)p=o[u],c[u]={[r]:p,[s]:n[p]};return c}function Hv(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Wq(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function $q(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Yq(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Ex(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function Nx(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:c}=i,u=s.axis,f=o.axis,p=Wq(s,o,i),y=t.length;let b;for(let _=0;_<y;++_){const E=t[_],{[u]:N,[f]:C}=E,I=E._stacks||(E._stacks={});b=I[f]=Yq(r,p,N),b[c]=C,b._top=Ex(b,o,!0,i.type),b._bottom=Ex(b,o,!1,i.type);const M=b._visualValues||(b._visualValues={});M[c]=C}}function Gv(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Kq(n,t){return Xh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Xq(n,t,e){return Xh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function op(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const Wv=n=>n==="reset"||n==="none",Ix=(n,t)=>t?n:Object.assign({},n),Qq=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:C6(e,!0),values:null};class Mh{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&op(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,b,_,E)=>y==="x"?b:y==="r"?E:_,s=e.xAxisID=Qe(i.xAxisID,Gv(t,"x")),o=e.yAxisID=Qe(i.yAxisID,Gv(t,"y")),c=e.rAxisID=Qe(i.rAxisID,Gv(t,"r")),u=e.indexAxis,f=e.iAxisID=r(u,s,o,c),p=e.vAxisID=r(u,o,s,c);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cx(this._data,this),t._stacked&&op(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(fn(e)){const r=this._cachedMeta;this._data=Gq(e,r)}else if(i!==e){if(i){cx(i,this);const r=this._cachedMeta;op(r),r._parsed=[]}e&&Object.isExtensible(e)&&kz(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=Hv(e.vScale,e),e.stack!==i.stack&&(r=!0,op(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(Nx(this,e._parsed),e._stacked=Hv(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let u=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{nr(r[t])?b=this.parseArrayData(i,r,t,e):fn(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const _=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<e;++p)i._parsed[p+t]=y=b[p],u&&(_()&&(u=!1),f=y);i._sorted=u}o&&Nx(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:o}=t,c=s.axis,u=o.axis,f=s.getLabels(),p=s===o,y=new Array(r);let b,_,E;for(b=0,_=r;b<_;++b)E=b+i,y[b]={[c]:p||s.parse(f[E],E),[u]:o.parse(e[E],E)};return y}parseArrayData(t,e,i,r){const{xScale:s,yScale:o}=t,c=new Array(r);let u,f,p,y;for(u=0,f=r;u<f;++u)p=u+i,y=e[p],c[u]={x:s.parse(y[0],p),y:o.parse(y[1],p)};return c}parseObjectData(t,e,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let p,y,b,_;for(p=0,y=r;p<y;++p)b=p+i,_=e[b],f[p]={x:s.parse(zh(_,c),b),y:o.parse(zh(_,u),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,o=e[t.axis],c={keys:C6(r,!0),values:e._stacks[t.axis]._visualValues};return xx(c,o,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let o=s===null?NaN:s;const c=r&&i._stacks[e.axis];r&&c&&(r.values=c,o=xx(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,c=this._getOtherScale(t),u=Qq(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=$q(c);let b,_;function E(){_=r[b];const N=_[c.axis];return!gs(_[t.axis])||p>N||y<N}for(b=0;b<o&&!(!E()&&(this.updateRangeFromParsed(f,t,_,u),s));++b);if(s){for(b=o-1;b>=0;--b)if(!E()){this.updateRangeFromParsed(f,t,_,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r][t.axis],gs(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Hq(Qe(this.options.clip,qq(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,s,c,u),p=c;p<c+u;++p){const y=r[p];y.hidden||(y.active&&f?o.push(y):y.draw(t,s))}for(p=0;p<o.length;++p)o[p].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=Xq(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=Kq(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,o=t+"-"+e,c=s[o],u=this.enableOptionSharing&&eg(i);if(c)return Ix(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),p),_=Object.keys($i.elements[t]),E=()=>this.getContext(i,r,e),N=f.resolveNamedOptions(b,_,E,y);return N.$shared&&(N.$shared=u,s[o]=Object.freeze(Ix(N,u))),N}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),y);u=p.createResolver(b,this.getContext(t,i,e))}const f=new I6(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Wv(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:o}}updateElement(t,e,i,r){Wv(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Wv(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=i.length,s=e.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,o=t+e;let c;const u=f=>{for(f.length+=e,c=f.length-1;c>=o;c--)f[c]=f[c-e]};for(u(s),c=t;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&op(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(Mh,"defaults",{}),ye(Mh,"datasetElementType",null),ye(Mh,"dataElementType",null);function Jq(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=h6(i.sort((r,s)=>r-s))}return n._cache.$bar}function Zq(n){const t=n.iScale,e=Jq(t,n.type);let i=t._length,r,s,o,c;const u=()=>{o===32767||o===-32768||(eg(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),u();for(c=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),u();return i}function tH(n,t,e,i){const r=e.barThickness;let s,o;return Dn(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}function eH(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=e.categoryPercentage;o===null&&(o=s-(c===null?t.end-t.start:c-s)),c===null&&(c=s+s-o);const f=s-(s-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/i,ratio:e.barPercentage,start:f}}function nH(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let u=o,f=c;Math.abs(o)>Math.abs(c)&&(u=c,f=o),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:r,end:s,min:o,max:c}}function R6(n,t,e,i){return nr(n)?nH(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Cx(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,u=[];let f,p,y,b;for(f=e,p=e+i;f<p;++f)b=t[f],y={},y[r.axis]=c||r.parse(o[f],f),u.push(R6(b,y,s,f));return u}function $v(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function iH(n,t,e){return n!==0?Nl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function rH(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function sH(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:f,bottom:p}=rH(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(s[Rx(p,o,c,u)]=!0,r=f)),s[Rx(r,o,c,u)]=!0,n.borderSkipped=s}function Rx(n,t,e,i){return i?(n=aH(n,t,e),n=Lx(n,e,t)):n=Lx(n,t,e),n}function aH(n,t,e){return n===t?e:n===e?t:n}function Lx(n,t,e){return n==="start"?t:n==="end"?e:n}function oH(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class u0 extends Mh{parsePrimitiveData(t,e,i,r){return Cx(t,e,i,r)}parseArrayData(t,e,i,r){return Cx(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=s.axis==="x"?c:u,p=o.axis==="x"?c:u,y=[];let b,_,E,N;for(b=i,_=i+r;b<_;++b)N=e[b],E={},E[s.axis]=s.parse(zh(N,f),b),y.push(R6(zh(N,p),E,o,b));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),o=s._custom,c=$v(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r);for(let _=e;_<e+i;_++){const E=this.getParsed(_),N=s||Dn(E[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(_),C=this._calculateBarIndexPixels(_,p),I=(E._stacks||{})[c.axis],M={horizontal:f,base:N.base,enableBorderRadius:!I||$v(E._custom)||o===I._top||o===I._bottom,x:f?N.head:C.center,y:f?C.center:N.head,height:f?C.size:Math.abs(N.size),width:f?Math.abs(N.size):C.size};b&&(M.options=y||this.resolveDataElementOptions(_,t[_].active?"active":r));const $=M.options||t[_].options;sH(M,$,I,o),oH(M,$,p.ratio),this.updateElement(t[_],_,M,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[i.axis],f=p=>{const y=p._parsed.find(_=>_[i.axis]===u),b=y&&y[p.vScale.axis];if(Dn(b)||isNaN(b))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Qe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,o;for(s=0,o=e.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=t.barThickness;return{min:c||Zq(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,u=this.getParsed(t),f=u._custom,p=$v(f);let y=u[e.axis],b=0,_=i?this.applyStack(e,u,i):y,E,N;_!==y&&(b=_-y,_=y),p&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&Nl(y)!==Nl(f.barEnd)&&(b=0),b+=y);const C=!Dn(s)&&!p?s:b;let I=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?E=e.getPixelForValue(b+_):E=I,N=E-I,Math.abs(N)<o){N=iH(N,e,c)*o,y===c&&(I-=N/2);const M=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),nt=Math.min(M,$),et=Math.max(M,$);I=Math.max(Math.min(I,et),nt),E=I+N,i&&!p&&(u._stacks[e.axis]._visualValues[r]=e.getValueForPixel(E)-e.getValueForPixel(I))}if(I===e.getPixelForValue(c)){const M=Nl(N)*e.getLineWidthForValue(c)/2;I+=M,N-=M}return{size:N,base:I,head:E,center:E+N/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,o=Qe(r.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(e.grouped){const p=s?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?eH(t,e,r,p*f):tH(t,e,r,p*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Qe(b,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+_;c=y.start+y.chunk*E+y.chunk/2,u=Math.min(o,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(o,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ye(u0,"id","bar"),ye(u0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(u0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function lH(n,t,e){let i=1,r=1,s=0,o=0;if(t<bi){const c=n,u=c+t,f=Math.cos(c),p=Math.sin(c),y=Math.cos(u),b=Math.sin(u),_=($,nt,et)=>ig($,c,u,!0)?1:Math.max(nt,nt*e,et,et*e),E=($,nt,et)=>ig($,c,u,!0)?-1:Math.min(nt,nt*e,et,et*e),N=_(0,f,y),C=_(hr,p,b),I=E(zn,f,y),M=E(zn+hr,p,b);i=(N-I)/2,r=(C-M)/2,s=-(N+I)/2,o=-(C+M)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Vf extends Mh{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(fn(i[t])){const{key:u="value"}=this._parsing;s=f=>+zh(i[f],u)}let o,c;for(o=t,c=t+e;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return _c(this.options.rotation-90)}_getCircumference(){return _c(this.options.circumference)}_getRotationExtents(){let t=bi,e=-bi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(mz(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:E,offsetY:N}=lH(y,p,u),C=(i.width-o)/b,I=(i.height-o)/_,M=Math.max(Math.min(C,I)/2,0),$=a6(this.options.radius,M),nt=Math.max($*u,0),et=($-nt)/this._getVisibleDatasetWeightTotal();this.offsetX=E*$,this.offsetY=N*$,r.total=this.calculateTotal(),this.outerRadius=$-et*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-et*f,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/bi)}updateElements(t,e,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,b=s&&f.animateScale,_=b?0:this.innerRadius,E=b?0:this.outerRadius,{sharedOptions:N,includeOptions:C}=this._getSharedOptions(e,r);let I=this._getRotation(),M;for(M=0;M<e;++M)I+=this._circumference(M,s);for(M=e;M<e+i;++M){const $=this._circumference(M,s),nt=t[M],et={x:p+this.offsetX,y:y+this.offsetY,startAngle:I,endAngle:I+$,circumference:$,outerRadius:E,innerRadius:_};C&&(et.options=N||this.resolveDataElementOptions(M,nt.active?"active":r)),I+=$,this.updateElement(nt,M,et,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?bi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Yb(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,o,c,u;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,c=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(Vf,"id","doughnut"),ye(Vf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(Vf,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ye(Vf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class h0 extends Mh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:c,count:u}=Oz(e,r,o);this._drawStart=c,this._drawCount=u,jz(e)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},t),this.updateElements(r,c,u,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),b=o.axis,_=c.axis,{spanGaps:E,segment:N}=this.options,C=ng(E)?E:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||s||r==="none",M=e+i,$=t.length;let nt=e>0&&this.getParsed(e-1);for(let et=0;et<$;++et){const pt=t[et],q=I?pt:{};if(et<e||et>=M){q.skip=!0;continue}const P=this.getParsed(et),F=Dn(P[_]),z=q[b]=o.getPixelForValue(P[b],et),L=q[_]=s||F?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,P,u):P[_],et);q.skip=isNaN(z)||isNaN(L)||F,q.stop=et>0&&Math.abs(P[b]-nt[b])>C,N&&(q.parsed=P,q.raw=f.data[et]),y&&(q.options=p||this.resolveDataElementOptions(et,pt.active?"active":r)),I||this.updateElement(pt,et,q,r),nt=P}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ye(h0,"id","line"),ye(h0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(h0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class e_ extends Vf{}ye(e_,"id","pie"),ye(e_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function wh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e5{constructor(t){ye(this,"options");this.options=t||{}}static override(t){Object.assign(e5.prototype,t)}init(){}formats(){return wh()}parse(){return wh()}format(){return wh()}add(){return wh()}diff(){return wh()}startOf(){return wh()}endOf(){return wh()}}var cH={_date:e5};function uH(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&o&&s.length){const f=c._reversePixels?Lz:Rh;if(i){if(r._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const b=f(s,t,e-y),_=f(s,t,e+y);return{lo:b.lo,hi:_.hi}}}}else{const p=f(s,t,e);if(u){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,_=b.slice(0,p.lo+1).reverse().findIndex(N=>!Dn(N[y.axis]));p.lo-=Math.max(0,_);const E=b.slice(p.hi).findIndex(N=>!Dn(N[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:s.length-1}}function V1(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let c=0,u=s.length;c<u;++c){const{index:f,data:p}=s[c],{lo:y,hi:b}=uH(s[c],t,o,r);for(let _=y;_<=b;++_){const E=p[_];E.skip||i(E,f,_)}}}function hH(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Yv(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||V1(n,e,t,function(c,u,f){!r&&!rg(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&s.push({element:c,datasetIndex:u,index:f})},!0),s}function fH(n,t,e,i){let r=[];function s(o,c,u){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:y}=c6(o,{x:t.x,y:t.y});ig(y,f,p)&&r.push({element:o,datasetIndex:c,index:u})}return V1(n,e,t,s),r}function dH(n,t,e,i,r,s){let o=[];const c=hH(e);let u=Number.POSITIVE_INFINITY;function f(p,y,b){const _=p.inRange(t.x,t.y,r);if(i&&!_)return;const E=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(E))&&!_)return;const C=c(t,E);C<u?(o=[{element:p,datasetIndex:y,index:b}],u=C):C===u&&o.push({element:p,datasetIndex:y,index:b})}return V1(n,e,t,f),o}function Kv(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?fH(n,t,e,r):dH(n,t,e,i,r,s)}function Px(n,t,e,i,r){const s=[],o=e==="x"?"inXRange":"inYRange";let c=!1;return V1(n,e,t,(u,f,p)=>{u[o]&&u[o](t[e],r)&&(s.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(t.x,t.y,r))}),i&&!c?[]:s}var pH={modes:{index(n,t,e,i){const r=Th(t,n),s=e.axis||"x",o=e.includeInvisible||!1,c=e.intersect?Yv(n,r,s,i,o):Kv(n,r,s,!1,i,o),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&u.push({element:y,datasetIndex:f.index,index:p})}),u):[]},dataset(n,t,e,i){const r=Th(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let c=e.intersect?Yv(n,r,s,i,o):Kv(n,r,s,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point(n,t,e,i){const r=Th(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Yv(n,r,s,i,o)},nearest(n,t,e,i){const r=Th(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return Kv(n,r,s,e.intersect,i,o)},x(n,t,e,i){const r=Th(t,n);return Px(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Th(t,n);return Px(n,r,"y",e.intersect,i)}}};const L6=["left","top","right","bottom"];function lp(n,t){return n.filter(e=>e.pos===t)}function kx(n,t){return n.filter(e=>L6.indexOf(e.pos)===-1&&e.box.axis===t)}function cp(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function gH(n){const t=[];let e,i,r,s,o,c;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:o,stackWeight:c=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return t}function mH(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!L6.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function yH(n,t){const e=mH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:u}=c.box,f=e[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:u&&t.availableWidth,c.height=r):(c.width=i,c.height=p?p*r:u&&t.availableHeight)}return e}function vH(n){const t=gH(n),e=cp(t.filter(f=>f.box.fullSize),!0),i=cp(lp(t,"left"),!0),r=cp(lp(t,"right")),s=cp(lp(t,"top"),!0),o=cp(lp(t,"bottom")),c=kx(t,"x"),u=kx(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:lp(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function Dx(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function P6(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function _H(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!fn(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?s.height:s.width),e.size=y.size/y.count,n[r]+=e.size}s.getPadding&&P6(o,s.getPadding());const c=Math.max(0,t.outerWidth-Dx(o,n,"left","right")),u=Math.max(0,t.outerHeight-Dx(o,n,"top","bottom")),f=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,e.horizontal?{same:f,other:p}:{same:p,other:f}}function bH(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function wH(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return i(n?["left","right"]:["top","bottom"])}function _p(n,t,e,i){const r=[];let s,o,c,u,f,p;for(s=0,o=n.length,f=0;s<o;++s){c=n[s],u=c.box,u.update(c.width||t.w,c.height||t.h,wH(c.horizontal,t));const{same:y,other:b}=_H(t,e,c,i);f|=y&&r.length,p=p||b,u.fullSize||r.push(c)}return f&&_p(r,t,e,i)||p}function zm(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Mx(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const c of n){const u=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,b=f.size||u.height;eg(f.start)&&(o=f.start),u.fullSize?zm(u,r.left,o,e.outerWidth-r.right-r.left,b):zm(u,t.left+f.placed,o,y,b),f.start=o,f.placed+=y,o=u.bottom}else{const y=t.h*p,b=f.size||u.width;eg(f.start)&&(s=f.start),u.fullSize?zm(u,s,r.top,b,e.outerHeight-r.bottom-r.top):zm(u,s,t.top+f.placed,b,y),f.start=s,f.placed+=y,s=u.right}}t.x=s,t.y=o}var Ya={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Qa(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),c=vH(n.boxes),u=c.vertical,f=c.horizontal;Un(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const p=u.reduce((N,C)=>C.box.options&&C.box.options.display===!1?N:N+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),b=Object.assign({},r);P6(b,Qa(i));const _=Object.assign({maxPadding:b,w:s,h:o,x:r.left,y:r.top},r),E=yH(u.concat(f),y);_p(c.fullSize,_,y,E),_p(u,_,y,E),_p(f,_,y,E)&&_p(u,_,y,E),bH(_),Mx(c.leftAndTop,_,y,E),_.x+=_.w,_.y+=_.h,Mx(c.rightAndBottom,_,y,E),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Un(c.chartArea,N=>{const C=N.box;Object.assign(C,n.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class k6{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class SH extends k6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const f0="$chartjs",AH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ox=n=>n===null||n==="";function TH(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[f0]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ox(r)){const s=_x(n,"width");s!==void 0&&(n.width=s)}if(Ox(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=_x(n,"height");s!==void 0&&(n.height=s)}return n}const D6=Eq?{passive:!0}:!1;function xH(n,t,e){n&&n.addEventListener(t,e,D6)}function EH(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,D6)}function NH(n,t){const e=AH[n.type]||n.type,{x:i,y:r}=Th(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Y0(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function IH(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||Y0(c.addedNodes,i),o=o&&!Y0(c.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function CH(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||Y0(c.removedNodes,i),o=o&&!Y0(c.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ag=new Map;let jx=0;function M6(){const n=window.devicePixelRatio;n!==jx&&(jx=n,ag.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function RH(n,t){ag.size||window.addEventListener("resize",M6),ag.set(n,t)}function LH(n){ag.delete(n),ag.size||window.removeEventListener("resize",M6)}function PH(n,t,e){const i=n.canvas,r=i&&t5(i);if(!r)return;const s=d6((c,u)=>{const f=r.clientWidth;e(c,u),f<r.clientWidth&&e()},window),o=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),RH(n,s),o}function Xv(n,t,e){e&&e.disconnect(),t==="resize"&&LH(n)}function kH(n,t,e){const i=n.canvas,r=d6(s=>{n.ctx!==null&&e(NH(s,n))},n);return xH(i,t,r),r}class DH extends k6{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(TH(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[f0])return!1;const i=e[f0].initial;["height","width"].forEach(s=>{const o=i[s];Dn(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[f0],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),o={attach:IH,detach:CH,resize:PH}[e]||kH;r[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Xv,detach:Xv,resize:Xv}[e]||EH)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return xq(t,e,i,r)}isAttached(t){const e=t&&t5(t);return!!(e&&e.isConnected)}}function MH(n){return!Zb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?SH:DH}class Mo{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ng(this.x)&&ng(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ye(Mo,"defaults",{}),ye(Mo,"defaultRoutes");function OH(n,t){const e=n.options.ticks,i=jH(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?VH(t):[],o=s.length,c=s[0],u=s[o-1],f=[];if(o>r)return BH(t,f,s,o/r),f;const p=FH(s,t,r);if(o>0){let y,b;const _=o>1?Math.round((u-c)/(o-1)):null;for(qm(t,f,p,Dn(_)?0:c-_,c),y=0,b=o-1;y<b;y++)qm(t,f,p,s[y],s[y+1]);return qm(t,f,p,u,Dn(_)?t.length:u+_),f}return qm(t,f,p),f}function jH(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function FH(n,t,e){const i=UH(n),r=t.length/e;if(!i)return Math.max(r,1);const s=Tz(i);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function VH(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function BH(n,t,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}function qm(n,t,e,i,r){const s=Qe(i,0),o=Math.min(Qe(r,n.length),n.length);let c=0,u,f,p;for(e=Math.ceil(e),r&&(u=r-i,e=u/Math.floor(u/e)),p=s;p<0;)c++,p=Math.round(s+c*e);for(f=Math.max(s,0);f<o;f++)f===p&&(t.push(n[f]),c++,p=Math.round(s+c*e))}function UH(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const zH=n=>n==="left"?"right":n==="right"?"left":n,Fx=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Vx=(n,t)=>Math.min(t||n,n);function Bx(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function qH(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(u-s,o-u):t===0?f=(n.getPixelForTick(1)-u)/2:f=(u-n.getPixelForTick(r-1))/2,u+=r<t?f:-f,u<s-c||u>o+c)))return u}function HH(n,t){Un(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function up(n){return n.drawTicks?n.tickLength:0}function Ux(n,t){if(!n.display)return 0;const e=hs(n.font,t),i=Qa(n.padding);return(nr(n.text)?n.text.length:1)*e.lineHeight+i.height}function GH(n,t){return Xh(n,{scale:t,type:"scale"})}function WH(n,t,e){return Xh(n,{tick:e,index:t,type:"tick"})}function $H(n,t,e){let i=Wb(n);return(e&&t!=="right"||!e&&t==="right")&&(i=zH(i)),i}function YH(n,t,e,i){const{top:r,left:s,bottom:o,right:c,chart:u}=n,{chartArea:f,scales:p}=u;let y=0,b,_,E;const N=o-r,C=c-s;if(n.isHorizontal()){if(_=ss(i,s,c),fn(e)){const I=Object.keys(e)[0],M=e[I];E=p[I].getPixelForValue(M)+N-t}else e==="center"?E=(f.bottom+f.top)/2+N-t:E=Fx(n,e,t);b=c-s}else{if(fn(e)){const I=Object.keys(e)[0],M=e[I];_=p[I].getPixelForValue(M)-C+t}else e==="center"?_=(f.left+f.right)/2-C+t:_=Fx(n,e,t);E=ss(i,o,r),y=e==="left"?-hr:hr}return{titleX:_,titleY:E,maxWidth:b,rotation:y}}class yd extends Mo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=gl(t,Number.POSITIVE_INFINITY),e=gl(e,Number.NEGATIVE_INFINITY),i=gl(i,Number.POSITIVE_INFINITY),r=gl(r,Number.NEGATIVE_INFINITY),{min:gl(t,i),max:gl(e,r),minDefined:gs(t),maxDefined:gs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)o=c[u].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:gl(e,gl(i,e)),max:gl(i,gl(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){si(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iq(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Bx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=OH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){si(this.options.afterUpdate,[this])}beforeSetDimensions(){si(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){si(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),si(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){si(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=si(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){si(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){si(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Vx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let o=r,c,u,f;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,b=p.highest.height,_=us(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:_/(i-1),y+6>c&&(c=_/(i-(t.offset?.5:1)),u=this.maxHeight-up(t.grid)-e.padding-Ux(t.title,this.chart.options.font),f=Math.sqrt(y*y+b*b),o=Iz(Math.min(Math.asin(us((p.highest.height+6)/c,-1,1)),Math.asin(us(u/f,-1,1))-Math.asin(us(b/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){si(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){si(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=Ux(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=up(s)+u):(t.height=this.maxHeight,t.width=up(s)+u),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:b}=this._getLabelSizes(),_=i.padding*2,E=_c(this.labelRotation),N=Math.cos(E),C=Math.sin(E);if(c){const I=i.mirror?0:C*y.width+N*b.height;t.height=Math.min(this.maxHeight,t.height+I+_)}else{const I=i.mirror?0:N*y.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+I+_)}this._calculatePadding(f,p,C,N)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;u?f?(b=r*t.width,_=i*e.height):(b=i*t.height,_=r*e.width):s==="start"?_=e.width:s==="end"?b=t.width:s!=="inner"&&(b=t.width/2,_=e.width/2),this.paddingLeft=Math.max((b-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+o)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;s==="start"?(p=0,y=t.height):s==="end"&&(p=e.height,y=0),this.paddingTop=p+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){si(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Dn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Bx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(e/Vx(e,i));let f=0,p=0,y,b,_,E,N,C,I,M,$,nt,et;for(y=0;y<e;y+=u){if(E=t[y].label,N=this._resolveTickFontOptions(y),r.font=C=N.string,I=s[C]=s[C]||{data:{},gc:[]},M=N.lineHeight,$=nt=0,!Dn(E)&&!nr(E))$=px(r,I.data,I.gc,$,E),nt=M;else if(nr(E))for(b=0,_=E.length;b<_;++b)et=E[b],!Dn(et)&&!nr(et)&&($=px(r,I.data,I.gc,$,et),nt+=M);o.push($),c.push(nt),f=Math.max($,f),p=Math.max(nt,p)}HH(s,e);const pt=o.indexOf(f),q=c.indexOf(p),P=F=>({width:o[F]||0,height:c[F]||0});return{first:P(0),last:P(e-1),widest:P(pt),highest:P(q),widths:o,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Rz(this._alignToPixels?bh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=WH(this.getContext(),t,i))}return this.$context||(this.$context=GH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=_c(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,f=this.isHorizontal(),y=this.ticks.length+(u?1:0),b=up(s),_=[],E=c.setContext(this.getContext()),N=E.display?E.width:0,C=N/2,I=function(it){return bh(i,it,N)};let M,$,nt,et,pt,q,P,F,z,L,D,j;if(o==="top")M=I(this.bottom),q=this.bottom-b,F=M-C,L=I(t.top)+C,j=t.bottom;else if(o==="bottom")M=I(this.top),L=t.top,j=I(t.bottom)-C,q=M+C,F=this.top+b;else if(o==="left")M=I(this.right),pt=this.right-b,P=M-C,z=I(t.left)+C,D=t.right;else if(o==="right")M=I(this.left),z=t.left,D=I(t.right)-C,pt=M+C,P=this.left+b;else if(e==="x"){if(o==="center")M=I((t.top+t.bottom)/2+.5);else if(fn(o)){const it=Object.keys(o)[0],ht=o[it];M=I(this.chart.scales[it].getPixelForValue(ht))}L=t.top,j=t.bottom,q=M+C,F=q+b}else if(e==="y"){if(o==="center")M=I((t.left+t.right)/2);else if(fn(o)){const it=Object.keys(o)[0],ht=o[it];M=I(this.chart.scales[it].getPixelForValue(ht))}pt=M-C,P=pt-b,z=t.left,D=t.right}const ot=Qe(r.ticks.maxTicksLimit,y),wt=Math.max(1,Math.ceil(y/ot));for($=0;$<y;$+=wt){const it=this.getContext($),ht=s.setContext(it),ft=c.setContext(it),xt=ht.lineWidth,J=ht.color,At=ft.dash||[],V=ft.dashOffset,Y=ht.tickWidth,tt=ht.tickColor,at=ht.tickBorderDash||[],ct=ht.tickBorderDashOffset;nt=qH(this,$,u),nt!==void 0&&(et=bh(i,nt,xt),f?pt=P=z=D=et:q=F=L=j=et,_.push({tx1:pt,ty1:q,tx2:P,ty2:F,x1:z,y1:L,x2:D,y2:j,width:xt,color:J,borderDash:At,borderDashOffset:V,tickWidth:Y,tickColor:tt,tickBorderDash:at,tickBorderDashOffset:ct}))}return this._ticksLength=y,this._borderValue=M,_}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:y}=s,b=up(i.grid),_=b+p,E=y?-p:_,N=-_c(this.labelRotation),C=[];let I,M,$,nt,et,pt,q,P,F,z,L,D,j="middle";if(r==="top")pt=this.bottom-E,q=this._getXAxisLabelAlignment();else if(r==="bottom")pt=this.top+E,q=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(b);q=wt.textAlign,et=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(b);q=wt.textAlign,et=wt.x}else if(e==="x"){if(r==="center")pt=(t.top+t.bottom)/2+_;else if(fn(r)){const wt=Object.keys(r)[0],it=r[wt];pt=this.chart.scales[wt].getPixelForValue(it)+_}q=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")et=(t.left+t.right)/2-_;else if(fn(r)){const wt=Object.keys(r)[0],it=r[wt];et=this.chart.scales[wt].getPixelForValue(it)}q=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(u==="start"?j="top":u==="end"&&(j="bottom"));const ot=this._getLabelSizes();for(I=0,M=c.length;I<M;++I){$=c[I],nt=$.label;const wt=s.setContext(this.getContext(I));P=this.getPixelForTick(I)+s.labelOffset,F=this._resolveTickFontOptions(I),z=F.lineHeight,L=nr(nt)?nt.length:1;const it=L/2,ht=wt.color,ft=wt.textStrokeColor,xt=wt.textStrokeWidth;let J=q;o?(et=P,q==="inner"&&(I===M-1?J=this.options.reverse?"left":"right":I===0?J=this.options.reverse?"right":"left":J="center"),r==="top"?f==="near"||N!==0?D=-L*z+z/2:f==="center"?D=-ot.highest.height/2-it*z+z:D=-ot.highest.height+z/2:f==="near"||N!==0?D=z/2:f==="center"?D=ot.highest.height/2-it*z:D=ot.highest.height-L*z,y&&(D*=-1),N!==0&&!wt.showLabelBackdrop&&(et+=z/2*Math.sin(N))):(pt=P,D=(1-L)*z/2);let At;if(wt.showLabelBackdrop){const V=Qa(wt.backdropPadding),Y=ot.heights[I],tt=ot.widths[I];let at=D-V.top,ct=0-V.left;switch(j){case"middle":at-=Y/2;break;case"bottom":at-=Y;break}switch(q){case"center":ct-=tt/2;break;case"right":ct-=tt;break;case"inner":I===M-1?ct-=tt:I>0&&(ct-=tt/2);break}At={left:ct,top:at,width:tt+V.width,height:Y+V.height,color:wt.backdropColor}}C.push({label:nt,font:F,textOffset:D,options:{rotation:N,color:ht,strokeColor:ft,strokeWidth:xt,textAlign:J,textBaseline:j,translation:[et,pt],backdrop:At}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_c(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=t+s,u=o.widest.width;let f,p;return e==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const c=(u,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const u=r[s];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,y,b;this.isHorizontal()?(f=bh(t,this.left,o)-o/2,p=bh(t,this.right,c)+c/2,y=b=u):(y=bh(t,this.top,o)-o/2,b=bh(t,this.bottom,c)+c/2,f=p=u),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&O1(i,r);const s=this.getLabelItems(t);for(const o of s){const c=o.options,u=o.font,f=o.label,p=o.textOffset;sg(i,f,0,p,u,c)}r&&j1(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=hs(i.font),o=Qa(i.padding),c=i.align;let u=s.lineHeight/2;e==="bottom"||e==="center"||fn(e)?(u+=o.bottom,nr(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:p,maxWidth:y,rotation:b}=YH(this,u,e,c);sg(t,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:b,textAlign:$H(c,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qe(t.grid&&t.grid.z,-1),r=Qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yd.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const c=e[s];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hs(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hm{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;QH(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,KH(t,o,i),this.override&&$i.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in $i[r]&&(delete $i[r][i],this.override&&delete qh[i])}}function KH(n,t,e){const i=tg(Object.create(null),[e?$i.get(e):{},$i.get(t),n.defaults]);$i.set(t,i),n.defaultRoutes&&XH(t,n.defaultRoutes),n.descriptors&&$i.describe(t,n.descriptors)}function XH(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),c=o.pop(),u=o.join(".");$i.route(s,r,u,c)})}function QH(n){return"id"in n&&"defaults"in n}class JH{constructor(){this.controllers=new Hm(Mh,"datasets",!0),this.elements=new Hm(Mo,"elements"),this.plugins=new Hm(Object,"plugins"),this.scales=new Hm(yd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Un(r,o=>{const c=i||this._getRegistryForType(o);this._exec(t,c,o)})})}_exec(t,e,i){const r=Hb(t);si(i["before"+r],[],i),e[t](i),si(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var vl=new JH;class ZH{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin,c=o[i],u=[e,r,s.options];if(si(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Dn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qe(i.options&&i.options.plugins,{}),s=tG(i);return r===!1&&!e?[]:nG(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function tG(n){const t={},e=[],i=Object.keys(vl.plugins.items);for(let s=0;s<i.length;s++)e.push(vl.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function eG(n,t){return!t&&n===!1?null:n===!0?{}:n}function nG(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const c of t){const u=c.id,f=eG(i[u],r);f!==null&&s.push({plugin:c,options:iG(n.config,{plugin:c,local:e[u]},f,o)})}return s}function iG(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function n_(n,t){const e=$i.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function rG(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function sG(n,t){return n===t?"_index_":"_value_"}function zx(n){if(n==="x"||n==="y"||n==="r")return n}function aG(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function i_(n,...t){if(zx(n))return n;for(const e of t){const i=e.axis||aG(e.position)||n.length>1&&zx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function qx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function oG(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return qx(n,"x",e[0])||qx(n,"y",e[0])}return{}}function lG(n,t){const e=qh[n.type]||{scales:{}},i=t.scales||{},r=n_(n.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!fn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=i_(o,c,oG(o,n),$i.scales[c.type]),f=sG(u,r),p=e.scales||{};s[o]=Mp(Object.create(null),[{axis:u},c,p[u],p[f]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,u=o.indexAxis||n_(c,t),p=(qh[c]||{}).scales||{};Object.keys(p).forEach(y=>{const b=rG(y,u),_=o[b+"AxisID"]||b;s[_]=s[_]||Object.create(null),Mp(s[_],[{axis:b},i[_],p[y]])})}),Object.keys(s).forEach(o=>{const c=s[o];Mp(c,[$i.scales[c.type],$i.scale])}),s}function O6(n){const t=n.options||(n.options={});t.plugins=Qe(t.plugins,{}),t.scales=lG(n,t)}function j6(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function cG(n){return n=n||{},n.data=j6(n.data),O6(n),n}const Hx=new Map,F6=new Set;function Gm(n,t){let e=Hx.get(n);return e||(e=t(),Hx.set(n,e),F6.add(e)),e}const hp=(n,t,e)=>{const i=zh(t,e);i!==void 0&&n.add(i)};class uG{constructor(t){this._config=cG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=j6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),O6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gm(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Gm(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Gm(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Gm(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),c=o.get(e);if(c)return c;const u=new Set;e.forEach(p=>{t&&(u.add(t),p.forEach(y=>hp(u,t,y))),p.forEach(y=>hp(u,r,y)),p.forEach(y=>hp(u,qh[s]||{},y)),p.forEach(y=>hp(u,$i,y)),p.forEach(y=>hp(u,Z2,y))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),F6.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,qh[e]||{},$i.datasets[e]||{},{type:e},$i,Z2]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=Gx(this._resolverCache,t,r);let u=o;if(fG(o,e)){s.$shared=!1,i=$u(i)?i():i;const f=this.createResolver(t,i,c);u=ld(o,i,f)}for(const f of e)s[f]=u[f];return s}createResolver(t,e,i=[""],r){const{resolver:s}=Gx(this._resolverCache,t,i);return fn(e)?ld(s,e,void 0,r):s}}function Gx(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:Xb(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const hG=n=>fn(n)&&Object.getOwnPropertyNames(n).some(t=>$u(n[t]));function fG(n,t){const{isScriptable:e,isIndexable:i}=y6(n);for(const r of t){const s=e(r),o=i(r),c=(o||s)&&n[r];if(s&&($u(c)||hG(c))||o&&nr(c))return!0}return!1}var dG="4.5.0";const pG=["top","bottom","left","right","chartArea"];function Wx(n,t){return n==="top"||n==="bottom"||pG.indexOf(n)===-1&&t==="x"}function $x(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Yx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),si(e&&e.onComplete,[n],t)}function gG(n){const t=n.chart,e=t.options.animation;si(e&&e.onProgress,[n],t)}function V6(n){return Zb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const d0={},Kx=n=>{const t=V6(n);return Object.values(d0).filter(e=>e.canvas===t).pop()};function mG(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}function yG(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var _u;let B1=(_u=class{static register(...t){vl.add(...t),Xx()}static unregister(...t){vl.remove(...t),Xx()}constructor(t,e){const i=this.config=new uG(e),r=V6(t),s=Kx(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||MH(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;if(this.id=gz(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ZH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Dz(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],d0[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}hc.listen(this,"complete",Yx),hc.listen(this,"progress",gG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Dn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gx(this.canvas,this.ctx),this}stop(){return hc.stop(this),this}resize(t,e){hc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vx(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),si(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Un(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const c=e[o],u=i_(o,c),f=u==="r",p=u==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Un(s,o=>{const c=o.options,u=c.id,f=i_(u,c),p=Qe(c.type,o.dtype);(c.position===void 0||Wx(c.position,f)!==Wx(o.dposition))&&(c.position=o.dposition),r[u]=!0;let y=null;if(u in i&&i[u].type===p)y=i[u];else{const b=vl.getScale(p);y=new b({id:u,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Un(r,(o,c)=>{o||delete i[c]}),Un(i,o=>{Ya.configure(this,o,o.options),Ya.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($x("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||n_(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=vl.getController(c),{datasetElementType:f,dataElementType:p}=$i.datasets[c];Object.assign(u,{dataElementType:vl.getElement(p),datasetElementType:f&&vl.getElement(f)}),o.controller=new u(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Un(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),b=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(b),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Un(s,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($x("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Un(this.scales,t=>{Ya.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!sx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const o=i==="_removeElements"?-s:s;mG(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!sx(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ya.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Un(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,$u(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hc.has(this)?this.attached&&!hc.running(this)&&hc.start(this):(this.draw(),Yx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=N6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&O1(e,r),t.controller.draw(),r&&j1(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return rg(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=pH.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Xh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);eg(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),hc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete d0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};Un(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},r=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},s=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():o()}unbindEvents(){Un(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Un(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,c,u;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){o=t[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!q0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(u,f)=>u.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),o=s(e,t),c=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,o=e,c=this._getActiveElements(t,r,i,o),u=wz(t),f=yG(t,this._lastEvent,i,u);i&&(this._lastEvent=null,si(s.onHover,[t,c,this],this),u&&si(s.onClick,[t,c,this],this));const p=!q0(c,r);return(p||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},ye(_u,"defaults",$i),ye(_u,"instances",d0),ye(_u,"overrides",qh),ye(_u,"registry",vl),ye(_u,"version",dG),ye(_u,"getChart",Kx),_u);function Xx(){return Un(B1.instances,n=>n._plugins.invalidate())}function vG(n,t,e){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=t,{borderWidth:f,borderJoinStyle:p}=u,y=Math.min(f/o,va(i-e));if(n.beginPath(),n.arc(r,s,o-f/2,i+y/2,e-y/2),c>0){const b=Math.min(f/c,va(i-e));n.arc(r,s,c+f/2,e-b/2,i+b/2,!0)}else{const b=Math.min(f/2,o*va(i-e));if(p==="round")n.arc(r,s,b,e-zn/2,i+zn/2,!0);else if(p==="bevel"){const _=2*b*b,E=-_*Math.cos(e+zn/2)+r,N=-_*Math.sin(e+zn/2)+s,C=_*Math.cos(i+zn/2)+r,I=_*Math.sin(i+zn/2)+s;n.lineTo(E,N),n.lineTo(C,I)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function _G(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=t;let f=r/c;n.beginPath(),n.arc(s,o,c,i-f,e+f),u>r?(f=r/u,n.arc(s,o,u,e+f,i-f,!0)):n.arc(s,o,r,e+hr,i-hr),n.closePath(),n.clip()}function bG(n){return Kb(n,["outerStart","outerEnd","innerStart","innerEnd"])}function wG(n,t,e,i){const r=bG(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),c=u=>{const f=(e-Math.min(s,u))*i/2;return us(u,0,Math.min(s,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:us(r.innerStart,0,o),innerEnd:us(r.innerEnd,0,o)}}function Rf(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function K0(n,t,e,i,r,s){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+e-f,0),b=p>0?p+i+e+f:0;let _=0;const E=r-u;if(i){const wt=p>0?p-i:0,it=y>0?y-i:0,ht=(wt+it)/2,ft=ht!==0?E*ht/(ht+i):E;_=(E-ft)/2}const N=Math.max(.001,E*y-e/zn)/y,C=(E-N)/2,I=u+C+_,M=r-C-_,{outerStart:$,outerEnd:nt,innerStart:et,innerEnd:pt}=wG(t,b,y,M-I),q=y-$,P=y-nt,F=I+$/q,z=M-nt/P,L=b+et,D=b+pt,j=I+et/L,ot=M-pt/D;if(n.beginPath(),s){const wt=(F+z)/2;if(n.arc(o,c,y,F,wt),n.arc(o,c,y,wt,z),nt>0){const xt=Rf(P,z,o,c);n.arc(xt.x,xt.y,nt,z,M+hr)}const it=Rf(D,M,o,c);if(n.lineTo(it.x,it.y),pt>0){const xt=Rf(D,ot,o,c);n.arc(xt.x,xt.y,pt,M+hr,ot+Math.PI)}const ht=(M-pt/b+(I+et/b))/2;if(n.arc(o,c,b,M-pt/b,ht,!0),n.arc(o,c,b,ht,I+et/b,!0),et>0){const xt=Rf(L,j,o,c);n.arc(xt.x,xt.y,et,j+Math.PI,I-hr)}const ft=Rf(q,I,o,c);if(n.lineTo(ft.x,ft.y),$>0){const xt=Rf(q,F,o,c);n.arc(xt.x,xt.y,$,I-hr,F)}}else{n.moveTo(o,c);const wt=Math.cos(F)*y+o,it=Math.sin(F)*y+c;n.lineTo(wt,it);const ht=Math.cos(z)*y+o,ft=Math.sin(z)*y+c;n.lineTo(ht,ft)}n.closePath()}function SG(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c}=t;let u=t.endAngle;if(s){K0(n,t,e,i,u,r);for(let f=0;f<s;++f)n.fill();isNaN(c)||(u=o+(c%bi||bi))}return K0(n,t,e,i,u,r),n.fill(),u}function AG(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:b,borderRadius:_}=u,E=u.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=b,E?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let N=t.endAngle;if(s){K0(n,t,e,i,N,r);for(let C=0;C<s;++C)n.stroke();isNaN(c)||(N=o+(c%bi||bi))}E&&_G(n,t,N),u.selfJoin&&N-o>=zn&&_===0&&p!=="miter"&&vG(n,t,N),s||(K0(n,t,e,i,N,r),n.stroke())}class bp extends Mo{constructor(e){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:c}=c6(s,{x:e,y:i}),{startAngle:u,endAngle:f,innerRadius:p,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,E=Qe(b,f-u),N=ig(o,u,f)&&u!==f,C=E>=bi||N,I=bc(c,p+_,y+_);return C&&I}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,y=(s+o)/2,b=(c+u+p+f)/2;return{x:i+Math.cos(y)*b,y:r+Math.sin(y)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>bi?Math.floor(r/bi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*s,Math.sin(u)*s);const f=1-Math.sin(Math.min(zn,r||0)),p=s*f;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,SG(e,this,p,o,c),AG(e,this,p,o,c),e.restore()}}ye(bp,"id","arc"),ye(bp,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(bp,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(bp,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function B6(n,t,e=t){n.lineCap=Qe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Qe(e.borderDash,t.borderDash)),n.lineDashOffset=Qe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Qe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Qe(e.borderWidth,t.borderWidth),n.strokeStyle=Qe(e.borderColor,t.borderColor)}function TG(n,t,e){n.lineTo(e.x,e.y)}function xG(n){return n.stepped?Yz:n.tension||n.cubicInterpolationMode==="monotone"?Kz:TG}function U6(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:c}=t,u=Math.max(r,o),f=Math.min(s,c),p=r<o&&s<o||r>c&&s>c;return{count:i,start:u,loop:t.loop,ilen:f<u&&!p?i+f-u:f-u}}function EG(n,t,e,i){const{points:r,options:s}=t,{count:o,start:c,loop:u,ilen:f}=U6(r,e,i),p=xG(s);let{move:y=!0,reverse:b}=i||{},_,E,N;for(_=0;_<=f;++_)E=r[(c+(b?f-_:_))%o],!E.skip&&(y?(n.moveTo(E.x,E.y),y=!1):p(n,N,E,b,s.stepped),N=E);return u&&(E=r[(c+(b?f:0))%o],p(n,N,E,b,s.stepped)),!!u}function NG(n,t,e,i){const r=t.points,{count:s,start:o,ilen:c}=U6(r,e,i),{move:u=!0,reverse:f}=i||{};let p=0,y=0,b,_,E,N,C,I;const M=nt=>(o+(f?c-nt:nt))%s,$=()=>{N!==C&&(n.lineTo(p,C),n.lineTo(p,N),n.lineTo(p,I))};for(u&&(_=r[M(0)],n.moveTo(_.x,_.y)),b=0;b<=c;++b){if(_=r[M(b)],_.skip)continue;const nt=_.x,et=_.y,pt=nt|0;pt===E?(et<N?N=et:et>C&&(C=et),p=(y*p+nt)/++y):($(),n.lineTo(nt,et),E=pt,y=0,N=C=et),I=et}$()}function r_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?NG:EG}function IG(n){return n.stepped?Nq:n.tension||n.cubicInterpolationMode==="monotone"?Iq:xh}function CG(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),B6(n,t.options),n.stroke(r)}function RG(n,t,e,i){const{segments:r,options:s}=t,o=r_(t);for(const c of r)B6(n,s,c.style),n.beginPath(),o(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const LG=typeof Path2D=="function";function PG(n,t,e,i){LG&&!t.options.segment?CG(n,t,e,i):RG(n,t,e,i)}class Iu extends Mo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;_q(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Dq(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,o=E6(this,{property:e,start:r,end:r});if(!o.length)return;const c=[],u=IG(i);let f,p;for(f=0,p=o.length;f<p;++f){const{start:y,end:b}=o[f],_=s[y],E=s[b];if(_===E){c.push(_);continue}const N=Math.abs((r-_[e])/(E[e]-_[e])),C=u(_,E,N,i.stepped);C[e]=t[e],c.push(C)}return c.length===1?c[0]:c}pathSegment(t,e,i){return r_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=r_(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const c of r)o&=s(t,this,c,{start:e,end:e+i-1});return!!o}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),PG(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(Iu,"id","line"),ye(Iu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(Iu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(Iu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Qx(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class p0 extends Mo{constructor(e){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return Qx(this,e,"x",i)}inYRange(e,i){return Qx(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!rg(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,t_(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ye(p0,"id","point"),ye(p0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(p0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function z6(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let c,u,f,p,y;return n.horizontal?(y=o/2,c=Math.min(e,r),u=Math.max(e,r),f=i-y,p=i+y):(y=s/2,c=e-y,u=e+y,f=Math.min(i,r),p=Math.max(i,r)),{left:c,top:f,right:u,bottom:p}}function Cu(n,t,e,i){return n?0:us(t,e,i)}function kG(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=m6(i);return{t:Cu(r.top,s.top,0,e),r:Cu(r.right,s.right,0,t),b:Cu(r.bottom,s.bottom,0,e),l:Cu(r.left,s.left,0,t)}}function DG(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Qf(r),o=Math.min(t,e),c=n.borderSkipped,u=i||fn(r);return{topLeft:Cu(!u||c.top||c.left,s.topLeft,0,o),topRight:Cu(!u||c.top||c.right,s.topRight,0,o),bottomLeft:Cu(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Cu(!u||c.bottom||c.right,s.bottomRight,0,o)}}function MG(n){const t=z6(n),e=t.right-t.left,i=t.bottom-t.top,r=kG(n,e/2,i/2),s=DG(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Qv(n,t,e,i){const r=t===null,s=e===null,c=n&&!(r&&s)&&z6(n,i);return c&&(r||bc(t,c.left,c.right))&&(s||bc(e,c.top,c.bottom))}function OG(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jG(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jv(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class g0 extends Mo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=MG(this),c=OG(o.radius)?W0:jG;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),c(t,Jv(o,e,s)),t.clip(),c(t,Jv(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Jv(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Qv(this,t,e,i)}inXRange(t,e){return Qv(this,t,null,e)}inYRange(t,e){return Qv(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ye(g0,"id","bar"),ye(g0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(g0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function FG(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const c of i){let{start:u,end:f}=c;f=U1(u,f,r);const p=s_(e,r[u],r[f],c.loop);if(!t.segments){o.push({source:c,target:p,start:r[u],end:r[f]});continue}const y=E6(t,p);for(const b of y){const _=s_(e,s[b.start],s[b.end],b.loop),E=x6(c,r,_);for(const N of E)o.push({source:N,target:b,start:{[e]:Jx(p,_,"start",Math.max)},end:{[e]:Jx(p,_,"end",Math.min)}})}}return o}function s_(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=va(r),s=va(s)),{property:n,start:r,end:s}}function VG(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:c})=>{c=U1(o,c,r);const u=r[o],f=r[c];i!==null?(s.push({x:u.x,y:i}),s.push({x:f.x,y:i})):e!==null&&(s.push({x:e,y:u.y}),s.push({x:e,y:f.y}))}),s}function U1(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Jx(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function q6(n,t){let e=[],i=!1;return nr(n)?(i=!0,e=n):e=VG(n,t),e.length?new Iu({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Zx(n){return n&&n.fill!==!1}function BG(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!gs(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function UG(n,t,e){const i=GG(n);if(fn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return gs(r)&&Math.floor(r)===r?zG(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zG(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function qG(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:fn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function HG(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:fn(n)?i=n.value:i=t.getBaseValue(),i}function GG(n){const t=n.options,e=t.fill;let i=Qe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WG(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,c=$G(t,e);c.push(q6({x:null,y:t.bottom},i));for(let u=0;u<s.length;u++){const f=s[u];for(let p=f.start;p<=f.end;p++)YG(r,o[p],c)}return new Iu({points:r,options:{}})}function $G(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function YG(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:c,point:u}=KG(s,t,"x");if(!(!u||o&&c)){if(o)i.unshift(u);else if(n.push(u),!c)break}}n.push(...i)}function KG(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let c=!1,u=!1;for(let f=0;f<s.length;f++){const p=s[f],y=o[p.start][e],b=o[p.end][e];if(bc(r,y,b)){c=r===y,u=r===b;break}}return{first:c,last:u,point:i}}class H6{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return e=e||{start:0,end:bi},t.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function XG(n){const{chart:t,fill:e,line:i}=n;if(gs(e))return QG(t,e);if(e==="stack")return WG(n);if(e==="shape")return!0;const r=JG(n);return r instanceof H6?r:q6(r,i)}function QG(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function JG(n){return(n.scale||{}).getPointPositionForValue?tW(n):ZG(n)}function ZG(n){const{scale:t={},fill:e}=n,i=qG(e,t);if(gs(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function tW(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=HG(e,t,s),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,s);return new H6({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)c.push(t.getPointPositionForValue(u,o));return c}function Zv(n,t,e){const i=XG(t),{chart:r,index:s,line:o,scale:c,axis:u}=t,f=o.options,p=f.fill,y=f.backgroundColor,{above:b=y,below:_=y}=p||{},E=r.getDatasetMeta(s),N=N6(r,E);i&&o.points.length&&(O1(n,e),eW(n,{line:o,target:i,above:b,below:_,area:e,scale:c,axis:u,clip:N}),j1(n))}function eW(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:c,clip:u}=t,f=e._loop?"angle":t.axis;n.save();let p=s;s!==r&&(f==="x"?(tE(n,i,o.top),t2(n,{line:e,target:i,color:r,scale:c,property:f,clip:u}),n.restore(),n.save(),tE(n,i,o.bottom)):f==="y"&&(eE(n,i,o.left),t2(n,{line:e,target:i,color:s,scale:c,property:f,clip:u}),n.restore(),n.save(),eE(n,i,o.right),p=r)),t2(n,{line:e,target:i,color:p,scale:c,property:f,clip:u}),n.restore()}function tE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],y=r[U1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function eE(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:u,end:f}=c,p=r[u],y=r[U1(u,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),o=!!t.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function t2(n,t){const{line:e,target:i,property:r,color:s,scale:o,clip:c}=t,u=FG(e,i,r);for(const{source:f,target:p,start:y,end:b}of u){const{style:{backgroundColor:_=s}={}}=f,E=i!==!0;n.save(),n.fillStyle=_,nW(n,o,c,E&&s_(r,y,b)),n.beginPath();const N=!!e.pathSegment(n,f);let C;if(E){N?n.closePath():nE(n,i,b,r);const I=!!i.pathSegment(n,p,{move:N,reverse:!0});C=N&&I,C||nE(n,i,y,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function nW(n,t,e,i){const r=t.chart.chartArea,{property:s,start:o,end:c}=i||{};if(s==="x"||s==="y"){let u,f,p,y;s==="x"?(u=o,f=r.top,p=c,y=r.bottom):(u=r.left,f=o,p=r.right,y=c),n.beginPath(),e&&(u=Math.max(u,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(u,f,p-u,y-f),n.clip()}}function nE(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var iW={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,c,u;for(o=0;o<i;++o)s=n.getDatasetMeta(o),c=s.dataset,u=null,c&&c.options&&c instanceof Iu&&(u={visible:n.isDatasetVisible(o),index:o,fill:UG(c,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=BG(r,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&Zv(n.ctx,c,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Zx(s)&&Zv(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Zx(i)||e.drawTime!=="beforeDatasetDraw"||Zv(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const iE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},rW=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class rE extends Mo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=si(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hs(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=iE(i,s);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,c,u)+10):(p=this.maxHeight,f=this._fitCols(o,r,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+c;let y=t;s.textAlign="left",s.textBaseline="middle";let b=-1,_=-p;return this.legendItems.forEach((E,N)=>{const C=i+e/2+s.measureText(E.text).width;(N===0||f[f.length-1]+C+2*c>o)&&(y+=p,f[f.length-(N>0?0:1)]=0,_+=p,b++),u[N]={left:0,top:_,row:b,width:C,height:r},f[f.length-1]+=C+c}),y}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-t;let y=c,b=0,_=0,E=0,N=0;return this.legendItems.forEach((C,I)=>{const{itemWidth:M,itemHeight:$}=sW(i,e,s,C,r);I>0&&_+$+2*c>p&&(y+=b+c,f.push({width:b,height:_}),E+=b+c,N++,b=_=0),u[I]={left:E,top:_,col:N,width:M,height:$},b=Math.max(b,M),_+=$+c}),y+=b,f.push({width:b,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Jf(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=ss(i,this.left+r,this.right-this.lineWidths[c]);for(const f of e)c!==f.row&&(c=f.row,u=ss(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+t+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let c=0,u=ss(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const f of e)f.col!==c&&(c=f.col,u=ss(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O1(t,this),this._draw(),j1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,c=$i.color,u=Jf(t.rtl,this.left,this.width),f=hs(o.font),{padding:p}=o,y=f.size,b=y/2;let _;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:E,boxHeight:N,itemHeight:C}=iE(o,y),I=function(pt,q,P){if(isNaN(E)||E<=0||isNaN(N)||N<0)return;r.save();const F=Qe(P.lineWidth,1);if(r.fillStyle=Qe(P.fillStyle,c),r.lineCap=Qe(P.lineCap,"butt"),r.lineDashOffset=Qe(P.lineDashOffset,0),r.lineJoin=Qe(P.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=Qe(P.strokeStyle,c),r.setLineDash(Qe(P.lineDash,[])),o.usePointStyle){const z={radius:N*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:F},L=u.xPlus(pt,E/2),D=q+b;g6(r,z,L,D,o.pointStyleWidth&&E)}else{const z=q+Math.max((y-N)/2,0),L=u.leftForLtr(pt,E),D=Qf(P.borderRadius);r.beginPath(),Object.values(D).some(j=>j!==0)?W0(r,{x:L,y:z,w:E,h:N,radius:D}):r.rect(L,z,E,N),r.fill(),F!==0&&r.stroke()}r.restore()},M=function(pt,q,P){sg(r,P.text,pt,q+C/2,f,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},$=this.isHorizontal(),nt=this._computeTitleHeight();$?_={x:ss(s,this.left+p,this.right-i[0]),y:this.top+p+nt,line:0}:_={x:this.left+p,y:ss(s,this.top+nt+p,this.bottom-e[0].height),line:0},S6(this.ctx,t.textDirection);const et=C+p;this.legendItems.forEach((pt,q)=>{r.strokeStyle=pt.fontColor,r.fillStyle=pt.fontColor;const P=r.measureText(pt.text).width,F=u.textAlign(pt.textAlign||(pt.textAlign=o.textAlign)),z=E+b+P;let L=_.x,D=_.y;u.setWidth(this.width),$?q>0&&L+z+p>this.right&&(D=_.y+=et,_.line++,L=_.x=ss(s,this.left+p,this.right-i[_.line])):q>0&&D+et>this.bottom&&(L=_.x=L+e[_.line].width+p,_.line++,D=_.y=ss(s,this.top+nt+p,this.bottom-e[_.line].height));const j=u.x(L);if(I(j,D,pt),L=Mz(F,L+E+b,$?L+z:this.right,t.rtl),M(u.x(L),D,pt),$)_.x+=z+p;else if(typeof pt.text!="string"){const ot=f.lineHeight;_.y+=G6(pt,ot)+p}else _.y+=et}),A6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hs(e.font),r=Qa(e.padding);if(!e.display)return;const s=Jf(t.rtl,this.left,this.width),o=this.ctx,c=e.position,u=i.size/2,f=r.top+u;let p,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+f,y=ss(t.align,y,this.right-b);else{const E=this.columnSizes.reduce((N,C)=>Math.max(N,C.height),0);p=f+ss(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const _=ss(c,y,y+b);o.textAlign=s.textAlign(Wb(c)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,sg(o,e.text,_,p,i)}_computeTitleHeight(){const t=this.options.title,e=hs(t.font),i=Qa(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(bc(t,this.left,this.right)&&bc(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],bc(t,r.left,r.left+r.width)&&bc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!lW(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=rW(r,i);r&&!s&&si(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&si(e.onHover,[t,i,this],this)}else i&&si(e.onClick,[t,i,this],this)}}function sW(n,t,e,i,r){const s=aW(i,n,t,e),o=oW(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function aW(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+i.measureText(r).width}function oW(n,t,e){let i=n;return typeof t.text!="string"&&(i=G6(t,e)),i}function G6(n,t){const e=n.text?n.text.length:0;return t*e}function lW(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var cW={id:"legend",_element:rE,start(n,t,e){const i=n.legend=new rE({ctx:n.ctx,options:e,chart:n});Ya.configure(n,i,e),Ya.addBox(n,i)},stop(n){Ya.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ya.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),p=Qa(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class W6 extends Mo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=nr(i.text)?i.text.length:1;this._padding=Qa(i.padding);const s=r*hs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,c=o.align;let u=0,f,p,y;return this.isHorizontal()?(p=ss(c,i,s),y=e+t,f=s-i):(o.position==="left"?(p=i+t,y=ss(c,r,e),u=zn*-.5):(p=s-t,y=ss(c,e,r),u=zn*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hs(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(s);sg(t,e.text,0,0,i,{color:e.color,maxWidth:u,rotation:f,textAlign:Wb(e.align),textBaseline:"middle",translation:[o,c]})}}function uW(n,t){const e=new W6({ctx:n.ctx,options:t,chart:n});Ya.configure(n,e,t),Ya.addBox(n,e),n.titleBlock=e}var hW={id:"title",_element:W6,start(n,t,e){uW(n,e)},stop(n){const t=n.titleBlock;Ya.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ya.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wp={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=J2(t,f);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,i=u.y}return{x:e,y:i}}};function yl(n,t){return t&&(nr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function fc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function fW(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function sE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=t,u=hs(t.bodyFont),f=hs(t.titleFont),p=hs(t.footerFont),y=s.length,b=r.length,_=i.length,E=Qa(t.padding);let N=E.height,C=0,I=i.reduce((nt,et)=>nt+et.before.length+et.lines.length+et.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,y&&(N+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),I){const nt=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;N+=_*nt+(I-_)*u.lineHeight+(I-1)*t.bodySpacing}b&&(N+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let M=0;const $=function(nt){C=Math.max(C,e.measureText(nt).width+M)};return e.save(),e.font=f.string,Un(n.title,$),e.font=u.string,Un(n.beforeBody.concat(n.afterBody),$),M=t.displayColors?o+2+t.boxPadding:0,Un(i,nt=>{Un(nt.before,$),Un(nt.lines,$),Un(nt.after,$)}),M=0,e.font=p.string,Un(n.footer,$),e.restore(),C+=E.width,{width:C,height:N}}function dW(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function pW(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&r+s+o>t.width||n==="right"&&r-s-o<0)return!0}function gW(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:c,right:u}}=n;let f="center";return i==="center"?f=r<=(c+u)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),pW(f,n,t,e)&&(f="center"),f}function aE(n,t,e){const i=e.yAlign||t.yAlign||dW(n,e);return{xAlign:e.xAlign||t.xAlign||gW(n,t,e,i),yAlign:i}}function mW(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function yW(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function oE(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:u}=e,f=r+s,{topLeft:p,topRight:y,bottomLeft:b,bottomRight:_}=Qf(o);let E=mW(t,c);const N=yW(t,u,f);return u==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(p,b)+r:c==="right"&&(E+=Math.max(y,_)+r),{x:us(E,0,i.width-t.width),y:us(N,0,i.height-t.height)}}function Wm(n,t,e){const i=Qa(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function lE(n){return yl([],fc(n))}function vW(n,t,e){return Xh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function cE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const $6={beforeTitle:uc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:uc,beforeBody:uc,beforeLabel:uc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Dn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:uc,afterBody:uc,beforeFooter:uc,footer:uc,afterFooter:uc};function zs(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?$6[t].call(e,i):r}class a_ extends Mo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new I6(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=vW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=zs(i,"beforeTitle",this,t),s=zs(i,"title",this,t),o=zs(i,"afterTitle",this,t);let c=[];return c=yl(c,fc(r)),c=yl(c,fc(s)),c=yl(c,fc(o)),c}getBeforeBody(t,e){return lE(zs(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Un(t,s=>{const o={before:[],lines:[],after:[]},c=cE(i,s);yl(o.before,fc(zs(c,"beforeLabel",this,s))),yl(o.lines,zs(c,"label",this,s)),yl(o.after,fc(zs(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,e){return lE(zs(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=zs(i,"beforeFooter",this,t),s=zs(i,"footer",this,t),o=zs(i,"afterFooter",this,t);let c=[];return c=yl(c,fc(r)),c=yl(c,fc(s)),c=yl(c,fc(o)),c}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],u,f;for(u=0,f=e.length;u<f;++u)c.push(fW(this.chart,e[u]));return t.filter&&(c=c.filter((p,y,b)=>t.filter(p,y,b,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Un(c,p=>{const y=cE(t.callbacks,p);r.push(zs(y,"labelColor",this,p)),s.push(zs(y,"labelPointStyle",this,p)),o.push(zs(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=wp[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=sE(this,i),f=Object.assign({},c,u),p=aE(this.chart,i,f),y=oE(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:y}=Qf(c),{x:b,y:_}=t,{width:E,height:N}=e;let C,I,M,$,nt,et;return s==="center"?(nt=_+N/2,r==="left"?(C=b,I=C-o,$=nt+o,et=nt-o):(C=b+E,I=C+o,$=nt-o,et=nt+o),M=C):(r==="left"?I=b+Math.max(u,p)+o:r==="right"?I=b+E-Math.max(f,y)-o:I=this.caretX,s==="top"?($=_,nt=$-o,C=I-o,M=I+o):($=_+N,nt=$+o,C=I+o,M=I-o),et=$),{x1:C,x2:I,x3:M,y1:$,y2:nt,y3:et}}drawTitle(t,e,i){const r=this.title,s=r.length;let o,c,u;if(s){const f=Jf(i.rtl,this.x,this.width);for(t.x=Wm(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",o=hs(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,u=0;u<s;++u)e.fillText(r[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+c,u+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=s,p=hs(s.bodyFont),y=Wm(this,"left",s),b=r.x(y),_=u<p.lineHeight?(p.lineHeight-u)/2:0,E=e.y+_;if(s.usePointStyle){const N={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=r.leftForLtr(b,f)+f/2,I=E+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,t_(t,N,C,I),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,t_(t,N,C,I)}else{t.lineWidth=fn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const N=r.leftForLtr(b,f),C=r.leftForLtr(r.xPlus(b,1),f-2),I=Qf(o.borderRadius);Object.values(I).some(M=>M!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,W0(t,{x:N,y:E,w:f,h:u,radius:I}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),W0(t,{x:C,y:E+1,w:f-2,h:u-2,radius:I}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(N,E,f,u),t.strokeRect(N,E,f,u),t.fillStyle=o.backgroundColor,t.fillRect(C,E+1,f-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=i,y=hs(i.bodyFont);let b=y.lineHeight,_=0;const E=Jf(i.rtl,this.x,this.width),N=function(P){e.fillText(P,E.x(t.x+_),t.y+b/2),t.y+=b+s},C=E.textAlign(o);let I,M,$,nt,et,pt,q;for(e.textAlign=o,e.textBaseline="middle",e.font=y.string,t.x=Wm(this,C,i),e.fillStyle=i.bodyColor,Un(this.beforeBody,N),_=c&&C!=="right"?o==="center"?f/2+p:f+2+p:0,nt=0,pt=r.length;nt<pt;++nt){for(I=r[nt],M=this.labelTextColors[nt],e.fillStyle=M,Un(I.before,N),$=I.lines,c&&$.length&&(this._drawColorBox(e,t,nt,E,i),b=Math.max(y.lineHeight,u)),et=0,q=$.length;et<q;++et)N($[et]),b=y.lineHeight;Un(I.after,N)}_=0,b=y.lineHeight,Un(this.afterBody,N),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let o,c;if(s){const u=Jf(i.rtl,this.x,this.width);for(t.x=Wm(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=u.textAlign(i.footerAlign),e.textBaseline="middle",o=hs(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,c=0;c<s;++c)e.fillText(r[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=t,{width:f,height:p}=i,{topLeft:y,topRight:b,bottomLeft:_,bottomRight:E}=Qf(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(c+y,u),o==="top"&&this.drawCaret(t,e,i,r),e.lineTo(c+f-b,u),e.quadraticCurveTo(c+f,u,c+f,u+b),o==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(c+f,u+p-E),e.quadraticCurveTo(c+f,u+p,c+f-E,u+p),o==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(c+_,u+p),e.quadraticCurveTo(c,u+p,c,u+p-_),o==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(c,u+y),e.quadraticCurveTo(c,u,c+y,u),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=wp[t.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=sE(this,t),u=Object.assign({},o,this._size),f=aE(e,t,u),p=oE(t,u,f,e);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Qa(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),S6(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),A6(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),s=!q0(i,r),o=this._positionChanged(r,e);(s||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,i),c=this._positionChanged(o,t),u=e||!q0(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,o=wp[s.position].call(this,t,e);return o!==!1&&(i!==o.x||r!==o.y)}}ye(a_,"positioners",wp);var _W={id:"tooltip",_element:a_,positioners:wp,afterInit(n,t,e){e&&(n.tooltip=new a_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const bW=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function wW(n,t,e,i){const r=n.indexOf(t);if(r===-1)return bW(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const SW=(n,t)=>n===null?null:us(Math.round(n),0,t);function uE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class o_ extends yd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Dn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:wW(i,t,Qe(e,t),this._addedLabels),SW(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return uE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ye(o_,"id","category"),ye(o_,"defaults",{ticks:{callback:uE}});function AW(n,t){const e=[],{bounds:r,step:s,min:o,max:c,precision:u,count:f,maxTicks:p,maxDigits:y,includeBounds:b}=n,_=s||1,E=p-1,{min:N,max:C}=t,I=!Dn(o),M=!Dn(c),$=!Dn(f),nt=(C-N)/(y+1);let et=ox((C-N)/E/_)*_,pt,q,P,F;if(et<1e-14&&!I&&!M)return[{value:N},{value:C}];F=Math.ceil(C/et)-Math.floor(N/et),F>E&&(et=ox(F*et/E/_)*_),Dn(u)||(pt=Math.pow(10,u),et=Math.ceil(et*pt)/pt),r==="ticks"?(q=Math.floor(N/et)*et,P=Math.ceil(C/et)*et):(q=N,P=C),I&&M&&s&&Ez((c-o)/s,et/1e3)?(F=Math.round(Math.min((c-o)/et,p)),et=(c-o)/F,q=o,P=c):$?(q=I?o:q,P=M?c:P,F=f-1,et=(P-q)/F):(F=(P-q)/et,Op(F,Math.round(F),et/1e3)?F=Math.round(F):F=Math.ceil(F));const z=Math.max(lx(et),lx(q));pt=Math.pow(10,Dn(u)?z:u),q=Math.round(q*pt)/pt,P=Math.round(P*pt)/pt;let L=0;for(I&&(b&&q!==o?(e.push({value:o}),q<o&&L++,Op(Math.round((q+L*et)*pt)/pt,o,hE(o,nt,n))&&L++):q<o&&L++);L<F;++L){const D=Math.round((q+L*et)*pt)/pt;if(M&&D>c)break;e.push({value:D})}return M&&b&&P!==c?e.length&&Op(e[e.length-1].value,c,hE(c,nt,n))?e[e.length-1].value=c:e.push({value:c}):(!M||P===c)&&e.push({value:P}),e}function hE(n,t,{horizontal:e,minRotation:i}){const r=_c(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class TW extends yd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Dn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=e?r:u,c=u=>s=i?s:u;if(t){const u=Nl(r),f=Nl(s);u<0&&f<0?c(0):u>0&&f>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),t||o(r-u)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=AW(r,s);return t.bounds==="ticks"&&Nz(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Yb(t,this.chart.options.locale,this.options.ticks.format)}}class l_ extends TW{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=gs(t)?t:0,this.max=gs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=_c(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ye(l_,"id","linear"),ye(l_,"defaults",{ticks:{callback:p6.formatters.numeric}});const z1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gs=Object.keys(z1);function fE(n,t){return n-t}function dE(n,t){if(Dn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),gs(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(ng(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function pE(n,t,e,i){const r=Gs.length;for(let s=Gs.indexOf(n);s<r-1;++s){const o=z1[Gs[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(c*o.size))<=i)return Gs[s]}return Gs[r-1]}function xW(n,t,e,i,r){for(let s=Gs.length-1;s>=Gs.indexOf(e);s--){const o=Gs[s];if(z1[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return Gs[e?Gs.indexOf(e):0]}function EW(n){for(let t=Gs.indexOf(n)+1,e=Gs.length;t<e;++t)if(z1[Gs[t]].common)return Gs[t]}function gE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Gb(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function NW(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,i))u=e[c],u>=0&&(t[u].major=!0);return t}function mE(n,t,e){const i=[],r={},s=t.length;let o,c;for(o=0;o<s;++o)c=t[o],r[c]=o,i.push({value:c,major:!1});return s===0||!e?i:NW(n,i,r,e)}class X0 extends yd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new cH._date(t.adapters.date);r.init(e),Mp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:dE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=gs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=gs(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=Pz(r,s,o);return this._unit=e.unit||(i.autoSkip?pE(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):xW(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:EW(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),mE(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=us(e,0,o),i=us(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||pE(s.minUnit,e,i,this._getLabelCapacity(e)),c=Qe(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,f=ng(u)||u===!0,p={};let y=e,b,_;if(f&&(y=+t.startOf(y,"isoWeek",u)),y=+t.startOf(y,f?"day":o),t.diff(i,e,o)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+o);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,_=0;b<i;b=+t.add(b,c,o),_++)gE(p,b,E);return(b===i||r.bounds==="ticks"||_===1)&&gE(p,b,E),Object.keys(p).sort(fE).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,o=e||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,r){const s=this.options,o=s.ticks.callback;if(o)return si(o,[t,e,i],this);const c=s.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&c[u],y=f&&c[f],b=i[e],_=f&&y&&b&&b.major;return this._adapter.format(t,r||(_?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=_c(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,mE(this,[t],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(dE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return h6(t.sort(fE))}}ye(X0,"id","time"),ye(X0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $m(n,t,e){let i=0,r=n.length-1,s,o,c,u;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Rh(n,"pos",t)),{pos:s,time:c}=n[i],{pos:o,time:u}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Rh(n,"time",t)),{time:s,pos:c}=n[i],{time:o,pos:u}=n[r]);const f=o-s;return f?c+(u-c)*(t-s)/f:c}class yE extends X0{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=$m(e,this.min),this._tableRange=$m(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,c,u,f,p;for(o=0,c=t.length;o<c;++o)f=t[o],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],u=r[o-1],f=r[o],Math.round((p+u)/2)!==f&&s.push({time:f,pos:o/(c-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return($m(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return $m(this._table,i*this._tableRange+this._minPos,!0)}}ye(yE,"id","timeseries"),ye(yE,"defaults",X0.defaults);const Y6="label";function vE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function IW(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function K6(n,t){n.labels=t}function X6(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y6;const i=[];n.datasets=t.map(r=>{const s=n.datasets.find(o=>o[e]===r[e]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function CW(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y6;const e={labels:[],datasets:[]};return K6(e,n.labels),X6(e,n.datasets,t),e}function RW(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:f=[],fallbackContent:p,updateMode:y,...b}=n,_=be.useRef(null),E=be.useRef(null),N=()=>{_.current&&(E.current=new B1(_.current,{type:o,data:CW(c,s),options:u&&{...u},plugins:f}),vE(t,E.current))},C=()=>{vE(t,null),E.current&&(E.current.destroy(),E.current=null)};return be.useEffect(()=>{!r&&E.current&&u&&IW(E.current,u)},[r,u]),be.useEffect(()=>{!r&&E.current&&K6(E.current.config.data,c.labels)},[r,c.labels]),be.useEffect(()=>{!r&&E.current&&c.datasets&&X6(E.current.config.data,c.datasets,s)},[r,c.datasets]),be.useEffect(()=>{E.current&&(r?(C(),setTimeout(N)):E.current.update(y))},[r,u,c.labels,c.datasets,y]),be.useEffect(()=>{E.current&&(C(),setTimeout(N))},[o]),be.useEffect(()=>(N(),()=>C()),[]),_E.createElement("canvas",{ref:_,role:"img",height:e,width:i,...b},p)}const LW=be.forwardRef(RW);function q1(n,t){return B1.register(t),be.forwardRef((e,i)=>_E.createElement(LW,{...e,ref:i,type:n}))}const PW=q1("line",h0),kW=q1("bar",u0),DW=q1("doughnut",Vf),MW=q1("pie",e_);B1.register(bp,_W,cW,o_,l_,g0,hW,p0,Iu,iW);const e2=be.forwardRef(({type:n,data:t,options:e},i)=>{switch(n){case"doughnut":return H.jsx(DW,{ref:i,data:t,options:e});case"bar":return H.jsx(kW,{ref:i,data:t,options:e});case"pie":return H.jsx(MW,{ref:i,data:t,options:e});case"line":return H.jsx(PW,{ref:i,data:t,options:e});default:return H.jsx("div",{children:"Tipo de grfico no vlido"})}});function OW({results:n,onClose:t}){const e=be.useRef(null),i=be.useRef(null),r=be.useRef(null);if(!n)return null;const{config:s,clientes:o,mariella:c}=n,u=jb(s.locale,s.moneda),f={labels:["Saldo Neto","Total Deducciones"],datasets:[{data:[c.saldoFinalNeto,c.totalDeducciones],backgroundColor:["#2ecc71","#e74c3c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:4}]},p=c.deducciones.reduce((M,$)=>{const nt=$.category||"Otros";return M[nt]=(M[nt]||0)+$.montoCalculado,M},{}),y={labels:Object.keys(p),datasets:[{data:Object.values(p),backgroundColor:["#e74c3c","#f39c12","#f1c40f","#3498db","#9b59b6","#1abc9c"],borderColor:[document.body.classList.contains("dark-mode")?"#2d3748":"#fff"],borderWidth:2}]},b=o.filter(M=>M.comidas>0),_={labels:b.map(M=>M.name),datasets:[{label:`Ingreso Bruto por Cliente (${s.moneda})`,data:b.map(M=>M.ingresoBrutoCliente),backgroundColor:"rgba(52, 152, 219, 0.7)"}]},E={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Distribucin Ingreso"}}},N={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Deducciones por Categora"}}},C={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Aporte por Cliente"}}},I=()=>{var $,nt,et;const M={doughnut:($=e.current)==null?void 0:$.toBase64Image(),pie:(nt=i.current)==null?void 0:nt.toBase64Image(),bar:(et=r.current)==null?void 0:et.toBase64Image()};WU(n,M)};return H.jsx("div",{className:"modal",style:{display:"flex"},children:H.jsxs("div",{className:"modal-content",children:[H.jsx("span",{className:"modal-close-button",onClick:t,children:""}),H.jsx("h3",{children:" Resultados de Liquidacin"}),H.jsxs("div",{className:"summary-cards",children:[H.jsxs("div",{className:"summary-card show",children:[H.jsxs("h3",{children:[" ",s.nombreMariella," (Neto)"]}),H.jsx("div",{className:"amount",children:u.format(c.saldoFinalNeto)})]}),H.jsxs("div",{className:"summary-card show",children:[H.jsx("h3",{children:" Total Bruto Clientes"}),H.jsx("div",{className:"amount",children:u.format(c.totalIngresoBruto)})]})]}),H.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px",height:"300px"},children:[H.jsx("div",{className:"chart-container",children:H.jsx(e2,{ref:e,type:"doughnut",data:f,options:E})}),H.jsx("div",{className:"chart-container",children:H.jsx(e2,{ref:i,type:"pie",data:y,options:N})})]}),H.jsx("div",{className:"chart-container",style:{height:"250px",marginTop:"20px"},children:H.jsx(e2,{ref:r,type:"bar",data:_,options:C})}),H.jsxs("div",{className:"detailed-results-container",children:[H.jsx("h3",{className:"section-title",children:" Detalle por Cliente"}),o.filter(M=>M.comidas>0).map(M=>H.jsxs("div",{className:"client-breakdown show",children:[H.jsxs("div",{className:"person-header",children:[" Cliente: ",M.name]}),H.jsxs("div",{className:"deduction-item",children:[H.jsx("span",{className:"label",children:"Comidas Facturadas:"}),H.jsx("span",{className:"value",children:M.comidas})]}),H.jsxs("div",{className:"deduction-item",children:[H.jsx("span",{className:"label",children:"Ingreso Bruto Generado:"}),H.jsx("span",{className:"value",children:u.format(M.ingresoBrutoCliente)})]})]},M.id))]}),H.jsxs("div",{className:"mariella-settlement-section",children:[H.jsxs("h3",{className:"section-title",children:[" Liquidacin Detallada: ",(s.nombreMariella||"").toUpperCase()]}),H.jsxs("div",{className:"person-deductions show",children:[H.jsxs("div",{className:"deduction-item",children:[H.jsx("span",{className:"label",children:"Total Ingreso Bruto:"}),H.jsx("span",{className:"value",children:u.format(c.totalIngresoBruto)})]}),c.deducciones.map((M,$)=>H.jsxs("div",{className:"deduction-item",children:[H.jsxs("span",{className:"label",children:["(-) ",M.name," (",M.displayValue,"):"]}),H.jsx("span",{className:"value",children:u.format(M.montoCalculado)})]},$)),H.jsxs("div",{className:"deduction-item",style:{borderTop:"2px solid var(--border-color)",marginTop:"5px",paddingTop:"5px"},children:[H.jsx("span",{className:"label",style:{fontWeight:"bold"},children:"(=) SALDO FINAL A RECIBIR:"}),H.jsx("span",{className:"value final-value",children:u.format(c.saldoFinalNeto)})]})]})]}),H.jsx("hr",{style:{margin:"20px 0"}}),H.jsx("button",{className:"main-button",onClick:I,children:" Descargar Reporte en PDF"})]})})}function jW({isOpen:n,onClose:t,settlementId:e,onUpdate:i}){const[r,s]=be.useState(null),[o,c]=be.useState(!1);if(!n)return null;const u=p=>{s(p.target.files[0])},f=()=>{if(!r){alert("Por favor, selecciona un archivo.");return}c(!0);const p=new FileReader;p.readAsDataURL(r),p.onload=async()=>{const y=p.result;await i(e,y),c(!1),t()},p.onerror=y=>{console.error("Error al leer el archivo:",y),alert("Error al procesar el archivo."),c(!1)}};return H.jsx("div",{className:"modal",style:{display:"flex"},children:H.jsxs("div",{className:"modal-content",children:[H.jsx("span",{className:"modal-close-button",onClick:t,children:""}),H.jsx("h3",{children:"Subir Comprobante de Pago"}),H.jsx("p",{children:'Para marcar esta liquidacin como "Pagada", adjunta el comprobante (PDF, JPG, PNG).'}),H.jsx("div",{className:"input-group",children:H.jsx("input",{type:"file",id:"receiptFileInput",accept:"application/pdf,image/jpeg,image/png",onChange:u})}),H.jsx("button",{className:"modal-confirm-btn confirm-upload",onClick:f,disabled:!r||o,children:o?"Subiendo...":"Subir y Marcar como Pagada"})]})})}function FW({user:n,onEmailVerified:t}){var u;const[e,i]=be.useState(!1),[r,s]=be.useState("");if(!n||n.emailVerified||n.isAnonymous||(u=n.providerData)!=null&&u.some(f=>f.providerId==="google.com"))return null;const o=async()=>{i(!0),s("");const f=await zV();s(f.message),i(!1),setTimeout(()=>s(""),5e3)},c=()=>{window.location.reload()};return H.jsx("div",{className:"email-verification-banner",children:H.jsxs("div",{className:"verification-content",children:[H.jsx("h4",{children:" Verificacin de Email Pendiente"}),H.jsxs("p",{children:["Hemos enviado un email de verificacin a ",H.jsx("strong",{children:n.email}),". Por favor revisa tu bandeja de entrada y spam."]}),H.jsxs("div",{className:"verification-actions",children:[H.jsx("button",{className:"resend-btn",onClick:o,disabled:e,children:e?"Enviando...":"Reenviar Email"}),H.jsx("button",{className:"refresh-btn",onClick:c,children:"Ya Verifiqu"})]}),r&&H.jsx("p",{className:`verification-message ${r.includes("Error")?"error":"success"}`,children:r})]})})}function VW(){return H.jsx(jV,{children:H.jsx(BW,{})})}function BW(){const{user:n,userProfile:t,loading:e}=R1(),[i,r]=be.useState("light"),[s,o]=be.useState(!1),[c,u]=be.useState(null),[f,p]=be.useState(!1),[y,b]=be.useState(null),_=()=>{const M=i==="light"?"dark":"light";r(M),In.temaChanged(M)};be.useEffect(()=>{document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add(`${i}-mode`)},[i]),be.useEffect(()=>{dV(),fV("Forestech App")},[]),be.useEffect(()=>{n&&t&&TV(n.uid).then(M=>{M.success&&console.log(" Notificaciones FCM inicializadas")}).catch(M=>console.warn(" FCM no disponible:",M))},[n,t]);const E=async()=>{In.logout(),await tk(Br)},N=M=>{b(M),p(!0)},C=()=>{b(null),p(!1)},I=async(M,$)=>{try{await IV(M,$)}catch(nt){console.error("Error al actualizar el pago:",nt),alert("Error al actualizar el pago.")}};return e?H.jsx(cB,{}):H.jsxs("div",{className:`container ${s||f?"modal-open":""}`,children:[H.jsx(FV,{isAuthenticated:!!n,onLogout:E,onToggleTheme:_,userProfile:t}),!n&&H.jsx(qV,{}),n&&H.jsxs(H.Fragment,{children:[H.jsx(FW,{user:n}),H.jsx(lB,{setResults:u,setIsModalOpen:o,onOpenPaymentModal:N})]}),s&&H.jsx(OW,{results:c,onClose:()=>o(!1)}),H.jsx(jW,{isOpen:f,onClose:C,settlementId:y,onUpdate:I})]})}hR.createRoot(document.getElementById("root")).render(H.jsx(be.StrictMode,{children:H.jsx(VW,{})}));export{qn as _,zW as c,eR as g};
